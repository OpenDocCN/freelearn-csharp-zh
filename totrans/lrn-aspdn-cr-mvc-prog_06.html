<html><head></head><body><div class="chapter" title="Chapter&#xA0;6.&#xA0;Validation">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h1 class="title"><a id="ch06"/>&#13;
 Chapter 6. Validation</h1>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>We can never rely on the data entered by users. Sometimes they might be ignorant about the application and thus they may be entering incorrect data unknowingly. At other times, some malign users may want to corrupt the application by entering inappropriate data into it. In either case, we need to validate the input data before storing the data for further processing.</p>&#13;
<p>In this chapter, you'll be learning about the following topics:</p>&#13;
<div class="itemizedlist">&#13;
<ul class="itemizedlist">&#13;
<li class="listitem">Different types of validation</li>&#13;
<li class="listitem">Server-side validation with an example</li>&#13;
<li class="listitem">Client-side validation with an example</li>&#13;
<li class="listitem">Unobtrusive JavaScript validation using jQuery unobtrusive libraries, where we don't have to write separate code for validation</li>&#13;
</ul>&#13;
</div>&#13;
<p>In an ideal case, users will enter valid data in a proper format in your application. But, as you might realize, the real world is not so ideal. Users will enter incorrect data in your application. As a developer, it is the responsibility of us to validate the user input in our application. If the entered input is not valid, you need to inform the user, saying what has gone wrong, so that the user can correct the input data and submit the form again.</p>&#13;
<p>Validation can be done on the client-side or the server-side or at both ends. If the validation is done before sending the data to the server, it is called client-side validation. For example, if the user does not enter any data in a mandatory field, we can validate (by finding the data that is not entered) the form, at the client-side itself. There is no need to send the form data to the server. JavaScript is the most commonly used language being used for client-side validation.</p>&#13;
<div class="mediaobject"><img src="Image00099.jpg" alt="Validation"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<p>If the validation is done at the server-side (sending the form data to the server), it is called server-side validation. For instance, you might want to validate data entered by the user against the data in the database. In this case, it is preferable to do server-side validation as we cannot have all the data in the database at the client-side.</p>&#13;
<div class="mediaobject"><img src="Image00100.jpg" alt="Validation"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<div class="section" title="Client-side and server-side validation">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h1 class="title"><a id="ch06lvl1sec43"/>&#13;
 Client-side and server-side validation</h1>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>In the real world, it's not a case of either server-side or client-side validation. We can have both types of validation at the same time. In fact, it is recommended to validate the data at both ends to avoid unnecessary processing.</p>&#13;
<div class="mediaobject"><img src="Image00101.jpg" alt="Client-side and server-side validation"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<p>The preceding figure shows the validation is being performed at both the client-side and the server-side. If the data is not entered into the required field, we can catch that issue at the client-side itself. There is no need to send the data to the server to finally find out that there is no data entered. Once all the required data is entered, the data is sent back to the server to validate the entered data based on some business logic. If the validation fails, the form data is sent again to the browser with the error message so that the user can send the data again.</p>&#13;
<p>We have covered enough theory about the need for validation and the types of validations typically used in the application. Let us get our hands dirty by adding validation to the application that we built in the previous chapter.</p>&#13;
<p>The following screenshot is the form that we have built in the previous chapter. There is nothing fancy in this form—just three fields. When a user enters the data in the form, the data is stored in the database and the entire employee information is fetched back and shown in a tabular format.</p>&#13;
<div class="mediaobject"><img src="Image00102.jpg" alt="Client-side and server-side validation"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<p>In the existing application that we have built, we do not show any message to the user even when the user does not enter any information in any of the fields and submits it. Instead, we silently store the default values for the fields (empty values for string types and 0.00 for decimal types) as shown in the following screenshot:</p>&#13;
<div class="mediaobject"><img src="Image00103.jpg" alt="Client-side and server-side validation"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<p>But this should not be the case. We should inform the user saying that the data entered is not valid and ask the user to correct the input data.</p>&#13;
</div>&#13;
</div>&#13;

<div class="section" title="Server-side validation">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h1 class="title"><a id="ch06lvl1sec44"/>&#13;
 Server-side validation</h1>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>Let us continue with the application that we built in the previous chapter. To do server-side validation, we need to do the following:</p>&#13;
<div class="orderedlist">&#13;
<ol class="orderedlist arabic">&#13;
<li class="listitem" value="1">Add Data Annotation attributes to the <code class="literal">ViewModels</code>&#13;
 model class. The input data is validated against this metadata and the model state is updated automatically.</li>&#13;
<li class="listitem" value="2">Update the <code class="literal">view</code>&#13;
 method to display the validation message for each of the fields. The <code class="literal">span</code>&#13;
 tag helper with the <code class="literal">asp-validation-for</code>&#13;
 attribute will be used to display the validation error message.</li>&#13;
<li class="listitem" value="3">Update the controller action method to verify the model state. If the model state is valid, we insert the data into the database. Otherwise, the View model is updated and the <code class="literal">view</code>&#13;
 method is rendered again with the validation error message so that the user can update with valid input data and submit the form again.</li>&#13;
</ol>&#13;
<div style="height:10px; width: 1px"/>&#13;
</div>&#13;
<div class="section" title="Updating View models with the Data Annotation attribute">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h2 class="title"><a id="ch06lvl2sec44"/>&#13;
 Updating View models with the Data Annotation attribute</h2>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>The Data Annotation attributes defines the validation rules for the properties of the <code class="literal">Model</code>&#13;
 /<code class="literal">ViewModel</code>&#13;
 . If the input data does not match with the attribute definition in the model, the validation will fail, which in turn makes the associated model state invalid.</p>&#13;
<p>There are several Data Annotation attributes available to validate the data. The following are the most commonly used Data Annotations attributes:</p>&#13;
<div class="itemizedlist">&#13;
<ul class="itemizedlist">&#13;
<li class="listitem">&#13;
<span class="strong">&#13;
<strong>Required</strong>&#13;
</span>&#13;
 : This attribute indicates the property is required.</li>&#13;
<li class="listitem">&#13;
<span class="strong">&#13;
<strong>Range</strong>&#13;
</span>&#13;
 : This attribute defines the minimum and maximum constraints.</li>&#13;
<li class="listitem">&#13;
<span class="strong">&#13;
<strong>MinLength</strong>&#13;
</span>&#13;
 : This defines the minimum length a property must have in order for the validation to succeed.</li>&#13;
<li class="listitem">&#13;
<span class="strong">&#13;
<strong>MaxLength</strong>&#13;
</span>&#13;
 : As the name implies, this attribute defines the maximum length of the property. If the length of the property value exceeds the maximum length, the validation would fail.</li>&#13;
<li class="listitem">&#13;
<span class="strong">&#13;
<strong>RegularExpression</strong>&#13;
</span>&#13;
 : We can use a regular expression for data validation if we use this attribute.</li>&#13;
</ul>&#13;
</div>&#13;
<p>As Data Annotation attributes are available in the <code class="literal">System.ComponentModel.DataAnnotations</code>&#13;
 namespace, we need to include this namespace. The following is the updated View model code:</p>&#13;
<pre class="programlisting">using System; 
using System.Collections.Generic; 
using System.ComponentModel.DataAnnotations; 
using System.Linq; 
using System.Threading.Tasks; 
using Validation.Models;

namespace Validation.ViewModels 
{ 
    public class EmployeeAddViewModel 
    { 
        public List&lt;Employee&gt; EmployeesList { get; set; } 
        [Required(ErrorMessage ="Employee Name is required")] 
        public string Name { get; set; } 

        [Required(ErrorMessage ="Employee Designation is required")] 
        [MinLength(5, ErrorMessage = "Minimum length of designation should be 5 characters")] 
        public string Designation { get; set; } 

        [Required] 
        [Range(1000,9999.99)] 
        public decimal Salary { get; set; } 
    } 
} 
</pre>&#13;
<p>We have added Data Annotation attributes for all the three properties—<code class="literal">Name</code>&#13;
 , <code class="literal">Designation</code>&#13;
 , and <code class="literal">Salary</code>&#13;
 .</p>&#13;
<p>The <code class="literal">ErrorMessage</code>&#13;
 attribute displays a message to be displayed when the validation fails. If there is a failure of validation and if there is no <code class="literal">ErrorMessage</code>&#13;
 mentioned, the default error message will be displayed.</p>&#13;
</div>&#13;
<div class="section" title="Updating the View model to display the validation error message">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h2 class="title"><a id="ch06lvl2sec45"/>&#13;
 Updating the View model to display the validation error message</h2>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>For each of the fields, we have added a <code class="literal">span</code>&#13;
 tag where the error message is displayed in a red color when the validation fails. When the validation succeeds, there will be no error message displayed. The attribute value of <code class="literal">asp-validation-for</code>&#13;
 represents the field name for which the validation error message has to be displayed. For example, we have used the <code class="literal">span</code>&#13;
 tag with the <code class="literal">asp-validation-for</code>&#13;
 attribute and with the value <code class="literal">Name</code>&#13;
 , which tells ASP.NET MVC to display the validation error message for the <code class="literal">Name</code>&#13;
 field:</p>&#13;
<pre class="programlisting">&lt;form asp-controller="Employee" asp-action="Index"&gt; 
        &lt;table&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Name"&gt;&lt;/label&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Name" /&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;span asp-validation-for="Name" style="color:red"&gt;&lt;/span&gt;&lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Designation"&gt;&lt;/label&gt; &lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Designation" /&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;span asp-validation-for="Designation" style="color:red"&gt;&lt;/span&gt; &lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Salary"&gt;&lt;/label&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Salary"&gt;&lt;/td&gt; 
                &lt;td&gt; &lt;span asp-validation-for="Salary" style="color:red"&gt;&lt;/span&gt; &lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td colspan="2"&gt;&lt;input type="submit" id="submitbutton" value="Submit" /&gt;&lt;/td&gt; 
            &lt;/tr&gt; 
        &lt;/table&gt; 
    &lt;/form&gt; 
</pre>&#13;
</div>&#13;
<div class="section" title="Updating the controller action method to verify the model state">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h2 class="title"><a id="ch06lvl2sec46"/>&#13;
 Updating the controller action method to verify the model state</h2>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>The model state is automatically updated based on the Data Annotation attribute specified on our View model and the input data. We are verifying whether the model state is valid in the following <code class="literal">Index</code>&#13;
 method, which is a <code class="literal">POST</code>&#13;
 action method. If the model state is valid (when the validation succeeds), we save the entered data to the database. If the validation fails, then the <code class="literal">ModelState</code>&#13;
 is set to <code class="literal">invalid</code>&#13;
 automatically. Then, we would populate the <code class="literal">ViewModel</code>&#13;
 with the entered data and render the <code class="literal">View</code>&#13;
 method again so that the user can correct the input data and re-submit the data:</p>&#13;
<pre class="programlisting">[HttpPost] 
    public IActionResult Index(EmployeeAddViewModel employeeAddViewModel) 
{ 
        if (ModelState.IsValid) 
        { 
            using (var db = new EmployeeDbContext()) 
            { 
                Employee newEmployee = new Employee 
                { 
                    Name = employeeAddViewModel.Name, 
                    Designation = employeeAddViewModel.Designation, 
                    Salary = employeeAddViewModel.Salary 
                }; 
                db.Employees.Add(newEmployee); 
                db.SaveChanges(); 
                //Redirect to get Index GET method 
                return RedirectToAction("Index"); 
            } 
        } 
        using (var db = new EmployeeDbContext()) 
        { 
            employeeAddViewModel.EmployeesList = db.Employees.ToList(); 
        } 
        return View(employeeAddViewModel); 
} 
</pre>&#13;
<p>When you run the application after making aforementioned changes and submit the form without entering the values, error messages will be displayed beside the fields as shown in the following screenshot. Please note that, even in the case of a validation error, we display the employees' data in the following table, which is achieved by using the code block in the previous code snippet.</p>&#13;
<div class="mediaobject"><img src="Image00104.jpg" alt="Updating the controller action method to verify the model state"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<p>There are a few things to be noted in the previous validation and its error message:</p>&#13;
<div class="itemizedlist">&#13;
<ul class="itemizedlist">&#13;
<li class="listitem">If the validation fails, error messages are displayed as expected.</li>&#13;
<li class="listitem">If there is more than one validation for a field, it will display one error message at a time. For example, we have a couple of validations for <span class="strong">&#13;
<strong>Designation</strong>&#13;
</span>&#13;
  field—the <code class="literal">Required</code>&#13;
 and <code class="literal">MinLength</code>&#13;
 attributes. If there is no data entered for the field, only the required field error message will be displayed. Only when the required field error is resolved (by entering some characters in the field), the second validation error message will be displayed.</li>&#13;
<li class="listitem">If no error message is available and if the validation fails, the default error message is displayed. We have not given any error message for the <span class="strong">&#13;
<strong>Salary</strong>&#13;
</span>&#13;
 field. So, when the validation fails for that field, ASP.NET MVC displays the default error message based on the field name and the type of validation failure.<div class="mediaobject"><img src="Image00105.jpg" alt="Updating the controller action method to verify the model state"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
</li>&#13;
</ul>&#13;
</div>&#13;
<p>The preceding figure depicts the high-level sequence of events in server-side validation and is described as follows:</p>&#13;
<div class="orderedlist">&#13;
<ol class="orderedlist arabic">&#13;
<li class="listitem" value="1">The user enters the invalid data.</li>&#13;
<li class="listitem" value="2">Based on the Data Annotations attribute in the View model, the model state is updated automatically. This happens during the model binding process where the data in the <code class="literal">view</code>&#13;
 method is mapped to the data in the model or View model.</li>&#13;
<li class="listitem" value="3">In the controller's action method, we are verifying the model state.</li>&#13;
<li class="listitem" value="4">If the model state is valid, we are saving the entered data to the database.</li>&#13;
<li class="listitem" value="5">If the model state is not valid, we are rending the View model again with the validation error message so that the user can correct the input data and submit the form again with the valid input data.</li>&#13;
</ol>&#13;
<div style="height:10px; width: 1px"/>&#13;
</div>&#13;
</div>&#13;
</div>&#13;

<div class="section" title="Client-side validation">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h1 class="title"><a id="ch06lvl1sec45"/>&#13;
 Client-side validation</h1>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>There are scenarios where we don't need to go to the server to validate the input data. In the preceding example of the server-side validation, we do not need to go to the server to verify whether the user has entered the data for the <span class="strong">&#13;
<strong>Name</strong>&#13;
</span>&#13;
 field. We can validate at the client-side itself. This prevents round-trips to the server and reduces the server load.</p>&#13;
<p>We are going to use JavaScript to validate the data from the client-side. JavaScript is a high-level, interpreted language which is primarily used in client-side programming.</p>&#13;
<div class="note" title="Note">&#13;
<h3 class="title"><a id="note7"/>&#13;
 Note</h3>&#13;
<p>These days, JavaScript is also being used at the server-side as part of Node.js.</p>&#13;
</div>&#13;
<p>We are going to make a couple of changes in our View model (<code class="literal">Index.cshtml</code>&#13;
 file) to validate the form at the client-side:</p>&#13;
<div class="orderedlist">&#13;
<ol class="orderedlist arabic">&#13;
<li class="listitem" value="1">Changes in the form: add the <code class="literal">id</code>&#13;
 attribute to all the <code class="literal">span</code>&#13;
 tags so that we can access this HTML element to display the HTML error message. On submission of the form, call a JavaScript function to validate the input data.</li>&#13;
<li class="listitem" value="2">Add the script HTML element and create a JavaScript function to validate the input data.</li>&#13;
</ol>&#13;
<div style="height:10px; width: 1px"/>&#13;
</div>&#13;
<p>In the following code, we are calling the <code class="literal">validateForm</code>&#13;
 JavaScript function on submission of the form. If the <code class="literal">validateForm</code>&#13;
 function returns <code class="literal">true</code>&#13;
 , the data will be sent to the server. Otherwise, the data will not be sent. We have added the <code class="literal">id</code>&#13;
 attribute for all the <code class="literal">span</code>&#13;
 tags so that we can identify the <code class="literal">span</code>&#13;
 tags and display the validation error messages over there:</p>&#13;
<pre class="programlisting">&lt;form asp-controller="Employee" asp-action="Index" onsubmit="return validateForm()"&gt; 
        &lt;table&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Name"&gt;&lt;/label&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Name" /&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;span id="validationName" asp-validation-for="Name" style="color:red"&gt;&lt;/span&gt;&lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Designation"&gt;&lt;/label&gt; &lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Designation" /&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;span id="validationDesignation" asp-validation-for="Designation" style="color:red"&gt;&lt;/span&gt; &lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Salary"&gt;&lt;/label&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Salary"&gt;&lt;/td&gt; 
                &lt;td&gt; &lt;span id="validationSalary" asp-validation-for="Salary" style="color:red"&gt;&lt;/span&gt; &lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td colspan="2"&gt;&lt;input type="submit" id="submitbutton" value="Submit" /&gt;&lt;/td&gt; 
            &lt;/tr&gt; 
        &lt;/table&gt; 
&lt;/form&gt; 
</pre>&#13;
<p>We have added the JavaScript function to validate all three fields. We get the values of all the three fields and we store them in separate variables. Then we verify whether the value of each of the variables is null or empty. If the value is empty, we get the <code class="literal">span</code>&#13;
 element for the respective field and set the text context with the validation error message:</p>&#13;
<pre class="programlisting">&lt;script type="text/javascript"&gt; 
        function validateForm() { 
            var isValidForm = true; 
            var nameValue = document.getElementById("Name").value; 
            var designationValue = document.getElementById("Designation").value; 
            var salaryValue = document.getElementById("Salary").value; 
 
            //Validate the name field 
            if (nameValue == null || nameValue == "") { 
                document.getElementById("validationName").textContent = "Employee Name is required - from client side"; 
                isValidForm = false; 
            } 
 
            //validate the designation field 
            if (designationValue == null || designationValue == "") { 
                document.getElementById("validationDesignation").textContent = "Employee Designation is required - from client side"; 
                isValidForm = false; 
            } 
 
            //validate the salary field - if it is empty 
            if (salaryValue == null || salaryValue == "") { 
                document.getElementById("validationSalary").textContent = "Employee Salary is required - from client side"; 
                isValidForm = false; 
            }else if (Number(salaryValue) == NaN || Number(salaryValue)&lt;=0.0) { 
                document.getElementById("validationSalary").textContent = "Please enter valid number for salary field - from client side"; 
                isValidForm = false; 
            } 
 
 
            return isValidForm; 
 
        } 
 
&lt;/script&gt; 
</pre>&#13;
<p>When you run the application and submit the form without entering the data, you'll get the error message generated from the client-side itself without ever going to the server.</p>&#13;
<div class="mediaobject"><img src="Image00106.jpg" alt="Client-side validation"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<p>In real-world applications, we would not be hand coding the validation code at the JavaScript. Instead, most applications use unobtrusive validation, where we do not write JavaScript code for validating each of the fields. Simply adding the respective JavaScript libraries will do.</p>&#13;
<p>You might wonder how the fields get validated without ever writing the code. The magic lies in the <code class="literal">data-</code>&#13;
 attributes added to the input HTML elements based on the Data Annotation attributes. This jQuery unobtrusive library gets a list of fields for which <code class="literal">data-</code>&#13;
 attributes are added and it gets validated.</p>&#13;
<p>Run the application and press <span class="emphasis">&#13;
<em>Ctrl</em>&#13;
</span>&#13;
 + <span class="emphasis">&#13;
<em>U</em>&#13;
</span>&#13;
 to see the source code. The source code will look something like the following:</p>&#13;
<div class="mediaobject"><img src="Image00107.jpg" alt="Client-side validation"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<p>Different attributes will be added to different kinds of Data Annotation attributes. For the fields to be validated, the <code class="literal">data-val</code>&#13;
 attribute would be set to <code class="literal">true</code>&#13;
 . For the properties which are marked as required in the View model, the <code class="literal">data-val-required</code>&#13;
 attribute will have the value of the error message of the associated property.</p>&#13;
</div>&#13;

<div class="section" title="Implementation">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h1 class="title"><a id="ch06lvl1sec46"/>&#13;
 Implementation</h1>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>There will be a layout file (<code class="literal">_Layout.cshtml</code>&#13;
 ) to define the layout structure of your web application. As JavaScript libraries are going to be used in all the pages, this is the right place to add common functionalities such as unobtrusive validation. Just add the JavaScript libraries (highlighted in bold) to the layout file (<code class="literal">_Layout.cshtml</code>&#13;
 ) so that they will be available for all the <code class="literal">View</code>&#13;
 files:</p>&#13;
<pre class="programlisting">&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
&lt;head&gt; 
    &lt;meta name="viewport" content="width=device-width" /&gt; 
    &lt;title&gt;@ViewBag.Title&lt;/title&gt; 
&lt;/head&gt; 
&lt;body&gt; 
    &lt;div&gt; 
        @RenderBody() 
    &lt;/div&gt; 
 
    <span class="strong">
<strong>&lt;script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.3.js"&gt;&lt;/script&gt; 
    &lt;script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"&gt;&lt;/script&gt; 
    &lt;script src="https://ajax.aspnetcdn.com/ajax/mvc/5.2.3/jquery.validate.unobtrusive.min.js"&gt;&lt;/script&gt;</strong>&#13;

</span>&#13;

 
&lt;/body&gt; 
&lt;/html&gt; 
</pre>&#13;
<p>There is no change to the View model except for the removal of the JavaScript function we wrote earlier for validating the fields. The complete code for the view is as following:</p>&#13;
<pre class="programlisting">@model Validation.ViewModels.EmployeeAddViewModel 
 
&lt;div&gt; 
 
    &lt;form asp-controller="Employee" asp-action="Index" method="post" role="form"&gt; 
        &lt;table&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Name"&gt;&lt;/label&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Name" /&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;span id="validationName" asp-validation-for="Name" style="color:red"&gt;&lt;/span&gt;&lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Designation"&gt;&lt;/label&gt; &lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Designation" /&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;span id="validationDesignation" asp-validation-for="Designation" style="color:red"&gt;&lt;/span&gt; &lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td&gt;&lt;label asp-for="Salary"&gt;&lt;/label&gt;&lt;/td&gt; 
                &lt;td&gt;&lt;input asp-for="Salary"&gt;&lt;/td&gt; 
                &lt;td&gt; &lt;span id="validationSalary" asp-validation-for="Salary" style="color:red"&gt;&lt;/span&gt; &lt;/td&gt; 
            &lt;/tr&gt; 
            &lt;tr&gt; 
                &lt;td colspan="2"&gt;&lt;input type="submit" id="submitbutton" value="Submit" /&gt;&lt;/td&gt; 
            &lt;/tr&gt; 
 
        &lt;/table&gt; 
    &lt;/form&gt; 
 
&lt;/div&gt; 
 
&lt;br /&gt;&lt;br /&gt; &lt;br /&gt; 
 
&lt;b&gt; List of employees:&lt;/b&gt; &lt;br /&gt; 
&lt;div&gt; 
    &lt;table border="1"&gt; 
        &lt;tr&gt; 
            &lt;th&gt; ID &lt;/th&gt; 
            &lt;th&gt; Name &lt;/th&gt; 
            &lt;th&gt; Designation &lt;/th&gt; 
            &lt;th&gt; Salary &lt;/th&gt; 
        &lt;/tr&gt; 
        @foreach (var employee in Model.EmployeesList) 
        { 
            &lt;tr&gt; 
                &lt;td&gt;@employee.EmployeeId&lt;/td&gt; 
                &lt;td&gt;@employee.Name&lt;/td&gt; 
                &lt;td&gt;@employee.Designation&lt;/td&gt; 
                &lt;td&gt;@employee.Salary&lt;/td&gt; 
            &lt;/tr&gt; 
        } 
    &lt;/table&gt; 
 
&lt;/div&gt; 
</pre>&#13;
<div class="mediaobject"><img src="Image00108.jpg" alt="Implementation"/>&#13;
</div>&#13;
<p style="clear:both; height: 1em;"/>&#13;
<p>The preceding diagram depicts the unobtrusive client validation process:</p>&#13;
<div class="orderedlist">&#13;
<ol class="orderedlist arabic">&#13;
<li class="listitem" value="1">Data Annotations are added to <code class="literal">Model</code>&#13;
 /<code class="literal">ViewModels</code>&#13;
 .</li>&#13;
<li class="listitem" value="2">The view takes <code class="literal">Model</code>&#13;
 /<code class="literal">ViewModels</code>&#13;
 and generates the HTML.</li>&#13;
<li class="listitem" value="3">The generated HTML from the View model contains <code class="literal">data-*</code>&#13;
 attributes:<div class="itemizedlist">&#13;
<ul class="itemizedlist">&#13;
<li class="listitem">For the fields for which the <code class="literal">Required</code>&#13;
 attribute is set, the <code class="literal">data-val-required</code>&#13;
 attribute is created with the error message as its value.</li>&#13;
<li class="listitem">For the fields with the <code class="literal">MinLength</code>&#13;
 Data Annotation attribute, the <code class="literal">data-val-minlength</code>&#13;
 attribute is set with the error message as its value.</li>&#13;
<li class="listitem">For the range Data Annotation, the <code class="literal">data-val-range</code>&#13;
 attribute is set with the error message as its value. The <code class="literal">data-val-range-max</code>&#13;
 represents the maximum value in the range and the <code class="literal">data-val-range-min</code>&#13;
 attribute represents the minimum value in the range.</li>&#13;
</ul>&#13;
</div>&#13;
</li>&#13;
<li class="listitem" value="4">The jQuery unobtrusive validation library reads these elements with <code class="literal">data-*</code>&#13;
 attributes and does the client-side validation. This allows the developer to not write the separation validation code using JavaScript as everything is resolved by the configuration itself.</li>&#13;
</ol>&#13;
<div style="height:10px; width: 1px"/>&#13;
</div>&#13;
</div>&#13;

<div class="section" title="Summary">&#13;
<div class="titlepage">&#13;
<div>&#13;
<div>&#13;
<h1 class="title"><a id="ch06lvl1sec47"/>&#13;
 Summary</h1>&#13;
</div>&#13;
</div>&#13;
</div>&#13;
<p>In this chapter, we have learned about the need for validation and the different kinds of validation available. We have even discussed how client-side and server-side validation work, along with the pros and cons of each type of validation. Later, we made code changes to validate the input data at the server-side. Then we used JavaScript to validate the input data in the client-side itself. Finally, we used the jQuery unobtrusive library to do the client-side validation without ever writing the JavaScript code to validate the input data at the client-side.</p>&#13;
<p>In the next chapter, we will discuss the routing principle and how to customize it. In an earlier chapter, we saw the basics of routing in an ASP.NET 5 application. Now we are going to explore the topic in depth.</p>&#13;
</div>&#13;

<h1>读累了记得休息一会哦~</h1>
<p> </p>
<p><strong>公众号：古德猫宁李</strong></p>
<ul>
<li>电子书搜索下载</li>
<li>书单分享</li>
<li>书友学习交流</li>

<p> </p>
</ul>
<p><strong>网站：</strong><a href="https://www.chenjin5.com">沉金书屋 https://www.chenjin5.com</a></p>
<ul>
<li>电子书搜索下载</li>
<li>电子书打包资源分享</li>
<li>学习资源分享</li>

</ul>
</body></html>