- en: '14'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Deploying to Production
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we will take a look at the different options we have when deploying
    our Blazor application to production. Since there are many different options,
    going through them all would be a book all by itself.
  prefs: []
  type: TYPE_NORMAL
- en: We won’t go into detail but rather cover the different things we need to think
    about so that we can deploy to any provider.
  prefs: []
  type: TYPE_NORMAL
- en: In the end, deploying is what we need to do to make use of what we build.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Continuous delivery options
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hosting options
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter is about general deployment, so we won’t need any code.
  prefs: []
  type: TYPE_NORMAL
- en: Continuous delivery options
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'When deploying anything to production, we should think about making sure to
    remove uncertain factors. For example, if we are deploying from our own machine,
    how do we know it’s the latest version? How do we know that our teammates didn’t
    recently solve a problem and we don’t have the fix in our branch? To be honest,
    how do we even know that the version in source control is the same in production,
    or if the version in production even exists in source control? You know the old
    saying: “Friends don’t let friends right-click and publish” (to production, that
    is)?'
  prefs: []
  type: TYPE_NORMAL
- en: This is where **Continuous Integration** and **Continuous Delivery/Deployment**
    (**CI/CD**) come into the picture. We make sure that something else makes the
    deployment to production. Entire books could be written on deployment, so we won’t
    go that deep into the subject.
  prefs: []
  type: TYPE_NORMAL
- en: GitHub Actions and Azure DevOps (or Azure Pipelines) are two products from Microsoft
    for CI/CD. There are many more, such as Jenkins, TeamCity, and GitLab – the list
    is long. If the CI/CD system we are currently using supports deploying ASP.NET,
    it will be able to handle Blazor because, in the end, Blazor is just an ASP.NET
    site.
  prefs: []
  type: TYPE_NORMAL
- en: If we have tests (which we should have), we should also make sure to set up
    tests as part of our CI/CD pipeline. The nice thing is that we don’t need to add
    any specific hardware to test our components; it will work if our CI/CD pipeline
    can run unit tests.
  prefs: []
  type: TYPE_NORMAL
- en: Since Blazor is ASP.NET, nothing is stopping us from going even further with
    the automated testing of our site.
  prefs: []
  type: TYPE_NORMAL
- en: There is also something called **wasm-tools**, which we will take a look at
    in *Chapter 16*, *Going Deeper into WebAssembly*.
  prefs: []
  type: TYPE_NORMAL
- en: Hosting options
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When it comes to hosting Blazor, there are many options. Any cloud service that
    can host ASP.NET Core sites should be able to run Blazor without any problems.
  prefs: []
  type: TYPE_NORMAL
- en: We need to think about some things, so let’s go through the options one by one.
  prefs: []
  type: TYPE_NORMAL
- en: Hosting Blazor Server/InteractiveServer
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If the cloud provider can enable/disable WebSockets, we want to enable them
    since that’s the protocol used by SignalR.
  prefs: []
  type: TYPE_NORMAL
- en: Sometimes, the cloud provider may support .NET Core 3.x but not .NET 8 out of
    the box. But don’t worry; by making sure to publish our application with the deployment
    mode as self-contained, we make sure the deployment also adds any files necessary
    to run the project (this might not be true for all hosting providers).
  prefs: []
  type: TYPE_NORMAL
- en: This is also a good thing to do to make sure that we are running on the exact
    framework version we expect.
  prefs: []
  type: TYPE_NORMAL
- en: Hosting InteractiveWebAssembly
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: InteractiveWebAssembly is using a .NET Core backend (like we do for the blog),
    we are hosting a .NET Core website, so the same rules apply as with hosting Blazor
    Server. For our blog, we also added SignalR, so we need WebSockets enabled as
    well.
  prefs: []
  type: TYPE_NORMAL
- en: Hosting Blazor WebAssembly Standalone
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If we are using the Blazor WebAssembly Standalone template, we don’t need to
    think about .NET Core hosting. We can host our application in Azure Static Web
    Apps or even GitHub Pages. This is one of the upsides of doing a Blazor WebAssembly
    Standalone site.
  prefs: []
  type: TYPE_NORMAL
- en: Hosting on IIS
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We can also host our application on **Internet Information Server** (**IIS**).
    Install the hosting bundle, and it will also make sure to include the ASP.NET
    Core IIS module if installed on a machine with IIS.
  prefs: []
  type: TYPE_NORMAL
- en: You need to make sure to enable the WebSocket protocol on the server.
  prefs: []
  type: TYPE_NORMAL
- en: We currently run our sites on IIS and use Azure DevOps to deploy our sites.
    Since we are using Blazor Server, the downtime is very evident. As soon as the
    web loses the SignalR connection, the site will display a reconnect message.
  prefs: []
  type: TYPE_NORMAL
- en: For the sites we are using, there are about 8 to 10 seconds of downtime when
    deploying a new version, which is pretty quick.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we talked about why we should use CI/CD since it makes a huge
    difference in ensuring the quality of the application. We looked at some of the
    things we need to do to run our Blazor app on any cloud provider supporting .NET
    8.
  prefs: []
  type: TYPE_NORMAL
- en: Deploying is perhaps the most important step when it comes to an application.
    Without deploying our application, it’s just code. With the things we mentioned
    in this chapter, such as CI/CD, hosting, and deployment, we are now ready to deploy
    the code.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will dig deeper into how we can port a current site,
    use Blazor with other technologies, or use other technologies with Blazor.
  prefs: []
  type: TYPE_NORMAL
