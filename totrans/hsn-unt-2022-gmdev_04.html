<html><head></head><body>
  <div id="_idContainer180" class="Basic-Text-Frame">
    <h1 class="chapterNumber">4</h1>
    <h1 id="_idParaDest-55" class="chapterTitle">Importing and Integrating Assets</h1>
    <p class="normal">In the previous chapter, we created the prototype of our level. Now, let’s suppose that we have coded the game and tested it, confirming the game idea is fun. With that, it’s time to replace the prototype art with the real finished art. We are going to actually code the game in the next chapter, <em class="chapterRef">Chapter 5</em>,<em class="italic"> Introduction to C# and Visual Scripting</em>, but for learning purposes, let’s just skip that part for now. In order to use the final assets, we need to learn how to get them (images, 3D models, and so on), how to import them into Unity, and how to integrate them into our scene.</p>
    <p class="normal">In this chapter, we will examine the following topics: </p>
    <ul>
      <li class="bulletList">Importing assets</li>
      <li class="bulletList">Integrating assets</li>
      <li class="bulletList">Configuring assets</li>
    </ul>
    <p class="normal">Let’s start by learning how to get assets in Unity, such as 3D models and textures. </p>
    <h1 id="_idParaDest-56" class="heading-1">Importing assets</h1>
    <p class="normal">We have different <a id="_idIndexMarker182"/>sources of assets we can use in our project. We can simply receive a file from our artist, download them from different free and paid assets sites, or we <a id="_idIndexMarker183"/>can use the <strong class="keyWord">Asset Store</strong>, Unity’s official asset virtual store, where we can get free and paid assets ready to use with Unity. We will use a mix of downloading assets from the internet and from the Asset Store, just to use all possible resources.</p>
    <p class="normal">In this section, we will cover the following concepts related to importing assets:</p>
    <ul>
      <li class="bulletList">Importing assets from the internet</li>
      <li class="bulletList">Importing assets from the Asset Store</li>
      <li class="bulletList">Importing assets from Unity Packages</li>
      <li class="bulletList">Let’s start by exploring the first source of assets, the internet.</li>
    </ul>
    <h2 id="_idParaDest-57" class="heading-2">Importing assets from the internet</h2>
    <p class="normal">In terms of getting art assets for our project, let’s start with our terrain textures. Remember that <a id="_idIndexMarker184"/>we have our terrain painted with a grid pattern, so the idea is to replace that with grass, mud, rock, and other kinds of textures. To do that, we need images. In this case, these kinds of images are usually top-down views of different terrain patterns, and they have the requirement of being “tileable,” meaning you can repeat them with no noticeable pattern in their connections. You can see an example of this in the following image:</p>
    <figure class="mediaobject"><img src="../Images/B18585_04_01.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.1: Left – grass patch; Right – the same grass patch separated to highlight the texture tiling</p>
    <p class="normal">The grass on the left seems to be one single big image, but if you pay attention, you should be able to see some patterns repeating themselves. In this case, this grass is just a single image repeated four times in a grid, like the one on the right. This way, you can cover large areas by repeating a single small image, saving lots of RAM on the user’s computer.</p>
    <p class="normal">The idea is to get these kinds of images to paint our terrain. You can get them from several places, but the easiest way is to use <em class="italic">Google Images</em> or any image search engine. Always check for copyright permissions before using something from these sources. To do this, follow these steps:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Open your browser (Chrome, Safari, Edge, etc.).</li>
      <li class="numberedList">Go to your preferred search engine. In this case, I will use Google.</li>
      <li class="numberedList">Use the keywords <code class="inlineCode">PATTERN tileable texture</code>, replacing <code class="inlineCode">PATTERN</code> with the kind of terrain you are looking for, such as <code class="inlineCode">grass tileable texture</code> or <code class="inlineCode">mud tileable texture</code>. In this case, I am going to type <code class="inlineCode">grass tileable texture</code> and then press <em class="italic">Enter</em> to search.</li>
      <li class="numberedList">Switch to image search mode:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_02.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.2: Google search for images</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">Choose any <a id="_idIndexMarker185"/>texture you find suitable for the kind of grass you need and click it. Remember that the texture must be a top-down view of the grass and must repeat.</li>
    </ol>
    <div class="note">
      <p class="normal">Try to check the image’s resolution before picking it. Try to select squared images that have a resolution less than 1024 x 1024 for now.</p>
    </div>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="6">Right-click the opened image and select <strong class="screenText">Save image as…</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_03.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.3 Save image as… option</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="7">Save the image in any folder you will remember.</li>
    </ol>
    <p class="normal">Now that <a id="_idIndexMarker186"/>you have downloaded the image, you can add it to your project in several ways. The simplest one would be by doing the following:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Locate your image using <strong class="screenText">File Explorer</strong> (<strong class="screenText">Finder</strong> on Mac).</li>
      <li class="numberedList">Locate or create the <code class="inlineCode">Textures</code> folder in the Project window in Unity.</li>
      <li class="numberedList">Put both the <strong class="screenText">File Explorer</strong> and the <strong class="screenText">Unity Project Window</strong> next to each other.</li>
      <li class="numberedList">Drag the file from <strong class="screenText">File Explorer</strong> to the <code class="inlineCode">Textures</code> folder in the <strong class="screenText">Unity Project Window</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_04.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.4: Texture being dragged from Windows File Explorer to Unity’s Project view</p>
    <p class="normal">For simple textures like these ones, any search engine can be helpful, but if you want to replace the player’s base geometry with detailed walls and doors or place enemies in your scene, you need to get 3D models. If you search for those in any search engine using keywords such as “free zombie 3D model,” you will find endless free and paid 3D models sites such as TurboSquid and Mixamo, but those sites can be problematic because those meshes are usually not prepared for being used in Unity, or even games. You will <a id="_idIndexMarker187"/>find models with very high polygon counts, incorrect sizes or orientations, unoptimized textures, and so on. To prevent those problems, we’ll want to use a better source, and in this case, we will use Unity’s Asset Store, so let’s explore it.</p>
    <h2 id="_idParaDest-58" class="heading-2">Importing assets from the Asset Store</h2>
    <p class="normal">The Asset Store is Unity’s official asset marketplace where you can find lots of models, textures, sounds, and even entire Unity plugins to extend the capabilities of the engine. In this case, we <a id="_idIndexMarker188"/>will limit ourselves to downloading <a id="_idIndexMarker189"/>3D models to replace the player’s base prototype. You will want to get 3D models with a modular design, meaning that you will get several pieces, such as walls, floors, corners, and so on. You can connect them to create any kind of scenario.</p>
    <p class="normal">In order to do that, you must follow these steps:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Click on <strong class="screenText">Window | Asset Store</strong> in Unity, which will open a new window saying the Asset Store has moved. In previous versions of Unity, you could see the Asset Store directly inside the editor, but now, it is recommended to open it in a regular web browser, so just click the <strong class="screenText">Search Online</strong> button, which will open the site <a href="https://assetstore.unity.com/"><span class="url">https://assetstore.unity.com/</span></a> in your preferred browser. Also, you can check the <strong class="screenText">Always open in browser from menu</strong> to directly open the page whenever you click on <strong class="screenText">Window | Asset Store</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_05.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.5: Asset Store moved message</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">In the top menu, click on the <strong class="screenText">3D</strong> category to browse 3D assets:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_06.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.6: 3D assets menu</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">In the <a id="_idIndexMarker190"/>recently opened page, click the arrow <a id="_idIndexMarker191"/>to the right of the <strong class="screenText">3D</strong> category in the <strong class="screenText">All Categories</strong> panel on the right, and then open <strong class="screenText">Environments</strong> and check the <strong class="screenText">Sci-Fi</strong> mark, as we will make a future-themed game: </li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_07.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.7: 3D assets menu</p>
    <div class="note">
      <p class="normal">As you can see, there are several categories for finding different types of assets, and you can pick another one if you want to. In <strong class="screenText">Environments</strong>, you will find 3D models that can be used to generate the scenery for your game.</p>
    </div>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">If you <a id="_idIndexMarker192"/>need to, you can pay for an asset, but let’s <a id="_idIndexMarker193"/>hide the paid ones for now. You can do that by clicking the <strong class="screenText">Sort by Price</strong> option in the top-left section and selecting the <strong class="screenText">Free Assets</strong> option:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_08.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.8: Free Assets option</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">In the search area, find any asset that seems to have the aesthetic you are looking for and click it. Remember to look out for outdoor assets, because most environment packs are usually interiors only. In my case, I have picked one called <strong class="screenText">Sci-Fi Styled Modular Pack</strong>, which serves for both interiors and exteriors. Take into account that that package might not exist by the time you are reading this, so you might need to choose another one. If you don’t find a suitable package, you can download and pick the asset files we used in the GitHub repository:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_09.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.9: Preview of Asset Store searched packages</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="6">Now, you <a id="_idIndexMarker194"/>will see the package details <a id="_idIndexMarker195"/>in the <strong class="screenText">Asset Store</strong> window. Here, you can find information regarding the package’s description, videos/images, the package’s contents, and the most important part, the reviews, where you can see whether the package is worth getting:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_10.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.10: Asset Store package details</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="7">If you <a id="_idIndexMarker196"/>are OK with this package, click <a id="_idIndexMarker197"/>the <strong class="screenText">Add To My Assets</strong> button, log in to Unity if requested, and then click the <strong class="screenText">Open In Unity</strong> button. You might be prompted to accept the browser to open Unity; if so, just accept:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_11.png" alt=""/></figure>
    <figure class="mediaobject">Figure 4.11: Switching apps</figure>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="8">This will open the <strong class="screenText">Package Manager</strong> again, but this time in the <strong class="screenText">My Assets</strong> mode, showing a list of all assets you have ever downloaded from the Asset Store, and the one you just selected highlighted in the list: </li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_12.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.12: Package Manager showing assets</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="9">Click <a id="_idIndexMarker198"/>on <strong class="screenText">Download</strong> on the bottom-right <a id="_idIndexMarker199"/>part of the window and wait for it to finish. Then hit <strong class="screenText">Import</strong>.</li>
      <li class="numberedList">After a while, the <strong class="screenText">Package Contents window</strong> will show up, allowing you to select exactly which assets of the package you want in your project. For now, leave it as-is and click <strong class="screenText">Import</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_13.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.13: Assets to import selection</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="11">After some importing time, you will see all the package files in your <strong class="screenText">Project window</strong>.</li>
    </ol>
    <p class="normal">Take into account that importing <a id="_idIndexMarker200"/>lots of full packages will <a id="_idIndexMarker201"/>increase your project’s size considerably, and that, later, you will probably want to remove the assets that you didn’t use. Also, if you import assets that generate errors that prevent you from playing the scene, just delete all the <code class="inlineCode">.cs</code> files that come with the package. They are usually in folders called <code class="inlineCode">Scripts</code>. Those are code files that might not be compatible with your Unity version: </p>
    <figure class="mediaobject"><img src="../Images/B18585_04_14.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.14: Code error warning when hitting play</p>
    <p class="normal">Before you continue with this chapter, try to download a character 3D model using the Asset Store, following the previous steps. In order to do this, you must complete the same steps <a id="_idIndexMarker202"/>as we did with the level environment pack <a id="_idIndexMarker203"/>but look in the <strong class="screenText">3D | Characters | Humanoid</strong> category of the Asset Store. In my case, I picked the <strong class="screenText">Robot Hero: PBR HP Polyart</strong> package:</p>
    <figure class="mediaobject"><img src="../Images/B18585_04_15.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.15: Character package used in our game</p>
    <p class="normal">Now, let’s explore yet another source of Unity Assets: <strong class="keyWord">Unity Packages</strong>.</p>
    <h2 id="_idParaDest-59" class="heading-2">Importing assets from Unity Packages</h2>
    <p class="normal">The Asset Store is not the only source of asset packages; you can get .unitypackage files from the internet, or maybe from a coworker who wants to share assets with you. </p>
    <p class="normal">In order to import a <code class="inlineCode">.unitypackage</code> file, you need to do the following:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Go to the <strong class="screenText">Assets | Import Package | Custom Package</strong> option:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_16.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.16: Importing custom packages</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">Search for the <code class="inlineCode">.unitypackage</code> file in the displayed dialog.</li>
      <li class="numberedList">Click the <strong class="screenText">Import</strong> option in the <strong class="screenText">Import</strong> <strong class="screenText">Unity Package </strong>window that appeared, the same that we saw earlier in the Asset Store section.</li>
    </ol>
    <p class="normal">Now that we have imported lots of art assets, let’s learn how to use them in our scene.</p>
    <h1 id="_idParaDest-60" class="heading-1">Integrating assets</h1>
    <p class="normal">We have just imported lots of files that can be used in several ways, so the idea of this section is <a id="_idIndexMarker204"/>to see how Unity integrates those assets with the GameObjects and components that need them. </p>
    <p class="normal">In this section, we will cover the following concepts related to importing assets:</p>
    <ul>
      <li class="bulletList">Integrating terrain textures</li>
      <li class="bulletList">Integrating meshes</li>
      <li class="bulletList">Integrating materials</li>
    </ul>
    <p class="normal">Let’s start by using the tileable textures to cover the terrain.</p>
    <h2 id="_idParaDest-61" class="heading-2">Integrating terrain textures</h2>
    <p class="normal">In order to apply <a id="_idIndexMarker205"/>textures to our terrain, do the following:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Select the <strong class="screenText">Terrain</strong> object.</li>
      <li class="numberedList">In the <strong class="screenText">Inspector</strong>, click the brush icon of the <strong class="screenText">Terrain</strong> component (second button). </li>
      <li class="numberedList">From the drop-down menu, select <strong class="screenText">Paint Texture</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_17.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.17: Terrain Paint Texture option</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">Click the <strong class="screenText">Edit Terrain Layers… | Create Layer</strong> option.</li>
      <li class="numberedList">Find and double-click the terrain texture you downloaded previously in the <strong class="screenText">Texture Picker</strong> window that appears:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_18.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.18: Texture to paint picker</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="6">You will see how the texture will be immediately applied to the whole terrain.</li>
      <li class="numberedList">Repeat <em class="italic">steps 4</em> and <em class="italic">5</em> to add other textures. This time, you will see that that texture is not immediately applied.</li>
      <li class="numberedList">In the <strong class="screenText">Terrain Layers</strong> section, select the new texture you have created to start painting with that. I used a mud texture in my case.</li>
      <li class="numberedList">As when <a id="_idIndexMarker206"/>you edited the terrain, in the <strong class="screenText">Brushes</strong> section, you can select and configure a brush to paint the terrain.</li>
      <li class="numberedList">In the <strong class="screenText">Scene</strong> view, paint the areas you want to have that texture applied to.</li>
      <li class="numberedList">If your texture patterns are too obvious, open the <strong class="screenText">New Layer N</strong> section on top of the <strong class="screenText">Brushes</strong> section, where <em class="italic">N</em> is a number that depends on the layer you have created.</li>
    </ol>
    <div class="note">
      <p class="normal">Each time you add a texture to the terrain, you will see that a new asset called <strong class="screenText">New Layer N</strong> is created in the <strong class="screenText">Project</strong> view. It holds data of the terrain layer you have created, and you can use that one on other terrains if you need to. You can also rename that asset to give it a meaningful name. Also, you can reorganize those assets in their own folder for organization purposes.</p>
    </div>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="12">Open the section using the triangle to its left and increase the <strong class="screenText">Size</strong> property in the <strong class="screenText">Tiling Settings</strong> section until you find a suitable size where the pattern is not that obvious:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_19.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.19: Painting texture options</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="13">Repeat <em class="italic">steps</em> <em class="italic">4</em> to <em class="italic">12</em> until you have applied all the textures you wanted to add to <a id="_idIndexMarker207"/>your terrain. In my case, I applied the mud texture to the river basin and used a rock texture for the hills. For the texture of the rocks, I reduced the opacity property of the brush to blend it better with the grass in the mountains. You can try to add a layer of snow at the top just for fun:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_20.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.20: Results of painting our terrain with three different textures</p>
    <p class="normal">Of course, we can <a id="_idIndexMarker208"/>improve this a lot using lots of the advanced tools of the system, but let’s just keep things simple for now. Now, let’s see how we can integrate the 3D models into our game.</p>
    <h2 id="_idParaDest-62" class="heading-2">Integrating meshes</h2>
    <p class="normal">If you select one of the 3D assets we have downloaded previously and click the arrow to its right, one or <a id="_idIndexMarker209"/>more sub-assets will appear in the <strong class="screenText">Project window</strong>. This means that the 3D model files we downloaded from the Asset Store (the FBX files) are containers of assets that define the 3D model:</p>
    <figure class="mediaobject"><img src="../Images/B18585_04_21.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.21: Mesh picker</p>
    <p class="normal">Some of those sub-assets are meshes, which are a collection of triangles that define the geometry of your model. You can find at least one of these mesh sub-assets inside the file, but you can also find several, and that can happen if your model is composed of lots of pieces. For example, a car can be a single rigid mesh, but that won’t allow you to rotate its wheels or open its doors; it will be just a static car, and that can be enough if the car is just a prop in the scene, but if the player will be able to control it, you will probably need to modify it. The idea is that all pieces of your car are different GameObjects parented to one another in such a way that if you move one, all of them will move, but you can still rotate its pieces independently.</p>
    <p class="normal">When you drag <a id="_idIndexMarker210"/>the 3D model file to the scene (not the sub-asset), Unity will automatically create all the objects for each piece and its proper parenting based on how the artist created those. You can select the object in the Hierarchy and explore all its children to see this:</p>
    <figure class="mediaobject"><img src="../Images/B18585_04_22.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.22: Sub-object selection</p>
    <p class="normal">Also, you will find that each of those objects may have its own <code class="inlineCode">Mesh Filter</code> and <code class="inlineCode">Mesh Renderer</code> components, each one rendering just that piece of the model. Remember that the <code class="inlineCode">Mesh Filter</code> is a component that has a reference to the mesh asset to render, so the <code class="inlineCode">Mesh Filter</code> is the one using those mesh sub-assets we talked about previously. In the case of animated characters, you will find the <code class="inlineCode">Skinned Mesh Renderer</code> component instead, but we will discuss that component later, in <em class="italic">Part 3, Improving Graphics</em>.</p>
    <p class="normal">Now, when you drag the 3D model file into the scene, you will get a similar result as if the model were a Prefab and you were instancing it. But 3D model files are more limited than Prefabs because you can’t apply changes to the model. If you’ve dragged the object onto the scene and edited it to have the behavior you want, I suggest that you create a Prefab to get all the benefits we discussed in <em class="chapterRef">Chapter 2</em>,<em class="italic"> Editing Scenes and GameObjects</em>, such as applying changes to all the instances of the Prefab and so on. Never create lots of instances of a model from its model file—always create them from the Prefab you created based on that file to allow you to add extra behavior to it.</p>
    <p class="normal">That’s the <a id="_idIndexMarker211"/>basic usage of 3D meshes. Now, let’s explore the texture integration process, which will give our 3D models more detail.</p>
    <h2 id="_idParaDest-63" class="heading-2">Integrating textures</h2>
    <p class="normal">Maybe your <a id="_idIndexMarker212"/>model already has the texture applied but has a magenta color applied to all of it. If this is the case, that means the asset wasn’t prepared <a id="_idIndexMarker213"/>to work with the <strong class="keyWord">Universal Render Pipeline </strong>(<strong class="keyWord">URP</strong>) template you selected when creating the project. </p>
    <p class="normal">Some assets in the Asset Store are created by third-party editors and could be meant to be used in older versions of Unity:</p>
    <figure class="mediaobject"><img src="../Images/B18585_04_23.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.23: Mesh being rendered with erroneous or no material at all</p>
    <p class="normal">One option to fix magenta assets is using the <strong class="screenText">Render Pipeline Converter</strong>, a tool that will find them and reconfigure them (if possible) to work with URP. To do so, perform the following steps every time you import an asset that looks magenta:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Go to <strong class="screenText">Window | Rendering | Render Pipeline Converter</strong>.</li>
      <li class="numberedList">Select the <strong class="screenText">Built-in to URP</strong> option from the dropdown:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_24.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.24: Upgrading older assets to URP</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="3">Scroll until you see the <strong class="screenText">Material Upgrade</strong> checkbox and check it.</li>
      <li class="numberedList">Click the <strong class="screenText">Initialize Converters</strong> button in the bottom-left corner. This will display a <a id="_idIndexMarker214"/>list of all the materials that need to be upgraded. We will discuss materials more later:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_25.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.25: Fixing Material to work with URP</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">Click the <strong class="screenText">Convert Assets</strong> button and see if the model was fixed.</li>
    </ol>
    <p class="normal">You will need to close the window for it to detect new magenta assets that weren’t there before opening it. The con of this method is that, sometimes, it won’t upgrade the material properly. Luckily, we can fix this by reapplying the textures of the objects manually. Even if your assets work just fine, I suggest that you reapply your textures anyway, just to learn more about the concept of materials.</p>
    <p class="normal">A texture is not applied directly to the object. That’s because the texture is just one single configuration of all the ones that control the aspect of your model. In order to change the appearance of a model, you must create a <strong class="keyWord">Material</strong>. A material is a separate asset that contains lots of settings about how Unity should render your object. You can apply that <a id="_idIndexMarker215"/>asset to several objects that share the same graphics settings, and if you change the settings of the material, it will affect all the objects that are using it. It works like a graphics profile.</p>
    <p class="normal">In order to create a material to apply the textures of your object, you need to follow these steps:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">In the <strong class="screenText">Project Window</strong>, click the plus (<strong class="screenText">+</strong>) button in the top-left part of the window.</li>
      <li class="numberedList">Click the <strong class="screenText">Material</strong> option in that menu.</li>
      <li class="numberedList">Name your material. This is usually the name of the asset we will be applying the material to (for example, <code class="inlineCode">Car</code>, <code class="inlineCode">Ship</code>, <code class="inlineCode">Character</code>, and so on).</li>
      <li class="numberedList">Drag the created material to the model instance on your scene. If you move the mouse with the dragged asset over the object, you will be able to see a preview of how it will look with that material, which would be white in the case of a new material. We will change that in the following steps.</li>
      <li class="numberedList">Apply the material by releasing the mouse.</li>
      <li class="numberedList">If your object has several parts, you will need to drag the material to each part.</li>
    </ol>
    <div class="note">
      <p class="normal">Dragging the material will change the material’s property of the <code class="inlineCode">MeshRenderer</code> component of the object you have dragged.</p>
    </div>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="7">Select the material and click the circle to the left of the <strong class="screenText">Base Map</strong> property (see <em class="italic">Figure 4.23</em>).</li>
      <li class="numberedList">In the <strong class="screenText">Texture Selector</strong>, click on the texture of your model. It can be complicated to locate the texture just by looking at it. Usually, the name of the texture will match the model’s name. If not, you will need to try different textures until you see one that fits your object. Also, you may find several textures with the same name as your model. Just pick the one that seems to have the proper colors instead of the ones that look black and white or light blue; we will use those later:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_26.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.26: Base Map property of URP materials</p>
    <p class="normal">With this, you have <a id="_idIndexMarker216"/>successfully applied the texture to the object through a material. For each object that uses the same texture, just drag the same material. Now that we have a basic understanding of how to apply the model textures, let’s learn how to properly configure the import settings before spreading models all over the scene.</p>
    <h1 id="_idParaDest-64" class="heading-1">Configuring assets</h1>
    <p class="normal">As we mentioned earlier, artists are used to creating art assets outside Unity, and that can cause <a id="_idIndexMarker217"/>differences between how the asset is seen from that tool and how Unity will import it. As an example, 3D Studio Max can work in centimeters, inches, and so on, while Unity works in meters. We have just downloaded and used lots of assets, but we have skipped the configuration step to solve those discrepancies, so let’s take a look at this now.</p>
    <p class="normal">In this section, we will cover the following concepts related to importing assets:</p>
    <ul>
      <li class="bulletList">Configuring meshes</li>
      <li class="bulletList">Configuring textures</li>
    </ul>
    <p class="normal">Let’s start by discussing how to configure 3D meshes.</p>
    <h2 id="_idParaDest-65" class="heading-2">Configuring meshes</h2>
    <p class="normal">In order to change the model’s import settings, you need to locate the model file you have downloaded. There are several file extensions that contain 3D models, with the most common <a id="_idIndexMarker218"/>one being the <code class="inlineCode">.fbx</code> file, but you can encounter others such as <code class="inlineCode">.obj</code>,<code class="inlineCode">.3ds</code>, <code class="inlineCode">.blender</code>, <code class="inlineCode">.mb</code>, and so on. You can identify whether the file is a 3D mesh via its extension:</p>
    <figure class="mediaobject"><img src="../Images/B18585_04_27.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.27: Selected asset path extension</p>
    <p class="normal">Also, you can click the <strong class="screenText">asset</strong> and check in the <strong class="screenText">Inspector</strong> for the tabs you can see in the following screenshot:</p>
    <figure class="mediaobject"><img src="../Images/B18585_04_28.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.28: Mesh materials settings</p>
    <p class="normal">Now that you have located the 3D mesh files, you can configure them properly. Right now, the only thing we should take into account is the proper scale of the model. Artists are used to working with different software with different setups; maybe one artist created the model using meters as its metric unit, while other artists used inches, feet, and so on. When importing assets that have been created in different units, they will probably be unproportioned, which means we will get results such as humans being bigger than buildings and so on. </p>
    <p class="normal">The best solution is to just ask the artist to fix that. If all the assets were authored in your company, or if you used an external asset, you could ask the artist to fix it to the way your company works, but right now, you are probably a single developer learning Unity by yourself. Luckily, Unity has a setting that allows you to rescale the original asset before using it in Unity. In order to change the “<strong class="keyWord">Scale Factor</strong>” of an object, you must do the following:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Locate the 3D mesh in your <strong class="screenText">Project Window</strong>.</li>
      <li class="numberedList">Drag it to the scene. You will see that an object will appear in your scene.</li>
      <li class="numberedList">Create a capsule using the <strong class="screenText">GameObject | 3D Object | Capsule</strong> option.</li>
      <li class="numberedList">Put the capsule next to the model you dragged into the editor. See if the scale has sense. The idea is that the capsule is representing a human being (2 meters tall) so that you have a reference for the scale:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_29.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.29: Using a capsule as reference for scale</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="5">If the <a id="_idIndexMarker219"/>model is bigger or smaller than expected, select the mesh again in the Project window (not the GameObject instance you dragged to the editor) and you will see some import settings in the Inspector. In the image, we can say the model has good relative size, but just for learning purposes, do the next steps.</li>
      <li class="numberedList">Look for the <strong class="screenText">Scale Factor</strong> property and modify it, increasing it if your model is smaller than expected, or reducing it in the opposite case:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_30.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.30: Model mesh options</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="7">Click the <strong class="screenText">Apply</strong> button at the bottom of the Inspector.</li>
      <li class="numberedList">Repeat <em class="italic">steps 6</em> and <em class="italic">7</em> until you get the desired result.</li>
    </ol>
    <p class="normal">There are <a id="_idIndexMarker220"/>plenty of other options to configure, but let’s stop here for now. Now, let’s discuss how to properly configure the textures of our models.</p>
    <h2 id="_idParaDest-66" class="heading-2">Configuring textures</h2>
    <p class="normal">Again, there are several settings to configure here, but let’s focus on the <strong class="keyWord">Texture Size</strong> for now. The idea <a id="_idIndexMarker221"/>is to use the size that best fits the usage of that texture, and that depends on lots of factors.</p>
    <p class="normal">The first factor to take into account is the distance from which the object will be seen. If you are creating a first-person game, you will probably see lots of objects near enough to justify a big texture, but maybe you have lots of distant objects, such as billboards at the top of buildings, which you will never be near enough to see the details of, so you can use smaller textures for that.</p>
    <p class="normal">Another thing to take into account is the importance of the object. If you are creating a racing game, you will probably have lots of 3D models that will be on screen for a few seconds and the player will never focus on them; they will be paying attention to the road and other cars. In this case, an object such as a trash can on the street can have a little texture and a low polygon model and the user will never notice that (unless they stop to appreciate the scenery, but that’s acceptable).</p>
    <p class="normal">Finally, you can have a game with a top-down view that will never zoom-in on the scene, so the same object that has a big texture in first-person games will have a less detailed texture here. In the following images, you can see that the smaller ship could use a smaller texture:</p>
    <figure class="mediaobject"><img src="../Images/B18585_04_31.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.31: The same model seen at different distances</p>
    <p class="normal">The ideal size of the texture is relative. The usual way to find it is by changing its size until you <a id="_idIndexMarker222"/>find the smallest possible size with a decent quality when the object is seen from the nearest position possible in the game. This is a trial-and-error method. In order to do that, you can do the following:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">Locate the 3D model and put it into the scene. </li>
      <li class="numberedList">Put the Scene view camera in a position that shows the object at its biggest possible in-game size. As <a id="_idIndexMarker223"/>an example, in a <strong class="keyWord">first-person-shooter</strong> (<strong class="keyWord">FPS</strong>) game, the camera can be almost right next to the object, while in a top-down game, it would be a few meters above the object. Again, that depends on your game. Remember our game is a third-person shooter.</li>
      <li class="numberedList">Find and select the texture that the object is using in the folders that were imported with the package or from the material you created previously. They usually have the <code class="inlineCode">.png</code>, <code class="inlineCode">.jpg</code>, or <code class="inlineCode">.tif</code> extensions.</li>
      <li class="numberedList">In the Inspector, look at the <strong class="screenText">Max Size</strong> property and reduce it, trying the next smaller value. For example, if the texture is <strong class="screenText">2048</strong>, try <strong class="screenText">1024</strong>.</li>
      <li class="numberedList">Click <strong class="screenText">Apply</strong> and check the Scene view to see if the quality has decreased dramatically or if the change isn’t noticeable. You will be surprised.</li>
      <li class="numberedList">Repeat <em class="italic">steps 4</em> to <em class="italic">5</em> until you get a bad-quality result. In that case, just increase the previous resolution to get an acceptable quality. Of course, if you are targeting PC games, you can expect higher resolutions than mobile games.</li>
    </ol>
    <p class="normal">Now that you have imported, integrated, and configured your objects, let’s create our player’s base with those assets.</p>
    <h2 id="_idParaDest-67" class="heading-2">Assembling the scene</h2>
    <p class="normal">Let’s start <a id="_idIndexMarker224"/>replacing our prototype base using the environment pack we have downloaded. To do that, you must do the following:</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="1">In the <strong class="screenText">Environment</strong> pack we imported before, locate the folder that contains all the models for the different pieces of the scene and try to find a corner. You can use the search bar in the <strong class="screenText">Project Window</strong> to search for the <code class="inlineCode">corner</code> keyword:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_32.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.32: Mesh picker</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="2">In my specific case, I have the outer and inner sides of the corner as separate models, so I need to put them together.</li>
      <li class="numberedList">Position it in the same position as any corner of your prototype base:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_33.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.33: Positioning the mesh on a placeholder for replacement</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="4">Find the <a id="_idIndexMarker225"/>proper model that will connect with that corner to create walls. Again, you can try searching for the <code class="inlineCode">wall</code> keyword in the <strong class="screenText">Project Window</strong>.</li>
      <li class="numberedList">Instance it and position it so that it’s connected to the corner. Don’t worry if it doesn’t fit perfectly; you will go over the scene when necessary later.</li>
    </ol>
    <div class="note">
      <p class="normal">You can select an object and press the <em class="italic">V</em> key to select a vertex of the selected object. Then you can drag it, click on the rectangle in the middle of the translate gizmo, and direct <a id="_idIndexMarker226"/>it to a vertex of another object. This is called <strong class="keyWord">Vertex Snapping</strong>. It allows you to connect two pieces of the scene exactly as intended.</p>
    </div>
    <figure class="mediaobject"><img src="../Images/B18585_04_34.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.34: Connecting two modules</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="6">Repeat the walls until you reach the other end of the player base and position another corner. You might get a wall that’s a little bit larger or smaller than the original prototype, but that’s fine:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_35.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.35: Chain of connected modules</p>
    <div class="note">
      <p class="normal">You can move an object while pressing the <em class="italic">Ctrl</em> key (<em class="italic">Command</em> on Mac) to snap the object’s position so that the clones of the wall can be easily located right next to the others. Another option is to manually set the <code class="inlineCode">Position</code> property of the <code class="inlineCode">Transform</code> component in the Inspector.</p>
    </div>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="7">Complete the <a id="_idIndexMarker227"/>rest of the walls and destroy the prototype cube we made in ProBuilder. Remember that this process is slow and you will need to be patient.</li>
      <li class="numberedList">Add floors by looking for floor tiles and repeating them all over the surface:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_36.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.36: Floor modules with a hole for the pit</p>
    <ol class="numberedList" style="list-style-type: decimal;">
      <li class="numberedList" value="9">Add whatever details you want to add with other modular pieces in the package.</li>
      <li class="numberedList">Put all those pieces in a container object called <code class="inlineCode">Base</code>. Remember to create an empty object and drag the base pieces into it:</li>
    </ol>
    <figure class="mediaobject"><img src="../Images/B18585_04_37.png" alt=""/></figure>
    <p class="packt_figref">Figure 4.37: Mesh sub-assets</p>
    <p class="normal">After a lot <a id="_idIndexMarker228"/>of practice doing this, you will slowly gain experience with the common pitfalls and good practices of modular scene design. All the packages have a different modular design in mind, so you will need to adapt to them. </p>
    <h1 id="_idParaDest-68" class="heading-1">Summary</h1>
    <p class="normal">In this chapter, we learned how to import models and textures and integrate them into our scene. We discussed how to apply textures to the terrain, how to replace our prototype mesh with modular models, how to apply textures to those, and how to properly configure the assets, all while taking several criteria into account according to the usage of the object.</p>
    <p class="normal">With this, we have finished <em class="italic">Part 1</em> of this book and discussed several basic Unity concepts we will use throughout the book. In <em class="italic">Part 2</em>, we will start coding the gameplay of our game, like the player’s movement and the health system. We will start learning how to create our own components to add behavior to our objects and the basic anatomy of a script.</p>
  </div>
</body></html>