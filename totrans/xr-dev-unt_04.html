<html><head></head><body>
<div id="_idContainer066">
<h1 class="chapter-number" id="_idParaDest-75"><a id="_idTextAnchor011"/><span class="koboSpan" id="kobo.1.1">4</span></h1>
<h1 id="_idParaDest-76"><span class="koboSpan" id="kobo.2.1">AR Development in Unity</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In this chapter, we will immerse ourselves in the fascinating realm of AR development, from creating our first AR project in Unity to launching our first AR scene on a device or simulator. </span><span class="koboSpan" id="kobo.3.2">We will present to you numerous AR toolkits and plugins that Unity offers, and guide you in understanding their </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">unique functionalities.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">In a step-by-step manner, we will walk through the process of establishing an AR project in Unity, ensuring it is primed for smooth deployment onto any </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">AR-supportive device.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">This chapter will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.9.1">Understanding the </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">AR landscape</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Setting up an AR project in Unity using </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">AR Foundation</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Testing AR experiences directly </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">in Unity</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Deploying AR experiences onto </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">mobile devices</span></span></li>
</ul>
<h1 id="_idParaDest-77"><span class="koboSpan" id="kobo.17.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.18.1">Before we dive into the practicality of the Unity Editor, it’s important to ensure your computer system is up to the task. </span><em class="italic"><span class="koboSpan" id="kobo.19.1">Unity 2021.3 LTS</span></em><span class="koboSpan" id="kobo.20.1">, or a more recent version, is required to walk through the exercises that we’ll explore in this book. </span><span class="koboSpan" id="kobo.20.2">Check your hardware compatibility by comparing it with the system requirements provided on the Unity website </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">at </span></span><a href="https://docs.unity3d.com/Manual/system-requirements.html"><span class="No-Break"><span class="koboSpan" id="kobo.22.1">https://docs.unity3d.com/Manual/system-requirements.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.23.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.24.1">As we’ll be exploring AR development in this chapter, we will need either an Android or iOS device capable of supporting ARKit or ARCore. </span><span class="koboSpan" id="kobo.24.2">Review whether your device meets these requirements </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">at </span></span><a href="https://developers.google.com/ar/devices"><span class="No-Break"><span class="koboSpan" id="kobo.26.1">https://developers.google.com/ar/devices</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.27.1">.</span></span></p>
<h1 id="_idParaDest-78"><span class="koboSpan" id="kobo.28.1">Understanding the AR landscape</span></h1>
<p><span class="koboSpan" id="kobo.29.1">As we start our exploration of AR, it’s </span><a id="_idIndexMarker272"/><span class="koboSpan" id="kobo.30.1">crucial to first understand the foundational elements that enable this technology. </span><span class="koboSpan" id="kobo.30.2">How is it that our everyday devices can so effortlessly intertwine our physical reality with the digital? </span><span class="koboSpan" id="kobo.30.3">What mechanisms allow your device to sense, interpret, and interact with the world around it? </span><span class="koboSpan" id="kobo.30.4">And, perhaps most intriguingly, how can a simple screen transform into a doorway to an </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">enhanced reality?</span></span></p>
<p><span class="koboSpan" id="kobo.32.1">In this section, we aim to unpack the complex principles and mechanisms of AR, distilling them into a comprehensible format. </span></p>
<p><span class="koboSpan" id="kobo.33.1">If terms such as AR, MR, and VR still seem opaque or interchangeable to you, consider revisiting </span><a href="B20869_01.xhtml#_idTextAnchor000"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.34.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.35.1"> for clarification. </span><span class="koboSpan" id="kobo.35.2">For now, our focus remains on AR, which transforms our world by superimposing it with elements of the digital domain. </span><span class="koboSpan" id="kobo.35.3">Let’s look at the different types of experiences that </span><span class="No-Break"><span class="koboSpan" id="kobo.36.1">AR offers.</span></span></p>
<h2 id="_idParaDest-79"><span class="koboSpan" id="kobo.37.1">What types of AR experiences exist?</span></h2>
<p><span class="koboSpan" id="kobo.38.1">The AR landscape is</span><a id="_idIndexMarker273"/><span class="koboSpan" id="kobo.39.1"> diverse, with experiences typically presenting themselves through one of several mediums: handheld mobile AR, AR glasses, or other types of AR such as projection-based AR or spatial AR. </span><span class="koboSpan" id="kobo.39.2">Each form has its unique characteristics, and their utilization depends on the context and the level of immersion desired. </span><span class="koboSpan" id="kobo.39.3">Let’s learn more </span><span class="No-Break"><span class="koboSpan" id="kobo.40.1">about these:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.41.1">Handheld mobile AR</span></strong><span class="koboSpan" id="kobo.42.1">: Handheld </span><a id="_idIndexMarker274"/><span class="koboSpan" id="kobo.43.1">mobile AR is perhaps the most widespread form of </span><a id="_idIndexMarker275"/><span class="koboSpan" id="kobo.44.1">AR due to the ubiquity of smartphones. </span><span class="koboSpan" id="kobo.44.2">Imagine this type of AR as a window into an enriched reality. </span><span class="koboSpan" id="kobo.44.3">Through the screen of their smartphone or tablet, a user witnesses a mingling of the digital and the real. </span><span class="koboSpan" id="kobo.44.4">This overlay of digital content on a live camera feed breathes life into an otherwise static physical world. </span><span class="koboSpan" id="kobo.44.5">A prime example of this is the popular game </span><em class="italic"><span class="koboSpan" id="kobo.45.1">Pokémon Go</span></em><span class="koboSpan" id="kobo.46.1">, where the user hunts for digital creatures that seem to inhabit our </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">own world.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.48.1">AR glasses</span></strong><span class="koboSpan" id="kobo.49.1">: AR glasses, on</span><a id="_idIndexMarker276"/><span class="koboSpan" id="kobo.50.1"> the other hand, provide a </span><a id="_idIndexMarker277"/><span class="koboSpan" id="kobo.51.1">more immersive and hands-free AR experience. </span><span class="koboSpan" id="kobo.51.2">When the user dons these glasses, they step directly into an augmented world without the need for a separate device. </span><span class="koboSpan" id="kobo.51.3">Thanks to transparent displays, sensors, and cameras integrated into the glasses, digital information is seamlessly woven into the user’s field of view. </span><span class="koboSpan" id="kobo.51.4">The </span><a id="_idIndexMarker278"/><span class="koboSpan" id="kobo.52.1">implications of this technology are far-reaching, with potential applications in industries ranging from </span><a id="_idIndexMarker279"/><span class="koboSpan" id="kobo.53.1">manufacturing and healthcare to entertainment. </span><span class="koboSpan" id="kobo.53.2">An example of a game designed for AR glasses is a new iteration of the Pokémon Go game, aptly named </span><em class="italic"><span class="koboSpan" id="kobo.54.1">Pokémon Go AR+</span></em><span class="koboSpan" id="kobo.55.1">. </span><span class="koboSpan" id="kobo.55.2">Pokémon Go AR+ revolutionizes the original concept of the game, taking full advantage of AR glasses’ capabilities. </span><span class="koboSpan" id="kobo.55.3">When wearing AR glasses, players are immersed in the Pokémon world more deeply. </span><span class="koboSpan" id="kobo.55.4">They can see Pokémon in their real-world surroundings as if they were actually there. </span><span class="koboSpan" id="kobo.55.5">Pokéstops and Gyms are visible in real-world locations, and players can interact with them directly. </span><span class="koboSpan" id="kobo.55.6">For example, if a Pokémon appears, the player can reach out to touch it and initiate a catch sequence. </span><span class="koboSpan" id="kobo.55.7">The game also allows for real-time battle simulations with other players using the </span><span class="No-Break"><span class="koboSpan" id="kobo.56.1">AR environment.</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.57.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.58.1">Though both handheld mobile AR and AR glasses act as pathways to AR, they differ significantly in their form factor, user experience, and level of immersion. </span><span class="koboSpan" id="kobo.58.2">Mobile AR serves as a portable gateway to an augmented world, accessible through a user’s smartphone or tablet. </span><span class="koboSpan" id="kobo.58.3">On the other hand, AR glasses offer a fully immersive experience where the augmented world is in direct view. </span><span class="koboSpan" id="kobo.58.4">Given the prevalence of smartphones, this book will primarily focus on AR development for Android and iOS </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">handheld devices.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.60.1">This does not mean, however, that AR glasses lack potential or usage. </span><span class="koboSpan" id="kobo.60.2">The focus on handheld devices mainly reflects their current wider use and accessibility. </span><span class="koboSpan" id="kobo.60.3">Despite this, AR glasses present significant opportunities and a level of immersion that handheld devices can’t match. </span><span class="koboSpan" id="kobo.60.4">Even though the book focuses on handheld AR, the fundamental principles of AR development it covers, such as understanding the 3D space, user interaction, and user experience design, are largely applicable to AR glasses. </span><span class="koboSpan" id="kobo.60.5">Readers interested in AR glasses development can still gain valuable insights, though they might need to supplement their learning with additional resources specifically focused on AR </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">glasses technologies.</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.62.1">Projection-based AR</span></strong><span class="koboSpan" id="kobo.63.1">: Projection-based AR casts digital imagery onto real-world surfaces. </span><span class="koboSpan" id="kobo.63.2">A notable</span><a id="_idIndexMarker280"/><span class="koboSpan" id="kobo.64.1"> application of </span><a id="_idIndexMarker281"/><span class="koboSpan" id="kobo.65.1">projection-based AR is found in the automotive industry, where AR has started to make a significant impact. </span><span class="koboSpan" id="kobo.65.2">Information such as navigation, speed, and other essential data can be projected onto the vehicle’s windshield, providing real-time visual cues to the driver without the need to take their eyes off </span><span class="No-Break"><span class="koboSpan" id="kobo.66.1">the road.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.67.1">Spatial AR</span></strong><span class="koboSpan" id="kobo.68.1">: Spatial AR</span><a id="_idIndexMarker282"/><span class="koboSpan" id="kobo.69.1"> uses holographic displays to </span><a id="_idIndexMarker283"/><span class="koboSpan" id="kobo.70.1">create an illusion of virtual objects cohabitating in our physical environment. </span><span class="koboSpan" id="kobo.70.2">Holographic displays could be likened to digital mirages, using a combination of light projection and optics to create three-dimensional virtual objects that appear to float in space. </span><span class="koboSpan" id="kobo.70.3">This form of AR doesn’t necessitate additional devices or wearables, enabling the user to interact with the holograms as if they were </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">physically present.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.72.1">Having explored the types of AR experiences, let’s now delve into the techniques and concepts that enable the overlay of virtual objects in the </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">real world.</span></span></p>
<h2 id="_idParaDest-80"><span class="koboSpan" id="kobo.74.1">What are marker-based and mar</span><a id="_idTextAnchor012"/><span class="koboSpan" id="kobo.75.1">kerless AR?</span></h2>
<p><span class="koboSpan" id="kobo.76.1">AR is underpinned by a set of foundational principles that allow virtual objects to be accurately positioned and realistically interacted with in our physical world. </span><span class="koboSpan" id="kobo.76.2">These principles involve various</span><a id="_idIndexMarker284"/><span class="koboSpan" id="kobo.77.1"> technologies and techniques, such as </span><strong class="bold"><span class="koboSpan" id="kobo.78.1">marker-based AR</span></strong><span class="koboSpan" id="kobo.79.1"> and </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.80.1">markerless AR</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.82.1">Let’s now learn more about each of </span><span class="No-Break"><span class="koboSpan" id="kobo.83.1">these technologies.</span></span></p>
<h3><span class="koboSpan" id="kobo.84.1">Marker-based AR</span></h3>
<p><span class="koboSpan" id="kobo.85.1">Marker-based AR </span><a id="_idIndexMarker285"/><span class="koboSpan" id="kobo.86.1">depends on specific markers or targets to initiate the </span><a id="_idIndexMarker286"/><span class="koboSpan" id="kobo.87.1">display of AR content. </span><span class="koboSpan" id="kobo.87.2">These markers can take numerous forms, such as physical objects with identifiable patterns, QR codes, or images. </span><span class="koboSpan" id="kobo.87.3">When the AR system detects the marker, it overlays digital content </span><span class="No-Break"><span class="koboSpan" id="kobo.88.1">onto it.</span></span></p>
<p><span class="koboSpan" id="kobo.89.1">When developing AR applications, there are several types of markers that can be used to trigger the display</span><a id="_idIndexMarker287"/><span class="koboSpan" id="kobo.90.1"> of AR content. </span><span class="koboSpan" id="kobo.90.2">Here’s an overview of some commonly utilized markers </span><span class="No-Break"><span class="koboSpan" id="kobo.91.1">in AR:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.92.1">Image markers</span></strong><span class="koboSpan" id="kobo.93.1">: These </span><a id="_idIndexMarker288"/><span class="koboSpan" id="kobo.94.1">are distinct visual patterns or images that serve as the trigger for AR content. </span><span class="koboSpan" id="kobo.94.2">When an AR system detects these markers through the camera, it overlays the corresponding digital content </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">onto them.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.96.1">QR codes</span></strong><span class="koboSpan" id="kobo.97.1">: Quick response (QR) codes, which are two-dimensional barcodes containing</span><a id="_idIndexMarker289"/><span class="koboSpan" id="kobo.98.1"> specific information, can also serve as AR markers. </span><span class="koboSpan" id="kobo.98.2">When the camera or a QR code scanning library identifies these codes, it can trigger the display of certain AR content </span><span class="No-Break"><span class="koboSpan" id="kobo.99.1">or interactions.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.100.1">3D object markers</span></strong><span class="koboSpan" id="kobo.101.1">: These</span><a id="_idIndexMarker290"/><span class="koboSpan" id="kobo.102.1"> markers involve using specific physical objects as triggers for AR content. </span><span class="koboSpan" id="kobo.102.2">The AR system identifies the object’s shape and features and uses this data to overlay the </span><span class="No-Break"><span class="koboSpan" id="kobo.103.1">digital content.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.104.1">Location-based markers</span></strong><span class="koboSpan" id="kobo.105.1">: These </span><a id="_idIndexMarker291"/><span class="koboSpan" id="kobo.106.1">markers use the user’s geolocation data to trigger AR content. </span><span class="koboSpan" id="kobo.106.2">By leveraging GPS or other location-tracking technologies, the AR system can overlay digital content that is relevant to the user’s </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">current location.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.108.1">Code-based markers</span></strong><span class="koboSpan" id="kobo.109.1">: These</span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.110.1"> are custom-designed patterns or symbols that can be recognized by the AR system and used as triggers. </span><span class="koboSpan" id="kobo.110.2">These markers are created and decoded using specific algorithms, providing a high degree of flexibility and customization for </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">AR experiences.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.112.1">The type of marker to use depends on the specific requirements of your AR application. </span><span class="koboSpan" id="kobo.112.2">Factors such as the desired user experience, tracking accuracy, and ease of marker recognition will guide </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">marker selection.</span></span></p>
<p><span class="koboSpan" id="kobo.114.1">While many AR experiences use markers, not all do, as you will learn in the </span><span class="No-Break"><span class="koboSpan" id="kobo.115.1">next subsection.</span></span></p>
<h3><span class="koboSpan" id="kobo.116.1">Markerless AR</span></h3>
<p><span class="koboSpan" id="kobo.117.1">Markerless AR, also</span><a id="_idIndexMarker293"/><span class="koboSpan" id="kobo.118.1"> known as </span><strong class="bold"><span class="koboSpan" id="kobo.119.1">position-based AR</span></strong><span class="koboSpan" id="kobo.120.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.121.1">simultaneous localization and mapping</span></strong><span class="koboSpan" id="kobo.122.1">  (</span><strong class="bold"><span class="koboSpan" id="kobo.123.1">SLAM</span></strong><span class="koboSpan" id="kobo.124.1">)-based AR, doesn’t rely on predetermined </span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.125.1">markers </span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.126.1">or visual cues. </span><span class="koboSpan" id="kobo.126.2">It employs onboard sensors and complex algorithms to overlay digital information onto the physical world. </span><span class="koboSpan" id="kobo.126.3">Sensors </span><a id="_idIndexMarker296"/><span class="koboSpan" id="kobo.127.1">can include </span><strong class="bold"><span class="koboSpan" id="kobo.128.1">global positioning systems</span></strong><span class="koboSpan" id="kobo.129.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.130.1">GPS</span></strong><span class="koboSpan" id="kobo.131.1">), accelerometers, and cameras to ascertain the user’s location and orientation in the physical environment. </span><span class="koboSpan" id="kobo.131.2">With an understanding of the user’s location, these </span><a id="_idIndexMarker297"/><span class="koboSpan" id="kobo.132.1">AR systems overlay virtual content onto the physical surroundings based on </span><span class="No-Break"><span class="koboSpan" id="kobo.133.1">geographical coordinates.</span></span></p>
<p><span class="koboSpan" id="kobo.134.1">Let’s delve into various options for implementing markerless AR and explore their </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">real-world applications:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.136.1">Geolocation-based AR</span></strong><span class="koboSpan" id="kobo.137.1">: This </span><a id="_idIndexMarker298"/><span class="koboSpan" id="kobo.138.1">approach primarily uses GPS and is suitable for placing AR objects on a larger scale in </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">outdoor environments.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.140.1">An example of this is Niantic’s game Pokémon Go. </span><span class="koboSpan" id="kobo.140.2">Using the device’s GPS, the game places virtual Pokémon creatures in real-world locations, allowing players to find and </span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">catch them.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.142.1">Wi-Fi positioning system</span></strong><span class="koboSpan" id="kobo.143.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.144.1">WPS</span></strong><span class="koboSpan" id="kobo.145.1">): This method determines the device’s location</span><a id="_idIndexMarker299"/><span class="koboSpan" id="kobo.146.1"> based on the strength and origin of Wi-Fi signals. </span><span class="koboSpan" id="kobo.146.2">It’s especially relevant for indoor AR experiences where GPS may be less effective. </span><span class="koboSpan" id="kobo.146.3">For instance, </span><em class="italic"><span class="koboSpan" id="kobo.147.1">Indoor Atlas</span></em><span class="koboSpan" id="kobo.148.1"> offers a platform for indoor navigation that combines magnetic information and Wi-Fi signals. </span><span class="koboSpan" id="kobo.148.2">This has been used to enhance AR experiences in shopping malls, guiding the user to specific stores or attractions with </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">digital markers.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.150.1">Bluetooth</span></strong><span class="koboSpan" id="kobo.151.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.152.1">ultra-wideband</span></strong><span class="koboSpan" id="kobo.153.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.154.1">UWB</span></strong><span class="koboSpan" id="kobo.155.1">): These </span><a id="_idIndexMarker300"/><span class="koboSpan" id="kobo.156.1">positioning techniques are geared</span><a id="_idIndexMarker301"/><span class="koboSpan" id="kobo.157.1"> for micro-location experiences, providing high precision in smaller spaces such as rooms or exhibits. </span><span class="koboSpan" id="kobo.157.2">A practical application can be seen in museums and galleries, where Bluetooth beacons are used in AR apps. </span><span class="koboSpan" id="kobo.157.3">These apps then serve multimedia content to visitors based on their proximity to specific artworks </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">or exhibits.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.159.1">SLAM</span></strong><span class="koboSpan" id="kobo.160.1">: SLAM is a </span><a id="_idIndexMarker302"/><span class="koboSpan" id="kobo.161.1">more advanced technique that creates a digital map of the environment while tracking the user’s location. </span><span class="koboSpan" id="kobo.161.2">This technique involves complex algorithms and uses the device’s camera and other sensors. </span><span class="koboSpan" id="kobo.161.3">Imagine you’re in a dark room and you light up a flashlight. </span><span class="koboSpan" id="kobo.161.4">As you move the flashlight around, you start to see and remember where different things are, such as chairs or tables. </span><span class="koboSpan" id="kobo.161.5">Over time, you build a map in your head of the whole room. </span><span class="koboSpan" id="kobo.161.6">SLAM does something similar. </span><span class="koboSpan" id="kobo.161.7">It’s most suitable for applications that require accurate object placement and interaction in </span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">smaller spaces.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.163.1">An example</span><a id="_idIndexMarker303"/><span class="koboSpan" id="kobo.164.1"> of SLAM is IKEA’s app, </span><em class="italic"><span class="koboSpan" id="kobo.165.1">IKEA Place</span></em><span class="koboSpan" id="kobo.166.1">. </span><span class="koboSpan" id="kobo.166.2">On the app, the user can select a piece of furniture from IKEA’s catalog and the app overlays a 3D model of it onto the camera view, allowing the user to see how the item would look in </span><span class="No-Break"><span class="koboSpan" id="kobo.167.1">their home.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.168.1">Depth sensing</span></strong><span class="koboSpan" id="kobo.169.1">: This</span><a id="_idIndexMarker304"/><span class="koboSpan" id="kobo.170.1"> involves the use of advanced sensors such </span><a id="_idIndexMarker305"/><span class="koboSpan" id="kobo.171.1">as </span><strong class="bold"><span class="koboSpan" id="kobo.172.1">time-of-flight</span></strong><span class="koboSpan" id="kobo.173.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.174.1">ToF</span></strong><span class="koboSpan" id="kobo.175.1">) or </span><strong class="bold"><span class="koboSpan" id="kobo.176.1">light detection and ranging</span></strong><span class="koboSpan" id="kobo.177.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.178.1">LIDAR</span></strong><span class="koboSpan" id="kobo.179.1">) sensors to capture the depth information of the</span><a id="_idIndexMarker306"/><span class="koboSpan" id="kobo.180.1"> surrounding environment. </span><span class="koboSpan" id="kobo.180.2">This method allows for more accurate placement and occlusion of virtual objects, where digital objects can correctly appear behind real-world objects based on </span><span class="No-Break"><span class="koboSpan" id="kobo.181.1">depth information.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.182.1">An example of this is Apple’s </span><em class="italic"><span class="koboSpan" id="kobo.183.1">ARKit 4.0</span></em><span class="koboSpan" id="kobo.184.1"> platform, which incorporates the </span><strong class="bold"><span class="koboSpan" id="kobo.185.1">Depth API</span></strong><span class="koboSpan" id="kobo.186.1"> that</span><a id="_idIndexMarker307"/><span class="koboSpan" id="kobo.187.1"> leverages the LIDAR scanner available on some iPad and iPhone models. </span><span class="koboSpan" id="kobo.187.2">Depth API enables more realistic AR experiences. </span><span class="koboSpan" id="kobo.187.3">The </span><em class="italic"><span class="koboSpan" id="kobo.188.1">Complete Anatomy</span></em><span class="koboSpan" id="kobo.189.1"> app uses ARKit’s depth sensing to place a detailed 3D human anatomy model into the real world, allowing the user to explore and interact with it as if it were physically present. </span><span class="koboSpan" id="kobo.189.2">Because of depth sensing, this model won’t accidentally appear halfway inside your sofa but will stand correctly </span><span class="No-Break"><span class="koboSpan" id="kobo.190.1">beside it.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.191.1">Machine learning and AI</span></strong><span class="koboSpan" id="kobo.192.1">: Recent</span><a id="_idIndexMarker308"/><span class="koboSpan" id="kobo.193.1"> advances in AI and machine learning have opened new possibilities for markerless AR. </span><span class="koboSpan" id="kobo.193.2">Machine learning models can be trained to recognize different types of environments and objects, providing context for more intelligent and interactive </span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">AR experiences.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.195.1">An example of this is Google’s </span><em class="italic"><span class="koboSpan" id="kobo.196.1">ARCore</span></em><span class="koboSpan" id="kobo.197.1"> platform, which uses machine learning to recognize and augment specific objects or types of objects. </span><span class="koboSpan" id="kobo.197.2">Google’s </span><em class="italic"><span class="koboSpan" id="kobo.198.1">AR Animals</span></em><span class="koboSpan" id="kobo.199.1"> feature uses ARCore to let the user search for an animal on Google and then view a 3D model of the animal in their space </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">via AR.</span></span></p></li>
</ul>
<p><span class="koboSpan" id="kobo.201.1">Markerless AR offers immense possibilities for creating immersive and interactive AR experiences. </span><span class="koboSpan" id="kobo.201.2">Whether used in gaming, interior design, education, or a myriad of other applications, it has the potential to revolutionize how we interact with the </span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">digital world.</span></span></p>
<h2 id="_idParaDest-81"><span class="koboSpan" id="kobo.203.1">Understanding AR input types for interaction</span></h2>
<p><span class="koboSpan" id="kobo.204.1">Stepping into the</span><a id="_idIndexMarker309"/><span class="koboSpan" id="kobo.205.1"> realm of AR, one swiftly realizes that it’s not just about the mesmerizing blend of physical and virtual realities that one can see. </span><span class="koboSpan" id="kobo.205.2">It’s equally about how one can interact with these layered digital augmentations, a dimension defined by AR inputs. </span><span class="koboSpan" id="kobo.205.3">These inputs — modes by which the user interacts with the AR content — serve as a linchpin that shapes the overall </span><span class="No-Break"><span class="koboSpan" id="kobo.206.1">AR experience.</span></span></p>
<p><span class="koboSpan" id="kobo.207.1">As we venture further into this discussion, let’s shine a spotlight on various AR input types and how they breathe life into </span><span class="No-Break"><span class="koboSpan" id="kobo.208.1">real-world applications:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.209.1">Touch input</span></strong><span class="koboSpan" id="kobo.210.1">: Touch input</span><a id="_idIndexMarker310"/><span class="koboSpan" id="kobo.211.1"> is a fundamental AR interaction. </span><span class="koboSpan" id="kobo.211.2">Simply put, the user can engage with the digital overlay through touch gestures on their AR device screen, be it a smartphone or a tablet. </span><span class="koboSpan" id="kobo.211.3">Touch input in AR includes not just tapping, but also other gestures such as swiping, pinching, and dragging. </span><span class="koboSpan" id="kobo.211.4">The specific gestures that can be used will depend on how the AR application is programmed. </span><span class="koboSpan" id="kobo.211.5">For example, a pinch gesture might be used to zoom in or out on an AR object, a swipe might rotate the object, and a drag could move the object around in the AR scene. </span><span class="koboSpan" id="kobo.211.6">The goal is to make the interaction with the AR elements as intuitive and natural as possible. </span><em class="italic"><span class="koboSpan" id="kobo.212.1">Snapchat lenses</span></em><span class="koboSpan" id="kobo.213.1"> provide a classic example of touch inputs at work. </span><span class="koboSpan" id="kobo.213.2">The user can animate the AR filters or induce changes by merely tapping different </span><span class="No-Break"><span class="koboSpan" id="kobo.214.1">screen areas.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.215.1">Device motion</span></strong><span class="koboSpan" id="kobo.216.1">: Device motion</span><a id="_idIndexMarker311"/><span class="koboSpan" id="kobo.217.1"> is another pivotal AR input. </span><span class="koboSpan" id="kobo.217.2">By harnessing the data from onboard accelerometers, gyroscopes, and magnetometers, AR applications can interpret the orientation and movement of the device as an input. </span><span class="koboSpan" id="kobo.217.3">This input type proves particularly useful for AR experiences that involve maneuvering through an environment or controlling virtual elements. </span><span class="koboSpan" id="kobo.217.4">A case in point is the game Pokémon Go, where the player can simulate the act of </span><em class="italic"><span class="koboSpan" id="kobo.218.1">throwing</span></em><span class="koboSpan" id="kobo.219.1"> Pokéballs by swinging </span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">their device.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.221.1">Voice commands</span></strong><span class="koboSpan" id="kobo.222.1">: Voice </span><a id="_idIndexMarker312"/><span class="koboSpan" id="kobo.223.1">commands infuse AR applications with hands-free and accessibility-friendly interaction. </span><em class="italic"><span class="koboSpan" id="kobo.224.1">Google Glass</span></em><span class="koboSpan" id="kobo.225.1">, an AR eyewear device, employs voice commands as one of its core input methods. </span><span class="koboSpan" id="kobo.225.2">The user can simply say </span><em class="italic"><span class="koboSpan" id="kobo.226.1">Okay, Glass</span></em><span class="koboSpan" id="kobo.227.1"> followed by a command such as </span><em class="italic"><span class="koboSpan" id="kobo.228.1">get directions</span></em><span class="koboSpan" id="kobo.229.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.230.1">take a picture</span></em><span class="koboSpan" id="kobo.231.1"> to interact with </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">the device.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.233.1">Eye tracking</span></strong><span class="koboSpan" id="kobo.234.1">: Eye tracking</span><a id="_idIndexMarker313"/><span class="koboSpan" id="kobo.235.1"> is typically employed in advanced AR glasses. </span><span class="koboSpan" id="kobo.235.2">By tracking the user’s eye movements, these systems allow the user to interact with AR content just by looking at it. </span><em class="italic"><span class="koboSpan" id="kobo.236.1">North Focals</span></em><span class="koboSpan" id="kobo.237.1"> AR glasses are a good example of this technology in action. </span><span class="koboSpan" id="kobo.237.2">The user can steer a small, virtual cursor just by moving </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">their eyes.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.239.1">Hand tracking</span></strong><span class="koboSpan" id="kobo.240.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.241.1">gesture recognition</span></strong><span class="koboSpan" id="kobo.242.1">: Hand tracking and gesture recognition </span><a id="_idIndexMarker314"/><span class="koboSpan" id="kobo.243.1">can be used in highly immersive AR systems to interpret and track hand movements, enabling the user to touch and interact with virtual objects directly. </span><span class="koboSpan" id="kobo.243.2">Microsoft’s </span><em class="italic"><span class="koboSpan" id="kobo.244.1">HoloLens 2</span></em><span class="koboSpan" id="kobo.245.1"> is an example of this and allows the user to manipulate holograms with their hands, pinch to resize them, or tap them </span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">for interaction.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.247.1">Physical controllers</span></strong><span class="koboSpan" id="kobo.248.1">: Physical controllers can range from handheld devices to wearable </span><a id="_idIndexMarker315"/><span class="koboSpan" id="kobo.249.1">tech such as gloves, which provide tactile feedback and precise control in specific AR applications. </span><span class="koboSpan" id="kobo.249.2">For instance, the </span><em class="italic"><span class="koboSpan" id="kobo.250.1">Magic Leap One</span></em><span class="koboSpan" id="kobo.251.1"> AR headset is accompanied by a handheld controller, immersing the user into the AR experience by allowing them to interact with </span><a id="_idIndexMarker316"/><span class="koboSpan" id="kobo.252.1">virtual content in a more </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">nuanced manner.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.254.1">As we have seen, AR inputs can significantly impact the immersive quotient of AR experiences. </span><span class="koboSpan" id="kobo.254.2">The choice of input methods hinges on the specific nature of the AR application. </span><span class="koboSpan" id="kobo.254.3">Therefore, understanding and implementing the most suitable input method can enhance an AR system’s realism and </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">usability manifold.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.256.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.257.1">Since this book primarily focuses on handheld mobile AR devices, to ensure that readers can easily reproduce all the projects presented within, we have chosen to restrict our scope to </span><span class="No-Break"><span class="koboSpan" id="kobo.258.1">touch inputs.</span></span></p>
<p><span class="koboSpan" id="kobo.259.1">In the next subsection, we will explore the AR toolkits available in Unity that can be utilized to implement the techniques we have </span><span class="No-Break"><span class="koboSpan" id="kobo.260.1">just discussed.</span></span></p>
<h2 id="_idParaDest-82"><span class="koboSpan" id="kobo.261.1">Popular AR toolkits for Unity</span></h2>
<p><span class="koboSpan" id="kobo.262.1">In this section, we </span><a id="_idIndexMarker317"/><span class="koboSpan" id="kobo.263.1">delve into Unity’s suite of AR toolkits, providing an overview for both budding and experienced developers seeking to navigate through their AR development journey. </span><span class="koboSpan" id="kobo.263.2">Each toolkit offers unique capabilities that aid developers in crafting compelling AR experiences. </span><span class="koboSpan" id="kobo.263.3">Let’s look at some of </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1">these now:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.265.1">Vuforia</span></strong><span class="koboSpan" id="kobo.266.1">: Vuforia </span><a id="_idIndexMarker318"/><span class="koboSpan" id="kobo.267.1">is a widely adopted AR platform, providing </span><a id="_idIndexMarker319"/><span class="koboSpan" id="kobo.268.1">a blend of computer vision capabilities that accommodate both marker-based and markerless AR experiences. </span><span class="koboSpan" id="kobo.268.2">Its extensive feature set includes image tracking, object recognition, and target recognition, with wide-ranging platform support. </span><span class="koboSpan" id="kobo.268.3">An additional notable feature is Vuforia’s cloud recognition, allowing developers to house a multitude of target images remotely, further expanding the AR </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">experience’s potential.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.270.1">ARKit</span></strong><span class="koboSpan" id="kobo.271.1">: Within </span><a id="_idIndexMarker320"/><span class="koboSpan" id="kobo.272.1">Apple’s playground, ARKit is the </span><a id="_idIndexMarker321"/><span class="koboSpan" id="kobo.273.1">optimal toolkit for experiences targeting iOS devices. </span><span class="koboSpan" id="kobo.273.2">It is crafted specifically to complement the iOS ecosystem, offering developers a suite of advanced features such as world tracking, face tracking, and scene understanding. </span><span class="koboSpan" id="kobo.273.3">These elements collectively serve to enrich the user’s AR experience. </span><span class="koboSpan" id="kobo.273.4">ARKit </span><a id="_idIndexMarker322"/><span class="koboSpan" id="kobo.274.1">predominantly </span><a id="_idIndexMarker323"/><span class="koboSpan" id="kobo.275.1">uses Swift and Objective-C, Apple’s proprietary programming languages. </span><span class="koboSpan" id="kobo.275.2">However, when integrated with Unity through the AR Foundation package, developers can leverage C#, enabling a more accessible and familiar </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">programming environment.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.277.1">ARCore</span></strong><span class="koboSpan" id="kobo.278.1">: Google’s </span><a id="_idIndexMarker324"/><span class="koboSpan" id="kobo.279.1">ARCore is</span><a id="_idIndexMarker325"/><span class="koboSpan" id="kobo.280.1"> the Android equivalent of ARKit, tailored for the world’s most popular mobile operating system. </span><span class="koboSpan" id="kobo.280.2">ARCore equips developers with features such as environmental understanding, motion tracking, and light estimation, all of which are essential elements for crafting realistic AR experiences. </span><span class="koboSpan" id="kobo.280.3">Primarily, ARCore uses Java for native development. </span><span class="koboSpan" id="kobo.280.4">But, similar to ARKit’s integration, ARCore can be incorporated into Unity projects via the AR Foundation package, allowing developers to </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">use C#.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.282.1">AR Foundation</span></strong><span class="koboSpan" id="kobo.283.1">: AR Foundation</span><a id="_idIndexMarker326"/><span class="koboSpan" id="kobo.284.1"> stands as Unity’s </span><a id="_idIndexMarker327"/><span class="koboSpan" id="kobo.285.1">high-level API package for constructing AR applications, unifying ARKit and ARCore’s capabilities. </span><span class="koboSpan" id="kobo.285.2">This ingenious package enables a single, streamlined workflow for creating cross-platform AR experiences, eradicating the need to write separate code bases for iOS and Android. </span><span class="koboSpan" id="kobo.285.3">It’s akin to owning a universal cookbook rather than individual recipe books for each cuisine. </span><span class="koboSpan" id="kobo.285.4">With AR Foundation, developers can leverage C#, a widely used, versatile programming language, making the process of crafting AR applications more efficient </span><span class="No-Break"><span class="koboSpan" id="kobo.286.1">and intuitive.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.287.1">If you were to use ARCore and ARKit separately, you would need to write separate sets of code for each platform. </span><span class="koboSpan" id="kobo.287.2">You would need to use ARCore to build your AR app on Android, and then rewrite the code using ARKit to make it work </span><span class="No-Break"><span class="koboSpan" id="kobo.288.1">on iOS.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.289.1">However, by using AR Foundation to develop AR apps, you only need to write a single set of code that works on both iOS and Android. </span><span class="koboSpan" id="kobo.289.2">AR Foundation provides a unified API that is compatible with both ARCore and ARKit, meaning you don’t need to write different code for each platform. </span><span class="koboSpan" id="kobo.289.3">It simplifies the development process and saves a lot of time </span><span class="No-Break"><span class="koboSpan" id="kobo.290.1">and effort.</span></span></p></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.291.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.292.1">In this chapter, we’ll focus on creating AR applications using </span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">AR Foundation.</span></span></p>
<p><span class="koboSpan" id="kobo.294.1">However, it’s important to remember that the use of ARCore or ARKit could offer unique advantages in certain scenarios, thanks to platform-specific features exclusive to each. </span><span class="koboSpan" id="kobo.294.2">For example, ARKit </span><a id="_idIndexMarker328"/><span class="koboSpan" id="kobo.295.1">brings to the table LIDAR support from </span><em class="italic"><span class="koboSpan" id="kobo.296.1">version 3.5</span></em><span class="koboSpan" id="kobo.297.1"> onward. </span><span class="koboSpan" id="kobo.297.2">This feature utilizes the LIDAR scanner integrated into select iPhone and iPad models, offering refined scene understanding and precise depth estimation. </span><span class="koboSpan" id="kobo.297.3">Another ARKit exclusive is the </span><em class="italic"><span class="koboSpan" id="kobo.298.1">Motion Capture</span></em><span class="koboSpan" id="kobo.299.1"> feature from </span><em class="italic"><span class="koboSpan" id="kobo.300.1">ARKit 3</span></em><span class="koboSpan" id="kobo.301.1"> onward, enabling developers to record human movement and apply it to a 3D character model, effectively transforming the device into a motion </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">capture studio.</span></span></p>
<p><span class="koboSpan" id="kobo.303.1">On the other hand, ARCore </span><a id="_idIndexMarker329"/><span class="koboSpan" id="kobo.304.1">also has a unique set of features for Android devices. </span><span class="koboSpan" id="kobo.304.2">One such feature is the Depth API, which generates depth maps using a single RGB camera. </span><span class="koboSpan" id="kobo.304.3">While ARKit also has depth sensing capabilities, ARCore’s Depth API can function on a broader range of devices, even those without a dedicated depth sensor. </span><span class="koboSpan" id="kobo.304.4">Another distinctive feature of ARCore is </span><em class="italic"><span class="koboSpan" id="kobo.305.1">Augmented Images</span></em><span class="koboSpan" id="kobo.306.1">, which allows the application to track and augment images at fixed locations, offering the potential for interaction with posters, murals, and </span><span class="No-Break"><span class="koboSpan" id="kobo.307.1">similar items.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.308.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.309.1">The examples mentioned earlier in this section may not be applicable when you are reading this book. </span><span class="koboSpan" id="kobo.309.2">Since ARKit, ARCore, and AR Foundation are constantly evolving, it is important to consult the latest documentation (</span><a href="https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@5.0/manual/index.html"><span class="koboSpan" id="kobo.310.1">https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@5.0/manual/index.html</span></a><span class="koboSpan" id="kobo.311.1">) for the most up-to-date and </span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">accurate information.</span></span></p>
<p><span class="koboSpan" id="kobo.313.1">Now, it is finally time to begin our first Unity </span><span class="No-Break"><span class="koboSpan" id="kobo.314.1">AR project.</span></span></p>
<h1 id="_idParaDest-83"><span class="koboSpan" id="kobo.315.1">Setting up an AR project in Unity using AR Foundation</span></h1>
<p><span class="koboSpan" id="kobo.316.1">In this section, you </span><a id="_idIndexMarker330"/><span class="koboSpan" id="kobo.317.1">will learn how to set up a simple AR project in Unity using AR Foundation. </span><span class="koboSpan" id="kobo.317.2">You will learn how you can place simple objects such as a cube, add plane detection functionalities, and implement touch inputs and anchors into your </span><span class="No-Break"><span class="koboSpan" id="kobo.318.1">AR scenes.</span></span></p>
<p><span class="koboSpan" id="kobo.319.1">Before using AR Foundation in our first AR application, however, we must first understand the architecture of </span><span class="No-Break"><span class="koboSpan" id="kobo.320.1">this package.</span></span></p>
<h2 id="_idParaDest-84"><span class="koboSpan" id="kobo.321.1">Understanding AR Foundation’s architecture</span></h2>
<p><span class="koboSpan" id="kobo.322.1">In this</span><a id="_idIndexMarker331"/><span class="koboSpan" id="kobo.323.1"> section, we’ll delve into the exciting world of Unity’s AR Foundation, a package that empowers you to create AR experiences across various platforms. </span><span class="koboSpan" id="kobo.323.2">Whether you aim to create applications for Android, Apple, or HoloLens, AR Foundation simplifies the process remarkably. </span><span class="koboSpan" id="kobo.323.3">Its extensive capabilities range from plane detection, image and object tracking, and face and body tracking, to point clouds and more. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.324.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.325.1">.1</span></em><span class="koboSpan" id="kobo.326.1"> breaks down the architecture of AR Foundation into a hierarchy of components that seamlessly work together to offer a consistent AR experience across </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">different devices.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer049">
<span class="koboSpan" id="kobo.328.1"><img alt="Figure 4.1 – AR Foundation’s architecture" src="image/B20869_04_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.329.1">Figure 4.1 – AR Foundation’s architecture</span></p>
<p><span class="koboSpan" id="kobo.330.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.331.1">AR App</span></strong><span class="koboSpan" id="kobo.332.1"> represents</span><a id="_idIndexMarker332"/><span class="koboSpan" id="kobo.333.1"> the application where developers craft their AR experiences. </span><span class="koboSpan" id="kobo.333.2">It is directly linked with the </span><strong class="bold"><span class="koboSpan" id="kobo.334.1">Managers</span></strong><span class="koboSpan" id="kobo.335.1">, which serve as the primary interfaces for specific </span><span class="No-Break"><span class="koboSpan" id="kobo.336.1">AR functionalities.</span></span></p>
<p><span class="koboSpan" id="kobo.337.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.338.1">AR PlaneManager</span></strong><span class="koboSpan" id="kobo.339.1"> is</span><a id="_idIndexMarker333"/><span class="koboSpan" id="kobo.340.1"> crucial for detecting and tracking real-world planes, such as floors or walls. </span><span class="koboSpan" id="kobo.340.2">It provides a consistent means to engage with the physical environment around a user, feeding the app with data about surfaces in the </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">user’s surroundings.</span></span></p>
<p><span class="koboSpan" id="kobo.342.1">Similarly, the </span><strong class="bold"><span class="koboSpan" id="kobo.343.1">ARRaycast Manager</span></strong><span class="koboSpan" id="kobo.344.1"> plays an</span><a id="_idIndexMarker334"/><span class="koboSpan" id="kobo.345.1"> essential role in understanding user interactions within this AR space. </span><span class="koboSpan" id="kobo.345.2">It casts rays into the AR scene, determining where these rays intersect with real-world surfaces. </span><span class="koboSpan" id="kobo.345.3">This is particularly vital when users intend to place virtual objects on these surfaces or wish to interact with virtual elements in relation to the </span><span class="No-Break"><span class="koboSpan" id="kobo.346.1">real world.</span></span></p>
<p><span class="koboSpan" id="kobo.347.1">Delving</span><a id="_idIndexMarker335"/><span class="koboSpan" id="kobo.348.1"> deeper, these managers interact with </span><strong class="bold"><span class="koboSpan" id="kobo.349.1">Subsystems</span></strong><span class="koboSpan" id="kobo.350.1">, abstract layers that communicate with the actual platform-specific modules. </span><span class="koboSpan" id="kobo.350.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.351.1">XRPlane Subsystem</span></strong><span class="koboSpan" id="kobo.352.1"> standardizes</span><a id="_idIndexMarker336"/><span class="koboSpan" id="kobo.353.1"> data related to plane detection, ensuring that plane-related events and data are uniform, irrespective of whether it’s ARKit or ARCore doing the underlying work. </span><span class="koboSpan" id="kobo.353.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.354.1">XRRaycast Subsystem</span></strong><span class="koboSpan" id="kobo.355.1"> offers </span><a id="_idIndexMarker337"/><span class="koboSpan" id="kobo.356.1">a consistent interface for raycasting, abstracting the nuances of each </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">platform’s approach.</span></span></p>
<p><span class="koboSpan" id="kobo.358.1">Lastly, the </span><strong class="bold"><span class="koboSpan" id="kobo.359.1">Providers</span></strong><span class="koboSpan" id="kobo.360.1"> represent </span><a id="_idIndexMarker338"/><span class="koboSpan" id="kobo.361.1">the platform-specific SDKs that power AR on each device type. </span><span class="koboSpan" id="kobo.361.2">ARKit SDK is Apple’s contribution for its iOS devices, with specialized subsystems for plane detection and raycasting. </span><span class="koboSpan" id="kobo.361.3">On the other side, ARCore SDK is Google’s solution for Android, mirroring the functionalities offered by ARKit but tailored for the </span><span class="No-Break"><span class="koboSpan" id="kobo.362.1">Android ecosystem.</span></span></p>
<p><span class="koboSpan" id="kobo.363.1">As you can see, AR Foundation offers XR developers a unified framework by allowing them to focus on their application’s AR experience without worrying about platform-specific intricacies. </span><span class="koboSpan" id="kobo.363.2">Through its layered architecture, it ensures that applications remain consistent and high-quality, whether deployed on an iPhone or an </span><span class="No-Break"><span class="koboSpan" id="kobo.364.1">Android device.</span></span></p>
<p><span class="koboSpan" id="kobo.365.1">With this understanding, it is finally time to create our first AR project </span><span class="No-Break"><span class="koboSpan" id="kobo.366.1">in Unity.</span></span></p>
<h2 id="_idParaDest-85"><span class="koboSpan" id="kobo.367.1">Creating an AR project with Unity’s AR template</span></h2>
<p><span class="koboSpan" id="kobo.368.1">Creating </span><a id="_idIndexMarker339"/><span class="koboSpan" id="kobo.369.1">an AR project in Unity is quite straightforward. </span><span class="koboSpan" id="kobo.369.2">Follow these steps to </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">get started:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.371.1">Depending on your target AR platform — Android or iOS — you’ll need to navigate first to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.372.1">Installs</span></strong><span class="koboSpan" id="kobo.373.1"> folder in the Unity Hub, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.374.1">Settings</span></strong><span class="koboSpan" id="kobo.375.1"> icon adjacent to your version, select </span><strong class="bold"><span class="koboSpan" id="kobo.376.1">Add Modules</span></strong><span class="koboSpan" id="kobo.377.1">, and install the appropriate </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">build support.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.379.1">To show your project in the AR Unity template, you’d follow the </span><span class="No-Break"><span class="koboSpan" id="kobo.380.1">subsequent steps.</span></span></p></li>
<li><span class="koboSpan" id="kobo.381.1">In the </span><a id="_idIndexMarker340"/><span class="koboSpan" id="kobo.382.1">Unity Hub’s project window, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.383.1">New project</span></strong><span class="koboSpan" id="kobo.384.1"> button in the </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">top-right corner.</span></span></li>
<li><span class="koboSpan" id="kobo.386.1">Choose the </span><strong class="bold"><span class="koboSpan" id="kobo.387.1">AR</span></strong><span class="koboSpan" id="kobo.388.1"> template and give your project a unique name of your choice, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.389.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.390.1">.2</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.391.1">.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer050">
<span class="koboSpan" id="kobo.392.1"><img alt="Figure 4.2 – ﻿The AR template available in the Unity Hub" src="image/B20869_04_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.393.1">Figure 4.2 – The AR template available in the Unity Hub</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.394.1">Why choose the AR template?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.395.1">In Unity’s world, the AR template is like a bountiful garden, already seeded with pre-installed packages such as AR foundation, ARKit Face Tracking, ARKit XR-, ARCore XR-, Magic Leap XR-, and the OpenXR plugins, not to mention a sample scene. </span><span class="koboSpan" id="kobo.395.2">However, you might observe that this lush garden contains plants that aren’t necessary for your target landscape: Android or iOS. </span><span class="koboSpan" id="kobo.395.3">To maintain a cleaner garden, you can selectively pick the seeds you need – the OpenXR plugin, AR Foundation, Input System and the ARCore XR plugin (for Android) or ARKit XR plugin (for iOS) – from Unity’s own nursery, the package manager, and plant them in a regular </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">3D scene.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.397.1">Finally, click on </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.398.1">Create Project</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.399.1">.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.400.1">Once the scene</span><a id="_idIndexMarker341"/><span class="koboSpan" id="kobo.401.1"> loads in the Unity Editor, it should look like what is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.402.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.403.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.404.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer051">
<span class="koboSpan" id="kobo.405.1"><img alt="Figure 4.3 – ﻿Unity’s AR SampleScene" src="image/B20869_04_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.406.1">Figure 4.3 – Unity’s AR SampleScene</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.407.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.408.1">If you don’t see the scene shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.409.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.410.1">.3</span></em><span class="koboSpan" id="kobo.411.1"> in the Unity Editor, you can open it manually by selecting </span><strong class="bold"><span class="koboSpan" id="kobo.412.1">Assets</span></strong><span class="koboSpan" id="kobo.413.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.414.1">ExampleAssets</span></strong><span class="koboSpan" id="kobo.415.1"> | </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.416.1">SampleScene</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.418.1">The newly opend scene contains </span><strong class="bold"><span class="koboSpan" id="kobo.419.1">Directional Light</span></strong><span class="koboSpan" id="kobo.420.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.421.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.422.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.423.1">AR Session</span></strong><span class="koboSpan" id="kobo.424.1"> GameObjects. </span><span class="koboSpan" id="kobo.424.2">If you wish to bring these objects into a new scene, you can conjure an </span><strong class="bold"><span class="koboSpan" id="kobo.425.1">AR Session</span></strong><span class="koboSpan" id="kobo.426.1"> GameObject by right-clicking in the hierarchy and choosing </span><strong class="bold"><span class="koboSpan" id="kobo.427.1">XR</span></strong><span class="koboSpan" id="kobo.428.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.429.1">AR Session</span></strong><span class="koboSpan" id="kobo.430.1">. </span><span class="koboSpan" id="kobo.430.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.431.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.432.1"> GameObject can be summoned in a similar fashion by selecting </span><strong class="bold"><span class="koboSpan" id="kobo.433.1">XR</span></strong><span class="koboSpan" id="kobo.434.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.435.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.436.1">. </span><span class="koboSpan" id="kobo.436.2">That’s the initial </span><span class="No-Break"><span class="koboSpan" id="kobo.437.1">magic performed.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.438.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.439.1">At the time of this book’s publication, </span><strong class="bold"><span class="koboSpan" id="kobo.440.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.441.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.442.1">AR Session</span></strong><span class="koboSpan" id="kobo.443.1"> represent the default GameObjects integrated into the </span><em class="italic"><span class="koboSpan" id="kobo.444.1">AR Foundation</span></em><span class="koboSpan" id="kobo.445.1">’s template. </span><span class="koboSpan" id="kobo.445.2">Yet, given the dynamic nature of </span><em class="italic"><span class="koboSpan" id="kobo.446.1">AR Foundation</span></em><span class="koboSpan" id="kobo.447.1">, continuous updates and revisions are anticipated. </span><span class="koboSpan" id="kobo.447.2">There are indications that </span><strong class="bold"><span class="koboSpan" id="kobo.448.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.449.1"> is slated to evolve into </span><em class="italic"><span class="koboSpan" id="kobo.450.1">XR Origin </span></em><span class="koboSpan" id="kobo.451.1">(</span><em class="italic"><span class="koboSpan" id="kobo.452.1">Mobile AR</span></em><span class="koboSpan" id="kobo.453.1">) in </span><span class="No-Break"><span class="koboSpan" id="kobo.454.1">upcoming versions.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.455.1">Should you encounter such changes, don’t fret. </span><span class="koboSpan" id="kobo.455.2">The essence of this chapter remains intact and can be easily navigated. </span><span class="koboSpan" id="kobo.455.3">We recommend accessing our </span><em class="italic"><span class="koboSpan" id="kobo.456.1">GitHub</span></em><span class="koboSpan" id="kobo.457.1"> repository to clone the specific project versions we’ve worked with, ensuring compatibility with Unity. </span><span class="koboSpan" id="kobo.457.2">Often, transitioning from outdated GameObjects to their newer counterparts is seamless, requiring minimal, if any, adjustments to the </span><span class="No-Break"><span class="koboSpan" id="kobo.458.1">existing logic.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.459.1">Stay adaptable and remember: the core concepts and foundations presented here remain your guide, even as the </span><span class="No-Break"><span class="koboSpan" id="kobo.460.1">tools evolve.</span></span></p>
<p><span class="koboSpan" id="kobo.461.1">Before we start</span><a id="_idIndexMarker342"/><span class="koboSpan" id="kobo.462.1"> inspecting these GameObjects, we first need to adjust some project settings of our </span><span class="No-Break"><span class="koboSpan" id="kobo.463.1">AR scene.</span></span></p>
<h2 id="_idParaDest-86"><span class="koboSpan" id="kobo.464.1">Changing the project settings</span></h2>
<p><span class="koboSpan" id="kobo.465.1">To define which</span><a id="_idIndexMarker343"/><span class="koboSpan" id="kobo.466.1"> providers we want to target with our AR scene, go to </span><strong class="bold"><span class="koboSpan" id="kobo.467.1">XR Plug-in Management</span></strong><span class="koboSpan" id="kobo.468.1"> under </span><strong class="bold"><span class="koboSpan" id="kobo.469.1">Edit</span></strong><span class="koboSpan" id="kobo.470.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.471.1">Project Settings</span></strong><span class="koboSpan" id="kobo.472.1">. </span><span class="koboSpan" id="kobo.472.2">Depending on the platform we’re targeting, be it an Android or an iOS device, we activate the corresponding ARCore or ARKit checkbox. </span><span class="koboSpan" id="kobo.472.3">If you seek to embrace both platforms, enable both checkboxes. </span><span class="koboSpan" id="kobo.472.4">This will install the provider packages into </span><span class="No-Break"><span class="koboSpan" id="kobo.473.1">your project.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.474.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.475.1">If you don’t see Android, iOS, or both tabs, it’s likely that the </span><em class="italic"><span class="koboSpan" id="kobo.476.1">Android</span></em><span class="koboSpan" id="kobo.477.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.478.1">iOS Build Support</span></em><span class="koboSpan" id="kobo.479.1"> module hasn’t been integrated into your Editor. </span><span class="koboSpan" id="kobo.479.2">Let’s see how we can fix </span><span class="No-Break"><span class="koboSpan" id="kobo.480.1">this problem.</span></span></p>
<p class="callout"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.481.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.482.1">.4</span></em><span class="koboSpan" id="kobo.483.1"> shows the installed Unity Editor with the Build Support modules marked in the </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">Unity Hub.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer052">
<span class="koboSpan" id="kobo.485.1"><img alt="Figure 4.4 – The installed Unity Editor with the Build Support modules marked" src="image/B20869_04_04.jpg"/></span>
</div>
</div>
<p class="callout"><span class="No-Break"><span class="koboSpan" id="kobo.486.1">Figure 4</span></span><span class="koboSpan" id="kobo.487.1">.4 – The installed Unity Editor with the Build Support </span><span class="No-Break"><span class="koboSpan" id="kobo.488.1">modules marked</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.489.1">The displayed image indicates an absence of the </span><em class="italic"><span class="koboSpan" id="kobo.490.1">iOS Build Support</span></em><span class="koboSpan" id="kobo.491.1"> module in the Unity Editor. </span><span class="koboSpan" id="kobo.491.2">To adjust this, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.492.1">Installs</span></strong><span class="koboSpan" id="kobo.493.1"> tab in the Unity Hub. </span><span class="koboSpan" id="kobo.493.2">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.494.1">Settings</span></strong><span class="koboSpan" id="kobo.495.1"> icon in the top-right corner of your Unity Editor installation. </span><span class="koboSpan" id="kobo.495.2">Then, select </span><strong class="bold"><span class="koboSpan" id="kobo.496.1">Add Modules</span></strong><span class="koboSpan" id="kobo.497.1">, enable the checkboxes for </span><strong class="bold"><span class="koboSpan" id="kobo.498.1">iOS Build Support</span></strong><span class="koboSpan" id="kobo.499.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.500.1">Android Build Support</span></strong><span class="koboSpan" id="kobo.501.1"> – or both, if you will – and install them. </span><span class="koboSpan" id="kobo.501.2">Once the installation is finished, go back to your project’s </span><strong class="bold"><span class="koboSpan" id="kobo.502.1">XR Plug-in </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.503.1">Management</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.504.1"> window.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.505.1">Now, you should find the </span><strong class="bold"><span class="koboSpan" id="kobo.506.1">ARCore</span></strong><span class="koboSpan" id="kobo.507.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.508.1">ARKit</span></strong><span class="koboSpan" id="kobo.509.1"> tabs under </span><strong class="bold"><span class="koboSpan" id="kobo.510.1">XR </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.511.1">Plug-in Management</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.513.1">Now, select</span><a id="_idIndexMarker344"/><span class="koboSpan" id="kobo.514.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.515.1">ARCore</span></strong><span class="koboSpan" id="kobo.516.1"> tab to explore fields related to the configuration and settings of the ARCore packages in your Unity project. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.517.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.518.1">.5</span></em><span class="koboSpan" id="kobo.519.1"> shows the </span><strong class="bold"><span class="koboSpan" id="kobo.520.1">ARCore</span></strong><span class="koboSpan" id="kobo.521.1"> tab with its </span><span class="No-Break"><span class="koboSpan" id="kobo.522.1">default settings.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer053">
<span class="koboSpan" id="kobo.523.1"><img alt="Figure 4.5 – The ARCore tab with its default settings" src="image/B20869_04_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.524.1">Figure 4.5 – The ARCore tab with its default settings</span></p>
<p><span class="koboSpan" id="kobo.525.1">Let’s go through the function of </span><span class="No-Break"><span class="koboSpan" id="kobo.526.1">each field:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.527.1">Requirement</span></strong><span class="koboSpan" id="kobo.528.1">: This parameter dictates the necessity of ARCore for your application. </span><span class="koboSpan" id="kobo.528.2">If set to </span><strong class="bold"><span class="koboSpan" id="kobo.529.1">Required</span></strong><span class="koboSpan" id="kobo.530.1">, it establishes ARCore as an integral component for your target device. </span><span class="koboSpan" id="kobo.530.2">Conversely, when marked as </span><strong class="bold"><span class="koboSpan" id="kobo.531.1">Optional</span></strong><span class="koboSpan" id="kobo.532.1">, ARCore is positioned as an additional feature, supplementing the application’s capabilities when present but not essential for the application’s </span><span class="No-Break"><span class="koboSpan" id="kobo.533.1">core functionality.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.534.1">Depth</span></strong><span class="koboSpan" id="kobo.535.1">: This is</span><a id="_idIndexMarker345"/><span class="koboSpan" id="kobo.536.1"> the tool that gives your device the power of depth perception within its environment. </span><span class="koboSpan" id="kobo.536.2">Useful for occlusion and other advanced AR effects, it lets you toggle depth estimation in ARCore. </span><span class="koboSpan" id="kobo.536.3">If you set </span><strong class="bold"><span class="koboSpan" id="kobo.537.1">Depth</span></strong><span class="koboSpan" id="kobo.538.1"> to </span><strong class="bold"><span class="koboSpan" id="kobo.539.1">Required</span></strong><span class="koboSpan" id="kobo.540.1">, your AR application will need to have depth estimation capabilities to function. </span><span class="koboSpan" id="kobo.540.2">On the other hand, selecting </span><strong class="bold"><span class="koboSpan" id="kobo.541.1">Optional</span></strong><span class="koboSpan" id="kobo.542.1"> means your AR application is capable of utilizing depth estimation features if the device supports it, but it doesn’t hamper the basic functioning if such features </span><span class="No-Break"><span class="koboSpan" id="kobo.543.1">are absent.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.544.1">Ignore Gradle Version</span></strong><span class="koboSpan" id="kobo.545.1"> checkbox: This is your control over the Gradle build system, an essential tool for building Android apps. </span><span class="koboSpan" id="kobo.545.2">When unchecked, Unity adheres to the specified Gradle version for your project. </span><span class="koboSpan" id="kobo.545.3">However, if checked, Unity gains autonomy, ignoring the specified version and choosing to operate on its </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">default version.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.547.1">While the default settings – having both the </span><strong class="bold"><span class="koboSpan" id="kobo.548.1">Requirement</span></strong><span class="koboSpan" id="kobo.549.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.550.1">Depth</span></strong><span class="koboSpan" id="kobo.551.1"> fields set to </span><strong class="bold"><span class="koboSpan" id="kobo.552.1">Required</span></strong><span class="koboSpan" id="kobo.553.1"> and the </span><strong class="bold"><span class="koboSpan" id="kobo.554.1">Ignore Gradle Version</span></strong><span class="koboSpan" id="kobo.555.1"> checkbox unchecked – suit most projects, there are exceptions. </span><span class="koboSpan" id="kobo.555.2">For instance, if you’re creating an AR application designed for a wide variety of devices with varying capabilities, or if your application’s main functionalities do not heavily rely on ARCore’s depth perception, you might want to set the </span><strong class="bold"><span class="koboSpan" id="kobo.556.1">Depth</span></strong><span class="koboSpan" id="kobo.557.1"> field to </span><strong class="bold"><span class="koboSpan" id="kobo.558.1">Optional</span></strong><span class="koboSpan" id="kobo.559.1">. </span><span class="koboSpan" id="kobo.559.2">Furthermore, if you’re working on a project that requires a specific Gradle version or has conflicts with newer versions, checking the </span><strong class="bold"><span class="koboSpan" id="kobo.560.1">Ignore Gradle Version</span></strong><span class="koboSpan" id="kobo.561.1"> box would be necessary. </span><span class="koboSpan" id="kobo.561.2">However, for this chapter, we can keep the </span><span class="No-Break"><span class="koboSpan" id="kobo.562.1">default settings.</span></span></p>
<p><span class="koboSpan" id="kobo.563.1">Next, we turn our attention to the </span><strong class="bold"><span class="koboSpan" id="kobo.564.1">ARKit</span></strong><span class="koboSpan" id="kobo.565.1"> tab. </span><span class="koboSpan" id="kobo.565.2">Just like its ARCore counterpart, these fields are connected to the configuration and settings of the ARKit packages in your Unity project. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.566.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.567.1">.6</span></em><span class="koboSpan" id="kobo.568.1"> shows the </span><strong class="bold"><span class="koboSpan" id="kobo.569.1">ARKit</span></strong><span class="koboSpan" id="kobo.570.1"> tab with its </span><span class="No-Break"><span class="koboSpan" id="kobo.571.1">default settings.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer054">
<span class="koboSpan" id="kobo.572.1"><img alt="Figure 4.6 – The ARKit tab with its default settings" src="image/B20869_04_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.573.1">Figure 4.6 – The ARKit tab with its default settings</span></p>
<p><span class="koboSpan" id="kobo.574.1">Let’s decode the roles of all the fields shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.575.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.576.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.577.1">:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.578.1">Requirement</span></strong><span class="koboSpan" id="kobo.579.1">: Acting in a manner similar to ARCore’s </span><strong class="bold"><span class="koboSpan" id="kobo.580.1">Requirement</span></strong><span class="koboSpan" id="kobo.581.1"> field, this indicator announces whether ARKit is deemed vital for </span><span class="No-Break"><span class="koboSpan" id="kobo.582.1">your project.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.583.1">Face Tracking</span></strong><span class="koboSpan" id="kobo.584.1">: Acting as a switch, this checkbox enables or disables the face tracking functionality in ARKit. </span><span class="koboSpan" id="kobo.584.2">When activated, it allows tracking and recognizing a range of facial features and expressions using the device’s </span><span class="No-Break"><span class="koboSpan" id="kobo.585.1">front-facing camera.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.586.1">For the moment, we’ll </span><a id="_idIndexMarker346"/><span class="koboSpan" id="kobo.587.1">abide by the default settings – the </span><strong class="bold"><span class="koboSpan" id="kobo.588.1">Requirement</span></strong><span class="koboSpan" id="kobo.589.1"> field standing firm at </span><strong class="bold"><span class="koboSpan" id="kobo.590.1">Required</span></strong><span class="koboSpan" id="kobo.591.1"> and the </span><strong class="bold"><span class="koboSpan" id="kobo.592.1">Face Tracking</span></strong><span class="koboSpan" id="kobo.593.1"> checkbox remaining in the off position, as it’s not </span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">currently needed.</span></span></p>
<p><span class="koboSpan" id="kobo.595.1">In the forthcoming sections, we’re going to delve into the GameObjects that accompany the </span><strong class="bold"><span class="koboSpan" id="kobo.596.1">AR</span></strong><span class="koboSpan" id="kobo.597.1"> template. </span><span class="koboSpan" id="kobo.597.2">We’ll dive into their roles and demystify why they hold such significance. </span><span class="koboSpan" id="kobo.597.3">Let’s begin with the AR </span><span class="No-Break"><span class="koboSpan" id="kobo.598.1">Session GameObject.</span></span></p>
<h2 id="_idParaDest-87"><span class="koboSpan" id="kobo.599.1">Understanding the AR Session GameObject</span></h2>
<p><span class="koboSpan" id="kobo.600.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.601.1">AR Session</span></strong><span class="koboSpan" id="kobo.602.1"> GameObject </span><a id="_idIndexMarker347"/><span class="koboSpan" id="kobo.603.1">manages the lifecycle of your AR application. </span><span class="koboSpan" id="kobo.603.2">To understand it, click on it in the scene hierarchy and navigate to the inspector window. </span><span class="koboSpan" id="kobo.603.3">As shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.604.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.605.1">.7</span></em><span class="koboSpan" id="kobo.606.1">, the </span><strong class="bold"><span class="koboSpan" id="kobo.607.1">AR Session</span></strong><span class="koboSpan" id="kobo.608.1"> GameObject contains </span><a id="_idIndexMarker348"/><span class="koboSpan" id="kobo.609.1">the </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">AR Session</span></strong><span class="koboSpan" id="kobo.611.1"> and the </span><strong class="bold"><span class="koboSpan" id="kobo.612.1">AR Input </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.613.1">Manager</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.614.1"> components.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer055">
<span class="koboSpan" id="kobo.615.1"><img alt="Figure 4.7 – The Inspector window when the AR Session GameObject is selected" src="image/B20869_04_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.616.1">Figure 4.7 – The Inspector window when the AR Session GameObject is selected</span></p>
<p><span class="koboSpan" id="kobo.617.1">Let’s understand</span><a id="_idIndexMarker349"/><span class="koboSpan" id="kobo.618.1"> each of the fields shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.619.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.620.1">.7</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.621.1">:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.622.1">Attempt Update</span></strong><span class="koboSpan" id="kobo.623.1"> checkbox: This checkbox, when marked, is your instruction to the AR session to be vigilant about keeping the device’s pose and tracking state up-to-date with every frame and every tick of the clock. </span><span class="koboSpan" id="kobo.623.2">Checking the box commands the AR session to fetch fresh tracking data diligently, ensuring that even when the device’s tracking wavers temporarily, the AR elements maintain their alignment with the real world. </span><span class="koboSpan" id="kobo.623.3">Imagine an AR hoop shooting game. </span><span class="koboSpan" id="kobo.623.4">In this game, you see a virtual hoop overlaid onto your real-world environment through your device’s screen. </span><span class="koboSpan" id="kobo.623.5">The objective is to shoot virtual balls into this hoop from various angles and distances. </span><span class="koboSpan" id="kobo.623.6">For this to function well, it’s vital that the tracking data of your device is continuously updated. </span><span class="koboSpan" id="kobo.623.7">That’s where the </span><strong class="bold"><span class="koboSpan" id="kobo.624.1">Attempt Update</span></strong><span class="koboSpan" id="kobo.625.1"> checkbox </span><span class="No-Break"><span class="koboSpan" id="kobo.626.1">comes in.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.627.1">Activating </span><strong class="bold"><span class="koboSpan" id="kobo.628.1">Attempt Update</span></strong><span class="koboSpan" id="kobo.629.1"> commands the game to consistently refresh the tracking state, securing the harmony of the virtual objects with the real-world environment, notwithstanding transient </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">tracking losses.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.631.1">Match Frame Rate</span></strong><span class="koboSpan" id="kobo.632.1"> checkbox: This, when marked, means that you’re asking the AR session </span><a id="_idIndexMarker350"/><span class="koboSpan" id="kobo.633.1">to walk in step with the device’s camera frame rate. </span><span class="koboSpan" id="kobo.633.2">The AR session adjusts its rhythm to mirror the camera’s, culminating in a harmonious visual experience. </span><span class="koboSpan" id="kobo.633.3">Consider an AR app that lets the user envision virtual furniture within their </span><span class="No-Break"><span class="koboSpan" id="kobo.634.1">actual space.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.635.1">A ticked </span><strong class="bold"><span class="koboSpan" id="kobo.636.1">Match Frame Rate</span></strong><span class="koboSpan" id="kobo.637.1"> checkbox ensures the AR session’s frame rate keeps time with the camera’s, curbing visual discord between the actual space and the virtual furniture, thereby enabling a precise assessment </span><span class="No-Break"><span class="koboSpan" id="kobo.638.1">of aesthetics.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.639.1">Tracking Mode</span></strong><span class="koboSpan" id="kobo.640.1"> drop-down menu: This is the key to defining the tracking quality of your AR session. </span><span class="koboSpan" id="kobo.640.2">The selected mode determines the AR system’s awareness of, and response to, the device’s motion and position in the real world. </span><span class="koboSpan" id="kobo.640.3">Picture an AR navigation app that superimposes virtual arrows over the physical world to guide </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">the user.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.642.1">In this navigation app, opting for </span><strong class="bold"><span class="koboSpan" id="kobo.643.1">Rotation and Position Tracking</span></strong><span class="koboSpan" id="kobo.644.1"> imparts full tracking capabilities, ensuring the virtual arrows trace the contours of the real world accurately, guiding the user along their path </span><span class="No-Break"><span class="koboSpan" id="kobo.645.1">with precision.</span></span></p></li>
</ul>
<p><span class="koboSpan" id="kobo.646.1">For our current exploration, we’ll stick with the default settings – both the </span><strong class="bold"><span class="koboSpan" id="kobo.647.1">Attempt Update</span></strong><span class="koboSpan" id="kobo.648.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.649.1">Match Frame Rate</span></strong><span class="koboSpan" id="kobo.650.1"> checkboxes are ticked and </span><strong class="bold"><span class="koboSpan" id="kobo.651.1">Tracking Mode</span></strong><span class="koboSpan" id="kobo.652.1"> is set to </span><strong class="bold"><span class="koboSpan" id="kobo.653.1">Position And Rotation</span></strong><span class="koboSpan" id="kobo.654.1">. </span><span class="koboSpan" id="kobo.654.2">In the future, your choice of these settings should reflect your project’s goals and the intended user experience. </span><span class="koboSpan" id="kobo.654.3">To discover the best blend for your needs, we encourage you to experiment with different settings </span><span class="No-Break"><span class="koboSpan" id="kobo.655.1">and configurations.</span></span></p>
<p><span class="koboSpan" id="kobo.656.1">The second component under the AR Session umbrella is the </span><strong class="bold"><span class="koboSpan" id="kobo.657.1">AR Input </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.658.1">Manager</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.659.1"> component.</span></span></p>
<p><span class="koboSpan" id="kobo.660.1">The AR Input Manager </span><a id="_idIndexMarker351"/><span class="koboSpan" id="kobo.661.1">component translates the user’s interactions with the AR scene into meaningful input. </span><span class="koboSpan" id="kobo.661.2">It perceives and processes a variety of user inputs such as taps, touches, and gestures. </span><span class="koboSpan" id="kobo.661.3">It’s the invisible hand enabling interactivity in your AR application, allowing placement of objects or interactions with virtual elements. </span><span class="koboSpan" id="kobo.661.4">For instance, imagine an AR game where the user neutralizes virtual targets with a tap. </span><span class="koboSpan" id="kobo.661.5">The </span><strong class="bold"><span class="koboSpan" id="kobo.662.1">AR Input Manager script</span></strong><span class="koboSpan" id="kobo.663.1"> reads</span><a id="_idIndexMarker352"/><span class="koboSpan" id="kobo.664.1"> the tap on the screen and furnishes the requisite information to unleash the shooting action in </span><span class="No-Break"><span class="koboSpan" id="kobo.665.1">the game.</span></span></p>
<p><span class="koboSpan" id="kobo.666.1">Now, our focus shifts to the AR Session </span><span class="No-Break"><span class="koboSpan" id="kobo.667.1">Origin GameObject.</span></span></p>
<h2 id="_idParaDest-88"><span class="koboSpan" id="kobo.668.1">Exploring the AR Session Origin GameObject</span></h2>
<p><span class="koboSpan" id="kobo.669.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.670.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.671.1"> GameObject</span><a id="_idIndexMarker353"/><span class="koboSpan" id="kobo.672.1"> is the primary element controlling the synchronization between the physical world and virtual objects projected in AR. </span><span class="koboSpan" id="kobo.672.2">It comprises various components, such as AR Session Origin, AR Plane Manager, AR Anchor Manager, AR Raycast Manager, and Anchor Creator, as we can see in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.673.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.674.1">.8</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.675.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer056">
<span class="koboSpan" id="kobo.676.1"><img alt="Figure 4.8 – The Inspector when AR Session Origin is selected" src="image/B20869_04_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.677.1">Figure 4.8 – The Inspector when AR Session Origin is selected</span></p>
<p><span class="koboSpan" id="kobo.678.1">For the initiation phase of our AR development, we only require the AR Session Origin component. </span><span class="koboSpan" id="kobo.678.2">Hence, you may disable all other components for the </span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">time being.</span></span></p>
<p><span class="koboSpan" id="kobo.680.1">Think of AR Session Origin as the pivot point of your AR experience. </span><span class="koboSpan" id="kobo.680.2">It provides a basis for anchoring virtual objects within the AR environment. </span><span class="koboSpan" id="kobo.680.3">Let’s visualize an AR app allowing the user to place virtual furniture within their home. </span><span class="koboSpan" id="kobo.680.4">Here, the AR Session Origin component arranges and alignes the virtual furniture correctly within the user’s </span><span class="No-Break"><span class="koboSpan" id="kobo.681.1">physical space.</span></span></p>
<p><span class="koboSpan" id="kobo.682.1">AR Session Origin </span><a id="_idIndexMarker354"/><span class="koboSpan" id="kobo.683.1">ensures the alignment of the user’s environment with the position and orientation of the displayed AR scene. </span><span class="koboSpan" id="kobo.683.2">For instance, when a user places a virtual chair, this script maintains the chair’s positioning and orientation, no matter the user’s movement within the room. </span><span class="koboSpan" id="kobo.683.3">This is why this component is essential in creating an authentic </span><span class="No-Break"><span class="koboSpan" id="kobo.684.1">AR experience.</span></span></p>
<p><span class="koboSpan" id="kobo.685.1">For blending the virtual objects with the real-world footage, the AR session necessitates the presence of a camera. </span><span class="koboSpan" id="kobo.685.2">In the case of an existing main camera in your scene, you can safely remove it. </span><span class="koboSpan" id="kobo.685.3">AR Session Origin incorporates its own child </span><strong class="bold"><span class="koboSpan" id="kobo.686.1">AR Camera</span></strong><span class="koboSpan" id="kobo.687.1">. </span><span class="koboSpan" id="kobo.687.2">This camera, devoid of any </span><a id="_idIndexMarker355"/><span class="koboSpan" id="kobo.688.1">skybox for a monochromatic background, comes pre-equipped with necessary components, such as </span><strong class="bold"><span class="koboSpan" id="kobo.689.1">Camera</span></strong><span class="koboSpan" id="kobo.690.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.691.1">Tracked Pose Driver</span></strong><span class="koboSpan" id="kobo.692.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.693.1">AR Camera Manager</span></strong><span class="koboSpan" id="kobo.694.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.695.1">AR Camera Background</span></strong><span class="koboSpan" id="kobo.696.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.697.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.698.1">.9</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.699.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer057">
<span class="koboSpan" id="kobo.700.1"><img alt="Figure 4.9 – The Inspector when AR Session Origin’s child AR Camera is selected" src="image/B20869_04_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.701.1">Figure 4.9 – The Inspector when AR Session Origin’s child AR Camera is selected</span></p>
<p><span class="koboSpan" id="kobo.702.1"> Let’s now learn more about each </span><span class="No-Break"><span class="koboSpan" id="kobo.703.1">of these:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.704.1">Like a real-world camera, the </span><strong class="bold"><span class="koboSpan" id="kobo.705.1">Camera</span></strong><span class="koboSpan" id="kobo.706.1"> component captures and displays a portion of the game scene to the player – essentially, what you see on your device’s screen when playing an AR game. </span><span class="koboSpan" id="kobo.706.2">It can be positioned and rotated to capture different views within the </span><span class="No-Break"><span class="koboSpan" id="kobo.707.1">game scene.</span></span></li>
<li><span class="koboSpan" id="kobo.708.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.709.1">AR Camera Manager</span></strong><span class="koboSpan" id="kobo.710.1"> component </span><a id="_idIndexMarker356"/><span class="koboSpan" id="kobo.711.1">controls the phone camera settings, such as </span><strong class="bold"><span class="koboSpan" id="kobo.712.1">Facing Direction</span></strong><span class="koboSpan" id="kobo.713.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.714.1">Light Estimation</span></strong><span class="koboSpan" id="kobo.715.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.716.1">Auto Focus</span></strong><span class="koboSpan" id="kobo.717.1">. </span><strong class="bold"><span class="koboSpan" id="kobo.718.1">Auto Focus</span></strong><span class="koboSpan" id="kobo.719.1"> makes the camera automatically adjust its focus to keep AR objects sharp, just like autofocus in a regular camera. </span><strong class="bold"><span class="koboSpan" id="kobo.720.1">Light Estimation</span></strong><span class="koboSpan" id="kobo.721.1"> allows you to choose </span><a id="_idIndexMarker357"/><span class="koboSpan" id="kobo.722.1">how the AR system estimates real-world lighting conditions to make virtual objects look more realistic. </span><span class="koboSpan" id="kobo.722.2">Options range from not estimating lighting at all (</span><strong class="bold"><span class="koboSpan" id="kobo.723.1">None</span></strong><span class="koboSpan" id="kobo.724.1">) to estimating various aspects of lighting, such as </span><strong class="bold"><span class="koboSpan" id="kobo.725.1">Ambient Light Intensity</span></strong><span class="koboSpan" id="kobo.726.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.727.1">Color</span></strong><span class="koboSpan" id="kobo.728.1">, and the main light source’s </span><strong class="bold"><span class="koboSpan" id="kobo.729.1">Direction</span></strong><span class="koboSpan" id="kobo.730.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.731.1">Intensity</span></strong><span class="koboSpan" id="kobo.732.1">. </span><strong class="bold"><span class="koboSpan" id="kobo.733.1">Facing Direction</span></strong><span class="koboSpan" id="kobo.734.1"> decides the direction in which the AR Camera is facing. </span><span class="koboSpan" id="kobo.734.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.735.1">World</span></strong><span class="koboSpan" id="kobo.736.1"> setting is typically for the rear-facing camera (seeing the environment), and </span><strong class="bold"><span class="koboSpan" id="kobo.737.1">User</span></strong><span class="koboSpan" id="kobo.738.1"> is for the front-facing camera (selfie mode). </span><strong class="bold"><span class="koboSpan" id="kobo.739.1">None</span></strong><span class="koboSpan" id="kobo.740.1"> disables this setting. </span><span class="koboSpan" id="kobo.740.2">For now, we can leave these settings as </span><span class="No-Break"><span class="koboSpan" id="kobo.741.1">they are.</span></span></li>
<li><span class="koboSpan" id="kobo.742.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.743.1">Tracked Pose Driver</span></strong><span class="koboSpan" id="kobo.744.1"> component </span><a id="_idIndexMarker358"/><span class="koboSpan" id="kobo.745.1">takes information about the device’s physical position and orientation, collectively referred to as its pose, and uses that to set the position, rotation, and scale of the camera within the Unity game scene. </span><span class="koboSpan" id="kobo.745.2">This is what’s referred to as the camera’s </span><strong class="bold"><span class="koboSpan" id="kobo.746.1">Transform</span></strong><span class="koboSpan" id="kobo.747.1">. </span><span class="koboSpan" id="kobo.747.2">This ensures that the AR scene remains in harmony with the phone’s movements. </span><span class="koboSpan" id="kobo.747.3">To facilitate this, the Tracked Pose Driver provides several configurable options. </span><strong class="bold"><span class="koboSpan" id="kobo.748.1">Device</span></strong><span class="koboSpan" id="kobo.749.1"> lets you select the type of device being tracked. </span><strong class="bold"><span class="koboSpan" id="kobo.750.1">Pose Source</span></strong><span class="koboSpan" id="kobo.751.1"> allows you to choose the part of the device that provides the tracking data. </span><span class="koboSpan" id="kobo.751.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.752.1">Tracking Type</span></strong><span class="koboSpan" id="kobo.753.1"> drop-down menu indicates what type of movement (rotation, position, or both) </span><span class="No-Break"><span class="koboSpan" id="kobo.754.1">is tracked.</span></span><p class="list-inset"><strong class="bold"><span class="koboSpan" id="kobo.755.1">Update Type</span></strong><span class="koboSpan" id="kobo.756.1"> dictates when the tracking information updates, whether during the regular update cycle, before rendering the next frame, or both. </span><span class="koboSpan" id="kobo.756.2">If the </span><strong class="bold"><span class="koboSpan" id="kobo.757.1">Use Relative Transform</span></strong><span class="koboSpan" id="kobo.758.1"> checkbox is ticked, the tracking data is based on the device’s position and rotation relative to its </span><span class="No-Break"><span class="koboSpan" id="kobo.759.1">initial state.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.760.1">Finally, the </span><strong class="bold"><span class="koboSpan" id="kobo.761.1">Use Pose Provider</span></strong><span class="koboSpan" id="kobo.762.1"> field can be enabled to utilize an external source for tracking data, which is potentially useful for specialized tracking systems. </span><span class="koboSpan" id="kobo.762.2">Together, these settings give </span><strong class="bold"><span class="koboSpan" id="kobo.763.1">Tracked Pose Driver</span></strong><span class="koboSpan" id="kobo.764.1"> the flexibility to handle a wide range of </span><span class="No-Break"><span class="koboSpan" id="kobo.765.1">AR scenarios.</span></span></p></li>
<li><span class="koboSpan" id="kobo.766.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.767.1">AR Camera Background</span></strong><span class="koboSpan" id="kobo.768.1"> component </span><a id="_idIndexMarker359"/><span class="koboSpan" id="kobo.769.1">controls how the real-world view captured by your device’s camera is displayed in your AR scene. </span><span class="koboSpan" id="kobo.769.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.770.1">Use Custom Material</span></strong><span class="koboSpan" id="kobo.771.1"> checkbox allows you to apply a custom material, for example, to add special visual effects to the real-world view. </span><span class="koboSpan" id="kobo.771.2">If left unchecked, the real-world view is displayed as is, without any </span><span class="No-Break"><span class="koboSpan" id="kobo.772.1">additional effects.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.773.1">The AR Session Origin GameObject</span><a id="_idIndexMarker360"/><span class="koboSpan" id="kobo.774.1"> performs the critical task of converting AR session space into Unity’s world space. </span><span class="koboSpan" id="kobo.774.2">Given the unique coordinate system employed in AR (referred to as AR session space), this conversion is vital for accurately positioning the GameObjects relative to the </span><span class="No-Break"><span class="koboSpan" id="kobo.775.1">AR Camera.</span></span></p>
<p><span class="koboSpan" id="kobo.776.1">With this information about the most important GameObjects of our AR scene in mind, it is time to place a simple object in our </span><span class="No-Break"><span class="koboSpan" id="kobo.777.1">AR scene.</span></span></p>
<h2 id="_idParaDest-89"><span class="koboSpan" id="kobo.778.1">Placing a simple cube into the AR scene</span></h2>
<p><span class="koboSpan" id="kobo.779.1">To begin testing our </span><a id="_idIndexMarker361"/><span class="koboSpan" id="kobo.780.1">AR functionality, we need a 3D object in our scene to visualize the AR effect. </span><span class="koboSpan" id="kobo.780.2">For this purpose, you can create a simple cube object. </span><span class="koboSpan" id="kobo.780.3">Right-click in your project hierarchy and choose </span><strong class="bold"><span class="koboSpan" id="kobo.781.1">3D Object</span></strong><span class="koboSpan" id="kobo.782.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.783.1">Cube</span></strong><span class="koboSpan" id="kobo.784.1">. </span><span class="koboSpan" id="kobo.784.2">Position this cube at coordinates of (</span><strong class="source-inline"><span class="koboSpan" id="kobo.785.1">0</span></strong><span class="koboSpan" id="kobo.786.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.787.1">0</span></strong><span class="koboSpan" id="kobo.788.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.789.1">3</span></strong><span class="koboSpan" id="kobo.790.1">) and apply a rotation of (</span><strong class="source-inline"><span class="koboSpan" id="kobo.791.1">30</span></strong><span class="koboSpan" id="kobo.792.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.793.1">0</span></strong><span class="koboSpan" id="kobo.794.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.795.1">0</span></strong><span class="koboSpan" id="kobo.796.1">), as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.797.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.798.1">.10</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.799.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer058">
<span class="koboSpan" id="kobo.800.1"><img alt="Figure 4.10 – The Transform values of the cube" src="image/B20869_04_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.801.1">Figure 4.10 – The Transform values of the cube</span></p>
<p><span class="koboSpan" id="kobo.802.1">These specific coordinates and rotations are only examples and can be altered according to </span><span class="No-Break"><span class="koboSpan" id="kobo.803.1">your requirements.</span></span></p>
<p><span class="koboSpan" id="kobo.804.1">The key objective is to position the object somewhere in the direction of the AR Camera and at a distinct distance. </span><span class="koboSpan" id="kobo.804.2">This placement will help verify whether the AR system is correctly overlaying virtual content onto the real world, as it provides a benchmark for alignment with your physical surroundings. </span><span class="koboSpan" id="kobo.804.3">It also allows you to gauge the depth perception capabilities of your </span><span class="No-Break"><span class="koboSpan" id="kobo.805.1">AR system.</span></span></p>
<p><span class="koboSpan" id="kobo.806.1">To validate whether the cube will be correctly displayed in the AR view, you can either select the AR Camera in the hierarchy – this will cause a camera view to appear in the bottom-right corner </span><a id="_idTextAnchor013"/><span class="koboSpan" id="kobo.807.1">of the </span><strong class="bold"><span class="koboSpan" id="kobo.808.1">Scene</span></strong><span class="koboSpan" id="kobo.809.1"> window – or switch to the </span><strong class="bold"><span class="koboSpan" id="kobo.810.1">Game</span></strong><span class="koboSpan" id="kobo.811.1"> window, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.812.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.813.1">.11</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.814.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer059">
<span class="koboSpan" id="kobo.815.1"><img alt="Figure 4.11 – The Unity project showing how to validate whether the cube will be correctly displayed in the AR view" src="image/B20869_04_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.816.1">Figure 4.11 – The Unity project showing how to validate whether the cube will be correctly displayed in the AR view</span></p>
<p><span class="koboSpan" id="kobo.817.1">In an AR application, AR Session Origin</span><a id="_idIndexMarker362"/><span class="koboSpan" id="kobo.818.1"> typically corresponds to the starting location of your device’s camera when the AR experience begins. </span><span class="koboSpan" id="kobo.818.2">However, positioning a virtual object directly at </span><strong class="bold"><span class="koboSpan" id="kobo.819.1">Session Origin</span></strong><span class="koboSpan" id="kobo.820.1"> can indeed cause some issues. </span><span class="koboSpan" id="kobo.820.2">Here are a few potential problems that </span><span class="No-Break"><span class="koboSpan" id="kobo.821.1">could arise:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.822.1">Inaccurate scaling</span></strong><span class="koboSpan" id="kobo.823.1">: If you were to place a virtual cube directly at </span><strong class="bold"><span class="koboSpan" id="kobo.824.1">Session Origin</span></strong><span class="koboSpan" id="kobo.825.1">, it could appear disproportionately large or small compared to real-world objects. </span><span class="koboSpan" id="kobo.825.2">It’s like holding a real-life object very close to your eyes – even a small object can </span><span class="No-Break"><span class="koboSpan" id="kobo.826.1">appear large.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.827.1">Interference with tracking</span></strong><span class="koboSpan" id="kobo.828.1">: </span><strong class="bold"><span class="koboSpan" id="kobo.829.1">Session Origin</span></strong><span class="koboSpan" id="kobo.830.1"> serves as a reference point for tracking the device’s movements in the real world. </span><span class="koboSpan" id="kobo.830.2">If you place a virtual object at this exact point, the AR system might struggle to track both the object and the device’s </span><span class="No-Break"><span class="koboSpan" id="kobo.831.1">movements accurately.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.832.1">Unpleasant user experience</span></strong><span class="koboSpan" id="kobo.833.1">: If a virtual object is positioned directly at </span><strong class="bold"><span class="koboSpan" id="kobo.834.1">Session Origin</span></strong><span class="koboSpan" id="kobo.835.1">, it might appear too close to the user or even obstruct the user’s view of the rest of the AR scene, creating a less </span><span class="No-Break"><span class="koboSpan" id="kobo.836.1">enjoyable experience.</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.837.1">Tip</span></p>
<p class="callout"><span class="koboSpan" id="kobo.838.1">To avoid these issues, it’s generally recommended to position virtual objects at a reasonable distance from </span><strong class="bold"><span class="koboSpan" id="kobo.839.1">Session Origin</span></strong><span class="koboSpan" id="kobo.840.1">. </span><span class="koboSpan" id="kobo.840.2">The precise location would depend on the specific requirements of your AR experience. </span><span class="koboSpan" id="kobo.840.3">For instance, if you’re creating an AR furniture placement app, you might position virtual furniture based on the detected real-world surfaces, such as floors and tables. </span><span class="koboSpan" id="kobo.840.4">By doing so, you ensure that the virtual furniture appears at an appropriate scale, doesn’t interfere with tracking, and provides a pleasant user experience by appearing in the correct place in the </span><span class="No-Break"><span class="koboSpan" id="kobo.841.1">real world.</span></span></p>
<p><span class="koboSpan" id="kobo.842.1">After placing </span><a id="_idIndexMarker363"/><span class="koboSpan" id="kobo.843.1">your cube, you can proceed with testing the scene by following the instructions outlined in the </span><em class="italic"><span class="koboSpan" id="kobo.844.1">Deploying AR experiences onto mobile devices</span></em><span class="koboSpan" id="kobo.845.1"> section of this chapter. </span><span class="koboSpan" id="kobo.845.2">As it stands, your AR application is simple, featuring a static object positioned in front of the user. </span><span class="koboSpan" id="kobo.845.3">However, we’re aiming for a more interactive experience, so we’ll delve into the anchor and plane detection functionalities in the </span><span class="No-Break"><span class="koboSpan" id="kobo.846.1">upcoming section.</span></span></p>
<h2 id="_idParaDest-90"><span class="koboSpan" id="kobo.847.1">Implementing plane detection in AR Foundation</span></h2>
<p><span class="koboSpan" id="kobo.848.1">In </span><a id="_idIndexMarker364"/><span class="koboSpan" id="kobo.849.1">this section, we will make use of AR Foundation’s </span><strong class="bold"><span class="koboSpan" id="kobo.850.1">plane detection</span></strong><span class="koboSpan" id="kobo.851.1"> capabilities. </span><span class="koboSpan" id="kobo.851.2">AR Foundation’s plane detection forms the crux of numerous practical applications by providing a cornerstone understanding of real-world environments. </span><span class="koboSpan" id="kobo.851.3">Its ability to identify and comprehend flat surfaces enables digital objects to interact meaningfully and realistically with physical spaces, enhancing the overall augmented </span><span class="No-Break"><span class="koboSpan" id="kobo.852.1">reality experience.</span></span></p>
<p><span class="koboSpan" id="kobo.853.1">In the retail and e-commerce sectors, plane detection is fundamental to accurate product visualization. </span><span class="koboSpan" id="kobo.853.2">It ensures a virtual couch is placed right in front of your living room wall and not in a random position in </span><span class="No-Break"><span class="koboSpan" id="kobo.854.1">your room.</span></span></p>
<p><span class="koboSpan" id="kobo.855.1">This technology also underpins the immersive experiences in AR gaming. </span><span class="koboSpan" id="kobo.855.2">By identifying real-world surfaces, games such as Pokémon Go can accurately place virtual elements, enhancing the thrill of the chase. </span><span class="koboSpan" id="kobo.855.3">Other games use this technology to create worlds on your coffee table, maintaining the illusion by ensuring that virtual objects interact convincingly with the </span><span class="No-Break"><span class="koboSpan" id="kobo.856.1">physical planes.</span></span></p>
<p><span class="koboSpan" id="kobo.857.1">To make use of plane detection, enable the </span><strong class="bold"><span class="koboSpan" id="kobo.858.1">AR Plane Manager</span></strong><span class="koboSpan" id="kobo.859.1"> component you disabled in the </span><em class="italic"><span class="koboSpan" id="kobo.860.1">Exploring the AR Session Origin GameObject</span></em><span class="koboSpan" id="kobo.861.1"> section. </span><span class="koboSpan" id="kobo.861.2">Then, you can also delete the cube as we don’t need it anymore. </span><span class="koboSpan" id="kobo.861.3">Now, select </span><strong class="bold"><span class="koboSpan" id="kobo.862.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.863.1"> and inspect the </span><strong class="bold"><span class="koboSpan" id="kobo.864.1">AR Plane Manager</span></strong><span class="koboSpan" id="kobo.865.1"> component in </span><span class="No-Break"><span class="koboSpan" id="kobo.866.1">the hierarchy.</span></span></p>
<p><span class="koboSpan" id="kobo.867.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.868.1">AR Plane Manager</span></strong><span class="koboSpan" id="kobo.869.1"> component in Unity’s AR Foundation is responsible for detecting and</span><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.870.1"> tracking real-world surfaces, or planes, via your device’s camera. </span><span class="koboSpan" id="kobo.870.2">It utilizes AR technology to understand the physical environment, creating digital representations that can interact with </span><span class="No-Break"><span class="koboSpan" id="kobo.871.1">virtual objects.</span></span></p>
<p><span class="koboSpan" id="kobo.872.1">Here’s a breakdown of what </span><strong class="bold"><span class="koboSpan" id="kobo.873.1">AR Plane </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.874.1">Manager</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.875.1"> does:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.876.1">Plane Prefab</span></strong><span class="koboSpan" id="kobo.877.1">: This is essentially the digital template or blueprint used to represent detected planes. </span><span class="koboSpan" id="kobo.877.2">When </span><strong class="bold"><span class="koboSpan" id="kobo.878.1">AR Plane Manager</span></strong><span class="koboSpan" id="kobo.879.1"> identifies a flat surface (a plane) in the real world, it creates a </span><strong class="bold"><span class="koboSpan" id="kobo.880.1">Plane Prefab</span></strong><span class="koboSpan" id="kobo.881.1"> instance in the AR space. </span><span class="koboSpan" id="kobo.881.2">Each prefab instance corresponds to a specific real-world plane, providing a surface on which you can place or interact with </span><span class="No-Break"><span class="koboSpan" id="kobo.882.1">virtual objects.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.883.1">Let’s say, for example, you’re creating an AR game where virtual cats roam around. </span><span class="koboSpan" id="kobo.883.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.884.1">Plane Prefab</span></strong><span class="koboSpan" id="kobo.885.1"> instance could be a flat surface that the cats can walk on. </span><span class="koboSpan" id="kobo.885.2">If your living room floor is detected as a plane, a </span><strong class="bold"><span class="koboSpan" id="kobo.886.1">Plane Prefab</span></strong><span class="koboSpan" id="kobo.887.1"> instance will be created, providing a surface for your cats to </span><span class="No-Break"><span class="koboSpan" id="kobo.888.1">frolic on.</span></span></p></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.889.1">Detection Mode</span></strong><span class="koboSpan" id="kobo.890.1">: This setting determines the orientation of planes that </span><strong class="bold"><span class="koboSpan" id="kobo.891.1">AR Plane Manager</span></strong><span class="koboSpan" id="kobo.892.1"> should detect. </span><span class="koboSpan" id="kobo.892.2">Here are some components within </span><strong class="bold"><span class="koboSpan" id="kobo.893.1">Detection Mode</span></strong><span class="koboSpan" id="kobo.894.1"> that would be useful </span><span class="No-Break"><span class="koboSpan" id="kobo.895.1">for you:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.896.1">Everything</span></strong><span class="koboSpan" id="kobo.897.1">: This setting combines the detection of horizontal and vertical planes by </span><strong class="bold"><span class="koboSpan" id="kobo.898.1">AR Plane Manager</span></strong><span class="koboSpan" id="kobo.899.1">. </span><span class="koboSpan" id="kobo.899.2">If you’re creating an AR furniture placement app, you might use this setting. </span><span class="koboSpan" id="kobo.899.3">The app could then detect both the floor (a horizontal plane, for placing a chair) and the walls (vertical planes, for </span><span class="No-Break"><span class="koboSpan" id="kobo.900.1">hanging pictures).</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.901.1">Horizontal</span></strong><span class="koboSpan" id="kobo.902.1">: </span><strong class="bold"><span class="koboSpan" id="kobo.903.1">AR Plane Manager</span></strong><span class="koboSpan" id="kobo.904.1"> will detect only flat surfaces oriented horizontally, such as floors and tabletops. </span><span class="koboSpan" id="kobo.904.2">For instance, if you’re creating an AR game where characters run around on the floor, you’d likely use </span><span class="No-Break"><span class="koboSpan" id="kobo.905.1">this mode.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.906.1">Vertical</span></strong><span class="koboSpan" id="kobo.907.1">: Conversely, this setting will detect only vertically oriented surfaces, such as walls and doors. </span><span class="koboSpan" id="kobo.907.2">This might be used in an AR interior design app that allows the user to place virtual paintings or wallpapers on </span><span class="No-Break"><span class="koboSpan" id="kobo.908.1">their walls.</span></span></li></ul></li>
</ul>
<p><span class="koboSpan" id="kobo.909.1">As we </span><a id="_idIndexMarker366"/><span class="koboSpan" id="kobo.910.1">want to detect horizontal and vertical planes, the drop-down selection can remain </span><span class="No-Break"><span class="koboSpan" id="kobo.911.1">at </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.912.1">Everything</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.913.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.914.1">Next, you will notice that the AR template already has an </span><strong class="bold"><span class="koboSpan" id="kobo.915.1">ARPlane</span></strong><span class="koboSpan" id="kobo.916.1"> prefab assigned. </span><span class="koboSpan" id="kobo.916.2">This prefab is what you will see on top of the detected surfaces. </span><span class="koboSpan" id="kobo.916.3">As this prefab is already configured, you can use the </span><strong class="bold"><span class="koboSpan" id="kobo.917.1">ARPlane </span></strong><span class="koboSpan" id="kobo.918.1">prefab. </span><span class="koboSpan" id="kobo.918.2">However, you can also create your custom-made plane prefab. </span><span class="koboSpan" id="kobo.918.3">This can be done by right-clicking in the hierarchy window and selecting </span><strong class="bold"><span class="koboSpan" id="kobo.919.1">XR</span></strong><span class="koboSpan" id="kobo.920.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.921.1">AR </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.922.1">Default Plane.</span></strong></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.923.1">AR Default Plane GameObject</span></strong><span class="koboSpan" id="kobo.924.1"> in Unity’s AR Foundation is composed of various components, each of which performs a specific function within the overall system. </span><span class="koboSpan" id="kobo.924.2">Here’s a breakdown of what each of these </span><span class="No-Break"><span class="koboSpan" id="kobo.925.1">components does:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.926.1">AR Plane</span></strong><span class="koboSpan" id="kobo.927.1">: This script controls the essential behavior of a plane in the AR environment. </span><span class="koboSpan" id="kobo.927.2">Two notable fields in this script are </span><span class="No-Break"><span class="koboSpan" id="kobo.928.1">as follows:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.929.1">Destroy on Removal</span></strong><span class="koboSpan" id="kobo.930.1"> checkbox: If checked, when a detected plane is removed or no longer needed, the corresponding </span><strong class="bold"><span class="koboSpan" id="kobo.931.1">Plane</span></strong><span class="koboSpan" id="kobo.932.1"> GameObject is destroyed or removed from the Unity scene to free up resources. </span><span class="koboSpan" id="kobo.932.2">Imagine this to be like cleaning up toys when you’re done playing with them to make space for </span><span class="No-Break"><span class="koboSpan" id="kobo.933.1">other activities.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.934.1">Vertex Changed Threshold</span></strong><span class="koboSpan" id="kobo.935.1">: This field controls how sensitive the plane is to changes in its detected shape. </span><span class="koboSpan" id="kobo.935.2">If the real-world surface changes, the plane’s mesh vertices will need to be updated. </span><span class="koboSpan" id="kobo.935.3">This threshold determines how much change is needed before an update occurs. </span><span class="koboSpan" id="kobo.935.4">It’s like deciding when to adjust a puzzle because the pieces have moved – too often can be unnecessary, yet too seldom and the picture may not </span><span class="No-Break"><span class="koboSpan" id="kobo.936.1">make sense.</span></span></li></ul></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.937.1">AR Plane Mesh Visualizer</span></strong><span class="koboSpan" id="kobo.938.1">: This script is responsible for rendering the visual representation of a detected plane. </span><span class="koboSpan" id="kobo.938.2">Imagine you’re using an AR app on your phone to preview a piece of furniture in your room before buying it. </span><span class="koboSpan" id="kobo.938.3">When you point your phone’s camera at the floor, the app detects a flat surface – a plane. </span><strong class="bold"><span class="koboSpan" id="kobo.939.1">AR Plane Mesh Visualizer</span></strong><span class="koboSpan" id="kobo.940.1"> then creates a visible grid or pattern overlay on your phone screen that represents this </span><span class="No-Break"><span class="koboSpan" id="kobo.941.1">detected plane.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.942.1">Tracking State Visibility </span></strong><span class="koboSpan" id="kobo.943.1">dropdown (</span><strong class="bold"><span class="koboSpan" id="kobo.944.1">None</span></strong><span class="koboSpan" id="kobo.945.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.946.1">Limited</span></strong><span class="koboSpan" id="kobo.947.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.948.1">Tracking</span></strong><span class="koboSpan" id="kobo.949.1">): This setting </span><a id="_idIndexMarker367"/><span class="koboSpan" id="kobo.950.1">determines when the plane should be visible based on the tracking quality. </span><span class="koboSpan" id="kobo.950.2">For instance, you might only want to see the plane when it’s fully tracked (good quality), or also when tracking is limited (lower quality). </span><span class="koboSpan" id="kobo.950.3">It’s like deciding when to display a picture – if it’s blurry, you might prefer to wait for it to load until </span><span class="No-Break"><span class="koboSpan" id="kobo.951.1">it’s clear.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.952.1">Hide Subsumed</span></strong><span class="koboSpan" id="kobo.953.1"> checkbox: If checked, when one detected plane is subsumed by another (i.e., entirely overlapped by a larger plane), the smaller plane is hidden. </span><span class="koboSpan" id="kobo.953.2">This can make the AR scene less cluttered and more efficient. </span><span class="koboSpan" id="kobo.953.3">Think of this to be like removing smaller rugs when you put down a larger one that covers </span><span class="No-Break"><span class="koboSpan" id="kobo.954.1">them completely.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.955.1">Mesh Collider</span></strong><span class="koboSpan" id="kobo.956.1">: This component allows virtual objects to physically interact with the plane as if it were a solid surface. </span><span class="koboSpan" id="kobo.956.2">For example, if you drop a virtual ball onto the plane, </span><strong class="bold"><span class="koboSpan" id="kobo.957.1">Mesh Collider</span></strong><span class="koboSpan" id="kobo.958.1"> ensures that the ball bounces back rather than falling through </span><span class="No-Break"><span class="koboSpan" id="kobo.959.1">the surface.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.960.1">Mesh Filter</span></strong><span class="koboSpan" id="kobo.961.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.962.1">Mesh Renderer</span></strong><span class="koboSpan" id="kobo.963.1">: These work together to create and display the 3D mesh for the plane. </span><strong class="bold"><span class="koboSpan" id="kobo.964.1">Mesh Filter</span></strong><span class="koboSpan" id="kobo.965.1"> generates the shape of the plane (the mesh), while </span><strong class="bold"><span class="koboSpan" id="kobo.966.1">Mesh Renderer</span></strong><span class="koboSpan" id="kobo.967.1"> applies materials and textures and renders it on the screen. </span><span class="koboSpan" id="kobo.967.2">They’re like a sculptor and a painter respectively, working together to create a </span><span class="No-Break"><span class="koboSpan" id="kobo.968.1">lifelike statue.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.969.1">Line Renderer</span></strong><span class="koboSpan" id="kobo.970.1">: This component is often used to draw the border around the detected plane, helping the user to see the extent of the plane. </span><span class="koboSpan" id="kobo.970.2">It’s like drawing a chalk outline around an area to indicate </span><span class="No-Break"><span class="koboSpan" id="kobo.971.1">its boundaries.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.972.1">All these </span><a id="_idIndexMarker368"/><span class="koboSpan" id="kobo.973.1">components work in harmony to detect, represent, and interact with real-world surfaces in your AR applications, ensuring a seamless blend of virtual objects with the physical environment. </span><span class="koboSpan" id="kobo.973.2">You can keep the default settings for </span><span class="No-Break"><span class="koboSpan" id="kobo.974.1">our scene.</span></span></p>
<p><span class="koboSpan" id="kobo.975.1">After creating </span><strong class="bold"><span class="koboSpan" id="kobo.976.1">AR Default Plane GameObject</span></strong><span class="koboSpan" id="kobo.977.1">, you can proceed to turn it into a prefab. </span><span class="koboSpan" id="kobo.977.2">To start, right-click in </span><strong class="bold"><span class="koboSpan" id="kobo.978.1">Project Window</span></strong><span class="koboSpan" id="kobo.979.1"> and choose </span><strong class="bold"><span class="koboSpan" id="kobo.980.1">Create</span></strong><span class="koboSpan" id="kobo.981.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.982.1">Folder</span></strong><span class="koboSpan" id="kobo.983.1">. </span><span class="koboSpan" id="kobo.983.2">Name this new folder </span><strong class="source-inline"><span class="koboSpan" id="kobo.984.1">Prefabs</span></strong><span class="koboSpan" id="kobo.985.1">. </span><span class="koboSpan" id="kobo.985.2">Next, drag </span><strong class="bold"><span class="koboSpan" id="kobo.986.1">AR Default Plane GameObject</span></strong><span class="koboSpan" id="kobo.987.1"> into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.988.1">Prefabs</span></strong><span class="koboSpan" id="kobo.989.1"> folder. </span><span class="koboSpan" id="kobo.989.2">Doing so will automatically create a prefab out of it. </span><span class="koboSpan" id="kobo.989.3">With </span><strong class="bold"><span class="koboSpan" id="kobo.990.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.991.1"> now selected, drag the </span><strong class="bold"><span class="koboSpan" id="kobo.992.1">AR Default Plane</span></strong><span class="koboSpan" id="kobo.993.1"> prefab to the appropriate </span><strong class="bold"><span class="koboSpan" id="kobo.994.1">Plane Prefab</span></strong><span class="koboSpan" id="kobo.995.1"> field of the </span><strong class="bold"><span class="koboSpan" id="kobo.996.1">AR Plane Manager</span></strong><span class="koboSpan" id="kobo.997.1"> component within the Inspector, as illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.998.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.999.1">.12</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1000.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer060">
<span class="koboSpan" id="kobo.1001.1"><img alt="Figure 4.12 – The AR Default Plane prefab assigned to the appropriate Plane Prefab field of the AR Plane Manager component" src="image/B20869_04_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1002.1">Figure 4.12 – The AR Default Plane prefab assigned to the appropriate Plane Prefab field of the AR Plane Manager component</span></p>
<p><span class="koboSpan" id="kobo.1003.1">Now, your application would be able to detect a plane in your environment and place the plane prefab of your choice on top </span><span class="No-Break"><span class="koboSpan" id="kobo.1004.1">of it.</span></span></p>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1005.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1006.1">.13</span></em><span class="koboSpan" id="kobo.1007.1"> shows the default plane prefab of Unity’s </span><span class="No-Break"><span class="koboSpan" id="kobo.1008.1">AR template.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer061">
<span class="koboSpan" id="kobo.1009.1"><img alt="Figure 4.13 – The plane prefab of Unity’s AR template detecting the wooden floor of an apartment" src="image/B20869_04_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1010.1">Figure 4.13 – The plane prefab of Unity’s AR template detecting the wooden floor of an apartment</span></p>
<p><span class="koboSpan" id="kobo.1011.1">As we can see, with</span><a id="_idIndexMarker369"/><span class="koboSpan" id="kobo.1012.1"> AR Foundation, it is straightforward to incorporate plane detection into a project and to project patterns onto detected surfaces. </span><span class="koboSpan" id="kobo.1012.2">In the upcoming section, we will merge these concepts with the use of anchors and touch inputs. </span><span class="koboSpan" id="kobo.1012.3">This combination will enable us to place an object onto a detected surface simply by tapping on </span><span class="No-Break"><span class="koboSpan" id="kobo.1013.1">the screen.</span></span></p>
<h2 id="_idParaDest-91"><span class="koboSpan" id="kobo.1014.1">Implementing touch inputs and anchors</span></h2>
<p><span class="koboSpan" id="kobo.1015.1">To get </span><a id="_idIndexMarker370"/><span class="koboSpan" id="kobo.1016.1">started on working with touch inputs and anchors, enable the </span><strong class="bold"><span class="koboSpan" id="kobo.1017.1">AR Anchor Manager</span></strong><span class="koboSpan" id="kobo.1018.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.1019.1">AR Raycast Manager</span></strong><span class="koboSpan" id="kobo.1020.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.1021.1">Anchor Creator</span></strong><span class="koboSpan" id="kobo.1022.1"> components in the Inspector when </span><strong class="bold"><span class="koboSpan" id="kobo.1023.1">AR Session Origin</span></strong><span class="koboSpan" id="kobo.1024.1"> is selected. </span><span class="koboSpan" id="kobo.1024.2">These components are all we need to get the touch input and anchors to work. </span><span class="koboSpan" id="kobo.1024.3">Let’s break each of </span><span class="No-Break"><span class="koboSpan" id="kobo.1025.1">them down:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.1026.1">AR Anchor Manager</span></strong><span class="koboSpan" id="kobo.1027.1"> script: </span><strong class="bold"><span class="koboSpan" id="kobo.1028.1">AR Anchor Manager</span></strong><span class="koboSpan" id="kobo.1029.1"> operates as the custodian </span><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.1030.1">of object stability in your AR space. </span><span class="koboSpan" id="kobo.1030.2">When you designate a position for a virtual object within your AR scene, </span><strong class="bold"><span class="koboSpan" id="kobo.1031.1">Anchor Manager</span></strong><span class="koboSpan" id="kobo.1032.1"> ensures the object remains tethered to that specific real-world location, irrespective of changes in device perspective. </span><span class="koboSpan" id="kobo.1032.2">It is akin to an overseer, maintaining each virtual object in its correct placement relative to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1033.1">real-world coordinates.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1034.1">AR Raycast Manager</span></strong><span class="koboSpan" id="kobo.1035.1"> script: Acting</span><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.1036.1"> as the tactile sense of your AR application, </span><strong class="bold"><span class="koboSpan" id="kobo.1037.1">AR Raycast Manager</span></strong><span class="koboSpan" id="kobo.1038.1"> emits invisible rays from your device into the scene. </span><span class="koboSpan" id="kobo.1038.2">When these rays encounter a surface, they return data about its position and orientation. </span><span class="koboSpan" id="kobo.1038.3">This process is key to interactions such as placing a virtual object on a real-world surface, as it enables your application to perceive and understand the topography of </span><span class="No-Break"><span class="koboSpan" id="kobo.1039.1">the environment.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1040.1">Anchor Creator</span></strong><span class="koboSpan" id="kobo.1041.1"> script: This</span><a id="_idIndexMarker373"/><span class="koboSpan" id="kobo.1042.1"> script functions as an efficient tool, facilitating the creation and placement of new anchors within your scene. </span><span class="koboSpan" id="kobo.1042.2">Given that anchors are pivotal to securing virtual objects in a consistent real-world location, </span><strong class="bold"><span class="koboSpan" id="kobo.1043.1">Anchor Creator</span></strong><span class="koboSpan" id="kobo.1044.1"> simplifies the process of generating these anchor points. </span><span class="koboSpan" id="kobo.1044.2">This can range from situating a new virtual object to immobilizing an object </span><span class="No-Break"><span class="koboSpan" id="kobo.1045.1">in transit.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1046.1">Even though all components have a </span><strong class="bold"><span class="koboSpan" id="kobo.1047.1">Prefab</span></strong><span class="koboSpan" id="kobo.1048.1"> field, we just need to assign a prefab to the </span><strong class="bold"><span class="koboSpan" id="kobo.1049.1">AR Anchor Manager</span></strong><span class="koboSpan" id="kobo.1050.1"> component. </span><span class="koboSpan" id="kobo.1050.2">This prefab will be spawned when we tap on </span><span class="No-Break"><span class="koboSpan" id="kobo.1051.1">the screen.</span></span></p>
<p><span class="koboSpan" id="kobo.1052.1">When you tap</span><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.1053.1"> on the screen, </span><strong class="bold"><span class="koboSpan" id="kobo.1054.1">AR Raycast Manager</span></strong><span class="koboSpan" id="kobo.1055.1"> determines where in the real world you’ve indicated by casting a ray from your screen touch point into the AR scene. </span><span class="koboSpan" id="kobo.1055.2">If this ray hits a detected surface, </span><strong class="bold"><span class="koboSpan" id="kobo.1056.1">AR Anchor Manager</span></strong><span class="koboSpan" id="kobo.1057.1"> creates an anchor at this real-world location and ties the prefab to it. </span><span class="koboSpan" id="kobo.1057.2">This process ensures the stable positioning of your virtual object in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1058.1">AR scene.</span></span></p>
<p><span class="koboSpan" id="kobo.1059.1">The prefab attached to </span><strong class="bold"><span class="koboSpan" id="kobo.1060.1">AR Anchor Manager</span></strong><span class="koboSpan" id="kobo.1061.1"> essentially acts as a template for the object you want to instantiate (or create) in the AR environment whenever the screen is tapped. </span><span class="koboSpan" id="kobo.1061.2">This is why it’s essential to assign a prefab to </span><strong class="bold"><span class="koboSpan" id="kobo.1062.1">AR </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1063.1">Anchor Manager</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1064.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1065.1">The other components do not require a prefab because they are not directly responsible for creating objects in your AR scene. </span><strong class="bold"><span class="koboSpan" id="kobo.1066.1">AR Raycast Manager</span></strong><span class="koboSpan" id="kobo.1067.1"> deals with detecting the real-world surfaces you are interacting with, and </span><strong class="bold"><span class="koboSpan" id="kobo.1068.1">Anchor Creator</span></strong><span class="koboSpan" id="kobo.1069.1"> facilitates the creation and placement of the anchors themselves. </span><span class="koboSpan" id="kobo.1069.2">Neither of these tasks necessitates the creation of a new object from </span><span class="No-Break"><span class="koboSpan" id="kobo.1070.1">a prefab.</span></span></p>
<p><span class="koboSpan" id="kobo.1071.1">For demonstration purposes, we use a simple capsule primitive. </span><span class="koboSpan" id="kobo.1071.2">Simply right-click in the hierarchy and select </span><strong class="bold"><span class="koboSpan" id="kobo.1072.1">3D Object</span></strong><span class="koboSpan" id="kobo.1073.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1074.1">Capsule</span></strong><span class="koboSpan" id="kobo.1075.1">. </span><span class="koboSpan" id="kobo.1075.2">Downscale the capsule to (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1076.1">0.2</span></strong><span class="koboSpan" id="kobo.1077.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.1078.1">0.2</span></strong><span class="koboSpan" id="kobo.1079.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.1080.1">0.2</span></strong><span class="koboSpan" id="kobo.1081.1">). </span><span class="koboSpan" id="kobo.1081.2">Now, create a new folder in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1082.1">Project</span></strong><span class="koboSpan" id="kobo.1083.1"> folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1084.1">Prefabs</span></strong><span class="koboSpan" id="kobo.1085.1"> (right-click + </span><strong class="bold"><span class="koboSpan" id="kobo.1086.1">Create</span></strong><span class="koboSpan" id="kobo.1087.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1088.1">Folder</span></strong><span class="koboSpan" id="kobo.1089.1">) and drag the capsule into this folder. </span><span class="koboSpan" id="kobo.1089.2">This will automatically create a prefab of the capsule that you can drag into the </span><strong class="bold"><span class="koboSpan" id="kobo.1090.1">Anchor Prefab</span></strong><span class="koboSpan" id="kobo.1091.1"> field of the </span><strong class="bold"><span class="koboSpan" id="kobo.1092.1">AR Anchor </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1093.1">Manager</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1094.1"> component.</span></span></p>
<p><span class="koboSpan" id="kobo.1095.1">Now, your app should spawn the capsule on a touch inp</span><a id="_idTextAnchor014"/><span class="koboSpan" id="kobo.1096.1">ut. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1097.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1098.1">.14</span></em><span class="koboSpan" id="kobo.1099.1"> shows the </span><span class="No-Break"><span class="koboSpan" id="kobo.1100.1">deployed application.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer062">
<span class="koboSpan" id="kobo.1101.1"><img alt="Figure 4.14 – The deployed application" src="image/B20869_04_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1102.1">Figure 4.14 – The deployed application</span></p>
<p><span class="koboSpan" id="kobo.1103.1">The </span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.1104.1">preceding image illustrates the instantiated capsule prefabs following screen taps. </span><span class="koboSpan" id="kobo.1104.2">These capsules are positioned atop the detected surface, confirming the effective operation of the AR systems. </span><span class="koboSpan" id="kobo.1104.3">Specifically, </span><strong class="bold"><span class="koboSpan" id="kobo.1105.1">AR Raycast Manager</span></strong><span class="koboSpan" id="kobo.1106.1"> accurately casts rays from the screen touch point onto the detected surface, and in response, </span><strong class="bold"><span class="koboSpan" id="kobo.1107.1">AR Anchor Manager</span></strong><span class="koboSpan" id="kobo.1108.1"> successfully creates anchors, anchoring the prefabs at the indicated locations. </span><span class="koboSpan" id="kobo.1108.2">Everything should now be working perfectly, so it’s time to build the scene onto your device. </span><span class="koboSpan" id="kobo.1108.3">Depending on whether you’re using an Android or iOS device, you can navigate to the relevant subsection in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1109.1">following section.</span></span></p>
<h1 id="_idParaDest-92"><span class="koboSpan" id="kobo.1110.1">Testing AR experiences directly in Unity</span></h1>
<p><span class="koboSpan" id="kobo.1111.1">As of </span><em class="italic"><span class="koboSpan" id="kobo.1112.1">AR Foundation 5.0</span></em><span class="koboSpan" id="kobo.1113.1">, developers</span><a id="_idIndexMarker376"/><span class="koboSpan" id="kobo.1114.1"> can conveniently test AR scenes right in the Unity Editor using the </span><strong class="bold"><span class="koboSpan" id="kobo.1115.1">XR Simulation</span></strong><span class="koboSpan" id="kobo.1116.1"> feature, without the constant need to deploy on mobile devices. </span><span class="koboSpan" id="kobo.1116.2">By the time you read this book, this feature might already be pre-installed. </span><span class="koboSpan" id="kobo.1116.3">Let’s quickly check that by following </span><span class="No-Break"><span class="koboSpan" id="kobo.1117.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1118.1">Navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.1119.1">Edit</span></strong><span class="koboSpan" id="kobo.1120.1"> | </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1121.1">Project Settings</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1122.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1123.1">Choose </span><strong class="bold"><span class="koboSpan" id="kobo.1124.1">XR </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1125.1">Plug-in Management</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1126.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1127.1">Look for the </span><strong class="bold"><span class="koboSpan" id="kobo.1128.1">XR Simulation</span></strong><span class="koboSpan" id="kobo.1129.1"> option under </span><strong class="bold"><span class="koboSpan" id="kobo.1130.1">Plug-in Providers</span></strong><span class="koboSpan" id="kobo.1131.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.1132.1">enable it.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1133.1">If you don’t see the </span><strong class="bold"><span class="koboSpan" id="kobo.1134.1">XR Simulation</span></strong><span class="koboSpan" id="kobo.1135.1"> option, you’ll need to manually install </span><em class="italic"><span class="koboSpan" id="kobo.1136.1">AR Foundation 5.0</span></em><span class="koboSpan" id="kobo.1137.1"> or a newer version. </span><span class="koboSpan" id="kobo.1137.2">The next section explains how to </span><span class="No-Break"><span class="koboSpan" id="kobo.1138.1">do this.</span></span></p>
<h2 id="_idParaDest-93"><span class="koboSpan" id="kobo.1139.1">Installing AR Foundation 5.0 or later versions and related packages</span></h2>
<p><span class="koboSpan" id="kobo.1140.1">When </span><a id="_idIndexMarker377"/><span class="koboSpan" id="kobo.1141.1">you edit your project manifest, you control which package versions Unity loads into your project. </span><span class="koboSpan" id="kobo.1141.2">There are two ways to edit your project manifest: add a package by name in </span><strong class="bold"><span class="koboSpan" id="kobo.1142.1">Package Manager</span></strong><span class="koboSpan" id="kobo.1143.1">, or manually edit the project manifest file. </span><span class="koboSpan" id="kobo.1143.2">Let’s do it in </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1144.1">Package Manager</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1145.1">:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1146.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.1147.1">Window</span></strong><span class="koboSpan" id="kobo.1148.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1149.1">Package Manager</span></strong><span class="koboSpan" id="kobo.1150.1"> to open the </span><strong class="bold"><span class="koboSpan" id="kobo.1151.1">Package </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1152.1">Manager</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1153.1"> window.</span></span></li>
<li><span class="koboSpan" id="kobo.1154.1">Click on </span><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.1155.1">the small </span><strong class="bold"><span class="koboSpan" id="kobo.1156.1">+</span></strong><span class="koboSpan" id="kobo.1157.1"> icon in the top-left corner and select </span><strong class="bold"><span class="koboSpan" id="kobo.1158.1">Add package by name</span></strong><span class="koboSpan" id="kobo.1159.1">. </span><span class="koboSpan" id="kobo.1159.2">Type in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1160.1">com.unity.xr.arfoundation</span></strong><span class="koboSpan" id="kobo.1161.1">. </span><span class="koboSpan" id="kobo.1161.2">This will automatically add the most recent version available. </span><span class="koboSpan" id="kobo.1161.3">At the time of writing, this is </span><span class="No-Break"><span class="koboSpan" id="kobo.1162.1">version </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1163.1">5.1.0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1164.1">.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.1165.1">If you want to use a specific version, you can type in your desired version in the </span><strong class="bold"><span class="koboSpan" id="kobo.1166.1">Version (</span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1167.1">optional)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1168.1"> field.</span></span></p></li>
<li><span class="koboSpan" id="kobo.1169.1">Continue by updating the </span><strong class="bold"><span class="koboSpan" id="kobo.1170.1">OpenXR</span></strong><span class="koboSpan" id="kobo.1171.1"> plugin. </span><span class="koboSpan" id="kobo.1171.2">Click on the small </span><strong class="bold"><span class="koboSpan" id="kobo.1172.1">+</span></strong><span class="koboSpan" id="kobo.1173.1"> icon located in the top-left corner of the </span><strong class="bold"><span class="koboSpan" id="kobo.1174.1">Package Manager</span></strong><span class="koboSpan" id="kobo.1175.1"> window, select </span><strong class="bold"><span class="koboSpan" id="kobo.1176.1">Add package by name</span></strong><span class="koboSpan" id="kobo.1177.1">, and then input </span><strong class="source-inline"><span class="koboSpan" id="kobo.1178.1">com.unity.xr.openxr</span></strong><span class="koboSpan" id="kobo.1179.1">. </span><span class="koboSpan" id="kobo.1179.2">This action will import the latest version of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1180.1">OpenXR</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1181.1"> plugin.</span></span></li>
<li><span class="koboSpan" id="kobo.1182.1">If you’re upgrading from </span><em class="italic"><span class="koboSpan" id="kobo.1183.1">AR Foundation 4</span></em><span class="koboSpan" id="kobo.1184.1"> to a newer version, uninstall both the </span><strong class="bold"><span class="koboSpan" id="kobo.1185.1">com.unity.xr.arkit-face-tracking</span></strong><span class="koboSpan" id="kobo.1186.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1187.1">com.unity.xr.arsubsystems </span></strong><span class="koboSpan" id="kobo.1188.1">packages if they are currently in your project. </span><span class="koboSpan" id="kobo.1188.2">To do this, open </span><strong class="bold"><span class="koboSpan" id="kobo.1189.1">Package Manager</span></strong><span class="koboSpan" id="kobo.1190.1"> and set the </span><strong class="bold"><span class="koboSpan" id="kobo.1191.1">Package</span></strong><span class="koboSpan" id="kobo.1192.1"> dropdown to </span><strong class="bold"><span class="koboSpan" id="kobo.1193.1">In Project</span></strong><span class="koboSpan" id="kobo.1194.1">. </span><span class="koboSpan" id="kobo.1194.2">Utilize the search bar located at the top-right corner to look for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1195.1">com.unity.xr.arkit-face-tracking</span></strong><span class="koboSpan" id="kobo.1196.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1197.1">com.unity.xr.arsubsystems</span></strong><span class="koboSpan" id="kobo.1198.1">. </span><span class="koboSpan" id="kobo.1198.2">If they appear in the search results, proceed with uninstallation; otherwise, they are not present in </span><span class="No-Break"><span class="koboSpan" id="kobo.1199.1">your project.</span></span></li>
<li><span class="koboSpan" id="kobo.1200.1">Next, depending on your targeted mobile device platform, it’s important to update either the </span><em class="italic"><span class="koboSpan" id="kobo.1201.1">ARCore</span></em><span class="koboSpan" id="kobo.1202.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.1203.1">ARKit</span></em><span class="koboSpan" id="kobo.1204.1"> packages. </span><span class="koboSpan" id="kobo.1204.2">Navigate to the </span><strong class="bold"><span class="koboSpan" id="kobo.1205.1">Add package by name</span></strong><span class="koboSpan" id="kobo.1206.1"> option within the </span><strong class="bold"><span class="koboSpan" id="kobo.1207.1">Package Manager</span></strong><span class="koboSpan" id="kobo.1208.1"> window. </span><span class="koboSpan" id="kobo.1208.2">For Android devices, input </span><strong class="source-inline"><span class="koboSpan" id="kobo.1209.1">com.unity.xr.arcore</span></strong><span class="koboSpan" id="kobo.1210.1"> and ensure its version aligns with that of </span><em class="italic"><span class="koboSpan" id="kobo.1211.1">AR Foundation</span></em><span class="koboSpan" id="kobo.1212.1">. </span><span class="koboSpan" id="kobo.1212.2">For iOS platforms, input </span><strong class="source-inline"><span class="koboSpan" id="kobo.1213.1">com.unity.xr.arkit</span></strong><span class="koboSpan" id="kobo.1214.1">, making sure its version </span><a id="_idIndexMarker379"/><span class="koboSpan" id="kobo.1215.1">matches </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1216.1">AR Foundation</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1217.1">’s.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.1218.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1219.1">Always remember to refer to the </span><em class="italic"><span class="koboSpan" id="kobo.1220.1">AR Foundation</span></em><span class="koboSpan" id="kobo.1221.1"> documentation for the most recent version details and Editor </span><span class="No-Break"><span class="koboSpan" id="kobo.1222.1">compatibility: </span></span><a href="https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@5.0/manual/project-setup/install-arfoundation.html"><span class="No-Break"><span class="koboSpan" id="kobo.1223.1">https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@5.0/manual/project-setup/install-arfoundation.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1224.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1225.1">Now, if you revisit </span><strong class="bold"><span class="koboSpan" id="kobo.1226.1">XR Plug-in Management</span></strong><span class="koboSpan" id="kobo.1227.1"> via the aforementioned quick check, the </span><strong class="bold"><span class="koboSpan" id="kobo.1228.1">XR Simulation</span></strong><span class="koboSpan" id="kobo.1229.1"> option should be visible in the </span><strong class="bold"><span class="koboSpan" id="kobo.1230.1">Windows, Mac, Linux settings</span></strong><span class="koboSpan" id="kobo.1231.1"> tab, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1232.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1233.1">.15</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1234.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer063">
<span class="koboSpan" id="kobo.1235.1"><img alt="Figure 4.15 – The Windows, Mac, Linux settings tab of the XR Plug-in Management window with the XR Simulation checkbox enabled" src="image/B20869_04_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1236.1">Figure 4.15 – The Windows, Mac, Linux settings tab of the XR Plug-in Management window with the XR Simulation checkbox enabled</span></p>
<p><span class="koboSpan" id="kobo.1237.1">With this feature activated, you’re primed to choose an environment and test the AR scene </span><span class="No-Break"><span class="koboSpan" id="kobo.1238.1">within Unity.</span></span></p>
<h2 id="_idParaDest-94"><span class="koboSpan" id="kobo.1239.1">Choosing an environment and testing the scene</span></h2>
<p><span class="koboSpan" id="kobo.1240.1">To test an </span><a id="_idIndexMarker380"/><span class="koboSpan" id="kobo.1241.1">AR scene within Unity, you’ll need an environment that emulates the real-world setting. </span><span class="koboSpan" id="kobo.1241.2">To find the right simulation setting, go to </span><strong class="bold"><span class="koboSpan" id="kobo.1242.1">Window</span></strong><span class="koboSpan" id="kobo.1243.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1244.1">XR</span></strong><span class="koboSpan" id="kobo.1245.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1246.1">AR</span></strong> <strong class="bold"><span class="koboSpan" id="kobo.1247.1">Foundation</span></strong><span class="koboSpan" id="kobo.1248.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1249.1">XR Environment</span></strong><span class="koboSpan" id="kobo.1250.1">. </span><span class="koboSpan" id="kobo.1250.2">In the middle of the </span><strong class="bold"><span class="koboSpan" id="kobo.1251.1">XR Environment</span></strong><span class="koboSpan" id="kobo.1252.1"> interface, there’s an </span><strong class="bold"><span class="koboSpan" id="kobo.1253.1">Environment</span></strong><span class="koboSpan" id="kobo.1254.1"> dropdown. </span><span class="koboSpan" id="kobo.1254.2">Initially, your project will offer just one environment option. </span><span class="koboSpan" id="kobo.1254.3">While it’s possible to add more by importing sample environments, </span><strong class="bold"><span class="koboSpan" id="kobo.1255.1">DefaultSimulationEnvironment</span></strong><span class="koboSpan" id="kobo.1256.1"> is usually adequate for </span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.1257.1">most testing needs. </span><span class="koboSpan" id="kobo.1257.2">Simply choose this option. </span><span class="koboSpan" id="kobo.1257.3">Once you’ve made your selection, hit the play button to activate play mode and start the simulation. </span><span class="koboSpan" id="kobo.1257.4">You’ll now be able to view your scene in real time, as depicted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1258.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1259.1">.16</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1260.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer064">
<span class="koboSpan" id="kobo.1261.1"><img alt="Figure 4.16 – XR Simulation at runtime" src="image/B20869_04_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1262.1">Figure 4.16 – XR Simulation at runtime</span></p>
<p><span class="koboSpan" id="kobo.1263.1">Pressing the play button transfers you to the </span><strong class="bold"><span class="koboSpan" id="kobo.1264.1">Game</span></strong><span class="koboSpan" id="kobo.1265.1"> mode of </span><strong class="bold"><span class="koboSpan" id="kobo.1266.1">XR Simulation</span></strong><span class="koboSpan" id="kobo.1267.1">, presenting the simulated AR scene (highlighted as </span><em class="italic"><span class="koboSpan" id="kobo.1268.1">1</span></em><span class="koboSpan" id="kobo.1269.1"> in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1270.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1271.1">.16</span></em><span class="koboSpan" id="kobo.1272.1">). </span><span class="koboSpan" id="kobo.1272.2">In this mode, you can adjust the viewpoint as needed, witnessing features such as plane detection in real time. </span><span class="koboSpan" id="kobo.1272.3">Once satisfied with the viewpoint, you can shift from </span><strong class="bold"><span class="koboSpan" id="kobo.1273.1">Game</span></strong><span class="koboSpan" id="kobo.1274.1"> mode to </span><strong class="bold"><span class="koboSpan" id="kobo.1275.1">Simulator</span></strong><span class="koboSpan" id="kobo.1276.1"> mode (highlighted as </span><em class="italic"><span class="koboSpan" id="kobo.1277.1">2</span></em><span class="koboSpan" id="kobo.1278.1"> in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1279.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1280.1">.16</span></em><span class="koboSpan" id="kobo.1281.1">) using the dropdown in the top-left corner. </span><span class="koboSpan" id="kobo.1281.2">It’s important to switch to </span><strong class="bold"><span class="koboSpan" id="kobo.1282.1">Simulator</span></strong><span class="koboSpan" id="kobo.1283.1"> mode to access the </span><strong class="bold"><span class="koboSpan" id="kobo.1284.1">XR Simulation</span></strong><span class="koboSpan" id="kobo.1285.1"> functionalities, such as touch inputs. </span><span class="koboSpan" id="kobo.1285.2">Observing the scene shown as </span><em class="italic"><span class="koboSpan" id="kobo.1286.1">2</span></em><span class="koboSpan" id="kobo.1287.1"> in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1288.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1289.1">.16</span></em><span class="koboSpan" id="kobo.1290.1">, you’ll notice key features such as the distinct white point pattern, indicating the detected plane, and white capsules, marking the spots where mouse </span><span class="No-Break"><span class="koboSpan" id="kobo.1291.1">clicks occurred.</span></span></p>
<p><span class="koboSpan" id="kobo.1292.1">However, it’s crucial to be aware of the constraints surrounding </span><strong class="bold"><span class="koboSpan" id="kobo.1293.1">XR Simulation</span></strong><span class="koboSpan" id="kobo.1294.1">. </span><span class="koboSpan" id="kobo.1294.2">Some elements might seem smaller than expected, and the resolution may not be the sharpest. </span><span class="koboSpan" id="kobo.1294.3">Although </span><strong class="bold"><span class="koboSpan" id="kobo.1295.1">XR Simulation</span></strong><span class="koboSpan" id="kobo.1296.1"> provides a convenient testing avenue, it’s not a complete </span><a id="_idIndexMarker382"/><span class="koboSpan" id="kobo.1297.1">substitute for deploying the AR scene on an actual device. </span><span class="koboSpan" id="kobo.1297.2">Consider it a tool for iterative testing until you’re confident about deploying it onto your target </span><span class="No-Break"><span class="koboSpan" id="kobo.1298.1">mobile device.</span></span></p>
<p><span class="koboSpan" id="kobo.1299.1">Now, let’s proceed to launch the scene on our smartphone and observe </span><span class="No-Break"><span class="koboSpan" id="kobo.1300.1">the outcome.</span></span></p>
<h1 id="_idParaDest-95"><span class="koboSpan" id="kobo.1301.1">Deploying AR experiences onto mobile devices</span></h1>
<p><span class="koboSpan" id="kobo.1302.1">It’s now</span><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.1303.1"> time to launch your AR experiences onto smartphones or tablets. </span><span class="koboSpan" id="kobo.1303.2">Primarily, you have two paths to accomplish this: deployment onto an Android or an </span><span class="No-Break"><span class="koboSpan" id="kobo.1304.1">iOS device.</span></span></p>
<p><span class="koboSpan" id="kobo.1305.1">For solo projects, where the AR application is meant for personal use, you may opt to deploy onto just Android or iOS, depending on your device’s operating system. </span><span class="koboSpan" id="kobo.1305.2">However, for larger-scale projects that involve several users – be it academic, industrial, or any other group, irrespective of its size – it’s advisable to deploy and test the AR app on both Android and </span><span class="No-Break"><span class="koboSpan" id="kobo.1306.1">iOS platforms.</span></span></p>
<p><span class="koboSpan" id="kobo.1307.1">This strategy has multiple benefits. </span><span class="koboSpan" id="kobo.1307.2">First, if your application gains momentum or its usage expands, it would already be compatible with both major platforms, eliminating the need for time-consuming porting later on. </span><span class="koboSpan" id="kobo.1307.3">Second, making your app accessible on both platforms from the outset can draw in more users, and possibly attract increased funding </span><span class="No-Break"><span class="koboSpan" id="kobo.1308.1">or support.</span></span></p>
<p><span class="koboSpan" id="kobo.1309.1">Another key advantage to this is the cross-platform compatibility offered by Unity. </span><span class="koboSpan" id="kobo.1309.2">This enables you to maintain a singular code base for both platforms, simplifying the management and updating process for your application. </span><span class="koboSpan" id="kobo.1309.3">Any modifications made need to be done in one location and then deployed across </span><span class="No-Break"><span class="koboSpan" id="kobo.1310.1">both platforms.</span></span></p>
<p><span class="koboSpan" id="kobo.1311.1">In the next section, we’ll delve into the steps required to deploy your AR scene onto an </span><span class="No-Break"><span class="koboSpan" id="kobo.1312.1">Android device.</span></span></p>
<h2 id="_idParaDest-96"><span class="koboSpan" id="kobo.1313.1">Deploying onto Android</span></h2>
<p><span class="koboSpan" id="kobo.1314.1">This </span><a id="_idIndexMarker384"/><span class="koboSpan" id="kobo.1315.1">section outlines the</span><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.1316.1"> procedure to deploy your AR scene onto an Android device. </span><span class="koboSpan" id="kobo.1316.2">The initial part of the process involves enabling some settings on your phone to prepare it for testing. </span><span class="koboSpan" id="kobo.1316.3">Here’s a </span><span class="No-Break"><span class="koboSpan" id="kobo.1317.1">step-by-step guide:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1318.1">Confirm that </span><a id="_idIndexMarker386"/><span class="koboSpan" id="kobo.1319.1">your device is compatible with ARCore. </span><span class="koboSpan" id="kobo.1319.2">ARCore is essential for AR Foundation to work correctly. </span><span class="koboSpan" id="kobo.1319.3">You can find a list of supported devices </span><span class="No-Break"><span class="koboSpan" id="kobo.1320.1">at </span></span><a href="https://developers.google.com/ar/devices"><span class="No-Break"><span class="koboSpan" id="kobo.1321.1">https://developers.google.com/ar/devices</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1322.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1323.1">Install ARCore, which AR Fo</span><a href="https://play.google.com/store/apps/details?id=com.google.ar.core"><span class="koboSpan" id="kobo.1324.1">undation uses to enable AR capabilities on Android devices. </span><span class="koboSpan" id="kobo.1324.2">ARCo</span></a><span class="koboSpan" id="kobo.1325.1">re can be downloaded from the Google Play Store </span><span class="No-Break"><span class="koboSpan" id="kobo.1326.1">at </span></span><a href="https://play.google.com/store/apps/details?id=com.google.ar.core"><span class="No-Break"><span class="koboSpan" id="kobo.1327.1">https://play.google.com/store/apps/details?id=com.google.ar.core</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1328.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1329.1">Activate </span><strong class="bold"><span class="koboSpan" id="kobo.1330.1">Developer Options</span></strong><span class="koboSpan" id="kobo.1331.1">. </span><span class="koboSpan" id="kobo.1331.2">To do this, open </span><strong class="bold"><span class="koboSpan" id="kobo.1332.1">Settings</span></strong><span class="koboSpan" id="kobo.1333.1"> on your Android device, scroll down, and select </span><strong class="bold"><span class="koboSpan" id="kobo.1334.1">About Phone</span></strong><span class="koboSpan" id="kobo.1335.1">. </span><span class="koboSpan" id="kobo.1335.2">Find </span><strong class="bold"><span class="koboSpan" id="kobo.1336.1">Build number</span></strong><span class="koboSpan" id="kobo.1337.1"> and tap it seven times until a message appears stating </span><strong class="bold"><span class="koboSpan" id="kobo.1338.1">You are now </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1339.1">a developer!</span></strong></span></li>
<li><span class="koboSpan" id="kobo.1340.1">Upon</span><a id="_idIndexMarker387"/><span class="koboSpan" id="kobo.1341.1"> returning to the main </span><strong class="bold"><span class="koboSpan" id="kobo.1342.1">Settings</span></strong><span class="koboSpan" id="kobo.1343.1"> menu, you should now see an option called </span><strong class="bold"><span class="koboSpan" id="kobo.1344.1">Developer Options</span></strong><span class="koboSpan" id="kobo.1345.1">. </span><span class="koboSpan" id="kobo.1345.2">If it’s not present, perform an online search to find out how to enable developer mode for your specific device. </span><span class="koboSpan" id="kobo.1345.3">Though the method described in the previous step is the most common, the variety of Android devices available might require slightly </span><span class="No-Break"><span class="koboSpan" id="kobo.1346.1">different steps.</span></span></li>
<li><span class="koboSpan" id="kobo.1347.1">With </span><strong class="bold"><span class="koboSpan" id="kobo.1348.1">Developer Options</span></strong><span class="koboSpan" id="kobo.1349.1"> enabled, turn on </span><strong class="bold"><span class="koboSpan" id="kobo.1350.1">USB Debugging</span></strong><span class="koboSpan" id="kobo.1351.1">. </span><span class="koboSpan" id="kobo.1351.2">This will allow you to transfer your AR scene to your Android device via a USB cable. </span><span class="koboSpan" id="kobo.1351.3">Navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.1352.1">Settings</span></strong><span class="koboSpan" id="kobo.1353.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1354.1">Developer options</span></strong><span class="koboSpan" id="kobo.1355.1">, scroll down to </span><strong class="bold"><span class="koboSpan" id="kobo.1356.1">USB Debugging</span></strong><span class="koboSpan" id="kobo.1357.1">, and switch it on. </span><span class="koboSpan" id="kobo.1357.2">Acknowledge any </span><span class="No-Break"><span class="koboSpan" id="kobo.1358.1">pop-up prompts.</span></span></li>
<li><span class="koboSpan" id="kobo.1359.1">Depending on your Android version, you might need to allow the installation of apps from </span><span class="No-Break"><span class="koboSpan" id="kobo.1360.1">unknown sources:</span></span><ul><li><span class="koboSpan" id="kobo.1361.1">For Android versions 7 (Nougat) and earlier: Navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.1362.1">Settings</span></strong><span class="koboSpan" id="kobo.1363.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1364.1">Security Settings</span></strong><span class="koboSpan" id="kobo.1365.1"> and then check the box next to </span><strong class="bold"><span class="koboSpan" id="kobo.1366.1">Unknown Sources</span></strong><span class="koboSpan" id="kobo.1367.1"> to allow the installation of apps from sources other than the Google </span><span class="No-Break"><span class="koboSpan" id="kobo.1368.1">Play Store.</span></span></li><li><span class="koboSpan" id="kobo.1369.1">For Android versions 8 (Oreo) and above: Select </span><strong class="bold"><span class="koboSpan" id="kobo.1370.1">Settings</span></strong><span class="koboSpan" id="kobo.1371.1"> |</span><strong class="bold"><span class="koboSpan" id="kobo.1372.1">Apps &amp; Notifications</span></strong><span class="koboSpan" id="kobo.1373.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1374.1">Special App Access</span></strong><span class="koboSpan" id="kobo.1375.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1376.1">Install unknown apps</span></strong><span class="koboSpan" id="kobo.1377.1"> and activate </span><strong class="bold"><span class="koboSpan" id="kobo.1378.1">Unknown sources</span></strong><span class="koboSpan" id="kobo.1379.1">. </span><span class="koboSpan" id="kobo.1379.2">You will see a list of apps that you can grant permission to install from unknown sources. </span><span class="koboSpan" id="kobo.1379.3">This is where you select the </span><em class="italic"><span class="koboSpan" id="kobo.1380.1">File Manager</span></em><span class="koboSpan" id="kobo.1381.1"> app, as you’re using it to download the unknown app </span><span class="No-Break"><span class="koboSpan" id="kobo.1382.1">from Unity.</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1383.1">Link your </span><a id="_idIndexMarker388"/><span class="koboSpan" id="kobo.1384.1">Android device to your computer using a USB cable. </span><span class="koboSpan" id="kobo.1384.2">You can typically use your device’s charging cable for this. </span><span class="koboSpan" id="kobo.1384.3">A prompt </span><a id="_idIndexMarker389"/><span class="koboSpan" id="kobo.1385.1">will appear on your Android device asking for permission to allow USB debugging from your computer. </span><span class="No-Break"><span class="koboSpan" id="kobo.1386.1">Confirm it.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1387.1">With your Android device properly prepared for testing AR scenes, you can now proceed to deploy your Unity AR scene. </span><span class="koboSpan" id="kobo.1387.2">This involves adjusting several parameters in the Unity Editor’s </span><strong class="bold"><span class="koboSpan" id="kobo.1388.1">Build Settings</span></strong><span class="koboSpan" id="kobo.1389.1"> and </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1390.1">Player Settings</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1391.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1392.1">Here’s a step-by-step guide on how to </span><span class="No-Break"><span class="koboSpan" id="kobo.1393.1">do this:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1394.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.1395.1">File</span></strong><span class="koboSpan" id="kobo.1396.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1397.1">Build Settings</span></strong><span class="koboSpan" id="kobo.1398.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1399.1">Android</span></strong><span class="koboSpan" id="kobo.1400.1">, then click the </span><strong class="bold"><span class="koboSpan" id="kobo.1401.1">Switch Platform</span></strong><span class="koboSpan" id="kobo.1402.1"> button. </span><span class="koboSpan" id="kobo.1402.2">Now, your </span><strong class="bold"><span class="koboSpan" id="kobo.1403.1">Build Settings</span></strong><span class="koboSpan" id="kobo.1404.1"> should look something like what is illustrated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1405.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1406.1">.17</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1407.1">.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer065">
<span class="koboSpan" id="kobo.1408.1"><img alt="Figure 4.17 – Unity’s Build Settings configuration for Android" src="image/B20869_04_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1409.1">Figure 4.17 – Unity’s Build Settings configuration for Android</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.1410.1">Next, click</span><a id="_idIndexMarker390"/><span class="koboSpan" id="kobo.1411.1"> on the </span><strong class="bold"><span class="koboSpan" id="kobo.1412.1">Player Settings</span></strong><span class="koboSpan" id="kobo.1413.1"> button. </span><span class="koboSpan" id="kobo.1413.2">This </span><a id="_idIndexMarker391"/><span class="koboSpan" id="kobo.1414.1">will open a new window, also called </span><strong class="bold"><span class="koboSpan" id="kobo.1415.1">Player Settings</span></strong><span class="koboSpan" id="kobo.1416.1">. </span><span class="koboSpan" id="kobo.1416.2">Here, select the </span><strong class="bold"><span class="koboSpan" id="kobo.1417.1">Android</span></strong><span class="koboSpan" id="kobo.1418.1"> tab, scroll down, and set </span><strong class="bold"><span class="koboSpan" id="kobo.1419.1">Minimum API Level</span></strong><span class="koboSpan" id="kobo.1420.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1421.1">Android 7.0 Nougat (API level 24)</span></strong><span class="koboSpan" id="kobo.1422.1"> or above. </span><span class="koboSpan" id="kobo.1422.2">This is crucial, as ARCore requires at least Android 7.0 to </span><span class="No-Break"><span class="koboSpan" id="kobo.1423.1">function properly.</span></span></li>
<li><span class="koboSpan" id="kobo.1424.1">Remaining in the </span><strong class="bold"><span class="koboSpan" id="kobo.1425.1">Android</span></strong><span class="koboSpan" id="kobo.1426.1"> tab of </span><strong class="bold"><span class="koboSpan" id="kobo.1427.1">Player Settings</span></strong><span class="koboSpan" id="kobo.1428.1">, enter a package name. </span><span class="koboSpan" id="kobo.1428.2">Ensure it follows the pattern </span><strong class="source-inline"><span class="koboSpan" id="kobo.1429.1">com.company_name.application_name</span></strong><span class="koboSpan" id="kobo.1430.1">. </span><span class="koboSpan" id="kobo.1430.2">This pattern is a widely adopted convention for naming application packages in Android and is used to ensure unique identification for each application on the Google </span><span class="No-Break"><span class="koboSpan" id="kobo.1431.1">Play Store.</span></span></li>
<li><span class="koboSpan" id="kobo.1432.1">Return</span><a id="_idIndexMarker392"/><span class="koboSpan" id="kobo.1433.1"> to </span><strong class="bold"><span class="koboSpan" id="kobo.1434.1">File</span></strong><span class="koboSpan" id="kobo.1435.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1436.1">Build Settings</span></strong><span class="koboSpan" id="kobo.1437.1"> and click the </span><strong class="bold"><span class="koboSpan" id="kobo.1438.1">Build and Run</span></strong><span class="koboSpan" id="kobo.1439.1"> button. </span><span class="koboSpan" id="kobo.1439.2">A new window will pop up, prompting you to create a</span><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.1440.1"> new folder in your project’s directory. </span><span class="koboSpan" id="kobo.1440.2">Name this folder </span><strong class="source-inline"><span class="koboSpan" id="kobo.1441.1">Builds</span></strong><span class="koboSpan" id="kobo.1442.1">. </span><span class="koboSpan" id="kobo.1442.2">Upon selecting this folder, Unity will construct the scene within the newly created </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1443.1">Builds</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1444.1"> folder.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1445.1">This is how you can set up your Android device for deploying AR scenes onto it. </span><span class="koboSpan" id="kobo.1445.2">In the next section, you will learn how you can deploy your AR scene onto an iOS device, such as an iPhone </span><span class="No-Break"><span class="koboSpan" id="kobo.1446.1">or iPad.</span></span></p>
<h2 id="_idParaDest-97"><span class="koboSpan" id="kobo.1447.1">Deploying onto iOS</span></h2>
<p><span class="koboSpan" id="kobo.1448.1">Before</span><a id="_idIndexMarker394"/><span class="koboSpan" id="kobo.1449.1"> we </span><a id="_idIndexMarker395"/><span class="koboSpan" id="kobo.1450.1">delve into the process of deploying an AR scene onto an iOS device, it’s important to discuss certain hardware prerequisites. </span><span class="koboSpan" id="kobo.1450.2">Regrettably, if you’re using a Windows PC and an iOS device, it’s not as straightforward as deploying an AR scene made in Unity. </span><span class="koboSpan" id="kobo.1450.3">The reason for this is that Apple, in its characteristic style, requires the use of </span><em class="italic"><span class="koboSpan" id="kobo.1451.1">Xcode</span></em><span class="koboSpan" id="kobo.1452.1">, its proprietary development environment, as an intermediary step. </span><span class="koboSpan" id="kobo.1452.2">This is only available on Mac devices, not Windows </span><span class="No-Break"><span class="koboSpan" id="kobo.1453.1">or Linux.</span></span></p>
<p><span class="koboSpan" id="kobo.1454.1">If you don’t possess a Mac, there are still ways to deploy your AR scene onto an iOS device. </span><span class="koboSpan" id="kobo.1454.2">Here are a </span><span class="No-Break"><span class="koboSpan" id="kobo.1455.1">few alternatives:</span></span></p>
<ul>
<li><em class="italic"><span class="koboSpan" id="kobo.1456.1">Borrowing a Mac</span></em><span class="koboSpan" id="kobo.1457.1">: The simplest solution to gain access to Xcode and deploy your app onto an iOS device is to borrow a Mac from a friend or coworker. </span><span class="koboSpan" id="kobo.1457.2">It’s also worth checking whether local libraries, universities, or co-working spaces offer public access to Macs. </span><span class="koboSpan" id="kobo.1457.3">For commercial or academic projects, it’s highly recommended to invest in a Mac for testing your AR app </span><span class="No-Break"><span class="koboSpan" id="kobo.1458.1">on iOS.</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1459.1">Using a virtual machine</span></em><span class="koboSpan" id="kobo.1460.1">: Another no-cost alternative is to establish a macOS environment on your non-Apple PC. </span><span class="koboSpan" id="kobo.1460.2">However, Apple neither endorses nor advises this method due to potential legal issues and stability concerns. </span><span class="koboSpan" id="kobo.1460.3">Therefore, we won’t elaborate further or </span><span class="No-Break"><span class="koboSpan" id="kobo.1461.1">recommend it.</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1462.1">Employing a Unity plugin</span></em><span class="koboSpan" id="kobo.1463.1">: Fortunately, a widely used Unity plugin enables deployment of an AR scene onto your iOS device with relatively less hassle. </span><span class="koboSpan" id="kobo.1463.2">Navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.1464.1">Windows</span></strong><span class="koboSpan" id="kobo.1465.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1466.1">Asset Store</span></strong><span class="koboSpan" id="kobo.1467.1">, click on </span><strong class="bold"><span class="koboSpan" id="kobo.1468.1">Search Online</span></strong><span class="koboSpan" id="kobo.1469.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.1470.1">Unity Asset Store</span></strong><span class="koboSpan" id="kobo.1471.1"> will open in your default browser. </span><span class="koboSpan" id="kobo.1471.2">Search for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1472.1">iOS Project Builder for Windows</span></strong><span class="koboSpan" id="kobo.1473.1"> by Pierre-Marie Baty. </span><span class="koboSpan" id="kobo.1473.2">Though this plugin costs $50, it is a much cheaper alternative than buying a Mac. </span><span class="koboSpan" id="kobo.1473.3">After purchasing the plugin, import it into your AR scene and configure everything correctly by following the plugin’s </span><span class="No-Break"><span class="koboSpan" id="kobo.1474.1">documentation (</span></span><a href="https://www.pmbaty.com/iosbuildenv/documentation/unity.html"><span class="No-Break"><span class="koboSpan" id="kobo.1475.1">https://www.pmbaty.com/iosbuildenv/documentation/unity.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1476.1">).</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1477.1">In this book, we</span><a id="_idIndexMarker396"/><span class="koboSpan" id="kobo.1478.1"> focus exclusively on deploying AR applications onto iOS devices using a Mac for running Unity and Xcode. </span><span class="koboSpan" id="kobo.1478.2">This is due to potential </span><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.1479.1">inconsistencies and maintenance concerns with other </span><span class="No-Break"><span class="koboSpan" id="kobo.1480.1">aforementioned methods.</span></span></p>
<p><span class="koboSpan" id="kobo.1481.1">Before you initiate the deployment setup, ensure that your Mac and iOS devices have the necessary software and settings. </span><span class="koboSpan" id="kobo.1481.2">The following steps detail this </span><span class="No-Break"><span class="koboSpan" id="kobo.1482.1">preparatory process:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1483.1">Make sure the latest software versions are installed on your MacOS and iOS devices. </span><span class="koboSpan" id="kobo.1483.2">Check for updates by navigating to </span><strong class="bold"><span class="koboSpan" id="kobo.1484.1">Settings</span></strong><span class="koboSpan" id="kobo.1485.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1486.1">General</span></strong><span class="koboSpan" id="kobo.1487.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1488.1">Software Update</span></strong><span class="koboSpan" id="kobo.1489.1"> on each device and install any that </span><span class="No-Break"><span class="koboSpan" id="kobo.1490.1">are available.</span></span></li>
<li><span class="koboSpan" id="kobo.1491.1">Confirm that your iOS device supports ARKit, which is crucial for the correct functioning of AR Foundation. </span><span class="koboSpan" id="kobo.1491.2">You can check compatibility at </span><a href="https://developer.apple.com/documentation/arkit/"><span class="koboSpan" id="kobo.1492.1">https://developer.apple.com/documentation/arkit/</span></a><span class="koboSpan" id="kobo.1493.1">. </span><span class="koboSpan" id="kobo.1493.2">Generally, any device running on iPadOS 11 or iOS 11 and later versions </span><span class="No-Break"><span class="koboSpan" id="kobo.1494.1">are compatible.</span></span></li>
<li><span class="koboSpan" id="kobo.1495.1">You will </span><a id="_idTextAnchor015"/><span class="koboSpan" id="kobo.1496.1">need an Apple ID for the following steps. </span><span class="koboSpan" id="kobo.1496.2">If you don’t have one, you can create it </span><span class="No-Break"><span class="koboSpan" id="kobo.1497.1">at </span></span><a href="https://appleid.apple.com/account"><span class="No-Break"><span class="koboSpan" id="kobo.1498.1">https://appleid.apple.com/account</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1499.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1500.1">Download the </span><strong class="bold"><span class="koboSpan" id="kobo.1501.1">Xcode</span></strong><span class="koboSpan" id="kobo.1502.1"> software onto your Mac from Apple’s developer website </span><span class="No-Break"><span class="koboSpan" id="kobo.1503.1">at </span></span><a href="https://developer.apple.com/xcode/"><span class="No-Break"><span class="koboSpan" id="kobo.1504.1">https://developer.apple.com/xcode/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1505.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1506.1">Enable </span><strong class="bold"><span class="koboSpan" id="kobo.1507.1">Developer Mode</span></strong><span class="koboSpan" id="kobo.1508.1"> on your iOS device by going to </span><strong class="bold"><span class="koboSpan" id="kobo.1509.1">Settings</span></strong><span class="koboSpan" id="kobo.1510.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1511.1">Privacy &amp; Security</span></strong><span class="koboSpan" id="kobo.1512.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1513.1">Developer Mode</span></strong><span class="koboSpan" id="kobo.1514.1">, activate </span><strong class="bold"><span class="koboSpan" id="kobo.1515.1">Developer Mode</span></strong><span class="koboSpan" id="kobo.1516.1">, and then restart your device. </span><span class="koboSpan" id="kobo.1516.2">If you don’t find the </span><strong class="bold"><span class="koboSpan" id="kobo.1517.1">Developer Mode</span></strong><span class="koboSpan" id="kobo.1518.1"> option, connect your iOS device to a Mac using a cable. </span><span class="koboSpan" id="kobo.1518.2">Open </span><strong class="bold"><span class="koboSpan" id="kobo.1519.1">Xcode</span></strong><span class="koboSpan" id="kobo.1520.1">, then navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.1521.1">Window</span></strong><span class="koboSpan" id="kobo.1522.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1523.1">Devices and Simulator</span></strong><span class="koboSpan" id="kobo.1524.1">. </span><span class="koboSpan" id="kobo.1524.2">If your device isn’t listed in the left pane, ensure you trust the computer on your device by acknowledging the prompt that appears after you connect your device to the Mac. </span><span class="koboSpan" id="kobo.1524.3">Subsequently, you can enable </span><strong class="bold"><span class="koboSpan" id="kobo.1525.1">Developer Mode</span></strong><span class="koboSpan" id="kobo.1526.1"> on your </span><span class="No-Break"><span class="koboSpan" id="kobo.1527.1">iOS device.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1528.1">Having set up</span><a id="_idIndexMarker398"/><span class="koboSpan" id="kobo.1529.1"> your</span><a id="_idIndexMarker399"/><span class="koboSpan" id="kobo.1530.1"> Mac and iOS devices correctly, let’s now proceed with how to deploy your AR scene onto your iOS device. </span><span class="koboSpan" id="kobo.1530.2">Each time you want to deploy your AR scene onto your iOS device, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1531.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1532.1">Use a USB cable to connect your iOS device to </span><span class="No-Break"><span class="koboSpan" id="kobo.1533.1">your Mac.</span></span></li>
<li><span class="koboSpan" id="kobo.1534.1">Within your Unity project, navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.1535.1">File</span></strong><span class="koboSpan" id="kobo.1536.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1537.1">Build Settings</span></strong><span class="koboSpan" id="kobo.1538.1"> and select </span><strong class="bold"><span class="koboSpan" id="kobo.1539.1">iOS </span></strong><span class="koboSpan" id="kobo.1540.1">from </span><strong class="bold"><span class="koboSpan" id="kobo.1541.1">Platform options</span></strong><span class="koboSpan" id="kobo.1542.1">. </span><span class="koboSpan" id="kobo.1542.2">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.1543.1">Switch </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1544.1">Platform</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1545.1"> button.</span></span></li>
<li><span class="koboSpan" id="kobo.1546.1">Check the </span><strong class="bold"><span class="koboSpan" id="kobo.1547.1">Development Build</span></strong><span class="koboSpan" id="kobo.1548.1"> option in </span><strong class="bold"><span class="koboSpan" id="kobo.1549.1">Build Settings</span></strong><span class="koboSpan" id="kobo.1550.1"> for iOS. </span><span class="koboSpan" id="kobo.1550.2">This enables you to deploy the app for testing purposes onto your iOS device. </span><span class="koboSpan" id="kobo.1550.3">This step is crucial to avoid the annual subscription cost of an Apple </span><span class="No-Break"><span class="koboSpan" id="kobo.1551.1">Developer account.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.1552.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1553.1">Deploying apps onto an iOS device with a free Apple Developer account has certain limitations. </span><span class="koboSpan" id="kobo.1553.2">You can only deploy up to three apps onto your device at once, and they need to be redeployed every 7 days due to the expiration of the free provisioning profile. </span><span class="koboSpan" id="kobo.1553.3">For industrial or academic purposes, we recommend subscribing to a paid Developer account after thorough testing using the </span><strong class="bold"><span class="koboSpan" id="kobo.1554.1">Development </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1555.1">Build</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1556.1"> function.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.1557.1">Remain in </span><strong class="bold"><span class="koboSpan" id="kobo.1558.1">File</span></strong><span class="koboSpan" id="kobo.1559.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1560.1">Build Settings</span></strong><span class="koboSpan" id="kobo.1561.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1562.1">iOS tab</span></strong><span class="koboSpan" id="kobo.1563.1">, click on </span><strong class="bold"><span class="koboSpan" id="kobo.1564.1">Player Settings</span></strong><span class="koboSpan" id="kobo.1565.1">, scroll down to </span><strong class="bold"><span class="koboSpan" id="kobo.1566.1">Bundle Identifier</span></strong><span class="koboSpan" id="kobo.1567.1">, and input an identifier in the form </span><span class="No-Break"><span class="koboSpan" id="kobo.1568.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1569.1">com.company_name.application_name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1570.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1571.1">Return to </span><strong class="bold"><span class="koboSpan" id="kobo.1572.1">File</span></strong><span class="koboSpan" id="kobo.1573.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1574.1">Build Settings</span></strong><span class="koboSpan" id="kobo.1575.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1576.1">iOS tab</span></strong><span class="koboSpan" id="kobo.1577.1"> and click </span><strong class="bold"><span class="koboSpan" id="kobo.1578.1">Build and Run</span></strong><span class="koboSpan" id="kobo.1579.1">. </span><span class="koboSpan" id="kobo.1579.2">In the pop-up window, create a new folder in your project directory named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1580.1">Builds</span></strong><span class="koboSpan" id="kobo.1581.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.1582.1">select it.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1583.1">Xcode</span></strong><span class="koboSpan" id="kobo.1584.1"> will</span><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.1585.1"> open with the build, displaying an error message due to the need for a signing certificate. </span><span class="koboSpan" id="kobo.1585.2">To create this, click on the error message, navigate to the </span><strong class="bold"><span class="koboSpan" id="kobo.1586.1">Signing and Capabilities</span></strong><span class="koboSpan" id="kobo.1587.1"> tab, and select the checkbox. </span><span class="koboSpan" id="kobo.1587.2">In the </span><strong class="bold"><span class="koboSpan" id="kobo.1588.1">Team </span></strong><span class="koboSpan" id="kobo.1589.1">drop-down menu, select </span><strong class="bold"><span class="koboSpan" id="kobo.1590.1">New Team</span></strong><span class="koboSpan" id="kobo.1591.1">, and create a new team consisting solely of yourself. </span><span class="koboSpan" id="kobo.1591.2">Now, select this newly-created team from the drop-down menu. </span><span class="koboSpan" id="kobo.1591.3">Ensure that the information in the </span><strong class="bold"><span class="koboSpan" id="kobo.1592.1">Bundle Identifier</span></strong><span class="koboSpan" id="kobo.1593.1"> field matches your Unity Project found in </span><strong class="bold"><span class="koboSpan" id="kobo.1594.1">Edit</span></strong><span class="koboSpan" id="kobo.1595.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1596.1">Project Settings</span></strong><span class="koboSpan" id="kobo.1597.1"> | </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1598.1">Player</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1599.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1600.1">While</span><a id="_idIndexMarker401"/><span class="koboSpan" id="kobo.1601.1"> in </span><strong class="bold"><span class="koboSpan" id="kobo.1602.1">Xcode</span></strong><span class="koboSpan" id="kobo.1603.1">, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1604.1">Any iOS Device</span></strong><span class="koboSpan" id="kobo.1605.1"> menu and select your specific iOS device as </span><span class="No-Break"><span class="koboSpan" id="kobo.1606.1">the output.</span></span></li>
<li><span class="koboSpan" id="kobo.1607.1">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.1608.1">Play</span></strong><span class="koboSpan" id="kobo.1609.1"> button on the top left of </span><strong class="bold"><span class="koboSpan" id="kobo.1610.1">Xcode</span></strong><span class="koboSpan" id="kobo.1611.1"> and wait for a message indicating </span><strong class="bold"><span class="koboSpan" id="kobo.1612.1">Build succeeded</span></strong><span class="koboSpan" id="kobo.1613.1">. </span><span class="koboSpan" id="kobo.1613.2">Your AR application should now be on your iOS device. </span><span class="koboSpan" id="kobo.1613.3">However, you won’t be able to open it until you trust the developer (in this case, yourself). </span><span class="koboSpan" id="kobo.1613.4">Navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.1614.1">Settings</span></strong><span class="koboSpan" id="kobo.1615.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1616.1">General</span></strong><span class="koboSpan" id="kobo.1617.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1618.1">VPN &amp; Device Management</span></strong><span class="koboSpan" id="kobo.1619.1"> on your iOS device, tap </span><strong class="bold"><span class="koboSpan" id="kobo.1620.1">Developer App certificate</span></strong><span class="koboSpan" id="kobo.1621.1"> under your </span><strong class="bold"><span class="koboSpan" id="kobo.1622.1">Apple ID</span></strong><span class="koboSpan" id="kobo.1623.1">, and then tap </span><strong class="bold"><span class="koboSpan" id="kobo.1624.1">Trust (Your </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1625.1">Apple ID)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1626.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1627.1">On your iOS device’s home screen, click the icon of your AR app. </span><span class="koboSpan" id="kobo.1627.2">Grant the necessary permissions, such as camera access. </span><span class="koboSpan" id="kobo.1627.3">Congratulations, you’ve successfully deployed your AR app onto your </span><span class="No-Break"><span class="koboSpan" id="kobo.1628.1">iOS device!</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1629.1">You now know how to deploy your AR experiences onto both Android and </span><span class="No-Break"><span class="koboSpan" id="kobo.1630.1">iOS devices.</span></span></p>
<p><span class="koboSpan" id="kobo.1631.1">Let’s review what we have learned so far in this chapter before moving on to creating interactive </span><span class="No-Break"><span class="koboSpan" id="kobo.1632.1">XR experiences.</span></span></p>
<h1 id="_idParaDest-98"><span class="koboSpan" id="kobo.1633.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1634.1">In this chapter, we’ve delved into the complexities and intricacies that surround AR glasses, exploring why these devices face numerous physical and technological challenges before they can be fully embraced by the public at large. </span><span class="koboSpan" id="kobo.1634.2">We’ve examined the critical choice between marker-based and markerless approaches in your AR application, and we’ve discussed how this seemingly simple decision can significantly influence not only the development journey of your application but also its accessibility, versatility, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1635.1">user engagement.</span></span></p>
<p><span class="koboSpan" id="kobo.1636.1">Through the exploration and installation of Unity’s AR Foundation package, you are now empowered to create simple AR experiences of your own, and ready to deploy them across an extensive array of handheld, AR-compatible </span><span class="No-Break"><span class="koboSpan" id="kobo.1637.1">mobile devices.</span></span></p>
<p><span class="koboSpan" id="kobo.1638.1">We’ve also discovered that the deployment of an AR scene onto iOS devices can be a complex and time-intensive task, largely due to the various restrictions imposed by Apple’s ecosystem compared to the Android ecosystem. </span><span class="koboSpan" id="kobo.1638.2">However, these constraints should not deter you from pursuing a cross-platform approach for your AR apps. </span><span class="koboSpan" id="kobo.1638.3">By aiming for deployment across both operating systems, you ensure greater accessibility and increase the potential for reaching a </span><span class="No-Break"><span class="koboSpan" id="kobo.1639.1">broader audience.</span></span></p>
<p><span class="koboSpan" id="kobo.1640.1">By understanding the diverse aspects of AR development through Unity, you are well on your way to creating immersive AR experiences that truly stand out. </span><span class="koboSpan" id="kobo.1640.2">In the next chapter, you will learn how you can use C# scripting and other techniques to add complex logic to your </span><span class="No-Break"><span class="koboSpan" id="kobo.1641.1">VR applications.</span></span></p>
</div>
</body></html>