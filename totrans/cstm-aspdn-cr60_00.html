<html><head></head><body>
		<div><h1 id="_idParaDest-7"><a id="_idTextAnchor006"/>Preface</h1>
			<p>ASP.NET Core is the most powerful web framework provided by Microsoft and is full of hidden features that make it even more powerful and useful.</p>
			<p>Your application should not be made to match the framework; your framework should be able to do what your application really needs. With this book, you will learn how to find the hidden screws you can turn to get the most out of the framework.</p>
			<p>Developers working with ASP.NET Core will be able to put their knowledge to work with this practical guide to customizing ASP.NET Core. The book provides a hands-on approach to implementation and its associated methodologies that will have you up and running and productive in no time.</p>
			<p>This book is a compact collection of default ASP.NET Core behaviors you might want to change and step-by-step explanations of how to do so.</p>
			<p>By the end of this book, you will know how to customize ASP.NET Core to get an optimized application out of it according to your individual needs.</p>
			<h1 id="_idParaDest-8"><a id="_idTextAnchor007"/>ASP.NET Core architecture overview</h1>
			<p>To follow the next chapters, you should be familiar with the base architecture of ASP.NET Core and its components. This book tackles almost all of the components of the architecture.</p>
			<p>The following figure shows the base architecture overview of ASP.NET Core 6.0. Let's quickly go through the components shown here from the bottom to the top layer:</p>
			<div><div><img src="img/Image79467.jpg" alt=""/>
				</div>
			</div>
			<p>At the bottom, there is the <strong class="bold">Host</strong> layer. This is the layer that bootstraps the web server and all the stuff that is needed to start up an ASP.NET Core application, including logging, configuration, and the service provider. This layer creates the actual request objects and their dependencies that are used in the layers above.</p>
			<p>The next layer above <strong class="bold">Host</strong> is the <strong class="bold">Middleware</strong> layer. This layer works with the request object or manipulates it. This attaches the middleware to the request object. It executes the middleware for things such as error handling, authenticating HSTS, CORS, and so on.</p>
			<p>Above that, there is the <strong class="bold">Routing</strong> layer, which routes the request to the endpoints depending on the route patterns defined. Endpoint routing is the new player from ASP.NET Core 3.1 and separates routing from the UI layers above to enable routing for different endpoints, including Blazor, gRPC, and SignalR. As a reminder: in previous versions of ASP.NET Core, routing was part of the MVC layer, and every other UI layer needed to implement its own routing.</p>
			<p>The actual endpoints are provided by the fourth layer, the UI layer, which contains the well-known UI frameworks <strong class="bold">Blazor</strong>, <strong class="bold">gRPC</strong>, <strong class="bold">SignalR</strong>, and <strong class="bold">MVC</strong>. This is where you will do most of your work as an ASP.NET Core developer.</p>
			<p>Lastly, above <strong class="bold">MVC</strong>, you will find <strong class="bold">WebAPI</strong> and <strong class="bold">Razor Pages</strong>.</p>
			<h1 id="_idParaDest-9"><a id="_idTextAnchor008"/>What is covered in this book?</h1>
			<p>This book doesn't cover all the topics mentioned in the architecture overview. This book covers most topics of the host layer because that is the layer that contains the most things you might need to customize. This book tackles middleware and routing, as well as MVC features and some more WebAPI topics, where you can do some magic tricks.</p>
			<p>At the beginning of each chapter, we will indicate to which level the topic belongs.</p>
			<h1 id="_idParaDest-10"><a id="_idTextAnchor009"/>What is not covered and why?</h1>
			<p>This book doesn't cover Razor Pages, SignalR, gRPC, and Blazor.</p>
			<p>The reason is that gRPC and SignalR are already very specialized, and don't really need to be customized. Blazor is a new member of the ASP.NET Core family and is not widely used yet. Also, the author isn't familiar enough with Blazor to know all the screws to customize it. Razor Pages is on top of the MVC framework and customizations for MVC are also valid for Razor Pages.</p>
			<h1 id="_idParaDest-11"><a id="_idTextAnchor010"/>Who this book is for</h1>
			<p>This book is for web developers working with ASP.NET Core, who might need to change default behaviors to get things done. Readers should have basic knowledge of ASP. NET Core and C#, since this book does not cover the basics of those technologies. Readers should also have a good knowledge of Visual Studio, Visual Studio Code, or any other code editor that supports ASP.NET Core and C#.</p>
			<h1 id="_idParaDest-12"><a id="_idTextAnchor011"/>What this book covers</h1>
			<p><a href="B17996_01_ePub.xhtml#_idTextAnchor019"><em class="italic">Chapter 1</em></a>, <em class="italic">Customizing Logging</em>, teaches you how to customize the logging behavior and how to add a custom logging provider.</p>
			<p><a href="B17996_02_ePub.xhtml#_idTextAnchor031"><em class="italic">Chapter 2</em></a>, <em class="italic">Customizing App Configuration</em>, helps you understand how to use different configuration sources and add custom configuration providers.</p>
			<p><a href="B17996_03_ePub.xhtml#_idTextAnchor049"><em class="italic">Chapter 3</em></a>, <em class="italic">Customizing Dependency Injection</em>, teaches you how <strong class="bold">Dependency Injection</strong> (<strong class="bold">DI</strong>) works and how to use a different DI container.</p>
			<p><a href="B17996_04_ePub.xhtml#_idTextAnchor066"><em class="italic">Chapter 4</em></a>, <em class="italic">Configuring and Customizing HTTPS with Kestrel</em>, looks into configuring HTTPS differently.</p>
			<p><a href="B17996_05_ePub.xhtml#_idTextAnchor077"><em class="italic">Chapter 5</em></a>, <em class="italic">Configuring WebHostBuilder</em>, helps you understand how to set up configuration on the hosting layer.</p>
			<p><a href="B17996_06_ePub.xhtml#_idTextAnchor092"><em class="italic">Chapter 6</em></a>, <em class="italic">Using Different Hosting Models</em>, teaches you about different types of hosting on different platforms.</p>
			<p><a href="B17996_07_ePub.xhtml#_idTextAnchor111"><em class="italic">Chapter 7</em></a>, <em class="italic">Using IHostedService and BackgroundService</em>, makes you understand how to execute tasks in the background.</p>
			<p><a href="B17996_08_ePub.xhtml#_idTextAnchor124"><em class="italic">Chapter 8</em></a>, <em class="italic">Writing Custom Middleware</em>, deals with the HTTP context using middleware.</p>
			<p><a href="B17996_09_ePub.xhtml#_idTextAnchor143"><em class="italic">Chapter 9</em></a>, <em class="italic">Working with Endpoint Routing</em>, helps you understand how to use the new routing to provide custom endpoints.</p>
			<p><a href="B17996_10_ePub.xhtml#_idTextAnchor156"><em class="italic">Chapter 10</em></a>, <em class="italic">Customizing ASP.NET Core Identity</em>, explains how to extend the application's user properties and helps you to change the Identity UI.</p>
			<p><a href="B17996_11_ePub.xhtml#_idTextAnchor163"><em class="italic">Chapter 11</em></a>, <em class="italic">Configuring Identity Management</em>, helps you to manage your users and their roles.</p>
			<p><a href="B17996_12_ePub.xhtml#_idTextAnchor172"><em class="italic">Chapter 12</em></a>, <em class="italic">Content Negotiation Using a Custom OutputFormatter</em>, teaches you how to output different content types based on the HTTP Accept header.</p>
			<p><a href="B17996_13_ePub.xhtml#_idTextAnchor186"><em class="italic">Chapter 13</em></a>, <em class="italic">Managing Inputs with Custom ModelBinder</em>, helps you create input models with different types of content.</p>
			<p><a href="B17996_14_ePub.xhtml#_idTextAnchor207"><em class="italic">Chapter 14</em></a>, <em class="italic">Creating a Custom ActionFilter</em>, covers aspect-oriented programming using ActionFilter.</p>
			<p><a href="B17996_15_ePub.xhtml#_idTextAnchor218"><em class="italic">Chapter 15</em></a>, <em class="italic">Working with Caches</em>, helps you to make your application faster. </p>
			<p><a href="B17996_16_ePub.xhtml#_idTextAnchor231"><em class="italic">Chapter 16</em></a>, <em class="italic">Creating Custom TagHelper</em>, enables you to simplify the UI layer by creating TagHelper.</p>
			<h1 id="_idParaDest-13"><a id="_idTextAnchor012"/>To get the most out of this book</h1>
			<p>Readers should have basic knowledge of ASP.NET Core and C#, as well as Visual Studio, Visual Studio Code, or any other code editor that supports ASP.NET Core and C#.</p>
			<div><div><img src="img/B17996_Preface_Table1.jpg" alt=""/>
				</div>
			</div>
			<p>You should install the latest .NET 6.0 SDK on your machine. Please find the latest version at <a href="https://dotnet.microsoft.com/download/dotnet-core/">https://dotnet.microsoft.com/download/dotnet-core/</a>.</p>
			<p>Feel free to use any code editor you like that supports ASP.NET Core and C#. We recommend using Visual Studio Code (<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a>), which is available on all platforms and is used by the author of this book.</p>
			<p>All the projects in this book will be created using a console, Command Prompt, shell, or PowerShell. Feel free to use whatever console you are comfortable with. The author uses Windows Command Prompt, hosted in the cmder shell (<a href="https://cmder.net/">https://cmder.net/</a>). We don't recommend using Visual Studio to create the projects, because the basic configuration might change, and the web projects will start on a different port than described in this book.</p>
			<p>Are you stuck with .NET Core 3.1, or .NET 5.0? If you are not able to use .NET 6.0 on your machine for whatever reason, all the samples are also available and work with .NET Core 3.1 and .NET 5.0. Some chapters contain comparisons to .NET 5.0 whenever there are differences to .NET 6.0.</p>
			<p><strong class="bold">If you are using the digital version of this book, we advise you to type the code yourself or access the code from the book's GitHub repository (a link is available in the next section). Doing so will help you avoid any potential errors related to the copying and pasting of code.</strong></p>
			<h1 id="_idParaDest-14"><a id="_idTextAnchor013"/>Download the example code files</h1>
			<p>You can download the example code files for this book from GitHub at <a href="https://github.com/PacktPublishing/Customizing-ASP.NET-Core-6.0-Second-Edition">https://github.com/PacktPublishing/Customizing-ASP.NET-Core-6.0-Second-Edition</a>. If there's an update to the code, it will be updated in the GitHub repository.</p>
			<p>We also have other code bundles from our rich catalog of books and videos available at <a href="https://github.com/PacktPublishing/">https://github.com/PacktPublishing/</a>. Check them out!</p>
			<h1 id="_idParaDest-15"><a id="_idTextAnchor014"/>Download the color images</h1>
			<p>We also provide a PDF file that has color images of the screenshots and diagrams used in this book. You can download it here: <a href="https://static.packt-cdn.com/downloads/9781803233604_ColorImages.pdf">https://static.packt-cdn.com/downloads/9781803233604_ColorImages.pdf</a>.</p>
			<h1 id="_idParaDest-16"><a id="_idTextAnchor015"/>Conventions used</h1>
			<p>There are a number of text conventions used throughout this book.</p>
			<p><code>Code in text</code>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here is an example: "You can use <code>ConfigureAppConfiguration</code> to configure the app configuration."</p>
			<p>A block of code is set as follows:</p>
			<pre>builder.Configuration.AddJsonFile(
        "appsettings.json",
        optional: false,
        reloadOnChange: true);</pre>
			<p>When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p>
			<pre>builder.Logging.AddConfiguration(builder.Configuration.
GetSection("Logging"));
<strong class="bold">builder.Logging.AddConsole();</strong>
builder.Logging.AddDebug();</pre>
			<p>Any command-line input or output is written as follows:</p>
			<pre>cd LoggingSample
code .</pre>
			<p><strong class="bold">Bold</strong>: Indicates a new term, an important word, or words that you see onscreen. For instance, words in menus or dialog boxes appear in <strong class="bold">bold</strong>. Here is an example: "Click on <strong class="bold">Register</strong> in the upper left-hand corner, you will see the following page."</p>
			<p class="callout-heading">Tips or important notes	</p>
			<p class="callout">Appear like this.</p>
			<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/>Get in touch</h1>
			<p>Feedback from our readers is always welcome.</p>
			<p><strong class="bold">General feedback</strong>: If you have questions about any aspect of this book, email us at <a href="mailto:customercare@packtpub.com">customercare@packtpub.com</a> and mention the book title in the subject of your message.</p>
			<p><strong class="bold">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit <a href="https://www.packtpub.com/support/errata">www.packtpub.com/support/errata</a> and fill in the form.</p>
			<p><strong class="bold">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at <a href="mailto:copyright@packt.com">copyright@packt.com</a> with a link to the material.</p>
			<p><strong class="bold">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="https://authors.packtpub.com">authors.packtpub.com</a>.</p>
			<h1 id="_idParaDest-18"><a id="_idTextAnchor017"/>Share Your Thoughts</h1>
			<p>Once you've read <a id="_idTextAnchor018"/><em class="italic">Customizing ASP.NET Core 6.0</em>, we'd love to hear your thoughts! Please <a href="https://packt.link/r/1803233605">click here to go straight to the Amazon review page</a> for this book and share your feedback.</p>
			<p>Your review is important to us and the tech community and will help us make sure we're delivering excellent quality content.</p>
		</div>
	</body></html>