<html><head></head><body>
        

                            
                    <h1 class="header-title">Understanding DevOps Principles</h1>
                
            
            
                
<p>DevOps is a process that everybody is learning and putting into practice these days. But as a software architect, you need to understand and propagate DevOps not only as a process but as a philosophy. This chapter will cover the main concepts, principles, and tools you need to develop and deliver your software with DevOps.</p>
<p> The following topics will be covered in this chapter:</p>
<ul>
<li>Describing what DevOps is and looking at a sample of how to apply it in the WWTravelClub project</li>
<li>Understanding DevOps principles and deployment stages to leverage the deployment process</li>
<li>Learning DevOps tools that can be used together with Azure DevOps to improve tests and feedback</li>
</ul>
<p>In contrast with other chapters, the WWTravelClub project will be presented during the topics and we will offer a conclusion at the end of the chapter, giving you the opportunity to understand how this philosophy can be implemented. All the screenshots exemplifying the DevOps principles come from the main sample of the book, so you will be able to understand the DevOps principles easily.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Technical requirements</h1>
                
            
            
                
<p>This chapter requires the Visual Studio 2019 Community Edition or better. You may also need an Azure DevOps account, as described in <a href="bc26065f-b001-4123-9524-3bbfa87bfadd.xhtml">Chapter 3</a>, <em>Documenting Requirements with Azure DevOps</em>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Describing DevOps</h1>
                
            
            
                
<p>DevOps comes from a union of the words <em>Development and Operations</em>, so this process simply unifies actions in these areas. However, when you start to study a little bit more about it, you will realize that connecting these two areas is not enough to achieve the true goals of this philosophy. </p>
<p>We can also say that DevOps is the process that answers the current needs of humanity regarding software delivery.</p>
<div><strong>Donovan Brown</strong>, Principal DevOps Manager of Microsoft, has a spectacular definition of what DevOps is: <a href="http://donovanbrown.com/post/what-is-devops">http://donovanbrown.com/post/what-is-devops</a>.</div>
<p class="mce-root">A way to deliver value continuously to our end users, using process, people, and products—this is the best description of the DevOps philosophy. We need to develop and deliver customer-oriented software. As soon as all areas of the company understand that the key point is the end user, your task as a software architect is to present the technology that will facilitate the process of delivering.</p>
<p>It is worth mentioning that all the content of this book is connected to this approach. It is never a matter of knowing a bunch of tools and technologies. As a software architect, you have to understand that it is always a way to bring faster solutions easily to your end user, linked to their real needs. For this reason, you need to learn the DevOps principles, which will be discussed during the chapter.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">Understanding DevOps principles</h1>
                
            
            
                
<p>Considering DevOps as a philosophy, it is worth mentioning that you there some principles that enable the process to work well in your team. These principles are continuous integration, continuous delivery, and continuous feedback.</p>
<p>For more information, please visit: <a href="https://azure.microsoft.com/en-us/overview/what-is-devops/">https://azure.microsoft.com/en-us/overview/what-is-devops/</a>.</p>
<p>DevOps concept is represented by the symbol of infinity in many books and technical articles. This symbol represents the necessity to have a continuous approach in the software development life cycle. During the cycle, you will need to plan, build, continuously integrate, deploy, operate, get feedback, and start all over again. The process has to be a collaborative one, since everybody has the same focus—to deliver value to the end user. Together with these principles, you as a software architect will need to decide the best software development process that can fit this approach. We discussed these processes in <a href="14b5c5da-4042-439e-9e5a-2e19ba4c4930.xhtml"/><a href="14b5c5da-4042-439e-9e5a-2e19ba4c4930.xhtml">Chapter 1</a>, <em>Understanding the Importance of Software Architecture</em>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Defining continuous integration</h1>
                
            
            
                
<p>When you start building enterprise solutions, collaboration is the key to getting things done faster and to meeting the user needs. Version control systems, as we discussed in <a href="82dfe57b-5fe6-4c71-9fa9-b4526a2c6f3e.xhtml">Chapter 14</a>, <em>Best Practices in Coding C# 8</em>, are essential for this process, but the tool by itself does not do the job, especially if the tool is not well configured.</p>
<p>As a software architect, <strong>c</strong><strong>ontinuous integration</strong> (<strong>CI</strong>) will help you to have a concrete approach for software development collaboration. When you implement it, as soon as a developer commits its code, the main code is automatically built and tested.</p>
<p>The good thing when you apply it is that you can motivate developers to merge their changes as fast as they can in order to minimize merge conflicts. Besides, they can share unit tests, which will improve the quality of software.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>It is very simple to set up CI in Azure DevOps. In the build pipeline, you will find its option by editing the configuration, as you can see in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/a4c8558a-f418-4843-8fa3-89adc2a9f79d.png"/></p>
<p>It is worth mentioning that if you have a solution set with unit and functional tests, as soon as you commit the code, it will automatically be compiled and tested. This will make your master branch stable and safe in every commit from your team.</p>
<p>The key point of CI is the ability to identify problems faster. You will have this opportunity when you allow the code to be tested and analyzed by others. The only thing the DevOps approach helps with is making sure this happens as fast as possible.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Understanding continuous delivery and multistage environment with Azure DevOps</h1>
                
            
            
                
<p>Once every single commit of your application is built, and this code is tested with both unit and functional tests, you may also want to deploy it continuously. Doing this is not just a matter of configuring the tool. As a software architect, you need to be sure that the team and the process are ready to go to this step. </p>
<p>The approach associated with <strong>c</strong><strong>ontinuous delivery</strong> (<strong>CD</strong>) needs to guarantee that the production environment will be kept safe in each new deployment. To do so, a multistage pipeline needs to be adopted. The following screenshot shows an approach with common stages for this end:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/3bf53e85-a164-4e0e-a0ef-b6c04f77a57d.png"/></p>
<p>Release stages using Azure DevOps</p>
<p>As you can see, these stages were configured using the Azure DevOps release pipeline. Each stage has its own purpose, which will leverage the quality of the product delivered in the end. Let's look at the stages: </p>
<ul>
<li><strong>Development/tests</strong>: This stage is used by developers and testers to build new functionality. This environment will certainly be the one that's most exposed to bugs and incomplete functions.</li>
<li><strong>Quality assurance</strong>: This environment gives a brief version of new functionalities to areas of the team not related to development and tests. Program managers, marketing, vendors, and others can use it as an area of study, validation, and even preproduction. Besides, the development and quality teams can guarantee that the new releases are correctly deployed, considering both functionality and infrastructure.</li>
<li><strong>Production</strong>: This is the stage where customers have their solution running. The goal for a good production environment, according to CD, is to have it updated as quickly as possible. The frequency will vary according to team size, but there are some approaches where this process happens more than once a day.</li>
</ul>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The adoption of three stages of deploying your application will impact on the quality of the solution. Besides, it will enable the team to have a safer process of deployment, with fewer risks and better stability of the product. This approach may look a bit expensive at first sight, but without it the results of bad deployment will generally be more expensive than this investment.</p>
<p>Besides all the safety, you will have to consider the multistage scenario. You can set up the pipeline in a way where only with defined authorizations will you be able to transition from one stage to another:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/44bf8e89-abb7-4e7e-ad33-f4c10fbdf706.png"/></p>
<p>As you can see in the preceding screenshot, it is quite simple to set up pre-deployment conditions, and you can see in the following screenshot that there is more than a single option to customize the authorization method. This gives you the possibility to refine the CD approach, reaching exactly the needs of the project you are dealing with.</p>
<p>The following screenshot shows the options provided by Azure DevOps for pre-deployment approval. You can define the people who can approve the stage and set policies for them, that is, revalidate the approver identity before completing the process. You, as a software architect, will need to identify the configuration that fits the project you are creating with this approach:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/09176ecc-62ef-4a47-8fac-3febc4e08411.png"/></p>
<p>It is worth mentioning that although this approach is far better than a single-stage deployment, a DevOps pipeline will direct you, as a software architect, to another stage of monitoring. Continuous feedback will be an incredible tool for this, and we will discuss this approach in the next section.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Defining continuous feedback and the related DevOps tools </h1>
                
            
            
                
<p>Once you have a solution that is running perfectly in the deployment scenario described in the last section, feedback will be essential for your team to understand the results of the release and how the version is working for the customers. To get this feedback some tools can help both the developers and the customers, bringing these people together to fast-track process of feedback. Let's have a look at these tools.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Monitoring you software with Application Insights</h1>
                
            
            
                
<p>Application Insights is definitely the tool a software architect needs to have for continuous feedback on their solution. As soon as you connect your app to it, you start receiving feedback on each request made to the software. This enables you to monitor not only the requests made but your database performance, the errors that the application may be suffering from, and the calls that take the most time to process.</p>
<p>Obviously, you will have costs relating to having this tool plugged into your environment, but the facilities that the tool provides will definitely be worth it. Besides, you need to understand that there is a very small performance cost since all the requests to store data in Application Insights run in a separate thread. The following screenshot shows how easily you can create a tool in your environment:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/54b805ad-fea4-4e03-8ed4-e896d3d97ecd.png"/></p>
<p>For instance, let's suppose you need to analyze the requests that take more time in your application. The process of attaching Application Insights to your web app is quite simple, considering it may be done as soon as you set up your web app. If you are not sure whether Application Insights is your web app, you can find out using the Azure portal. Navigate to App Services and look at the Application Insights settings, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/bf663c27-23be-4afe-906f-ead9c29be904.png"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The interface will give you the opportunity to create or attach an already created monitor service to your web app. It is worth mentioning that you can connect more than one web app to the same Application Insights component. The following screenshot shows how to add a web app to an already created Application Insights resource:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/f98f581d-0d3e-47fa-a426-4fcfdea839ef.png"/></p>
<p>Once you have Application Insights configured for your web app, you will find the following screen in App Services:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/4a37cdcd-f082-42a9-a4dd-1359dc4dc50b.png"/></p>
<p>Once it is connected to your solution, the data collection will happen continuously and you will see the results in the dashboard provided by the component. You can find this screen in the same place as you configured Application Insights, inside the web app configurations, or in the Azure portal, navigating through the Application Insights resource:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/146b5327-90fd-41ba-8a67-f9c0961b36ef.png"/></p>
<p>This dashboard gives you an idea of failed requests, server response time, and server requests. You may also turn on the availability check, which will make requests to your selected URL from any of the Azure data centers.</p>
<p class="CDPAlignLeft CDPAlign">But the beauty of Application Insights is related to how deeply it analyzes your system. In the following screenshot, for instance, it is giving you feedback on the number of requests done on the website. You can analyze it by ranking the ones that took more time to process or the ones that were called more often:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/c08a01a8-f257-4894-bfa5-e41983ed6a94.png"/></p>
<p>Considering this view can be filtered in different ways and you receive the info just after it happens in your web app, this is certainly a tool that defines continuous feedback. This is one of the best ways you can use the DevOps principles to achieve exactly what your customer needs.</p>
<p>Application Insights is a technical tool that does exactly what you as a software architect need to monitor modern applications in a real analytic model. It is a continuous feedback approach based on the behavior of users of the system you are developing. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Using the Test and Feedback tool to enable feedback</h1>
                
            
            
                
<p>Another really useful tool in the process of continuous feedback is the Test and Feedback tool, designed by Microsoft to help product owners and quality assurance users in the process of analyzing new features.</p>
<p>Using Azure DevOps, you may ask for feedback to your team by selecting an option inside each working item, as you can see in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/07e31f3f-97ad-4334-9f16-887e938779ed.png"/></p>
<p>Once you receive a feedback request, you may use the Test and Feedback tool to analyze and give the correct feedback to the team. You will be able to connect the tool to your Azure DevOps project, giving you more features while analyzing the feedback request. The following screenshot shows how to set up Azure DevOps project URL for the Test and Feedback tool. You can download this tool from <a href="https://marketplace.visualstudio.com/items?itemName=ms.vss-exploratorytesting-web">https://marketplace.visualstudio.com/items?itemName=ms.vss-exploratorytesting-web</a>. </p>
<p class="CDPAlignCenter CDPAlign"><img src="img/e50b14e1-22bd-4aec-a1f0-c4b6d0a5dd9c.png" style="width:25.75em;height:21.50em;"/></p>
<p>The tool is quite simple. You can take screenshots, record a process, or even make a note. The following picture shows how easily you can write a message inside the screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/35f60259-cb42-47f4-8954-3a0058eb4070.png"/></p>
<p>The good thing is that you record all this analysis in a session timeline. As you can see in the next screenshot, you can have more feedback in the same session, which is good for the analyzing process:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/b47d04d2-380b-4721-986e-be158c959bb4.png" style="width:35.67em;height:40.17em;"/></p>
<p class="mce-root"/>
<p>Once you have the analysis done and you are connected to Azure DevOps, you will be able to report a bug, create a task, or even start a new test case:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/61362d4b-4950-4728-8f73-e64bc3ef1f0b.png"/></p>
<p>The result of the bug created can be checked in the Work items board in Azure DevOps. It is worth mentioning that you don't need a developer license of Azure DevOps to have access to this area of the environment. This enables you, as a software architect, to spread this basic and really useful tool to many key users of the solution you are building. </p>
<p>The following screenshot shows the bug created by the tool once you have connected it to your Azure DevOps project:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/b940ebdf-4869-4bca-994c-64fa4ddaa4a3.png" style="width:45.50em;height:37.92em;"/></p>
<p>It is definitely important to have a tool like this to have good feedback on your project. But as a software architect, you may have to find the best solutions to accelerate this process. The tools explored in the book are good ways to do so. You may consider this approach every time you need to implement one more step in the development process.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">The WWTravelClub project approach</h1>
                
            
            
                
<p>During this chapter, screenshots from the WWTravelClub project have shown the steps needed to implement a good DevOps cycle. The WWTravelClub team has decided to use Azure DevOps because they understand that the tool is essential for getting the best DevOps experience for the whole cycle.</p>
<p>The requirements were written using user stories, which can be found in the work items section of Azure DevOps. The code is placed in the repository of the Azure DevOps project. Both concepts were explained in <a href="bc26065f-b001-4123-9524-3bbfa87bfadd.xhtml">Chapter 3</a>, <em>Documenting Requirements with Azure DevOps</em>.</p>
<p>The management life cycle used for getting things done is Scrum, presented in <a href="14b5c5da-4042-439e-9e5a-2e19ba4c4930.xhtml">Chapter 1</a>, <em>Understanding the Importance of Software Architecture</em>. This approach divides the implementation into Sprints, which forces the need to deliver value by the end of each cycle. Using the continuous integration facilities we learned in this chapter, code will be compiled each time the team concludes a development to the master branch of the repository.</p>
<p>Once the code is compiled and tested, the first stage of the deployment is done. The first stage is normally named Development/Test because you enable it for internal tests. Both Application Insights and Test and Feedback can be used to get the first feedback on the new release.</p>
<p>If the tests and the feedback of the new release pass, it is time to go to the second stage—Quality Assurance. Application Insights and Test and Feedback can be used again, but now in a more stable environment. </p>
<p>The cycle ends with the authorization to deploy in the production stage. This certainly is a tough decision, but DevOps indicates that you have to do it continuously so you can get better feedback from customers. Application Insights keeps being a really useful tool, since you are able to monitor the evolution of the new release in production, even comparing it to the past releases.</p>
<p>The WWTravelClub project approach described here can be used in many other modern application development life cycles. You, as a software architect, are in charge of making this happen. The tools are ready to go, and it depends on you to make things right!</p>
<p class="mce-root"/>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<p>In this chapter, we learned how DevOps is not only a bunch of techniques and tools used together to deliver software continuously but a philosophy to enable continuous delivery of value to the end user of the project you are developing.</p>
<p>Considering this approach, we saw how continuous integration, continuous delivery, and continuous feedback are essential to the purpose of DevOps. We also saw how Azure, Azure DevOps, and Microsoft tools help you to achieve your goals.</p>
<p>This chapter brought you this approach using WWTravelClub as an example, enabling CI/CD inside Azure DevOps, and using Application Insights and the Test and Feedback tool for both technical and functional feedback. In real life, these tools will enable you to understand the current behavior of the system you are developing faster, as you will have continuous feedback on it.</p>
<p>In the next chapter, we will learn about continuous integration in detail.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Questions</h1>
                
            
            
                
<ol>
<li>What is DevOps?</li>
<li>What is continuous integration?</li>
<li>What is continuous delivery?</li>
<li>What is continuous feedback?</li>
<li>What is the difference between the build and release pipelines?</li>
<li>What is the main purpose of Application Insights in the DevOps approach?</li>
<li>How can the Test and Feedback tool help in the process of DevOps?</li>
</ol>
<p class="mce-root"/>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">Further Reading</h1>
                
            
            
                
<p class="CDPAlignLeft CDPAlign">These are some websites where you will find more information on the topics covered in this chapter:</p>
<ul>
<li><a href="http://donovanbrown.com/">http://donovanbrown.com/</a></li>
<li><a href="https://www.packtpub.com/networking-and-servers/devops-fundamentals-video">https://www.packtpub.com/networking-and-servers/devops-fundamentals-video</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/devops/learn/what-is-devops">https://docs.microsoft.com/en-us/azure/devops/learn/what-is-devops</a></li>
<li><a href="https://azuredevopslabs.com/labs/devopsserver/exploratorytesting/">https://azuredevopslabs.com/labs/devopsserver/exploratorytesting/</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/azure-monitor/app/app-insights-overview">https://docs.microsoft.com/en-us/azure/azure-monitor/app/app-insights-overview</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms.vss-exploratorytesting-web">https://marketplace.visualstudio.com/items?itemName=ms.vss-exploratorytesting-web</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/devops/test/request-stakeholder-feedback">https://docs.microsoft.com/en-us/azure/devops/test/request-stakeholder-feedback</a></li>
</ul>


            

            
        
    </body></html>