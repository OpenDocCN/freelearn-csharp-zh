<html><head></head><body>
		<div id="_idContainer161">
			<h1 id="_idParaDest-85"><em class="italic"><a id="_idTextAnchor087"/>Chapter 4</em>: Applying Art, Animation, and Particles</h1>
			<p>In this chapter, we'll apply several art effects to the player's ship and the scene that we imported back in <a href="B18381_02_Epub.xhtml#_idTextAnchor048"><em class="italic">Chapter 2</em></a><em class="italic">, Adding and Manipulating Objects</em>. We will use several maps that wrap around your player's ship to give it a sci-fi theme, including some pretty particle effects that we will add to our neon-blue jet. We will also introduce a space background, which will also be built from particle effects. Then, you will get your hands dirty by setting up your own Unity Animator Controller, which we can use to manipulate the particles we've created in our scene to give the impression that our player's ship is thundering through space at lightspeed, then slowing down before the enemies come to attack. Finally, we will apply some animation to the enemies in our script.</p>
			<p>A lot of this chapter is about becoming familiar with what Unity can do as an Editor and the majority of what we learn in the Editor is also possible to achieve through code. This is why, as a programmer, it's important to know what we can manipulate in a project.</p>
			<p>In short, we will be covering the following topics:</p>
			<ul>
				<li>Adding visuals to the player's ship</li>
				<li>Creating a particle effect</li>
				<li>Importing and animating scenery</li>
				<li>Animating three-dimensional enemies with a script</li>
			</ul>
			<p>So, let's jump in and make a start on changing the appearance of the player's ship.</p>
			<h1 id="_idParaDest-86"><a id="_idTextAnchor088"/>The core exam skills covered in this chapter</h1>
			<p><em class="italic">We will look at programming core interactions</em>:</p>
			<ul>
				<li>Implementing and configuring game object behavior and physics</li>
			</ul>
			<p><em class="italic">We will also look at working in the art pipeline</em>:</p>
			<ul>
				<li>Understanding materials, textures, and shaders, and writing scripts that interact with Unity's rendering API</li>
				<li>Understanding lighting and writing scripts that interact with Unity's lighting API</li>
				<li>Understanding two-dimensional and three-dimensional animation and writing scripts that interact with Unity's animation API</li>
				<li>Understanding particle systems and effects and writing scripts that interact with Unity's particle system API</li>
			</ul>
			<p><em class="italic">We will cover the programming for scene and environment design</em>:</p>
			<ul>
				<li>Identifying methods for implementing game object instantiation, destruction, and management</li>
			</ul>
			<p><em class="italic">Finally, we will cover working in professional software development teams</em>:</p>
			<ul>
				<li>Recognizing techniques for structuring scripts for modularity, readability, and reusability</li>
			</ul>
			<h1 id="_idParaDest-87"><a id="_idTextAnchor089"/>Technical requirements</h1>
			<p>The project content for this chapter can be found at <a href="https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/tree/main/Chapter_04">https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/tree/main/Chapter_04</a>.</p>
			<p>You can download the entirety of each chapter's project files at <a href="https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition">https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition</a>.</p>
			<p>All the content for this chapter is held in the chapter's <strong class="source-inline">unitypackage</strong> file, including a <strong class="source-inline">Complete</strong> folder that holds all of the work we'll carry out in this chapter.</p>
			<p>Check out the following video to see the <em class="italic">Code in Action</em>: <a href="https://bit.ly/3OHV4xi">https://bit.ly/3OHV4xi</a>.</p>
			<h1 id="_idParaDest-88"><a id="_idTextAnchor090"/>Adding visuals to the player's ship prefab</h1>
			<p>In<a id="_idIndexMarker340"/> this section, we will focus on the player's ship. We'll <a id="_idIndexMarker341"/>create a series of different visual art techniques to make our ship look futuristic without physically changing its geometry. We will create and apply a type of material to our ship that is used as housing to hold and display several maps. These maps are responsible for targeting specific channels on our player's ship. Because this book is specifically for programmers, I have created several of these maps that you can drag and drop into the material component that sits within the <strong class="bold">Inspector</strong> window.</p>
			<p>Normally, if a three-dimensional model, such as the player's ship, has a texture applied to it, the model needs to undergo a method<a id="_idIndexMarker342"/> called <strong class="bold">unwrapping</strong>. Unwrapping is like peeling off the faces of the model and laying them down flat so that they can have textures applied to them. Then, the unpeeled faces are wrapped back around the three-dimensional model. If the model isn't unwrapped before we apply the texture, the texture of the ship will be scrambled as it doesn't know where it should display the textures correctly. We don't need to go any further into the details of unwrapping as it's beyond the scope of this book, but just remember that the player's ship model has to be unwrapped.</p>
			<p>The following screenshot shows the three-dimensional model of our player's ship on the left and its unwrapped version, which is textured, on the right:</p>
			<div>
				<div id="_idContainer088" class="IMG---Figure">
					<img src="image/Figure_4.01_B18381.jpg" alt="Figure 4.1 – Player Ship 3D model and its UV map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.1 – Player Ship 3D model and its UV map</p>
			<p>We will also be shining a colored light onto the ship, but only allowing certain parts of it to emit and ensuring the light doesn't shine on any other game object with Unity's layer system. The other major part of Unity that we will cover is the particle system; we will create our own particle jet that will animate from the rear of the ship.</p>
			<p>The <a id="_idIndexMarker343"/>following screenshot shows what our player's ship<a id="_idIndexMarker344"/> looks like currently on the left. By the end of this section, we will have a sci-fi-looking ship with an animated jet, shown on the right side of the screenshot:</p>
			<div>
				<div id="_idContainer089" class="IMG---Figure">
					<img src="image/Figure_4.02_B18381.jpg" alt="Figure 4.2 – The player's ship will be textured and carry its own thruster particle effect in this chapter&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.2 – The player's ship will be textured and carry its own thruster particle effect in this chapter</p>
			<p>Let's now move on to creating a material that can be used to store the maps from this chapter's <strong class="source-inline">unitypackage</strong> download that is on GitHub.</p>
			<h2 id="_idParaDest-89"><a id="_idTextAnchor091"/>Creating a material for our player's ship prefab</h2>
			<p>Currently, our <a id="_idIndexMarker345"/>player's ship has a default material <a id="_idIndexMarker346"/>applied to it, which we can't edit in the Unity Editor. To be able to change the ship's color and apply several maps, we first need to create a material and then apply it to the player's ship. To do this, follow these steps:</p>
			<ol>
				<li>In the <strong class="bold">Project</strong> window, navigate to <strong class="source-inline">Assets/Material/Player</strong> and right-click in an open space.</li>
				<li>Left-click on <strong class="bold">Create</strong> at the top.</li>
				<li>Then, left-click on <strong class="bold">Material</strong>.</li>
				<li>A material icon will appear, highlighted in blue. Rename <a id="_idIndexMarker347"/>this <a id="_idIndexMarker348"/>material <strong class="source-inline">PlayerShip</strong>.<p class="callout-heading">Tip</p><p class="callout">To rename a material when it isn't selected, left-click on the text below the icon twice to bring the blue highlight back up. Then, enter a name—in our case, <strong class="source-inline">PlayerShip</strong>. For Mac, hit <em class="italic">Enter</em> on the selected material and start typing its name to rename it.</p></li>
			</ol>
			<p>The following screenshot shows how the material is created:</p>
			<div>
				<div id="_idContainer090" class="IMG---Figure">
					<img src="image/Figure_4.03_B18381.jpg" alt="Figure 4.3 – Creating a material in the Unity editor&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.3 – Creating a material in the Unity Editor</p>
			<p>There are two ways to apply a material to the ship. The first and easiest way is to drag and drop the material to the <strong class="source-inline">PlayerShip</strong> model in the <strong class="bold">Scene</strong> view.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">A material can be created and<a id="_idIndexMarker349"/> updated in the script through the <strong class="source-inline">Renderer.material</strong> property. Check out <a href="https://docs.unity3d.com/ScriptReference/Renderer-material.html">https://docs.unity3d.com/ScriptReference/Renderer-material.html</a> to find out more.</p>
			<p>The <a id="_idIndexMarker350"/>second—and probably the better—way, as it's a more <a id="_idIndexMarker351"/>controlled method in updating a material, is to select <strong class="source-inline">PlayerShip</strong> in the <strong class="bold">Scene</strong> window or select <strong class="source-inline">PlayerShip</strong> from its prefab folder. Then, in the <strong class="bold">Inspector</strong> window, do the following:</p>
			<ol>
				<li value="1">Next to the <strong class="bold">Mesh Renderer</strong> component is the <strong class="bold">Materials</strong> drop-down arrow. Click on the arrow so that it points downward.</li>
				<li>The two main points to look for within the component are the following:<ul><li><strong class="bold">Size</strong>: How many materials are attached to this model. This should be set to <strong class="source-inline">1</strong>.</li><li><strong class="bold">Element 0</strong>: This is the material that is currently attached, <strong class="source-inline">Default-Material</strong>.</li></ul></li>
				<li>Either click on the small button to the far right of <strong class="source-inline">Default-Material</strong> (or whatever the material is called), as in the following screenshot, or drag and drop the <strong class="source-inline">PlayerShip</strong> material we just made into the same location as <strong class="source-inline">Default-Material</strong>.</li>
			</ol>
			<p>The following screenshot shows the location of the <strong class="bold">Mesh Renderer</strong> component situated within the <strong class="bold">Inspector</strong> window:</p>
			<div>
				<div id="_idContainer091" class="IMG---Figure">
					<img src="image/Figure_4.04_B18381.jpg" alt="Figure 4.4 – Player_Ship Mesh Renderer location in the Inspector window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.4 – player_ship Mesh Renderer location in the Inspector window</p>
			<p>Once <a id="_idIndexMarker352"/>that's done, <strong class="bold">Element 0</strong> will be updated to <strong class="source-inline">PlayerShip</strong>, <strong class="bold">Size</strong> will remain <a id="_idIndexMarker353"/>as <strong class="source-inline">1</strong>, and <strong class="source-inline">Default-Material</strong> at the bottom of the <strong class="bold">Inspector</strong> window will now be editable and named <strong class="source-inline">PlayerShip</strong> (or whatever you named the material).</p>
			<p class="callout-heading">Tip</p>
			<p class="callout"><strong class="source-inline">Default-Material</strong> cannot be edited as it is typically shared with new <strong class="bold">Mesh Renderer</strong> game objects.</p>
			<p>Now, we <a id="_idIndexMarker354"/>need to update the ship's prefab (prefabs were explained in <a href="B18381_01_Epub.xhtml#_idTextAnchor016"><em class="italic">Chapter 1</em></a>,<em class="italic"> Setting Up and Structuring Our Project</em>). If the <strong class="source-inline">PlayerShip</strong> model is still selected, go to the <strong class="bold">Inspector</strong> window and click on the <strong class="bold">Apply</strong> button in the <a id="_idIndexMarker355"/>top-right corner. If you made changes directly to <strong class="source-inline">PlayerShip</strong> from the <strong class="source-inline">Prefab</strong> folder, this will not be necessary as we have updated the prefab directly. In the next section, we will break down the various maps we can now apply to the material.</p>
			<h2 id="_idParaDest-90"><a id="_idTextAnchor092"/>Applying maps to our PlayerShip material</h2>
			<p>Our <a id="_idIndexMarker356"/>newly created material for our <strong class="source-inline">PlayerShip</strong> prefab is<a id="_idIndexMarker357"/> now able to hold various maps. Our material will have empty slots for each map; these maps will add details to the player's ship, ranging from the color to fake details, such as cuts, dents, and grooves, that aren't physically modeled into the player's ship. We can also emphasize where the light will be absorbed by the player's ship.</p>
			<p>Here is a selection of maps that we will apply to the <strong class="source-inline">PlayerShip</strong> prefab:</p>
			<ul>
				<li><strong class="bold">Albedo map</strong> (<strong class="source-inline">playerShip_diff</strong>): The albedo map<a id="_idIndexMarker358"/> contains the color of the image, which is similar to a diffuse map but without light and shadow. The following screenshot shows our albedo map:</li>
			</ul>
			<div>
				<div id="_idContainer092" class="IMG---Figure">
					<img src="image/Figure_4.05_B18381.jpg" alt="Figure 4.5 – PlayerShip albedo map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.5 – PlayerShip albedo map</p>
			<ul>
				<li><strong class="bold">Metallic map</strong> (<strong class="source-inline">playerShip_met</strong>): The metallic map<a id="_idIndexMarker359"/> focuses on the reflectivity and light of the surface. The following screenshot shows our metallic map:</li>
			</ul>
			<div>
				<div id="_idContainer093" class="IMG---Figure">
					<img src="image/Figure_4.06_B18381.jpg" alt="Figure 4.6 – PlayerShip metallic map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.6 – PlayerShip metallic map</p>
			<ul>
				<li><strong class="bold">Emissive map</strong> (<strong class="source-inline">playerShip_em</strong>): The emissive map<a id="_idIndexMarker360"/> receives no light, and is ideal for a glow-in-the-dark effect (self-illuminating). The following screenshot shows our emissive map:</li>
			</ul>
			<div>
				<div id="_idContainer094" class="IMG---Figure">
					<img src="image/Figure_4.07_B18381.jpg" alt="Figure 4.7 – PlayerShip emissive map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.7 – PlayerShip emissive map</p>
			<ul>
				<li><strong class="bold">Normal map</strong> (<strong class="source-inline">playerShip_nrm</strong>): The normal map<a id="_idIndexMarker361"/> stores the direction of each pixel. The general use for this map is holding high-resolution details that give the illusion of more polygons in a mesh. The following screenshot shows our normal map:</li>
			</ul>
			<div>
				<div id="_idContainer095" class="IMG---Figure">
					<img src="image/Figure_4.08_B18381.jpg" alt="Figure 4.8 – PlayerShip normal map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.8 – PlayerShip normal map</p>
			<ul>
				<li><strong class="bold">Occlusion map</strong> (<strong class="source-inline">playerShip_oc</strong>): The occlusion map<a id="_idIndexMarker362"/> provides information on which areas of the model receive light. The following screenshot shows our occlusion map:</li>
			</ul>
			<div>
				<div id="_idContainer096" class="IMG---Figure">
					<img src="image/Figure_4.09_B18381.jpg" alt="Figure 4.9 – PlayerShip occlusion map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.9 – PlayerShip occlusion map</p>
			<p>Now, we will <a id="_idIndexMarker363"/>apply these maps to the <strong class="source-inline">PlayerShip</strong> model by taking the<a id="_idIndexMarker364"/> following steps:</p>
			<ol>
				<li value="1">Select the <strong class="source-inline">player_ship</strong> game object, which can be selected in either the <strong class="bold">Scene</strong> or in the <strong class="bold">Project</strong> window (under the <strong class="source-inline">Assets/Prefab/Player</strong> file path location).</li>
				<li>To make things easier when applying our maps to the <strong class="source-inline">player_ship</strong> material slots, lock the <strong class="bold">Inspector</strong> window while we still have <strong class="source-inline">player_ship</strong> selected at the top of the <strong class="bold">Inspector</strong> window, as in the following screenshot (make sure you unlock the <strong class="bold">Inspector</strong> window once you've finished dragging and dropping files over):</li>
			</ol>
			<div>
				<div id="_idContainer097" class="IMG---Figure">
					<img src="image/Figure_4.10_B18381.jpg" alt="Figure 4.10 – Locking the Inspector window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.10 – Locking the Inspector window</p>
			<ol>
				<li value="3">In the <strong class="bold">Project</strong> window, we can drag and drop each map file from the newly imported <strong class="source-inline">Texture</strong> folder into the <strong class="source-inline">PlayerShip</strong> material component slots. </li>
			</ol>
			<p>Before we drag and drop the files into their designated boxes, be sure that your normal and emission maps are set up correctly. Let's start with the normal map.</p>
			<p>When it comes to<a id="_idIndexMarker365"/> applying a normal map, there are some extra <a id="_idIndexMarker366"/>procedures to cover. The first is that Unity may not recognize <strong class="bold">Normal Map</strong> as a normal map file. When we drag and drop the normal map file into its slot in the <strong class="bold">Material</strong> component, as in the previous screenshot, an information box appears in the <strong class="bold">Inspector</strong> window under the <strong class="bold">Normal Map</strong> slot. This contains a message (<strong class="bold">This texture is not marked as a normal map</strong>) with a <strong class="bold">Fix Now</strong> button. Click on this button so that the normal map is configured correctly. The following screenshot shows what the information box looks like:</p>
			<div>
				<div id="_idContainer098" class="IMG---Figure">
					<img src="image/Figure_4.11_B18381.jpg" alt="Figure 4.11 – Fixing normal maps&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.11 – Fixing normal maps</p>
			<p>Another way of fixing this issue with the normal map is by doing the following:</p>
			<ol>
				<li value="1">Select the normal map file in the <strong class="bold">Project</strong> window.</li>
				<li>Then, in the <strong class="bold">Inspector</strong> window, we have a panel showing the normal map's <strong class="bold">Import Settings</strong> option.</li>
				<li>At the top of the options area, click on the dropdown next to <strong class="bold">Texture Type</strong> and make sure it is selected as a <strong class="bold">Normal Map</strong>.</li>
				<li>Finally, click on <strong class="bold">Apply</strong> at the lower-right corner of the <strong class="bold">Inspector</strong> window.</li>
			</ol>
			<p>The following screenshot shows a normal map file selected from the <strong class="bold">Texture Type</strong> dropdown and the <strong class="bold">Normal map</strong> selection in the dropdown:</p>
			<div>
				<div id="_idContainer099" class="IMG---Figure">
					<img src="image/Figure_4.12_B18381.jpg" alt="Figure 4.12 –Texture Type set to Normal map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.12 –Texture Type set to Normal map</p>
			<p>Another potential <a id="_idIndexMarker367"/>issue when dragging and dropping maps into <a id="_idIndexMarker368"/>the <strong class="bold">Material</strong> component is that you need to check the box next to the <strong class="bold">Emission</strong> slot before it can accept a map. The following screenshot highlights the <strong class="bold">Emission</strong> slot and shows you the box that needs to be checked:</p>
			<div>
				<div id="_idContainer100" class="IMG---Figure">
					<img src="image/Figure_4.13_B18381.jpg" alt="Figure 4.13 – Emission check box checked&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.13 – Emission check box checked</p>
			<p>Great, now we know the possible issues, we can drag and drop out files into their designated boxes.</p>
			<p>Navigate to <a id="_idIndexMarker369"/>the <strong class="bold">Project</strong> window and in the <strong class="source-inline">Assets/Texture</strong> folder drag<a id="_idIndexMarker370"/> and drop each of the files into their correct slots:</p>
			<div>
				<div id="_idContainer101" class="IMG---Figure">
					<img src="image/Figure_4.14_B18381.jpg" alt="Figure 4.14 – Drag and dropping maps into the Player Ship material correct slots&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.14 – Drag and dropping maps into the Player Ship material correct slots</p>
			<p class="callout-heading">Further Information</p>
			<p class="callout">The material properties, such as the emission color, can be made and altered via script with the use of the <strong class="source-inline">SetColor</strong> property. For more<a id="_idIndexMarker371"/> information on changing a material's color or emission color, check out <a href="https://docs.unity3d.com/ScriptReference/Material.SetColor.html">https://docs.unity3d.com/ScriptReference/Material.SetColor.html</a>.</p>
			<p>Once we <a id="_idIndexMarker372"/>have dragged and dropped all the maps into their <a id="_idIndexMarker373"/>designated slots, our <strong class="source-inline">player_ship</strong> model should look different as it now has a metallic complexion. However, we aren't finished yet. We need to add some neon lights to the ship next.</p>
			<h2 id="_idParaDest-91"><a id="_idTextAnchor093"/>Adding neon lights to our PlayerShip prefab</h2>
			<p>Our ship currently looks<a id="_idIndexMarker374"/> like metal, slightly dull with some <a id="_idIndexMarker375"/>sci-fi-style patterns on it. As this isn't an art exam, our preliminary mission isn't to make this ship look fantastic, but rather to understand the maps and effects that we're adding to it. As mentioned briefly in the previous section, we can add some light to the ship that will also react to the ship's maps. The following screenshot shows what our ship currently looks like with all the maps applied; yours may be shiny, but that doesn't matter:</p>
			<div>
				<div id="_idContainer102" class="IMG---Figure">
					<img src="image/Figure_4.15_B18381.jpg" alt="Figure 4.15 – Player Ship with all maps applied&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.15 – Player Ship with all maps applied</p>
			<p>Next, we are going to make parts of the ship light up in a sci-fi neon-blue color, combining a <strong class="bold">Point</strong> light with the emissive map.</p>
			<p>To add a light to our ship, we need to do the following:</p>
			<ol>
				<li value="1">From the <strong class="bold">Project</strong> window, navigate to <strong class="source-inline">Assets/Prefab/Player</strong>.</li>
				<li>Select <strong class="source-inline">player_ship</strong> and drag it to the <strong class="bold">Hierarchy</strong> window.</li>
				<li>Click on the <strong class="bold">Add Component</strong> button in the <strong class="bold">Inspector</strong> window and type <strong class="source-inline">Light</strong> into the dropdown.</li>
				<li>When you see the <strong class="bold">Light</strong> component in the drop-down list, select it.<p class="callout-heading">Tip</p><p class="callout">If the <strong class="bold">Scene</strong> window is too far away from the ship, select <strong class="source-inline">player_ship</strong> from the <strong class="bold">Hierarchy</strong> window, hover your mouse in the <strong class="bold">Scene</strong> window, and press <em class="italic">F</em> on your keyboard to zoom in.</p></li>
			</ol>
			<p>This <strong class="bold">Point</strong> light <a id="_idIndexMarker376"/>will act as a glow around the<a id="_idIndexMarker377"/> ship that will affect only the player's ship and the emissive map with Unity's layer system. But first, we will focus on the <strong class="bold">Light</strong> component settings in the <strong class="bold">Inspector</strong> window:</p>
			<div>
				<div id="_idContainer103" class="IMG---Figure">
					<img src="image/Figure_4.16_B18381.jpg" alt="Figure 4.16 – player_ship's Light component property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.16 – player_ship's Light component property values</p>
			<p>With the <strong class="bold">Point</strong> light selected from the <strong class="bold">Hierarchy</strong> window, we can alter our new light settings in the <strong class="bold">Inspector</strong> window:</p>
			<ul>
				<li><strong class="bold">Type</strong> (<strong class="bold">Point</strong>): At this stage, we can change the type of light without having to delete the light and add a new type. For this instance, we want a <strong class="bold">Point</strong> light. The <strong class="source-inline">player_ship</strong> will also have a yellow gizmo wrapped around it to<a id="_idIndexMarker378"/> represent the size of the light as <a id="_idIndexMarker379"/>shown in the following screenshot:</li>
			</ul>
			<div>
				<div id="_idContainer104" class="IMG---Figure">
					<img src="image/Figure_4.17_B18381.jpg" alt="Figure 4.17 – Light gizmo surrounding the player_ship&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.17 – Light gizmo surrounding the player_ship</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">A gizmo<a id="_idIndexMarker380"/> is an indicator that shows up in the <strong class="bold">Scene</strong> window, which you will not see in the <strong class="bold">Gam </strong>window. A gizmo is displayed as guidance to show the location and/or the scale of something.</p>
			<ul>
				<li><strong class="bold">Range</strong> (<strong class="source-inline">50</strong>): The range will increase/decrease the size of the yellow sphere, pushing the light out more. I have set mine to <strong class="source-inline">50</strong> as I feel this covers the ship well enough.</li>
				<li><strong class="bold">Color</strong> (blue): I have gone for a light-blue color, but you can pick whatever color you wish to. If you want to use the same color as mine, do the following:<ol><li>Click on the current <strong class="bold">Color</strong> bar and the <strong class="bold">Color</strong> window will appear.</li><li>At the bottom of the settings window, change the <strong class="bold">Hex Color</strong> value to <strong class="source-inline">0080FFFF</strong>. (This will set the red, green, blue, and alpha settings.)</li></ol></li>
				<li><strong class="bold">Intensity</strong> (<strong class="source-inline">10</strong>): The strength of the light.</li>
				<li><strong class="bold">Indirect Multiplier</strong> (<strong class="source-inline">0</strong>): The light bouncing onto other objects. Real-time indirect bounce shadowing is not supported for the <strong class="bold">Point</strong> light.</li>
				<li><strong class="bold">Render Mode</strong> (<strong class="bold">Important</strong>): Makes sure the light remains on at all times and doesn't turn off with performance drops.</li>
				<li><strong class="bold">Culling Mask</strong> (<strong class="source-inline">PlayerShip</strong>): We will talk about this next. We are using a blue light (in my case) to give the maps on the ship a neon light effect. We ideally don't want the light to spread onto other assets if they come near the player's ship.<p class="callout-heading">Important Note</p><p class="callout">Play around with the <strong class="bold">Light</strong> component; don't feel like it has to have the exact same color or intensity as mine.</p></li>
			</ul>
			<p>Once these<a id="_idIndexMarker381"/> settings (apart from the culling mask) for our <a id="_idIndexMarker382"/>light have been updated in the <strong class="bold">Inspector</strong> window, our ship should have neon lights lit across it in various areas. In the following screenshot, I have placed eight spheres behind the player ship model. Notice now how our new neon light clashes against the spheres. I'll explain how we can fix the issue of the light clashing with other objects in our game next:</p>
			<div>
				<div id="_idContainer105" class="IMG---Figure">
					<img src="image/Figure_4.18_B18381.jpg" alt="Figure 4.18 – The player ship's light clashing with near 3D objects&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.18 – The player ship's light clashing with near 3D objects</p>
			<p>A culling mask will fix this issue as we can make the blue light only display on the player's ship with a specific layer mask.</p>
			<p>To make a new<a id="_idIndexMarker383"/> layer, we need to go to the <strong class="bold">Tags &amp; Layers</strong> section, which<a id="_idIndexMarker384"/> can be accessed in two ways:</p>
			<ol>
				<li value="1">The first way is by clicking on the <strong class="bold">Layers</strong> tab at the top right of the screen in the toolbar section. A dropdown will appear with the available layers. Click on the bottom option, <strong class="bold">Edit Layers...</strong>.</li>
				<li>The second way is by selecting any game object in the <strong class="bold">Hierarchy</strong> window and clicking on the tab next to <strong class="bold">Layer</strong>. Then, click on the bottom option, <strong class="bold">Add Layer...</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer106" class="IMG---Figure">
					<img src="image/Figure_4.19_B18381.jpg" alt="Figure 4.19 – Adding a new layer&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.19 – Adding a new layer</p>
			<p>The <strong class="bold">Tags &amp; Layers</strong> panel will appear within the <strong class="bold">Inspector</strong> window with grayed-out layers that cannot be edited as they are built in. Also, it is recommended that you don't use layer <strong class="source-inline">31</strong> as it has an internal use for the Editor.</p>
			<ol>
				<li value="3">Layers <strong class="source-inline">8</strong> to <strong class="source-inline">30</strong> are<a id="_idIndexMarker385"/> okay to use. I'm going to enter <strong class="source-inline">PlayerShip</strong> into the <strong class="bold">User Layer 8</strong> field, as in the following <a id="_idIndexMarker386"/>screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer107" class="IMG---Figure">
					<img src="image/Figure_4.20_B18381.jpg" alt="Figure 4.20 – Adding a layer named PlayerShip&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.20 – Adding a layer named PlayerShip</p>
			<ol>
				<li value="4">Now, click on the <strong class="source-inline">player_ship</strong> GameObject in the scene or within the <strong class="source-inline">Prefab</strong> folder and change its point light <strong class="bold">Culling Mask</strong> option from <strong class="bold">Everything</strong> to <strong class="bold">PlayerShip</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer108" class="IMG---Figure">
					<img src="image/Figure_4.21_B18381.jpg" alt="Figure 4.21 – PlayerShip layer in the drop-down list&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.21 – PlayerShip layer in the drop-down list</p>
			<ol>
				<li value="5">Then, select<a id="_idIndexMarker387"/> the <strong class="source-inline">player_ship</strong> model <a id="_idIndexMarker388"/>from <strong class="bold">Hierarchy</strong>.</li>
				<li>In the <strong class="source-inline">player_ship</strong> <strong class="bold">Inspector</strong> window, change its layer to our newly created layer, <strong class="source-inline">PlayerShip</strong>. Because we added a <strong class="bold">Point</strong> light to our player's ship, we are given a warning asking us whether we want to change the children within the <strong class="source-inline">player_ship</strong> model.</li>
				<li>Click <strong class="bold">Yes, change children</strong>, as in the following screenshot. This will change the <strong class="bold">Point</strong> light layer to <strong class="bold">PlayerShip</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer109" class="IMG---Figure">
					<img src="image/Figure_4.22_B18381.jpg" alt="Figure 4.22 – Confirm to change all children game objects&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.22 – Confirm to change all children game objects</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Once you have brought something into the <strong class="bold">Hierarchy</strong> window that typically doesn't remain in the scene, don't forget to remove it once you're done. As an example, the <strong class="source-inline">player_ship</strong> prefab will always be instantiated by <strong class="source-inline">PlayerSpawner</strong>.</p>
			<p>The end result gives <a id="_idIndexMarker389"/>us a cool, neon shiny-blue<a id="_idIndexMarker390"/> ship that doesn't affect any of the surrounding game objects, as in the following screenshot (yours may differ from this):</p>
			<div>
				<div id="_idContainer110" class="IMG---Figure">
					<img src="image/Figure_4.23_B18381.jpg" alt="Figure 4.23 – Our player ship now has neon emissive lights&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.23 – Our player ship now has neon emissive lights</p>
			<p>So, let's now move on to the particles for the player's ship.</p>
			<h2 id="_idParaDest-92"><a id="_idTextAnchor094"/>Adding particles to our PlayerShip prefab</h2>
			<p>In this<a id="_idIndexMarker391"/> section, we will create a particle effect that will give the ship's thrusters the illusion of movement. The particle system itself is split into different component categories that will affect the behavior of how a particle acts. We will focus on placement, direction, and the life cycle of a particle effect, which is a skill that can be transferred to other effects, such as fire, smoke, water leakage, and more. The following screenshot shows our player's ship with an animated particle effect, which we are going to create now:</p>
			<div>
				<div id="_idContainer111" class="IMG---Figure">
					<img src="image/Figure_4.24_B18381.jpg" alt="Figure 4.24 – Player ship with particle effect&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.24 – Player ship with particle effect</p>
			<p>So, let's <a id="_idIndexMarker392"/>make an empty game object to hold the particle system:</p>
			<ol>
				<li value="1">Right-click in an open space of the <strong class="bold">Hierarchy</strong> window.</li>
				<li>From the drop-down menu that appears, select <strong class="bold">Create Empty.</strong></li>
				<li>Name the empty game object something such as <strong class="source-inline">playerJet</strong>.</li>
				<li>We want this to follow the player's ship, so drag and drop the <strong class="source-inline">player_ship</strong> object back into the <strong class="bold">Hierarchy</strong> window and then drag and drop <strong class="source-inline">playerJet</strong> onto the <strong class="source-inline">player_ship</strong> game object.</li>
				<li>Finally, we need to move <strong class="source-inline">playerJet</strong> to the rear of our <strong class="source-inline">player_ship</strong> object to the point where the particles start firing. I'm moving mine onto its <strong class="bold">X</strong> position by <strong class="source-inline">0.5</strong>.</li>
			</ol>
			<p>The following screenshot indicates where the particles will start and the <strong class="source-inline">playerJet</strong> transform settings:</p>
			<div>
				<div id="_idContainer112" class="IMG---Figure">
					<img src="image/Figure_4.25_B18381.jpg" alt="Figure 4.25 – playerJet game object positioned behind the player ship&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.25 – playerJet game object positioned behind the player ship</p>
			<p>That's our empty <a id="_idIndexMarker393"/>game made and in place behind the player ship model. Now, we can add our particle effect to the empty game object in the next section.</p>
			<h1 id="_idParaDest-93"><a id="_idTextAnchor095"/>Creating a Particle Effect</h1>
			<p>In this section, we will<a id="_idIndexMarker394"/> start creating our particle effect within the empty game object from the previous section; similar to what we did a couple of sections back, we need to make all particle systems a child to the <strong class="source-inline">playerJet</strong> game object:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, right-click on <strong class="source-inline">playerJet</strong>.</li>
				<li>From the dropdown, select <strong class="bold">Effects</strong>, then <strong class="bold">Particle Effect</strong>.</li>
				<li>Rename the <strong class="bold">Particle Effect</strong> game object <strong class="source-inline">thruster</strong>.</li>
			</ol>
			<p>We should now see a particle system that gives out its default particle spray pointing directly at us, as in the following screenshot:</p>
			<div>
				<div id="_idContainer113" class="IMG---Figure">
					<img src="image/Figure_4.26_B18381.jpg" alt="Figure 4.26 – Default particle system&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.26 – Default particle system</p>
			<p>Next, we need to scale <a id="_idIndexMarker395"/>and rotate the particle system to the correct size and make sure it's spraying in the correct direction.</p>
			<p>With our <strong class="source-inline">thruster</strong> object still selected, in the <strong class="bold">Inspector</strong> window, change its <strong class="bold">Transform</strong> component settings to the following:</p>
			<ul>
				<li><strong class="bold">Position</strong>: <strong class="bold">X</strong>: <strong class="source-inline">0</strong>, <strong class="bold">Y</strong>: <strong class="source-inline">0</strong>, and <strong class="bold">Z</strong>: <strong class="source-inline">0</strong></li>
				<li><strong class="bold">Rotation</strong>: <strong class="bold">X</strong>: <strong class="source-inline">0</strong>, <strong class="bold">Y</strong>: <strong class="source-inline">90</strong>, and <strong class="bold">Z</strong>: <strong class="source-inline">0</strong></li>
				<li><strong class="bold">Scale</strong>: <strong class="bold">X</strong>: <strong class="source-inline">0.3</strong>, <strong class="bold">Y</strong>: <strong class="source-inline">0.3</strong>, and <strong class="bold">Z</strong>: <strong class="source-inline">0.3</strong></li>
			</ul>
			<p>Sometimes, our <strong class="bold">Particle System</strong> object might not update, or it might disappear in the <strong class="bold">Scene</strong> window when we alter or undo its settings.</p>
			<p>To attempt to restart <strong class="bold">Particle System</strong> to active or animating in the <strong class="bold">Scene</strong> window, select <strong class="bold">Particle System</strong> in the <strong class="bold">Hierarchy</strong> window. You will notice a <strong class="bold">Particle Effect</strong> popup at the bottom-right corner of the <strong class="bold">Scene</strong> view. Then, take the following steps:</p>
			<ol>
				<li value="1">Click <strong class="bold">Stop</strong> to stop the <strong class="bold">Particle System</strong> object from emitting.</li>
				<li>Click <strong class="bold">Restart</strong>.</li>
			</ol>
			<p>The following screenshot shows the <strong class="bold">Particle Effect</strong> menu found at the bottom-right corner of the <strong class="bold">Scene</strong> window:</p>
			<div>
				<div id="_idContainer114" class="IMG---Figure">
					<img src="image/Figure_4.27_B18381.jpg" alt="Figure 4.27 – Particle Effect menu&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.27 – Particle Effect menu</p>
			<p>Hopefully, if the particle <a id="_idIndexMarker396"/>system wasn't active, it is now. If it still isn't, try selecting a different game object in the <strong class="bold">Hierarchy</strong> window, then go back to the particle system and repeat the stop/restart method again.</p>
			<p>With our <strong class="source-inline">thruster</strong> particle system still selected in the <strong class="bold">Hierarchy</strong> window, click the drop-down button in the <strong class="bold">Inspector</strong> window, as in the following screenshot:</p>
			<div>
				<div id="_idContainer115" class="IMG---Figure">
					<img src="image/Figure_4.28_B18381.jpg" alt="Figure 4.28 – Particle System properties drop-down button&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.28 – Particle System properties drop-down button</p>
			<p>We are now presented with a list of options in the <strong class="bold">Inspector</strong> window that might seem overwhelming, but we will only be changing a few options to give our particle system the effect we are after. Most of the Unity properties have their own <strong class="bold">ToolTips</strong> options. If you don't know what any of these are, with the Unity Editor top bar selected, hover your mouse over one of the particle system properties. After a few seconds, a description telling you about the properties will appear.</p>
			<p>The options we need to change for our particle system are the following:</p>
			<ul>
				<li><strong class="bold">Duration</strong>: The length of time the particle system emits particles. If the system is looping, this indicates the length of one cycle. This option should be changed to <strong class="source-inline">0.05</strong>:</li>
			</ul>
			<div>
				<div id="_idContainer116" class="IMG---Figure">
					<img src="image/Figure_4.29_B18381.jpg" alt="Figure 4.29 – Duration property&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.29 – Duration property</p>
			<ul>
				<li><strong class="bold">Prewarm</strong>: When played, a<a id="_idIndexMarker397"/> pre-warmed system will be in a state as if it had emitted one loop cycle. It can only be used if the system is looping. This option should be ticked.</li>
				<li><strong class="bold">Start Lifetime</strong>: This option is in seconds. The particle will die when its lifetime reaches <strong class="source-inline">0</strong>. This option should be set to <strong class="source-inline">0.5</strong>.</li>
				<li><strong class="bold">Start Speed</strong>: This is the start speed of particles applied in the starting direction. This option should be set to <strong class="source-inline">0</strong>.</li>
				<li><strong class="bold">3D Start Size</strong>: This is the start size of particles.</li>
				<li><strong class="bold">Start Size</strong> should be set to <strong class="source-inline">1</strong>, <strong class="source-inline">2</strong>. </li>
			</ul>
			<p>To get the option of more fields, do the following:</p>
			<ol>
				<li>Click on the down arrow to the right of the option.</li>
				<li>From the dropdown, click on <strong class="bold">Random Between Two Constants</strong>, as in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer117" class="IMG---Figure">
					<img src="image/Figure_4.30_B18381.jpg" alt="Figure 4.30 – Select Random Between Two Constants&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.30 – Select Random Between Two Constants</p>
			<p class="callout-heading">Information</p>
			<p class="callout">The least expensive curve is <strong class="bold">Constant</strong> as it only requires one value.</p>
			<ul>
				<li><strong class="bold">3D Start Rotation</strong>: If enabled, we can control the rotation separately for each axis. This option should be ticked. To get the option of more fields, do the following:<ol><li value="1">Click on the down<a id="_idIndexMarker398"/> arrow to the right of the option.</li><li>From the drop-down menu, click on <strong class="bold">Random Between Two Constants</strong> and enter the following vector rotations:</li></ol></li>
			</ul>
			<div>
				<div id="_idContainer118" class="IMG---Figure">
					<img src="image/Table_01.jpg" alt=""/>
				</div>
			</div>
			<ul>
				<li><strong class="bold">Start Color</strong>: This is the start color of particles. The <strong class="bold">Hex Color</strong> option should be set to <strong class="source-inline">00FFD5B7</strong>.</li>
				<li><strong class="bold">Simulation Speed</strong>: This scales the playback speed of the particle system. This should be set to <strong class="source-inline">4</strong>.</li>
			</ul>
			<p>The following screenshot provides a reference for the settings that should be set:</p>
			<div>
				<div id="_idContainer119" class="IMG---Figure">
					<img src="image/Figure_4.31_B18381.jpg" alt="Figure 4.31 – Overall Particle System property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.31 – Overall Particle System property values</p>
			<p>We've changed a lot of <a id="_idIndexMarker399"/>settings here. To summarize, we've created a cluster of particles that appear and soon get destroyed. If they last too long, our <strong class="source-inline">thruster</strong> object will travel across the screen (which you may or may not want). We have eliminated its direction because we will later change this to a force that will push the particles in a rough direction, making a less predictable pattern.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Remember that the more particles we have on the screen at once, the more demanding the scene will become. To keep things as smooth as possible, we make it so that our particles last as long as they need to (that is, they have a short lifetime) and we keep each particle size as small as possible, rather than big.</p>
			<p>The following screenshot shows our flickering particle system as it is now:</p>
			<div>
				<div id="_idContainer120" class="IMG---Figure">
					<img src="image/Figure_4.32_B18381.jpg" alt="Figure 4.32 – Current Particle System state&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.32 – Current Particle System state</p>
			<p>Let's now continue going <a id="_idIndexMarker400"/>through the <strong class="bold">Particle System</strong> settings within the <strong class="bold">Inspector</strong> window.</p>
			<h2 id="_idParaDest-94"><a id="_idTextAnchor096"/>Setting up the Emission section of our particle system</h2>
			<p>In this <a id="_idIndexMarker401"/>section, we will control the rate of the <a id="_idIndexMarker402"/>particles in our particle system; under each heading, I will display an information box showing the tooltip description for this section. You can view tooltips by moving your mouse over the name of the section. This also works within the <strong class="bold">Inspector</strong> window for some values. An example of a tooltip is shown in the following screenshot:</p>
			<div>
				<div id="_idContainer121" class="IMG---Figure">
					<img src="image/Figure_4.33_B18381.jpg" alt="Figure 4.33 – Emission tooltip&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.33 – Emission tooltip</p>
			<p>The next subsetting for the <strong class="source-inline">thruster</strong> particle system is <strong class="bold">Emission</strong>. It contains two properties (<strong class="bold">Rate over Time</strong> and <strong class="bold">Rate over Distance</strong>) but we're only going to change one of them. We will change <strong class="bold">Rate over Time</strong> (the number of particles emitted per second) to <strong class="source-inline">50</strong>.</p>
			<p>As mentioned before, if in doubt, crank the settings all the way up or down to see whether there are any instant visual answers to what the property does. You can always undo the setting. As an extra precaution, you can always save your work before changing any settings:</p>
			<div>
				<div id="_idContainer122" class="IMG---Figure">
					<img src="image/Figure_4.34_B18381.jpg" alt="Figure 4.34 – Emission's Rate over Time set to 50&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.34 – Emission's Rate over Time set to 50</p>
			<p>We're not <a id="_idIndexMarker403"/>doing anything drastic here, just lowering the <a id="_idIndexMarker404"/>number of particles a little. Later on in this chapter, it may be a good idea, for performance's sake, to lower the variable even further, depending on what platform this game is being ported to.</p>
			<p>In the next section, we will set up how the particles enter the scene.</p>
			<h2 id="_idParaDest-95"><a id="_idTextAnchor097"/>Setting up the Shape section of our particle system</h2>
			<p>In the next part of <a id="_idIndexMarker405"/>our setup of the particle system, we <a id="_idIndexMarker406"/>can alter the <strong class="bold">Shape</strong> setting and its properties.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">The <strong class="bold">Shape</strong> tooltip description is <strong class="bold">Shape of the emitter volume, which controls where particles are emitted and their initial direction</strong>.</p>
			<p>In the <strong class="bold">Shape</strong> section, we will tighten the spawn point that the particles come from. The settings that we will change are as follows:</p>
			<ul>
				<li><strong class="bold">Shape</strong>: Defines the shape of the volume from which particles can be emitted and the direction of the start velocity. Set this option to <strong class="bold">Sphere</strong>.</li>
				<li><strong class="bold">Radius</strong>: The radius of the shape. Set this to <strong class="source-inline">0.02</strong>.</li>
			</ul>
			<p>All we need to focus <a id="_idIndexMarker407"/>on is the point that the particles have <a id="_idIndexMarker408"/>come from. Here's a screenshot of the settings that need to be set:</p>
			<div>
				<div id="_idContainer123" class="IMG---Figure">
					<img src="image/Figure_4.35_B18381.jpg" alt="Figure 4.35 – Updating Shape to Sphere and its Radius to 0.02&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.35 – Updating Shape to Sphere and its Radius to 0.02</p>
			<p>Our player's ship's thrusters display more of a concentrated glow now:</p>
			<div>
				<div id="_idContainer124" class="IMG---Figure">
					<img src="image/Figure_4.36_B18381.jpg" alt="Figure 4.36 – Our player ship's glow appears more concentrated&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.36 – Our player ship's glow appears more concentrated</p>
			<p>As already <a id="_idIndexMarker409"/>mentioned, we stopped the direction of our particle system <a id="_idIndexMarker410"/>in the very first section, and in the next section, we will use <strong class="bold">Force over Lifetime</strong> to roughly direct where the particles will go.</p>
			<h2 id="_idParaDest-96"><a id="_idTextAnchor098"/>Setting up the Force over Lifetime section of our particle system</h2>
			<p>In this <a id="_idIndexMarker411"/>short section, we'll alter <a id="_idIndexMarker412"/>the force of where we want our particles to go. Referring back to the previous screenshot, we can see that our ship has a glow that now just needs to be pushed back slightly to give the illusion of travel.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">The <strong class="bold">Force over Lifetime</strong> tooltip description is <strong class="bold">Controls the force of each particle during its lifetime</strong>.</p>
			<p>Unlike other properties, this one needs to be turned on by selecting the check box to the left of its name.</p>
			<p>Once activated, the only setting we need to adjust is setting <strong class="bold">Z</strong> to <strong class="source-inline">10</strong>, as in the following screenshot:</p>
			<div>
				<div id="_idContainer125" class="IMG---Figure">
					<img src="image/Figure_4.37_B18381.jpg" alt="Figure 4.37 – Force over Lifetime value updated&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.37 – Force over Lifetime value updated</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">As mentioned before, be adventurous with the settings. Accidents and pushing limits can create new effects that might be useful for other parts of this game and future projects.</p>
			<p>So, now our <a id="_idIndexMarker413"/>particle looks <a id="_idIndexMarker414"/>stretched out and resembles a thruster, as in the following screenshot:</p>
			<div>
				<div id="_idContainer126" class="IMG---Figure">
					<img src="image/Figure_4.38_B18381.jpg" alt="Figure 4.38 – Particle System is now slightly stretched&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.38 – Particle System is now slightly stretched</p>
			<p>Let's now move on to changing the texture to see whether we can add some more detail to the particles.</p>
			<h2 id="_idParaDest-97"><a id="_idTextAnchor099"/>Setting up the Renderer section of our particle system</h2>
			<p>The <strong class="bold">Renderer</strong> section controls the<a id="_idIndexMarker415"/> visuals of each particle. This is <a id="_idIndexMarker416"/>where we can apply our own material. Within the material is a custom texture.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">The <strong class="bold">Renderer</strong> tooltip description is <strong class="bold">Specifies how the particles are rendered</strong>.</p>
			<p>We are going to update the <strong class="bold">Particle System</strong> material so that it displays a sprite sheet, which we will use for animations in the next section.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">What's a sprite sheet? It is a series of images, typically in a grid formation, that is used for animation.</p>
			<p>Drag and drop the <strong class="source-inline">thruster</strong> material file within the <strong class="bold">Project</strong> window located in the <strong class="source-inline">Assets/Material</strong> file path location to the <strong class="bold">Material</strong> field within the <strong class="bold">Renderer</strong> section, as in the following screenshot.</p>
			<p>The <strong class="source-inline">player_ship</strong> object <a id="_idIndexMarker417"/>now has the new <strong class="source-inline">thruster</strong> particle <a id="_idIndexMarker418"/>system material assigned, which looks dotty. In the following screenshot, the thumbnail of the <strong class="source-inline">thruster</strong> material is dragged and dropped into the <strong class="bold">Material</strong> field of the <strong class="bold">Renderer</strong> part:</p>
			<div>
				<div id="_idContainer127" class="IMG---Figure">
					<img src="image/Figure_4.39_B18381.jpg" alt="Figure 4.39 – Drag and drop thruster material in the Renderer/Material slot&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.39 – Drag and drop thruster material in the Renderer/Material slot</p>
			<p>With our material <a id="_idIndexMarker419"/>and texture applied, we<a id="_idIndexMarker420"/> now have lots of dots where the glow from the rear of the ship was. We have done everything correctly, but because this texture behaves like animation, we need to update its <strong class="bold">Texture Sheet Animation</strong> settings.</p>
			<h2 id="_idParaDest-98"><a id="_idTextAnchor100"/>Setting up the Texture Sheet Animation section of our particle system</h2>
			<p>The final step in creating<a id="_idIndexMarker421"/> this particle effect is<a id="_idIndexMarker422"/> to let Unity animate a sprite sheet correctly. Before we set this up, let's take a look at the texture we are feeding into the particle system.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">The <strong class="bold">Texture Sheet Animation</strong> tooltip description is <strong class="bold">Particle UV animation. This allows us to specify a texture sheet (a texture with multiple tiles/subframes) and animation or randomize over it per particle</strong>.</p>
			<p>The following screenshot is from our <strong class="source-inline">thruster</strong> material:</p>
			<div>
				<div id="_idContainer128" class="IMG---Figure">
					<img src="image/Figure_4.40_B18381.jpg" alt="Figure 4.40 – A sprite sheet&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.40 – A sprite sheet</p>
			<p>The previous screenshot contains 64 images in an 8 x 8 grid. No extra settings are needed for this texture. If there were an uneven number of multiple images, then we would have to approach this differently by using Unity's sprite Editor to cut out each image individually, which can get tedious.</p>
			<p class="callout-heading">Further Information</p>
			<p class="callout">More information about the sprite Editor<a id="_idIndexMarker423"/> can be found at <a href="https://docs.unity3d.com/Manual/SpriteEditor.html">https://docs.unity3d.com/Manual/SpriteEditor.html</a>.</p>
			<p>Thankfully, we don't need to worry about doing that. Let's take a closer look at the material.</p>
			<p>In the following screenshot, we can see that the <strong class="bold">Shader</strong> option (at the top of the screenshot) is set to the <strong class="bold">Particles/Additive</strong> category (ideal shader for glow effects), which is one of the <a id="_idIndexMarker424"/>most common shaders <a id="_idIndexMarker425"/>used for a particle system.</p>
			<p>In the <strong class="bold">Project</strong> window, under the <strong class="source-inline">Assets/Material</strong> file location, we have our <strong class="source-inline">thruster</strong> material file. Clicking on the file displays its properties in the <strong class="bold">Inspector</strong> window:</p>
			<div>
				<div id="_idContainer129" class="IMG---Figure">
					<img src="image/Figure_4.41_B18381.jpg" alt="Figure 4.41 – The thruster material properties&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.41 – The thruster material properties</p>
			<p>We can change the strength of the particle by changing its <strong class="bold">Tint Color</strong> brightness value, as in the previous screenshot. Feel free to make your own changes. I'm going to leave mine the way it is.</p>
			<p>Coming back to the <strong class="bold">Texture Sheet Animation</strong> section, as explained, we have an 8 x 8 texture grid. This means we have to change the tiles to <strong class="bold">X</strong>: <strong class="source-inline">8</strong> and <strong class="bold">Y</strong>: <strong class="source-inline">8</strong>.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">As you will recall, in the previous section, our particles looked dotty. That's because we were displaying all 64 images from the texture sheet in one particle. With the texture animation sheet, we have divided those 64 images into single images that will animate onto each particle.</p>
			<p>The following <a id="_idIndexMarker426"/>screenshot shows the<a id="_idIndexMarker427"/> continuation of our particle system with the <strong class="bold">Texture Sheet Animation</strong> settings:</p>
			<div>
				<div id="_idContainer130" class="IMG---Figure">
					<img src="image/Figure_4.42_B18381.jpg" alt="Figure 4.42 – Updating the Texture Sheet Animation Tiles values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.42 – Updating the Texture Sheet Animation Tiles values</p>
			<p>This is our end result:</p>
			<div>
				<div id="_idContainer131" class="IMG---Figure">
					<img src="image/Figure_4.43_B18381.jpg" alt="Figure 4.43 – Our player ship's thruster&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.43 – Our player ship's thruster</p>
			<p>If you're happy with the final result, we need to take one final step before saving our <strong class="source-inline">player_ship</strong> prefab. Because we changed the scale of <strong class="source-inline">player_ship</strong> in the <strong class="source-inline">PlayerSpawner</strong> script, we need to do the same for our <strong class="source-inline">thruster</strong> game object.</p>
			<p>To change the <strong class="source-inline">localScale</strong> setting of the <strong class="source-inline">thruster</strong> game object, we need to do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, navigate to <strong class="source-inline">Assets/Script</strong>.</li>
				<li>Double-click on the <strong class="source-inline">PlayerSpawner</strong> script and scroll down to the line of code that reads as follows:<p class="source-code">playerShip.transform.localScale = new Vector3(60,60,60);</p></li>
				<li>Just below <a id="_idIndexMarker428"/>the previous line<a id="_idIndexMarker429"/> of code, add the following code to size the <strong class="source-inline">thruster</strong> game object:<p class="source-code"><strong class="bold">playerShip.GetComponentInChildren&lt;ParticleSystem&gt; </strong></p><p class="source-code"><strong class="bold">   ().transform.localScale = new Vector3(25,25,25);</strong></p></li>
			</ol>
			<p>The previous code accesses the player's ship's <strong class="source-inline">ParticleSystem</strong> component and changes its scale to <strong class="source-inline">25</strong> on all axes.</p>
			<ol>
				<li value="4">Save the <strong class="source-inline">PlayerSpawner</strong> script.</li>
				<li>Back in the Unity Editor, with the <strong class="source-inline">player_ship</strong> object selected in the <strong class="bold">Hierarchy</strong> window, click on the <strong class="bold">Overrides | Apply All</strong> button in the <strong class="bold">Inspector</strong> window.</li>
			</ol>
			<p>As mentioned, be brave with the particle system; use the tooltips if you aren't familiar with them and play around with the settings—you'll soon get used to it. You could copy and paste the <strong class="source-inline">thruster</strong> game object and alter its color, emissions, force, scale, and more. Mix things up to create different types of thrusters.</p>
			<p>Here's one I made earlier with seven particle systems:</p>
			<div>
				<div id="_idContainer132" class="IMG---Figure">
					<img src="image/Figure_4.44_B18381.jpg" alt="Figure 4.44 – A variety of particles added to the player ship&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.44 – A variety of particles added to the player ship</p>
			<p><strong class="bold">Particle systems</strong> can also be <a id="_idIndexMarker430"/>manipulated via scripting, which is why as Unity programmers, we are familiar with the properties but not so much with mastering the techniques. It is also likely you will be asked, in the Unity programmer exam, about the properties of a particle system and what a particle system is good for when it comes to creating effects. Even though we didn't cover all of the properties in this section, it's good practice to have a general understanding of what each property does—for example, knowing that the <strong class="bold">Size over LifeTime</strong> property simply shrinks the particle over time.</p>
			<p>One of the particle<a id="_idIndexMarker431"/> system properties we made use of was <strong class="bold">Texture Sheet Animation</strong>, where we provided a pre-made <a id="_idIndexMarker432"/>texture sheet to divide up our individual images to create an animation.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">When a particle system is made, it generates a predictable pattern. This is known as <strong class="bold">Procedural Mode</strong>; the benefit of this is that Unity knows where the particle is in the past and the future. It also helps performance when, for example, the camera is looking away from the particle system; then, it can be culled. However, if the particle system is modified by a property such as changing its simulation space to <strong class="bold">World Space</strong>, the particle system will become unpredictable and non-procedural, which will disable its ability to improve performance.</p>
			<p class="callout">For more <a id="_idIndexMarker433"/>information about <strong class="bold">Procedural Mode</strong>, check out the following link: <a href="https://blogs.unity3d.com/2016/12/20/unitytips-particlesystem-performance-culling">https://blogs.unity3d.com/2016/12/20/unitytips-particlesystem-performance-culling</a>/.</p>
			<p>In the next section, we will use particle systems again, but this time for the background to create stars that appear to whizz past us. We will also animate the stars at different speeds using Unity's Animator Controller.</p>
			<h1 id="_idParaDest-99"><a id="_idTextAnchor101"/>Importing and animating the background</h1>
			<p>In this section, we are going to get familiar with Unity's Animator Controller. We will make our player's ship travel at lightspeed (well, give the impression that it is, anyway) by creating a fast-moving background of stars and particles (yes, that's right, more particles) at the start of the level, then we'll slow everything down when there are enemies up ahead.</p>
			<p>Before we start <a id="_idIndexMarker434"/>animating at "lightspeed," we need to prepare <a id="_idIndexMarker435"/>the <strong class="bold">Hierarchy</strong> window:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, right-click on<a id="_idIndexMarker436"/> an open-space area.</li>
				<li>Select <strong class="bold">Create Empty</strong> from the dropdown.</li>
				<li>Click on the new game object and rename it <strong class="source-inline">GameSpeed</strong>.</li>
				<li>Do this again and name the second game object <strong class="source-inline">_SceneAssets</strong>.</li>
				<li>Drag <strong class="source-inline">GameSpeed</strong> onto the <strong class="source-inline">_SceneAssets</strong> game object.</li>
				<li>Make sure both game objects' <strong class="bold">Transform</strong> property values are set to <strong class="bold">Reset</strong>.</li>
				<li>Finally, drag the <strong class="source-inline">_SceneAssets</strong> game object from the <strong class="bold">Hierarchy</strong> window into the <strong class="source-inline">Assets/Prefab</strong> <strong class="bold">Project</strong> window.<p class="callout-heading">Tip</p><p class="callout">Remember, as well as regularly saving our scene and project, we also need to make sure we make prefabs that will be situated in the scene and used on a regular basis to store the game object and its components' settings.</p></li>
			</ol>
			<p>That's the <strong class="bold">Hierarchy</strong> window set up and ready for some extra game objects to be added to our scene. Looking <a id="_idIndexMarker437"/>at how we create an active animating scene for our game, we<a id="_idIndexMarker438"/> can tackle this with one of two approaches for a side-scrolling shooter. One way is to have a large, static background and move the player and camera through the level, tackling enemies. The other way is to keep the camera still and make the background move or animate past the camera while we trigger enemies into the scene at set times. Why would we use the second way? Because when we make a game, as a programmer, we need to focus on what is important to us—in this case, the player is most important. Also, the player is clamped within the screen ratio. Arguably, it would be more awkward for us to develop and bug-test a moving clamped camera, forcing our player across a world scene with other game objects coming into play. We can also consider physics as a factor with debris and even more game objects colliding with each other, which can cause potential issues. As a programmer, I find it is always best to look for the simplest option.</p>
			<p>With that said, let's move on to making our background:</p>
			<ol>
				<li value="1">Right-click on <strong class="source-inline">GameSpeed</strong> in the <strong class="bold">Hierarchy</strong> window.</li>
				<li>Select <strong class="bold">Create Empty</strong> from the dropdown.</li>
				<li>Click on the new game object and rename it <strong class="source-inline">ScreenBackground</strong>.</li>
			</ol>
			<p>The <strong class="source-inline">ScreenBackground</strong> game object is going to house the stars particle system. The particle system that we will bring into our scene is pre-made; I didn't think it would be necessary to continue making more particles as we have already made one for our player's ship.</p>
			<p>From the <strong class="source-inline">Assets/Particle</strong> <strong class="bold">Project</strong> window, drag the <strong class="source-inline">warpStars_pe</strong> prefab onto the <strong class="source-inline">GameSpeed</strong> game object in the <strong class="bold">Hierarchy</strong> window to make it a child.</p>
			<p>With the changes we have <a id="_idIndexMarker439"/>made in this section, the <strong class="bold">Hierarchy</strong> window <a id="_idIndexMarker440"/>content should resemble the following screenshot:</p>
			<div>
				<div id="_idContainer133" class="IMG---Figure">
					<img src="image/Figure_4.45_B18381.jpg" alt="Figure 4.45 – Current Hierarchy layout&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.45 – Current Hierarchy layout</p>
			<p>We have updated our <strong class="bold">Hierarchy</strong> window again with the second particle system for this chapter. This has improved the <a id="_idIndexMarker441"/>structure and increased clarity as our game starts branching out into more functionality. Let's now continue focusing on the particle system with its placement in the world scene:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, select <strong class="source-inline">warpStars_pe</strong> if it isn't selected already.</li>
				<li>Moving our attention over to the <strong class="bold">Inspector</strong> window, set its <strong class="bold">Transform</strong> settings to the following:<div id="_idContainer134" class="IMG---Figure"><img src="image/Table_02.jpg" alt=""/></div></li>
			</ol>
			<p>With our particle system set up in the correct place, we can now focus on adding another layer to the background of our game, which will be a <strong class="source-inline">ScreenBackground</strong> texture on a large quad polygon.</p>
			<p>Let's continue<a id="_idIndexMarker442"/> adding more <a id="_idIndexMarker443"/>functionality to the <strong class="source-inline">ScreenBackground</strong> game object:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, select <strong class="source-inline">ScreenBackground</strong>.</li>
				<li>In the <strong class="bold">Inspector</strong> window, click on the <strong class="bold">Add Component</strong> button.</li>
				<li>From the dropdown that appears, start typing <strong class="source-inline">Mesh Filter</strong> until it is available to click on from the list.</li>
			</ol>
			<p>The following screenshot shows the <strong class="bold">Inspector</strong> window for <strong class="source-inline">ScreenBackground</strong>, equipped with a three-dimensional <strong class="bold">Quad</strong> polygon mesh:</p>
			<div>
				<div id="_idContainer135" class="IMG---Figure">
					<img src="image/Figure_4.46_B18381.jpg" alt="Figure 4.46 – Quad mesh filter selected from the Mesh dropdown&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.46 – Quad mesh filter selected from the Mesh dropdown</p>
			<p>With the <strong class="bold">Quad</strong> mesh created, we need to make it visible in our <strong class="bold">Scene</strong> and <strong class="bold">Game</strong> windows with the <strong class="bold">Mesh Renderer</strong> component.</p>
			<ol>
				<li value="4">Select the <strong class="source-inline">ScreenBackground</strong> game object in the <strong class="bold">Hierarchy</strong> window and in the <strong class="bold">Inspector</strong> window, click on the <strong class="bold">Add Component</strong> button.</li>
				<li>In the dropdown, start typing <strong class="source-inline">Mesh Renderer</strong> until you see it in the list, then click on it.</li>
			</ol>
			<p>Similar to what we <a id="_idIndexMarker444"/>did for our <strong class="source-inline">player_ship</strong> prefab and our previous particle system, we<a id="_idIndexMarker445"/> need to create and apply a material to our <strong class="source-inline">ScreenBackground</strong> object:</p>
			<ol>
				<li value="1">Right-click in the open space of the <strong class="bold">Project</strong> window in the <strong class="source-inline">Assets/Material</strong> file location.</li>
				<li>Click on <strong class="bold">Create</strong> from the dropdown.</li>
				<li>Then, click on <strong class="bold">Material</strong>.</li>
				<li>With the new material selected, rename it <strong class="source-inline">backGround_Wallpaper</strong>.</li>
			</ol>
			<p>Because our <strong class="source-inline">ScreenBackground</strong> game object now has a <strong class="source-inline">MeshRenderer</strong> object and we have created a material for it, we now need to apply it:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, select <strong class="source-inline">ScreenBackground</strong>.</li>
				<li>Drag and drop<a id="_idIndexMarker446"/> the <strong class="source-inline">backGround_Wallpaper</strong> material from the <strong class="bold">Project</strong> window to the <strong class="bold">Mesh Renderer</strong> section, into<a id="_idIndexMarker447"/> the <strong class="bold">Element 0</strong> slot of the <strong class="bold">Materials</strong> subsection, as in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer136" class="IMG---Figure">
					<img src="image/Figure_4.47_B18381.jpg" alt="Figure 4.47 – Drag and drop the backGround_wallpaper material into Element 0&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.47 – Drag and drop the backGround_wallpaper material into Element 0</p>
			<p>Let's rewind and confirm what we have done so far in this section. We have our game objects in their correct positions in the <strong class="bold">Hierarchy</strong> window and we have our second particle system set up, positioned, rotated, and scaled. We've just created our material, named it, and placed it into <strong class="source-inline">backGround_Wallpaper</strong>.</p>
			<p>Now, we'll set the<a id="_idIndexMarker448"/> material up to be something quite basic. It doesn't require a<a id="_idIndexMarker449"/> lot of fancy shaders, so just a simple low-resource mobile shader will be fine.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">Shaders are typically mathematical scripts that tell our material how its graphics and light behave.</p>
			<p>Make sure <strong class="source-inline">ScreenBackground</strong> is still selected in the <strong class="bold">Hierarchy</strong> window.</p>
			<p>In the <strong class="bold">Inspector</strong> window, scroll down to the <strong class="bold">Material</strong> component:</p>
			<ol>
				<li value="1">If the <strong class="bold">Material</strong> component isn't expanded, click on the arrow next to the white sphere.</li>
				<li>With the <strong class="bold">Material</strong> component expanded, we can see a lot of maps that we won't need, so let's change the shader to a more basic one.</li>
				<li>Click on the selection dropdown from the <strong class="bold">Shader</strong> field. Typically, <strong class="bold">Standard</strong> will be the default shader.</li>
				<li>From the dropdown, click on <strong class="bold">Mobile</strong>.</li>
				<li>Then, click on <strong class="bold">Diffuse</strong>.</li>
			</ol>
			<p>The following screenshot shows this procedure:</p>
			<div>
				<div id="_idContainer137" class="IMG---Figure">
					<img src="image/Figure_4.48_B18381.jpg" alt="Figure 4.48 – Selecting a Mobile Diffuse shader for our material&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.48 – Selecting a Mobile Diffuse shader for our material</p>
			<p>This has <a id="_idIndexMarker450"/>chopped our <strong class="bold">Material</strong> properties down to <a id="_idIndexMarker451"/>the minimum requirement, as in the following screenshot:</p>
			<div>
				<div id="_idContainer138" class="IMG---Figure">
					<img src="image/Figure_4.49_B18381.jpg" alt="Figure 4.49 – backGround_wallpaper material's current state&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.49 – backGround_wallpaper material's current state</p>
			<p>The two things we really care about in this <strong class="bold">Material</strong> component are the <strong class="bold">Texture</strong> we are going to supply to it and its <strong class="bold">Offset</strong> value.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">What's an offset? <strong class="bold">Offset</strong> is the<a id="_idIndexMarker452"/> position where our texture is applied on our UV map. For example, if we increase the <strong class="bold">Offset</strong> property's <strong class="bold">X</strong> position, the texture applied to the material will overlap and appear on the other side of our quad.</p>
			<p>We will now continue working with<a id="_idIndexMarker453"/> our background <strong class="bold">Material</strong> component by <a id="_idIndexMarker454"/>adding our <strong class="source-inline">ScreenBackground</strong> texture:</p>
			<ol>
				<li value="1">With the <strong class="bold">Material</strong> component still in the <strong class="bold">Inspector</strong> window, there is a large square at the top right called <strong class="bold">None (Texture)</strong>. Click on <strong class="bold">Select</strong> (use the previous screenshot as a reference).</li>
				<li>A dropdown appears. Start typing <strong class="source-inline">spaceBackground</strong> until the option comes up, then click on it.</li>
			</ol>
			<p>We should have a quad named <strong class="source-inline">ScreenBackground</strong> that is black with white dots on it, as in the following screenshot:</p>
			<div>
				<div id="_idContainer139" class="IMG---Figure">
					<img src="image/Figure_4.50_B18381.jpg" alt="Figure 4.50 – Our quad spaceBackground&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.50 – Our quad spaceBackground</p>
			<p>Before we start animating this texture, we need to do the same as what we did for our particle system and update its <strong class="bold">Transform</strong> properties: <strong class="bold">Position</strong>, <strong class="bold">Rotation</strong>, and <strong class="bold">Scale</strong>. We need <strong class="source-inline">ScreenBackground</strong> to cover the camera's frustum angle and our image to show up after the <strong class="bold">Transform</strong> update.</p>
			<ol>
				<li value="3">In the <strong class="bold">Hierarchy</strong> window, select the <strong class="source-inline">ScreenBackground</strong> game object.</li>
				<li>In the <strong class="bold">Inspector</strong> window, update its <strong class="bold">Transform</strong> component with the following settings:</li>
			</ol>
			<div>
				<div id="_idContainer140" class="IMG---Figure">
					<img src="image/Table_03.jpg" alt=""/>
				</div>
			</div>
			<p>The following screenshot <a id="_idIndexMarker455"/>shows our current scene view:</p>
			<ul>
				<li>We have a very large<a id="_idIndexMarker456"/> quad with a space texture.</li>
				<li>We have a white grid-like camera view.</li>
				<li>Our player's ship is in between the camera and the quad.</li>
				<li>The bottom right shows us what the user sees as an end result:</li>
			</ul>
			<div>
				<div id="_idContainer141" class="IMG---Figure">
					<img src="image/Figure_4.51_B18381.jpg" alt="Figure 4.51 – Our current game scene environment setup&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.51 – Our current game scene environment setup</p>
			<p>We have <a id="_idIndexMarker457"/>updated our <strong class="bold">Hierarchy</strong> window to hold two background <a id="_idIndexMarker458"/>layers. The first layer shows passing stars with the second particle system we added from this chapter's downloads file. The second is a game object that holds a quad polygon with a texture. Let's now move on to creating the Animator Controller for our background and space warp particle.</p>
			<h2 id="_idParaDest-100"><a id="_idTextAnchor102"/>Adding an Animator Controller</h2>
			<p>Using the <a id="_idIndexMarker459"/>Animator Controller is a way of controlling animation states. We will have our player's ship traveling at lightspeed for a couple of seconds, then we'll slow things down just before the enemies come to attack our player.</p>
			<p>The left-hand-side depiction of our ship in the following screenshot shows more streaking particles than the ship on the right. The starry background also moves faster on the left than on the right (which you can't really see in these still screenshots):</p>
			<div>
				<div id="_idContainer142" class="IMG---Figure">
					<img src="image/Figure_4.52_B18381.jpg" alt="Figure 4.52 – Animating the stars in the background will follow next&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.52 – Animating the stars in the background will follow next</p>
			<p>So, let's create and attach the animator to the parent of the <strong class="source-inline">ScreenBackground</strong> object and the particle system.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">With the Animator Controller, if you are animating multiple game objects at once, make sure your Animator Controller is the parent to these game objects. You can't have a child animating its parent (<strong class="bold">parent</strong> refers to the game objects above the object in the <strong class="bold">Hierarchy</strong> window).</p>
			<p>Looking at <a id="_idIndexMarker460"/>the <strong class="bold">Hierarchy</strong> window, we have made all the background effects in this chapter within the <strong class="source-inline">GameSpeed</strong> game object. As mentioned in the information box, the Animator Controller animates all the children, but it can't animate parents. With that said, let's add the Animator Controller:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, select the <strong class="source-inline">GameSpeed</strong> game object.</li>
				<li>In the <strong class="bold">Inspector</strong> window, click on the <strong class="bold">Add Component</strong> button.</li>
				<li>In the dropdown, start typing <strong class="source-inline">Animator</strong> until it appears and then click on it.</li>
			</ol>
			<p>The following screenshot shows the <strong class="bold">Animator</strong> component (which houses the Animator Controller) selected for the <strong class="source-inline">GameSpeed</strong> game object:</p>
			<div>
				<div id="_idContainer143" class="IMG---Figure">
					<img src="image/Figure_4.53_B18381.jpg" alt="Figure 4.53 – Select the Animator from the dropdown&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.53 – Select the Animator from the dropdown</p>
			<p>We now have <a id="_idIndexMarker461"/>the <strong class="bold">Animator</strong> component attached to our <strong class="source-inline">GameSpeed</strong> game object. The next thing to do is create and attach the Animator Controller to the <strong class="bold">Controller</strong> field. The following screenshot shows the <strong class="bold">Animator</strong> component settings:</p>
			<div>
				<div id="_idContainer144" class="IMG---Figure">
					<img src="image/Figure_4.54_B18381.jpg" alt="Figure 4.54 – The Animator Controller component&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.54 – The Animator Controller component</p>
			<p>Before we do that, we need to create an <strong class="source-inline">Animator</strong> folder. In the <strong class="bold">Project</strong> window, navigate to the  <strong class="source-inline">Assets</strong> folder and create an empty folder. Name it <strong class="source-inline">Animator</strong>.</p>
			<p>Go inside the <strong class="source-inline">Animator</strong> folder and continue making the Animator Controller:</p>
			<ol>
				<li value="1">Right-click in the <strong class="bold">Project</strong> window open space.</li>
				<li>Click on <strong class="bold">Create</strong>.</li>
				<li>Click on the <strong class="bold">Animator Controller</strong> (see the left side of the following screenshot for reference).</li>
				<li>Rename the new <strong class="bold">Animator Controller</strong> <strong class="source-inline">GameSpeed_Controller</strong>.</li>
				<li>Finally, drag and drop this Animator Controller to the <strong class="source-inline">GameSpeed</strong> Animator Controller in its <strong class="bold">Inspector</strong> window (refer to the right-hand side of the following screenshot for reference).</li>
			</ol>
			<p>The following <a id="_idIndexMarker462"/>screenshot shows the creation of an Animator Controller and how to apply it to the <strong class="bold">Animator</strong> component:</p>
			<div>
				<div id="_idContainer145" class="IMG---Figure">
					<img src="image/Figure_4.55_B18381.jpg" alt="Figure 4.55 – Drag and drop the GameSpeed_Controller into the Animator Controller slot&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.55 – Drag and drop the GameSpeed_Controller into the Animator Controller slot</p>
			<p>In this section, we created and applied our <strong class="bold">Animator</strong> component and Animator Controller to our <strong class="source-inline">GameSpeed</strong> game object. In the next section, we will look at animation states within the Animator Controller.</p>
			<h2 id="_idParaDest-101"><a id="_idTextAnchor103"/>Creating states in the Animator Controller</h2>
			<p>In this section, we will <a id="_idIndexMarker463"/>use the Animator Controller to<a id="_idIndexMarker464"/> create a state for animating the background scene and particles at high speed; followed by the second state, which will slow the background and particles down to represent the player's ship going at a slower speed (which also helps make our game less distracting). Let's make the first state.</p>
			<p>To create a state, follow these instructions:</p>
			<ol>
				<li value="1">Double-click on the <strong class="source-inline">GameSpeed_Controller</strong> object that we placed in the <strong class="source-inline">GameSpeed</strong> <strong class="bold">Animator</strong> component.</li>
				<li>The <strong class="bold">Animator</strong> window will open with some default states: <strong class="bold">Entry</strong>, <strong class="bold">Any State,</strong> and <strong class="bold">Exit</strong>.</li>
				<li>Right-click in an <a id="_idIndexMarker465"/>open space within the <strong class="bold">Animator</strong> window.</li>
				<li>A dropdown will <a id="_idIndexMarker466"/>appear. Click on <strong class="bold">Create State</strong>.</li>
				<li>Then, click on <strong class="bold">Empty</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer146" class="IMG---Figure">
					<img src="image/Figure_4.56_B18381.jpg" alt="Figure 4.56 – Create an empty animation state&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.56 – Create an empty animation state</p>
			<p>As you can guess, we've just created an empty state.</p>
			<ol>
				<li value="6">Repeat this process to create a second state.<p class="callout-heading">Further Information</p><p class="callout">Unity's Animator Controller also offers layering with our animation. So, for example, we can animate a player who can run, jump, and shoot. It's likely that we will want a couple of these animations playing at the same time, and we can do so with <strong class="bold">Layers</strong> (see the top-left corner of the previous screenshot). We can change the influence over each animation, or <strong class="bold">Weight</strong>, as it's referred to in Unity, and we can use the <strong class="bold">Override</strong> (information from other layers will be ignored) or <strong class="bold">Additive</strong> (added on top of another animation) settings to blend between animations.</p><p class="callout">If you would like to find out more about<a id="_idIndexMarker467"/> animation layers, go to <a href="https://docs.unity3d.com/Manual/AnimationLayers.html">https://docs.unity3d.com/Manual/AnimationLayers.html</a>.</p></li>
			</ol>
			<p>Once we have <a id="_idIndexMarker468"/>created our second state, let's do a bit of <a id="_idIndexMarker469"/>housekeeping:</p>
			<ol>
				<li value="1">Click and drag <strong class="bold">Exit</strong> and <strong class="bold">Any State</strong> out of the way. We won't be using these. <strong class="bold">Entry</strong> will automatically attach itself to the first state we make.</li>
			</ol>
			<p>Let's now rename our states.</p>
			<ol>
				<li value="2">Click on the orange state called <strong class="bold">New State</strong>.</li>
				<li>In the <strong class="bold">Inspector</strong> window, click in the top-right corner where it says <strong class="bold">New State</strong>.</li>
				<li>Delete this and rename it <strong class="source-inline">BackGround_Intro_Speed</strong>.</li>
				<li>Press <em class="italic">Enter</em> on your keyboard to make sure it saves the name. If you click away, it sometimes doesn't save the change.</li>
				<li>Now, rename the other state we made, currently titled <strong class="source-inline">New State 0</strong>. Rename this second state to <strong class="source-inline">BackGround_InGame_Speed</strong>.<p class="callout-heading">Tip</p><p class="callout">You can zoom in and out and pan around the <strong class="bold">Animator</strong> window with your mouse wheel.</p><p class="callout">To zoom in, scroll the wheel up.</p><p class="callout">To zoom out, scroll the wheel down.</p><p class="callout">To pan, hold the middle mouse button down.</p></li>
			</ol>
			<p>Don't worry <a id="_idIndexMarker470"/>about the exact placement of the states; that's <a id="_idIndexMarker471"/>more of a cosmetic issue. We just need to have an <strong class="bold">Entry</strong> state connecting to a <strong class="source-inline">BackGround_Intro_Speed</strong> state, with a <strong class="source-inline">BackGround_InGame_Speed</strong> state near to it.</p>
			<p>The following screenshot shows the three states we should be focusing on:</p>
			<div>
				<div id="_idContainer147" class="IMG---Figure">
					<img src="image/Figure_4.57_B18381.jpg" alt="Figure 4.57 – Animator Controller states&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.57 – Animator Controller states</p>
			<p>These three animation states will eventually have lines attached to each of them; these lines allow a condition to be made (such as an <strong class="source-inline">if</strong> statement; see <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/if-else">https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/if-else</a> for more information) so that one state can move to another.</p>
			<p>Before we look at this, we also need to be aware that each state can run at different speeds. We will alter the speed of the states to go in line with the speed of the animations they house. To change the animation speeds of our state, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Animator</strong> window, click on the <strong class="source-inline">BackGround_InGame_Speed</strong> state.</li>
				<li>In its <strong class="bold">Inspector</strong> window, change its <strong class="bold">Speed</strong> value from <strong class="source-inline">1</strong> to <strong class="source-inline">0.1</strong>.</li>
			</ol>
			<p>The other state will remain the same.</p>
			<p>As the scene starts, the first state is <strong class="source-inline">BackGround_Intro_Speed</strong>, then once that animation is connected to it (which we currently haven't done yet), <strong class="source-inline">BackGround_InGame_Speed</strong> is played next. We need to connect the last state so that it can be played after.</p>
			<p>To connect <a id="_idIndexMarker472"/>a state, do <a id="_idIndexMarker473"/>the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Animator</strong> window, right-click on the <strong class="source-inline">BackGround_Intro_Speed</strong> state.</li>
				<li>From the dropdown, click on <strong class="bold">Make Transition</strong>.</li>
				<li>Then, click on <strong class="source-inline">BackGround_InGame_Speed</strong>.</li>
			</ol>
			<p>We should now have one state connected to another.</p>
			<p>In this section, we delved deeper into the Animator Controller, creating our intro and in-game animation states. We set the speed of the state and, finally, connected up the transition lines so that we know the flow of our animation states. All this structuring of extra game objects, the Animator Controller, and the states means we are now at the stage where we can start animating our scenery.</p>
			<h2 id="_idParaDest-102"><a id="_idTextAnchor104"/>Animation</h2>
			<p>Finally, we are actually going to animate something. We will only cover a basic animation<a id="_idIndexMarker474"/> but it will give us an understanding of the animation setup, which will support us in the exam and future projects.</p>
			<p>So, let's just jump in and<a id="_idIndexMarker475"/> animate the background and our background particles:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, go<a id="_idIndexMarker476"/> to the <strong class="source-inline">Assets/Animator</strong> folder location.</li>
				<li>Right-click in the open space and click on <strong class="bold">Create</strong> from the dropdown.</li>
				<li>Then, click on <strong class="bold">Animation</strong>.</li>
				<li>Name the new animation <strong class="source-inline">BackGround_InGame_Speed</strong>.</li>
				<li>Repeat the process and name the new animation <strong class="source-inline">BackGround_Intro_Speed</strong>.</li>
			</ol>
			<p>The following<a id="_idIndexMarker477"/> screenshot shows the <a id="_idIndexMarker478"/>creation of an <strong class="bold">Animation</strong> file:</p>
			<div>
				<div id="_idContainer148" class="IMG---Figure">
					<img src="image/Figure_4.58_B18381.jpg" alt="Figure 4.58 – Creating an Animation file in the Unity editor&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.58 – Creating an Animation file in the Unity Editor</p>
			<p>The introduction animation will be played once because it will be a surge of stars, then the second animation will loop, playing continuously to give the illusion of never-ending stars and particle stars moving past the <strong class="bold">Game</strong> window.</p>
			<p>With that said, in the <strong class="bold">Project</strong> window, click on the <strong class="source-inline">BackGround_InGame_Speed</strong> animation file, and in the <strong class="bold">Inspector</strong> window, check the box next to <strong class="bold">Loop Time</strong>.</p>
			<p>We now need to apply our two <strong class="bold">Animation</strong> files to their animation states in the <strong class="bold">Animator</strong> window.</p>
			<p>To hook these<a id="_idIndexMarker479"/> new <strong class="bold">Animation</strong> files up, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, select the <strong class="source-inline">GameSpeed</strong> game object.</li>
				<li>Double-click on <strong class="source-inline">GameSpeed_Controller</strong>.</li>
				<li>The <strong class="bold">Animator</strong> window opens up. Select one of the two animation states we created in the Animator Controller.</li>
				<li>Drag and drop the <strong class="bold">Animation</strong> file we just made to the <strong class="bold">Motion</strong> field of the <strong class="bold">Inspector</strong> tab (refer to the following screenshot).</li>
				<li>Select the other state that we created and repeat the drag-and-drop process with the other matching <strong class="bold">Animation</strong> file.</li>
			</ol>
			<p>We now have the two Animator Controller states with an empty animation clip applied.</p>
			<p>The following screenshot shows our <strong class="source-inline">BackGround_Intro_Speed</strong> animation file dragged and dropped into the <strong class="bold">Animation State</strong> | <strong class="bold">Motion</strong> field:</p>
			<div>
				<div id="_idContainer149" class="IMG---Figure">
					<img src="image/Figure_4.59_B18381.jpg" alt="Figure 4.59 – Drag and drop the BackGround_Intro_Speed file into the Motion slot&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.59 – Drag and drop the BackGround_Intro_Speed file into the Motion slot</p>
			<p class="callout-heading">Further Information</p>
			<p class="callout">You can also create a blend tree in the Animator Controller. A blend tree is specifically built to blend a series of animations as one form. Within the blend tree, there are different types: <strong class="bold">1D</strong>, a series of <strong class="bold">2D</strong>, and <strong class="bold">Direct</strong>.</p>
			<p class="callout">Blend trees can be useful to change an animation from walking to running (<strong class="bold">1D</strong>) or for more complex animations, such as facial expressions (<strong class="bold">Direct</strong>).</p>
			<p class="callout">To learn more about<a id="_idIndexMarker480"/> blend trees, check out <a href="https://docs.unity3d.com/Manual/class-BlendTree.html">https://docs.unity3d.com/Manual/class-BlendTree.html</a>.</p>
			<p>Let's stay focused<a id="_idIndexMarker481"/> on our <strong class="bold">Animation</strong> file and start animating the scene.</p>
			<p>First, we need to open the <strong class="bold">Animation</strong> window:</p>
			<ol>
				<li value="1">At the top of the Unity Editor window, click on <strong class="bold">Window</strong>.</li>
				<li>Then, click on <strong class="bold">Animation</strong>, or you can use the <em class="italic">Ctrl</em> (or <em class="italic">command</em> on macOS) + <em class="italic">6</em> shortcut.</li>
				<li>Next, back in our <strong class="bold">Project</strong> window, we need to click on the <strong class="source-inline">BackGround_Intro_Speed</strong> animation file (this should be located in the <strong class="source-inline">Assets/ Animator</strong> folder structure). This will update the <strong class="bold">Animation</strong> name within the window (use the following screenshot as a reference):</li>
			</ol>
			<div>
				<div id="_idContainer150" class="IMG---Figure">
					<img src="image/Figure_4.60_B18381.jpg" alt="Figure 4.60 – Animation window with the BackGround_Intro_Speed animation selected&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.60 – Animation window with the BackGround_Intro_Speed animation selected</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Like most windows within Unity, we can lock the window so that it doesn't update to another game object or, in this case, animation.</p>
			<p class="callout">To lock the window, click on the padlock symbol in the top-right corner of the <strong class="bold">Animation</strong> window.</p>
			<p>Locking the animation is probably a good idea, at this point, as we will be clicking on different game <a id="_idIndexMarker482"/>objects within the <strong class="bold">Hierarchy</strong> and <strong class="bold">Inspector</strong> windows.</p>
			<p>We will animate the <strong class="source-inline">spaceBackground</strong> texture first:</p>
			<ol>
				<li value="1">Keep the <strong class="source-inline">GameSpeed</strong> game object selected in the <strong class="bold">Hierarchy</strong>. If we select something else, we will lose the animation functionality in the <strong class="bold">Animation</strong> window.</li>
				<li>In the <strong class="bold">Animation</strong> window, click on the round red record button (above the <strong class="bold">Animation</strong> filename). Notice how the <strong class="bold">Animation</strong> window turns partially red, telling us we are in record mode.</li>
				<li>Then, in the <strong class="bold">Hierarchy</strong> window, click on <strong class="source-inline">ScreenBackground</strong>.</li>
				<li>Now, in the <strong class="bold">Inspector</strong> window, we need to focus on changing <strong class="source-inline">backGround_Wallpaper</strong> material settings.</li>
				<li>Also, make sure our <strong class="bold">Animation</strong> white indicator line is all the way to the left, as in the following screenshot.</li>
				<li>Next, change<a id="_idIndexMarker483"/> the <strong class="bold">X</strong> value of <strong class="bold">Offset</strong> from <strong class="source-inline">0</strong> to <strong class="source-inline">-10</strong>. Notice how the fields turn red as this is noted in the <strong class="bold">Animation</strong> window.</li>
				<li>Now, click and hold the white line in the <strong class="bold">Animation</strong> window and move it across to the right so that it isn't sitting on top of the animation it has just made:</li>
			</ol>
			<div>
				<div id="_idContainer151" class="IMG---Figure">
					<img src="image/Figure_4.61_B18381.jpg" alt="Figure 4.61 – Animating the Offset value of the backGround_wallpaper material properties&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.61 – Animating the Offset value of the backGround_wallpaper material properties</p>
			<ol>
				<li value="8">Change <a id="_idIndexMarker484"/>the <strong class="bold">X</strong> value of <strong class="bold">Offset</strong>, this time from <strong class="source-inline">-10</strong> to <strong class="source-inline">1</strong>. Notice, in the following screenshot, how the white lines in the <strong class="bold">Animation</strong> window have moved to roughly <strong class="source-inline">300</strong> (5 minutes):</li>
			</ol>
			<div>
				<div id="_idContainer152" class="IMG---Figure">
					<img src="image/Figure_4.62_B18381.jpg" alt="Figure 4.62 – Adding a second keyframe and changing the backGround_wallpaper Offset value&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.62 – Adding a second keyframe and changing the backGround_wallpaper Offset value</p>
			<ol>
				<li value="9">Try moving the <a id="_idIndexMarker485"/>white lines backward and forward (<strong class="bold">scrub</strong> is the term used<a id="_idIndexMarker486"/> for this by animators) between our two animation points. Notice how the stars on the quad are moving.</li>
			</ol>
			<p>Let's now do something similar with the <strong class="source-inline">warpStars_pe</strong> particle system:</p>
			<ol>
				<li value="1">Check that the <strong class="bold">Animation</strong> window is still locked and recording.</li>
				<li>Move the animation indicator line all the way back to the left to the start of the other animation keyframe.</li>
				<li>From the <strong class="bold">Hierarchy</strong> window, select <strong class="source-inline">warpStars_pe</strong>.</li>
			</ol>
			<p>In the <strong class="bold">Transform</strong> section of the <strong class="bold">Inspector</strong> tab, make the following changes:</p>
			<div>
				<div id="_idContainer153" class="IMG---Figure">
					<img src="image/Table_04.jpg" alt=""/>
				</div>
			</div>
			<p>Then, scrub (move) the <a id="_idIndexMarker487"/>white lines to the exact same spot as the starry background keyframe.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">We can click the <strong class="bold">Next Frame</strong> button in the <strong class="bold">Animation</strong> window to jump to the next keyframe (the button to the right of the <strong class="bold">Play</strong> button, not the Editor play button).</p>
			<p>With the <strong class="bold">Animation</strong> window still in recording and the <strong class="source-inline">warpStars_pe</strong> game object still selected, update its <strong class="bold">Transform</strong> settings in the <strong class="bold">Inspector</strong> window with the following values:</p>
			<div>
				<div id="_idContainer154" class="IMG---Figure">
					<img src="image/Table_05.jpg" alt=""/>
				</div>
			</div>
			<ol>
				<li value="4">Try scrubbing backward and forward in the <strong class="bold">Animation</strong> window to see how it looks in the <strong class="bold">Scene</strong> view. You should see the particles moving from right to left.</li>
				<li>In the <strong class="bold">Animation</strong> window, turn off the record setting.</li>
			</ol>
			<p>That's one animation down and one to go. The next process is similar to what we've already done but a little quicker.</p>
			<p>With the <strong class="bold">warpStarts_pe</strong> still selected in the <strong class="bold">Hierarchy</strong> window, and with the <strong class="bold">Animation</strong> window still open, do the following:</p>
			<ol>
				<li value="1">Click and drag to <a id="_idIndexMarker488"/>select all keyframes with your mouse, as in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer155" class="IMG---Figure">
					<img src="image/Figure_4.63_B18381.jpg" alt="Figure 4.63 – Select all keyframes&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.63 – Select all keyframes</p>
			<ol>
				<li value="2">Let go of the mouse and press <em class="italic">Ctrl</em> (or <em class="italic">Command</em> on macOS) + <em class="italic">C</em> to copy the keyframes.</li>
				<li>Let's now switch over to the <strong class="source-inline">BackGround_InGame_Speed</strong> animation by clicking on the name of our current animation and selecting the other, as in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer156" class="IMG---Figure">
					<img src="image/Figure_4.64_B18381.jpg" alt="Figure 4.64 – Selecting our second animation file, BackGround_InGame_Speed, in the &#13;&#10;Animation window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.64 – Selecting our second animation file, BackGround_InGame_Speed, in the Animation window</p>
			<ol>
				<li value="4">Notice how the name has changed to reflect the animation we are in.</li>
				<li>Now, click in the graph area and use the <em class="italic">Ctrl</em> (or <em class="italic">command</em> on macOS) + <em class="italic">V</em> keyboard commands.</li>
				<li>We should <a id="_idIndexMarker489"/>now have pasted the previous animation into this one. We can manipulate the results within the window, as in the following screenshot:<p class="callout-heading">Tip</p><p class="callout">If you can't see all keyframes in the <strong class="bold">Animation</strong> window, select an open area within the window and press <em class="italic">F</em> on the keyboard. This will auto-fit all keyframes in.</p></li>
			</ol>
			<div>
				<div id="_idContainer157" class="IMG---Figure">
					<img src="image/Figure_4.65_B18381.jpg" alt="Figure 4.65 – BackGround_InGame_Speed animation file with its pasted keyframes &#13;&#10;in the Animation window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.65 – BackGround_InGame_Speed animation file with its pasted keyframes in the Animation window</p>
			<p>Finally, we can manipulate<a id="_idIndexMarker490"/> the keyframes:</p>
			<ol>
				<li value="1">Click on the <strong class="bold">Animation</strong> window to start recording.</li>
				<li>From the <strong class="bold">Hierarchy</strong> window, select <strong class="source-inline">ScreenBackground</strong>.</li>
				<li>From the <strong class="bold">Inspector</strong> window, change the <strong class="source-inline">backGround_Wallpaper</strong> <strong class="bold">Offset</strong> setting <strong class="bold">X</strong> from <strong class="source-inline">-10</strong> to <strong class="source-inline">1</strong>.</li>
				<li>Click on the <strong class="bold">Next Frame</strong> button (the button to the right of <strong class="bold">Play</strong> in the <strong class="bold">Animation</strong> window) to go to the last frame and change the <strong class="bold">X</strong> value of <strong class="bold">Offset</strong> from <strong class="source-inline">1</strong> to <strong class="source-inline">2</strong>.</li>
				<li>Next, we <a id="_idIndexMarker491"/>alter the <strong class="source-inline">warpStars_pe</strong> animation within the <strong class="bold">Animation</strong> window. Click on the first <strong class="source-inline">warpStars_pe</strong> keyframe at the far left and press <em class="italic">Delete</em> on the keyboard. Now, move the last keyframe from the end to the beginning.</li>
			</ol>
			<p>Before we stop<a id="_idIndexMarker492"/> recording, we need to stop the animation from easing out (slowing down near the end of the animation).</p>
			<p>To make it so that our <strong class="source-inline">backGround_Wallpaper</strong> setting is on a fixed animation speed, we need to do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Animation</strong> window, click and drag to select all the keys.</li>
				<li>Right-click, and from the dropdown, select <strong class="bold">Both Tangents</strong> | <strong class="bold">Linear</strong>.</li>
				<li>Stop recording.</li>
			</ol>
			<p>Let's recap what we have done so far. We have taken the <strong class="bold">X</strong> value of <strong class="bold">Offset</strong> from the last animation and pasted it to the start of this animation. Then, we incremented the <strong class="bold">X</strong> value of <strong class="bold">Offset</strong> by <strong class="source-inline">1</strong> so that it comes back to the start of its <strong class="bold">X</strong> value of <strong class="bold">Offset</strong>.</p>
			<p>We moved the particles from left to right in the first animation; we kept the particles on the right in the second animation to stop the scene from being too cluttered and to show that we aren't going as fast.</p>
			<p>We are now at the final steps of the animation; the rest of the work is done within the Animator Controller. From the Animator Controller, we can state what needs looping and how our animations relate to each other.</p>
			<p>For the last time in this chapter, let's visit the animation controller and start splicing our states from one to another:</p>
			<ol>
				<li value="1">From the <strong class="bold">Hierarchy</strong> window, select the <strong class="source-inline">GameSpeed</strong> game object.</li>
				<li>Then, in the <strong class="bold">Inspector</strong> Animator component, double-click on <strong class="source-inline">GameSpeed_Controller</strong>.</li>
				<li>Now, click on the transition line between <strong class="source-inline">BackGround_Intro_Speed</strong> and <strong class="source-inline">BackGround_InGame_Speed</strong> (circled in the following reference screenshot).</li>
			</ol>
			<p>With regard to the transition between one animation and another, the following screenshot <a id="_idIndexMarker493"/>sets the example of these states via the two blue bars. Select the following settings:</p>
			<ul>
				<li><strong class="bold">Has Exit Time</strong>: Checked.</li>
			</ul>
			<p>The <strong class="bold">Has Exit Time</strong> tooltip reads <strong class="bold">Transition has a fixed exit time</strong>.</p>
			<ul>
				<li><strong class="bold">Exit Time</strong>: <strong class="source-inline">0.1</strong></li>
			</ul>
			<p>The <strong class="bold">Exit Time</strong> tooltip reads <strong class="bold">Exit time is the normalized time from the current state</strong>.</p>
			<ul>
				<li><strong class="bold">Fixed Duration</strong>: Checked.</li>
			</ul>
			<p>The <strong class="bold">Fixed Duration</strong> tooltip reads <strong class="bold">Transition duration is independent of state length</strong>.</p>
			<ul>
				<li><strong class="bold">Transition Duration (s)</strong>: <strong class="source-inline">2.5</strong></li>
			</ul>
			<p>The <strong class="bold">Transition Duration (s)</strong> tooltip reads <strong class="bold">Transition duration in seconds</strong>.</p>
			<ul>
				<li><strong class="bold">Transition Offset</strong>: <strong class="source-inline">0.1</strong></li>
			</ul>
			<p>The <strong class="bold">Transition Offset</strong> tooltip reads <strong class="bold">Normalized start time in the next state</strong>.</p>
			<ul>
				<li><strong class="bold">Interruption Source</strong>: <strong class="bold">None</strong></li>
			</ul>
			<p>The <strong class="bold">Interruption Source</strong> tooltip reads <strong class="bold">Can be interrupted by transitions from</strong>:</p>
			<div>
				<div id="_idContainer158" class="IMG---Figure">
					<img src="image/Figure_4.66_B18381.jpg" alt="Figure 4.66 – Transition values updated in the Inspector window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.66 – Transition values updated in the Inspector window</p>
			<p>The figures are rough <a id="_idIndexMarker494"/>for this transition. It's also quite unnatural to enter perfect figures for an animation. I recommend removing any enemies from the scene. Click the <strong class="bold">Play</strong> button and alter the selection bar above the graph. Each time this selection changes, the animation will play again. Keep an eye on the Animator Controller; you will see a progress bar start and end. This will help the timings of when the animation will splice over.</p>
			<p class="callout-heading">Information</p>
			<p class="callout">Animation transitions<a id="_idIndexMarker495"/> can help blend one animation into another. For example, if we want an animation to move into another in an exact time frame, we would focus on the <strong class="bold">Fixed Duration</strong> and <strong class="bold">Transition Duration</strong> parameters (shown in the previous screenshot).</p>
			<p class="callout">For more information<a id="_idIndexMarker496"/> on animation transitions, check out <a href="https://docs.unity3d.com/Manual/class-Transition.html">https://docs.unity3d.com/Manual/class-Transition.html</a>.</p>
			<p>The results I have are very smooth and work well, but I recommend forgetting the figures. Put the Editor in <strong class="bold">Play</strong> mode and drag the selection bar back and forth until you get the splice that is right for you.</p>
			<p>That is the end of the Animator Controller settings. It's one of those things that takes a long time to explain but is very quick to do once you know how.</p>
			<p>You might be eager to get back to coding as we have mainly been working in Unity's Editor tools. So, let's return to the IDE and start looking at animating next.</p>
			<h1 id="_idParaDest-103"><a id="_idTextAnchor105"/>Animating our three-dimensional enemies</h1>
			<p>Here's a really easy, quick <a id="_idIndexMarker497"/>animation with the script for your enemies. Currently, the enemies just move up and down in a wave pattern. However, the units themselves remain static.</p>
			<p>Let's give our enemies a bit of extra life with some code:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, go to <strong class="source-inline">Assets/Prefab/Enemies</strong>.</li>
				<li>Double-click on the <strong class="source-inline">enemy_wave</strong> prefab and select the <strong class="source-inline">enemy_wave_ring</strong> in the <strong class="bold">Hierarchy</strong> window.</li>
				<li>In the <strong class="bold">Inspector</strong> window, click on the <strong class="bold">Add Component</strong> button.</li>
				<li>Click on <strong class="bold">New Script</strong> at the bottom of the dropdown.</li>
				<li>Name the new C# script <strong class="source-inline">BasicEnemyRotate</strong>.</li>
				<li>Then, enter this code:<p class="source-code">using UnityEngine;</p><p class="source-code">public class BasicEnemyRotate : MonoBehaviour </p><p class="source-code">{</p><p class="source-code"> [SerializeField]</p><p class="source-code"> float speed = 0;</p><p class="source-code">void Update ()</p><p class="source-code">  {</p><p class="source-code">   transform.Rotate(Vector3.left*Time.deltaTime*speed);</p><p class="source-code">  }</p><p class="source-code">}</p></li>
			</ol>
			<p>This is a tiny script<a id="_idIndexMarker498"/> that animates the part of our enemy. There are two things to look closely at:</p>
			<ul>
				<li>The variable is a private float named <strong class="source-inline">speed</strong> with a <strong class="source-inline">SerializeField</strong> attribute<a id="_idIndexMarker499"/> so that it can be seen in the <strong class="bold">Inspector</strong> window. More about this attribute can be found at <a href="https://docs.unity3d.com/ScriptReference/SerializeField.html">https://docs.unity3d.com/ScriptReference/SerializeField.html</a>.</li>
				<li>In our <strong class="source-inline">Update</strong> function, we are rotating the game object over time based on the speed we are setting it at. I have set my enemy rotation speed to <strong class="source-inline">200</strong> in the <strong class="bold">Inspector</strong></li>
			</ul>
			<p>Once you have created, added and updated your script via the <strong class="bold">Inspector</strong> window, we need to save <strong class="source-inline">enemy_wave</strong> prefab new content.</p>
			<ol>
				<li value="1">To update the prefab click the left arrow in the top left corner of the <strong class="bold">Hierarchy</strong> window, as shown in the following image:</li>
			</ol>
			<div>
				<div id="_idContainer159" class="IMG---Figure">
					<img src="image/Figure_4.67_B18381.jpg" alt=""/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.67: Updating prefab content</p>
			<ol>
				<li value="2">A pop up window will appear to confirm the new changes, simply click <strong class="bold">Save</strong>.</li>
				<li>Now that you know how to update the prefab, select the <strong class="source-inline">enemy_wave</strong> prefab from the <strong class="bold">Project</strong> window again, double click it as before.</li>
			</ol>
			<p>Next we are going to update it's visuals by following these steps:</p>
			<ol>
				<li value="1">Expand the <strong class="source-inline">enemy_wave</strong> game object in the <strong class="bold">Hierarchy</strong> window and select <strong class="source-inline">enemy_wave_core</strong>.</li>
				<li>Select the small, round remote button to the right of the <strong class="bold">Element 0</strong> parameter in the <strong class="bold">Mesh Renderer</strong> component under the <strong class="bold">Inspector</strong> window.</li>
				<li>Select the <strong class="source-inline">basicEnemyShip_Inner</strong> material.</li>
				<li>Select <strong class="source-inline">enemy_wave_ring</strong> from the <strong class="bold">Hierarchy</strong> window.</li>
				<li>From the <strong class="bold">Inspector</strong> window, click on the small, round remote button in the <strong class="bold">Mesh Renderer</strong> component, and from the dropdown, select <strong class="source-inline">basicEnemyShip_Outer</strong>.</li>
				<li>Finally, update the prefab as we did before by clicking the arrow in the top left corner of the <strong class="bold">Hierarchy</strong> window and then clicking <strong class="bold">Save</strong> on the popup window..</li>
				<li>Click <strong class="bold">Play</strong> at the top of the <a id="_idIndexMarker500"/>Editor and we should now see our enemies rotating and in color:</li>
			</ol>
			<div>
				<div id="_idContainer160" class="IMG---Figure">
					<img src="image/Figure_4.68_B18381.jpg" alt="Figure 4.67 – Rotating enemies moving toward the player&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.67 – Rotating enemies moving toward the player</p>
			<p>Lastly, move all new<a id="_idIndexMarker501"/> scripts into the <strong class="source-inline">Script</strong> folder.</p>
			<p>Later on, we could speed up the enemies' rotation, depending on the player's skill level, to make them look more aggressive.</p>
			<p>This was a long chapter, but we covered particles and animation, which are important to know for the exam. With more practice and understanding, the benefits of what we've learned will really start to show. Now is a good time to get used to these two skills as they are commonly overlooked. It's these skills that will make you stand out from the rest.</p>
			<h1 id="_idParaDest-104"><a id="_idTextAnchor106"/>Summary</h1>
			<p>In this chapter, we jumped into the art world. We brought our player's ship to life, giving it a series of maps and a light. Then, we moved on to Unity's particle system and created a <strong class="source-inline">thruster</strong> object with an option to expand it. Then, we moved into animation and got our hands dirty, adding and animating the scene background and animating particle warp stars. We covered states and transitions, then calmed things down with some animation code for our enemies.</p>
			<p>That was a lot! If you ever revisit this chapter, you will go through it much quicker as you'll see, if you haven't already, that you can copy and paste animation keyframes, copy and paste particle systems, and tweak them. </p>
			<p>In the next chapter, we will look at a new scene where we upgrade the player's ship with the introduction of a shop before a level starts. We will also introduce the popular concept of <strong class="bold">free-to-play games</strong>, which is typically found in mobile games where the game is free to download, and the user is given the option of earning in-game credits by watching an advert.</p>
			<p>Well done! What you have learned will all contribute to your exam and future projects.</p>
		</div>
	</body></html>