<html><head></head><body><div class="chapter" title="Chapter&#xA0;5.&#xA0;Production"><div class="titlepage"><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Production</h1></div></div></div><p>The previous chapters introduced the key concepts of Microsoft Dynamics NAV as well as the details of the financial application and CRM. These horizontal modules can be implemented in most industries without big structural changes.</p><p>In this chapter, we will discuss three ways of implementing production in Microsoft Dynamics NAV using the standard functionality and customized features.</p><p>We'll discuss item tracking and item costing and what procedures and objects are used to get this working correctly in the application. For manufacturing, we will discuss the general concepts and data model rather than going into the details of each and every functional possibility.</p><p>We will also discuss kitting, which is only available in a limited number of countries such as North America, France, and Australia, but will most likely be moved to the worldwide version in future versions.</p><p>At the end of the chapter, we will look at the five different vertical industries and highlight two specific features of these industries that are not implemented in the standard product and discuss how the problems could be solved.</p><p>After reading this chapter, you will have a better understanding about the concepts of production in Microsoft Dynamics NAV, how this fits together with the rest of the application, and how to think out of the box if it does not immediately fit your process.</p><div class="section" title="What is production?"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec39"/>What is production?</h1></div></div></div><p>Production is<a class="indexterm" id="id568"/> the process of creating a new product using raw materials or prefabricated items and resources.</p><p>Production as we know it today started centuries before the industrial revolution with craftsmen and assistants creating products using raw materials produced by nature and farmers. Today, this method of production still exists for many luxury items such as custom-made furniture or clothes.</p><p>The industrial revolution changed production into manufacturing, with the introduction of machines and mass production. This<a class="indexterm" id="id569"/> allowed production to grow by being less dependent on craftsmen and manual labor.</p><div class="mediaobject"><img alt="What is production?" src="graphics/0365EN_05_01.jpg"/></div><p>The introduction of computers in manufacturing companies allows the production of more sophisticated items and has made manufacturing more flexible.</p><p>To implement Microsoft Dynamics NAV for production companies, it is crucial to understand which level of production is being used in your company.</p><div class="section" title="Production methodologies"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec82"/>Production methodologies</h2></div></div></div><p>In this chapter, we will <a class="indexterm" id="id570"/>differentiate between the following three production methodologies:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Assembling production</strong></span>: When <a class="indexterm" id="id571"/>production<a class="indexterm" id="id572"/> is combining items into one new item without changing the items or scrap, we will refer to it as assembling.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Manufactured production</strong></span>: This <a class="indexterm" id="id573"/>is the <a class="indexterm" id="id574"/>most complex production method to be implemented in Microsoft Dynamics NAV. Raw materials are combined into one or more products leaving scrap.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Specialized production</strong></span>: These <a class="indexterm" id="id575"/>are often one <a class="indexterm" id="id576"/>off items or items produced in small numbers. The system should support the basics of the production process but should still be flexible enough to fit the company.</li></ul></div></div><div class="section" title="Raw materials"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec83"/>Raw materials</h2></div></div></div><p>Each<a class="indexterm" id="id577"/> product<a class="indexterm" id="id578"/> we consume starts out as raw materials, such as cotton, iron ore, logs, and oil, which are then processed to be used in a production process. Other raw materials are water and air or fruits and vegetables. All raw <a class="indexterm" id="id579"/>materials are produced by mother nature. The production of some raw materials such as logs, cotton, fruits, and vegetables, can be influenced by humans. Other raw materials are more limited such as iron ore, oil, and water.</p></div></div></div>
<div class="section" title="Basic production principles"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec40"/>Basic production principles</h1></div></div></div><p>Before going<a class="indexterm" id="id580"/> into Microsoft Dynamics NAV, we will discuss some terminology that is important to understand the concepts of production in ERP.</p><div class="section" title="Bill of materials"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec84"/>Bill of materials</h2></div></div></div><p>The<a class="indexterm" id="id581"/> bill of materials<a class="indexterm" id="id582"/> defines what components are used to assemble or manufacture one item. The components in the bill of materials are also items, so before creating a new bill of materials, all component items must be created in the system.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note18"/>Note</h3><p>In Microsoft Dynamics NAV, there are two separate bill of material definitions, one for assembling and the other for manufacturing.</p></div></div></div><div class="section" title="Material requirements planning"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec85"/>Material requirements planning</h2></div></div></div><p>
<span class="strong"><strong>Material requirements planning</strong></span> (<span class="strong"><strong>MRP</strong></span>)<a class="indexterm" id="id583"/> was introduced in the 1960s as a calculation method for production scheduling and was quickly replaced by <a class="indexterm" id="id584"/>
<span class="strong"><strong>Manufacturing Resource Planning</strong></span> (<span class="strong"><strong>MRP II</strong></span>).</p><p>While ERP replaces MRP, MRP is still a crucial part of ERP applications.</p><p>Microsoft Dynamics NAV has a built-in MRP algorithm but also allows developers to create their own algorithms using the built-in data model. MRP analyzes dependent demand, which is demand that comes from production orders for components.</p><div class="section" title="Garbage In Garbage Out"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec59"/>Garbage In Garbage Out</h3></div></div></div><p>The biggest risk in <a class="indexterm" id="id585"/>running MRP algorithms <a class="indexterm" id="id586"/>is the <span class="strong"><strong>Garbage In Garbage Out</strong></span> (<span class="strong"><strong>GIGO</strong></span>) principle. To plan well, the data in the system must be absolutely correct or the planning will contain errors.</p><p>If, for example, the shipment dates in the sales orders are not entered correctly, the planning algorithm has no chance of giving correct results. The garbage in (wrong dates) will result in<a class="indexterm" id="id587"/> garbage out (wrong planning).</p></div></div><div class="section" title="Master Production Schedule"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec86"/>Master Production Schedule</h2></div></div></div><p>
<span class="strong"><strong>Master Production Schedule</strong></span> (<span class="strong"><strong>MPS</strong></span>)<a class="indexterm" id="id588"/> is the term used for production planning and scheduling. An MPS is <a class="indexterm" id="id589"/>used for decision making, linking supply and demand. It analyzes independent demand, that is, demand that comes from sales orders, service orders, and the production forecast.</p></div><div class="section" title="Item costing"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec87"/>Item costing</h2></div></div></div><p>For manufacturing companies, it is <a class="indexterm" id="id590"/>crucial to be<a class="indexterm" id="id591"/> able to calculate real item costing and profitability. The cost of an item consists of the costs of all the components it was created from, as well as the production time and cost of any machinery used.</p><p>In production companies, high costs are incurred before an item can be even manufactured and sold. Machines need to be purchased and installed and new manufacturing plants may need to be built.</p></div><div class="section" title="Item tracking"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec88"/>Item tracking</h2></div></div></div><p>Item tracking<a class="indexterm" id="id592"/> is a relatively new concept that <a class="indexterm" id="id593"/>was introduced due to the need to be able to trace back an item to its original production batch in the supply chain. Whenever something is wrong with a specific item, it is interesting to see whether other items that were produced in the same batch have the same issue and maybe even require a recall of all items.</p></div><div class="section" title="Quality control"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec89"/>Quality control</h2></div></div></div><p>During the <a class="indexterm" id="id594"/>production process and especially<a class="indexterm" id="id595"/> at the end, quality control is a crucial stage. Items can be rejected completely or may require extra handling.</p><p>In quality control, items are checked for mistakes. The way this is done depends on the production process. In the automobile industry, all cars are checked individually, while in the chemical industry, parts of batches are taken out and checked, assuming that the rest of the batch has the same quality.</p><p>Quality control is always at the end of the production process but can also be in between each of the main production processes. Sometimes, the item that is manufactured depends on the result of quality control. In this case, each level of quality is represented by a special item number.</p></div><div class="section" title="Energy and waste"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec90"/>Energy and waste</h2></div></div></div><p>When <a class="indexterm" id="id596"/>manufacturing an item, the <a class="indexterm" id="id597"/>obvious components are the items in the bill of materials. It is becoming exceedingly crucial to use less energy and leave less waste materials in this process as our environment is becoming more and more vulnerable. As recycling is becoming increasingly important, these components have a bigger pressure on production cost and planning.</p></div><div class="section" title="Association for Operations Management"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec91"/>Association for Operations Management</h2></div></div></div><p>To learn <a class="indexterm" id="id598"/>more <a class="indexterm" id="id599"/>about production, it is interesting to study the materials provided by the <span class="strong"><strong>Association for Operations Management</strong></span> (<span class="strong"><strong>APICS</strong></span>). APICS is the organization that is recognized worldwide as the leading authority on manufacturing standards, similar to how the W3C is considered the authority on XML standards.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note19"/>Note</h3><p>More information <a class="indexterm" id="id600"/>about APICS can be found at <a class="ulink" href="http://www.apics.org/">http://www.apics.org/</a>.</p></div></div></div></div>
<div class="section" title="Getting started"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec41"/>Getting started</h1></div></div></div><p>Let's walk through two scripts to generate a new item with a bill of materials: one for an assembling process and the other for manufacturing.</p><p>We will set up both, item costing and item tracking for these products.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note20"/>Note</h3><p>The examples are created using a CRONUS W1 Microsoft Dynamics NAV 2013 Release 2 database without changes.</p></div></div><div class="section" title="Assembling"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec92"/>Assembling</h2></div></div></div><p>In our <a class="indexterm" id="id601"/>company, we<a class="indexterm" id="id602"/> want to start producing office chairs. These chairs consist of five wheels, a pedestal, a seat, and two arm rests. We will create these four components as a new item and one new item for the end product.</p><p>All the items will have a different costing method to demonstrate the effect of cost changes. The end product will support serial number item tracking with a one year warranty period.</p><div class="section" title="Design patterns"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec60"/>Design patterns</h3></div></div></div><p>Before going<a class="indexterm" id="id603"/> into the application, we will have a look at how this process is solved in Microsoft Dynamics NAV. The following diagram illustrates the process:</p><div class="mediaobject"><img alt="Design patterns" src="graphics/0365EN_05_02.jpg"/></div><p>It starts with creating the components and end products as items in the database and connecting them using the <span class="strong"><strong>BOM Component</strong></span> table. A <span class="strong"><strong>BOM Component</strong></span>
<a class="indexterm" id="id604"/> can also contain <span class="strong"><strong>Resources</strong></span>.</p><p>If the components are in stock, we can use the assembly documents to create the products. When posting the assembly document, the components are consumed and the product is created. During<a class="indexterm" id="id605"/> this process, the<a class="indexterm" id="id606"/> system will create <a class="indexterm" id="id607"/>
<span class="strong"><strong>Resource Ledger Entries</strong></span>, <span class="strong"><strong>Item Ledger Entries</strong></span>, and <span class="strong"><strong>Value Entries</strong></span>.</p><p>The <span class="strong"><strong>Value Entries</strong></span> can be posted in the general ledger using the <span class="strong"><strong>Inventory Posting to G/L</strong></span> routine, either<a class="indexterm" id="id608"/> manual or in real time. This completes the process.</p></div><div class="section" title="The items"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec61"/>The items</h3></div></div></div><p>For this <a class="indexterm" id="id609"/>example, we will need to create five items, four components, and one end product. We will assign an estimated unit cost to the components and a unit price to the end product, as shown in the following table:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>No.</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th><th style="text-align: left" valign="bottom">
<p>Base UOM</p>
</th><th style="text-align: left" valign="bottom">
<p>Unit cost</p>
</th><th style="text-align: left" valign="bottom">
<p>Unit price</p>
</th><th style="text-align: left" valign="bottom">
<p>Costing</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C1</p>
</td><td style="text-align: left" valign="top">
<p>Chapter 5 | Wheel</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top">
<p>5</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>FIFO</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C2</p>
</td><td style="text-align: left" valign="top">
<p>Chapter 5 | Pedestal</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top">
<p>60</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>LIFO</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C3</p>
</td><td style="text-align: left" valign="top">
<p>Chapter 5 | Seat</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top">
<p>120</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>Average</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C4</p>
</td><td style="text-align: left" valign="top">
<p>Chapter 5 | Arm Rest</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top">
<p>35</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>Standard</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-P1</p>
</td><td style="text-align: left" valign="top">
<p>Chapter 5 | Office Chair</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>500</p>
</td><td style="text-align: left" valign="top">
<p>Specific</p>
</td></tr></tbody></table></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note21"/>Note</h3><p>In a real implementation, we would never set up a bill of materials with so many different costing methods for each item. This is strictly for the purpose of explaining what each costing method does and that Microsoft Dynamics NAV is technically capable of dealing with this.</p></div></div></div><div class="section" title="Item costing"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec62"/>Item costing</h3></div></div></div><p>Item costing<a class="indexterm" id="id610"/> determines the calculation method of the item costs. We will assign a different costing method to each Item. Let's briefly discuss the available costing methods in Microsoft Dynamics NAV:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>FIFO</strong></span>: First in First out. The <a class="indexterm" id="id611"/>cost of the oldest item ledger entry is used.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>LIFO</strong></span>: Last<a class="indexterm" id="id612"/> in First out. The cost of the newest item ledger entry is used.<div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip29"/>Tip</h3><p>When using FIFO or LIFO, the cost is applied within <span class="strong"><strong>Lot No.</strong></span> if item tracking is used with Lot numbering. That is, the cost associated with the specific <span class="strong"><strong>Lot No.</strong></span> is used.</p></div></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Average</strong></span>: Each<a class="indexterm" id="id613"/> time we purchase items, the total costs are divided by the total quantity. The result is used as unit cost.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Standard</strong></span>: The<a class="indexterm" id="id614"/> user will define the unit cost manually. All deviations in purchase pricing are posted as profit or loss when invoicing.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Specific</strong></span>: This<a class="indexterm" id="id615"/> is always combined with item tracking and serial numbers. Each serial number uses its own unique unit cost.<div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note22"/>Note</h3><p>The costing methods are not related to the warehouse picking method but only apply to financial costing calculations.</p></div></div></li></ul></div></div><div class="section" title="Item tracking"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec63"/>Item tracking</h3></div></div></div><p>All our<a class="indexterm" id="id616"/> chairs will get a serial number with a one year warranty period. This enables us to track all individual chairs when they come back to the factory with issues.</p><div class="mediaobject"><img alt="Item tracking" src="graphics/0365EN_05_03.jpg"/></div><p>Item tracking in <a class="indexterm" id="id617"/>Microsoft Dynamics NAV can be done both on individual Serial numbers and Lot numbers for a group of items.</p><p>
<span class="strong"><strong>Serial Numbers</strong></span> and <span class="strong"><strong>Lot Numbers</strong></span> are fields in the Item Ledger Entry table (32). The consequence of this will be that for each serial number or Lot number, an individual record will be created in the table. When using serial numbers, this can lead to a massive increase in the table size.</p><p>The Lot numbers and item numbers are saved in the Reservation Entry table (337) during the document entry process. A reservation entry can be assigned to any table in Microsoft Dynamics NAV, for example, sales lines, item journal lines, or production order.</p><p>When a document is <a class="indexterm" id="id618"/>posted and the item ledger entry is created, the reservation entry is removed and replaced by a tracking specification record that has the same value in the <span class="strong"><strong>Entry No.</strong></span> field as the corresponding item ledger entry.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note23"/>Note</h3><p>A reservation entry used for item tracking should not be confused with normal reservation entries in the sales and purchase process.</p></div></div><p>The process of item tracking in Microsoft Dynamics NAV works as drawn in the following schema:</p><div class="mediaobject"><img alt="Item tracking" src="graphics/0365EN_05_04.jpg"/></div><p>Technically, item tracking in Microsoft Dynamics NAV is very complex and should only be changed by experienced developers after careful analysis.</p><p>We will discuss the reservation process in more detail in <a class="link" href="ch06.html" title="Chapter 6. Trade">Chapter 6</a>, <span class="emphasis"><em>Trade</em></span>.</p></div><div class="section" title="The bill of materials"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec64"/>The bill of materials</h3></div></div></div><p>When the <a class="indexterm" id="id619"/>items are created, the costing method is defined and item tracking is set up. The next step is to create the bill of materials for the office chair. This can be done using the <span class="strong"><strong>Bill of Materials</strong></span> option in the <span class="strong"><strong>Assembly List</strong></span> in the <span class="strong"><strong>Item List</strong></span> or <span class="strong"><strong>Card</strong></span> page.</p><p>The bill of materials defines the component items and resources that will be used to create one new end product.</p><div class="mediaobject"><img alt="The bill of materials" src="graphics/0365EN_05_05.jpg"/></div><p>We set up the <a class="indexterm" id="id620"/>components as discussed earlier using five wheels, one pedestal, and seat and two arm rests.</p><div class="mediaobject"><img alt="The bill of materials" src="graphics/0365EN_05_06.jpg"/></div></div><div class="section" title="Calculating the standard cost"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec65"/>Calculating the standard cost</h3></div></div></div><p>The components <a class="indexterm" id="id621"/>we selected for the bill of materials have a unit cost. Together these items can determine the unit cost of our end product.</p><p>We can calculate the standard cost of the office chair by selecting <span class="strong"><strong>Calc. Standard Cost</strong></span> in the same <span class="strong"><strong>Assembly</strong></span> menu we used for the bill of materials.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note24"/>Note</h3><p>The name <span class="strong"><strong>Calc. Standard Cost</strong></span> in the calculation option is not to be confused with the costing method. This function should be executed for all costing methods.</p></div></div><div class="mediaobject"><img alt="Calculating the standard cost" src="graphics/0365EN_05_07.jpg"/></div><p>The standard cost is now calculated using the unit cost of the components and the overhead rate and indirect cost percent. We will not use the latter in our example.</p><div class="informalexample"><pre class="programlisting">((5*5) + (1*60) + (1*120) + (2*35)) = 275</pre></div></div><div class="section" title="Creating the inventory"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec66"/>Creating the inventory</h3></div></div></div><p>Before we can <a class="indexterm" id="id622"/>assemble the chairs, we need to purchase the components. For this, we will create a purchase order with eight purchase lines. We will purchase the components for other prices than the unit cost in the system, allowing us to show what the impact of the costing methods is.</p><div class="mediaobject"><img alt="Creating the inventory" src="graphics/0365EN_05_08.jpg"/></div><p>The purchase order<a class="indexterm" id="id623"/> will be received and invoiced.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note25"/>Note</h3><p>If the purchase order is only received and not invoiced, the example might not work because expected cost posting to G/L is not activated in the CRONUS database.</p></div></div></div><div class="section" title="Adjusting cost item entries"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec67"/>Adjusting cost item entries</h3></div></div></div><p>The purchase order <a class="indexterm" id="id624"/>we just created, received, and invoiced has a different unit cost compared to the unit cost we initially set up in our items.</p><p>Depending on the costing method of the items, this will have an impact on the unit cost. When we take a look at the new unit cost of the items we created, we can see that this was impacted by the purchase order. However, the values are not correct. The system only adopts the first change of unit cost.</p><div class="mediaobject"><img alt="Adjusting cost item entries" src="graphics/0365EN_05_09.jpg"/></div><p>To correct this, we need to run the Adjust Cost Item Entries (Report 795) batch. This will determine the new unit cost based on the costing method.</p><div class="mediaobject"><img alt="Adjusting cost item entries" src="graphics/0365EN_05_10.jpg"/></div><p>The unit cost for<a class="indexterm" id="id625"/> FIFO, LIFO, and average have been recalculated while the standard cost has not been impacted by the transactions.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note26"/>Note</h3><p>The <span class="strong"><strong>Adjust Cost Item Entries</strong></span> report should be scheduled to run periodically in your database. Even if the database is set to use Expected Cost Posting and Auto Cost Posting.</p></div></div></div><div class="section" title="Posting inventory cost to G/L"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec68"/>Posting inventory cost to G/L</h3></div></div></div><p>Microsoft Dynamics NAV supports <a class="indexterm" id="id626"/>posting the inventory cost to the general ledger. This enables accountants to have a single point for data analysis rather than printing an inventory report and using the figures manually for reports to the management.</p><p>This can be done using the <span class="strong"><strong>Post Inventory Cost to G/L</strong></span> function (report 1002), as shown in the following screenshot:</p><div class="mediaobject"><img alt="Posting inventory cost to G/L" src="graphics/0365EN_05_11.jpg"/></div></div><div class="section" title="Check, check, and double check"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec69"/>Check, check, and double check</h3></div></div></div><p>To check whether the value<a class="indexterm" id="id627"/> entries and the general ledger are synchronized, we can run Inventory Valuation (Report 1001). This will show us the inventory value versus the amount posted to the general ledger.</p><div class="mediaobject"><img alt="Check, check, and double check" src="graphics/0365EN_05_12.jpg"/></div></div><div class="section" title="Recalculating the standard unit cost"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec70"/>Recalculating the standard unit cost</h3></div></div></div><p>The standard unit cost <a class="indexterm" id="id628"/>we calculated for our office chair was 275. This was based on our assumption of purchase prices. Now that we have really purchased and received the components, we can calculate a new unit cost based on the real prices.</p><p>In this example, the price will still be <code class="literal">275</code> since the total price of all purchased items is <code class="literal">550</code>. The inventory allows us to make two chairs with these materials:</p><div class="informalexample"><pre class="programlisting">(550 / 2) = 275</pre></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note27"/>Note</h3><p>With this calculation method, it is possible to check the results of the Calculate Unit Cost algorithm.</p></div></div></div><div class="section" title="Assembly orders"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec71"/>Assembly orders</h3></div></div></div><p>Now that we <a class="indexterm" id="id629"/>have the components in stock and the unit cost correct, we can create a chair. We will do this using an assembly order.</p><p>In the assembly order, we need to create one line for each item we want to assemble. The components are automatically used when posting the order. We will use the Purchasing Agent Role Center (9007) for this.</p><div class="mediaobject"><img alt="Assembly orders" src="graphics/0365EN_05_13.jpg"/><div class="caption"><p>Assembly orders</p></div></div><p>After creating a document for the office chair, while trying to post the document, we will receive an error message because we first need to specify the serial numbers.</p><div class="mediaobject"><img alt="Assembly orders" src="graphics/0365EN_05_14.jpg"/><div class="caption"><p>Specifying Serial Number</p></div></div><p>Serial numbers <a class="indexterm" id="id630"/>and Lot numbers can be set up using the <span class="strong"><strong>Item Tracking Lines</strong></span> option. This opens the <span class="strong"><strong>Item Tracking Line</strong></span> page (6510). This page is able to show both the reservation entries during the registration process as well as the tracking specification if the item ledger entry is already created.</p><p>We will manually create a new serial number. Microsoft Dynamics NAV also supports system generated serial numbers.</p><div class="mediaobject"><img alt="Assembly orders" src="graphics/0365EN_05_15.jpg"/></div><p>We can now<a class="indexterm" id="id631"/> post this assembly order and will have one office chair in stock with a serial number.</p></div><div class="section" title="Check costing (again)"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec72"/>Check costing (again)</h3></div></div></div><p>Creating the <a class="indexterm" id="id632"/>office chair changed the inventory of the component items and therefore might have affected the costing of our items. However, when we now check our items, the unit cost has not changed.</p><div class="mediaobject"><img alt="Check costing (again)" src="graphics/0365EN_05_16.jpg"/></div><p>Even so, with the current inventory, the unit cost might be different. Remember we used 5 wheels using FIFO costing 4 and one seat using LIFO costing 70.</p><p>Let's run <span class="strong"><strong>Adjust Cost Entries</strong></span> using the <span class="strong"><strong>Posting to G/L</strong></span> option:</p><div class="mediaobject"><img alt="Check costing (again)" src="graphics/0365EN_05_17.jpg"/></div><p>The unit cost has changed and now shows us that we have used the first five wheels using FIFO, leaving the<a class="indexterm" id="id633"/> other five wheels in the inventory for a value of <span class="strong"><strong>5</strong></span>. We used the last seat using LIFO, leaving the first seat in the inventory for a value of <span class="strong"><strong>70</strong></span>.</p><p>When we run the <span class="strong"><strong>Inventory Valuation</strong></span>, we can see that producing the first chair actually costs <span class="strong"><strong>267,50</strong></span> but we posted <span class="strong"><strong>275</strong></span>.</p><div class="mediaobject"><img alt="Check costing (again)" src="graphics/0365EN_05_18.jpg"/></div></div><div class="section" title="Recalculating the unit cost (again)"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec73"/>Recalculating the unit cost (again)</h3></div></div></div><p>When we<a class="indexterm" id="id634"/> run <span class="strong"><strong>Calculate Unit Cost</strong></span> for our office chair, we can see that the new cost will be <code class="literal">282,50</code>.</p><div class="informalexample"><pre class="programlisting">(5*5) + (1*70) + (1* 117,50) + (2*35) = 282,50</pre></div><p>Together with the first chair worth <code class="literal">267,50</code>, we match our purchase invoice worth 550.</p></div><div class="section" title="Standard cost worksheet"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec74"/>Standard cost worksheet</h3></div></div></div><p>We need to <a class="indexterm" id="id635"/>correct the cost of the first chair, which is currently on inventory to have a correct inventory value. We can do this using the <span class="strong"><strong>Standard Cost Worksheets</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img alt="Standard cost worksheet" src="graphics/0365EN_05_19.jpg"/></div><p>This worksheet allows us to correct old value entries by creating an entry in the Item Revaluation Journal when we select the <span class="strong"><strong>Implement Standard Cost Change</strong></span> option. This will create a new value entry with the delta values to keep track of changes.</p><div class="mediaobject"><img alt="Standard cost worksheet" src="graphics/0365EN_05_20.jpg"/></div></div><div class="section" title="Item Revaluation Journal"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec75"/>Item Revaluation Journal</h3></div></div></div><p>The last <a class="indexterm" id="id636"/>step is to post the <span class="strong"><strong>Item Revaluation Journal</strong></span> and run the <span class="strong"><strong>Post Inventory Cost to G/L</strong></span> routine.</p><div class="mediaobject"><img alt="Item Revaluation Journal" src="graphics/0365EN_05_21.jpg"/></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note28"/>Note</h3><p>We also need to run the <span class="strong"><strong>Calculate Standard Cost</strong></span> for the office chair since this batch will reset the unit cost to <span class="strong"><strong>267,50</strong></span>.</p></div></div></div><div class="section" title="The result"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec76"/>The result</h3></div></div></div><p>When we now <a class="indexterm" id="id637"/>run the <span class="strong"><strong>Inventory Valuation Report</strong></span>, we can see that the <span class="strong"><strong>Office Chair</strong></span> on stock is worth <span class="strong"><strong>267,50</strong></span> and the remaining inventory is <span class="strong"><strong>282,50</strong></span>:</p><div class="mediaobject"><img alt="The result" src="graphics/0365EN_05_22.jpg"/></div></div></div><div class="section" title="Summarizing item costing in 10 steps"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec93"/>Summarizing item costing in 10 steps</h2></div></div></div><p>All the<a class="indexterm" id="id638"/> steps we <a class="indexterm" id="id639"/>performed in the example can be summarized in this 10 step process diagram:</p><div class="mediaobject"><img alt="Summarizing item costing in 10 steps" src="graphics/0365EN_05_23.jpg"/></div><p>Let's have a<a class="indexterm" id="id640"/> look at the steps briefly:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We start by creating new items and setting up the costing method.</li><li class="listitem">Then we create the bill of materials for the production item.</li><li class="listitem">Run the <span class="strong"><strong>Calculate Standard Cost</strong></span> routine to get a unit cost for the production item.</li><li class="listitem">Purchase the necessary items for production.</li><li class="listitem">Run the <span class="strong"><strong>Adjust Cost Item Entries</strong></span> routine.</li><li class="listitem">Synchronize the value entries with the G/L Entries using the <span class="strong"><strong>Post Inventory Cost to G/L</strong></span> routine.</li><li class="listitem">Recalculate the standard cost if desired.</li><li class="listitem">Create an assembly order and post the document.</li><li class="listitem">Run <span class="strong"><strong>Standard Cost Worksheet</strong></span> to change the standard cost.</li><li class="listitem">Run the <span class="strong"><strong>Item Revaluation Journal</strong></span> to implement the standard cost for old value entries.</li></ol></div></div><div class="section" title="Manufacturing"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec94"/>Manufacturing</h2></div></div></div><p>The <a class="indexterm" id="id641"/>assembly<a class="indexterm" id="id642"/> management module was added to the Microsoft Dynamics NAV product in Version 2013 and replaced the BOM Journal that existed since the introduction of the Windows version in 1995. Both enable us to create a new item out of other items.</p><p>In Version 2.01, Navision introduced the first version of Navision manufacturing. This was a separate product from Navision financials and only available for certified partners because of its complexity.</p><p>With Version 3.00, manufacturing became part of the standard Navision attain package and available for all partners. Manufacturing offers Microsoft Dynamics NAV users much more functionality than just creating an item from a bill of materials. Production orders can be scheduled using work centers, machine centers, tools, and a capacity calendar.</p><p>The items can be scheduled for production using either a Make-To-Stock or a Make-To-Order policy in a planning run.</p><p>The system calculates the required BOM components and can create purchase orders if the inventory is insufficient using a complex demand and supply process. If we put this into a design pattern, it looks like this:</p><div class="mediaobject"><img alt="Manufacturing" src="graphics/0365EN_05_24.jpg"/></div><p>The <span class="strong"><strong>Production Order</strong></span>
<a class="indexterm" id="id643"/> is the center of the process, which is created by items having a <span class="strong"><strong>Production BOM</strong></span> that are either on sales order or low on inventory.</p><p>The <span class="strong"><strong>Planning Run</strong></span>
<a class="indexterm" id="id644"/> populates the <a class="indexterm" id="id645"/>
<span class="strong"><strong>Planning Worksheet</strong></span>, which is based on the <a class="indexterm" id="id646"/>
<span class="strong"><strong>Requisition Line</strong></span> table (246). The planning worksheet can be used to create the production orders and purchase orders.</p><p>During the production process, the <span class="strong"><strong>Consumption Journal</strong></span>
<a class="indexterm" id="id647"/> is used to record the use of the child items from <span class="strong"><strong>Production BOM</strong></span>
<a class="indexterm" id="id648"/> and the <span class="strong"><strong>Output Journal</strong></span>
<a class="indexterm" id="id649"/> creates the new item once it is finished. Alternatively, these steps <a class="indexterm" id="id650"/>can be combined in the <span class="strong"><strong>Production Journal</strong></span>.</p><p>Let's demonstrate this<a class="indexterm" id="id651"/> with the next example using the <a class="indexterm" id="id652"/>
<span class="strong"><strong>Production Planner</strong></span> role center (9010).</p><p>We will create mahogany English desks using raw materials, machines, and resources.</p><div class="section" title="The items, machines, and work centers"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec77"/>The items, machines, and work centers</h3></div></div></div><p>For the <a class="indexterm" id="id653"/>desks, we need mahogany wood, green leather, glue, lacquer, and handles. To<a class="indexterm" id="id654"/> create one desk, the carpenter needs four days and one carpentry unit with tools. The painter needs one day to varnish the desk in the <a class="indexterm" id="id655"/>paint booth and the assembly department wraps up the components in boxes and needs four hours.</p><p>We need the following items for this example:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>No.</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th><th style="text-align: left" valign="bottom">
<p>Base UOM</p>
</th><th style="text-align: left" valign="bottom">
<p>Replenishment System</p>
</th><th style="text-align: left" valign="bottom">
<p>Unit Cost</p>
</th><th style="text-align: left" valign="bottom">
<p>Unit Price</p>
</th><th style="text-align: left" valign="bottom">
<p>Manufacturing Policy</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-P1</p>
</td><td style="text-align: left" valign="top">
<p>Mahogany English Desk</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top">
<p>Prod. Order</p>
</td><td style="text-align: left" valign="top">
<p>286,25</p>
</td><td style="text-align: left" valign="top">
<p>999</p>
</td><td style="text-align: left" valign="top">
<p>Make-to-Order</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C1</p>
</td><td style="text-align: left" valign="top">
<p>Mahogany Log</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top">
<p>Purchase</p>
</td><td style="text-align: left" valign="top">
<p>100</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>-</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C2</p>
</td><td style="text-align: left" valign="top">
<p>Green Leather</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top">
<p>Purchase</p>
</td><td style="text-align: left" valign="top">
<p>60</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>-</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C3</p>
</td><td style="text-align: left" valign="top">
<p>Glue</p>
</td><td style="text-align: left" valign="top">
<p>CAN</p>
</td><td style="text-align: left" valign="top">
<p>Purchase</p>
</td><td style="text-align: left" valign="top">
<p>15</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>-</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C4</p>
</td><td style="text-align: left" valign="top">
<p>Mahogany Lacquer</p>
</td><td style="text-align: left" valign="top">
<p>CAN</p>
</td><td style="text-align: left" valign="top">
<p>Purchase</p>
</td><td style="text-align: left" valign="top">
<p>25</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>-</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>CHAPTER5-C5</p>
</td><td style="text-align: left" valign="top">
<p>English Desk Handles</p>
</td><td style="text-align: left" valign="top">
<p>PCS</p>
</td><td style="text-align: left" valign="top">
<p>Purchase</p>
</td><td style="text-align: left" valign="top">
<p>10</p>
</td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top">
<p>-</p>
</td></tr></tbody></table></div><p>The following list is for machine centers:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>No.</p>
</th><th style="text-align: left" valign="bottom">
<p>Name</p>
</th><th style="text-align: left" valign="bottom">
<p>Work Center No.</p>
</th><th style="text-align: left" valign="bottom">
<p>Capacity</p>
</th><th style="text-align: left" valign="bottom">
<p>Efficiency</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>01-CARP</p>
</td><td style="text-align: left" valign="top">
<p>Std. Carpentry Unit w. Tools</p>
</td><td style="text-align: left" valign="top">
<p>400</p>
</td><td style="text-align: left" valign="top">
<p>1</p>
</td><td style="text-align: left" valign="top">
<p>100</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>02-PAINT</p>
</td><td style="text-align: left" valign="top">
<p>Paint Booth</p>
</td><td style="text-align: left" valign="top">
<p>300</p>
</td><td style="text-align: left" valign="top">
<p>1</p>
</td><td style="text-align: left" valign="top">
<p>100</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>03-PACK</p>
</td><td style="text-align: left" valign="top">
<p>Packaging Department</p>
</td><td style="text-align: left" valign="top">
<p>200</p>
</td><td style="text-align: left" valign="top">
<p>1</p>
</td><td style="text-align: left" valign="top">
<p>100</p>
</td></tr></tbody></table></div></div><div class="section" title="Capacity"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec78"/>Capacity</h3></div></div></div><p>The planning <a class="indexterm" id="id656"/>run and the requisition worksheets will use capacity if it is defined. The capacity is defined for each <span class="strong"><strong>Work Center</strong></span> and <span class="strong"><strong>Machine Center</strong></span>.</p><p>The capacity is stored in the <span class="strong"><strong>Calendar Entries</strong></span>, which are created using codeunit <span class="strong"><strong>CalendarManagement (99000755)</strong></span> and reports <span class="strong"><strong>Calculate Work Center Calendar (99001046)</strong></span> and Calc. Machine <span class="strong"><strong>Center Calendar (99001045)</strong></span>. Capacity is based on the concurrent capacity, from either the machine or work center, and the assigned shop calendar.</p><p>Just like the interaction log entries, the calendar entries are directly inserted instead of going through a journal first.</p><div class="mediaobject"><img alt="Capacity" src="graphics/0365EN_05_25.jpg"/><div class="caption"><p>Calendar entries</p></div></div><p>When properly configured, the <span class="strong"><strong>Planning Worksheet</strong></span> will calculate the starting and ending dates for the production order and each operation in order to meet the shipment date on the sales order line.</p></div><div class="section" title="Production bill of materials"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec79"/>Production bill of materials</h3></div></div></div><p>Setting up the <a class="indexterm" id="id657"/>Production bill of materials for manufacturing is not much different from the assembly functionality but it contains extra functionality.</p><p>The Production BOM uses its own header record with a number series, description, and search description. The <span class="strong"><strong>Status</strong></span> field is used to determine whether the product is new, certified, under development, or closed. Together with the versioning, it enables us to maintain multiple BOMs during the product's life cycle.</p><div class="mediaobject"><img alt="Production bill of materials" src="graphics/0365EN_05_26.jpg"/></div><p>The components <a class="indexterm" id="id658"/>of the bill of materials are saved as lines and support using scrap. The <span class="strong"><strong>Scrap %</strong></span> is calculated when running the MRP and calculating the unit cost.</p></div><div class="section" title="Routing"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec80"/>Routing</h3></div></div></div><p>The <span class="strong"><strong>Routing Setup</strong></span>
<a class="indexterm" id="id659"/> determines how long it will take to produce one item and which work centers and machine centers are used in the process.</p><div class="mediaobject"><img alt="Routing" src="graphics/0365EN_05_27.jpg"/></div><p>The <span class="strong"><strong>Routing Setup</strong></span> <a class="indexterm" id="id660"/>gives you advanced features such as parallel and serial planning, and setup time. For our example, we will keep it simple and only use the <span class="strong"><strong>Run Time</strong></span>.</p></div><div class="section" title="Testing and low-level code"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec81"/>Testing and low-level code</h3></div></div></div><p>We are now <a class="indexterm" id="id661"/>almost set to start testing our manufacturing item. We have set up the items and machine centers, calculated the calendar entries, and set up a routing.</p><p>The last step in the process is to calculate the low-level code. This field, which is stored both in the item and production BOM table, determines how low the item is in the BOM ranking. Low-level code zero means this is a parent item and one or higher is a child item or a child of a child item.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note29"/>Note</h3><p>The maximum value of the low-level code can be 50, but in reality this will be very difficult to work with and bad for system performance.</p></div></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip30"/>Tip</h3><p>If you received an error that you have exceeded 50 levels, check the production BOMs to ensure that there is no circular reference. It is possible to have a parent item consume a child item that consumes the parent.</p></div></div><p>The low-level codes <a class="indexterm" id="id662"/>can be calculated automatically or manually. For automatic calculation, the <span class="strong"><strong>Dynamic Low Level Code</strong></span> feature should be activated.</p><p>Due to NAV ability to create a production BOM before it is attached to an item, the dynamic low-level code is not always accurate. Prior to a planning run, it is good practice to run the <span class="strong"><strong>Calculate Low Level Code (Codeunit 99000793)</strong></span>.</p><div class="mediaobject"><img alt="Testing and low-level code" src="graphics/0365EN_05_28.jpg"/></div><p>Activating <span class="strong"><strong>Dynamic Low Level Code</strong></span> can however impact the performance of your system, so for most installations, it is preferable to periodically calculate this using <span class="strong"><strong>Codeunit Calc. Low-level code (99000853)</strong></span>.</p></div><div class="section" title="Simulation, sales orders, or inventory"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec82"/>Simulation, sales orders, or inventory</h3></div></div></div><p>There are<a class="indexterm" id="id663"/> three ways in Microsoft Dynamics NAV to create a production order. The easiest way is to manually enter them one by one. This can even be a simulation production order to test whether everything is set up as required.</p><p>Manual order entry is very time-consuming and is not often used by manufacturing companies. Most of them use MRP programs to plan the orders. When this is done using an external application, the interface will then create the production orders.</p><p>The MRP algorithm in Microsoft Dynamics NAV supports two policies, Make-To-Stock and Make-To-Order.</p><div class="section" title="Make-To-Stock"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec05"/>Make-To-Stock</h4></div></div></div><p>Make-To-Stock, also <a class="indexterm" id="id664"/>called Build-To-Stock is <a class="indexterm" id="id665"/>often used for high volume items, which are sold to trading companies. When this manufacturing policy is used, the reordering policy should be used. Reordering policies will be discussed in <a class="link" href="ch06.html" title="Chapter 6. Trade">Chapter 6</a>, <span class="emphasis"><em>Trade</em></span>.</p></div><div class="section" title="Make-To-Order"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec06"/>Make-To-Order</h4></div></div></div><p>Make-To-Order is <a class="indexterm" id="id666"/>often used in demand-driven items <a class="indexterm" id="id667"/>such as automobiles. Keeping these items in the inventory is very expensive. The manufacturing process is started after the item is sold.</p><p>However, most companies that use Make-To-Order have reserved time slots where these items can be scheduled, so the production capacity is already reserved but the item is not yet determined.</p><p>When using Make-To-Order, the MRP run will create production orders for all sales orders. We will use this manufacturing policy in our example.</p></div><div class="section" title="The sales order"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec07"/>The sales order</h4></div></div></div><p>For our example, we <a class="indexterm" id="id668"/>need a sales order for one or more English desks.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note30"/>Note</h3><p>Be careful when picking a location since this will be the location where the desk will be manufactured.</p></div></div><div class="mediaobject"><img alt="The sales order" src="graphics/0365EN_05_29.jpg"/></div></div></div><div class="section" title="Calculating MPS and MRP"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec83"/>Calculating MPS and MRP</h3></div></div></div><p>The planning<a class="indexterm" id="id669"/> run in Microsoft Dynamics NAV creates lines in the <a class="indexterm" id="id670"/>requisition or planning worksheets. This worksheet structure is very important in the sales/purchase/production process. This worksheet can create purchase orders and production orders for sales orders.</p><div class="section" title="Requisition versus planning versus subcontracting worksheets"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec08"/>Requisition versus planning versus subcontracting worksheets</h4></div></div></div><p>The <span class="strong"><strong>Requisition Worksheet</strong></span> can<a class="indexterm" id="id671"/> show different user interfaces (pages) allowing users to do different tasks.</p><div class="mediaobject"><img alt="Requisition versus planning versus subcontracting worksheets" src="graphics/0365EN_05_30.jpg"/></div><p>The <span class="strong"><strong>Requisition Worksheet</strong></span> does not have a general post line routine like the other journals. Each worksheet<a class="indexterm" id="id672"/> type uses a different process. The following schema shows how the requisition process ties together:</p><div class="mediaobject"><img alt="Requisition versus planning versus subcontracting worksheets" src="graphics/0365EN_05_31.jpg"/></div><p>The <span class="strong"><strong>Trade</strong></span> section will be discussed in <a class="link" href="ch06.html" title="Chapter 6. Trade">Chapter 6</a>, <span class="emphasis"><em>Trade</em></span>. In this chapter, we will focus on the planning (MPS and MRP) process and the manufacturing part.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip31"/>Tip</h3><p>The requisition worksheet process allows us to create our own process to prepare data using custom settings to generate the worksheet lines and even to build our own planning algorithm in a new C/AL object that will create requisition lines.</p></div></div></div></div><div class="section" title="Inventory profile offsetting"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec84"/>Inventory profile offsetting</h3></div></div></div><p>The actual <a class="indexterm" id="id673"/>heart of the MRP calculation in Microsoft Dynamics NAV is codeunit Inventory Profile Offsetting (99000854), which is called from codeunit Calc. Item Plan - Plan Wksh. (5431) in our schema.</p><p>This codeunit is not easy to understand and should only be changed by specialized developers after careful <a class="indexterm" id="id674"/>analysis. The process uses the inventory profile buffer table during the calculation to build up information and starts with the function <code class="literal">CalculatePlanFromWorksheet</code>:</p><div class="mediaobject"><img alt="Inventory profile offsetting" src="graphics/0365EN_05_32.jpg"/></div></div><div class="section" title="Atomic coding"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec85"/>Atomic coding</h3></div></div></div><p>The code unit<a class="indexterm" id="id675"/> in this image in the standard Microsoft Dynamics NAV application is a perfect example of atomic coding, also known as workflow coding. With this style of programming, you break down the code into functions that have functional naming and leave out any programming while calling the functions one by one. This makes your code easier to read for others and cheaper to maintain.</p><p>Let's look at the functions in this code unit:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">InitVariables</code>: This<a class="indexterm" id="id676"/> function is used to clear and initialize variables used in this codeunit.</li><li class="listitem" style="list-style-type: disc"><code class="literal">DemandtoInvProfile</code>: Here, the <a class="indexterm" id="id677"/>system creates records in the Inventory Profile table for Sales Orders, Service Orders, and Production Orders that may require items.</li><li class="listitem" style="list-style-type: disc"><code class="literal">ForecastConsumption</code>: If <span class="strong"><strong>Use Forecast on Locations</strong></span> is <a class="indexterm" id="id678"/>used in the manufacturing setup, additional demand lines are created in the inventory profile buffer based on the production forecast.</li><li class="listitem" style="list-style-type: disc"><code class="literal">BlanketOrderConsump</code>: Additional<a class="indexterm" id="id679"/> demand is inserted for all blanket sales orders with a <span class="strong"><strong>Shipment Date</strong></span> and <span class="strong"><strong>Outstanding Qty.</strong></span> within the calculation period.</li><li class="listitem" style="list-style-type: disc"><code class="literal">SupplytoInvProfile</code>: The<a class="indexterm" id="id680"/> current inventory, purchase orders, and production orders are added to the <span class="strong"><strong>Inventory Profile</strong></span> as possible supply.</li><li class="listitem" style="list-style-type: disc"><code class="literal">UnfoldItemTracking</code>: If the<a class="indexterm" id="id681"/> item uses <span class="strong"><strong>Item Tracking</strong></span>, this function makes sure that Lot numbers and serial numbers match.<div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note31"/>Note</h3><p>In this function, Microsoft developers use a trick that when a temporary table with more dimensions, the values in both tables are identical. This blog entry at <a class="ulink" href="https://markbrummel.wordpress.com/2014/06/01/tip-27-using-temp-tables-in-arrays/">https://markbrummel.wordpress.com/2014/06/01/tip-27-using-temp-tables-in-arrays/</a> explains how this works.</p></div></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">FindCombination</code>: This <a class="indexterm" id="id682"/>function creates temporary <span class="strong"><strong>Stock Keeping Unit</strong></span> records for each SKU that requires replenishment. If the item does not have any SKU, the system will create a temporary SKU record.</li><li class="listitem" style="list-style-type: disc"><code class="literal">PlanItem</code>: This<a class="indexterm" id="id683"/> is where the actual requisition lines are created for the item, based on the information in the <span class="strong"><strong>Inventory Profile</strong></span> table and the setup.</li><li class="listitem" style="list-style-type: disc"><code class="literal">CommitTracking</code>: This<a class="indexterm" id="id684"/> function saves information stored in temporary record variables to actual data in the database for reservation entries and action messages.</li></ul></div></div><div class="section" title="Calculating a plan"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec86"/>Calculating a plan</h3></div></div></div><p>Let's run the <a class="indexterm" id="id685"/>
<span class="strong"><strong>Planning Worksheet</strong></span> for our English desk and see what planning lines we get.</p><div class="mediaobject"><img alt="Calculating a plan" src="graphics/0365EN_05_33.jpg"/></div><p>The MPS and MRP run is started from the <span class="strong"><strong>Planning Worksheet</strong></span>. We need to enter a starting date and an<a class="indexterm" id="id686"/> ending date. In the CRONUS database using our example, we can use the current workdate.</p><p>When the MPS and MRP run is finished, we can start the process to <span class="strong"><strong>Carry Out Action Message</strong></span> to create the <span class="strong"><strong>Production Order</strong></span>.</p></div><div class="section" title="Production order workflow"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec87"/>Production order workflow</h3></div></div></div><p>The<a class="indexterm" id="id687"/> production order is now created and ready to be started. The first status is <span class="strong"><strong>Planned</strong></span> or <span class="strong"><strong>Firm Planned</strong></span>. During the planned status, Microsoft Dynamics NAV can automatically change the production order.</p><p>Once the production order is released, it can no longer be automatically changed.</p><div class="mediaobject"><img alt="Production order workflow" src="graphics/0365EN_05_34.jpg"/></div><p>To release a<a class="indexterm" id="id688"/> production order, the components need to be available. In our test scenario, this is not yet true since we created new items, which have not been purchased.</p><div class="mediaobject"><img alt="Production order workflow" src="graphics/0365EN_05_35.jpg"/></div><p>Let's see how we can do this.</p></div><div class="section" title="Purchase orders"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec88"/>Purchase orders</h3></div></div></div><p>To create the <a class="indexterm" id="id689"/>purchase orders, we'll use the <span class="strong"><strong>Order Planning</strong></span> worksheet to illustrate another method of planning. This will create requisition lines for the production order we just released.</p><div class="mediaobject"><img alt="Purchase orders" src="graphics/0365EN_05_36.jpg"/></div><p>Once the requisition lines are created, we need to specify a vendor number in the <span class="strong"><strong>Supply From</strong></span> field and then start the <span class="strong"><strong>Make Orders</strong></span> process to generate the <span class="strong"><strong>Purchase Orders</strong></span>.</p><div class="mediaobject"><img alt="Purchase orders" src="graphics/0365EN_05_37.jpg"/></div><p>The <span class="strong"><strong>Purchase Order</strong></span> can <a class="indexterm" id="id690"/>be received. This allows us to release the <span class="strong"><strong>Production Order</strong></span>.</p><div class="mediaobject"><img alt="Purchase orders" src="graphics/0365EN_05_38.jpg"/></div></div><div class="section" title="Finishing production"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec89"/>Finishing production</h3></div></div></div><p>When the <a class="indexterm" id="id691"/>production order is finished, the end product should be in the inventory and the components should be consumed. This consumption process is called flushing.</p><p>This is done using the <span class="strong"><strong>Consumption Journal</strong></span>
<a class="indexterm" id="id692"/> and <span class="strong"><strong>Output Journal</strong></span>
<a class="indexterm" id="id693"/> and can be done automatically and manually.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note32"/>Note</h3><p>An alternative to the Consumption and Output Journal is the Production Journal that combines the functionality into one journal.</p></div></div><p>The<a class="indexterm" id="id694"/> Consumption Journal is automatically posted when the flushing method in the item card is set to <code class="literal">Forward</code>, <code class="literal">Backward</code> or <code class="literal">Pick + Forward</code>, <code class="literal">Pick + Backward</code>.</p><p>When using <code class="literal">Forward</code>, the Consumption Journal is posted when the production order is released, <code class="literal">Backward</code> will post when the production order is set to finished. <code class="literal">Pick + Forward</code> and <code class="literal">Pick + Backward</code> can be used in combination with <a class="indexterm" id="id695"/>
<span class="strong"><strong>Warehouse Management Locations</strong></span>.</p></div></div><div class="section" title="Specialized production"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec95"/>Specialized production</h2></div></div></div><p>The last <a class="indexterm" id="id696"/>production methodology we discussed at the beginning of the chapter is specialized production.</p><p>These are items <a class="indexterm" id="id697"/>produced in small numbers or items that have very different specifications each time they go into production. For these companies, creating a bill of materials each time an item changes is just too much work compared to the extra information they would get.</p><div class="section" title="Jobs"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec90"/>Jobs</h3></div></div></div><p>Still, these <a class="indexterm" id="id698"/>companies want to register their production orders and get a clear view of their inventory. Most companies doing this kind of production are using the jobs functionality of Microsoft Dynamics NAV.</p><p>We will discuss this in <a class="link" href="ch08.html" title="Chapter 8. Consulting">Chapter 8</a>, <span class="emphasis"><em>Consulting</em></span>, where we will assemble custom-made computer systems with different components as an example.</p></div></div></div>
<div class="section" title="Vertical industry implementation"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec42"/>Vertical industry implementation</h1></div></div></div><p>Microsoft Dynamics NAV is <a class="indexterm" id="id699"/>used in many different vertical industries. Vertical industries often require specific features. Rather than trying to implement all these features in the standard product, Microsoft Dynamics NAV supports the framework and allows developers to design and create vertical features.</p><p>For these features, the 80/20 rule applies; Microsoft delivers 80 percent of the framework, which costs 20 percent of our time to implement. The missing 20 percent of the functionality is developed costing 80 percent of the budgeted time.</p><p>In this chapter, we <a class="indexterm" id="id700"/>will discuss how Microsoft Dynamics NAV is used for production in five different vertical industries. For each industry, we will discuss two specific vertical features and how they could be solved.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note33"/>Note</h3><p>Most industries have solid add-on solutions available designed by certified Microsoft Dynamics NAV partners that have been implemented at multiple sites. It is highly recommended to look at those add-on solutions instead of reinventing the wheel and rewriting an add-on that already exists.</p></div></div><div class="section" title="Fashion"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec96"/>Fashion</h2></div></div></div><p>The general<a class="indexterm" id="id701"/> challenge in the fashion industry is <a class="indexterm" id="id702"/>sizes and colors. Each item can be produced and sold from XXS to XXXL and from pink to orange to green while remaining the same item.</p><p>This calls for the creative use of variants, which are heavily used by the available vertical solutions on the market.</p><div class="section" title="Bill of materials"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec91"/>Bill of materials</h3></div></div></div><p>To use<a class="indexterm" id="id703"/> manufacturing with variants, the bill of material structure should be changed since this exists by default on the item level. However, each size uses different quantities of fabric and the different colors of fabric are often represented by another item number in the raw materials.</p><p>A solution for this might be to move the bill of materials from <span class="strong"><strong>Item level</strong></span> to <span class="strong"><strong>Stock Keeping Unit level</strong></span>. An SKU supports variants for costing and the inventory.</p></div><div class="section" title="Shipping worksheet"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec92"/>Shipping worksheet</h3></div></div></div><p>Fashion<a class="indexterm" id="id704"/> companies produce items for a collection. Customers have the possibility to reserve on a collection in order for the production manager to determine how many to produce. Based on these numbers and an extra safety inventory, the production orders are created. Once the production orders are finished, the company needs to decide who gets the first items. This can be best described as a reversed make-to-order mechanism.</p><p>To enable this in Microsoft Dynamics NAV, we could create a worksheet that will create lines for each combination of production orders and sales orders. For each sales order that will be shipped, we could <a class="indexterm" id="id705"/>create a <span class="strong"><strong>Warehouse Pick</strong></span> and <span class="strong"><strong>Shipment</strong></span> from the <span class="strong"><strong>Shipping Worksheet</strong></span>.</p><p>We will discuss stock keeping units, warehouse picks, and shipments in <a class="link" href="ch06.html" title="Chapter 6. Trade">Chapter 6</a>, <span class="emphasis"><em>Trade</em></span>.</p></div></div><div class="section" title="Automotive"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec97"/>Automotive</h2></div></div></div><p>In the <a class="indexterm" id="id706"/>automotive industry, Microsoft Dynamics NAV is<a class="indexterm" id="id707"/> mostly used by car manufacturing suppliers, the companies that make prefabricated parts out of raw materials.</p><div class="section" title="Tooling and amortization"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec93"/>Tooling and amortization</h3></div></div></div><p>In these<a class="indexterm" id="id708"/> companies, the <span class="strong"><strong>Production Part Approval Process</strong></span> (<span class="strong"><strong>PPAP</strong></span>)<a class="indexterm" id="id709"/> is very important as well as the tooling amortization since the initial investments in tooling before the production process starts is high.</p><p>To support this, extra<a class="indexterm" id="id710"/> functionality needs to be developed for the tooling and BOM process. For example, the table Routing Tool (table 99000802) can be connected to a Fixed Asset (table 5600).</p></div><div class="section" title="Item tracking"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec94"/>Item tracking</h3></div></div></div><p>When <a class="indexterm" id="id711"/>something is wrong with a component of a car, it is important to be able to see what other cars have, the same components built by the same factory and tools using the same base materials.</p><p>In Microsoft Dynamics NAV, it is possible to use a single Lot no. for a component or an end product and to trace this back. It is not possible to simply move the Lot no. of the component to the end product or copy information from the component's Lot no. such as a container no. or a quality code to the end product.</p><p>To support this, we need to change the item tracking process. A good place to start would be the item journal where the reservation entry is moved to the item ledger entry.</p></div></div><div class="section" title="Medicines"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec98"/>Medicines</h2></div></div></div><p>When<a class="indexterm" id="id712"/> used by companies that manufacture<a class="indexterm" id="id713"/> medicines, using the expiration date for Lot numbers correctly is highly important.</p><div class="section" title="Lot numbers and expiration dates"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec95"/>Lot numbers and expiration dates</h3></div></div></div><p>In Microsoft Dynamics NAV, expiration dates are defined in the <span class="strong"><strong>Item Ledger Entries</strong></span> and the <span class="strong"><strong>Warehouse Entries</strong></span>.</p><p>It is not possible to define a single <a class="indexterm" id="id714"/>expiration date for a Lot. This can be changed by adding this field to the Lot No. Information table (6505). This table allows companies to predefine Lot numbers to be used in the production process.</p><p>By default, the expiration date <a class="indexterm" id="id715"/>is calculated based on the document date multiplied with the <span class="strong"><strong>Expiration Calculation</strong></span> field in the Item table (27).</p><p>The Lot No. Information table can be used to save additional information about the specific production batch.</p></div><div class="section" title="Quality control"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec96"/>Quality control</h3></div></div></div><p>Quality control<a class="indexterm" id="id716"/> is important in most production processes but maybe extra important when dealing with medicines. Usually a small part of a Lot is taken for quality control.</p><p>In Microsoft Dynamics NAV, we can define quality measures in the Prod. Order Rtng Qlty Meas. Table (5413). However, these values are only saved as information for the production order.</p><p>To enhance quality control, we could add a document structure where a quality check document is created from a production order. The information should be saved in the Lot No. Information table.</p><p>When a Lot does not have the required quality, a workflow should be started. This workflow will lead the user through a process where decisions can be made. Sometimes, the quality can be improved and the items can still be used. Sometimes the item number even depends on the quality of the product.</p><p>Quality control is in between the Consumption Journal and the Output Journal. During the final quality check, the BOM items are used, but the final item is not yet available.</p></div></div><div class="section" title="Food"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec99"/>Food</h2></div></div></div><p>In the <a class="indexterm" id="id717"/>food industry, everything <a class="indexterm" id="id718"/>is about expiration dates and fresh products. Inventory is never very high and the rate of circulation is very high.</p><div class="section" title="Zero inventory"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec97"/>Zero inventory</h3></div></div></div><p>For this reason, it <a class="indexterm" id="id719"/>should be possible for fresh food companies to zero the inventory of certain Lot numbers once the expiration date is closing or has expired.</p><p>This could normally be done using the Physical Inventory Journal. Doing this manually with Lot numbers can be quite a job for someone to do this every day so for this vertical solution, we could create a function to do this. This function would create an Item Journal Line (83) with the field Phys. Inventory (56) activated and also create the Reservation entry for tracking and post the line automatically.</p></div><div class="section" title="Ordering schedules"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec98"/>Ordering schedules</h3></div></div></div><p>Fresh<a class="indexterm" id="id720"/> food companies use daily production processes that start on scheduled times. Each day, the factory starts the production process but the production numbers can be different based on the orders.</p><p>This can be done using the Make-To-Order policy but we need to make sure that there will be no new sales orders when the calculation process starts.</p><p>This can be achieved by creating an order schedule policy. New sales lines can be created for each item until a certain time. When the time has elapsed, the salespeople will get an error message. This allows the production planner to start the calculation process at a fixed time each day, knowing the sales orders quantities can be trusted.</p></div></div><div class="section" title="Furniture"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec100"/>Furniture</h2></div></div></div><p>The <a class="indexterm" id="id721"/>furniture industry <a class="indexterm" id="id722"/>is a large and very old industry that existed long before the industrial revolution and the introduction of computers.</p><p>We can roughly split the furniture industry into two parts. The first part has moved production to be standardized using size and color matrixes, which we can compare to the fashion industry. When buying a table or kitchen, the customer can choose from different sizes and colors. Depending on the number of choices, the products are either Made-To-Stock (IKEA) or Made-To-Order.</p><p>The second part is furniture manufacturers who still produce custom-made items. A desk or kitchen at these manufacturers can have any size or color. For these companies, it is next to impossible to create a bill of material for each custom item so they use predefined calculations with item categories.</p><p>For the examples in this book, we will discuss the second category.</p><div class="section" title="Calculations"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec99"/>Calculations</h3></div></div></div><p>Companies<a class="indexterm" id="id723"/> building custom-made furniture need the possibility to calculate the use of materials and resources, both at the item category and real item level. For this, we can create a calculation module with this data and posting model.</p><div class="mediaobject"><img alt="Calculations" src="graphics/0365EN_05_40.jpg"/></div><p>The basic structure of this calculation module is explained in <a class="link" href="ch08.html" title="Chapter 8. Consulting">Chapter 8</a>, <span class="emphasis"><em>Consulting</em></span>, where we have combined this into the jobs functionality of Microsoft Dynamics NAV.</p></div><div class="section" title="Inventory"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec100"/>Inventory</h3></div></div></div><p>Our furniture<a class="indexterm" id="id724"/> company uses a combination of product-specific items that are one of a kind and inventory items that are used in most of the products.</p><p>These items are combined into the end product and should be consumed when the product is finished. When the calculation module is integrated with jobs, for example, it would be possible to flush the components when the job is completed. This functionality can be compared to the posting of the Consumption Journal when a production order is finished.</p><p>The inventory items can be updated weekly using the Physical Inventory Journal and inventory counting. This enables us to use the requisition worksheet and reordering policy we will discuss in <a class="link" href="ch06.html" title="Chapter 6. Trade">Chapter 6</a>, <span class="emphasis"><em>Trade</em></span>.</p></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec43"/>Summary</h1></div></div></div><p>In this chapter, we discussed how three production methodologies can be implemented in the Microsoft Dynamics NAV product. We introduced the concepts of item tracking and item costing. We took a tour through the manufacturing process using different requisition worksheets and talked about the solution for MRP.</p><p>Lastly, we looked at how production can be implemented for different vertical industries. In the next chapter, we will have a closer look at the trade process in Microsoft Dynamics NAV.</p></div></body></html>