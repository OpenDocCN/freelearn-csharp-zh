# 理解软件架构的重要性

现在，软件架构是软件行业中最热门的话题之一，毫无疑问，其重要性在未来将会增长。我们构建的解决方案越复杂、越出色，就越需要伟大的软件架构来维护它们。这就是您决定阅读这本书的原因，也是我们决定编写这本书的原因。

当然，撰写关于这个重要话题并不容易，因为它提供了许多替代技术和解决方案。本书的主要目标不仅仅是构建一个详尽无遗且永不停止的技术和解决方案列表，而且还展示如何将各种技术家族联系起来，以及它们如何在实践中影响可维护和可持续解决方案的建设。

随着用户总是需要在他们的应用程序中添加更多新功能，对如何创建实际有效的企业解决方案的关注度不断提高。此外，由于市场变化迅速，需要频繁交付应用程序版本（版本），这增加了拥有复杂软件架构和开发技术的必要性。

本章将涵盖以下主题：

+   软件开发的历史和软件架构的定义

+   当前成功企业使用的软件流程

+   收集需求的过程

到本章结束时，您将能够确切地了解软件架构的使命是什么。您还将了解Azure是什么以及如何在平台上创建您的账户。此外，考虑到这是一个入门章节，您将获得软件流程、模型和其他技术的概述，这些技术将使您能够领导您的团队。

# 技术需求

本章将指导您如何在Azure中创建账户，因此不会提供代码。

# 软件架构是什么？

如果您今天在阅读这本书，您应该感谢那些决定将软件开发视为工程领域的计算机科学家。这发生在上个世纪，更具体地说，是在六十年代末，当时他们提出我们开发软件的方式与建造建筑的方式非常相似。这就是我们为什么有“软件架构”这个名字。就像建筑的设计一样，软件架构师的主要目标是确保软件应用程序得到良好的实现。但良好的实现需要设计一个优秀的解决方案。因此，在一个专业的开发项目中，您必须做以下事情：

+   定义解决方案的客户需求。

+   设计一个满足那些需求的优秀解决方案。

+   实施设计的解决方案。

+   与您的客户验证解决方案。

+   在工作环境中交付解决方案。

软件工程将这些活动定义为软件开发生命周期。所有理论上的软件开发过程模型（瀑布、螺旋、增量、敏捷等）都与这个周期有关。无论您使用哪种模型，如果在您的项目过程中不执行之前提到的基本任务，您将无法提供可接受的软件解决方案。

设计优秀解决方案的主要观点与本书的目的完全一致。您必须理解，优秀的现实世界解决方案会带来一些基本约束：

+   解决方案需要满足用户需求。

+   解决方案需要按时交付。

+   解决方案需要遵守项目预算。

+   解决方案需要提供高质量。

+   解决方案需要保证安全和有效的未来演变。

优秀的解决方案需要可持续，您必须理解，没有优秀的软件架构就没有可持续的软件。如今，优秀的软件架构既依赖于工具也依赖于环境，以完美地满足用户需求。为了解释这一点，本书将使用微软提供的一些优秀工具： 

+   **Azure**：这是微软的云平台，在这里您将找到它提供的所有组件，用于构建高级软件架构解决方案。

+   **Azure DevOps**：这是一个应用程序生命周期管理环境，您可以使用最新的软件开发方法来构建解决方案，即DevOps。

+   **C#**：这是世界上使用最广泛的编程语言之一。C#在不同的操作系统和环境中的小型设备上运行，直到巨大的服务器。

+   **.NET Core**：这是一个由微软和.NET社区在GitHub上维护的开源开发平台。

+   **ASP.NET Core**：这是一个使用.NET Core开发的开源多平台环境，用于构建Web应用程序，并托管在云中或在标准服务器（本地）上。

成为软件架构师意味着理解上述内容以及许多其他技术。本书将引导您踏上旅程，作为在团队中工作的软件架构师，您将使用列出的工具提供最佳解决方案。让我们从创建您的Azure账户开始这段旅程。

# 创建Azure账户

**Microsoft Azure** 是目前市场上最好的云解决方案之一。重要的是要知道，在 Azure 内部，我们将找到一系列组件，这些组件可以帮助我们在21世纪解决方案的架构中。

本小节将指导您创建Azure账户。如果您已经有了账户，您可以跳过这部分：

1.  您可以使用此URL访问Azure门户：[https://azure.microsoft.com](https://azure.microsoft.com)。在这里，您将找到一个网站，如下所示。您的母语翻译可能已自动设置：

![](img/fa88fc72-7b40-4f25-8dc3-b9c8bbb30eaa.png)

1.  一旦你访问了这个门户，就有可能注册。如果你以前从未这样做过，你可以免费注册，这样你就可以使用一些Azure功能而无需花费任何费用。

1.  一旦你完成了表格，你就可以访问Azure面板。正如你在下面的屏幕截图中所看到的，面板显示了一个你可以定制的仪表板，以及一个左侧菜单，你可以在这里设置你将在解决方案中使用Azure组件。在这本书中，我们将多次回到这个屏幕截图来设置创建现代软件架构巨大机会的组件：

![图片](img/77427f81-0c99-469f-b7ae-74168f7d3cda.png)

一旦你创建了Azure账户，你就准备好了解软件架构师如何利用Azure提供的所有机会来指导团队开发软件。然而，重要的是要记住，软件架构师需要了解的不仅仅是具体技术，因为如今，这个角色是由那些被期望定义软件交付方式的人扮演的。软件架构师不仅架构软件的基础，还决定整个软件开发和部署过程是如何进行的。

# 软件开发过程模型

作为一名软件架构师，了解目前大多数企业中使用的常见开发过程非常重要。软件开发过程定义了团队中的人们如何生产和交付软件。一般来说，这个过程与一种称为**软件开发过程模型**的软件工程理论相关联。自从软件开发被定义为工程过程以来，已经提出了许多软件开发的过程模型。让我们看看目前常见的那些。

# 审查传统的软件开发过程模型

在软件工程理论中介绍的一些模型已经被认为是传统的并且相当过时。本书并不旨在涵盖所有这些模型，但在这里，我们将简要解释一些仍在某些公司中使用的模型。

# 理解瀑布模型原则

在2019年的软件架构书中，这个话题可能看起来有些奇怪，但确实，你仍然可能会发现一些公司仍然将最传统的软件开发过程模型作为软件开发指南。这个过程按顺序执行所有基本任务。任何软件开发项目都包括以下步骤：

+   需求规范

+   软件设计

+   编程

+   测试和交付

让我们来看一下这种表示方法的图示：

![图片](img/02ccc8d0-249d-4c4b-8459-5d646954db0c.png)

[瀑布式开发周期](https://en.wikipedia.org/wiki/Waterfall_model)

通常，使用瀑布模型会导致软件功能版本交付延迟的问题，以及由于最终产品质量差而引起用户不满。

# 分析增量模型

增量开发是一种试图克服瀑布模型最大问题的方法：用户只能在项目结束时测试解决方案。这个模型的想法是尽早让用户与解决方案互动，以便他们可以提供有用的反馈，这将有助于软件开发过程中的工作。

然而，在这个模型中，有限的增量数量和项目的官僚主义可能会在开发人员和客户之间造成问题：

![](img/27b7fa01-3c5e-4a47-83ad-125d6ea491fe.png)

增量开发周期（https://en.wikipedia.org/wiki/Incremental_build_model）

增量模型被引入作为瀑布方法的替代方案，它减轻了与客户沟通不足相关的问题。对于大型项目来说，更少的增量仍然是一个问题。此外，在增量方法大规模使用的时候，主要在上世纪末，由于需要大量的文档，许多与项目官僚主义相关的问题被报道。这种情况导致了软件开发行业中一个非常重要的运动的兴起——**敏捷**。

# 理解敏捷软件开发过程模型

在本世纪初，软件开发被认为是工程领域中最混乱的活动之一。失败的项目数量极高，这一事实证明了需要一种不同的方法来处理软件开发项目所需的灵活性。因此，在2001年，敏捷宣言被介绍给世界，从那时起，各种敏捷过程模型被提出。其中一些模型至今仍然非常常见。

请查看此链接了解敏捷宣言：[https://agilemanifesto.org/](https://agilemanifesto.org/).

敏捷模型与传统模型之间最大的区别之一是开发人员与客户互动的方式。所有敏捷模型传达的信息是，你越快将软件交付给用户，就越好。这个想法有时会让软件开发人员感到困惑，他们理解为——*让我们尝试编码，就这样吧！* 然而，敏捷宣言中的一个重要观察结果，很多人在开始使用敏捷时并没有阅读到：

"也就是说，虽然右侧的项目具有价值，但我们更重视左侧的项目。"

– 敏捷宣言，2001年

软件架构师始终需要记住这一点。敏捷流程并不意味着缺乏纪律。而且，当你使用敏捷流程时，你会明白没有纪律就无法开发出好的软件。另一方面，作为软件架构师，你需要理解“软”意味着灵活性。一个不处理灵活性的软件项目往往会随着时间的推移而失败。

# 进入 Scrum 模型

Scrum 是一种敏捷的软件开发项目管理模型。该模型源于精益原则，并且无疑是当今软件开发中广泛使用的方法之一。

请查看此链接以获取有关 Scrum 框架的更多信息：[https://docplayer.net/78853722-Scrum-insights-for-practitioners.html](https://docplayer.net/78853722-Scrum-insights-for-practitioners.html)。

Scrum 的基础是，你有一个需要在每个敏捷周期中讨论的灵活的用户需求列表，这被称为**Sprint**。Sprint 目标由由产品负责人、Scrum Master 和开发团队组成的 Scrum 团队确定。**产品负责人**负责确定那个 Sprint 中将交付的内容的优先级。在 Sprint 期间，这个人将帮助团队开发所需的功能。在 Scrum 流程中领导团队的人被称为 **Scrum Master**。所有的会议和流程都由这个人执行。

重要的是要注意，Scrum 流程不讨论软件应该如何实现以及将进行哪些活动。因此，你必须再次记住本章开头讨论的软件开发基础。这意味着 Scrum 需要与一个流程模型一起实施。DevOps 是一种可能帮助你结合 Scrum 使用软件开发流程模型的方法。我们将在本书的[第 18 章](94c84805-6921-4b9b-9f11-745dce643f53.xhtml)中讨论这一点，*理解 DevOps 原则*。

# 将方面聚集起来以设计高质量的软件

太棒了！你刚刚开始了一个软件开发项目。现在，是时候利用你所有的知识来交付最好的软件了。可能，你的下一个问题是——*我该如何开始？* 好吧，作为一个软件架构师，你将是回答这个问题的那个人。并且请确保你的答案将在你领导的每个软件项目中不断演变：

1.  定义软件开发流程显然是首先要做的事情。这通常在项目规划过程中完成。

1.  此外，另一件非常重要的事情是收集软件需求。无论你决定使用哪种软件开发流程，收集真实用户需求都是一项非常困难和持续的工作的一部分。当然，有一些技术可以帮助你完成这项工作。并且请确保收集需求将帮助你发现软件架构的重要方面。

这些两个活动被大多数软件开发专家视为在开发项目旅程结束时取得成功的关键。作为软件架构师，你需要确保它们发生，这样你在引导团队时就不会有问题。

# 理解需求收集过程

有不同的方式来表示需求。最传统的方法是在分析开始之前，你必须写出一个完美的规范。敏捷方法建议你一旦准备好开始一个开发周期，就需要编写故事。

记住：你并不是为用户编写需求，而是为你和你的团队编写。用户只需要工作完成！

事实上，无论你决定在项目中采用哪种方法，你都必须遵循一些步骤来收集需求。这就是我们所说的**需求工程**。

请查看以下关于需求工程过程的图片以获取更多信息：[https://www.slideshare.net/MohammedRomi/ian-sommerville-software-engineering-9th-edition-ch-4](https://www.slideshare.net/MohammedRomi/ian-sommerville-software-engineering-9th-edition-ch-4)。

在这个过程中，你需要确保解决方案是可行的。在某些情况下，可行性分析也是项目规划过程的一部分，在你开始需求收集之前，你已经有了一份完成的可行性报告。所以，让我们检查这个过程的其它部分，这将为你提供大量关于软件架构的重要信息。

# 练习收集用户需求

有很多方法可以检测用户在特定场景中确切需要什么。一般来说，这可以通过帮助你理解我们所说的用户需求的技巧来完成。这里有一份常见技巧的列表：

+   **想象力的力量**：如果你是在你提供解决方案的领域中的专家，你可以利用自己的想象力来发现新的用户需求。头脑风暴可以一起进行，以便一组专家可以定义用户需求。

+   **问卷调查**：这个工具对于检测常见且重要的需求很有用，例如用户数量和种类、系统高峰使用时间以及常用的**操作系统**（**OS**）和网页浏览器。

+   **访谈**：访谈用户有助于你作为架构师发现那些可能问卷和你的想象力无法涵盖的用户需求。

+   **观察**：没有比和他们一起度过一天更好的方式来理解用户的日常习惯了。

一旦你应用了这些技巧中的一个或多个，你将获得宝贵的信息，即用户的需求。在那个时刻，你将能够分析它们并检测用户和系统需求。

记住：你可以在任何真正需要收集需求的情况下使用这些技术，无论是整个系统还是单个故事。

# 分析需求

一旦你发现用户需求，就是开始分析需求的时候了。那时，你可以使用以下技术：

+   **原型设计**：原型设计对于澄清和具体化系统需求非常有用。今天，我们有许多工具可以帮助你模拟接口。一个非常好的开源工具是**Pencil Project**。你可以在[https://pencil.evolus.vn/](https://pencil.evolus.vn/)找到更多关于它的信息。

+   **用例**：如果你需要详细的文档，**统一建模语言**（UML）用例模型是一个选择。该模型由详细规范和图表组成。**Argo UML** 是另一个可以帮助你的开源工具：

![](img/d8421f8e-0455-4626-a7d2-af8177559d80.png)

当你分析系统的需求时，你将能够确切地澄清用户的真正需求。当你不确定将要解决的真实问题时，这非常有帮助，而且比开始编写系统代码要好得多。现在是时候投资于在不久的将来拥有更好的代码了。

# 编写规范

分析完成后，将其注册为规范是很重要的。这份文档可以使用传统的需求或用户故事来编写，这些在敏捷项目中很常见。

需求规范代表了用户和团队之间的技术合同。这份文档需要遵循一些基本规则：

+   所有利益相关者都需要确切了解技术合同中写的内容，即使他们不是技术人员。

+   文档需要清晰。

+   你需要分类每个需求。

+   使用一个简单的功能来代表每个需求。

+   需要避免歧义和争议。

此外，一些信息可以帮助团队理解他们将要工作的项目的背景。这里有一些关于它的提示：

+   编写一个介绍章节，以全面了解解决方案。

+   创建一个术语表，以便更容易理解。

+   描述解决方案将覆盖的用户类型。

+   编写功能和非功能需求。

+   附加文档，帮助用户理解规则。

如果你决定编写用户故事，一个很好的建议是写简短的句子，代表每个用户在系统中的每个时刻，如下所示：

[PRE0]

这种方法将确切地解释为什么那个功能将被实现。除此之外，你将有一个很好的工具来分析更关键的故事，并优先考虑项目的成功。

# 审查规范

一旦你写好了规格说明，就是时候与利益相关者确认他们是否同意了。这可以通过审查会议进行，或者可以使用协作工具在线完成。

这时，你需要展示你所收集的所有原型、文档和信息。一旦每个人都同意规格说明，你就可以开始研究实施项目这一部分的最佳方式了。

# 将设计思维作为有用的工具使用

在你作为软件架构师的职业生涯中，你将发现许多项目，你的客户将带来一个**已准备好开发**的解决方案。一旦你考虑这是正确的解决方案，这将会相当复杂；大多数情况下，将会有架构和功能错误，这将在未来的解决方案中引起问题。有些情况下，问题更严重——当客户不知道问题的最佳解决方案时。设计思维可以帮助我们解决这个问题。

**设计思维**是一个允许你直接从用户收集数据的过程，专注于实现解决问题的最佳结果。在这个过程中，团队将有机会发现所有将与系统交互的*角色*。这将对解决方案产生美妙的影响，因为你可以通过关注用户体验来开发软件，这可以产生美妙的结果。

该过程基于以下步骤：

+   **同理心**：在这个步骤中，你必须执行实地研究来发现用户的关注点。这是你了解系统用户的地方。这个过程有助于你理解为什么以及为谁开发这款软件。

+   **定义**：一旦你了解了用户的关注点，就是时候定义他们的需求以解决它们了。

+   **构思**：需求将提供机会来头脑风暴一些可能的解决方案。

+   **原型**：这些解决方案可以作为原型来开发，以确认它们是否是好的解决方案。

+   **测试**：测试原型将帮助你理解与用户真实需求最相关的原型。

你必须理解的是，设计思维可以是一个发现真实需求的绝佳选择。作为一名软件架构师，你致力于帮助你的团队在正确的时间使用正确的工具。

# 理解可扩展性、健壮性、安全性和性能的原则

识别需求是一项任务，将帮助你理解你将要开发的软件。然而，作为一名软件架构师，你不必只关注该系统的功能需求。理解非功能需求非常重要，并且是软件架构师的一项原始活动。

我们将在[第2章](a4194162-692d-4ac4-9b8e-a48199e746ab.xhtml)中进一步讨论这个问题，*功能和非功能需求*，但在此阶段，了解可扩展性、健壮性、安全性和性能的原则需要应用于需求收集过程是很好的。让我们看看每个概念：

+   **可扩展性**：作为软件开发者，全球化给你提供了一个机会，让你的解决方案在世界各地运行。这是很棒的，但作为软件架构师，你需要设计一个提供这种可能性的解决方案。可扩展性是指应用程序在必要时能够增加其处理能力，这是由于正在消耗的资源数量。

+   **健壮性**：无论你的应用程序有多可扩展，如果不能保证稳定且始终在线的解决方案，你将无法得到任何安宁。对于那种应用程序解决的问题，你任何时候都没有维护的机会，因此健壮性对于关键解决方案来说非常重要。在许多行业中，软件不能停止，当没有人可用时（如夜间、假日等），会有很多常规运行。设计一个健壮的解决方案将给你在软件运行良好的同时生活的自由。

+   **安全**：这是在需求阶段之后需要讨论的另一个非常重要的领域。每个人都担心安全问题，并且世界各地都在提出处理这一问题的法律。作为软件架构师，你必须明白，安全性需要通过设计来提供。这是应对当前安全社区讨论的所有需求的唯一方法。

+   **性能**：理解你将要开发的系统的过程可能会给你一个很好的想法，了解你需要付出多少努力才能从系统中获得期望的性能。这个话题需要与用户讨论，以确定你在开发阶段将面临的大部分瓶颈。

值得注意的是，所有这些概念都是世界需要的新一代解决方案的要求。当然，区分优秀软件和卓越软件的将是满足项目要求所做的工作量。

# 一些情况下，需求收集过程影响了系统结果

本章到目前为止讨论的所有信息，如果你想要按照良好的工程原则设计软件，都是有用的。这次讨论与传统或敏捷方法开发无关，而是专注于专业或业余地构建软件。

此外，了解一些由于缺乏你所阅读的活动而给软件项目带来麻烦的情况是有好处的。以下案例旨在描述出了什么问题以及前面的技术如何帮助开发团队解决问题。在大多数情况下，简单的行动可以保证团队和客户之间更好的沟通，这种简单的沟通流程可以将大问题转化为真正的解决方案。

# 情况1 – 我的网站打开那个页面太慢了！

性能是你作为软件架构师在职业生涯中会遇到的最大问题之一。任何软件的这一方面之所以如此有问题，是因为我们没有无限的计算资源来解决问题。此外，计算成本仍然很高，尤其是如果你在谈论具有大量同时用户的软件。

你不能通过编写需求来解决性能问题。然而，如果你正确地编写它们，你不会陷入麻烦。这里的想法是，需求必须展示系统的期望性能。一个简单的句子，描述这一点，可以帮助整个参与项目的团队：

非功能性需求：性能 – 该软件的任何网页至少要在2秒内响应。

前一句话只是让每个人（用户、测试人员、开发人员、架构师、经理等等）确信任何网页都有一个目标要实现。这是一个好的开始，但还不够。有了这个，一个既适合开发又适合部署应用程序的良好环境非常重要。这正是.NET Core能大量帮助你之处。特别是如果你在谈论Web应用程序，ASP.NET Core被认为是当今提供解决方案最快的选项之一。

如果你谈论性能，作为软件架构师的你应该考虑以下章节中列出的技术。值得一提的是，ASP.NET Core将帮助你轻松使用它们，同时还有一些由微软Azure提供的**平台即服务**（**PaaS**）解决方案。

# 理解缓存

缓存是一种避免消耗时间和通常给出相同结果的查询的绝佳技术。例如，如果你正在从数据库中检索可用的汽车型号，数据库中的汽车数量可能会增加，但它们不会改变。一旦你有一个不断访问汽车型号的应用程序，一个好的做法是将这些信息缓存起来。

重要的是要理解缓存存储在后台，并且该缓存由整个应用程序共享（*内存缓存*）。在这里需要注意的一个点是，当你正在开发一个可扩展的解决方案时，你可以配置一个**分布式缓存**来使用Azure平台解决它。实际上，ASP.NET Core提供了这两者，因此你可以选择最适合你需求的一个。

# 应用异步编程

当您开发 ASP.NET Core 应用程序时，您需要记住这个应用程序需要设计为许多用户同时访问。异步编程让您可以简单地做到这一点，提供了 `async` 和 `await` 关键字。

这些关键字背后的基本概念是，`async` 允许任何方法在调用它的线程之外的不同线程中运行。另一方面，`await` 允许您在不阻塞调用它的线程的情况下同步异步方法的调用。这种易于开发的模式将使您的应用程序在没有性能瓶颈的情况下运行，并具有更好的响应性。本书将在[第2章](a4194162-692d-4ac4-9b8e-a48199e746ab.xhtml) *功能和非功能需求* 中更详细地介绍这一主题。

# 处理对象分配

避免性能不足的一个非常好的建议是了解垃圾收集器是如何工作的。垃圾收集器是当您完成使用后自动释放内存的引擎。由于垃圾收集器具有复杂性，因此这个主题有一些非常重要的方面。

一些类型的对象不会被垃圾收集器收集。这个列表包括任何与 I/O 交互的对象，例如文件和流。如果您不正确地使用 C# 语法来创建和销毁这类对象，您将会有内存泄漏，这会降低您的应用程序性能。

与 I/O 对象交互的错误方式：

[PRE1]

与 I/O 对象交互的正确方式：

[PRE2]

尽管前面的做法对于 I/O 对象是强制性的，但强烈建议您在所有可处置对象上继续这样做。这将有助于垃圾收集器，并确保您的应用程序以正确的内存量运行。

您需要了解的另一个重要方面是垃圾收集器收集将干扰您应用程序性能的对象所花费的时间。因此，避免分配大对象。这可能会在垃圾收集器完成其任务时给您带来麻烦。

# 获取更好的数据库访问

最常见的性能阿基里斯之踵之一是数据库访问。这仍然是一个大问题，原因是在编写查询或 lambda 表达式从数据库获取信息时缺乏关注。本书将在[第6章](8c8a9dbc-3bfc-4291-866f-fdd1a62c16ef.xhtml) *在 C# 中与数据交互 – Entity Framework Core* 中介绍 Entity Framework Core，但了解选择什么、从数据库中读取哪些正确数据信息以及过滤列和行对于希望提供性能的应用程序至关重要。

好的一点是，与缓存、异步编程和对象分配相关的最佳实践完全适用于数据库环境。这只是一个选择正确模式以获得高性能软件的问题。

# 情况 2 – 用户的需求没有得到适当的实现

随着技术在各个领域的广泛应用，提供用户所需的确切内容变得越来越困难。也许这句话听起来有些奇怪，但您必须理解，开发者通常学习开发软件，但他们很少学习如何满足特定领域的需求。当然，学习如何开发软件并不容易，但理解特定领域的需求更加困难。如今，软件开发为所有可能的行业提供软件。问题是，*开发者，无论是软件架构师还是其他角色，如何才能足够地进化，以提供他们负责领域的软件？*

收集软件需求无疑将帮助您完成这项艰巨的任务。此外，编写它们将使您理解并组织系统的架构。有几种方法可以最小化实现与用户真正需求不符的风险：

+   通过原型设计界面以更快地理解用户界面

+   设计数据流以检测系统与用户操作之间的差距

+   定期会议以了解当前需求并确保与增量交付保持一致

再次强调，作为软件架构师，您将需要定义软件的实现方式。大多数情况下，您可能不会亲自编写代码，但您将始终是负责这一点的责任人。因此，一些技术可以用来避免错误的实现：

+   与开发者一起审查需求，以确保他们理解他们需要开发的内容

+   代码审查以验证预定义的代码标准

+   会议以消除障碍

# 案例 3 – 系统的可用性不符合用户需求

可用性是软件项目成功的关键。软件的展示方式和解决问题的方法可以帮助用户决定是否想要使用它。作为软件架构师，您必须牢记，如今提供具有良好可用性的软件是强制性的。

本书无意涵盖可用性的基本概念。但了解谁将使用该软件是满足正确用户需求的一个好方法。正如本章前面所讨论的，设计思维在这方面可以帮助您很多。

理解用户将帮助您决定软件是否将在网页、手机上运行，甚至是在后台运行。这种理解对于软件架构师来说非常重要，因为如果正确地映射出谁将使用这些元素，系统的元素将得到更好的展示。

另一方面，如果您不关心这一点，您只需交付能够正常工作的软件即可。这可能在短期内是好的，但它不会完全满足使人们要求您设计软件的真实需求。您必须牢记这些选项，并理解好的软件是为了在许多平台和设备上运行而设计的。

您会很高兴地知道C#是一个令人难以置信的跨平台选项。因此，您可以开发解决方案，在Linux、Windows、Android和iOS上运行您的应用程序。您可以在大屏幕、平板电脑、手机甚至无人机上运行您的应用程序！您可以将应用程序嵌入到用于自动化的板上或在HoloLens中用于混合现实。软件架构师必须思想开放，以便设计出用户真正需要的精确方案。

# 案例研究 – 检测用户需求

本书的研究案例将带您踏上为名为**World Wild Travel Club**（**WWTravelClub**）的旅行社创建软件架构的旅程。本案例研究的目的在于让您理解每一章中解释的理论，并在阅读本书的过程中，开发一个使用Azure、Azure DevOps、C#、.NET Core、ASP.NET Core和其他本书将介绍的技术构建的企业应用程序。

# 案例研究 – 介绍World Wild Travel Club

**World Wild Travel Club**（**WWTravelClub**）是一家旅行社，旨在改变人们关于度假和其他全球旅行的决策方式。为此，他们正在开发一个在线服务，其中每个旅行体验的细节都将由为每个目的地特别挑选的专家俱乐部协助。

该平台的概念是您可以同时成为访问者和目的地专家。您在目的地作为专家参与的越多，您获得的积分就越高。这些积分可以用来兑换人们通过平台在线购买的机票。

客户为该平台带来了以下要求。重要的是要知道，通常情况下，客户不会带着已经准备好的需求来进行开发。这就是为什么需求收集过程如此重要的原因：

+   普通用户视图：

    +   首页上的促销软件包

    +   搜索软件包

    +   每个软件包的详细信息：

        +   购买软件包

        +   购买包含专家俱乐部的软件包：

            +   对你的经验进行评论

            +   咨询专家

            +   评估专家

    +   注册为普通用户

+   目的地专家视图：

    +   与普通用户视图相同的视图

    +   回答询问您目的地专业知识的问题

    +   管理您通过回答问题获得的积分：

        +   用积分兑换机票

+   管理员视图：

    +   管理软件包

    +   管理普通用户

    +   管理目的地专家

为了完成这个案例研究，重要的是要注意，WWTravelClub计划为每个软件包提供超过100位目的地专家，并将在全球范围内提供大约1,000种不同的软件包。

# 案例研究 – 理解用户需求和系统需求

要总结WWTravelClub的用户需求，你可以阅读以下用户故事：

+   `US_001`: 作为普通用户，我想在主页上查看促销套餐，这样我可以轻松找到我的下一个假期。

+   `US_002`: 作为普通用户，我想搜索主页上找不到的套餐，以便我可以探索其他旅行机会。

+   `US_003`: 作为普通用户，我想查看套餐的详细信息，以便我可以决定购买哪个套餐。

+   `US_004`: 作为普通用户，我想注册自己，以便我可以开始购买套餐。

+   `US_005`: 作为注册用户，我想购买套餐，以便我可以处理付款。

+   `US_006`: 作为注册用户，我想购买包含专家俱乐部的套餐，以便我可以拥有专属的旅行体验。

+   `US_007`: 作为注册用户，我想寻求专家的帮助，以便我可以获得我旅行的最佳体验。

+   `US_008`: 作为注册用户，我想评论我的经历，以便我可以从我的旅行中提供反馈。

+   `US_009`: 作为注册用户，我想评价帮助我的专家，以便我可以与他人分享他们多么出色。

+   `US_010`: 作为注册用户，我想注册为目的地专家查看，以便我可以帮助那些来我城市旅行的人。

+   `US_011`: 作为专家用户，我想回答关于我的城市的问题，以便我可以获得未来可以兑换的积分。

+   `US_012`: 作为专家用户，我想用积分兑换机票，以便我可以环游世界。

+   `US_013`: 作为管理员用户，我想管理软件包，以便用户能够获得旅行的好机会。

+   `US_014`: 作为管理员用户，我想管理注册用户，以便WWTravelClub可以保证良好的服务质量。

+   `US_015`: 作为管理员用户，我想管理专家用户，以便所有关于我们目的地的问题都能得到解答。

+   `US_016`: 作为管理员用户，我想提供超过1,000个全球套餐，以便不同国家可以体验WWTravelClub的服务。

+   `US_017`: 作为管理员用户，我想让超过1,000个用户同时访问网站，这样我可以支持所有用户的需求。

+   `US_018`: 作为用户，我想用我的母语访问WWTravelClub，这样我可以轻松理解提供的套餐。

+   `US_019`: 作为用户，我想在Chrome、Firefox和Edge网络浏览器中访问WWTravelClub，这样我就可以使用我偏好的网络浏览器。

+   `US_020`: 作为用户，我想安全地购买套餐，以便只有WWTravelClub会拥有我的信用卡信息。

注意，当你开始编写故事时，可以包括与安全、环境、性能和可扩展性等非功能性要求相关的信息。

然而，当你编写用户故事时，可能需要省略一些系统需求，这些需求需要包含在软件规范中。这些需求可能与法律方面、硬件和软件先决条件有关，甚至可能涉及正确交付系统的注意事项。它们需要被映射和列出，就像用户故事一样。以下列出了WWTravelClub系统需求清单。请注意，需求是用将来时写的，因为系统尚不存在：

+   `SR_001`: 系统将使用Microsoft Azure组件来提供所需的可伸缩性。

+   `SR_002`: 系统将遵守**通用数据保护条例**（**GDPR**）的要求。

+   `SR_003`: 系统将在Windows、Linux、iOS和Android平台上运行。

+   `SR_004`: 本系统的任何网页至少在2秒内响应。

# 摘要

在本章中，你学习了软件架构师在软件开发团队中的作用。本章还涵盖了软件开发流程模型的基础和需求收集过程。你还有机会了解如何创建你的Azure账户，该账户将在本书的案例研究中使用，这在上一节中已经向你介绍。此外，你还学习了功能性和非功能性需求以及如何使用用户故事来创建它们。这些技术无疑将帮助你交付更好的软件项目。

在下一章中，你将有机会了解功能性和非功能性需求对于软件架构的重要性。

# 问题

1.  软件架构师需要具备哪些专业知识？

1.  Azure如何帮助软件架构师？

1.  软件架构师如何决定在项目中使用最佳的软件开发流程模型？

1.  软件架构师如何为需求收集做出贡献？

1.  软件架构师在需求规范中需要检查哪些类型的需求？

1.  设计思维如何帮助软件架构师在需求收集过程中？

1.  用户故事如何帮助软件架构师在编写需求的过程中？

1.  开发高性能软件有哪些好的技术？

1.  软件架构师如何检查用户需求是否正确实施？

# 进一步阅读

这里有一些书籍和链接，你可以考虑阅读以获取更多关于本章的信息：

+   [https://www.packtpub.com/virtualization-and-cloud/hands-azure-developers](https://www.packtpub.com/virtualization-and-cloud/hands-azure-developers)

+   [https://azure.microsoft.com/en-us/overview/what-is-azure/](https://azure.microsoft.com/en-us/overview/what-is-azure/)

+   [https://azure.microsoft.com/en-us/services/devops/](https://azure.microsoft.com/en-us/services/devops/)

+   [https://docs.microsoft.com/en-us/dotnet/core/about](https://docs.microsoft.com/en-us/dotnet/core/about)

+   [ASP.NET Core 文档 - Microsoft 文档](https://docs.microsoft.com/en-us/aspnet/core/)

+   [《全栈Web开发：使用ASP.NET Core》- Packt出版社](https://www.packtpub.com/web-development/hands-full-stack-web-development-aspnet-core)

+   [敏捷宣言](https://agilemanifesto.org/)

+   [《软件工程》（第10版）- 伊恩·索默维尔](https://www.amazon.com/Software-Engineering-10th-Ian-Sommerville/dp/0133943038)

+   [《软件工程实践者》- 罗杰·普雷斯科曼](https://www.amazon.com/Software-Engineering-Practitioners-Roger-Pressman/dp/0078022126/)

+   [Scrum指南](https://scrumguides.org/)

+   [《专业Scrum大师手册》- Packt出版社](https://www.packtpub.com/application-development/professional-scrummasters-handbook)

+   [ASP.NET Core 性能最佳实践 - Microsoft 文档](https://docs.microsoft.com/en-us/aspnet/core/performance/performance-best-practices)

+   [Microsoft HoloLens](https://www.microsoft.com/en-us/hololens)

+   [增量构建模型 - 维基百科](https://en.wikipedia.org/wiki/Incremental_build_model)

+   [瀑布模型 - 维基百科](https://en.wikipedia.org/wiki/Waterfall_model)
