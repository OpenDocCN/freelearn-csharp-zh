# 前言

我仍然记得我害怕告诉父母我要学习游戏开发的那一刻。在当时，在我的地区，这被视为大多数父母眼中的孩子气欲望，一个没有未来的职业，但我足够固执，不在乎，并追随我的梦想。今天，游戏开发已经成为最大的行业之一，其收入超过了电影业。

当然，追随我的梦想比我想的要困难得多。与我有着相同梦想的人迟早会面对这样一个事实：开发游戏是一项困难的任务，需要在不同领域有深入的知识。遗憾的是，大多数人因为这种难度而放弃，但我坚信，有了适当的指导和工具，你可以使你的职业道路更加容易。在我的情况下，帮助我降低学习曲线的是学习使用 Unity。

欢迎阅读这本关于 Unity 2022 的书。在这里，你将学习如何使用最新的 Unity 功能以最简单的方式创建你的第一个视频游戏。Unity 是一个提供强大但易于使用的功能以解决游戏开发中最常见问题的工具，如渲染、动画、物理、音效和效果。我们将使用所有这些功能来创建一个简单但完整的游戏，学习处理 Unity 所需的所有细微差别。

如果你已经阅读过这本书的 2021 年版，你会发现内容不仅已经更新到最新的 Unity 和包版本，而且在 2022 年还引入了新的内容，例如对新的输入系统的介绍。

在这本书结束时，你将能够以使用 Unity 的方式开始深入研究你感兴趣的领域，以建立你的职业生涯或仅仅为了乐趣而创建业余游戏。Unity 是一个多才多艺的工具，可以用于专业和业余项目，并且每天都有越来越多的人在使用它。

值得注意的是，Unity 不仅可以用于创建游戏，还可以用于任何类型的交互式应用程序，从简单的移动应用到复杂的培训或教育应用（称为**严肃游戏**），使用最新的技术，如增强现实或虚拟现实。因此，即使我们在这里创建游戏，你也在开始一条可以通向许多可能的专业化的学习之路。

# 这本书适合谁阅读

由于这本书的结构方式，不同背景的人都可以利用整本书或其中的一部分。如果你有基本的面向对象编程知识，但从未创建过游戏，或者从未在 Unity 中创建过游戏，你会发现这本书是游戏开发和 Unity 从基础到高级概念的不错入门。即使你是经验丰富的 Unity 开发者，想要学习如何使用其最新功能，这本书的大部分内容也会对你很有用。

另一方面，如果您没有任何编程知识，您也可以利用这本书，因为大多数章节不需要编程经验就可以学习。这些章节将为您提供强大的技能集，以开始学习 Unity 中的编码，使学习过程比之前更容易，一旦您掌握了编码的基础，您就可以利用本书的脚本章节。此外，随着视觉脚本的引入，如果您更习惯于基于节点的脚本，您将有一个备选语言。

# 本书涵盖的内容

*第一章*，*创建 Unity 项目*，教您如何在您的计算机上安装和设置 Unity，以及如何创建您的第一个项目。

*第二章*，*编辑场景和游戏对象*，教您场景和游戏对象的概念，以及 Unity 描述游戏世界组成的 Unity 方式。

*第三章*，*与场景和游戏对象协作*，是我们将创建第一个关卡布局的地方，我们将使用地形和 ProBuilder Unity 功能进行原型设计。

*第四章*，*导入和集成资源*，是我们将创建第一个关卡布局的地方，我们将使用地形和 ProBuilder Unity 功能进行原型设计。

*第五章*，*C#和视觉脚本简介*，是本书的第一章编程内容。我们将学习如何使用 Unity 的方式用 C#创建我们的第一个脚本，然后我们将探索如何使用新的基于节点的编码语言——视觉脚本（Visual Scripting）来完成同样的任务。其余的编程章节将展示如何使用这两种语言编写游戏代码。

*第六章*，*实现移动和生成*，教您如何编程对象的移动以及如何生成它们。本章介绍了新的 Unity 输入系统。从现在开始，假设您具备一般的编程知识。

*第七章*，*物理碰撞和健康系统*，教您如何配置对象的物理设置以检测两个对象何时发生碰撞并对此做出反应，从而创建一个健康系统，在这种情况下。

*第八章*，*胜负条件*，涵盖了检测游戏何时应该结束的方法，包括玩家胜利和失败的情况。

*第九章*，*为构建敌人实现游戏 AI*，介绍了如何使用几个 Unity 功能创建基本的 AI，以在我们的游戏中创建具有挑战性的敌人。

*第十章*，*使用 URP 和 Shader Graph 的材质和效果*，展示了如何使用最新的 Unity 渲染系统（通用渲染管线，或 URP）以及如何使用 Shader Graph 功能创建效果。

*第十一章*，*使用粒子系统和视觉效果图创建视觉效果*，教您如何使用 Unity 的两个主要工具——粒子系统（Particle Systems）和视觉效果图（VFX Graph）——来创建如水火等视觉效果，以及如何编写根据游戏中的情况控制它们的脚本。

*第十二章*，*使用通用渲染管道进行光照*，探讨了光照这一概念，它足够重要以至于可以拥有自己的章节。在这里，我们将深化我们对通用渲染管道的了解，特别是其光照功能。

*第十三章*，*使用后处理实现全屏效果*，教你如何使用通用渲染管道的后处理功能在你的场景图形上添加一层效果，以获得当今大多数游戏都有的电影效果。

*第十四章*，*声音和音乐集成*，涵盖了一个大多数初学者开发者都低估了的话题；在这里，我们将学习如何正确地将声音和音乐添加到我们的游戏中，并考虑其对性能的影响。这也包括如何编写声音脚本。

*第十五章*，*用户界面设计*，探讨了用户界面（UI）。在所有向用户传达信息的图形方式中，UI 是最直接的一种。我们将学习如何使用 Unity UI 系统以文本、图像和生命条的形式展示信息，以及如何编写 UI 脚本。

*第十六章*，*使用 UI Toolkit 创建 UI*，探讨了 UI Toolkit，它是我们在*第十五章，用户界面设计*中学到的 Canvas UI 系统的继任者。我们将探索它，以便为 Unity 未来使用基于 HTML 的工具包做好准备。

*第十七章*，*使用 Animator、Cinemachine 和 Timeline 创建动画*，将我们带入了迄今为止创建的静态场景之外。在这一章中，我们将开始移动我们的角色并使用最新的 Unity 功能来创建场景，以及如何编写它们的脚本。

*第十八章*，*场景性能优化*，讨论了让我们的游戏表现良好并非易事，但确实是发布游戏所必需的。在这里，我们将学习如何分析我们游戏的表现并解决最常见的性能问题。

*第十九章*，*构建项目*，教你如何将你的 Unity 项目转换为可执行格式，以便将其分发给其他人并在没有 Unity 安装的情况下运行。

*第二十章*，*Unity 中的增强现实*，教你如何使用 Unity 的 AR Foundation 包创建 AR 应用程序，这是使用 Unity 创建 AR 应用程序的最新方法之一。

# 为了充分利用这本书

你将通过这本书的章节开发一个完整的项目，虽然你可以只阅读章节，但我强烈建议你在阅读本书的过程中练习这个项目中的所有步骤，以获得正确学习这里展示的概念所需的经验。章节设计得可以让你自定义游戏，而不是创建书中展示的确切游戏。然而，请考虑不要偏离主题太远。

项目文件按章节分割，每个文件夹都设计为累积方式，每个文件夹只包含章节中引入的新文件或更改的文件。这意味着，例如，如果一个文件自第一章以来没有更改，您将不会在第二章及以后找到它；那些章节将仅使用第一章中引入的文件。这允许您轻松地看到我们在每个章节中做了什么更改，轻松地识别所需更改，并且如果您由于某种原因无法完成，例如，第三章，您可以直接在第三章的基础上继续第四章的步骤。此外，请注意，第十五章至第十九章将有两个版本的文件，即 C#版本和视觉脚本版本。

| **本书中涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Unity 2022.1 | Windows, macOS X 或 Linux（任何） |
| Visual Studio 2022 Community | Windows 或 macOS X（任何） |
| XCode 13 | macOS X |

虽然我们将看到如何使用 XCode 13，但它对于大多数章节不是必需的。此外，Linux 中还有 Visual Studio 的替代品，如 Visual Studio Code。

如果您正在使用本书的数字版，我们建议您亲自输入代码或通过 GitHub 仓库（下一节中提供链接）访问代码。这样做将帮助您避免与代码复制和粘贴相关的任何潜在错误。

## 下载示例代码文件

本书代码包托管在 GitHub 上，网址为[`github.com/PacktPublishing/Hands-On-Unity-2022-Game-Development-Third-Edition`](https://github.com/PacktPublishing/Hands-On-Unity-2022-Game-Development-Third-Edition)。我们还有其他来自我们丰富图书和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

## 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表彩色图像的 PDF 文件。您可以从这里下载：[`static.packt-cdn.com/downloads/9781803236919_ColorImages.pdf`](https://static.packt-cdn.com/downloads/9781803236919_ColorImages.pdf)。

## 使用的约定

本书中使用了多种文本约定。

`CodeInText`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。例如：“将其着色器设置为 `Universal Render Pipeline/Particles/Unlit`。”

**粗体**：表示新术语、重要单词或屏幕上出现的单词。例如，菜单或对话框中的单词在文本中显示如下。例如：“创建一个新的空 GameObject（**GameObject** | **Create Empty**）。”

警告或重要提示显示如下。

小贴士和技巧显示如下。

# 联系我们

我们始终欢迎读者的反馈。

**总体反馈**：请将邮件发送至 `feedback@packtpub.com`，并在邮件主题中提及本书的标题。如果您对本书的任何方面有疑问，请通过 `questions@packtpub.com` 发送邮件给我们。

**勘误**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在此书中发现错误，我们将不胜感激，如果您能向我们报告，我们将不胜感激。请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，点击“提交勘误”，并填写表格。

**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过`copyright@packtpub.com`与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[`authors.packtpub.com`](http://authors.packtpub.com)。

# 分享您的想法

一旦您阅读了《Hands-On Unity 2022 Game Development, Third Edition》，我们非常乐意听到您的想法！请[点击此处直接访问此书的亚马逊评论页面](https://packt.link/r/1803236914)并分享您的反馈。

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

您喜欢在旅途中阅读，但无法携带您的印刷书籍到任何地方吗？

您的电子书购买是否与您选择的设备不兼容？

请放心，现在，随着每本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何地点、任何设备上阅读。从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止于此，您还可以获得独家折扣、时事通讯和每日免费内容的每日电子邮件。

按照以下简单步骤获取这些好处：

1.  扫描二维码或访问以下链接

![免费 PDF 二维码](img/B18585_QR_Free_PDF.png)

[`packt.link/free-ebook/9781803236919`](https://packt.link/free-ebook/9781803236919)

1.  提交您的购买证明

1.  就这些！我们将直接将您的免费 PDF 和其他好处发送到您的电子邮件。
