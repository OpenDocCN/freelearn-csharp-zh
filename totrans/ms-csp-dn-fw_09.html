<html><head></head><body><div class="chapter" title="Chapter&#xA0;9.&#xA0;Architecture"><div class="titlepage" id="aid-1DOR02"><div><div><h1 class="title"><a id="ch09"/>Chapter 9. Architecture</h1></div></div></div><p>This chapter and the next one are dedicated to different views of application development. In <a class="link" title="Chapter 10. Design Patterns" href="part0055.xhtml#aid-1KEEU1">Chapter 10</a>, <span class="emphasis"><em>Design Patterns</em></span>, we will cover design patterns, good practices, and different solutions provided by the theorists about them. However, in this chapter, our goal is the structure of the application itself and the tools available its construction.</p><p>In this chapter, first, we'll recommend a very useful guide to help you in the selection of the model to be used, depending on the application you have to build; and we'll go on to the process itself, as recommended by Microsoft Solutions Framework and its Governance Model. Security planning and design should also be considered by creating a <span class="emphasis"><em>Threat Model</em></span>, addressing security scenarios.</p><p>To adequately build the different deliverables that the application's life cycle requires, we'll use Visio and check how this tool can be the perfect complement to the application's architect team, with all types of templates to help in the process.</p><p>Then, in the area of development, testing, and deployment, we'll dig into Visual Studio Enterprise and learn how to reverse-engineer code and generate code maps and diagrams and its support for UML.</p><p>Finally, we'll cover some aspects related to the final deployment phase and the different solutions at our disposal with the current tools.</p><p>Altogether, in this chapter, we will discuss following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">The election of an architecture</li><li class="listitem">The role of Visio</li><li class="listitem">The database design</li><li class="listitem">Visual Studio architecture, testing, and analysis tools</li></ul></div><div class="section" title="The election of an architecture"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec42"/>The election of an architecture</h1></div></div></div><p>The<a id="id716" class="indexterm"/> first problem that arises when a new application is projected has much to do with the election of the model and the tools and artifacts that will better suit our needs and requirements.</p><p>Microsoft published <span class="emphasis"><em>.NET Technology Guide for Business Applications</em></span> in 2013, authored by Cesar de la Torre and David Carmona (both senior program managers at Microsoft/Redmond) to provide its customers with a vision about the principles and restrictions to be considered <a id="id717" class="indexterm"/>when selecting a model for an application. You can freely download it at <a class="ulink" href="https://blogs.msdn.microsoft.com/microsoft_press/2013/11/13/free-ebook-net-technology-guide-for-business-applications/">https://blogs.msdn.microsoft.com/microsoft_press/2013/11/13/free-ebook-net-technology-guide-for-business-applications/</a>.</p><p>In summary, the guide offers an exhaustive tour of all the different scenarios that developers might face and details the pros and cons that you should consider before deciding which tools and technologies are adequate for your business problem.</p><div class="section" title="The Microsoft platform"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec90"/>The Microsoft platform</h2></div></div></div><p>Once this <a id="id718" class="indexterm"/>selection is made, you can dig into <a id="id719" class="indexterm"/>
<span class="strong"><strong>Application Lifetime Management</strong></span> (<span class="strong"><strong>ALM</strong></span>). So, what's the path to follow in order to get to a happy end? Consider that even today, some facts reflected in statistics seem frightening:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">One out of six IT projects ends up having an average cost of 200% over the projected target and a schedule delay of 70% (source<span class="emphasis"><em>: Harvard Business Review</em></span>: <a class="ulink" href="https://hbr.org/2011/09/why-your-it-project-may-be-riskier-than-you-think/ar/1">https://hbr.org/2011/09/why-your-it-project-may-be-riskier-than-you-think/ar/1</a>)</li><li class="listitem">Economy losses just in the United States are estimated at $50-$150 billion per year due to different types of failed IT projects (source: <span class="emphasis"><em>Gallup Business Review</em></span>: <a class="ulink" href="http://www.gallup.com/businessjournal/152429/cost-bad-management.aspx#1">http://www.gallup.com/businessjournal/152429/cost-bad-management.aspx#1</a>)</li><li class="listitem">Fewer than a third of all projects were successfully completed on time and on the budget over the past year (source: <span class="emphasis"><em>Standish Group</em></span>: <a class="ulink" href="https://www.versionone.com/assets/img/files/CHAOSManifesto2013.pdf">https://www.versionone.com/assets/img/files/CHAOSManifesto2013.pdf</a>)</li></ul></div><p>With these facts in mind, we need to explore how to properly manage a new project with some confidence and within the schedule and target that we initially foresaw.</p></div><div class="section" title="A universal platform"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec91"/>A universal platform</h2></div></div></div><p>On one hand, we <a id="id720" class="indexterm"/>count on a complete set of tools and technologies (what we understand by the development platform) that allow any developer to build applications for any type of model, platform, or technology.</p><p>This universal offer is even clearer now that it was in the Guide's publication, given the new options around the Universal Windows Platform and .NET Core (which we've already mentioned in this book and will see in more detail in the final chapter).</p><p>In addition, ASP.NET Core, and the rest of the initiatives related to Node.js, Apache Cordova, Linux support in Azure, SQL Server support in Linux, Office for Mac OS, and even the recent Visual Studio for Mac, present a vast panorama of opportunities for developers, which extends beyond Windows and its related technologies.</p><p>The next diagram was officially published by Microsoft and reviewed in detail by several evangelists, showing the continuous growth in the scope of the Microsoft Development ecosystem:</p><div class="mediaobject"><img src="../Images/image00596.jpeg" alt="A universal platform"/></div><p style="clear:both; height: 1em;"> </p><p>We saw in this book that .NET has kept evolving since the beginning, and now, it provides a state-of-the-art developing experience no matter what the type of application to be developed is, or whether we are coding for the server or the client:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">On the server side, you can program cloud services or on-premise services equally well, using C#, or you can use Node.js as a backend, as we saw in the previous chapter. The location of the server is also independent since everything you install and deploy on your server is also installable and deployable in Azure.</li><li class="listitem">Also, with the new ASP.NET CORE version, you can deploy your applications in two ways: using <code class="literal">Microsoft.AspNetCore.Server.WebListener</code> (which is Windows-only) or with <code class="literal">Microsoft.AspNetCore.Server.Kestrel</code>, which is cross-platform and can work in any host.</li><li class="listitem">On the <a id="id721" class="indexterm"/>client side, you can build applications for the desktop either using Windows Forms, Windows Presentation Foundation, or even HTML5 + CSS3 + JavaScript for browser based solutions inside or outside Microsoft devices.</li><li class="listitem">The second option is now empowered by the excellent support that Visual Studio offers for applications for Apache/Cordova and/or Xamarin as mobile solutions that run anywhere.</li></ul></div><p>And, of course, this is just a rough view of the large amount of possibilities now available in the platform, which keeps on growing.</p></div><div class="section" title="The MSF application model"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec92"/>The MSF application model</h2></div></div></div><p>Microsoft Solutions Framework is, as defined by Wikipedia:</p><div class="blockquote"><blockquote class="blockquote"><p>"Microsoft Solutions Framework (MSF)<a id="id722" class="indexterm"/> is a set of principles, models, disciplines, concepts, and guidelines for delivering information technology solutions from Microsoft. MSF is not limited to developing applications only, it is also applicable to other IT projects like deployment, networking or infrastructure projects. MSF does not force the developer to use a specific methodology (Waterfall, Agile) but lets them decide what methodology to use."</p></blockquote></div><p>So, MSF sits <a id="id723" class="indexterm"/>on top of any methodology and recommends what to do in all phases of ALM. It has been around for four versions since its creation, the fourth being the latest revision.</p><p>The two models defined by MSF are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">The <span class="strong"><strong>Team Model</strong></span>, which<a id="id724" class="indexterm"/> deals with the people who compound the development and management of the project, and their responsibilities and operations</li><li class="listitem">The <span class="strong"><strong>Governance Model</strong></span>, previously<a id="id725" class="indexterm"/> called the <span class="strong"><strong>Process Model</strong></span>, which describes the different phases to pass through when building a project, and that includes five or six phases depending on the version to be used, going from the first steps to the final implementation and deployment (and even further)</li></ul></div><p>It also defines three disciplines or sets of tasks to be performed and guides to follow in relation to the project's completion. These disciplines are Project Management, Risk Management, and Readiness Management. The official Microsoft documentation on the ALM offers a clear schema of these concepts:</p><div class="mediaobject"><img src="../Images/image00597.jpeg" alt="The MSF application model"/></div><p style="clear:both; height: 1em;"> </p><p>Let's review the most important keys of these models and how they explain and propose well-defined procedures and practices along the ALM.</p><div class="section" title="The Team Model"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec62"/>The Team Model</h3></div></div></div><p>The <a id="id726" class="indexterm"/>Team Model is based on a schema that defines the different roles <a id="id727" class="indexterm"/>you can assign to the development team.</p><p>Microsoft proposes a new Team Model, as opposed to the classical Hierarchical Model, in order to avoid its typical drawbacks, which summarizes in several aspects: communication overhead, misunderstanding from non-direct contacts, lack of clarity in team roles and responsibilities, detached members, and process overheads.</p><p>MSF proposes, in turn, that the Team Model be made up of a <span class="emphasis"><em>team of peers</em></span>, whose members relate to each other as equals and know clearly which responsibility every member owns and which decisions are based on consensus.</p><p>The Team Model gives all members an equally important role in the final success of the project. In this way, many of the unclear responsibilities and vague definitions that are common to other Project Management solutions are suitably addressed.</p><p>In the next <a id="id728" class="indexterm"/>graphic, you can see how the authors and evangelists of<a id="id729" class="indexterm"/> the official Microsoft course on MSF organize these roles around the concept of a Team of Peers:</p><div class="mediaobject"><img src="../Images/image00598.jpeg" alt="The Team Model"/></div><p style="clear:both; height: 1em;"> </p><p>As you can see in the official schema, there are seven roles—all declared of having equal importance. Note, however, that for small teams, the same person might appear in more than one role.</p><p>In summary, the main responsibilities of each role are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Product management</strong></span>: Be the <a id="id730" class="indexterm"/>contact with the customer, guaranteeing its satisfaction and serving as the voice of the customer for the Program management role.<p>The functional areas for this role are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Marketing/corporate communications</li><li class="listitem">Business analysis</li><li class="listitem">Product planning</li></ul></div></li><li class="listitem"><span class="strong"><strong>Program management</strong></span>: Be in <a id="id731" class="indexterm"/>charge of managing the project's constraints, and be the voice of the team with product management.<p>Overall, the functional areas should be:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Project management</li><li class="listitem">Program management</li><li class="listitem">Resource management</li><li class="listitem">Process assurance</li><li class="listitem">Project quality management</li><li class="listitem">Project operations</li></ul></div></li><li class="listitem"><span class="strong"><strong>Architecture</strong></span>: The <a id="id732" class="indexterm"/>goal is to design the solution in a way as per the business goals without forgetting the project's limitations (the budget, schedule, and so on).<p>The functional areas of this role are mainly these two:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Solution architecture</li><li class="listitem">Technical architecture</li></ul></div></li><li class="listitem"><span class="strong"><strong>Development</strong></span>: Generate<a id="id733" class="indexterm"/> code, agreeing with the project specifications, style indications, schedule milestones, and so on.<p>The functional areas in this case as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Solution development</li><li class="listitem">Technology consulting</li></ul></div></li><li class="listitem"><span class="strong"><strong>Testing</strong></span>: This is to take care of <a id="id734" class="indexterm"/>testing when all the issues are correctly addressed.<p>In general, four aspects of testing are considered critical (in different scenarios):</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Regression testing</li><li class="listitem">Functional testing</li><li class="listitem">Usability testing</li><li class="listitem">System testing</li></ul></div></li><li class="listitem"><span class="strong"><strong>User experience</strong></span>: This is<a id="id735" class="indexterm"/> understood as another form of testing and should improve the user experience and performance.<p>Here, the goals are closer to the user interaction:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Accessibility</li><li class="listitem">Internationalization</li><li class="listitem">Technical support communications</li><li class="listitem">Training</li><li class="listitem">Usability</li><li class="listitem">User interface design</li></ul></div></li><li class="listitem"><span class="strong"><strong>Release operations</strong></span>: All <a id="id736" class="indexterm"/>operations require satisfactory installation, plus giving hints to the team with respect to future releases.<p>In this final phase, the functional tasks are mainly as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Accessibility</li><li class="listitem">Internationalization</li><li class="listitem">Technical support communications</li><li class="listitem">Training</li><li class="listitem">Usability</li><li class="listitem">User interface design</li></ul></div></li></ul></div><p>The way the Team Model is established, however, makes some roles incompatible. This depends on the type of responsibilities that a role owns because some of them are considered opposite in nature. The following graphic shows this situation in a table:</p><div class="mediaobject"><img src="../Images/image00599.jpeg" alt="The Team Model"/></div><p style="clear:both; height: 1em;"> </p><p>This is the case, for instance, with Program Management because the type of relations you carry on is, by nature, incompatible with Product Management (mainly responsible for the team). The most irreconcilable of all roles is the developer, which is—basically—incompatible with any other.</p></div></div><div class="section" title="The Governance Model"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec93"/>The Governance Model</h2></div></div></div><p>In brief, the <a id="id737" class="indexterm"/>authors of MSF define project governance as the set of<a id="id738" class="indexterm"/> tools, guides, and techniques, which provide enough oversight, process guidance, and rigor to efficiently and effectively use project resources and deliver a solution. All this happens while handling trade-off patronage decisions and balancing adherence to a set of potentially changing project constraints.</p><p>It deals with the process of building the application, and it's traditionally divided into five or six phases depending on the model to be used. In the latest version (4.0), the schema presented by the Microsoft documentation is as follows:</p><div class="mediaobject"><img src="../Images/image00600.jpeg" alt="The Governance Model"/></div><p style="clear:both; height: 1em;"> </p><p>As you see, five phases are considered: <span class="strong"><strong>Envision</strong></span>, <span class="strong"><strong>Plan</strong></span>, <span class="strong"><strong>Build</strong></span>, <span class="strong"><strong>Stabilize</strong></span>, and <span class="strong"><strong>Deploy</strong></span>. The transition from one phase to another takes place when you hit a milestone that assumes the existence of a set of deliverables approved by all members of the team.</p><p>The main goals of these steps are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Envision</strong></span>: Here, the <a id="id739" class="indexterm"/>goal is to define a clear comprehension of what is required within the context of project constraints (the initially mentioned Guide could be helpful here as well). Also, the documentation states that it supposes to assemble the necessary team to envisage solutions with options and approaches that best meet the needs while optimally satisfying constraints.</li><li class="listitem"><span class="strong"><strong>Plan</strong></span>: The preceding phase<a id="id740" class="indexterm"/> is sort of conceptual. This phase is about to concrete the previous ideas into tangible solutions: designing and implementing database structures in the RDBMS of choice, defining the user interfaces and their interactions with the final user, defining the proper configuration of the source code management tool (Team Foundation Server is the preferred choice for the Microsoft development environments), and so on:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">In this phase, some aspects of security should be clearly established, especially those that might imply a loss of assets, revelation of private information (non-intended disclosure), possible Denial of Service (DoS) attacks, and so on.</li></ul></div></li><li class="listitem"><span class="strong"><strong>Build</strong></span>: Most people relate<a id="id741" class="indexterm"/> this to just coding, but it goes a bit further. It should also consider good practices, style guidelines, and many other coding practices:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">You can find a dedicated page for coding conventions in C# at <a class="ulink" href="https://msdn.microsoft.com/en-us/library/ff926074.aspx">https://msdn.microsoft.com/en-us/library/ff926074.aspx</a>. In addition, a comprehensive list of the naming guidelines for .NET solutions is available at <a class="ulink" href="https://msdn.microsoft.com/en-us/library/ms229002(v=vs.110).aspx">https://msdn.microsoft.com/en-us/library/ms229002(v=vs.110).aspx</a>.</li><li class="listitem">This phase also includes a willingness to learn new coding techniques and implement requirements in the best possible manner. It's interesting to note that MSF recommends that this phase should never exceed 33% percent of the total time assigned to the project.</li></ul></div></li><li class="listitem"><span class="strong"><strong>Stabilize</strong></span>: The <a id="id742" class="indexterm"/>model emphasizes that this is not just about getting rid of bugs. Sometimes the problem lies in the usage of the application's UI, the time required to access certain data after a request, or taking care that no collateral effects appear linked to a given process:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Moreover, the user's perspective is very important as well, and certain techniques come in handy, such as unit tests, or behavior-driven tests, which simulate use cases from the beginning to the end.</li><li class="listitem">Of course, security is another important aspect here. Behavior-driven tests should include all the security aspects evaluated and addressed if the Threat model has been properly designed.</li></ul></div></li><li class="listitem"><span class="strong"><strong>Deploy</strong></span>: This is <a id="id743" class="indexterm"/>about integrating the solution successfully into production and transferring the rest of the management to the support teams designated for that purpose. It's the final phase, but many times, its ending just connects with the beginning of the second version (or update, or release, you name it…).<div class="note" title="Note"><h3 class="title"><a id="tip17"/>Tip</h3><p>Just to deal with the deployment phase, Microsoft later created the Microsoft Operations Framework proposal, which covers every aspect of deployment, especially for applications with a certain volume and complexity (rising up to an entire operating system).</p><p>These complex cases are themselves treated as another project, with all its phases and considerations. In subsequent versions of MOF, the entire coverage for any IT operation is considered, together with all scenarios that we mentioned earlier: on-premises, in the cloud, mixed, and so on.</p><p>You can access the complete documentation about this subject on its dedicated website at <a class="ulink" href="https://msdn.microsoft.com/en-us/library/cc506049.aspx">https://msdn.microsoft.com/en-us/library/cc506049.aspx</a>.</p></div></li></ul></div></div><div class="section" title="The Risk Model"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec94"/>The Risk Model</h2></div></div></div><p>The Risk Model<a id="id744" class="indexterm"/> explains how to deal with security along all the previous phases and <a id="id745" class="indexterm"/>how to take security into consideration from the very beginning of the application's life cycle. Some theoreticians prefer to include it in the process model itself, as we saw in the diagram at the beginning of this chapter.</p><p>We are going to cover security in more depth in <a class="link" title="Chapter 11. Security" href="part0065.xhtml#aid-1TVKI1">Chapter 11</a>, <span class="emphasis"><em>Security</em></span>, (based on the OAuth 2.0 standard), so it is not the goal to discuss these techniques in depth here, but I would like to review the principles on which the Risk Model is based.</p><p>The MSF Risk Management<a id="id746" class="indexterm"/> discipline makes a distinction between risks and issues (or problems that already exist or known problems). Thus, it defines a type of risk management that proactively identifies, analyzes, and addresses risks in order to improve the probability of success.</p><p>The strategy is to anticipate rather than react to problems, so the team should prepare for problem resolutions before problems occur in order to be able to react proactively and directly to the root causes, not only to symptoms.</p><p>The official documentation schematizes risk management in the following graphic:</p><div class="mediaobject"><img src="../Images/image00601.jpeg" alt="The Risk Model"/></div><p style="clear:both; height: 1em;"> </p><p>As you can see, the first step is identifying and stating a given risk. It follows an analysis and prioritization of the problem to be resolved, which goes along with a mitigation plan and schedule.</p><div class="note" title="Note"><h3 class="title"><a id="note23"/>Note</h3><p>In the planning phase, different areas of the application are assigned to different team members, and each member assumes the responsibility for the possible risks linked to it.</p></div><div class="section" title="Risk evaluation"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec63"/>Risk evaluation</h3></div></div></div><p>The MSF documentation also<a id="id747" class="indexterm"/> establishes a classification of the risks according to this table, which lists the possible sources in four types of risks:</p><div class="informaltable"><table border="1"><colgroup><col/><col/></colgroup><thead><tr><th valign="bottom">
<p>Risk classifications</p>
</th><th valign="bottom">
<p>Risk sources</p>
</th></tr></thead><tbody><tr><td valign="top">
<p>People</p>
</td><td valign="top">
<p>Customers, end users, stakeholders, personnel, organizations, skills, and politics</p>
</td></tr><tr><td valign="top">
<p>Process</p>
</td><td valign="top">
<p>Mission and goals, decision-making, project characteristics, budget, costs, schedules, requirements, designs, building, and testing</p>
</td></tr><tr><td valign="top">
<p>Technology</p>
</td><td valign="top">
<p>Security, development and test environments, tools, deployment, support, operations environment, and<a id="id748" class="indexterm"/> availability</p>
</td></tr><tr><td valign="top">
<p>Environment</p>
</td><td valign="top">
<p>Laws, regulations, competition, economy, technology, and business</p>
</td></tr></tbody></table></div></div><div class="section" title="Risk assessment"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec64"/>Risk assessment</h3></div></div></div><p>The suggested <a id="id749" class="indexterm"/>procedure to evaluate risks is to publish a maintainable and accessible list in which every risk is evaluated using two factors: impact and probability, the first one being a pre-established value that the team estimates (let's say from 1 to 100, 100 being the worst possible case).</p><p>The second factor (the probability) is generally measured using the mathematical concept linked to this measurement (that is, a value between 0 and 1, 0 being the impossible and 1 being absolute certainty).</p><p>Later, both factors are multiplied and ordered as descending, so the most dangerous risks appear at the top, and the team can figure out their priority when they decide to take actions about it.</p></div><div class="section" title="Risk action plans"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec65"/>Risk action plans</h3></div></div></div><p>Different tasks can be assigned <a id="id750" class="indexterm"/>to risk management in order to better cope with potential problems once these problems are detected and sorted:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Research</strong></span>: This is the process of finding more information about the risk before taking any action</li><li class="listitem"><span class="strong"><strong>Acceptance</strong></span>: This means that it would be acceptable to live with the consequences if the risk occurs</li><li class="listitem"><span class="strong"><strong>Avoidance</strong></span>: If we change the project's scope, would the risk be avoided as well?</li><li class="listitem"><span class="strong"><strong>Transfer</strong></span>: In some cases, it's possible to transfer the risk to other projects, teams, organizations, or individuals</li><li class="listitem"><span class="strong"><strong>Mitigation</strong></span>: What can the team do to reduce any of the two factors mentioned earlier (probability or impact)?</li><li class="listitem"><span class="strong"><strong>Contingency plan</strong></span>: The team should evaluate whether a planned strategy would help in case of the risk becoming real</li></ul></div><p>With all these considerations, the team will collect and design a set of possible activities related to the Risk Model. Once that is done, the MSF documentation divides the proposed actions into two main areas, which they catalog as proactive and reactive.</p><p>The proactive approach means mitigation, that is, taking actions ahead of time in order to prevent a risk from occurring altogether, or—if the risk is inevitable—to reduce its impact to a level that can be considered acceptable.</p><p>In the other case, we have to manage actions to reduce real problems (the risk became real), so it's imperative to analyze possible problems in advance and—let's face it—place ourselves in the worst case, imagining all feasible solutions. The team should also define a trigger, something that—if it happens—should start the contingency plan.</p><p>Observe that these<a id="id751" class="indexterm"/> triggers (the same as the risks linked to them) not only have to do with code, but also with many other factors. The MSF documentation cites a few: a team member's resignation, the number of bugs exceeding the acceptable limit, or a milestone completed with a significant delay; these are just some common cases.</p><p>In summary, the MSF assesses these rules, stating that Risk Management should be:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Comprehensive</strong></span>: It should address all of the elements in a project (not just technology elements, but people and process as well)</li><li class="listitem"><span class="strong"><strong>Systematic</strong></span>: It should incorporate a reproducible process for project risk management</li><li class="listitem"><span class="strong"><strong>Continuous</strong></span>: It should occur along the entire project life cycle, not just in the first two phases</li><li class="listitem"><span class="strong"><strong>Proactive</strong></span>: It should seek to avoid or minify the impact of risk occurrences</li><li class="listitem"><span class="strong"><strong>Flexible</strong></span>: It should be adaptable to a wide range of risk analysis methodologies</li><li class="listitem"><span class="strong"><strong>Future-oriented</strong></span>: It should be committed to individual- and enterprise-level learning and be supported by a Knowledge Base that serves for future endeavors later on</li></ul></div></div></div></div></div>
<div class="section" title="CASE tools" id="aid-1ENBI1"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec43"/>CASE tools</h1></div></div></div><p>As <a id="id752" class="indexterm"/>we've seen, MSF does not force you to work with any specific tool, since it's only about good practices, procedures, and protocols to follow in order to reach the projected goals, and all that being carried out on time and within the project's budget (almost a dream, isn't it?).</p><p>However, there are tools that can, indeed, help you build these deliverables. This includes not only the source code, but also all reports, graphic schemes, and other documents that define and clarify the hardware and software structures and the desired behavior, both in the ALM and in production. This is something that goes far beyond the coding phase since every milestone requires its own documentation.</p><p>
<span class="strong"><strong>CASE</strong></span> (<span class="strong"><strong>Computer Aided Software Engineering</strong></span>) Tools is the name given to the set of tools required for this purpose. If we talk about Microsoft, these case tools are quite numerous today.</p><p>Of course, source code is aligned with Visual Studio in its different versions (also with the express versions and Visual Studio Code, as we've seen).</p><p>Moreover, Visual Studio integrates seamlessly with <a id="id753" class="indexterm"/>
<span class="strong"><strong>Visual Studio Team Services</strong></span> (<span class="strong"><strong>VSTS</strong></span>), which the company defines as the set of services that allow software teams to share code, manage project advances and issues, and deliver software in any language (yes, in any language, including Java)— all in one package. Even more, Visual Studio Code and the latest Visual Studio 2017 can work directly with Github, as another choice for collaborative coding.</p><p>Actually, what was previously called <span class="strong"><strong>Visual Studio On-line</strong></span><a id="id754" class="indexterm"/> is now part of VSTS and allows you to code, execute, and save the development projects online, including source code control, version control, and the like. It's presented in different flavors and is excellent for source control and other coding services either on-premises or in the cloud (and it does not exclude Git or other types of repositories of code and different languages: C#, Java, JavaScript, and so on).</p><p>Besides, you can<a id="id755" class="indexterm"/> use them independently of the building model of your choice: MSF Agile, MSF for <a id="id756" class="indexterm"/>
<span class="strong"><strong>CMMI</strong></span> (<span class="strong"><strong>Capability Maturity Model Integration</strong></span>), or any other. The next diagram shows the schema of the main capabilities available in VSTS:</p><div class="mediaobject"><img src="../Images/image00602.jpeg" alt="CASE tools"/></div><p style="clear:both; height: 1em;"> </p><p>Obviously, there are many other tasks that also require proper tooling and management (actually, there are a lot), but specifically, when the programmer deals with the two first phases of the development cycle, Microsoft Visio (now in version 2016), might be a very useful one.</p></div>
<div class="section" title="The role of Visio" id="aid-1FLS41"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec44"/>The role of Visio</h1></div></div></div><p>Although <a id="id757" class="indexterm"/>it is considered part of the Microsoft Office Suite, it is actually delivered separately, and it's now part of Office 365 (online). As the company puts it, Visio's lemma is Complexity made simple, and it lets you build all sort of diagrams, which can even update dynamically (as the original data changes), covering hundreds of possible diagramming scenarios.</p><p>You can also use it in conjunction with Microsoft Project and other related tools, and its capability to import and incorporate external information makes it a perfect solution to integrate data from other sources and convert it into a useful diagram:</p><div class="mediaobject"><img src="../Images/image00603.jpeg" alt="The role of Visio"/></div><p style="clear:both; height: 1em;"> </p><div class="section" title="A first example"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec95"/>A first example</h2></div></div></div><p>Let's imagine <a id="id758" class="indexterm"/>that we already have the list of participants in our Team Model. We have discussed which role is competent for each member with them, and this information is written in an Excel sheet, indicating name, role, and photo for every member of the team. Each of the six roles has been assigned to a different person, as defined in the Team Model.</p><p>We can create an Organization Chart to express this initial statement, opening Visio and selecting <span class="strong"><strong>Organization Chart</strong></span> among the templates Visio offers from the start. We even have an assistant to lead us in the process, if we prefer.</p><p>Then, we have an options menu, <span class="strong"><strong>Data/Quick Import</strong></span>, which recovers the data we need in order to give every shape its corresponding information. This can be done automatically if you have been careful when creating the Excel data, or you can do it manually since a new pane will open up, showing the information inside the Excel Sheet (refer to the screenshot):</p><div class="mediaobject"><img src="../Images/image00604.jpeg" alt="A first example"/></div><p style="clear:both; height: 1em;"> </p><p>In the process, if you <a id="id759" class="indexterm"/>do it either automatically or manually, you'll have the choice of changing the data, reassigning any shape, or loading images from a local or remote location to complete the Team Model Schema.</p><p>The final shape should have an aspect similar to the one we include in the following figure with all roles assigned, names and pictures:</p><div class="mediaobject"><img src="../Images/image00605.jpeg" alt="A first example"/></div><p style="clear:both; height: 1em;"> </p><p>You can now save the shape in a number of different formats or share it with any collaborative resource formerly installed for the project (not just TFS).</p><p>If the previous Excel sheet is located in an accessible place (previously indicated to the assistant), any changes could be checked. For instance, in order to apply modifications to a role or to add a new field of interest, you can make changes in the Excel Sheet and they would be reflected in the shape as soon as this is open again.</p><p>We also have templates to define any hardware architecture, network design, or any other hardware of software architecture that graphically schematizes the application's structure.</p><p>For instance, let's<a id="id760" class="indexterm"/> think of a simple web application (ASP.NET MVC) that accesses a database and offers different devices to users (and form factors) along with the ability to list the contents of a few tables and modify them through CRUD operations, which we'll instruct Visual Studio to generate for us. The following figure can express this scenario using multibrowser clients:</p><div class="mediaobject"><img src="../Images/image00606.jpeg" alt="A first example"/></div><p style="clear:both; height: 1em;"> </p><p>The preceding design is done starting from a Network and Peripherals template, with no special data imported, just using the shapes corresponding to the workstation, laptop, tablet, and smartphone and the connector features of Visio.</p><p>You connect every shape with the destination by dragging and dropping the sides of the connector from the center of the shapes that play the roles of initial connection (the emitter) to the center of the destination (the receiver). Also, note that you can add as many descriptive fields as required to any shape in order to specify, for example, network identifiers, IPs, hardware characteristics, users, roles, permissions, and so on.</p></div></div>
<div class="section" title="The database design"><div class="titlepage" id="aid-1GKCM2"><div><div><h1 class="title"><a id="ch09lvl1sec45"/>The database design</h1></div></div></div><p>With respect to the<a id="id761" class="indexterm"/> database design, we don't need to use Visio. On one hand, part of the functionality linked to reverse engineering databases in Visio was deprecated as of version 2013 of the product. On the other hand, Microsoft moved a big part of this functionality to Visual Studio itself, as we mentioned in <a class="link" title="Chapter 6. SQL Database Programming" href="part0034.xhtml#aid-10DJ41">Chapter 6</a>, <span class="emphasis"><em>SQL Database Programming</em></span>, when reviewing the data access capabilities of the IDE.</p><p>Actually, we can even use <a id="id762" class="indexterm"/>
<span class="strong"><strong>SQL Server Management Studio</strong></span> (<span class="strong"><strong>SSMS</strong></span>) to generate a graphic schema of the data required for our purposes using the Database Diagrams feature of the tool.</p><p>We should make sure that the database has a valid proprietary linked to a valid login. If you didn't assign one to the database to be used, you can assign it in the <span class="strong"><strong>Properties</strong></span> dialog box of every database listed in the <a id="id763" class="indexterm"/>
<span class="strong"><strong>Object Explorer</strong></span>. Inside the <span class="strong"><strong>Files</strong></span> page, you should select a valid owner. The next graphic shows the process:</p><div class="mediaobject"><img src="../Images/image00607.jpeg" alt="The database design"/></div><p style="clear:both; height: 1em;"> </p><p>
<span class="strong"><strong>SSMS</strong></span> <a id="id764" class="indexterm"/>could still ask you about installing the required objects to manage diagram creation, and once they're accepted, you'll be able to generate a new schema.</p><p>By default, we'll have a blank schema in the editor, where we can select the tables implied in the process. I'm selecting just a couple of tables (<code class="literal">SalesPerson</code> and <code class="literal">SalesTerritory</code>) to show the relation between them in the schema along with some other capabilities.</p><p>The resulting schema <a id="id765" class="indexterm"/>should look similar to what is shown in the following screenshot. Note that the edition surface offers several options in the contextual menu, where you can add comments, other tables (not yet selected), view the details of the relationships between tables, and so on:</p><div class="mediaobject"><img src="../Images/image00608.jpeg" alt="The database design"/></div><p style="clear:both; height: 1em;"> </p><p>Observe that the editor automatically recognizes all tables' relations (in this demo, the foreign key relation named <code class="literal">FK_SalesPerson_SalesTerritory_TerritoryId</code> and the configuration details of any selected object are presented in the <span class="strong"><strong>Properties</strong></span> window, as usual).</p><p>You might need to refresh the Object Explorer, so SSMS recognizes the new diagram after you save it. If you make any modifications to the diagram that imply a change in the structure of the database, the new configuration will be checked before saving, using the values that appear in the <span class="strong"><strong>Properties</strong></span> window. Should any change be incompatible with the current restrictions, the diagram won't be saved.</p><div class="section" title="Creating the demo application in Visual Studio"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec96"/>Creating the demo application in Visual Studio</h2></div></div></div><p>Later on, we <a id="id766" class="indexterm"/>create a new ASP.NET MVC application in<a id="id767" class="indexterm"/> order to use these two tables and access their data from web pages. At creation time, when we add a new ORM model using Entity Framework in the way we saw in <a class="link" title="Chapter 6. SQL Database Programming" href="part0034.xhtml#aid-10DJ41">Chapter 6</a>, <span class="emphasis"><em>SQL Database Programming</em></span>, we'll get a similar diagram (not exactly the same but basically containing the same information). We don't show it here since it has nothing meaningful with respect to the previous output.</p><p>However, in this new diagram from inside Visual Studio, you will have access to other information related to the code the IDE generates in order to facilitate programmers with access to the database and use the Entity Framework libraries.</p><p>Such information, visible from the IDE's <span class="strong"><strong>Properties</strong></span> window, might show you interesting and specific data in relation to the objects we have selected for our diagram. This includes the template used in code generation, the code generation strategy, the name of the Entity Container, and several Boolean values (most of them changeable), indicating all aspects of such code. Refer to the following screenshot:</p><div class="mediaobject"><img src="../Images/image00609.jpeg" alt="Creating the demo application in Visual Studio"/></div><p style="clear:both; height: 1em;"> </p><p>Since our goal here is <a id="id768" class="indexterm"/>not the code itself but the process of <a id="id769" class="indexterm"/>creation and the deliverables you might generate when following the MSF, I'm going to instruct Visual Studio to generate all the scaffolding for a complete CRUD set of operations with these two tables. The generated code will then be used to reverse-engineer the resulting site from Visio and create other useful schemas.</p><p>So, I'll proceed as explained in <a class="link" title="Chapter 6. SQL Database Programming" href="part0034.xhtml#aid-10DJ41">Chapter 6</a>, <span class="emphasis"><em>SQL Database Programming</em></span>, and ask the IDE to generate all this functionality from the <span class="strong"><strong>Add Controller</strong></span> option for each of the tables selected here. It's a good practice to check the resulting files and test the basic functionality.</p><p>The only real change in the code I'll make at this point will be to add two new links in the main page (remember the <code class="literal">_Layout.cshtml</code> file), so these new options can be accessed directly from the landing page.</p><p>I also made some changes to the default information presented by the template, just to reflect the basic information offered by this demo instead of the template's information. However, the only operational changes will consist of adding a couple of links so that CRUD operations can be reached from the main page.</p><p>Thus, I'll use two <code class="literal">ListItems</code> with <code class="literal">ActionLink</code> helpers to generate the new entries in the main menu and check whether they work properly, linking to the <code class="literal">Index</code> action method for each generated controller.</p><p>As usual, these lists show the complete list of records for every table, and other links are generated automatically (<span class="strong"><strong>Edit</strong></span>, <span class="strong"><strong>Details</strong></span>, and <span class="strong"><strong>Delete</strong></span> for each individual record, plus an option at the top to create a new record). The code is pretty simple in this case:</p><div class="informalexample"><pre class="programlisting">&lt;li&gt;@Html.ActionLink("Sales Person Info", "Index", "SalesPersons")&lt;/li&gt;
&lt;li&gt;@Html.ActionLink("Sales Territory Info", "Index", "SalesTerritories")&lt;/li&gt;</pre></div><p>After checking the preceding functionality, we'll terminate the project at this time (refer to the following screenshot):</p><div class="mediaobject"><img src="../Images/image00610.jpeg" alt="Creating the demo application in Visual Studio"/></div><p style="clear:both; height: 1em;"> </p></div><div class="section" title="Website design"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec97"/>Website design</h2></div></div></div><p>There's more in the design phase, that can be solved using <a id="id770" class="indexterm"/>Visio resources and tools. Now, we have a working website to test some of the capabilities of Visio in order to reverse-engineer a website.</p><p>Visio offers two different types of web templates: <span class="strong"><strong>Conceptual Web Site</strong></span> and <span class="strong"><strong>Web Site Map</strong></span>, as you'll find out when searching for the available templates.</p><p>The first one is the type of schema that some developers like to create before any other code action. That is, it lets you define the distinct components of the website and helps you with the configuration of each one, defining its shapes and fields:</p><div class="mediaobject"><img src="../Images/image00611.jpeg" alt="Website design"/></div><p style="clear:both; height: 1em;"> </p><p>The website map, however, can be created from scratch, or it can be reverse-engineered, instructing Visio to read the file information from an already existing website. Actually, if you create a new diagram starting from this template, you'll be offered the possibility of reading the information from an existing website.</p><p>Since there are many factors involved in such task, a <span class="strong"><strong>Settings…</strong></span> button at the bottom lets you tune the way Visio should try to read the information. For this demo, since we have not published our site to any real hosting service, we can use the <code class="literal">localhost:port</code> configuration to configure Visio as to where to look for information.</p><p>Another important trick is<a id="id771" class="indexterm"/> that you should reduce the number of levels to two (in general). Finally, we can add the extensions for the Razor engine so that these files are recognized and analyzed properly.</p><p>As you'll see, many other aspects are available: the selection of communication protocols, the types of resources that appear in the list, the kind of layout to build the graphic tree, and so on:</p><div class="mediaobject"><img src="../Images/image00612.jpeg" alt="Website design"/></div><p style="clear:both; height: 1em;"> </p><p>After a few seconds, you will be<a id="id772" class="indexterm"/> presented with a new diagram containing all the selected resources present on the website.</p><p>This final schema will be organized in just the same manner as the website, that is, hierarchical, starting from the initial URL and going top-down through all the levels, as indicated in the previous configuration (be careful with this value in some scenarios, or it could take a while to finish checking all possible links generated by the schema).</p><p>Another useful configuration refers (take a look at the figure) to the number of links to be analyzed. 300 is more than enough for this demo, but depending on the site, you might miss some of them (especially those located at the deepest levels).</p><p>Besides, once the tree is created, you can tune up different views of that tree and do further research with the help of a couple of tools that Visio enables by default: <span class="strong"><strong>FILTER WINDOW</strong></span> and <span class="strong"><strong>LIST WINDOW</strong></span>. Both appear collapsed next to the editing surface resulting from the process.</p><p>Another aspect to watch is the size of the diagram. You can make it as big as you please, but by default, the schema fits in the available space (no matter how big the site is), so you might find the resulting graphic quite reduced (of course, the zooming tool will let you see it the way you prefer).</p><p>Overall, the result should look similar to what is shown in the next capture (although I've changed the size and retouched some entries to make them more visible):</p><div class="mediaobject"><img src="../Images/image00613.jpeg" alt="Website design"/></div><p style="clear:both; height: 1em;"> </p><p>When you dig into the <a id="id773" class="indexterm"/>image, all details show up, and some aspects should be noted. In the areas pertaining to the <code class="literal">SalesPersons</code> and <code class="literal">SalesTerritories</code> controllers, you'll find as many links as registers are present when the <code class="literal">Index</code> action method returns, for example.</p><p>This means that for a very long listing, the number of graphics could be unmanageable. That's why limiting the number of links to 300 happens by default.</p><p>With such a complex schema, the location of individual elements can be challenging if you do it directly from the shape. This is where <span class="strong"><strong>LIST WINDOW</strong></span> comes in handy:</p><div class="mediaobject"><img src="../Images/image00614.jpeg" alt="Website design"/></div><p style="clear:both; height: 1em;"> </p><p>You just have to locate<a id="id774" class="indexterm"/> any item in the list and double-click on it; the graphic will locate and move to that element, showing its details.</p><p>Once the item is expanded, there's a bunch of available options that you can use. You'll find another collapsible window (Shape Data), which shows all the fields associated with the element of choice (the element, usually docks to the upper-right corner of the editing surface).</p><p>You can also expand the corresponding link to see which elements will be active when the view is being presented.</p><p>Even better, you have a contextual menu, which includes the <span class="strong"><strong>Interactive Hyperlink Selection</strong></span> option. If you click on the link, a new window will open up, presenting the real page at runtime that you would see if that link is selected. Refer to the screenshot corresponding to the <span class="strong"><strong>SalesTerritories/Edit/9</strong></span> URL:</p><div class="mediaobject"><img src="../Images/image00615.jpeg" alt="Website design"/></div><p style="clear:both; height: 1em;"> </p><p>The most useful aspect <a id="id775" class="indexterm"/>of this feature is that the window is not a read, view-only snapshot, but it lets you really change the information and will operate just the same as the real page in execution.</p><p>For example, if you try to change some data and there's some incompatible information in the fields, the form will not be sent, and the error messages will show up, indicating the problem, as you can see in the following capture, in which a string is introduced where the field expects a number:</p><div class="mediaobject"><img src="../Images/image00616.jpeg" alt="Website design"/></div><p style="clear:both; height: 1em;"> </p><p>Besides, we also have the <a id="id776" class="indexterm"/>choices offered by <span class="strong"><strong>FILTER WINDOW</strong></span>, which permits the activation/deactivation of links and scripts in order to reduce the number of elements shown in the diagram:</p><div class="mediaobject"><img src="../Images/image00617.jpeg" alt="Website design"/></div><p style="clear:both; height: 1em;"> </p><p>Overall, we count on a wide number of possibilities, which only start when the initial diagram is drawn.</p></div><div class="section" title="Reports"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec98"/>Reports</h2></div></div></div><p>With all these possibilities, we can gather a good number of deliverables to accompany our project's documentation, but Visio offers some extra functionalities in order to enhance our documentation.</p><p>One option is the possibility of generating <a id="id777" class="indexterm"/>reports in several formats (Excel, MS Access, Visio Graphics, among others), starting with the current shapes we're editing.</p><p>Since these reports can also be linked, you can refresh the information as changes take place in the project. To create a new report, we just have to move to the <span class="strong"><strong>Web Site Map</strong></span> tab in Visio's main menu and select <span class="strong"><strong>Create Report</strong></span>.</p><p>We can select an entire report, which includes all the elements selected in the map (what Visio calls Inventory), or we can create partial reports in order to take care of distinct aspects, such as generating only a <span class="strong"><strong>Links Report</strong></span> or even a broken links report in the <span class="strong"><strong>Web Site Map</strong></span> tab with the <span class="strong"><strong>Links with Errors</strong></span> option.</p><p>In any case, we'll be offered a final format to save the information, which can be an Excel Sheet, a Visio Shape, an HTML page, or an XML file. If we choose HTML files, they can easily be published to a corporate Office 365, a project's dedicated SharePoint site, or just to any website convenient for our team.</p><p>The next screenshot shows a web page generated in this way, including all the links discovered on our site. A basic table is presented, although you can tune all aspects of the generator, including the type of errors you want to exclude, and so on:</p><div class="mediaobject"><img src="../Images/image00618.jpeg" alt="Reports"/></div><p style="clear:both; height: 1em;"> </p></div><div class="section" title="Many other options"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec99"/>Many other options</h2></div></div></div><p>If you are not used to working with Visio, you'll have noticed a large number of other possibilities in order to visually express the distinct aspects of a project life cycle. Many are present since previous versions, but the company has enhanced and extended the number of options and functionalities in a meaningful way.</p><p>For example, since the first versions, Visio has the ability to create and update Calendar and Time diagrams in order to manage schedules and timetables, such as PERT and Gantt diagrams.</p><p>Gantt diagrams, for<a id="id778" class="indexterm"/> example, let you control project management, task management, agendas, schedules, timetables, goal settings and, in general, a project's lifecycle. Different templates are available: subtasks with the calendar, a simple task waterfall, and so on. The following screenshot shows the starting aspect of one of these templates:</p><div class="mediaobject"><img src="../Images/image00619.jpeg" alt="Many other options"/></div><p style="clear:both; height: 1em;"> </p><p>Of course, you also have configurable calendars in which you can insert all types of data for every date in order to extend control in a much more detailed manner.</p><div class="section" title="BPMN 2.0 (Business Process Model and Notation)"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec66"/>BPMN 2.0 (Business Process Model and Notation)</h3></div></div></div><p>In relation to business processes, we find several solutions (Flow Charts, Organizational Charts, and so on), but it's worth noting that Visio now offers support for business standards as well.</p><p>The standard<a id="id779" class="indexterm"/> BPMN 2.0 is fully supported, and it offers several templates to represent the participants in the process: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">BPMN Diagrams (start from scratch)</li><li class="listitem">BPMN Process with Gateway (for processes that include a gateway with two outcomes) </li><li class="listitem">BPMN Process with Multiple Roles (for cases where there is more that one major participant) </li><li class="listitem">BPMN Address Change Process, which the tool recommends when a process participant includes more that one role or function<div class="note" title="Note"><h3 class="title"><a id="note24"/>Note</h3><p>The main statement of the standard defines BPMN, stating <span class="emphasis"><em>a standard Business Process Model and Notation (BPMN) will provide businesses with the capability of understanding their internal business procedures in a graphical notation and will give organizations the ability to communicate these procedures in a standard manner</em></span>.</p></div></li></ul></div><p>It's interesting to note that these graphical proposals complement other classical schemes, especially certain UML diagrams (such as Activity diagrams or Sequence diagrams), helping clarify some business flows in more detail.</p><p>The default BPMN Address Change Process template is a perfect example of this (refer to the following screenshot):</p><div class="mediaobject"><img src="../Images/image00620.jpeg" alt="BPMN 2.0 (Business Process Model and Notation)"/></div><p style="clear:both; height: 1em;"> </p><p>Let's take a<a id="id780" class="indexterm"/> look at what this process means: a customer changes her address and notifies a bank about it. There are three roles implied because <span class="strong"><strong>Help Desk</strong></span> passes this new information to <span class="strong"><strong>Processing Center</strong></span>, which, in turn, sends a confirmation to <span class="strong"><strong>Help Desk</strong></span>, which sends changed confirmation to the client (the bank's task ending right there). This can be expressed using a UML Sequence Diagram as well (and even a Use Case Diagram, since it implies three actors).</p><p>So, a basic UML Diagram can express the initial scenario, and we can use a more detailed BPMN diagram to be more precise about the specifics of the task steps and completion.</p></div></div><div class="section" title="UML standard support"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec100"/>UML standard support</h2></div></div></div><p>If you prefer to follow the <a id="id781" class="indexterm"/>diagrams proposed by <a id="id782" class="indexterm"/>
<span class="strong"><strong>OMG Universal Modelling Language</strong></span> (<span class="strong"><strong>OMG UML</strong></span>) (now in version 2.5), you'll also find excellent support for all types of diagrams defined by the specification (both in Visio and Visual Studio as well).</p><div class="note" title="Note"><h3 class="title"><a id="note25"/>Note</h3><p>If you're interested in the current state of the <a id="id783" class="indexterm"/>UML Standard, the complete specification is available at <a class="ulink" href="http://www.omg.org/spec/UML/Current">http://www.omg.org/spec/UML/Current</a>.</p></div><p>That is, we can design diagrams for Use Cases, Classes, Activities, Sequences, and UML State Machines since all the required artifacts are present in the related templates and extra shapes.</p><p>Just take a look at the <span class="strong"><strong>More Shapes/Software and Database/Software</strong></span> menu to find all these templates and the shapes the standard defines for them.</p></div></div>
<div class="section" title="Visual Studio architecture, testing, and analysis tools"><div class="titlepage" id="aid-1HIT82"><div><div><h1 class="title"><a id="ch09lvl1sec46"/>Visual Studio architecture, testing, and analysis tools</h1></div></div></div><p>Visio is not the only tool to help the architect in designing and organizing a software project. All versions of Visual Studio include extra tools (depending on the version) in order to aid these tasks in different ways.</p><p>If you have the Visual Studio Enterprise Edition that I'm using now, you'll find three main menu options in relation to this:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Architecture</strong></span>: Options <a id="id784" class="indexterm"/>for Code Map generation and UML diagramming (with support for all types of diagrams we just mentioned)</li><li class="listitem"><span class="strong"><strong>Testing</strong></span>: A<a id="id785" class="indexterm"/> set of tools for testing, including specific, focused dialog boxes and artifacts</li><li class="listitem"><span class="strong"><strong>Analysis</strong></span>: This <a id="id786" class="indexterm"/>covers Node.js profiling, code metrics, and code analysis, among other features.</li></ul></div><div class="section" title="Application's architecture using Visual Studio"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec101"/>Application's architecture using Visual Studio</h2></div></div></div><p>In order to maintain good coding velocity and prevent technical debt, improvements in your application's architecture<a id="id787" class="indexterm"/> are crucial. Moreover, understanding the<a id="id788" class="indexterm"/> impact of a potential change in the code is fundamental at the time of deciding whether a change should be done, and if so, what the consequences will be.</p><p>A first step is to generate a code map for the current solution. You can do it in two ways: generate it from scratch or use the <span class="strong"><strong>Generate Code Map for Solution</strong></span> option. If you opt for the latter, a new DGML editor window will show up and a complex map will show the roots of the two main nodes: the DLL itself where our code is compiled (<code class="literal">WebApplication1.dll</code>), and another node called <code class="literal">Externals</code>, where you'll find the relation of the DLLs used in the project.</p><p>You'll have to expand both nodes to understand the entire picture and their relationships. Refer to the following screenshot:</p><div class="mediaobject"><img src="../Images/image00621.jpeg" alt="Application's architecture using Visual Studio"/></div><p style="clear:both; height: 1em;"> </p><p>This type of <a id="id789" class="indexterm"/>diagrams are extremely useful<a id="id790" class="indexterm"/> in order to quickly view the main elements your application is made of. But it gets even better when we expand the nodes and identify our controllers or other configuration elements of the application.</p><p>Since every node can be expanded, we can go deeper until we reach any class' member and its dependencies. If you double-click on any node, a new window will open with the matching source code and the caret located exactly where that member is defined.</p><p>This ability gives us a distinct look at the code and its relationships, where it's possible to quickly identify which member is being used by which and which libraries a class depends on, among other useful information.</p><p>The following <a id="id791" class="indexterm"/>screenshot illustrates<a id="id792" class="indexterm"/> this, marking two factors of interest: our controllers and the application's configuration classes:</p><div class="mediaobject"><img src="../Images/image00622.jpeg" alt="Application's architecture using Visual Studio"/></div><p style="clear:both; height: 1em;"> </p><p>If you inspect the node's details, you'll see that you can keep on going deep down until you get all the details of the element checked.</p><p>Also, in the<a id="id793" class="indexterm"/> <span class="strong"><strong>Layout</strong></span> submenu of the <a id="id794" class="indexterm"/>DGML editor, you can find extra analyzers to check for circular references, finding hubs or identifying unreferenced nodes.</p><p>Besides, the <span class="strong"><strong>Filters</strong></span> window, which shows up next to the Solution Explorer, presents a list of the element types included in the diagram, all marked by default. To get a better understanding of what you have, you can unselect elements and the diagram will update automatically to show a new diagram, giving you the ability to change or save any view separately for a later study.</p><p>There's much more functionality available, as you'll see when you go through the distinct options of the editor.</p><p>The other main feature of this menu is UML diagrams. It allows you to create a separate project, modeling project, based on the UML diagram of your choice or add the new diagrams to an existing project (refer to the screenshot):</p><div class="mediaobject"><img src="../Images/image00623.jpeg" alt="Application's architecture using Visual Studio"/></div><p style="clear:both; height: 1em;"> </p><div class="section" title="Class diagrams"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec67"/>Class diagrams</h3></div></div></div><p>One of the most interesting features of Visual Studio Enterprise (and, also in some other versions) is the capability to create class diagrams from the existing code. It was originally linked to UML Class diagrams, but <a id="id795" class="indexterm"/>now it belongs directly to the class diagramming features as a separate template.</p><p>For example, we can create a new class diagram for our project from the <span class="strong"><strong>New/Class Diagram</strong></span> option in the <span class="strong"><strong>Add</strong></span> menu. This will take you to a new editing surface, where you can drag and drop classes (just our classes and not the files they're stored in).</p><p>The editor will reverse-engineer our classes, so we can easily have our controllers' diagrams in three simple actions and come up with a figure like this:</p><div class="mediaobject"><img src="../Images/image00624.jpeg" alt="Class diagrams"/></div><p style="clear:both; height: 1em;"> </p><p>Overall, we have a <a id="id796" class="indexterm"/>complete infrastructure to express the details of our solutions and comply with the life cycle frameworks: either we use MSF or any other option.</p></div></div><div class="section" title="Testing"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec102"/>Testing</h2></div></div></div><p>Testing<a id="id797" class="indexterm"/> is about checking the quality of a product. Numerous techniques allow a programmer to test software, although the first actions should define exactly what is to be tested.</p><p>There are many approaches to testing: unit tests, regression tests, behavioral tests, integration tests, cyclomatic complexity tests, and many others, although unit tests are probably the most used among programmers.</p><p>Unit tests verify the correctness of a function under certain assertions that the tester establishes using sentences expressed in the same language as the rest of the solution but specifically intended to launch a test engine.</p><div class="note" title="Note"><h3 class="title"><a id="tip18"/>Tip</h3><p>Note that this doesn't guarantee that the code unit is correct; it only guarantees that it passes the conditions asserted by the test.</p></div><p>In the Agile Development Model (and in Extreme Model), part of the development phase adheres to the Test-Driven Design paradigm. In that model, you test units of implementation (functions, classes, or modules), expecting a correct execution of the unit in a way that drives the code that follows.</p><p>In the alternative model<a id="id798" class="indexterm"/> named <span class="strong"><strong>Behavior-Driven Design</strong></span><a id="id799" class="indexterm"/> (or <span class="strong"><strong>BDD</strong></span>), we understand by behavior how a use case is resolved and completed, giving the process a collaboration context that extends the results to nonprogrammers (for instance, it can be shared with the <span class="emphasis"><em>user experience</em></span> part of the Team Model).</p><p>Visual Studio offers wide support for testing, that's focused on unit tests and the most popular testing techniques. Let's review the way it works using a new ASP.NET MVC application.</p><div class="section" title="Testing our application in Visual Studio"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec68"/>Testing our application in Visual Studio</h3></div></div></div><p>The recommended procedure to test <a id="id800" class="indexterm"/>our application in Visual Studio would be to create our application and indicate—at creation time—that we're going to use a test project as well.</p><p>To simplify this explanation and, at the same time, make it easier for you to check this feature, I'll create another MVC project, but this time, I'll make sure that a test project is selected from the beginning in parallel to the main one (refer to the following screenshot):</p><div class="mediaobject"><img src="../Images/image00625.jpeg" alt="Testing our application in Visual Studio"/></div><p style="clear:both; height: 1em;"> </p><div class="note" title="Note"><h3 class="title"><a id="tip19"/>Tip</h3><p>It's not absolutely necessary, but strongly recommendable, that you create a separate project for testing. This will also help other members of the team if you consider that testing integrates extremely well with Team Foundation Server, and you can program the cadence and types of test to perform, assign responsibilities for the results, and so on.</p></div><p>Inside the test project, a <a id="id801" class="indexterm"/>new class is created by default in order to test the <code class="literal">Home</code> controller named <code class="literal">HomeControllerTest</code>. It contains three methods, with the same names as the action methods included in the controller.</p><p>Observe, however, that both class and methods are marked with attributes [<code class="literal">TestClass</code>] and [<code class="literal">TestMethod</code>], respectively. This indicates the test engine, which members are part of the testing goals, and which ones should be only considered helper elements that collaborate in the testing process.</p><p>Now, it's time to compile the solution (both projects) and open the <span class="strong"><strong>Test Explorer</strong></span> window that you'll find in the <span class="strong"><strong>Test/Windows</strong></span> menu. After a few seconds, the test engine will detect all the tests available in the solution and show them in the upcoming list.</p><p>Note that you will be offered a menu that lets you run all the tests or just the one selected or even create a playlist in which you indicate exactly which test you want to prove (all at once).</p><p>If you select only one test and run it, when the test succeeds, it will be marked <span class="strong"><strong>Passed</strong></span>, and a new list will show the list of passed tests and the pending ones. For instance, after executing the test for the <span class="strong"><strong>About</strong></span> method, you should see something like this:</p><div class="mediaobject"><img src="../Images/image00626.jpeg" alt="Testing our application in Visual Studio"/></div><p style="clear:both; height: 1em;"> </p><p>After using the <span class="strong"><strong>Run All</strong></span> <a id="id802" class="indexterm"/>option, the three tests should pass and be listed as correct. However, what if something goes wrong? To check what happens, change the string inside the <code class="literal">About</code> test method for any other string, and save the code.</p><p>After recompiling, you will learn how the test will not appear as passed; if you run the test, it will fail, and the second window of <span class="strong"><strong>Test Explorer</strong></span> will present a list of references indicating what went wrong in order to give you a clue about how to fix the problem.</p><p>Keep in mind that tests can be debugged, as with any other code. This will surely give you more clues about what's wrong with the test and with your code.</p><p>Another aspect to keep in mind is that your testing project will have to add references to the project to be tested as well as namespaces, such as using <code class="literal">Microsoft.VisualStudio.TestTools.UnitTesting</code>. In this demo project, Visual Studio does that by default, but if you add a new testing project, those references will depend on you:</p><div class="mediaobject"><img src="../Images/image00627.jpeg" alt="Testing our application in Visual Studio"/></div><p style="clear:both; height: 1em;"> </p><p>Finally, let's mention<a id="id803" class="indexterm"/> that there are several different assertions that you can use (check the Intellisense after the <code class="literal">Assert</code> class) and also that you can opt for a different testing environment. A search for test in the <span class="strong"><strong>Extensions and Updates</strong></span> menu will show you a number of other testing frameworks that Visual Studio admits, such as NUnit Test, Jasmine, Karma, and so on.</p><p>Some of them (NUnit, for instance) are valid for C# as well, and others are focused on other languages, such as Jasmine and Karma, which are very popular when testing JavaScript solutions.</p></div><div class="section" title="The Analyze menu"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec69"/>The Analyze menu</h3></div></div></div><p>The <span class="strong"><strong>Analyze</strong></span> menu<a id="id804" class="indexterm"/> lets you calculate code metrics (such as the Cyclomatic Complexity, Depth of Inheritance, Class Coupling, and others), which offer other aspects or views of your code's quality.</p><p>You can also check the code in search for inaccuracies using the <span class="strong"><strong>Code Analysis</strong></span> configuration in the project's properties window (a feature we've already commented on in <a class="link" title="Chapter 4. Comparing Approaches for Programming" href="part0028.xhtml#aid-QMFO2">Chapter 4</a>, <span class="emphasis"><em>Comparing Approaches for Programming</em></span>).</p></div></div></div>
<div class="section" title="The end of the life cycle &#x2013; publishing the solution" id="aid-1IHDQ1"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec47"/>The end of the life cycle – publishing the solution</h1></div></div></div><p>Publication<a id="id805" class="indexterm"/> (deployment) is the final step of the Governance Model, and it may lead to a new version or upgrade.</p><p>Another common possibility is to enter into maintenance time, in which new modifications are proposed and the whole cycle starts again—only with a much more reduced scope in functionality (and thus, in the number or team members implied).</p><p>Visual Studio allows you to publish solutions in different ways depending on the type of application. Additionally, we can also use third-party versions that only require a free registration, such as the light InstallShield version that the IDE offers in the <span class="strong"><strong>Other Projects</strong></span> section.</p><p>For Web Applications, there are many options. You can configure deployment using Team Foundation Server, or in this case, we can explore how to deploy this demo right from the IDE.</p><p>Just select <span class="strong"><strong>Publish</strong></span> in the <span class="strong"><strong>Build</strong></span> menu (or right-click on the project), and a new P<span class="strong"><strong>ublish Web</strong></span> window will show the main options:</p><div class="mediaobject"><img src="../Images/image00628.jpeg" alt="The end of the life cycle – publishing the solution"/></div><p style="clear:both; height: 1em;"> </p><p>A profile is <a id="id806" class="indexterm"/>required, and you can choose a previous profile publication (if there's one defined) or select the <span class="strong"><strong>Custom</strong></span> option, give it a name, and select the publication targets: <span class="strong"><strong>Web Deploy</strong></span>, <span class="strong"><strong>Web Deploy Package</strong></span>, <span class="strong"><strong>FTP</strong></span>, or <span class="strong"><strong>File System</strong></span>.</p><p>If you want to try the results before performing a real implementation, the <span class="strong"><strong>File System</strong></span> option is useful. Create a new folder to serve as a destination, and instruct the Assistant to publish the application there.</p><p>If everything succeeds (you'll be informed about it in the <span class="strong"><strong>Output</strong></span> window), all the required files will be copied (binaries included) to the destination folder, where you'll be able to check whether anything's missing and retouch the process until is completed.</p></div>
<div class="section" title="Summary" id="aid-1JFUC1"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec48"/>Summary</h1></div></div></div><p>In this chapter, we went through the application life cycle process, starting with a review of Microsoft's Solution Framework and its basic recommendations and guidelines.</p><p>Through MSF, we explored the characteristics of the Team and Governance Models and how to configure the roles of our development people and their responsibilities and what the main assets of the application are.</p><p>We also looked at the main principles that apply to the design of a Risk Model, and the techniques used to assess the application's risks.</p><p>Then, we reviewed the many options that Visio offers in order to create deliverables that visually express different aspects of our application.</p><p>Finally, we covered other aspects of the architecture, testing, and deployment of the applications available in Visual Studio Enterprise Edition.</p><p>In the next chapter, we will keep on talking about projects, but this time, the focus will be on the quality of the code and how good practices, well-known recommendations, software patterns and the like will help you in a better software design in order to improve your solution's stability and maintenance.</p></div></body></html>