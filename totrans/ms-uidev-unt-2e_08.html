<html><head></head><body>
<div><div><h1 class="chapter-number" id="_idParaDest-79"><a id="_idTextAnchor085" class="pcalibre pcalibre1 calibre6"/>6</h1>
<h1 id="_idParaDest-80" class="calibre5"><a id="_idTextAnchor086" class="pcalibre pcalibre1 calibre6"/>Canvases, Panels, and Basic Layouts</h1>
<p class="calibre3">As discussed in the previous chapter, the majority of this text will focus on the Unity UI system, uGUI. Canvases are the core of all UI made with Unity UI. Every single uGUI element must be contained within a Canvas for it to render within a scene. It works similarly to a canvas on which an artist paints, but instead of painting on them, we lay out UI elements on them. So, we’ll start our exploration of the various UI elements provided in the uGUI system with Canvases.</p>
<p class="calibre3">Canvases serve the purpose of not only holding all the UI elements within them but also determining how the elements will render and how they will scale. It’s important to start focusing on setting up a UI that will scale at multiple resolutions and aspect ratios early on, as trying to do so later will cause a lot of headaches and extra work. Therefore, we will also discuss how to make sure our UI scales appropriately.</p>
<p class="calibre3">In this chapter, we will discuss the following topics:</p>
<ul class="calibre16">
<li class="calibre14">Creating UI Canvases and setting their properties</li>
<li class="calibre14">Creating UI Panels and setting their properties</li>
<li class="calibre14">Using the Rect Tool and the Rect Transform component</li>
<li class="calibre14">Properly setting anchor and pivot points</li>
<li class="calibre14">How to create and lay out a basic HUD</li>
<li class="calibre14">How to create a background image</li>
<li class="calibre14">How to set up a basic pop-up menu</li>
</ul>
<h1 id="_idParaDest-81" class="calibre5"><a id="_idTextAnchor087" class="pcalibre pcalibre1 calibre6"/>Technical requirements</h1>
<p class="calibre3">You can find the relevant codes and asset files of this chapter here:</p>
<p class="calibre3"><a href="https://github.com/PacktPublishing/Mastering-UI-Development-with-Unity-2nd-Edition/tree/main/Chapter%2006" class="pcalibre pcalibre1 calibre6">https://github.com/PacktPublishing/Mastering-UI-Development-with-Unity-2nd-Edition/tree/main/Chapter%2006</a></p>
<h1 id="_idParaDest-82" class="calibre5"><a id="_idTextAnchor088" class="pcalibre pcalibre1 calibre6"/>UI Canvas</h1>
<p class="calibre3">Every UI element you<a id="_idIndexMarker145" class="pcalibre pcalibre1 calibre6"/> create must be a child of a <strong class="bold">UI Canvas</strong>. To see a list of all UI elements you can create within Unity, select <strong class="bold">+</strong> | <strong class="bold">UI</strong> from the <strong class="bold">Hierarchy</strong> window, as shown in the following screenshot:</p>
<div><div><img alt="Figure 6.1: The renderable UI elements within the Unity UI (uGUI) system" src="img/Figure_06.01_B18327.jpg" class="calibre50"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.1: The renderable UI elements within the Unity UI (uGUI) system</p>
<p class="calibre3">Every one of the UI items highlighted in the preceding screenshot is a renderable UI item and must be contained within a Canvas to render. If you try to add any of those UI elements to a scene that does not contain a Canvas, a Canvas will automatically be added to the scene, and the item you attempted to create will be made a child of the newly added Canvas. To demonstrate this, try <a id="_idIndexMarker146" class="pcalibre pcalibre1 calibre6"/>adding a new <strong class="bold">UI Text</strong> element to an empty scene. You can do so by selecting <strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Text</strong>.</p>
<p class="calibre3">This will cause three new items to<a id="_idIndexMarker147" class="pcalibre pcalibre1 calibre6"/> appear in the Hierarchy list: <code>Canvas</code>, <code>Text</code>, and <code>EventSystem</code>, where the Text is a child of the Canvas.</p>
<div><div><img alt="Figure 6.2: The result of adding a UI Text element to the scene" src="img/Figure_06.02_B18327.jpg" class="calibre51"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.2: The result of adding a UI Text element to the scene</p>
<p class="calibre3">Now that you have a Canvas in your scene, any new UI elements you add to the scene will automatically be added to this Canvas.</p>
<p class="callout-heading">Note</p>
<p class="callout">If you try to take a renderable UI element out of a Canvas, it will not be drawn to the scene.</p>
<p class="calibre3">You can also create an empty Canvas by selecting <code>EventSystem</code> GameObject does not already exist within the scene, one will automatically be created for you (as you saw in the preceding screenshot). We’ll discuss the <code>EventSystem</code> GameObject further in <a href="B18327_08.xhtml#_idTextAnchor147" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 8</em></a>, but for now, all you really need to know is the <code>EventSystem</code> allows you to interact with the UI items.</p>
<p class="callout-heading">Note</p>
<p class="callout">You can have more than one Canvas in your scene, each with its own children.</p>
<p class="calibre3">When you create a Canvas, it will appear as a large rectangle within your scene. It will be significantly larger than that<a id="_idIndexMarker148" class="pcalibre pcalibre1 calibre6"/> rectangle representing the camera’s view:</p>
<div><div><img alt="Figure 6.3: The renderable UI elements within the Unity UI (uGUI) system" src="img/Figure_06.03_B18327.jpg" class="calibre52"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.3: The renderable UI elements within the Unity UI (uGUI) system</p>
<p class="calibre3">The Canvas is larger than the Camera because the Canvas component has a scaling mode on it. The scaling mode by default equates to one pixel within the UI to one Unity unit, so it’s a lot bigger. A nice consequence of this large size is that it is really easy to see your UI items as a somewhat separate entity, and this keeps it from cluttering up your camera view.</p>
<p class="calibre3">Every newly created Canvas automatically comes with four components: <strong class="bold">Rect Transform</strong>, <strong class="bold">Canvas</strong>, <strong class="bold">Canvas Scaler</strong>, and <strong class="bold">Graphic Raycaster</strong>, as shown in the following screenshot:</p>
<div><div><img alt="Figure 6.4: The components of a Canvas GameObject" src="img/Figure_06.04_B18327.jpg" class="calibre53"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.4: The components of a Canvas GameObject</p>
<p class="calibre3">Let’s explore each<a id="_idIndexMarker149" class="pcalibre pcalibre1 calibre6"/> of these components.</p>
<h2 id="_idParaDest-83" class="calibre7"><a id="_idTextAnchor089" class="pcalibre pcalibre1 calibre6"/>Rect Transform component</h2>
<p class="calibre3">Every Unity UI GameObject has a <strong class="bold">Rect Transform</strong> component <a id="_idIndexMarker150" class="pcalibre pcalibre1 calibre6"/>as its first component. This <a id="_idIndexMarker151" class="pcalibre pcalibre1 calibre6"/>component is very similar to the <strong class="bold">Transform</strong> component on non-UI GameObjects in that it allows you to place the object within the scene.</p>
<p class="calibre3">You’ll note that when you first place a Canvas in the scene, you can’t adjust the values within the <strong class="bold">Rect Transform</strong>, and there is a message stating, <strong class="bold">“Some values driven by Canvas”</strong>, as shown in the preceding screenshot. This message means you cannot control the position of the Canvas because the properties selected in the <strong class="bold">Canvas</strong> component determine them.</p>
<p class="calibre3">When a Canvas component has<a id="_idIndexMarker152" class="pcalibre pcalibre1 calibre6"/> its <strong class="bold">Render Mode</strong> set to <strong class="bold">Screen Space-Overlay</strong> or <strong class="bold">Screen Space-Camera</strong>, the adjustment of the <strong class="bold">Rect Transform</strong> component’s values is disabled. In these two modes, the values are determined by the resolution of the game display because the Canvas fills up the full-screen area. When the Canvas’ <strong class="bold">Render Mode</strong> is set to <strong class="bold">World Space</strong>, you can adjust the values as you see fit, as this component will then determine its location within the scene. We will discuss how to use the <strong class="bold">Rect Transform</strong> Component more thoroughly later in this <a id="_idIndexMarker153" class="pcalibre pcalibre1 calibre6"/>chapter, but for now, let’s review the Canvas component and the various render modes more thoroughly.</p>
<h2 id="_idParaDest-84" class="calibre7"><a id="_idTextAnchor090" class="pcalibre pcalibre1 calibre6"/>Canvas component</h2>
<p class="calibre3">The <strong class="bold">Canvas</strong> component allows<a id="_idIndexMarker154" class="pcalibre pcalibre1 calibre6"/> you to select the Canvas <strong class="bold">Render Mode</strong> from a dropdown. There are three render modes: <strong class="bold">Screen Space-Overlay</strong>, <strong class="bold">Screen Space-Camera</strong>, and <strong class="bold">World Space</strong>. The different render modes determine where in the scene the UI elements will be drawn and<a id="_idIndexMarker155" class="pcalibre pcalibre1 calibre6"/> how the <strong class="bold">Rect Transform</strong> component will be used.</p>
<p class="calibre3">When developing your UI, the first thing you should always do is appropriately set your Canvas’ render mode based on your needs. If you have multiple Canvases in your scene, they can each have a different render mode. Changing the render mode will change the properties available on the Canvas component. Let’s review the purpose of each of the render modes and the properties that come with them.</p>
<h3 class="calibre9">Screen Space-Overlay</h3>
<p class="calibre3"><strong class="bold">Screen Space-Overlay</strong> is the<a id="_idIndexMarker156" class="pcalibre pcalibre1 calibre6"/> default render mode. If you are asked to think of a video game UI, it’s highly likely that you will envision one rendered in <strong class="bold">Screen Space-Overlay</strong>. This render mode overlays all the UI elements within the Canvas in front of everything in the scene as if it is drawn on top of the screen. So, UI items <a id="_idIndexMarker157" class="pcalibre pcalibre1 calibre6"/>like <strong class="bold">heads-up-displays</strong> (<strong class="bold">HUDs</strong>) and pop-up windows that appear on the same plane as the screen will be contained within a <strong class="bold">Screen </strong><strong class="bold">Space-Overlay Canvas</strong>.</p>
<p class="calibre3">Remember, when a Canvas is using the <strong class="bold">Screen Space-Overlay</strong> render mode, you cannot adjust the <strong class="bold">Rect Transform</strong> component of the Canvas. This is because the canvas will automatically resize based on<a id="_idIndexMarker158" class="pcalibre pcalibre1 calibre6"/> the size of the screen (not the camera).</p>
<div><div><img alt="Figure 6.5: Screen Space – Overlay Render Mode properties" src="img/Figure_06.05_B18327.jpg" class="calibre54"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.5: Screen Space – Overlay Render Mode properties</p>
<p class="calibre3">When you have <strong class="bold">Screen Space-Overlay</strong> selected, the following properties become available:</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Pixel Perfect</strong>: Selecting this check box will cause the elements rendered in the Canvas to line up with pixels. It can make the UI elements appear sharper and less blurry. This can cause performance issues, so only use it if absolutely necessary.</li>
<li class="calibre14"><strong class="bold">Sort Order</strong>: This option will determine the order in which all the <strong class="bold">Screen Space-Overlay</strong> Canvases in your scene will render. You can think of it as a stacking order. The higher the number, the <em class="italic">closer</em> the items within the Canvas will appear to the person viewing the scene. In other words, higher sort order numbered canvases will appear <em class="italic">on top</em> of lower sort order numbered canvases.</li>
<li class="calibre14"><strong class="bold">Target Display</strong>: If you are creating a PC, Mac, Linux Standalone game, you can have different cameras display on up to eight different monitors. You can also have different UI for each monitor. This is where you will tell the Canvas which of the displays it will render on.</li>
<li class="calibre14"><strong class="bold">Additional Shader Channels</strong>: Shaders are essentially algorithms that describe the color of a GameObject based on light and material. Each Canvas automatically includes the following shader channels: Position, Color, and Uv0. However, this property lets you add additional channels. Shaders are a pretty complicated topic, so we won’t <a id="_idIndexMarker159" class="pcalibre pcalibre1 calibre6"/>spend a lot of time discussing them in this text. In <strong class="bold">Screen Space-Overlay</strong> mode, not all of the channels available in the dropdown menu work, and you’ll see a message in the component describing which are not working.</li>
</ul>
<p class="calibre3">Next, let’s look at <strong class="bold">Screen </strong><strong class="bold">Space Camera</strong>.</p>
<h3 class="calibre9">Screen Space-Camera</h3>
<p class="calibre3"><strong class="bold">Screen Space-Camera</strong> performs similarly to <strong class="bold">Screen Space-Overlay</strong>, but it renders all UI elements as if they are a<a id="_idIndexMarker160" class="pcalibre pcalibre1 calibre6"/> specific distance away from the camera. As you can see from the following screenshot, if there is no <strong class="bold">Render Camera</strong> selected, this render mode works exactly like the <strong class="bold">Screen Space-Overlay</strong> mode (as indicated by the warning message):</p>
<div><div><img alt="Figure 6.6: Warning message for Screen Space – Camera Render Mode" src="img/Figure_06.06_B18327.jpg" class="calibre55"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.6: Warning message for Screen Space – Camera Render Mode</p>
<p class="calibre3">You can assign any camera in your scene to the <strong class="bold">Render Camera</strong> in the <strong class="bold">Screen Space-Camera</strong> render mode. This is the camera to which the canvas will draw. Once you add a camera to the <strong class="bold">Render Camera</strong> slot, the warning message will disappear, and new options will be made available to you, as shown in the following screenshot:</p>
<div><div><img alt="Figure 6.7: Screen Space – Camera Render Mode properties" src="img/Figure_06.07_B18327.jpg" class="calibre55"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.7: Screen Space – Camera Render Mode properties</p>
<p class="calibre3">When you have <strong class="bold">Screen Space-Camera</strong> selected, the <a id="_idIndexMarker161" class="pcalibre pcalibre1 calibre6"/>following properties become available:</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Pixel Perfect</strong>: This is the same option as with <strong class="bold">Screen Space-Overlay</strong>.</li>
<li class="calibre14"><strong class="bold">Render Camera</strong>: As stated earlier, this is the camera to which the canvas will draw.</li>
<li class="calibre14"><strong class="bold">Plane Distance</strong>: This property tells the Canvas how far away from the camera it should display.</li>
<li class="calibre14"><strong class="bold">Sorting Layer</strong>: This property allows you to choose which <strong class="bold">Sprite Sorting Layer</strong> to display the Canvas with.</li>
<li class="calibre14"><strong class="bold">Order in Layer</strong>: This property determines the order in the <strong class="bold">Sprite Sorting Layer</strong> (chosen earlier) that the Canvas will display. This order works similar to the way <strong class="bold">Sort Order</strong> works, with higher numbers appearing on top of lower numbers.</li>
<li class="calibre14"><strong class="bold">Additional Shader Channels</strong>: This property works as it does in <strong class="bold">Screen Space-Overlay</strong>.</li>
</ul>
<p class="calibre3">This rendering mode is helpful if you want a Canvas to render from a different perspective than that of your main camera. It is also helpful for creating a static background that will consistently scale with the camera in a 2D game. Since you can use <strong class="bold">Sprite Sorting Layer</strong> with this rendering mode, you can make sure the Canvas containing the background always renders behind all other objects in the scene.</p>
<p class="calibre3">Remember, when a Canvas is <a id="_idIndexMarker162" class="pcalibre pcalibre1 calibre6"/>using the <strong class="bold">Screen Space-Camera</strong> render mode, you cannot adjust the <strong class="bold">Rect Transform</strong> component of the Canvas. This is because the canvas will automatically resize based on the size of the camera (not the screen).</p>
<h3 class="calibre9">World Space</h3>
<p class="calibre3">The last rendering mode is <strong class="bold">World Space</strong>. This mode allows you to render UI elements as if they are physically positioned within <a id="_idIndexMarker163" class="pcalibre pcalibre1 calibre6"/>the world.</p>
<p class="calibre3">In <strong class="bold">Screen Space-Overlay</strong> and <strong class="bold">Screen Space-Camera</strong>, you cannot adjust the properties of the <strong class="bold">Rect Transform</strong> component. The positions of UI elements within Canvases with those two rendering modes do not translate to world space coordinates and are instead relative to the screen and camera. However, when a Canvas is in <strong class="bold">World Space</strong> render mode, the values of the <strong class="bold">Rect Transform</strong> can be adjusted because the coordinates of the UI elements are based on actual positions within the scene. These Canvases do not have to face a specified camera as the other two Canvas types do.</p>
<div><div><img alt="Figure 6.8: Render Mode – World Space properties" src="img/Figure_06.08_B18327.jpg" class="calibre56"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.8: Render Mode – World Space properties</p>
<p class="calibre3">This mode requests an <strong class="bold">Event Camera</strong>, rather than a <strong class="bold">Rendering Camera</strong> as <strong class="bold">Screen Space-Camera</strong> mode requested. An <strong class="bold">Event Camera</strong> is different than a <strong class="bold">Rendering Camera</strong>. Since this Canvas is in the <strong class="bold">World Space</strong>, it will be rendered with the<strong class="bold"> Main Camera</strong>, just as all the other objects that exist within the scene. The <strong class="bold">Event Camera</strong> is the camera that will receive events from the EventSystem. So, if items on this Canvas require interactions, you have to include an <strong class="bold">Event Camera</strong>. If the player won’t be interacting with the items on the Canvas, you can leave this blank.</p>
<p class="calibre3">The reason you need to specify an <strong class="bold">Event Camera</strong> is ray casting. When the user clicks on or touches the screen, a ray (one-directional line) is cast infinitely forward from the point of click (or touch) into the scene. The direction it points is determined by the direction the camera is facing. Most of the time, you will set this as your <strong class="bold">Main Camera</strong> because that is the direction in which<a id="_idIndexMarker164" class="pcalibre pcalibre1 calibre6"/> the player will expect the events to occur.</p>
<p class="calibre3">When you have <strong class="bold">World Space</strong> selected, the following properties become available:</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Event Camera</strong>: As stated earlier, the camera assigned to this slot determines which camera will receive the events of the Canvas</li>
<li class="calibre14"><strong class="bold">Sorting Layer</strong>: This property is the same as in <strong class="bold">Screen Space-Camera</strong></li>
<li class="calibre14"><strong class="bold">Order in Layer</strong>: This property is the same as in <strong class="bold">Screen Space-Camera</strong></li>
<li class="calibre14"><strong class="bold">Additional Shader Channels</strong>: This property works as it does in <strong class="bold">Screen Space-Overlay</strong></li>
</ul>
<p class="calibre3">Next, let us look at the <strong class="bold">Canvas </strong><strong class="bold">Scalar</strong> component.</p>
<h2 id="_idParaDest-85" class="calibre7"><a id="_idTextAnchor091" class="pcalibre pcalibre1 calibre6"/>Canvas Scalar component</h2>
<p class="calibre3">The <strong class="bold">Canvas Scalar</strong> component determines how the items within the canvas will scale. It also determines the pixel density<a id="_idIndexMarker165" class="pcalibre pcalibre1 calibre6"/> of the items within the UI Canvas.</p>
<p class="calibre3">In <a href="B18327_01.xhtml#_idTextAnchor014" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 1</em></a>, we discussed how to <a id="_idIndexMarker166" class="pcalibre pcalibre1 calibre6"/>build your game at a single resolution or a single aspect ratio. However, most of the time, you will not have the luxury of choosing the resolution or aspect ratio of your game. You’ll note that I only mentioned specifying the aspect ratio and resolution for the PC, Mac, and Linux Standalone builds and the WebGL builds. When you build to something that will play on a handheld screen or a TV screen, you cannot guarantee how big that screen will be.</p>
<p class="calibre3">Due to the fact that you cannot guarantee the resolution or aspect ratio of your game, the need for your UI to adjust to various resolutions and scaling is very important; that’s why this <strong class="bold">Canvas Scalar</strong> component exists.</p>
<p class="calibre3">The <strong class="bold">Canvas Scalar</strong> component has four <strong class="bold">UI </strong><strong class="bold">Scale Modes</strong>:</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Constant </strong><strong class="bold">Pixel Size</strong></li>
<li class="calibre14"><strong class="bold">Scale With </strong><strong class="bold">Screen Size</strong></li>
<li class="calibre14"><strong class="bold">Constant </strong><strong class="bold">Physical Size</strong></li>
<li class="calibre14"><strong class="bold">World</strong></li>
</ul>
<p class="calibre3">The first three <strong class="bold">UI Scale Modes</strong> are available when the Canvas <strong class="bold">Render Mode</strong> is set to <strong class="bold">Screen Space-Overlay</strong> or <strong class="bold">Screen Space-Camera</strong>. The fourth <strong class="bold">UI Scale Mode</strong> is automatically assigned when the<a id="_idIndexMarker167" class="pcalibre pcalibre1 calibre6"/> Canvas <strong class="bold">Render Mode</strong> is set to <strong class="bold">World Space</strong> (it cannot be changed when<a id="_idIndexMarker168" class="pcalibre pcalibre1 calibre6"/> set).</p>
<h3 class="calibre9">Constant Pixel Size</h3>
<p class="calibre3">When a Canvas has the <strong class="bold">UI Scale Mode</strong> set to <strong class="bold">Constant Pixel Size</strong>, every item in the UI will maintain its original pixel <a id="_idIndexMarker169" class="pcalibre pcalibre1 calibre6"/>size regardless of the size of the screen. You’ll note that this is the default setting, so by default UI does not scale; you must turn the setting on for it to scale by altering screen resolutions.</p>
<div><div><img alt="Figure 6.9: Constant Pixel Size UI Scale Mode properties" src="img/Figure_06.09_B18327.jpg" class="calibre57"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.9: Constant Pixel Size UI Scale Mode properties</p>
<p class="calibre3">When you change the <strong class="bold">UI Scale Mode</strong> to <strong class="bold">Constant Pixel Size</strong>, you will see the following properties appear within the inspector:</p>
<ul class="calibre16">
<li class="calibre14"><code>2</code>, everything within the UI will then double in size. If you set this number to <code>0.5</code>, all items will have their size halved.</li>
<li class="calibre14"><code>100</code>, that means two objects that are one game unit apart from each other will be 100 pixels apart. Put another way, if two <a id="_idIndexMarker170" class="pcalibre pcalibre1 calibre6"/>objects are at the same <em class="italic">y-</em>coordinate, but one object has an <em class="italic">x-</em>coordinate of <code>1</code>, and the other has an <em class="italic">x-</em>coordinate of <code>2</code>, they are exactly 100 pixels apart. This property works the same way in all other modes, so I will not discuss it in the next sections.</li>
</ul>
<h3 class="calibre9">Scale With Screen Size</h3>
<p class="calibre3">When you have the <strong class="bold">Canvas Scalar</strong> component set to <strong class="bold">Scale with Screen Size</strong>, UI elements on the Canvas will scale based on a <strong class="bold">Reference Resolution</strong>. If the screen is larger or smaller than the <strong class="bold">Reference Resolution</strong> value, the items on the Canvas will then scale up or down <a id="_idIndexMarker171" class="pcalibre pcalibre1 calibre6"/>accordingly. In <a href="B18327_01.xhtml#_idTextAnchor014" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 1</em></a>, I told you that you should decide on a default resolution that represents the ideal resolution of your UI design. This default resolution will be the <strong class="bold">Reference Resolution</strong>.</p>
<div><div><img alt="Figure 6.10: Scale With Screen Size UI Scale Mode properties" src="img/Figure_06.10_B18327.jpg" class="calibre58"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.10: Scale With Screen Size UI Scale Mode properties</p>
<p class="calibre3">If the aspect ratio of your screen matches the <strong class="bold">Reference Resolution</strong> value, then things will scale up and down without any problems. If it does not match, then you need to use the <strong class="bold">Canvas Scalar</strong> component to define how items will scale if the aspect ratio changes.</p>
<p class="calibre3">This can be done by using the <strong class="bold">Screen Match Mode</strong> settings. In the following list are the three different <strong class="bold">Screen Match Modes</strong> that determine how the Canvas will scale if the game’s aspect ratio does not match the <strong class="bold">Reference Resolution</strong> aspect ratio:</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Match Width Or Height</strong>: This will scale the UI with respect to the reference height or the reference width. It can <a id="_idIndexMarker172" class="pcalibre pcalibre1 calibre6"/>also scale based on a combination of both.</li>
<li class="calibre14"><strong class="bold">Expand</strong>: If the screen is smaller than the <strong class="bold">Reference Resolution</strong>, the canvas will be expanded to match that of the <strong class="bold">Reference Resolution</strong>.</li>
<li class="calibre14"><strong class="bold">Shrink</strong>: If the screen gets larger than the <strong class="bold">Reference Resolution</strong>, the canvas will be reduced to match that of the <strong class="bold">Reference Resolution</strong>.</li>
</ul>
<p class="calibre3">The <code>0</code> (<code>1</code> (<strong class="bold">Height</strong>).</p>
<div><div><img alt="Figure 6.11: Scale With Screen Size UI Scale Mode properties" src="img/Figure_06.11_B18327.jpg" class="calibre59"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.11: Scale With Screen Size UI Scale Mode properties</p>
<p class="calibre3">When the value of <code>0</code>, the <strong class="bold">Canvas Scaler</strong> will force the Canvas to always have the same width specified by the <strong class="bold">Reference Resolution</strong>. This will maintain the relative scales and positions of objects along the width of the Canvas. So, objects will not get further away from or closer to each other in the horizontal direction. However, it will completely ignore the height. So, objects can get further from or closer to each other in the vertical direction.</p>
<p class="calibre3">Setting the <code>1</code> will accomplish the same thing but will maintain the positions and scales of the objects along the height, not the width.</p>
<p class="calibre3">Setting the <code>0.5</code> will compare the game’s width and height to that of <strong class="bold">Reference Resolution</strong>, and it will try to maintain the distances between objects in both the horizontal and vertical directions.</p>
<p class="calibre3">The <code>0</code> and <code>1</code>. If the number is closer to <code>1</code>, scaling will favor the height, and if it is closer to <code>0</code>, it will favor the width.</p>
<p class="calibre3">None of these <code>1</code>). If you want the relative horizontal positions to be maintained, use <code>0</code>). It really just depends on which spacing you care the most about.</p>
<p class="calibre3">I recommend using the following settings based on the orientation of your game:</p>
<table class="no-table-style" id="table001-1">
<colgroup class="calibre10">
<col class="calibre11"/>
<col class="calibre11"/>
</colgroup>
<tbody class="calibre12">
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><strong class="bold">Orientation</strong></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><strong class="bold">Match Value</strong></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><strong class="bold">Portrait</strong></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><code>0</code> (Width)</p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><strong class="bold">Landscape</strong></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><code>1</code> (Height)</p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><strong class="bold">Varies</strong></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><code>0.5</code> (Width and Height)</p>
</td>
</tr>
</tbody>
</table>
<p class="img---caption" lang="en-US" xml:lang="en-US">Table 6.1: Orientation and Match Value</p>
<p class="calibre3">I chose these settings based on whichever of the two numbers on the <strong class="bold">Reference Resolution</strong> is the smallest. In <strong class="bold">Portrait</strong> mode, the width will be the smallest, so I find it important to maintain the relative position of the items in the width. This is a personal preference and just a recommendation, and it will not necessarily make sense for all games. However, I have found it to be a good rule of thumb for most games.</p>
<p class="calibre3">It is best to avoid making games that will vary between portrait and landscape mode unless you have minimal UI or are very comfortable with creating scalable UI.</p>
<h3 class="calibre9">Constant Physical Size</h3>
<p class="calibre3">When a Canvas has the <strong class="bold">UI Scale Mode</strong> set to <strong class="bold">Constant Physical Size</strong>, every item in the UI will maintain its original physical size, regardless of the size of the screen. Physical size references the size that will appear <a id="_idIndexMarker174" class="pcalibre pcalibre1 calibre6"/>to the user if they were to take out a ruler and measure it on their screen. Much like <strong class="bold">Constant Pixel Size</strong>, items on Canvases with this <strong class="bold">UI Scale Mode</strong> setting will not scale.</p>
<p class="calibre3">If you had a UI item that you wanted to always be a specific width and height, you’d put it on a Canvas that has this <strong class="bold">UI Scale Mode</strong>. For example, if you wanted a button to always be 2 inches wide and 1 inch tall, you’d use this mode. This is particularly helpful in mobile games, allowing you to make sure buttons are sized large enough for human fingers based on the recommendations we discussed in <a href="B18327_04.xhtml#_idTextAnchor054" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 4</em></a>.</p>
<div><div><img alt="Figure 6.12: Scale with Constant Physical Size UI Scale Mode properties" src="img/Figure_06.12_B18327.jpg" class="calibre60"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.12: Scale with Constant Physical Size UI Scale Mode properties</p>
<p class="calibre3">When you change the <strong class="bold">UI Scale Mode</strong> to <strong class="bold">Constant Physical Size</strong>, you will see the following properties appear within the inspector:</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Physical</strong> <strong class="bold">Unit</strong>: The unit of measure. You can select from <strong class="bold">Centimeters</strong>, <strong class="bold">Millimeters</strong>, <strong class="bold">Inches</strong>, <strong class="bold">Points</strong>, and <strong class="bold">Picas</strong>.</li>
<li class="calibre14"><strong class="bold">Fallback Screen DPI</strong>: If the DPI is unknown, this is the assumed DPI.</li>
<li class="calibre14"><strong class="bold">Default Sprite DPI</strong>: The DPI of all sprites with Pixels Per Unit that are equal to the <strong class="bold">Reference Pixels Per </strong><strong class="bold">Unit</strong> value.</li>
</ul>
<h3 class="calibre9">World</h3>
<p class="calibre3"><strong class="bold">World</strong> is the only <strong class="bold">UI Scale Mode</strong> available for Canvases <a id="_idIndexMarker175" class="pcalibre pcalibre1 calibre6"/>set to <strong class="bold">World Space</strong>. You’ll see from the following screenshot that the mode cannot be changed:</p>
<div><div><img alt="Figure 6.13: Scale with World UI Scale Mode properties" src="img/Figure_06.13_B18327.jpg" class="calibre61"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.13: Scale with World UI Scale Mode properties</p>
<p class="calibre3">When you change the <strong class="bold">UI Scale Mode</strong> to <strong class="bold">World</strong>, you will see the following property appear within the inspector:</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Dynamic Pixels Per Unit</strong>: This is the <a id="_idIndexMarker176" class="pcalibre pcalibre1 calibre6"/>Pixels Per Unit setting for all dynamic UI items (such as text).</li>
</ul>
<h2 id="_idParaDest-86" class="calibre7"><a id="_idTextAnchor092" class="pcalibre pcalibre1 calibre6"/>Graphic Raycaster component</h2>
<p class="calibre3">The <strong class="bold">Graphic Raycaster</strong> component allows you to check to see whether objects on the Canvas have been hit by a user input<a id="_idIndexMarker177" class="pcalibre pcalibre1 calibre6"/> using the Event System. As discussed when looking at the <strong class="bold">World Space</strong> Canvas <strong class="bold">Render Mode</strong>, when a user touches the <a id="_idIndexMarker178" class="pcalibre pcalibre1 calibre6"/>screen, a ray is cast forward from the point on the screen at which the player touches. The <strong class="bold">Graphic Raycaster</strong> checks these rays and sees if they hit something on the Canvas.</p>
<div><div><img alt="Figure 6.14: The Graphic Raycaster component" src="img/Figure_06.14_B18327.jpg" class="calibre62"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.14: The Graphic Raycaster component</p>
<p class="calibre3">You can adjust the following properties on the <strong class="bold">Graphic </strong><strong class="bold">Raycaster</strong> component:</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Ignore Reversed Graphics</strong>: If a UI element is facing away from the player, having this selected will stop the hit from registering. If it is not selected, hits will register on back-facing UI objects.</li>
<li class="calibre14"><strong class="bold">Blocking Objects</strong>: This setting specifies which types of items in front of it will block it from being hit. So, if you select <strong class="bold">Two D</strong>, any <strong class="bold">Two D</strong> object in front of the items on this Canvas will stop the items from being interacted with. However, 3D objects will not stop the interaction. The possible options are shown here:</li>
</ul>
<div><div><img alt="Figure 6.15: Graphics Raycaster Blocking Objects options" src="img/Figure_06.15_B18327.jpg" class="calibre63"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.15: Graphics Raycaster Blocking Objects options</p>
<ul class="calibre16">
<li class="calibre14"><strong class="bold">Blocking Mask:</strong> Selecting items on this property works similarly to the <strong class="bold">Blocking Objects</strong> property. This <a id="_idIndexMarker179" class="pcalibre pcalibre1 calibre6"/>allows you to select items based on their Rendering Layer, so you <a id="_idIndexMarker180" class="pcalibre pcalibre1 calibre6"/>can get a little more specific. The possible options are shown as follows:</li>
</ul>
<div><div><img alt="Figure 6.16: Graphics Raycaster Blocking Mask options" src="img/Figure_06.16_B18327.jpg" class="calibre64"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.16: Graphics Raycaster Blocking Mask options</p>
<p class="calibre3">We will discuss Raycasting and the <a id="_idIndexMarker181" class="pcalibre pcalibre1 calibre6"/>Event System more thoroughly in <a href="B18327_08.xhtml#_idTextAnchor147" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 8</em></a>.</p>
<h2 id="_idParaDest-87" class="calibre7"><a id="_idTextAnchor093" class="pcalibre pcalibre1 calibre6"/>Canvas Renderer component</h2>
<p class="calibre3">The <strong class="bold">Canvas Renderer</strong> component is <a id="_idIndexMarker182" class="pcalibre pcalibre1 calibre6"/>not on a Canvas GameObject but on all<a id="_idIndexMarker183" class="pcalibre pcalibre1 calibre6"/> renderable UI objects.</p>
<div><div><img alt="Figure 6.17: The Canvas Renderer component" src="img/Figure_06.17_B18327.jpg" class="calibre65"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.17: The Canvas Renderer component</p>
<p class="calibre3">For a UI element to render, it must have a <strong class="bold">Canvas Renderer</strong> component on it. All the renderable UI elements that you create via the <strong class="bold">+</strong> | <strong class="bold">UI </strong>menu will automatically have this component attached to them. If you try to remove this component, you will see a warning similar to the following:</p>
<div><div><img alt="Figure 6.18: Warning message when you try to remove a Canvas Renderer component" src="img/Figure_06.18_B18327.jpg" class="calibre66"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.18: Warning message when you try to remove a Canvas Renderer component</p>
<p class="calibre3">In the preceding screenshot, I tried to remove the Canvas Renderer component from a Text UI object. As you can see, it will not let me remove the Canvas Renderer component because the <a id="_idIndexMarker184" class="pcalibre pcalibre1 calibre6"/>Text component relies on it. If I return and <a id="_idIndexMarker185" class="pcalibre pcalibre1 calibre6"/>remove the Text component, I would then be able to remove the Canvas Renderer component.</p>
<p class="calibre3">The only property on the <strong class="bold">Canvas Renderer</strong> component is the <strong class="bold">Cull Transparent Mesh</strong> toggle. “To cull” means to not draw. So, this property states that the renderer will not draw any geometry that has its vertex color alpha at or close to 0.</p>
<h1 id="_idParaDest-88" class="calibre5"><a id="_idTextAnchor094" class="pcalibre pcalibre1 calibre6"/>UI Panel</h1>
<p class="calibre3">The main function of <strong class="bold">UI Panels</strong> is to hold other UI elements. You can create a Panel by selecting <strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Panel</strong>. It’s important to<a id="_idIndexMarker186" class="pcalibre pcalibre1 calibre6"/> note that there is no Panel component. Panels are really just GameObjects that have <strong class="bold">Rect Transform</strong>, <strong class="bold">Canvas Renderer</strong>, and <strong class="bold">Image</strong> components. So, really, a UI Panel is just a UI Image with a few properties predefined for it.</p>
<div><div><img alt="Figure 6.19: The components on a Panel GameObject" src="img/Figure_06.19_B18327.jpg" class="calibre67"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.19: The components on a Panel GameObject</p>
<p class="calibre3">By default, Panels start with the <strong class="bold">Background</strong> Image (which is just a grey rounded rectangle) as the <strong class="bold">Source Image</strong> with medium opacity. You can replace the <strong class="bold">Source Image</strong> with another Image or remove the image entirely.</p>
<p class="calibre3">Panels are very useful when you are<a id="_idIndexMarker187" class="pcalibre pcalibre1 calibre6"/> trying to ensure that items scale and are appropriately positioned relative to each other. Items that are contained within the same Panel will scale relative to the Panel and maintain their relative position to each other in the process.</p>
<p class="calibre3">We will look at the <strong class="bold">Image</strong> component more thoroughly soon, but now that we are looking at an object that will allow us to edit its <strong class="bold">Rect Transform</strong> component, let›s explore that component.</p>
<h1 id="_idParaDest-89" class="calibre5"><a id="_idTextAnchor095" class="pcalibre pcalibre1 calibre6"/>Rect Transform</h1>
<p class="calibre3">Each UI element has a <strong class="bold">Rect Transform</strong> component. The <strong class="bold">Rect Transform</strong> component works very similarly to the <strong class="bold">Transform</strong> component and is used to determine the position of the object <a id="_idIndexMarker188" class="pcalibre pcalibre1 calibre6"/>on which it is attached.</p>
<h2 id="_idParaDest-90" class="calibre7"><a id="_idTextAnchor096" class="pcalibre pcalibre1 calibre6"/>Rect Tool</h2>
<p class="calibre3">Any of the Transform tools can be used to manipulate UI objects. However, the Rect Tool allows you to scale, move, and<a id="_idIndexMarker189" class="pcalibre pcalibre1 calibre6"/> rotate any object by manipulating the rectangle that<a id="_idIndexMarker190" class="pcalibre pcalibre1 calibre6"/> encompasses it. While this tool can be used with 3D objects, it is most useful for 2D and UI objects.</p>
<div><div><img alt="Figure 6.20: The Rect Tool" src="img/Figure_06.20_B18327.jpg" class="calibre68"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.20: The Rect Tool</p>
<ul class="calibre16">
<li class="calibre14">To move an object with the Rect Tool, select the object and then click and drag inside the rectangle.</li>
<li class="calibre14">To resize an object, hover over the edge or corner of an object. When the cursor changes to arrows, click and drag to resize the object. You can scale uniformly by holding down the <em class="italic">shift</em> button while dragging.</li>
<li class="calibre14">To rotate, hover at the corner of the objects--slightly outside of the rectangle until the cursor displays a rotating circle at its corner. You can then rotate by clicking and dragging.</li>
</ul>
<h3 class="calibre9">Positioning modes</h3>
<p class="calibre3">When using the Rect Tool, it <a id="_idIndexMarker191" class="pcalibre pcalibre1 calibre6"/>is important that you have the correct positioning modes selected. You can select <strong class="bold">Center</strong> or <strong class="bold">Pivot</strong> and <strong class="bold">Global</strong> or <strong class="bold">Local</strong>. The modes will toggle by clicking on the buttons:</p>
<div><div><img alt="Figure 6.21: The various positioning modes" src="img/Figure_06.21_B18327.jpg" class="calibre69"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.21: The various positioning modes</p>
<ul class="calibre16">
<li class="calibre14">When in <strong class="bold">Center</strong> mode, the object will move based on its center point and rotate around its center point.</li>
<li class="calibre14">When in <strong class="bold">Pivot</strong> mode, the object will rotate around its pivot point rather than its center point. You can also alter the position of the pivot point in this mode by hovering over the pivot point and clicking and dragging to move.</li>
<li class="calibre14">When in <strong class="bold">Global</strong> mode, the Rect Transform’s bounding box will be a non-rotated box that encompasses<a id="_idIndexMarker192" class="pcalibre pcalibre1 calibre6"/> the entire object.</li>
<li class="calibre14">When in <strong class="bold">Local</strong> mode, the Rect Transform’s bounding box will be a rotated box that snuggly fits the object.</li>
</ul>
<p class="calibre3">The following illustration shows the bounding boxes of the Rect Transform for a Panel in <strong class="bold">Global</strong> and <strong class="bold">Local</strong> modes. The empty blue circle represents the object’s pivot point:</p>
<div><div><img alt="Figure 6.22: Global mode vs. Local mode" src="img/Figure_06.22_B18327.jpg" class="calibre70"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.22: Global mode vs. Local mode</p>
<p class="calibre3">Next, let’s look at the <strong class="bold">Rect </strong><strong class="bold">Transform</strong> component.</p>
<h2 id="_idParaDest-91" class="calibre7"><a id="_idTextAnchor097" class="pcalibre pcalibre1 calibre6"/>Rect Transform component</h2>
<p class="calibre3">As stated earlier, UI elements do not have the standard <strong class="bold">Transform</strong> component; they have the <strong class="bold">Rect Transform</strong> component. If<a id="_idIndexMarker193" class="pcalibre pcalibre1 calibre6"/> you compare it to a standard <strong class="bold">Transform</strong> component, you will see that it has quite a few more properties:</p>
<div><div><img alt="Figure 6.23: Transform vs. Rect Transform" src="img/Figure_06.23_B18327.jpg" class="calibre71"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.23: Transform vs. Rect Transform</p>
<p class="calibre3">You can use it to change the position, rotation, and scale, just as you can with <code>1</code>.</p>
<p class="calibre3">You may have noticed that the<a id="_idIndexMarker194" class="pcalibre pcalibre1 calibre6"/> labels for the position and dimensional values are different in the preceding illustration than they are in the one provided in the <em class="italic">UI Panel Properties</em> section. This is because the labels that represent the position and dimension change depending on the Anchor Preset chosen. We’ll discuss how to use these Anchor Presets momentarily, but let’s look at some different examples of labels the position and dimensional values can hold.</p>
<div><div><img alt="Figure 6.24: Variation in Rect Transform properties" src="img/Figure_06.24_B18327.jpg" class="calibre72"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.24: Variation in Rect Transform properties</p>
<p class="calibre3">If the <strong class="bold">Rect Transform</strong> has its Anchor Preset set to not include stretch, as with the top-left example in the preceding screenshot, the values for position are determined by <strong class="bold">Pos X</strong>, <strong class="bold">Pox Y</strong>, <strong class="bold">Pos Z</strong>, and the dimensions are determined by <strong class="bold">Width</strong> and <strong class="bold">Height</strong>.</p>
<p class="calibre3">If the <strong class="bold">Rect Transform</strong> has its Anchor Preset set to include stretch, as with the other three examples, the positions perpendicular to the stretch and the dimensions parallel to the stretch are labeled with <strong class="bold">Left</strong>, <strong class="bold">Right</strong>, <strong class="bold">Top</strong>, and <strong class="bold">Bottom</strong>. These values represent the offset from the border of the parent’s <strong class="bold">Rect Transform</strong>.</p>
<p class="calibre3">The <strong class="bold">Anchor</strong> point of an object determines the point from which all the relative positions are measured from. The <strong class="bold">Pivot</strong> point determines the point from which the scaling and rotating modifiers <a id="_idIndexMarker195" class="pcalibre pcalibre1 calibre6"/>happen. It will rotate around this point and scale toward this point. We will look at Anchors and Pivots more thoroughly in the Anchors and Pivot section.</p>
<h3 class="calibre9">Rect Transform edit modes</h3>
<p class="calibre3">There are two different edit modes available <a id="_idIndexMarker196" class="pcalibre pcalibre1 calibre6"/>to you within the <strong class="bold">Rect Transform </strong>component—Blueprint mode and Raw Edit mode—as represented by the following icons, respectively:</p>
<p class="calibre3"> </p>
<div><div><img alt="Figure 6.25: Rect Transform edit modes" src="img/Figure_06.25_B18327.jpg" class="calibre73"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.25: Rect Transform edit modes</p>
<p class="calibre3">The Blueprint mode will ignore any local rotation or scaling applied to it and will display the Rect Transform bounding box as a non-rotated, non-scaled box. The following screenshot shows the bounding box of a Panel that has been rotated and scaled with Blueprint mode turned off and turned on:</p>
<div><div><img alt="Figure 6.26: Blueprint mode on vs. Blueprint mode off" src="img/Figure_06.26_B18327.jpg" class="calibre74"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.26: Blueprint mode on vs. Blueprint mode off</p>
<p class="calibre3">The Raw Edit mode will allow you to change the anchor and pivot points of a UI object without the object moving or<a id="_idIndexMarker197" class="pcalibre pcalibre1 calibre6"/> scaling based on the changes you have made.</p>
<h1 id="_idParaDest-92" class="calibre5"><a id="_idTextAnchor098" class="pcalibre pcalibre1 calibre6"/>Anchor and Pivot Points</h1>
<p class="calibre3">Every UI object has Anchor Handles and a Pivot Point. When used together, they will help ensure that your UI is positioned appropriately and scales appropriately if the resolution or aspect ratio of your game changes.</p>
<p class="calibre3">The Anchor Handles are<a id="_idIndexMarker198" class="pcalibre pcalibre1 calibre6"/> represented by four triangles in the form of an X, as shown in the following diagram:</p>
<div><div><img alt="Figure 6.27: Anchor Handles and Pivot Points" src="img/Figure_06.27_B18327.jpg" class="calibre75"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.27: Anchor Handles and Pivot Points</p>
<p class="calibre3">The Anchors can be in <a id="_idIndexMarker199" class="pcalibre pcalibre1 calibre6"/>a group together forming a single Anchor, as shown in the preceding<a id="_idIndexMarker200" class="pcalibre pcalibre1 calibre6"/> diagram, or they can be split into multiple Anchors, as follows:</p>
<div><div><img alt="Figure 6.28: Splitting Anchor Handles" src="img/Figure_06.28_B18327.jpg" class="calibre76"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.28: Splitting Anchor Handles</p>
<p class="calibre3">The Anchors will always form a rectangle. So, the sides will always line up.</p>
<p class="calibre3">The <code>0</code> in an <em class="italic">x</em> value<a id="_idIndexMarker201" class="pcalibre pcalibre1 calibre6"/> moves the handles all the way to the left, and a <code>1</code> moves the<a id="_idIndexMarker202" class="pcalibre pcalibre1 calibre6"/> handles all the way to the right. You can see from the following screenshots how adjusting the <em class="italic">x</em> value will move the anchor left and right relative to the parent:</p>
<div><div><img alt="Figure 6.29: Adjusting Anchor Min and Max" src="img/Figure_06.29_B18327.jpg" class="calibre77"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.29: Adjusting Anchor Min and Max</p>
<p class="calibre3">The <strong class="bold">Rect Transform</strong> has properties for Anchor Presets and <strong class="bold">Anchors</strong> <strong class="bold">Min</strong> and <strong class="bold">Max</strong> points. The Anchor <a id="_idIndexMarker203" class="pcalibre pcalibre1 calibre6"/>represents the point at which the UI element is connected to its parent’s Rect Transform:</p>
<div><div><img alt="Figure 6.30: Accessing the Anchor Presets" src="img/Figure_06.30_B18327.jpg" class="calibre78"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.30: Accessing the Anchor Presets</p>
<p class="calibre3">As a Canvas has no parent, you’ll see that the Anchor Preset area is empty. This is true regardless of the Canvas <a id="_idIndexMarker204" class="pcalibre pcalibre1 calibre6"/>Render Mode chosen:</p>
<div><div><img alt="Figure 6.31: Lack of Anchor Presets on a Canvas GameObject" src="img/Figure_06.31_B18327.jpg" class="calibre79"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.31: Lack of Anchor Presets on a Canvas GameObject</p>
<p class="calibre3">Clicking on the Anchor Presets box will display a list of all the possible <strong class="bold">Anchor Presets</strong>, as shown in the following screenshot:</p>
<div><div><img alt=" Figure 6.32: All available Anchor Presents" src="img/Figure_06.32_B18327.jpg" class="calibre80"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"> Figure 6.32: All available Anchor Presents</p>
<p class="calibre3">If you click on one of the<a id="_idIndexMarker205" class="pcalibre pcalibre1 calibre6"/> presets, it will move the anchors to the position displayed in the <a id="_idIndexMarker206" class="pcalibre pcalibre1 calibre6"/>screenshot. You can also adjust the position and pivot point using the anchor preset.</p>
<p class="calibre3">The images representing the presets will change if you hold down <em class="italic">Shift</em> and/or <em class="italic">Alt.</em> Holding <em class="italic">Shift</em> will show the positions for the pivot point represented by blue dots, holding <em class="italic">Alt</em> will show how the position will change, and holding both will show the pivot point and the position change.</p>
<div><div><img alt="Figure 6.33: Setting pivot and position" src="img/Figure_06.33_B18327.jpg" class="calibre81"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.33: Setting pivot and position</p>
<p class="callout-heading">Note</p>
<p class="callout">If using a Mac, since there is no <em class="italic">Alt</em> key, you will use the <em class="italic">Option</em> key instead. However, the instructions will still say <em class="italic">Alt</em> in the Editor and this does not change for the Mac version. The previous screenshots were taken on a Mac, despite it having no <em class="italic">Alt</em> key.</p>
<p class="calibre3">Now, let’s<a id="_idIndexMarker207" class="pcalibre pcalibre1 calibre6"/> look at <a id="_idIndexMarker208" class="pcalibre pcalibre1 calibre6"/>the <strong class="bold">Canvas </strong><strong class="bold">Group</strong> component.</p>
<h1 id="_idParaDest-93" class="calibre5"><a id="_idTextAnchor099" class="pcalibre pcalibre1 calibre6"/>Canvas Group component</h1>
<p class="calibre3">You can add a <strong class="bold">Canvas Group</strong> component to any UI object. Attaching it to a UI object will let you adjust the specific properties of <a id="_idIndexMarker209" class="pcalibre pcalibre1 calibre6"/>the object as well as all of its children with a single component rather than having to adjust these properties for each of the UI elements.</p>
<p class="calibre3">You can add a Canvas Group component to any UI object by selecting <strong class="bold">Add Component</strong> | <strong class="bold">Layout</strong> | <strong class="bold">Canvas Group</strong> (you can also just search for Canvas Group) from the UI object›s Inspector.</p>
<div><div><img alt="Figure 6.34: The Canvas Group component" src="img/Figure_06.34_B18327.jpg" class="calibre82"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.34: The Canvas Group component</p>
<p class="calibre3">You can adjust the following properties using a <strong class="bold">Canvas </strong><strong class="bold">Group</strong> component:</p>
<ul class="calibre16">
<li class="calibre14"><code>0</code> and <code>1</code> and represents a percentage of opaqueness; <code>0</code> is completely transparent, while <code>1</code> is completely opaque.</li>
<li class="calibre14"><strong class="bold">Interactable</strong>: This setting <a id="_idIndexMarker210" class="pcalibre pcalibre1 calibre6"/>determines whether or not the objects within the group can accept input.</li>
<li class="calibre14"><strong class="bold">Blocks Raycasts</strong>: This setting determines if the objects within the group will block raycasts from hitting things behind them.</li>
<li class="calibre14"><strong class="bold">Ignore Parent Groups</strong>: If this <strong class="bold">Canvas Group</strong> component is on a UI element that is a child of another UI element with a Canvas Group component, this property determines whether this Canvas Group will override the one above it or not. If it is selected, it will override the parent’s Canvas Group properties.</li>
</ul>
<h1 id="_idParaDest-94" class="calibre5"><a id="_idTextAnchor100" class="pcalibre pcalibre1 calibre6"/>Introducing UI Text and Image</h1>
<p class="calibre3">It’s kind of hard to make any UI examples without using text or images. So, before we cover examples of layouts, let’s first look<a id="_idIndexMarker211" class="pcalibre pcalibre1 calibre6"/> at the basic properties of the UI Text and UI Image GameObjects. UI Text and UI Images <a id="_idIndexMarker212" class="pcalibre pcalibre1 calibre6"/>are discussed more thoroughly in <a href="B18327_11.xhtml#_idTextAnchor292" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 11</em></a> and <a href="B18327_12.xhtml#_idTextAnchor328" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 12</em></a>.</p>
<p class="calibre3">When you create a new Text object using <strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Text</strong>, you will see that it has a <strong class="bold">Text</strong> Component.</p>
<div><div><img alt="Figure 6.35: The Text component" src="img/Figure_06.35_B18327.jpg" class="calibre83"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.35: The Text component</p>
<p class="calibre3">You can change the displayed text by changing<a id="_idIndexMarker213" class="pcalibre pcalibre1 calibre6"/> the words in the <strong class="bold">Text</strong> box. In <a href="B18327_11.xhtml#_idTextAnchor292" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 11</em></a>, we’ll take a closer look at the <a id="_idIndexMarker214" class="pcalibre pcalibre1 calibre6"/>individual properties of the <strong class="bold">Text</strong> component, but for now, it should be fairly obvious what most of the properties do.</p>
<p class="calibre3">When you create a new Image object using <strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Image</strong>, you will see that it has an <strong class="bold">Image</strong> component.</p>
<div><div><img alt="Figure 6.36: The Image component" src="img/Figure_06.36_B18327.jpg" class="calibre84"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.36: The Image component</p>
<p class="calibre3">Remember that a Panel is <a id="_idIndexMarker215" class="pcalibre pcalibre1 calibre6"/>essentially an Image but with a few properties prefilled. When you create<a id="_idIndexMarker216" class="pcalibre pcalibre1 calibre6"/> an Image, however, there are no prefilled properties.</p>
<p class="calibre3">We’ll work with the <strong class="bold">Source Image</strong> property in this chapter, which allows you to change the displayed sprite. We’ll look at the other properties in <a href="B18327_11.xhtml#_idTextAnchor292" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 11</em></a>.</p>
<h1 id="_idParaDest-95" class="calibre5"><a id="_idTextAnchor101" class="pcalibre pcalibre1 calibre6"/>Examples</h1>
<p class="calibre3">Now let’s jump into some examples! We’ll be creating a layout for a basic <strong class="bold">heads-up-display</strong> (<strong class="bold">HUD</strong>) and a background image<a id="_idIndexMarker217" class="pcalibre pcalibre1 calibre6"/> that stretches with the screen and scales at multiple resolutions.</p>
<p class="calibre3">Before we begin building our UI, let’s set up our project and bring in the art assets we will need.</p>
<p class="calibre3">We’ll begin by setting up our project:</p>
<ol class="calibre13">
<li class="calibre14">Create a new Unity Project and name it <code>Mastering Unity UI Project</code>. Create it in the 2D mode.</li>
</ol>
<p class="callout-heading">Note</p>
<p class="callout">We’re selecting 2D Mode because it will make importing our UI sprites a lot easier. When in 2D Mode, all images import as Sprite (2D and UI) images rather than Texture images, as they do in 3D Mode. You can change to 3D Mode at any time by navigating to <strong class="bold">Edit</strong> | <strong class="bold">Project Settings</strong> | <strong class="bold">Editor</strong> and changing <strong class="bold">Mode</strong> to <strong class="bold">3D</strong>.</p>
<ol class="calibre13">
<li value="2" class="calibre14">Create two new folders within the <code>Assets</code> folder named <code>Scripts</code> and <code>Sprites</code>.</li>
<li class="calibre14">Create a new scene and name it <code>Chapter6.unity</code>; ensure that you save it in the <code>Scenes</code> folder. You could also rename <code>SampleScene.unity</code> to <code>Chapter6.unity</code>.<p class="calibre3">We’ll be using art assets<a id="_idIndexMarker218" class="pcalibre pcalibre1 calibre6"/> that I’ve modified from free art assets found at the following sites:</p><ul class="calibre85"><li class="calibre14"><a href="https://opengameart.org/content/free-game-gui" class="pcalibre pcalibre1 calibre6">https://opengameart.org/content/free-game-gui</a></li><li class="calibre14"><a href="https://opengameart.org/content/cat-dog-free-sprites" class="pcalibre pcalibre1 calibre6">https://opengameart.org/content/cat-dog-free-sprites</a></li></ul><p class="calibre3">In the <code>Chapter2/Sprites</code> folder of the text’s source files, locate the <code>catSprites.png</code>, <code>pinkBackground.png</code>, and <code>uiElements.png</code> images and import them into your project by dragging them into the <code>Sprites</code> folder.</p></li>
</ol>
<div><div><img alt="Figure 6.37: Importing the sprites" src="img/Figure_06.37_B18327.jpg" class="calibre86"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.37: Importing the sprites</p>
<ol class="calibre13">
<li value="4" class="calibre14">Now, we need to slice the sprite sheets into individual sprites. If you already know how to slice sprite sheets, do so now for the <code>catSprites</code> image and the <code>uiElements</code> image and proceed to the <em class="italic">Laying out the Basic HUD</em> section. If you are not familiar with the process, follow these steps, and continue to Step 5.</li>
<li class="calibre14">Select the <code>catSprites</code> image, hold <em class="italic">Ctrl,</em> and click on the <code>uiElements</code> image so that <a id="_idIndexMarker219" class="pcalibre pcalibre1 calibre6"/>both are selected.</li>
</ol>
<div><div><img alt="Figure 6.38: Selecting both sprite sheets" src="img/Figure_06.38_B18327.jpg" class="calibre87"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.38: Selecting both sprite sheets</p>
<ol class="calibre13">
<li value="6" class="calibre14">Now, in the <code>catSprites</code> and <code>uiElements</code> sprites to be considered sprite sheets.
<div><div><img alt="Figure 6.39: Converting the sprites to Multiple Sprite Mode" src="img/Figure_06.39_B18327.jpg" class="calibre88"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.39: Converting the sprites to Multiple Sprite Mode</p>
<p class="calibre3">Note that the <strong class="bold">Inspector</strong> says <strong class="bold">2 Texture 2Ds Import Settings</strong> because we have selected two images.</p></li>
</ol>
<ol class="calibre13">
<li value="7" class="calibre14">Now <a id="_idIndexMarker220" class="pcalibre pcalibre1 calibre6"/>select the <code>catSprites</code> image and open the <strong class="bold">Sprite Editor</strong> with the button in the <strong class="bold">Import </strong><strong class="bold">Settings</strong> Panel.</li>
<li class="calibre14">With the <strong class="bold">Sprite Editor</strong> open, select <strong class="bold">Slice</strong>.</li>
<li class="calibre14">Now change the slice properties so that the <strong class="bold">Slice Type</strong> is <strong class="bold">Automatic</strong> and the sprite <strong class="bold">Pivot</strong> is applied to the <strong class="bold">Bottom</strong>. Once done, hit <strong class="bold">Slice</strong>.</li>
<li class="calibre14">You should now see the sprite broken into three separate regions. Hit <strong class="bold">Apply</strong> to save the changes.</li>
<li class="calibre14">Now, if you click on<a id="_idIndexMarker221" class="pcalibre pcalibre1 calibre6"/> the arrow on the <code>catSprites</code> image in the project folder view, you should see the individual images:</li>
</ol>
<div><div><img alt="Figure 6.40: The split sprite sheet" src="img/Figure_06.40_B18327.jpg" class="calibre89"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.40: The split sprite sheet</p>
<ol class="calibre13">
<li value="12" class="calibre14">Complete Steps 8 through 12 for the <code>uiElements</code> image, but set the pivot point to the <strong class="bold">Center</strong>.</li>
</ol>
<p class="calibre3">Now that we have our project and sprites set up, we can begin with the UI examples.</p>
<h2 id="_idParaDest-96" class="calibre7"><a id="_idTextAnchor102" class="pcalibre pcalibre1 calibre6"/>Laying out a basic HUD</h2>
<p class="calibre3">We will make a HUD that will look like the following:</p>
<div><div><img alt="Figure 6.41: The HUD we will develop" src="img/Figure_06.41_B18327.jpg" class="calibre90"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.41: The HUD we will develop</p>
<p class="calibre3">It will be expanded upon in the upcoming chapters, but for now, it’ll have a pretty simple layout that will focus on<a id="_idIndexMarker222" class="pcalibre pcalibre1 calibre6"/> parent–child relationships and anchor/pivot point placement.</p>
<p class="calibre3">To create the HUD shown in the preceding image, complete the following steps:</p>
<ol class="calibre13">
<li class="calibre14">Create a new Canvas using <strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Canvas</strong>.</li>
<li class="calibre14">In the Canvas <code>HUD Canvas</code>.</li>
<li class="calibre14">It is best to set up all of your <code>1024</code> x <code>768</code>. If you look at the <code>pinkBackground</code> image (that we’ll apply in the next example), it has a resolution of <code>2048</code> x <code>1536</code>; <code>1024</code> x <code>768</code> has the same aspect ratio as the background image. So, set your <strong class="bold">Canvas Scaler</strong> component to the following settings:
<div><div><img alt="Figure 6.42: The Canvas Scaler properties" src="img/Figure_06.42_B18327.jpg" class="calibre91"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.42: The Canvas Scaler properties</p>
<p class="calibre3">We have set the <code>1</code> so that it maintains the ratios in the vertical direction. If you remember from the <em class="italic">Scale with Screen Size</em> section, I find that this works best for most games made with a landscape resolution.</p></li>
</ol>
<ol class="calibre13">
<li value="4" class="calibre14">Set your Game <a id="_idIndexMarker223" class="pcalibre pcalibre1 calibre6"/>view to <code>1024</code> x <code>768</code> so that you will see everything scaled appropriately (refer to the <em class="italic">Changing the Aspect Ratio and Resolution of the Game View</em> section of <a href="B18327_01.xhtml#_idTextAnchor014" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 1</em></a> for directions on adding your own Game view resolution.)</li>
</ol>
<div><div><img alt="Figure 6.43: 1024 x 768 Game view resolution" src="img/Figure_06.43_B18327.jpg" class="calibre92"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.43: 1024 x 768 Game view resolution</p>
<ol class="calibre13">
<li value="5" class="calibre14">Since we only have one Canvas, when we add any new UI elements to our scene, they will automatically be made children of our <code>HUD Canvas</code>. Create a new Panel using <code>HUD</code> <code>Panel</code>. You will see that it is a child of the <code>HUD Canvas</code>. This Panel will represent the rectangle that holds all the HUD elements.</li>
<li class="calibre14">Click on the Anchor<a id="_idIndexMarker224" class="pcalibre pcalibre1 calibre6"/> Presets icon to open the <strong class="bold">Anchor Presets</strong>. Select the top-left Anchor Preset while holding down <em class="italic">Shift</em> + <em class="italic">Alt</em>.</li>
</ol>
<div><div><img alt="Figure 6.44: Set the Anchor Preset of the HUD Panel" src="img/Figure_06.44_B18327.jpg" class="calibre93"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.44: Set the Anchor Preset of the HUD Panel</p>
<ol class="calibre13">
<li value="7" class="calibre14">Expand the <code>uiElements</code> image by selecting the arrow on its right. Locate the <code>uiElements_1</code> sub-image:</li>
</ol>
<div><div><img alt="Figure 6.45: Set the Anchor Preset of the HUD Panel" src="img/Figure_06.45_B18327.jpg" class="calibre94"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.45: Set the Anchor Preset of the HUD Panel</p>
<ol class="calibre13">
<li value="8" class="calibre14">Drag <code>uiElements_1</code> to the <code>HUD Panel</code>:</li>
</ol>
<div><div><img alt="Figure 6.46: The Image component with uiElements_1 assigned" src="img/Figure_06.46_B18327.jpg" class="calibre95"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.46: The Image component with uiElements_1 assigned</p>
<ol class="calibre13">
<li value="9" class="calibre14">Currently, the Panel is very faint and stretches across the whole screen. Let’s make it easier to see by increasing the opacity. Click on the white rectangle in the <code>Alpha</code> slider all the way to the right or input the value <code>255</code> in the alpha value slot:</li>
</ol>
<div><div><img alt="Figure 6.47: Adjusting the alpha value on the color picker to full alpha" src="img/Figure_06.47_B18327.jpg" class="calibre96"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.47: Adjusting the alpha value on the color picker to full alpha</p>
<ol class="calibre13">
<li value="10" class="calibre14">Click on the checkbox next to the <strong class="bold">Preserve Aspect</strong> setting in the <strong class="bold">Image</strong> component. This property will make the image always maintain the aspect ratio of the original<a id="_idIndexMarker226" class="pcalibre pcalibre1 calibre6"/> image, even if you set the width and height of the Image to something that does not have the same aspect ratio.<p class="calibre3">The Panel will now take up only the top portion of the scene:</p></li>
</ol>
<div><div><img alt="Figure 6.48: The Panel after preserving the aspect ratio" src="img/Figure_06.48_B18327.jpg" class="calibre97"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.48: The Panel after preserving the aspect ratio</p>
<ol class="calibre13">
<li value="11" class="calibre14">From the <code>HUD Panel</code>, you’ll note that the <code>1024</code> and <code>768</code>, respectively. You can also see more easily from the <strong class="bold">Scene</strong> view that the Rect Transform expands past the viewable region of the<a id="_idIndexMarker227" class="pcalibre pcalibre1 calibre6"/> sprite. So, the object is much larger than it appears to be.</li>
</ol>
<div><div><img alt="Figure 6.49: The Rect Transform exceeding the visible image area" src="img/Figure_06.49_B18327.jpg" class="calibre98"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.49: The Rect Transform exceeding the visible image area</p>
<ol class="calibre13">
<li value="12" class="calibre14">Let’s rescale the Rect Transform of the Panel so that it matches the size we are looking for and hugs the viewable image better. Change the <code>300</code> and the <code>102</code>. The Rect <a id="_idIndexMarker228" class="pcalibre pcalibre1 calibre6"/>Transform won’t be a perfectly snug fit in the vertical direction, but it will be pretty close.</li>
</ol>
<div><div><img alt="Figure 6.50: Rescaling the Rect Transform of the HUD Panel" src="img/Figure_06.50_B18327.jpg" class="calibre99"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.50: Rescaling the Rect Transform of the HUD Panel</p>
<ol class="calibre13">
<li value="13" class="calibre14">We now have the main Panel set up. Since all other images will be contained within the <code>HUD Panel</code>, we want to make them children of the <code>HUD</code> <code>Panel</code>. That way, when the screen rescales, the other images will remain “inside” the <code>HUD</code> <code>Panel</code> and will maintain their size relative to the <code>HUD</code> <code>Panel</code>.<p class="calibre3">Let’s start with the Image that holds the cat character’s head. Right-click on the <code>HUD Panel</code> and select <code>HUD Panel</code>. Rename it <code>Character Holder</code>.</p></li>
<li class="calibre14">Place the <code>uiElement_6</code> sprite in the <strong class="bold">Source Image</strong> slot and select <strong class="bold">Preserve Aspect</strong>.</li>
<li class="calibre14">Since the <code>Character</code> <code>Holder</code> image is a child of the <code>HUD</code> <code>Panel</code>, any anchoring we set will be relative to the <code>HUD</code> <code>Panel</code>. Choose <a id="_idIndexMarker229" class="pcalibre pcalibre1 calibre6"/>the <strong class="bold">left-stretch</strong> Anchor Preset while holding <em class="italic">Shift</em> + <em class="italic">Alt</em>. Additionally, set the position and dimension variables as shown:</li>
</ol>
<div><div><img alt="Figure 6.51: Rescaling the Rect Transform of the Character Holder" src="img/Figure_06.51_B18327.jpg" class="calibre100"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.51: Rescaling the Rect Transform of the Character Holder</p>
<ol class="calibre13">
<li value="16" class="calibre14">Let’s add the Image for the cat head. We want it to fully fill out the slot represented by the <code>Character Holder</code> image. So, we will make it a child of the <code>Character</code> <code>Holder</code> image. Right-click on <code>Character Holder</code> and select <code>Character Image</code>.</li>
<li class="calibre14">Now add the <code>catSprites_0</code> subimage to the <strong class="bold">Source Image</strong> of the <strong class="bold">Image</strong> component and <a id="_idIndexMarker230" class="pcalibre pcalibre1 calibre6"/>select <strong class="bold">Preserve Aspect</strong>.</li>
<li class="calibre14">Set the <strong class="bold">Anchor Preset</strong> to <strong class="bold">stretch-stretch</strong> while holding <em class="italic">Shift</em> + <em class="italic">Alt</em>:
<div><div><img alt="Figure 6.52: Rescaling the Rect Transform of the Character Image" src="img/Figure_06.52_B18327.jpg" class="calibre101"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.52: Rescaling the Rect Transform of the Character Image</p>
<p class="calibre3">Since we ensured that we have the <code>Character Holder</code> fit snuggly around the holder›s image, it should make the cat›s head fit perfectly within the holder image without having to adjust any settings!</p>
<div><div><img alt="Figure 6.53: The Character Image fitting within the Character Holder" src="img/Figure_06.53_B18327.jpg" class="calibre102"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.53: The Character Image fitting within the Character Holder</p></li>
</ol>
<ol class="calibre13">
<li value="19" class="calibre14">Now, we are ready to start <a id="_idIndexMarker231" class="pcalibre pcalibre1 calibre6"/>making the health bar. We will create it similarly to the way we made the <code>Character Holder</code> and <code>Character</code>. Right-click on the <code>HUD Panel</code> and select <code>Health Holder</code>.</li>
<li class="calibre14">Place the <code>uiElement_20</code> sprite in the <strong class="bold">Source Image</strong> slot and select <strong class="bold">Preserve Aspect</strong>.</li>
<li class="calibre14">Set the <strong class="bold">Rect Transform</strong> properties as shown in the following image, and ensure that you hold <em class="italic">Shift + Alt</em> when selecting the <strong class="bold">Anchor Preset</strong>:</li>
</ol>
<div><div><img alt="Figure 6.54: The properties of the Health Holder" src="img/Figure_06.54_B18327.jpg" class="calibre103"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.54: The properties of the Health Holder</p>
<ol class="calibre13">
<li value="22" class="calibre14">Now, all we have left is the health<a id="_idIndexMarker232" class="pcalibre pcalibre1 calibre6"/> bar! Just as we made the cat head Image a child of the <code>Character Holder</code>, we will need to make the health bar’s Image a child of <code>Health Holder</code>. Right-click on <code>Health Holder</code> and select <code>Health Bar</code>.</li>
<li class="calibre14">Place the <code>uiElement_23</code> image in the <strong class="bold">Source Image</strong> slot. This time, we will not be selecting <strong class="bold">Preserve Aspect</strong> because we want the image to scale this image horizontally.</li>
<li class="calibre14">Set the <strong class="bold">Rect Transform</strong> properties as shown in the following screenshot, and ensure that you hold <em class="italic">Shift + Alt</em> when selecting the <strong class="bold">Anchor Presets</strong>:
<div><div><img alt="Figure 6.55: The properties of Health Holder" src="img/Figure_06.55_B18327.jpg" class="calibre104"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.55: The properties of Health Holder</p>
<p class="calibre3">Note that a little padding was added so that you can see the edges of <code>Health Holder</code>.</p></li>
</ol>
<ol class="calibre13">
<li value="25" class="calibre14">Before proceeding, it is important <a id="_idIndexMarker233" class="pcalibre pcalibre1 calibre6"/>that your Rect Transform Positioning mode is set to <strong class="bold">Pivot</strong>. Otherwise, you will not be able to move the pivot in the next step.</li>
</ol>
<div><div><img alt="Figure 6.56: The Rect Transform Positioning mode" src="img/Figure_06.56_B18327.jpg" class="calibre105"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.56: The Rect Transform Positioning mode</p>
<ol class="calibre13">
<li value="26" class="calibre14">We’re almost done! Right now, the pivot point of the image is right at the center. This means if we try to scale it, it will scale toward the center. However, we want it to be able to scale toward the left. So, open the <strong class="bold">Anchor Presets</strong>, and while holding <em class="italic">Shift</em> only, select <strong class="bold">middle-left</strong>. This will cause only the pivot point to move.</li>
</ol>
<div><div><img alt="Figure 6.57: Moving the pivot point" src="img/Figure_06.57_B18327.jpg" class="calibre106"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.57: Moving the pivot point</p>
<ol class="calibre13">
<li value="27" class="calibre14">Now, when we adjust the <strong class="bold">Scale X</strong> value on the <strong class="bold">Rect Transform</strong>, the health bar will scale toward the left:</li>
</ol>
<div><div><img alt="Figure 6.58: Adjusting the scale of the health bar" src="img/Figure_06.58_B18327.jpg" class="calibre107"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.58: Adjusting the scale of the health bar</p>
<p class="calibre3">That’s it for our HUD example! Try changing your Game view’s aspect ratio to different settings so that you can see the <a id="_idIndexMarker234" class="pcalibre pcalibre1 calibre6"/>Panel scale appropriately and see all the object-relative positions maintained.</p>
<p class="calibre3">If your HUD is doing some wonky stuff when you change the Game’s aspect ratio, ensure that your objects have the correct parent–child relationship. Your parent–child relationships should be as follows:</p>
<div><div><img alt="Figure 6.59: The Hierarchy’s parent–child relationship" src="img/Figure_06.59_B18327.jpg" class="calibre108"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.59: The Hierarchy’s parent–child relationship</p>
<p class="calibre3">Also, check to ensure that <a id="_idIndexMarker235" class="pcalibre pcalibre1 calibre6"/>the anchor and pivot points are set correctly.</p>
<h2 id="_idParaDest-97" class="calibre7"><a id="_idTextAnchor103" class="pcalibre pcalibre1 calibre6"/>Placing a 2D game background image</h2>
<p class="calibre3">Placing a background<a id="_idIndexMarker236" class="pcalibre pcalibre1 calibre6"/> image that scales with the screen is not too difficult as long as you use the appropriate Canvas properties. We will expand upon our HUD example and place a background image in the scene.</p>
<div><div><img alt="Figure 6.60: The result of the background image" src="img/Figure_06.60_B18327.jpg" class="calibre109"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.60: The result of the background image</p>
<p class="calibre3">We’ll need to ensure that this background image doesn’t just display behind other UI elements but also displays behind any game objects we may put in our scene.</p>
<p class="calibre3">To make a background image that displays behind all UI elements as well as all game elements, complete the <a id="_idIndexMarker237" class="pcalibre pcalibre1 calibre6"/>following steps:</p>
<ol class="calibre13">
<li class="calibre14">Create a new Canvas using <strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Canvas.</strong> I like to use different Canvases to sort my different UI elements, but the need for a new Canvas stems from more than personal preference in this case. We need a new Canvas because we need a Canvas with a different Render Mode. This Canvas will use the <strong class="bold">Screen Space-Camera</strong> Render Mode.</li>
<li class="calibre14">In the Canvas <code>Background Canvas</code>.</li>
<li class="calibre14">Change the <code>Main Camera</code> into the <strong class="bold">Render </strong><strong class="bold">Camera</strong> slot:</li>
</ol>
<div><div><img alt="Figure 6.61: The Canvas component of the Background Canvas" src="img/Figure_06.61_B18327.jpg" class="calibre110"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.61: The Canvas component of the Background Canvas</p>
<ol class="calibre13">
<li value="4" class="calibre14">To ensure that this Canvas appears behind all other UI elements and all the 2D sprites in the game, we will need to use Sorting Layers. In the top-right corner of the Unity Editor, you will see a dropdown menu labeled <strong class="bold">Layers</strong>. Select it and select <strong class="bold">Edit Layers</strong>:</li>
</ol>
<div><div><img alt="Figure 6.62: Editing Layers" src="img/Figure_06.62_B18327.jpg" class="calibre111"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.62: Editing Layers</p>
<ol class="calibre13">
<li value="5" class="calibre14">Expand <code>Background</code>.
<div><div><img alt="Figure 6.63: Adding the Background Sorting Layer" src="img/Figure_06.63_B18327.jpg" class="calibre112"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.63: Adding the Background Sorting Layer</p>
<p class="calibre3">Sorting layers work so that whichever is on the top of this list will render the furthest back in the scene. So, if you wanted to add a foreground layer, you’d add it below <code>Background</code> layer will be behind any new sprite you create. If you do create new layers, ensure that the <code>Background</code> layers stay on the top of this list.</p></li>
</ol>
<ol class="calibre13">
<li value="6" class="calibre14">Reselect <code>Background Canvas</code> and now change the <strong class="bold">Sorting Layer</strong> to <strong class="bold">Background</strong>:</li>
</ol>
<div><div><img alt="Figure 6.64: Setting the Background Sorting Layer" src="img/Figure_06.64_B18327.jpg" class="calibre113"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.64: Setting the Background Sorting Layer</p>
<ol class="calibre13">
<li value="7" class="calibre14">Now, all we need to do is add the background image. Right-click on the <code>Background Canvas</code> and select <code>Background Image</code>.</li>
<li class="calibre14">Place the <code>pinkBackground</code> sprite in the <strong class="bold">Source Image</strong> slot. This time, we will not be selecting <strong class="bold">Preserve Aspect</strong> because we want the image to be able to squash and stretch as the game <a id="_idIndexMarker239" class="pcalibre pcalibre1 calibre6"/>screen resizes and always fills the scene.</li>
<li class="calibre14">Set the <strong class="bold">Rect Transform</strong> properties as shown and ensure that you hold <em class="italic">Shift</em> + <em class="italic">Alt</em> when selecting the <strong class="bold">Anchor Presets</strong>:</li>
</ol>
<div><div><img alt="Figure 6.65: The Background Image settings" src="img/Figure_06.65_B18327.jpg" class="calibre114"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.65: The Background Image settings</p>
<p class="calibre3">Because the <code>Background Canvas</code> is set to <strong class="bold">Screen Space – Camera</strong>, you may have to change your view so that you can see it. It will be where the Main Camera view is.</p>
<p class="calibre3">That’s it! Try changing the <a id="_idIndexMarker240" class="pcalibre pcalibre1 calibre6"/>Game view’s aspect ratio around and resizing the screen in <strong class="bold">Free Aspect</strong> mode so that you can see the background image always filling the screen. Also, try adding some non-UI 2D sprites to the scene and see how they render on top of the background.</p>
<p class="calibre3">One thing that is not ideal about this example is that the background image is being allowed to change its aspect ratio. You’ll see that the image looks pretty bad at some aspect ratios because of this. This background image will not be a good choice for a game that would be released on multiple aspect ratios. I chose this image for two reasons:</p>
<ul class="calibre16">
<li class="calibre14">You can see how it’s important to pick an image that doesn’t depend so highly on aspect ratio.</li>
<li class="calibre14">It was free!</li>
</ul>
<p class="calibre3">I highly recommend that if <a id="_idIndexMarker241" class="pcalibre pcalibre1 calibre6"/>you use this method to create a background image, you use one with a pattern that doesn’t so obviously display distortion.</p>
<h2 id="_idParaDest-98" class="calibre7"><a id="_idTextAnchor104" class="pcalibre pcalibre1 calibre6"/>Setting up a basic pop-up menu</h2>
<p class="calibre3">The last example we will cover in this chapter<a id="_idIndexMarker242" class="pcalibre pcalibre1 calibre6"/> will utilize the <strong class="bold">Canvas Group</strong> component. We won›t be able to really see this component in action until we start programming in <a href="B18327_08.xhtml#_idTextAnchor147" class="pcalibre pcalibre1 calibre6"><em class="italic">Chapter 8</em></a>, but we can lay the groundwork now. We’ll also get a bit more practice with laying out UI with this example.</p>
<div><div><img alt="Figure 6.66: The pop-up Panel we will lay out" src="img/Figure_06.66_B18327.jpg" class="calibre115"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.66: The pop-up Panel we will lay out</p>
<p class="calibre3">To create the pop-up menu shown in the preceding image, complete the following steps:</p>
<ol class="calibre13">
<li class="calibre14">Create a new Canvas using <strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Canvas</strong>.</li>
<li class="calibre14">In the <code>Popup Canvas</code>.</li>
<li class="calibre14">I want to use the same properties for the <code>HUD Canvas</code>. Instead of setting up all that again, I’ll use a shortcut and copy the <code>HUD Canvas</code>. To do so, select the three dots (the “kabob” menu) in the right-hand corner of the <code>HUD Canvas</code> and select <strong class="bold">Copy Component</strong>.</li>
<li class="calibre14">Now select the “kabob” menu in the right-hand corner of the <code>Popup Canvas</code> and select <strong class="bold">Paste </strong><strong class="bold">Component Values</strong>.</li>
<li class="calibre14">We will add a Panel that will hold <a id="_idIndexMarker243" class="pcalibre pcalibre1 calibre6"/>all the items, similarly to the way we did with the HUD. This will ensure that everything stays together as it should. Right-click on <code>Popup Canvas</code> and select <code>Pause Panel</code>.</li>
<li class="calibre14">Place the <code>uiElement_32</code> image in the <strong class="bold">Source Image</strong> slot, give it a full alpha value, and select <strong class="bold">Preserve Aspect</strong>.</li>
<li class="calibre14">Set the <strong class="bold">Rect Transform</strong> properties as shown in the following screenshot, and ensure that you hold <em class="italic">Shift</em> + <em class="italic">Alt</em> when selecting the <strong class="bold">Anchor Preset</strong>:</li>
</ol>
<div><div><img alt="Figure 6.67: The properties of Pause Panel" src="img/Figure_06.67_B18327.jpg" class="calibre116"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.67: The properties of Pause Panel</p>
<ol class="calibre13">
<li value="8" class="calibre14">Now, let’s give the <a id="_idIndexMarker244" class="pcalibre pcalibre1 calibre6"/>Panel a nice banner at the top. Right-click on <code>Popup Panel</code> and select <code>Pause Banner</code>.</li>
<li class="calibre14">Place the <code>uiElement_27</code> image in the <strong class="bold">Source Image</strong> slot and select <strong class="bold">Preserve Aspect</strong>.</li>
<li class="calibre14">Set the <strong class="bold">Rect Transform</strong> properties as shown in the following screenshot, and ensure that you hold <em class="italic">Shift</em> + <em class="italic">Alt</em> when selecting the <strong class="bold">Anchor Presets</strong>:
<div><div><img alt="Figure 6.68: The properties of Pause Banner" src="img/Figure_06.68_B18327.jpg" class="calibre117"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 6.68: The properties of Pause Banner</p>
<p class="calibre3">We’ll add the text to this banner in a later chapter.</p></li>
</ol>
<ol class="calibre13">
<li value="11" class="calibre14">The main point of this<a id="_idIndexMarker245" class="pcalibre pcalibre1 calibre6"/> example was to demonstrate the use of the <code>Pause Panel</code>.<p class="calibre3">Select <code>Pause Panel</code>, and then select <strong class="bold">Add Component</strong> |<strong class="bold"> Layout</strong> |<strong class="bold"> Canvas Group</strong> (you can also just search for Canvas Group).</p></li>
</ol>
<p class="calibre3">That’s it for now! Change the values of <code>Pause Panel</code> <code>Pause Panel</code> and the <code>Pause Banner</code> alpha values change. This is great for pop-up menus you want to hide and show without having to program each item individually. Once we spend<a id="_idIndexMarker246" class="pcalibre pcalibre1 calibre6"/> more time with <code>Pause Panel</code>, it will have a lot more items on it, and we will be happy that we don’t have to program each piece individually.</p>
<h1 id="_idParaDest-99" class="calibre5"><a id="_idTextAnchor105" class="pcalibre pcalibre1 calibre6"/>Summary</h1>
<p class="calibre3">Wow! This chapter was intense! There was a lot to cover, as this chapter set the groundwork that will be used throughout the rest of this book. We discussed the concept of a Canvas and how to correctly position it within your scene. Additionally, we discussed the basic UI Panel to allow us to explore the concept of positioning UI elements within a scene. Correctly setting up Canvases and their scalars is an important first step in developing UI.</p>
<p class="calibre3">The next chapter will cover how to create different automatic layouts that will let us line up our UI in grids.</p>
</div>
</div></body></html>