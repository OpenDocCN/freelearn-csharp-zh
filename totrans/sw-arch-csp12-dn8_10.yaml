- en: '10'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '10'
- en: Deciding on the Best Cloud-Based Solution
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择最佳云解决方案
- en: When designing your application to make it cloud-based, you must understand
    different architectural designs – from the simplest to the most sophisticated.
    In fact, cloud technology not only enables cost optimization but also significantly
    reduces the time it takes to launch your solution to the market. Also, it effectively
    enhances your application’s ability to tolerate faults and scale. However, optimizing
    for cost, speed, resilience, and scalability often involves trade-offs in terms
    of constraints and flexibility, so you must choose the right compromise for your
    needs.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 当你设计应用程序使其成为云基础时，你必须了解不同的架构设计——从最简单的到最复杂的。事实上，云计算技术不仅能够实现成本优化，而且还能显著缩短将你的解决方案推向市场的时间。此外，它还能有效提高应用程序容错和扩展的能力。然而，为了优化成本、速度、弹性和可扩展性，通常需要在约束和灵活性方面做出权衡，因此你必须为你的需求选择正确的折衷方案。
- en: This chapter discusses different software architecture models and teaches you
    how to take advantage of the opportunities offered by the cloud in your solutions.
    This chapter will also discuss the different types of cloud service that we can
    consider while developing our infrastructure, what the ideal scenarios are, and
    where we can use each of them.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章讨论了不同的软件架构模型，并教你如何利用云提供的机遇来优化你的解决方案。本章还将讨论我们在开发基础设施时可以考虑的不同类型的云服务，理想的场景是什么，以及我们可以在哪里使用它们。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Infrastructure as a Service solutions
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基础设施即服务解决方案
- en: Platform as a Service solutions
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 平台即服务解决方案
- en: Software as a Service solutions
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 软件即服务解决方案
- en: Serverless solutions
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无服务器解决方案
- en: How to use hybrid solutions and why they are so useful
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何使用混合解决方案以及为什么它们如此有用
- en: It is worth mentioning that the choice to be made between these options depends
    on different aspects of the project scenario, such as the need for flexibility
    and/or highly customized solutions versus simplicity, low maintenance costs, and
    low time-to-market. These trade-offs will be discussed throughout the whole chapter.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，在这些选项之间做出的选择取决于项目场景的不同方面，例如对灵活性和/或高度定制化解决方案的需求与简单性、低维护成本和低上市时间之间的权衡。这些权衡将在整章中讨论。
- en: Technical requirements
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: For the practical content in this chapter, you must create or use an Azure account.
    We can find the detailed procedure for creating an Azure account in *Chapter 1*,
    *Understanding the Importance of Software Architecture*, in the *Creating an Azure
    account* section.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本章的实践内容，你必须创建或使用一个Azure账户。我们可以在*第一章*，*理解软件架构的重要性*，的*创建Azure账户*部分找到创建Azure账户的详细步骤。
- en: Different software deployment models
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 不同的软件部署模型
- en: Let’s begin our exploration with **Infrastructure as a Service** (**IaaS**),
    the foundational layer of cloud computing. IaaS offers a flexible and scalable
    infrastructure, which is crucial for businesses with specific hardware requirements
    or those transitioning from on-premises solutions to the cloud.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从**基础设施即服务**（**IaaS**），云计算的基础层开始我们的探索。IaaS提供了一种灵活且可扩展的基础设施，这对于有特定硬件要求或从本地解决方案过渡到云的企业至关重要。
- en: In companies where you have infrastructure engineers, you will probably find
    more people working with **IaaS**. On the other hand, in companies where IT is
    not the core business, you will find a bunch of **Software as a Service** (**SaaS**)
    systems. It is common for developers to decide to use the **Platform as a Service**
    (**PaaS**) option or to go serverless, as they have no need to deliver infrastructures
    in this scenario.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在拥有基础设施工程师的公司中，你可能会发现更多的人在使用**IaaS**。另一方面，在IT不是核心业务的公司中，你会找到一大堆**软件即服务**（**SaaS**）系统。对于开发者来说，选择使用**平台即服务**（**PaaS**）选项或无服务器模式是很常见的，因为他们在这种情况下不需要提供基础设施。
- en: As a software architect, you must cope with this environment and be sure that
    you are optimizing the cost and work factors, not only during the initial development
    of the solution but also during its maintenance. Also, as an architect, you must
    understand the needs of your system and work hard to connect those needs to best-in-class
    peripheral solutions, speeding up delivery and keeping the solution as close as
    possible to the customer’s specifications.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 作为软件架构师，你必须应对这种环境，并确保你在解决方案的初始开发阶段以及维护阶段都在优化成本和工作因素。此外，作为一名架构师，你必须了解你系统的需求，并努力将这些需求与一流的周边解决方案相连接，以加快交付速度，并使解决方案尽可能接近客户的规格。
- en: IaaS and Azure opportunities
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: IaaS 和 Azure 机遇
- en: IaaS was the first generation of cloud services provided by many different cloud
    players. Its definition is easily found in many places, but we can summarize it
    as “your computing infrastructure delivered on the internet, hosted somewhere
    that you do not manage.” In the same way that we have virtualization of services
    in a local data center, IaaS will also give you virtualized components, such as
    servers, storage, and firewalls, in the cloud.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: IaaS 是许多不同云服务提供商提供的云服务的第一代。它的定义在许多地方都可以找到，但我们可以将其总结为“你的计算基础设施通过互联网交付，托管在你不管理的某个地方。”就像我们在本地数据中心中虚拟化服务一样，IaaS
    也会为你提供虚拟化组件，如服务器、存储和防火墙，在云端。
- en: In a few words, all the hardware you need is hosted in the cloud and maintained
    by the cloud provider instead of being hosted in your private data center. This
    includes servers delivered as virtual machines, possibly connected to private
    networks, disk storage, and also firewalls. You don’t buy the hardware but pay
    for its usage, and you can scale to a more powerful configuration at zero cost.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，你需要的所有硬件都托管在云端，并由云服务提供商维护，而不是托管在你的私有数据中心中。这包括作为虚拟机提供的服务器，可能连接到私有网络，磁盘存储，以及防火墙。你不需要购买硬件，只需为其使用付费，并且可以在零成本的情况下扩展到更强大的配置。
- en: You can access your cloud hardware as if it were hosted in your private data
    center, but hardware maintenance is taken care of by the cloud provider. Moreover,
    you can scale your hardware gradually as your application traffic increases without
    installation and purchase costs and without migrating data to new hardware. Scaling
    is performed with simple configuration instructions.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以像它托管在你的私有数据中心一样访问你的云硬件，但硬件维护由云服务提供商负责。此外，随着你的应用程序流量增加，你可以逐步扩展你的硬件，无需安装和购买成本，也无需将数据迁移到新的硬件。扩展是通过简单的配置指令完成的。
- en: 'Among the various cloud providers, Azure is the one with the most complete
    and varied offer, so you can easily find a perfect match with any hardware need.
    Most Azure **IaaS** solutions are paid for, and you should pay attention to this
    when it comes to testing. It is worth mentioning that this book does not set out
    to describe all IaaS services that Azure provides in detail. However, as a software
    architect, you do need to understand that you will find services such as the following:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在众多云服务提供商中，Azure 提供了最全面和多样化的服务，因此你可以轻松找到与任何硬件需求完美匹配的方案。大多数 Azure **IaaS** 解决方案都是付费的，在测试时请注意这一点。值得一提的是，本书并不旨在详细描述
    Azure 提供的所有 IaaS 服务。然而，作为一名软件架构师，你需要了解你将找到以下这样的服务：
- en: '**Virtual machines**: Windows Server, Linux, Oracle, data science, and machine
    learning'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**虚拟机**：Windows Server、Linux、Oracle、数据科学和机器学习'
- en: '**Network**: Virtual networks, load balancers, and DNS zones'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络**：虚拟网络、负载均衡器和 DNS 区域'
- en: '**Storage**: Files, tables, databases, and Redis'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**存储**：文件、表格、数据库和 Redis'
- en: Obviously, these are not the only ones available as IaaS models, so the first
    step is to look at the service options available in Azure. To create any service
    in Azure, you must find the service that best fits your needs and then create
    a resource. The following screenshot shows a Windows Server virtual machine being
    configured.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，这些并不是 IaaS 模型中可用的唯一选项，因此第一步是查看 Azure 中可用的服务选项。要在 Azure 中创建任何服务，你必须找到最适合你需求的服务，然后创建一个资源。以下截图显示了正在配置的
    Windows Server 虚拟机。
- en: '![](img/B19820_10_01.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B19820_10_01.png)'
- en: 'Figure 10.1: Creating a virtual machine in Azure'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.1：在 Azure 中创建虚拟机
- en: Following the wizard provided by Azure to set up your virtual machine, you will
    be able to connect to it by using **Remote Desktop Protocol** (**RDP**). The next
    screenshot presents some of the hardware options you have for deploying a virtual
    machine. It is interesting to consider the vast array of hardware options at our
    disposal for deploying a virtual machine, especially when considering that these
    can be accessed just by clicking on the **Select** button.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 按照Azure提供的向导设置您的虚拟机后，您将能够通过使用**远程桌面协议**（**RDP**）连接到它。下一个截图展示了您部署虚拟机时可以选择的一些硬件选项。考虑我们可用的各种硬件选项来部署虚拟机是非常有趣的，尤其是在考虑到这些选项只需点击**选择**按钮即可访问时。
- en: '![](img/B19820_10_02.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B19820_10_02.png)'
- en: 'Figure 10.2: Virtual machine sizes available in Azure'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.2：Azure中可用的虚拟机大小
- en: If you compare the on-premises velocity to deliver hardware with the cloud velocity,
    you will realize that there is nothing better than the cloud when it comes to
    time-to-market. For instance, there are machines with 64 CPUs, 256 GB of RAM,
    and temporary storage of 512 GB. This is something you probably will not find
    in an on-premises data center, for instance, if you have a temporary workload,
    or it will take you a lot to deliver if you have a brand-new business idea that
    needs this computing power. Besides, in the temporary workload scenario, this
    machine will be underutilized, so it would be impossible to justify its purchase
    in an on-premises scenario.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您将本地交付硬件的速度与云交付的速度进行比较，您将意识到在上市时间方面，没有比云更好的选择。例如，有64个CPU、256 GB的RAM和512 GB临时存储的机器。这可能是在本地数据中心中找不到的，例如，如果您有一个临时的工作负载，或者如果您有一个需要这种计算能力的新业务想法，这将需要很长时间才能交付。此外，在临时工作负载场景中，这台机器将利用率不足，因此在本地场景中购买它的理由将是不成立的。
- en: IaaS can be adopted when you want full control over your infrastructure while
    still benefiting from cloud computing advantages like redundancy and scalability.
    However, the time-to-market for IaaS solutions is similar to that for on-premises
    solutions. Therefore, it is convenient to start with options that allow for a
    quicker launch in the short run and consider transitioning to IaaS for long-term
    objectives.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 当您希望对基础设施拥有完全控制权，同时还能享受云计算的优势，如冗余和可扩展性时，可以采用IaaS。然而，IaaS解决方案的上市时间与本地解决方案相似。因此，在短期内方便快速启动，可以考虑先从允许快速启动的选项开始，并考虑长期目标转向IaaS。
- en: Security responsibility in IaaS
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: IaaS中的安全责任
- en: Security is an essential aspect of all hardware solutions because hacker attacks
    might cause both service interruptions and leaks or loss of important business
    data.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 安全性是所有硬件解决方案的一个基本方面，因为黑客攻击可能会造成服务中断以及重要商业数据的泄露或丢失。
- en: 'Security responsibility is another important thing to know about an IaaS platform.
    Many people think that once you decide to go on the cloud, all the security is
    done by the provider. However, this is not true, as you can see in the following
    screenshot:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 安全责任是了解IaaS平台时需要知道的另一件重要事情。许多人认为，一旦决定上云，所有的安全工作都由提供商完成。然而，这并不正确，如下面的截图所示：
- en: '![Diagram  Description automatically generated](img/B19820_10_03.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![图描述自动生成](img/B19820_10_03.png)'
- en: 'Figure 10.3: Managing security in cloud computing'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.3：云计算中的安全管理
- en: IaaS will force you to take care of security from the operating system to the
    application. In some cases, this is inevitable, but you must understand that this
    will increase your system cost.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: IaaS将迫使您从操作系统到应用程序都负责安全。在某些情况下，这是不可避免的，但您必须理解这将增加您的系统成本。
- en: IaaS can be a good option if you just want to move an already existing on-premises
    structure to the cloud. This enables scalability due to the tools that Azure gives
    you, along with all the other services. However, if you are planning to develop
    an application from scratch, you should also consider other options available
    on Azure.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您只想将现有的本地结构迁移到云端，IaaS可以是一个不错的选择。这得益于Azure提供的工具以及所有其他服务，从而实现了可扩展性。然而，如果您计划从头开发应用程序，您也应该考虑Azure上可用的其他选项。
- en: Shifting our focus to **PaaS**, we enter a realm where speed and efficiency
    in software development take center stage. PaaS provides an environment where
    businesses can develop, run, and manage applications without the complexity of
    building and maintaining the infrastructure.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 将我们的重点转向**PaaS**，我们进入了一个以软件开发速度和效率为中心的领域。PaaS提供了一个环境，企业可以在其中开发、运行和管理应用程序，而无需构建和维护基础设施的复杂性。
- en: PaaS – a world of opportunities for developers
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: PaaS – 开发者的机会世界
- en: If you are studying or have studied software architectures, you will probably
    perfectly understand the meaning of the next sentence. The world demands high
    speed when it comes to software development! This demand for speed is precisely
    where **PaaS** becomes invaluable, offering rapid development and deployment capabilities.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在学习或已经学习过软件架构，你可能会完美理解下一句话的含义。当涉及到软件开发时，世界对速度的要求非常高！这种对速度的需求正是**PaaS**变得无价的地方，它提供了快速开发和部署的能力。
- en: 'As you can see in the preceding screenshot, PaaS allows you to worry about
    security only in terms of aspects that are closer to your business: your data
    and applications. For developers, this represents freedom from having to implement
    a bunch of configurations that make your solution work safely.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如前一张截图所示，PaaS允许你仅在更接近你业务的角度考虑安全问题：你的数据和应用程序。对于开发者来说，这意味着无需实施一大堆配置来确保解决方案的安全运行。
- en: Security handling is not the only advantage of PaaS. As a software architect,
    you can introduce these services as an opportunity to deliver richer solutions
    faster. Time-to-market can surely justify the cost of many applications that run
    on a PaaS basis.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 安全处理不是PaaS的唯一优势。作为一名软件架构师，你可以将这些服务视为快速交付更丰富解决方案的机会。上市时间可以肯定地证明在PaaS基础上运行的应用程序的成本。
- en: PaaS solutions free you from managing all details involved in your solution
    deployment without creating an excessive dependency on the PaaS supplier. In fact,
    your software need not depend too much on the chosen PaaS and small dependencies
    can be isolated in adequately designed drivers. In other words, it is always easy
    to move to a different PaaS solution or an IaaS solution if the software is designed
    with driver-based architecture, like the Onions architecture we described in the
    *Layers and the Onion architecture* section of *Chapter 7*, *Understanding the
    Different Domains in Software Solutions*. Therefore, PaaS may be a good choice
    to reduce time-to-market also when one plans to move to IaaS in the long run.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: PaaS解决方案让你摆脱了管理解决方案部署中所有细节的烦恼，同时不会对PaaS供应商产生过度依赖。实际上，你的软件不需要过多依赖所选的PaaS，小的依赖可以在适当设计的驱动程序中隔离。换句话说，如果软件设计有基于驱动程序的架构，如我们在第7章“理解软件解决方案的不同领域”的*层和洋葱架构*部分中描述的洋葱架构，那么迁移到不同的PaaS解决方案或IaaS解决方案总是很容易的。因此，当计划长期迁移到IaaS时，PaaS可能是一个减少上市时间的良好选择。
- en: Delving deeper into PaaS, let’s examine how Azure implements this model through
    its diverse range of services. Azure’s PaaS offerings are designed to cater to
    various development needs, from web applications to complex data processing.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 深入探讨PaaS，让我们来看看Azure如何通过其多样化的服务来实现这一模型。Azure的PaaS服务旨在满足各种开发需求，从Web应用程序到复杂的数据处理。
- en: There are lots of services delivered as PaaS nowadays in Azure, and the array
    of available services is continuously expanding, reflecting the evolving needs
    of developers and businesses.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，Azure中提供了许多作为PaaS提供的服务，可用的服务种类不断扩展，反映了开发者和企业不断变化的需求。
- en: Again, it is not the purpose of this book to list all of them. However, some
    do need to be mentioned. The list keeps growing, and the recommendation here is
    to use and test these services as much as you can! Make sure that you will deliver
    better-designed solutions with this thought in mind.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 再次强调，本书的目的不是列出所有这些服务。然而，其中一些确实需要提及。这个列表还在不断增长，这里的建议是尽可能多地使用和测试这些服务！确保你将这个想法放在心上，交付更好的设计方案。
- en: On the other hand, it is worth mentioning that, with PaaS solutions, you will
    not have full control of the operating system. In fact, in many situations, you
    do not even have to have a way to connect to it. This is fine most of the time,
    but in some debugging situations, you may miss this feature. The good thing is
    that PaaS components are evolving every single day, and one of Microsoft’s biggest
    concerns is making them widely visible.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，值得一提的是，使用PaaS解决方案，你将不会完全控制操作系统。实际上，在许多情况下，你甚至不需要连接到它的方式。这大多数时候是可以接受的，但在某些调试情况下，你可能会错过这个功能。好消息是，PaaS组件每天都在进化，微软最大的关注点之一就是让它们广为人知。
- en: The following subsections introduce the most common PaaS components delivered
    by Microsoft for .NET web apps, that is, Azure Web Apps and Azure SQL Server.
    We also describe Azure Cognitive Services, a very powerful PaaS platform that
    demonstrates how wonderful development is in the PaaS world. We will explore some
    of them in greater depth in the remainder of this book.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 以下小节介绍了 Microsoft 为 .NET 网络应用程序提供的最常见 PaaS 组件，即 Azure Web Apps 和 Azure SQL Server。我们还描述了
    Azure 认知服务，这是一个非常强大的 PaaS 平台，展示了在 PaaS 世界中开发的奇妙之处。我们将在本书的剩余部分更深入地探讨其中的一些内容。
- en: Of the many PaaS services, web apps stand out for their versatility and ease
    of use. Azure’s web app service simplifies the deployment of various types of
    applications, demonstrating the practicality and accessibility of PaaS solutions.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在众多 PaaS 服务中，网络应用程序因其多功能性和易用性而脱颖而出。Azure 的网络应用程序服务简化了各种类型应用程序的部署，展示了 PaaS 解决方案的实际性和可访问性。
- en: Web apps
  id: totrans-52
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 网络应用程序
- en: A web app is a PaaS option you can use to deploy your web app. You can deploy
    different types of applications, such as .NET, .NET Core, Java, PHP, Node.js,
    and Python. An example of this was presented in *Chapter 1*, *Understanding the
    Importance of Software Architecture*.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 网络应用程序是一个你可以用来部署你的网络应用程序的 PaaS 选项。你可以部署不同类型的应用程序，例如 .NET、.NET Core、Java、PHP、Node.js
    和 Python。这种例子在 *第一章*，*理解软件架构的重要性* 中有所展示。
- en: The good thing is that creating a web app does not require any structure and/or
    IIS web server setup. In some cases, where you are using Linux to host your .NET
    application, you do not have IIS at all. Web apps’ flexibility in hosting options,
    such as not requiring IIS for Linux-based deployments, underscores their adaptability
    to various development and deployment environments.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 好处在于创建网络应用程序不需要任何结构或/和 IIS 网络服务器设置。在某些情况下，如果你使用 Linux 来托管你的 .NET 应用程序，你甚至没有
    IIS。网络应用程序在托管选项上的灵活性，例如不需要 IIS 进行基于 Linux 的部署，强调了它们对各种开发和部署环境的适应性。
- en: Moreover, web apps have a plan option where you do not need to pay for usage.
    Of course, there are limitations, such as only running 32-bit apps and failing
    to enable scalability. This free tier is ideal for learning and initial application
    prototyping, offering essential features without the financial commitment.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，网络应用程序有一个计划选项，你无需为使用付费。当然，有一些限制，例如只能运行 32 位应用程序，并且无法启用可伸缩性。这个免费层非常适合学习和初始应用程序原型设计，提供基本功能而不需要财务承诺。
- en: SQL databases
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: SQL 数据库
- en: Imagine how quickly you can deploy a solution if you have the complete power
    of an SQL server without needing to pay for a big server to deploy this database.
    This applies to SQL databases. With them, you can use Microsoft SQL Server for
    what you need the most – storage and data processing. In this scenario, Azure
    assumes responsibility for backing up the database.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，如果你不需要为部署这个数据库支付大服务器的费用，而只需拥有完整的 SQL 服务器功能，你可以多快地部署一个解决方案。这适用于 SQL 数据库。使用它们，你可以根据需要使用
    Microsoft SQL Server – 存储和数据处理。在这种情况下，Azure 负责备份数据库。
- en: Here, we will discuss briefly the advantages of having your databases in the
    cloud. Databases are discussed in detail in both *Chapter 12*, *Choosing Your
    Data Storage in the Cloud*, and *Chapter 13*, *Interacting with Data in C# – Entity
    Framework Core*.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们将简要讨论将数据库放在云中的优势。数据库在 *第 12 章*，*在云中选择你的数据存储* 和 *第 13 章*，*使用 C# 与数据交互 –
    Entity Framework Core* 中有详细讨论。
- en: Say you are starting a new business application, and say, initially, your data
    storage and traffic requirements are quite low, but you need advanced features
    such as data replication to safeguard your data and offer high performance to
    geographically distributed users. Without Azure SQL databases, you would be forced
    to buy several SQL licenses since the SQL Server free edition doesn’t cover similar
    scenarios.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你正在开发一个新的业务应用程序，最初你的数据存储和流量需求相当低，但你需要像数据复制这样的高级功能来保护你的数据，并为地理上分布的用户提供高性能。如果没有
    Azure SQL 数据库，你就不得不购买多个 SQL 许可证，因为 SQL Server 免费版不涵盖类似场景。
- en: With Azure SQL databases, instead, you can have the top features of the SQL
    Server Enterprise edition without paying for an expensive license, paying instead
    just for your initially small storage and traffic needs.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Azure SQL 数据库，你无需支付昂贵的许可证费用，只需为最初的小型存储和流量需求付费。
- en: The SQL database even gives you the option to manage performance by itself.
    This is called automatic tuning – that is, your traffic requirements are automatically
    scaled to keep response time acceptable as requests increase. This means that
    your costs might automatically increase, but you can also define maximum expense
    limits.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: SQL数据库甚至为你提供了自行管理性能的选项。这被称为自动调优——也就是说，你的流量需求会自动扩展，以保持响应时间在可接受范围内，随着请求的增加。这意味着你的成本可能会自动增加，但你也可以定义最大支出限制。
- en: 'Again, with PaaS components, you will be able to focus on what is important
    to your business: a very fast time-to-market.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 再次强调，使用PaaS组件，你将能够专注于对你业务重要的事情：非常快的上市时间。
- en: 'The steps to create a SQL database for testing are quite simple, like what
    we have seen with other components. However, there are two things you need to
    pay attention to: the creation of the server and how you will be charged. In fact,
    understanding the various configurations and their costs is essential to finding
    the best trade-off between your application and maximum cost requirements.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 创建用于测试的SQL数据库的步骤相当简单，就像我们看到的其他组件一样。然而，有两件事你需要注意：服务器的创建以及你将如何被收费。实际上，理解各种配置及其成本对于找到应用程序和最大成本需求之间最佳权衡是至关重要的。
- en: 'When you create a resource, you can search for `SQL Database`, and you will
    find this wizard to help you:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 当你创建资源时，你可以搜索`SQL Database`，你将找到这个向导来帮助你：
- en: '![](img/B19820_10_04.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B19820_10_04.png)'
- en: 'Figure 10.4: Creating a SQL database in Azure'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.4：在Azure中创建SQL数据库
- en: The SQL database depends on an SQL server to host it. For this reason, as you
    can see, you must create (at least for the first database) a `database.windows.net`
    server, where your databases will be hosted. This server will provide all the
    parameters you need to access the SQL server database using current tools, such
    as Visual Studio, SQL Server Management Studio, and Azure Data Studio. It is worth
    mentioning that you have a bunch of security features, such as Transparent Data
    Encryption and IP firewalls.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: SQL数据库依赖于一个SQL服务器来托管它。因此，正如你所见，你必须创建（至少对于第一个数据库）一个`database.windows.net`服务器，你的数据库将托管在这个服务器上。这个服务器将提供你使用当前工具（如Visual
    Studio、SQL Server Management Studio和Azure Data Studio）访问SQL服务器数据库所需的所有参数。值得一提的是，你有一系列安全特性，例如透明数据加密和IP防火墙。
- en: 'As soon as you decide on the name of your database server, you will be able
    to choose the pricing tier on which your system will be charged. Especially in
    SQL databases, there are several different pricing options, as you can see in
    the following screenshot. You should study each of them carefully because, depending
    on your scenario, you can save money by optimizing a pricing tier:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你决定了数据库服务器的名称，你将能够选择你的系统将被收取费用的定价层。特别是在SQL数据库中，有几种不同的定价选项，如以下截图所示。你应该仔细研究每一个，因为根据你的场景，通过优化定价层你可以节省金钱：
- en: '![Graphical user interface, text, application  Description automatically generated](img/B19820_10_05.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![图形用户界面，文本，应用程序  自动生成的描述](img/B19820_10_05.png)'
- en: 'Figure 10.5: Configuring the Azure SQL Database Pricing Tier'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.5：配置Azure SQL数据库定价层
- en: 'For more information about SQL configuration, you can use this link: [https://azure.microsoft.com/en-us/services/sql-database/](https://azure.microsoft.com/en-us/services/sql-database/).'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 关于SQL配置的更多信息，你可以使用这个链接：[https://azure.microsoft.com/en-us/services/sql-database/](https://azure.microsoft.com/en-us/services/sql-database/)。
- en: More details on database solutions are discussed in *Chapter 12*, *Choosing
    Your Data Storage in the Cloud*, and *Chapter 13*, *Interacting with Data in C#
    - Entity Framework Core*.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 关于数据库解决方案的更多细节将在*第12章*，*在云中选择你的数据存储*和*第13章*，*使用C#与数据交互 - Entity Framework Core*中讨论。
- en: Once you have completed the configuration, you will be able to connect to this
    server database in the same way you did when your SQL server was installed on-premises.
    The only detail that you must pay attention to is the configuration of the Azure
    SQL Server firewall, but this is quite simple to set up and a good demonstration
    of how safe the PaaS service is.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你完成了配置，你将能够以与你的SQL服务器在本地安装时相同的方式连接到这个服务器数据库。你必须注意的唯一细节是Azure SQL服务器防火墙的配置，但这设置起来相当简单，并且是PaaS服务安全性的良好证明。
- en: Azure Cognitive Services
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Azure认知服务
- en: '**Artificial Intelligence** (**AI**) is one of the most frequently discussed
    topics in software architecture. We are a step away from a really great world
    where AI will be everywhere.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '**人工智能**（**AI**）是软件架构中最常讨论的话题之一。我们离一个真正伟大的世界只有一步之遥，在那里人工智能将无处不在。'
- en: For instance, AI is gaining ever more importance in the field of automatic help
    centers, data analysis to drive business decisions, and user interfaces based
    on natural language. The economic value added to these areas by AI is enormous,
    both in the decrease of service costs and in the increase in profit due to optimized
    decision-making.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，人工智能在自动帮助中心、数据分析和基于自然语言的用户界面等领域越来越重要。人工智能为这些领域增加的经济价值巨大，无论是在服务成本降低还是在由于优化决策而增加的利润方面。
- en: To realize this, as a software architect, you cannot think about AI as software
    you need to invent from scratch all the time.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这一点，作为一个软件架构师，你不能总是把人工智能看作是需要从头开始发明的软件。
- en: Azure Cognitive Services can help you with this. These APIs empower developers
    to create advanced features, like voice recognition in apps or language translation
    in customer service tools, with relative ease.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: Azure认知服务可以帮助你实现这一点。这些API使开发者能够轻松创建高级功能，如应用中的语音识别或客户服务工具中的语言翻译。
- en: 'The great thing about PaaS is evident from this scenario. The cost of developing
    an in-house AI solution would require both enormous investments and hard-to-find
    competencies. With Azure Cognitive Services’ PaaS, instead, you just don’t need
    to worry about AI techniques. Instead, you may remain focused on what really matters
    to you as a software architect: the solution to your business problem.'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: PaaS的优势可以从这个场景中明显看出。开发内部人工智能解决方案的成本将需要巨大的投资和难以找到的技能。相反，使用Azure认知服务的PaaS，你无需担心人工智能技术。相反，你可以专注于作为软件架构师真正关心的事情：解决你的业务问题。
- en: 'Setting up Azure Cognitive Services in your Azure account is also quite simple.
    First, you will need to add Cognitive Services like any other Azure component.
    You can choose a specific cognitive service or a multi-service account that will
    enable you to access all cognitive services. In the screenshot below, we have
    chosen a multi-service account:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的Azure账户中设置Azure认知服务也非常简单。首先，你需要像添加任何其他Azure组件一样添加认知服务。你可以选择一个特定的认知服务或一个多服务账户，这将使你能够访问所有认知服务。在下面的屏幕截图中，我们选择了一个多服务账户：
- en: '![](img/B19820_10_06.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B19820_10_06.png)'
- en: 'Figure 10.6: Creating a Cognitive Services API account in Azure'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.6：在Azure中创建认知服务API账户
- en: 'As soon as you have done this, you will be able to use the APIs provided by
    the server. You will find two important features in the service that you have
    created: endpoints and access keys. They are going to be used in your code to
    access APIs.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完成这些，你将能够使用服务器提供的API。你将在你创建的服务中找到两个重要功能：端点和访问密钥。它们将在你的代码中用于访问API。
- en: 'The following code sample shows how you can use the Cognitive Services API
    to translate sentences. The main concept underlying this translation service is
    that you can post the sentence you want to translate according to the key and
    region where the service was set. The following code enables you to post a request
    to the service API:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码示例展示了如何使用认知服务API翻译句子。这个翻译服务背后的主要概念是，你可以根据服务设置的关键和区域发送你想要翻译的句子。以下代码使你能够向服务API发送请求：
- en: '[PRE0]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'It is worth mentioning that the preceding code will allow you to post requests
    to translate any text into any language, provided you define it in the parameters.
    The following is the main program that calls the previous method:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，前面的代码将允许你向任何语言翻译任何文本的请求，只要你将其定义在参数中。以下是一个调用先前方法的程序：
- en: '[PRE1]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: For further information, visit [https://docs.microsoft.com/en-us/azure/cognitive-services/translator/reference/v3-0-languages](https://docs.microsoft.com/en-us/azure/cognitive-services/translator/reference/v3-0-languages).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息，请访问[https://docs.microsoft.com/en-us/azure/cognitive-services/translator/reference/v3-0-languages](https://docs.microsoft.com/en-us/azure/cognitive-services/translator/reference/v3-0-languages)。
- en: This is a perfect example of how easily and quickly you can use services such
    as this to architect your projects. This ease of use not only accelerates project
    development but also opens up new possibilities for innovation and enhanced user
    experiences.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个完美的例子，说明了你可以多么容易和快速地使用此类服务来构建你的项目。这种易用性不仅加速了项目开发，还开辟了新的创新和增强用户体验的可能性。
- en: SaaS — just sign in and get started!
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SaaS——只需登录即可开始！
- en: SaaS is probably the easiest way to use cloud-based services. The application
    you need is already available on the cloud, and you need just to configure and
    use it! Cloud players provide many good options that solve common problems for
    their end users in a company. From email services to comprehensive business management
    tools, SaaS offers a wide array of applications that you can tailor to your various
    business needs.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: SaaS可能是使用基于云的服务最简单的方式。您需要的应用程序已经在云上可用，您只需进行配置和使用！云服务提供商提供了许多针对其终端用户解决常见问题的优秀选项。从电子邮件服务到全面的企业管理工具，SaaS提供了一系列的应用程序，您可以根据各种业务需求进行定制。
- en: A good example of this type of service is Office 365\. The key point with these
    platforms is that you do not need to worry about application maintenance. This
    is particularly convenient in scenarios where your team is totally focused on
    developing the core business of the application. For example, if your solution
    needs to deliver good reports, maybe you can design them using Power BI (which
    is included in Office 365). Thus, integrating Office 365 into your solution allows
    for seamless data analysis and reporting, immediately enhancing the overall efficiency
    and productivity of your business operations.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: Office 365是这类服务的良好例子。这些平台的关键点是您无需担心应用程序的维护。这在您的团队完全专注于开发应用程序的核心业务的情况下尤其方便。例如，如果您的解决方案需要提供良好的报告，也许您可以使用Power
    BI（包含在Office 365中）来设计它们。因此，将Office 365集成到您的解决方案中，可以无缝地进行数据分析和管理报告，立即提高您业务运营的整体效率和生产力。
- en: A SaaS solution can be customized in various ways. The most powerful technique
    is the addition of custom plugins. For instance, you can customize your Office
    365 tenant by adding various kinds of plugins that are available in public repositories
    and/or by developing your own custom plugins.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: SaaS解决方案可以通过多种方式进行定制。最强大的技术是添加自定义插件。例如，您可以通过添加公共存储库中可用的各种插件或开发您自己的自定义插件来定制您的Office
    365租户。
- en: It is also worth pointing out that if you decide to invest in custom plugins,
    you already have, say, 90% of the application running and stable, so both the
    initial investment and the time to market are incredibly reduced.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 还值得一提的是，如果您决定投资于自定义插件，您已经拥有了，比如说，90%的应用程序运行稳定，因此，初始投资和市场时间都大大减少。
- en: In summary, on the one hand, SaaS offers immediately sophisticated and proven
    solutions, but on the other hand, SaaS offers very limited customization options.
    So, how do you decide whether to use a SaaS solution?
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，一方面，SaaS提供即时的复杂和经过验证的解决方案，但另一方面，SaaS提供的定制选项非常有限。那么，您如何决定是否使用SaaS解决方案？
- en: '**Evaluate existing solutions**: First of all, you need to verify if a SaaS
    that matches your needs already exists.'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**评估现有解决方案**：首先，您需要验证是否已经存在符合您需求的SaaS。'
- en: '**Consider customization and integration**: Then, you need to verify if the
    selected options can be adapted to your needs and the investment required to adapt
    them.'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**考虑定制和集成**：然后，您需要验证所选选项是否可以适应您的需求，以及适应它们所需的投入。'
- en: '**Analyze cost implications**: At this point, you must analyze the impact of
    the inevitable compromises you will be forced to accept, as well as the overall
    cost implied by each candidate SaaS adoption, which includes the overall cost
    of the impact it has on your organization.'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**分析成本影响**：在此阶段，您必须分析您将被迫接受的不可避免妥协的影响，以及每个候选SaaS采用的整体成本，这包括它对您组织整体成本的影响。'
- en: '**Review security and compliance**: You also need to verify that the users/security
    model used by the SaaS is compatible with your needs and that, in general, the
    application fulfills all constraints required by your organization.'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**审查安全和合规性**：您还需要验证SaaS使用的用户/安全模型是否与您的需求兼容，以及通常情况下，该应用程序是否满足您组织所需的所有约束。'
- en: '**Assess vendor reliability and support**: The impact of having a strong dependency
    on the SaaS supplier is a key factor in your final decision. Keep in mind that
    once you incorporate a SaaS solution into your business, it might be very difficult
    to move to a different solution – that is, the contractual power of your supplier
    might rise over time to unacceptable levels. For the same reason, an unreliable
    supplier (for instance, a young start-up) or a supplier that can’t offer adequate
    product support might cause unacceptable damage.'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**评估供应商的可靠性和支持**：对SaaS供应商的强烈依赖对你的最终决策是一个关键因素。记住，一旦将SaaS解决方案纳入你的业务，可能很难转移到不同的解决方案——也就是说，供应商的合同权力可能会随着时间的推移而上升到不可接受的水平。出于同样的原因，不可靠的供应商（例如，一家年轻初创公司）或无法提供充分产品支持的供应商可能会造成不可接受的损害。'
- en: '**Plan for scalability and future growth**: You must also consider the future
    of your organization. Thus, you must also verify if the candidate options are
    scalable and can be adapted to your growing needs and traffic.'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**规划可扩展性和未来增长**：你还必须考虑你组织的未来。因此，你也必须验证候选选项是否可扩展，并且能否适应你不断增长的需求和流量。'
- en: '**Test the solution**: Finally, you need to test the chosen solution in practice
    in a staging environment, verifying that your overall analysis and predictions
    are correct.'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**测试解决方案**：最后，你需要在一个预演环境中实际测试所选的解决方案，以验证你的整体分析和预测是否正确。'
- en: Another pretty good example of a SaaS platform is Azure DevOps. As a software
    architect, before Azure DevOps, you needed to install and configure **Team Foundation
    Server** (**TFS**) (or even older tools like Microsoft Visual SourceSafe) for
    your team to work with a common repository and an application life cycle management
    tool.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个很好的SaaS平台例子是Azure DevOps。作为一名软件架构师，在Azure DevOps之前，你需要为你的团队安装和配置**团队基础服务器**（**TFS**）（或者甚至更老的工具，如Microsoft
    Visual SourceSafe），以便他们可以使用一个共同的存储库和应用生命周期管理工具。
- en: We used to spend a lot of time just working either on preparing the server for
    TFS installation or upgrading and continuously maintaining the TFS already installed.
    This is no longer needed due to the simplicity of SaaS Azure DevOps.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 我们过去花费大量时间要么在准备服务器以安装TFS，要么在升级和持续维护已安装的TFS。由于SaaS Azure DevOps的简单性，这不再需要。
- en: Understanding what serverless means
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解无服务器意味着什么
- en: A serverless solution is a solution where the focus is not on where the code
    runs. Even in a “serverless” solution, there is always a server. The thing is
    that you just do not know or care which server your code executes on. The main
    advantage of serverless is that you have zero fixed monthly costs, and you are
    billed just for your traffic.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 无服务器解决方案是一种解决方案，其重点不在于代码运行的位置。即使在“无服务器”解决方案中，也始终存在服务器。问题是，你不知道或不在乎你的代码在哪个服务器上执行。无服务器的主要优势是，你没有任何固定月度成本，并且只需为你的流量付费。
- en: However, there are also other advantages. For instance, in a serverless solution,
    you have a very fast, simple, and agile application life cycle since almost all
    serverless code is stateless and loosely coupled with the remainder of the system.
    Some authors refer to this as **Function as a Service** (**FaaS**).
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，还有其他优势。例如，在无服务器解决方案中，你拥有非常快速、简单和敏捷的应用生命周期，因为几乎所有无服务器代码都是无状态的，并且与系统其他部分松散耦合。一些作者将此称为**函数即服务**（**FaaS**）。
- en: Of course, the server runs somewhere. The key point here is that you do not
    need to worry about this or even scalability. This will enable you to focus completely
    on your app’s business logic. Again, the world needs fast development and good
    customer experiences at the same time. The more you focus on customer needs, the
    better!
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，服务器在某处运行。这里的关键点是，你不需要为此或甚至可扩展性而担心。这将使你能够完全专注于你的应用程序的业务逻辑。再次强调，世界需要快速开发和良好的客户体验。你越关注客户需求，就越好！
- en: FaaS offers the shortest time-to-market and the lowest cost threshold, together
    with large scalability possibilities. So, they are convenient in situations where
    it is extremely difficult to forecast the application workload or when the application
    workload has a high and difficult-to-forecast variance.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: FaaS提供了最短的市场进入时间和最低的成本阈值，以及巨大的可扩展性可能性。因此，在难以预测应用程序工作量或当应用程序工作量有高且难以预测的波动时，它们非常方便。
- en: Suppose, for instance, you are looking for a solution for mass email sending
    to connect to your application. If your applications also handle marketing campaigns,
    there would be traffic peaks that might also be 100 times your average traffic.
    A FaaS solution might be able to easily cover these huge peaks without impacting
    the average costs you have outside of them.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 假设，例如，你正在寻找一个解决方案来连接你的应用进行大量电子邮件发送。如果你的应用还处理营销活动，可能会有流量峰值，这些峰值可能是平均流量的100倍。FaaS解决方案可能能够轻松覆盖这些巨大的峰值，而不会影响它们之外的正常成本。
- en: Conversely, in a similar situation, PaaS or IaaS would force you to move to
    a higher price tier if you don’t need it during your average periods, just during
    your marketing campaign peaks.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，在类似情况下，如果你在平均期间不需要，只是在营销活动高峰期间需要，PaaS或IaaS会迫使你升级到更高的价格层。
- en: If the workload becomes more stable, and it is easier to draw reliable lower
    and higher bounds, FaaS becomes less convenient due to its higher cost on higher
    workloads. As an example, Amazon Prime recently publicized its savings by switching
    from FaaS to IaaS.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 如果工作负载变得更加稳定，并且更容易确定可靠的下限和上限，由于在更高工作负载上的成本更高，FaaS 就变得不那么方便了。例如，亚马逊Prime最近公布了其通过从FaaS切换到IaaS而节省的费用。
- en: Unluckily, moving from FaaS to PaaS or IaaS is not easy since FaaS code is strictly
    tied to the chosen FaaS solution.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，从FaaS迁移到PaaS或IaaS并不容易，因为FaaS代码严格绑定到所选的FaaS解决方案。
- en: This issue can be partially mitigated by avoiding overly fragmented FaaS code
    made of small functions and, instead, using a few functions that trigger the execution
    of bigger conventional software modules enclosed inside the FaaS solution. This
    way, moving to a different FaaS, or to IaaS/PaaS, would require just rewriting
    a few FaaS mains while keeping the bigger software modules they call unchanged.
    Unfortunately, the performance penalty of waking up an inactive function is incompatible
    with the usage of complex frameworks inside each function, so fragmentation is
    unavoidable.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 通过避免过度碎片化的FaaS代码（由小型函数组成），而是使用少量触发执行更大传统软件模块的函数，可以部分缓解这个问题。这些软件模块被封装在FaaS解决方案中。这样，迁移到不同的FaaS，或到IaaS/PaaS，只需要重写几个FaaS主函数，而保持它们调用的更大软件模块不变。不幸的是，唤醒不活跃函数的性能惩罚与每个函数内使用复杂框架的使用不相容，因此碎片化是不可避免的。
- en: In my experience, FaaS proves to be useful either in the early stages of a presumably
    high-traffic but low-complexity application or for low-complexity applications
    like our previous email-sending application, which are specifically designed to
    handle high and difficult-to-forecast peaks. In fact, in these applications, near-complete
    code rewrites are acceptable since the investment for the code development is
    low compared with the savings implied by an almost immediate time-to-market and
    by efficacious handling of big and hard-to-forecast traffic peeks.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我的经验，FaaS在以下情况下证明是有用的：在预计高流量但低复杂性的应用早期阶段，或者对于像我们之前的邮件发送应用这样的低复杂度应用，这些应用专门设计来处理高且难以预测的峰值。事实上，在这些应用中，几乎完全重写代码是可以接受的，因为与几乎立即上市和有效处理大且难以预测的流量峰值相比，代码开发的投入较低。
- en: In *Chapter 16*, *Working with Serverless – Azure Functions*, you will explore
    one of the best serverless implementations that Microsoft provides in Azure –
    Azure Functions. There, we will focus on how you can develop serverless solutions
    and learn about their advantages and disadvantages.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在第16章*与无服务器一起工作 - Azure Functions*中，你将探索微软在Azure中提供的最好的无服务器实现之一——Azure Functions。在那里，我们将关注你如何开发无服务器解决方案，并了解它们的优缺点。
- en: The following subsections compare IaaS, PaaS, SaaS, and FaaS along several axes.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的子节将沿几个轴比较IaaS、PaaS、SaaS和FaaS。
- en: Comparing IaaS, PaaS, SaaS, and FaaS
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 比较IaaS、PaaS、SaaS和FaaS
- en: In the previous sections, we described various types of solutions offered by
    all main cloud providers, with their advantages and disadvantages. The table below
    summarizes the main advantages offered by each of them, assigning a note between
    1 (less good) and 4 (very good) to five axes.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，我们描述了所有主要云提供商提供的各种解决方案，包括它们的优缺点。下表总结了它们各自在五个轴上提供的主要优点，为每个轴分配了1（较差）到4（非常好）的评分。
- en: '|  | **Time-to-Market** | **Customization possibility** | **Maintenance effort**
    | **Scalability** | **Cost** |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '|  | **上市时间** | **定制可能性** | **维护工作量** | **可扩展性** | **成本** |'
- en: '| IaaS | 1 | 4 | 1 | 1 | 4 |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| IaaS | 1 | 4 | 1 | 1 | 4 |'
- en: '| PaaS | 2 | 3 | 2 | 2 | 3 |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| PaaS | 2 | 3 | 2 | 2 | 3 |'
- en: '| SaaS | 4 | 1 | 4 | Depends on application | 1 |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| SaaS | 4 | 1 | 4 | 取决于应用 | 1 |'
- en: '| FaaS | 3 | 2 | 3 | 4 | 2 |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| FaaS | 3 | 2 | 3 | 4 | 2 |'
- en: Why are hybrid applications so useful in many cases?
  id: totrans-125
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么混合应用程序在许多情况下如此有用？
- en: In its general meaning, the word *hybrid* means something whose parts do not
    share a uniform architectural choice; each part makes a different architectural
    choice. However, in the case of cloud solutions, the word *hybrid* refers mainly
    to solutions that mix cloud subsystems with on-premises subsystems. However, it
    can also refer to mixing web subsystems with device-specific subsystems, such
    as mobiles or any other device that runs code.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在其一般意义上，*混合*一词意味着其部分不共享统一架构选择的东西；每个部分都做出不同的架构选择。然而，在云解决方案的情况下，*混合*一词主要指的是混合云子系统与本地子系统的解决方案。然而，它也可以指混合Web子系统与特定设备子系统，如移动设备或其他运行代码的任何设备。
- en: 'Due to the number of services Azure can provide and the number of design architectures
    that can be implemented, hybrid applications are probably the best answer to the
    main question addressed in this chapter: how to use the opportunities offered
    by the cloud in your projects.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Azure可以提供的服务数量以及可以实施的设计架构数量，混合应用程序可能是本章解决的主要问题的最佳答案：如何在你的项目中利用云提供的机会。
- en: Nowadays, many current projects are moving from an on-premises solution to a
    cloud architecture, and depending on where you are going to deliver these projects,
    you will still find many bad preconceptions regarding moving to the cloud. Most
    of them are related to cost, security, and service availability.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，许多当前的项目正从本地解决方案迁移到云架构，而且无论你打算在哪里交付这些项目，你仍然会找到许多关于迁移到云端的错误先入为主的观念。其中大部分与成本、安全和服务的可用性有关。
- en: You need to understand that there is some truth in these preconceptions, but
    not in the way people think. For sure, you, as a software architect, cannot ignore
    them. Especially when you develop a critical system, you must decide whether everything
    can go on the cloud or whether it is better to deliver part of the system on the
    edge. Therefore, understanding these factors is key to navigating the hybrid landscape,
    which ensures that you balance cost, security, and availability according to your
    specific needs.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要理解，这些先入为主的观念中确实有一些是真实的，但并非人们所想的那样。当然，作为软件架构师，你不能忽视它们。特别是在开发关键系统时，你必须决定是否可以将一切放在云端，或者是否最好将系统的一部分部署在边缘。因此，理解这些因素对于导航混合领域至关重要，这确保了你根据具体需求平衡成本、安全和可用性。
- en: It is worth mentioning a real-life example that might clarify the need for hybrid
    solutions. Recently, several customers of a SaaS solution we offer objected to
    the fact that they couldn’t move reserved and business-critical documents to the
    cloud. Our solution was equipping our SaaS with file-handling drivers capable
    of retrieving files from an in-house document server located in the customer’s
    private intranet.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 值得一提的一个现实生活中的例子可能有助于阐明混合解决方案的需求。最近，我们提供的SaaS解决方案的几位客户对我们无法将预留的和业务关键文档迁移到云端表示反对。我们的解决方案是为我们的SaaS配备了文件处理驱动程序，能够从位于客户私有内部网络中的内部文档服务器检索文件。
- en: A completely different kind of hybrid solution is the edge computing paradigm.
    According to this paradigm, parts of the system must be deployed on machines or
    devices close to the location where they are needed. This helps to reduce response
    times and bandwidth.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 完全不同类型的混合解决方案是边缘计算范式。根据这种范式，系统的一部分必须部署在需要它们的位置附近的机器或设备上。这有助于减少响应时间和带宽。
- en: Mobile solutions can be considered another classic example of hybrid applications
    since they mix a web-based architecture with a device-based architecture to offer
    a better user experience. There are lots of scenarios where you can replace a
    mobile application with a responsive website. However, when it comes to interface
    quality and performance, maybe a responsive website will not give the end user
    what they really need.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 移动解决方案可以被认为是混合应用程序的另一个经典例子，因为它们将基于Web的架构与基于设备的架构相结合，以提供更好的用户体验。有许多场景可以替换移动应用程序为响应式网站。然而，当涉及到界面质量和性能时，可能响应式网站无法满足最终用户真正需要的。
- en: Summary
  id: totrans-133
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned how to take advantage of the services offered by
    the cloud in your solutions, as well as the various options you can choose from.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了如何利用云服务在你的解决方案中发挥优势，以及你可以选择的多种选项。
- en: This chapter covered different ways to deliver the same application in a cloud-based
    structure. We also noted how rapidly Microsoft is delivering all these options
    to its customers, as you can experience all of these options in actual applications
    and choose the one that best fits your needs, since there is no *silver bullet*
    that works in all situations. As a software architect, you need to analyze your
    environment and your team, and then decide on the best cloud architecture to implement
    in your solution.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了在基于云的结构中交付相同应用程序的不同方法。我们还注意到，微软正在迅速将这些选项提供给客户，因为您可以在实际应用程序中体验所有这些选项，并选择最适合您需求的一个，因为没有一种在所有情况下都适用的*万能药*。作为一名软件架构师，您需要分析您的环境和团队，然后决定在您的解决方案中实施的最佳云架构。
- en: The next chapter is dedicated to building a flexible architecture comprising
    small, scalable software modules called microservices.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 下一章将专门介绍构建一个由小型、可扩展的软件模块（称为微服务）组成的灵活架构。
- en: Questions
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: Why should you use IaaS in your solution?
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么你应该在你的解决方案中使用IaaS？
- en: Why should you use PaaS in your solution?
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么你应该在你的解决方案中使用PaaS？
- en: Why should you use SaaS in your solution?
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么你应该在你的解决方案中使用SaaS？
- en: Why should you use serverless in your solution?
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么你应该在你的解决方案中使用无服务器架构？
- en: What is the advantage of using an Azure SQL Server database?
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用Azure SQL Server数据库的优势是什么？
- en: How can you accelerate AI in your application with Azure?
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如何使用Azure加速您应用程序中的AI？
- en: How can hybrid architectures help you to design a better solution?
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 混合架构如何帮助您设计更好的解决方案？
- en: Further reading
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'You can check out these web links to study the topics covered in this chapter
    in greater depth:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过以下网络链接深入了解本章涵盖的主题：
- en: '[https://visualstudio.microsoft.com/xamarin/](https://visualstudio.microsoft.com/xamarin/)'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://visualstudio.microsoft.com/xamarin/](https://visualstudio.microsoft.com/xamarin/)'
- en: '[https://www.packtpub.com/application-development/xamarin-cross-platform-application-development](https://www.packtpub.com/application-development/xamarin-cross-platform-application-development)'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.packtpub.com/application-development/xamarin-cross-platform-application-development](https://www.packtpub.com/application-development/xamarin-cross-platform-application-development)'
- en: '[https://www.packtpub.com/virtualization-and-cloud/learning-azure-functions](https://www.packtpub.com/virtualization-and-cloud/learning-azure-functions)'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.packtpub.com/virtualization-and-cloud/learning-azure-functions](https://www.packtpub.com/virtualization-and-cloud/learning-azure-functions)'
- en: '[https://azure.microsoft.com/overview/what-is-iaas/](https://azure.microsoft.com/overview/what-is-iaas/)'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/overview/what-is-iaas/](https://azure.microsoft.com/overview/what-is-iaas/)'
- en: '[https://docs.microsoft.com/en-us/azure/security/azure-security-iaas](https://docs.microsoft.com/en-us/azure/security/azure-security-iaas)'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://docs.microsoft.com/en-us/azure/security/azure-security-iaas](https://docs.microsoft.com/en-us/azure/security/azure-security-iaas)'
- en: '[https://azure.microsoft.com/services/app-service/web/](https://azure.microsoft.com/services/app-service/web/)'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/services/app-service/web/](https://azure.microsoft.com/services/app-service/web/)'
- en: '[https://azure.microsoft.com/services/sql-database/](https://azure.microsoft.com/services/sql-database/)'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/services/sql-database/](https://azure.microsoft.com/services/sql-database/)'
- en: '[https://azure.microsoft.com/en-us/services/virtual-machines/data-science-virtual-machines/](https://azure.microsoft.com/en-us/services/virtual-machines/data-science-virtual-machines/)'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/en-us/services/virtual-machines/data-science-virtual-machines/](https://azure.microsoft.com/en-us/services/virtual-machines/data-science-virtual-machines/)'
- en: '[https://docs.microsoft.com/azure/sql-database/sql-database-automatic-tuning](https://docs.microsoft.com/azure/sql-database/sql-database-automatic-tuning)'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://docs.microsoft.com/azure/sql-database/sql-database-automatic-tuning](https://docs.microsoft.com/azure/sql-database/sql-database-automatic-tuning)'
- en: '[https://azure.microsoft.com/en-us/services/cognitive-services/](https://azure.microsoft.com/en-us/services/cognitive-services/)'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/en-us/services/cognitive-services/](https://azure.microsoft.com/en-us/services/cognitive-services/)'
- en: '[https://docs.microsoft.com/en-us/azure/architecture/](https://docs.microsoft.com/en-us/azure/architecture/)'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://docs.microsoft.com/en-us/azure/architecture/](https://docs.microsoft.com/en-us/azure/architecture/)'
- en: '[https://powerbi.microsoft.com/](https://powerbi.microsoft.com/)'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://powerbi.microsoft.com/](https://powerbi.microsoft.com/)'
- en: '[https://office.com](https://office.com)'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://office.com](https://office.com)'
- en: '[https://azure.microsoft.com/en-us/overview/what-is-serverless-computing/](https://azure.microsoft.com/en-us/overview/what-is-serverless-computing/)'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/en-us/overview/what-is-serverless-computing/](https://azure.microsoft.com/en-us/overview/what-is-serverless-computing/)'
- en: '[https://azure.microsoft.com/en-us/pricing/details/sql-database/](https://azure.microsoft.com/en-us/pricing/details/sql-database/)'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/en-us/pricing/details/sql-database/](https://azure.microsoft.com/en-us/pricing/details/sql-database/)'
- en: '[https://www.packtpub.com/virtualization-and-cloud/professional-azure-sql-database-administration](https://www.packtpub.com/virtualization-and-cloud/professional-azure-sql-database-administration
    )'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.packtpub.com/virtualization-and-cloud/professional-azure-sql-database-administration](https://www.packtpub.com/virtualization-and-cloud/professional-azure-sql-database-administration)'
- en: Learn more on Discord
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Discord 上了解更多
- en: 'To join the Discord community for this book – where you can share feedback,
    ask questions to the authors, and learn about new releases – follow the QR code
    below:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 要加入这本书的 Discord 社区——在那里您可以分享反馈、向作者提问，并了解新版本——请扫描下面的二维码：
- en: '[https://packt.link/SoftwareArchitectureCSharp12Dotnet8](https://packt.link/SoftwareArchitectureCSharp12Dotnet8)'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/SoftwareArchitectureCSharp12Dotnet8](https://packt.link/SoftwareArchitectureCSharp12Dotnet8)'
- en: '![](img/QR_Code175081751210902046.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![二维码](img/QR_Code175081751210902046.png)'
