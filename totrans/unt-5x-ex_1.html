<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;The Coin Collection Game &#x2013; Part 1"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. The Coin Collection Game – Part 1</h1></div></div></div><p>This chapter starts the first project on our list, which will be a fun collection game. Remember, it doesn't matter if you've never used Unity before. We'll go through everything necessary step by step. By the end of the next chapter, you'll have pieced together a simple, but complete and functional, game. This is an important thing to achieve because you'll get familiar with a start-to-end game development workflow. This chapter will demonstrate the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Game design</li><li class="listitem" style="list-style-type: disc">Projects and folders</li><li class="listitem" style="list-style-type: disc">Asset importing and configuration</li><li class="listitem" style="list-style-type: disc">Level design</li><li class="listitem" style="list-style-type: disc">Game objects</li><li class="listitem" style="list-style-type: disc">Hierarchies</li></ul></div><div class="section" title="Game design"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Game design</h1></div></div></div><p>Let's make a <a id="id0" class="indexterm"/>coin collection game. Here, the player should control a <a id="id1" class="indexterm"/>character in the first-person mode, and he must wander the level, collecting all coins before a time limit runs out. If the timer runs out, the game is lost. On the other hand, if all coins are collected before the timer expires, the game is won. The first-person controls will use the default WASD keyboard setup, where <span class="emphasis"><em>W</em></span> moves forward, <span class="emphasis"><em>A</em></span> and <span class="emphasis"><em>S</em></span> move left and right, and <span class="emphasis"><em>D</em></span> walks backward. Head movement is controlled using the mouse, and coins are collected by simply walking into them. See <span class="emphasis"><em>Figure 1.1</em></span>, featuring the coin collection game in action in the Unity Editor. The great benefit in making this <a id="id2" class="indexterm"/>game is that it demonstrates all the core Unity features together, and we don't need to rely on any external software to make assets, such as textures, meshes, and materials.</p><div class="mediaobject"><img src="graphics/B05118_01_01.jpg" alt="Game design"/><div class="caption"><p>Figure 1.1: Preparing for a coin collection game (the completed game)</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>The completed <a id="id3" class="indexterm"/>
<code class="literal">CollectionGame</code> project, as discussed in this chapter and the next, can be found in the book companion files in the <code class="literal">Chapter01/CollectionGame</code> folder.</p></div></div></div></div>
<div class="section" title="Getting started &#x2013; Unity and projects"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Getting started – Unity and projects</h1></div></div></div><p>Every time you want to <a id="id4" class="indexterm"/>make a new Unity game, including coin collection games, you'll need to create <span class="strong"><strong>New Project</strong></span>. Generally speaking, Unity uses the term <span class="strong"><strong>Project</strong></span> <a id="id5" class="indexterm"/>to mean a <span class="strong"><strong>Game</strong></span>. There are two main ways to make a new project, and it really doesn't matter which one you choose because both end up in the same place. If you're already in the Unity interface, looking at an existing scene or level, you can select <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Project</strong></span> from the application menu. See <span class="emphasis"><em>Figure 1.2</em></span>. It may ask if you want to save changes to the currently opened project and you should choose either <span class="strong"><strong>Yes</strong></span> or <span class="strong"><strong>No</strong></span>, depending on what you need. After selecting the <span class="strong"><strong>New Project</strong></span> option, Unity leads you to the project creation wizard:</p><div class="mediaobject"><img src="graphics/B05118_01_02.jpg" alt="Getting started – Unity and projects"/><div class="caption"><p>Figure 1.2: Creating a new project via the main menu</p></div></div><p>Alternatively, if you've just started Unity for the first time, you'll probably begin at the welcome dialog. See <span class="emphasis"><em>Figure 1.3</em></span>. From here, you can access the new project creation wizard by choosing the <a id="id6" class="indexterm"/>
<span class="strong"><strong>NEW PROJECT</strong></span> button:</p><div class="mediaobject"><img src="graphics/B05118_01_03.jpg" alt="Getting started – Unity and projects"/><div class="caption"><p>Figure 1.3: The Unity welcome screen</p></div></div><p>On reaching the <a id="id7" class="indexterm"/>
<span class="strong"><strong>NEW PROJECT</strong></span> creation wizard, Unity can generate a new project for you on the basis of some basic settings. Simply fill in the name of your project (such as <code class="literal">CollectionGame</code>), and select a folder on your computer to contain the project files that will be generated automatically. Finally, click on the <span class="strong"><strong>3D</strong></span> button to indicate that we're going to create a 3D game, as opposed to <span class="strong"><strong>2D</strong></span>, and then click on the <span class="strong"><strong>Create project</strong></span> button to complete the project generation process. See <span class="emphasis"><em>Figure 1.4</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_04.jpg" alt="Getting started – Unity and projects"/><div class="caption"><p>Figure 1.4: Creating a new project</p></div></div></div>
<div class="section" title="Projects and project folders"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Projects and project folders</h1></div></div></div><p>Unity has now <a id="id8" class="indexterm"/>created a blank, new, and empty project. This represents the starting point for any game development project and is the place where development begins. The newly created project contains nothing initially: no meshes, textures, or any other <span class="strong"><strong>Assets</strong></span>. You can confirm this by simply checking the <span class="strong"><strong>Project</strong></span> panel area at the bottom of the editor interface. This panel displays the complete contents of the project folder, which corresponds to an actual folder on your local drive created earlier by the project wizard. This folder should be empty. See <span class="emphasis"><em>Figure 1.5</em></span>. This panel will later be populated with more items, all of which we can use to build a game.</p><div class="mediaobject"><img src="graphics/B05118_01_05.jpg" alt="Projects and project folders"/><div class="caption"><p>Figure 1.5: The Unity project panel docked at the bottom of the interface</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>If your interface looks radically different from <span class="emphasis"><em>Figure 1.5</em></span>, in terms of its layout and arrangement, then you can reset the UI layout to its defaults. To do this, click on the <a id="id9" class="indexterm"/>
<span class="strong"><strong>Layout</strong></span> drop-down menu from the top-right corner of the editor interface, and choose <span class="strong"><strong>Default</strong></span>. See <span class="emphasis"><em>Figure 1.6</em></span>.</p></div></div><div class="mediaobject"><img src="graphics/B05118_01_06.jpg" alt="Projects and project folders"/><div class="caption"><p>Figure 1.6: Switching to the default interface layout</p></div></div><p>You can view the contents of your project folder directly via either Windows Explorer or Mac Finder, by right-clicking the mouse in the <span class="strong"><strong>Project</strong></span> panel from the <span class="strong"><strong>Unity Editor</strong></span> to reveal a context menu, and <a id="id10" class="indexterm"/>from there, choose the <span class="strong"><strong>Show in Explorer</strong></span> (Windows) or <span class="strong"><strong>Reveal in Finder</strong></span> (Mac) option. See <span class="emphasis"><em>Figure 1.7</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_07.jpg" alt="Projects and project folders"/><div class="caption"><p>Figure 1.7: Displaying the project folder via the Project panel</p></div></div><p>Clicking on <span class="strong"><strong>Show in Explorer</strong></span> displays the folder contents in the default system file browser. See <span class="emphasis"><em>Figure 1.8</em></span>. This view is useful to inspect files, count them, or back them up. However, don't change the folder contents manually this way via Explorer or Finder. Specifically, don't move, rename, or delete files from here, because doing so can corrupt your Unity project irretrievably. Instead, delete and move files where needed within the <span class="strong"><strong>Project</strong></span> panel in the <span class="strong"><strong>Unity Editor</strong></span>. This way, Unity updates its metadata as appropriate, ensuring that your project continues to work properly.</p><div class="mediaobject"><img src="graphics/B05118_01_08.jpg" alt="Projects and project folders"/><div class="caption"><p>Figure 1.8: Viewing the Project panel from the OS file browser</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>Viewing <a id="id11" class="indexterm"/>the project folder in the OS file browser will display additional files and folders not visible in the <span class="strong"><strong>Project</strong></span> panel, such as <code class="literal">Library</code> and <code class="literal">ProjectSettings</code>, and maybe a <code class="literal">Temp</code> folder. Together, these are known as the project metadata. This is not directly a part of your project per se, but contains additional settings and preferences that Unity needs to work properly. These folders and their files should not be edited or changed.</p></div></div></div>
<div class="section" title="Importing assets"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Importing assets</h1></div></div></div><p>Assets are the <a id="id12" class="indexterm"/>raw materials for games—the building blocks from which they're made. <code class="literal">Assets</code> include meshes (or 3D models), such as characters, props, trees, houses, and more: textures, which are image files such as JPEGs and PNGs (these determine how the surface of a mesh should look); music and sound effects to enhance the realism and atmosphere of your game, and finally, scenes, which are 3D spaces or worlds where meshes, textures, sounds, and music live, exist, and work together holistically as part of a single system. Thus, games cannot exist without assets—they would otherwise look completely empty and lifeless. For this reason, we'll need assets to make the coin collection game we're working toward. After all, we'll need an environment to walk around and coins to collect!</p><p>Unity, however, is a <a id="id13" class="indexterm"/>
<span class="emphasis"><em>game engine </em></span>and not an <span class="emphasis"><em>asset creation</em></span> program. This means that assets, such as characters and props, are typically made first by artists in external, third-party software. From here, they are exported and transferred ready-made to Unity, and Unity is responsible only for bringing these assets to life in a coherent game that can be played. Third-party asset creation <a id="id14" class="indexterm"/>programs include <span class="strong"><strong>Blender</strong></span> (which is free of charge), <span class="strong"><strong>Maya</strong></span> <a id="id15" class="indexterm"/>or <a id="id16" class="indexterm"/>
<span class="strong"><strong>3DS</strong></span> <span class="strong"><strong>Max</strong></span> to make 3D models, <span class="strong"><strong>Photoshop</strong></span> or <a id="id17" class="indexterm"/>
<span class="strong"><strong>GIMP</strong></span> (which is <a id="id18" class="indexterm"/>free of charge) to create textures, and <a id="id19" class="indexterm"/>
<span class="strong"><strong>Audacity</strong></span> (which is free of cost) to generate audio. There are plenty of other options too. The details of these programs are beyond the scope of this book. In any case, Unity assumes that you already have assets ready to import to build a game. For the coin collection game, we'll use assets that ship with Unity. So let's import these to our project. To do this, select <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> from the application menu. Then select <a id="id20" class="indexterm"/>
<span class="strong"><strong>Characters</strong></span>, <span class="strong"><strong>ParticleSystems</strong></span>, <span class="strong"><strong>Environment</strong></span>, and <span class="strong"><strong>Prototyping</strong></span>. See <span class="emphasis"><em>Figure 1.9</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_09.jpg" alt="Importing assets"/><div class="caption"><p>Figure 1.9: Importing assets via the Import Package menu</p></div></div><p>Each time you import a <a id="id21" class="indexterm"/>package from the menu, you'll be presented with an <span class="strong"><strong>Import</strong></span> dialog. Simply leave all settings at their defaults, and click on <span class="strong"><strong>Import</strong></span>. See <span class="emphasis"><em>Figure 1.10</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_10.jpg" alt="Importing assets"/><div class="caption"><p>Figure 1.10: Choosing Assets to import</p></div></div><p>By default, Unity decompresses all files from the package (a library of assets) into the current project. After importing, lots of different assets and data will have been added to the <span class="strong"><strong>Project</strong></span>, ready for use. These files are copies of the originals. So any changes made to the imported <a id="id22" class="indexterm"/>files will not affect or invalidate the originals, which <a id="id23" class="indexterm"/>Unity maintains internally. The files include models, sounds, textures, and more. These are listed in the <span class="strong"><strong>Unity Editor</strong></span> from the <span class="strong"><strong>Project</strong></span> panel. See the following screenshot:</p><div class="mediaobject"><img src="graphics/B05118_01_11.jpg" alt="Importing assets"/><div class="caption"><p>Figure 1.11: Browsing imported assets from the Project panel</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>When selecting <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import</strong></span> from the application menu, if you don't see all, or any, asset packages listed, you can download and install them separately from the Unity website at <a id="id24" class="indexterm"/>
<a class="ulink" href="https://unity3d.com/">https://unity3d.com/</a>. From the downloads page, choose the <span class="strong"><strong>Additional Downloads</strong></span> option, and then select the <span class="strong"><strong>Standard Assets</strong></span> package. See <span class="emphasis"><em>Figure 1.12</em></span>.</p></div></div><div class="mediaobject"><img src="graphics/B05118_01_12.jpg" alt="Importing assets"/><div class="caption"><p>Figure 1.12: Downloading the Standard Assets package</p></div></div><p>The imported <a id="id25" class="indexterm"/>assets don't exist yet in our game. They don't appear on screen, and they won't do anything yet! Rather, they're simply added to the <a id="id26" class="indexterm"/>
<span class="strong"><strong>Project</strong></span> panel, which behaves as a library or repository of assets, from which we can pick and choose to build up a game. The assets imported thus far are built-in into Unity and we'll be continually using them in subsequent sections to make a functional coin collection game. To get more information about each asset, you can select the asset by clicking on it with the mouse, and asset-specific details will be shown on the right-hand side of the <span class="strong"><strong>Unity Editor</strong></span> in the <span class="strong"><strong>Inspector</strong></span>. The <span class="strong"><strong>Inspector</strong></span> is a property sheet editor that appears on the right-hand side of the interface. It is context-sensitive and always changes to display properties for the selected object. See <span class="emphasis"><em>Figure 1.13</em></span>.</p><div class="mediaobject"><img src="graphics/B05118_01_13.jpg" alt="Importing assets"/><div class="caption"><p>Figure 1.13: The Inspector displays all the properties for the currently selected object</p></div></div></div>
<div class="section" title="Starting a level"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Starting a level</h1></div></div></div><p>We've now <a id="id27" class="indexterm"/>created a Unity project and imported a large library of assets via the <a id="id28" class="indexterm"/>
<span class="strong"><strong>Unity Standard Asset</strong></span> package, including architectural meshes for walls, floors, ceilings, and stairs. This means that <a id="id29" class="indexterm"/>we're now ready to build our first level using these assets! Remember, in Unity, a scene means a level. The word scene and level can be used interchangeably here. They refer simply to a 3D space, that is, the space-time of the game world—the place where things exist. Since all games happen in space and time, we'll need a scene for the coin collection game. To create a new scene, select <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Scene</strong></span> from the application menu, or press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>N</em></span> on the keyboard. When you do this, a new and empty scene is created. You can see a visualization or preview of the scene via the <span class="strong"><strong>Scene</strong></span> tab, which occupies the largest part of the Unity interface. See <span class="emphasis"><em>Figure 1.14</em></span>.</p><div class="mediaobject"><img src="graphics/B05118_01_14.jpg" alt="Starting a level"/><div class="caption"><p>Figure 1.14: The Scene tab displays a preview of a 3D world</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip03"/>Tip</h3><p>As shown in <span class="emphasis"><em>Figure 1.14</em></span>, other tabs besides the scene are visible and available in Unity. These include a <span class="strong"><strong>Game</strong></span> tab and an <span class="strong"><strong>Animator</strong></span> tab; in some cases, there could be more as well. For now, we can ignore all the tabs except <span class="strong"><strong>Scene</strong></span>. The <span class="strong"><strong>Scene</strong></span> tab is designed for quick and easy previewing of a level during its construction.</p></div></div><p>Each new <a id="id30" class="indexterm"/>scene begins empty; well, almost empty. By default, each new scene begins with two objects. Specifically, a <span class="strong"><strong>Light</strong></span> to illuminate any other objects that are added, and a <span class="strong"><strong>Camera</strong></span> to display and render the contents of the scene <a id="id31" class="indexterm"/>from a specific vantage point. You can view a complete list of all the objects existing in the scene using the <span class="strong"><strong>Hierarchy</strong></span> panel, which is docked to the left-hand side of the Unity interface. See <span class="emphasis"><em>Figure 1.15</em></span>. This panel displays the name of every <span class="strong"><strong>GameObject</strong></span> in the scene. In Unity, the word <span class="strong"><strong>GameObject</strong></span> simply refers to a single, independent, and unique thing that lives within the scene, whether visible or not: meshes, lights, cameras, props, and more. Thus, the <span class="strong"><strong>Hierarchy</strong></span> panel tells us about everything in the <span class="strong"><strong>Scene</strong></span>.</p><div class="mediaobject"><img src="graphics/B05118_01_15.jpg" alt="Starting a level"/><div class="caption"><p>Figure 1.15: The Hierarchy panel</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>You can even select objects in the scene by clicking on their name in the <span class="strong"><strong>Hierarchy</strong></span> panel.</p></div></div><p>Next, let's <a id="id32" class="indexterm"/>add a floor to the scene. After all, the player needs something to stand on! We could build a floor mesh from scratch using third-party modeling software such as Maya, 3DS Max, or Blender. However, the Unity Standard Asset package, which was imported earlier, contains floor meshes that we can use. This is very convenient. These meshes are part of the <code class="literal">Prototyping</code> package. To access them via the <span class="strong"><strong>Project</strong></span> panel, open the <code class="literal">Standard Assets</code> folder by double-clicking it, and then access the <code class="literal">Prototyping</code> | <code class="literal">Prefabs</code> folder. From here, you can select objects and preview them from the <span class="strong"><strong>Inspector</strong></span>. See <span class="emphasis"><em>Figure 1.16</em></span>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip05"/>Tip</h3><p>You could also quickly add a floor to the scene by choosing <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Plane</strong></span> from the application menu. However, this just adds a dull, grey floor, which isn't very interesting. Of course, you could change its appearance. As we'll see later, Unity lets you do this. However, for this tutorial, we'll use a specifically modeled floor mesh via the <code class="literal">Standard Assets</code> package from the <span class="strong"><strong>Project</strong></span> panel.</p></div></div><div class="mediaobject"><img src="graphics/B05118_01_16.jpg" alt="Starting a level"/><div class="caption"><p>Figure 1.16: The Standard Assets/Prototyping package contains many meshes for quick scene building</p></div></div><p>The mesh named <code class="literal">FloorPrototype64x01x64</code> (as shown in <span class="emphasis"><em>Figure 1.16</em></span>) is suitable as a floor. To add this mesh to the scene, simply drag and drop the object from the <span class="strong"><strong>Project</strong></span> panel to the <a id="id33" class="indexterm"/>
<span class="strong"><strong>Scene</strong></span> view and then release the mouse. See <span class="emphasis"><em>Figure 1.17</em></span>. When you do this, notice how the <span class="strong"><strong>Scene</strong></span> view changes to display the newly <a id="id34" class="indexterm"/>added mesh within the 3D space, and the mesh name also appears as a listing in the <span class="strong"><strong>Hierarchy</strong></span> panel:</p><div class="mediaobject"><img src="graphics/B05118_01_17.jpg" alt="Starting a level"/><div class="caption"><p>Figure 1.17: Dragging and dropping mesh assets from the Project panel to the Scene view will add them to the scene</p></div></div><p>The floor mesh asset from the <span class="strong"><strong>Project</strong></span> panel has now been instantiated as a <span class="strong"><strong>GameObject</strong></span> in the scene. This <a id="id35" class="indexterm"/>means that a copy or clone of the mesh asset, based on the original in the <span class="strong"><strong>Project</strong></span> panel, has been added to the scene as a separate <span class="strong"><strong>GameObject</strong></span>. The <span class="strong"><strong>Instance</strong></span> (or <span class="strong"><strong>GameObject</strong></span>) of the floor in the scene still depends on the floor asset in the <span class="strong"><strong>Project</strong></span> panel. However, the asset does not depend on the instance. This means that by deleting the floor in the scene, you will not delete the asset. However, if you delete the asset, you will invalidate the <span class="strong"><strong>GameObject</strong></span>. You can also create more floors in <a id="id36" class="indexterm"/>
<span class="strong"><strong>Scene</strong></span> if you want by dragging and dropping the floor asset many times from the <span class="strong"><strong>Project</strong></span> panel to the <span class="strong"><strong>Scene</strong></span> view. Each time, a new instance of the floor is created in the <span class="strong"><strong>Scene</strong></span> as a separate and unique <span class="strong"><strong>GameObject</strong></span>, although all the added instances will still depend on the single floor asset in the <span class="strong"><strong>Project</strong></span> panel. See <span class="emphasis"><em>Figure 1.18</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_18.jpg" alt="Starting a level"/><div class="caption"><p>Figure 1.18: Adding multiple instances of the floor mesh to the scene</p></div></div><p>We don't actually need the duplicate floor pieces, however. So let's delete them. Just click on the duplicates in the <span class="strong"><strong>Scene</strong></span> view and then press <span class="emphasis"><em>Delete</em></span> on the keyboard to remove them. Remember, you can also select and delete objects by clicking on their name in the <span class="strong"><strong>Hierarchy</strong></span> <a id="id37" class="indexterm"/>panel and pressing <span class="emphasis"><em>Delete</em></span>. Either way, this leaves us with a single floor piece and a solid start to building our scene. One remaining problem, though, concerns the floor and its name. By looking carefully in the <span class="strong"><strong>Hierarchy</strong></span> panel, we can <a id="id38" class="indexterm"/>see that the floor name is <code class="literal">FloorPrototype64x01x64</code>. This name is long, obtuse, and unwieldy. We should change it to something more manageable and meaningful. This is not technically essential but is good practice to keep our work clean and organized. There are many ways to rename an object. One way is to first select it and then enter a new name in the name field in the <span class="strong"><strong>Object Inspector</strong></span>. I'll rename it <code class="literal">WorldFloor</code>. See <span class="emphasis"><em>Figure 1.19</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_19.jpg" alt="Starting a level"/><div class="caption"><p>Figure 1.19: Renaming the floor mesh</p></div></div></div>
<div class="section" title="Transformations and navigation"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Transformations and navigation</h1></div></div></div><p>A scene <a id="id39" class="indexterm"/>with a floor mesh has been established, but this alone is uninteresting. We need to add more, such as buildings, stairs, columns, and perhaps more floor pieces. Otherwise, there would be no world for the player to explore. Before building on what we've got, however, let's make sure that the existing floor piece is centered at the world origin. Every point and location within a scene is uniquely identified by a coordinate, measured as an (<span class="emphasis"><em>X</em></span>, <span class="emphasis"><em>Y</em></span>, <span class="emphasis"><em>Z</em></span>) offset from the world center (<span class="strong"><strong>origin</strong></span>). The current position for the selected object is always visible from the <span class="strong"><strong>Object Inspector</strong></span>. In fact, the <span class="strong"><strong>Position</strong></span>, <span class="strong"><strong>Rotation</strong></span>, and <span class="strong"><strong>Scale</strong></span> of an object are grouped together under a category (<span class="strong"><strong>component</strong></span>) called <span class="strong"><strong>Transform</strong></span>. <span class="strong"><strong>Position</strong></span> indicates how far an object should be moved in three axes from the world center. <span class="strong"><strong>Rotation</strong></span> indicates how much an object should be turned or rotated around its central axes. <span class="strong"><strong>Scale</strong></span> indicates how much an object should be shrunk or expanded to smaller or larger sizes. A default <span class="strong"><strong>Scale</strong></span> of one means that an object should appear at normal size, two means twice the size, and 0.5 means half the size, and so on. Together, the <span class="strong"><strong>Position</strong></span>, <span class="strong"><strong>Rotation</strong></span> and <span class="strong"><strong>Scale</strong></span> of an object constitute its transformation. To change the position of the selected object, you can simply type new values in the <span class="strong"><strong>X</strong></span>, <span class="strong"><strong>Y</strong></span>, and <span class="strong"><strong>Z</strong></span> fields for <span class="strong"><strong>Position</strong></span>. To move an object to the world center, simply enter (<code class="literal">0</code>, <code class="literal">0</code>, and <code class="literal">0</code>), as shown in <span class="emphasis"><em>Figure 1.20</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_20.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.20: Centering an object to the world origin</p></div></div><p>Setting the <a id="id40" class="indexterm"/>position of an object, as we've done here, by typing numerical values is acceptable and appropriate for the specifying of exact positions. However, it's often more intuitive to move objects using mouse-based controls. To do this, let's add a second floor piece and position it away from the first instance. Drag and drop a floor piece from the <span class="strong"><strong>Project</strong></span> panel in <span class="strong"><strong>Scene</strong></span> to create a second floor <span class="strong"><strong>GameObject</strong></span>. Then click on the new floor piece to select it and switch to the <span class="strong"><strong>Translate</strong></span> tool. To do this, press <span class="emphasis"><em>W</em></span> on the keyboard or click on the translate tool icon from the toolbar at the top of the editor interface. The translate tool allows you to reposition objects in <span class="strong"><strong>Scene</strong></span>. See <span class="emphasis"><em>Figure 1.21</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_21.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.21: Accessing the translate tool</p></div></div><p>When the translate tool is <a id="id41" class="indexterm"/>active and an object is selected, a <span class="strong"><strong>Gizmo</strong></span> appears centered on the object (three colored axes visible in the <span class="strong"><strong>Scene</strong></span> tab). The translate Gizmo appears as three colored perpendicular axes: red, green, and blue corresponding to <span class="emphasis"><em>X</em></span>, <span class="emphasis"><em>Y</em></span>, and <span class="emphasis"><em>Z</em></span> respectively. To move an object, hover your cursor over one of the three axes (or planes between <a id="id42" class="indexterm"/>axes), and then click and hold the mouse while moving it to slide the object in that direction. You can repeat this process as often as needed to ensure that your objects are positioned where you need them to be. Use the translate tool to move the second floor piece away from the first. See <span class="emphasis"><em>Figure 1.22</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_22.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.22: Translate an object using the translate Gizmo</p></div></div><p>You can <a id="id43" class="indexterm"/>also rotate and scale objects using the mouse, as with translate. Press <span class="emphasis"><em>E</em></span> to access the rotate tool or <span class="emphasis"><em>R</em></span> to access the scale tool, or you can activate these tools using their respective toolbar icons from the top of the editor. When these tools are activated, a Gizmo appears centered on the object, and you can click and drag the mouse over each specific axis to rotate or scale objects as needed. See <span class="emphasis"><em>Figure 1.23</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_23.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.23: Accessing the rotate and scale tools</p></div></div><p>Being able to <a id="id44" class="indexterm"/>translate, rotate, and scale objects quickly through mouse and keyboard combinations is very important when working in Unity. For this reason, make using the keyboard shortcuts a habit as opposed to accessing the tools continually from the toolbar. However, in addition to moving, rotating, and scaling objects, you'll frequently need to move around yourself in the <span class="strong"><strong>Scene</strong></span> view in order to see the world from different positions, angles, and perspectives. This means that you'll frequently need to reposition the scene preview camera in the world. You'll want to zoom in and zoom out of the world to get a better view of objects and change your viewing angle to see how objects align and fit together properly. To do this, you'll need to make extensive use of both the keyboard and mouse together.</p><p>To zoom closer or further from the object you're looking at, simply scroll the mouse wheel up or down—up zooms in and down zooms out. See <span class="emphasis"><em>Figure 1.24</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_24.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.24: Zooming in and out</p></div></div><p>To pan the <a id="id45" class="indexterm"/>
<span class="strong"><strong>Scene</strong></span> view left or right, or up or down, hold down the middle mouse button while moving the mouse in the appropriate direction. Alternatively, you can access the pan tool from the application toolbar (or press <span class="emphasis"><em>Q</em></span> on the keyboard) and then simply click and drag in the <span class="strong"><strong>Scene</strong></span> view while the tool is active. Pan does not zoom in or out; it simply slides the camera left and right, or up and down.</p><div class="mediaobject"><img src="graphics/B05118_01_25.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.25: Accessing the Pan tool</p></div></div><p>Sometimes, while building levels, you'll lose sight entirely of the object that you need. For example, your viewport camera could be focusing on a completely different place from the object you really want to click or see. In this case, you'll often want to shift the viewport camera automatically in order to focus on that specific object. Specifically, you'll want to reposition and rotate the viewport as necessary to bring a desired object to the center of the view. To do this automatically, select the object to focus on (or frame) by clicking on <a id="id46" class="indexterm"/>its name from the <span class="strong"><strong>Hierarchy</strong></span> panel. Then, press the <span class="emphasis"><em>F</em></span> key on the keyboard. Alternatively, you can double-click its name in the <span class="strong"><strong>Hierarchy</strong></span> panel. See <span class="emphasis"><em>Figure 1.26</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_26.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.26: Framing a selected object</p></div></div><p>After framing an object, you'll often want to <span class="emphasis"><em>rotate around</em></span> it in order to quickly and easily view it from all important angles. To achieve this, hold down the <span class="emphasis"><em>Alt</em></span> key on the keyboard while clicking and dragging the mouse to rotate the view. See <span class="emphasis"><em>Figure 1.27</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_27.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.27: Rotating around the framed object</p></div></div><p>Lastly, it's helpful to navigate a level in the <span class="strong"><strong>Scene</strong></span> view using first-person controls, that is, controls that mimic how first-person games are played. This helps you experience the scene at a more personal and immersive level. To do this, hold down the right mouse button and (with the button depressed) use the WASD keys on the keyboard to control forward, backward, and strafing movement. Movement of the mouse controls head orientation. You <a id="id47" class="indexterm"/>can also hold down the <span class="emphasis"><em>Shift</em></span> key while moving to increase movement speed. See <span class="emphasis"><em>Figure 1.28</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_28.jpg" alt="Transformations and navigation"/><div class="caption"><p>Figure 1.28: Using first-person controls</p></div></div><p>The great thing <a id="id48" class="indexterm"/>about learning the versatile transformation and navigation controls is that, on understanding them, you can move and orient practically any object in any way, and you can move and view the world from almost any position and angle. Being able to do this is critically important to build quality levels quickly. All of these controls, along with some others that we'll soon see, will be used frequently throughout this book to create scenes and work in Unity generally.</p></div>
<div class="section" title="Scene building"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Scene building</h1></div></div></div><p>Now that we've seen how <a id="id49" class="indexterm"/>to transform objects and navigate the scene viewport successfully, let's proceed to complete our first level for the coin <a id="id50" class="indexterm"/>collection game. Let's separate the two floor meshes apart in space, leaving a gap between them that we'll fix by creating a bridge, which the player will be able to cross, moving between the floor spaces like islands. We can use the translate tool (<span class="emphasis"><em>W</em></span>) to move objects around. See <span class="emphasis"><em>Figure 1.29</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_29.jpg" alt="Scene building"/><div class="caption"><p>Figure 1.29: Separating the floor meshes into islands</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>If you want to create more floor objects, you can use the method that we've seen already by dragging and dropping the mesh asset in the <span class="strong"><strong>Project</strong></span> panel in the <span class="strong"><strong>Scene</strong></span> viewport. Alternatively, you can duplicate the selected object in the viewport by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span> on the keyboard. Both methods produce the same result.</p></div></div><p>Next, we'll add some <a id="id51" class="indexterm"/>props and obstacles to the scene. Drag and <a id="id52" class="indexterm"/>drop some house objects onto the floor. The house object (<code class="literal">HousePrototype16x16x24</code>) is found in the <code class="literal">Assets</code> | <code class="literal">Standard Assets</code> | <code class="literal">Prototyping</code> | <code class="literal">Prefabs</code> folder. See <span class="emphasis"><em>Figure 1.30</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_30.jpg" alt="Scene building"/><div class="caption"><p>Figure 1.30: Adding house props to the scene</p></div></div><p>On dragging and dropping the house in the scene, it may align to the floor nicely with the bottom against the floor, or it may not align like that. If it does, that's splendid and great luck! However, we shouldn't rely on luck every time because we're professional game developers! Thankfully, we can make any two mesh objects align easily in Unity using vertex snapping. This <a id="id53" class="indexterm"/>feature works by forcing two objects into <a id="id54" class="indexterm"/>positional alignment within the scene by overlapping their vertices at a specific and common point.</p><p>For example, consider <span class="emphasis"><em>Figure 1.31</em></span>. Here, a house object hovers awkwardly above the floor and we naturally want it to align level with the floor and perhaps over to the floor corner. To achieve this, start by selecting the house object (click on it or select it from the <span class="strong"><strong>Hierarchy</strong></span> panel). The object to be selected is the one that <span class="emphasis"><em>should move</em></span> to align and not the destination (which is the floor), which should remain in place.</p><div class="mediaobject"><img src="graphics/B05118_01_31.jpg" alt="Scene building"/><div class="caption"><p>Figure 1.31: Misaligned objects can be snapped into place with Vertex Snapping</p></div></div><p>Next, activate the <a id="id55" class="indexterm"/>translate tool (<span class="emphasis"><em>W</em></span>) and hold down the <span class="emphasis"><em>V</em></span> key <a id="id56" class="indexterm"/>for vertex snapping. With <span class="emphasis"><em>V</em></span> held down, move the cursor around and see how the Gizmo cursor sticks to the nearest vertex of the selected mesh. See <span class="emphasis"><em>Figure 1.32</em></span>. Unity is asking you to pick a source vertex for the snapping:</p><div class="mediaobject"><img src="graphics/B05118_01_32.jpg" alt="Scene building"/><div class="caption"><p>Figure 1.32: Hold down V to activate Vertex Snapping</p></div></div><p>With <span class="emphasis"><em>V</em></span> held down, move the cursor to the bottom corner of the house, and then click and drag from the corner to the floor mesh corner. The house will then snap align to the floor, corner to corner. When aligned this way, it release the <span class="emphasis"><em>V</em></span> key, and the two meshes get aligned exactly at the vertices. See <span class="emphasis"><em>Figure 1.33</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_33.jpg" alt="Scene building"/><div class="caption"><p>Figure 1.33: Align two meshes by vertices</p></div></div><p>Now you can assemble a complete scene using the mesh assets included in the <code class="literal">Prototyping</code> <a id="id57" class="indexterm"/>package. Drag and drop props in the scene, and <a id="id58" class="indexterm"/>using translate, rotate, and scale, you can reposition, realign, and rotate these objects; using vertex snapping, you can align them wherever you need. Give this some practice. See <span class="emphasis"><em>Figure 1.34</em></span> for the scene arrangement that I made using only these tools and assets:</p><div class="mediaobject"><img src="graphics/B05118_01_34.jpg" alt="Scene building"/><div class="caption"><p>Figure 1.34: Building a complete level</p></div></div></div>
<div class="section" title="Lighting and sky"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Lighting and sky</h1></div></div></div><p>The basic level has <a id="id59" class="indexterm"/>been created in terms of architectural models and layout; this was achieved using only a few mesh assets and some basic tools. Nevertheless, these tools are powerful and offer us a multitude of combinations and options to create great variety and believability in game worlds. One important ingredient is missing for us, however. This ingredient is lighting. You'll notice from <span class="emphasis"><em>Figure 1.34</em></span> that everything looks relatively flat, with no highlights, shadows, or light or dark areas. This is because scene lighting is not properly configured for best results, even though we already have a light in the scene, which was created initially by default.</p><p>Let's start setting the scene for the coin collection game by enabling the sky, if it's not already enabled. To do this, click on the <span class="strong"><strong>Extras</strong></span> drop-down menu from the top toolbar in the <span class="strong"><strong>Scene</strong></span> viewport. From the context menu, select <span class="strong"><strong>Skybox</strong></span> to enable <span class="strong"><strong>Skybox</strong></span> viewing. A <span class="strong"><strong>Skybox</strong></span> simply refers to a large cube that surrounds the whole scene. Each interior side has a continuous texture (image) applied to simulate the appearance of a surrounding sky. For this reason, clicking the <span class="strong"><strong>Skybox</strong></span> option displays a default sky in the <span class="strong"><strong>Scene</strong></span> viewport. See <span class="emphasis"><em>Figure 1.35</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_35.jpg" alt="Lighting and sky"/><div class="caption"><p>Figure 1.35: Enabling the sky</p></div></div><p>Now, although the <a id="id60" class="indexterm"/>
<span class="strong"><strong>Skybox</strong></span> is now enabled and the scene looks better than before, it's still not being illuminated properly—the objects lack shadows and highlights. To fix this, be sure that lighting is enabled for the scene by toggling on the Lighting icon at the top of the <span class="strong"><strong>Scene</strong></span> viewport. See <span class="emphasis"><em>Figure 1.36</em></span>. This setting is for display purposes only. It only affects whether lighting effects are shown in the <span class="strong"><strong>Scene</strong></span> viewport and not whether lighting is truly enabled for the final game.</p><div class="mediaobject"><img src="graphics/B05118_01_36.jpg" alt="Lighting and sky"/><div class="caption"><p>Figure 1.36: Enabling scene lighting in the Scene viewport</p></div></div><p>Enabling lighting display for the viewport will result in some differences to the scene appearance and, again, the scene should look better than before. You can confirm that scene lighting is <a id="id61" class="indexterm"/>taking effect by selecting <span class="strong"><strong>Directional Light</strong></span> from the <span class="strong"><strong>Hierarchy</strong></span> panel and rotating it. Doing this controls the time of day, rotating the light cycles between day and night and changing the light intensity and mood. This changes how the scene is rendered. See <span class="emphasis"><em>Figure 1.37</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_37.jpg" alt="Lighting and sky"/><div class="caption"><p>Figure 1.37: Rotating the scene directional light changes the time of day</p></div></div><p>Let's undo any rotations to the <span class="strong"><strong>Directional Light</strong></span> by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Z</em></span> on the keyboard. To prepare for final and optimal lighting, all non-movable objects in the scene (such as walls, floors, chairs, tables, ceilings, grass, hills, towers, and more) should be marked as <span class="strong"><strong>Static</strong></span>. This signifies to Unity that the objects will never move, no matter what happens during gameplay. By marking non-movable objects ahead of time, you can help Unity optimize the way it renders and lights a scene. To mark objects as <span class="strong"><strong>Static</strong></span>, simply select all non-movable objects (which includes practically the entire level so far), and then enable the <span class="strong"><strong>Static</strong></span> checkbox via the <span class="strong"><strong>Object Inspector</strong></span>. Note that you don't need to enable the <span class="strong"><strong>Static</strong></span> setting for each object separately. By holding down the <span class="emphasis"><em>Shift</em></span> key while selecting objects, you can select multiple objects together, allowing you to adjust their properties as a batch through the <span class="strong"><strong>Object Inspector</strong></span>. See <span class="emphasis"><em>Figure 1.38</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_38.jpg" alt="Lighting and sky"/><div class="caption"><p>Figure 1.38: Enabling the Static option for multiple non-movable objects improves lighting and performance</p></div></div><p>When you enable the <span class="strong"><strong>Static</strong></span> checkbox for geometry, Unity auto-calculates scene lighting in the background—effects such as shadows, indirect illumination, and more. It generates a batch of data <a id="id62" class="indexterm"/>called the <span class="strong"><strong>GI Cache</strong></span>, featuring <span class="strong"><strong>Light Propagation Paths</strong></span>, which <a id="id63" class="indexterm"/>instructs Unity how light rays should bounce and move <a id="id64" class="indexterm"/>around the scene to achieve greater realism. Even so, enabling the <span class="strong"><strong>Static</strong></span> checkbox as we've done still won't produce cast shadows for objects, and this seriously detracts from realism. This happens because most mesh objects have the <span class="strong"><strong>Cast Shadows</strong></span> option disabled. To fix this, select all meshes in the scene. Then, from the <span class="strong"><strong>Object Inspector</strong></span>, click on the <span class="strong"><strong>Cast Shadows</strong></span> checkbox from the <span class="strong"><strong>Mesh Renderer</strong></span> component, and choose the <span class="strong"><strong>On</strong></span> option from the context menu. When you do this, all mesh objects should be casting shadows. See <span class="emphasis"><em>Figure 1.39</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_39.jpg" alt="Lighting and sky"/><div class="caption"><p>Figure 1.39: Enabling cast shadows from the Mesh Renderer component</p></div></div><p>Voila! Your meshes now cast shadows. Splendid work: in reaching this far, you've created a new project, populated a scene with meshes, and successfully illuminated them with directional <a id="id65" class="indexterm"/>lighting. That's excellent. However, it'd be even better if we could explore our environment in the first-person mode. We'll see how next.</p></div>
<div class="section" title="Play testing and the Game tab"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Play testing and the Game tab</h1></div></div></div><p>The environment <a id="id66" class="indexterm"/>created thus far for the coin collection game has been assembled using only the mesh assets included with the native <code class="literal">Prototyping</code> package. My environment, as shown in <span class="emphasis"><em>Figure 1.40</em></span>, features two main floor islands with houses, and the islands themselves are connected together by a stepping-stone bridge. Your version may be slightly different, and that's fine.</p><div class="mediaobject"><img src="graphics/B05118_01_40.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.40: The scene created so far contains two island areas</p></div></div><p>Overall, the scene is good work. It's well worth saving. To save the scene, press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>S</em></span> on the keyboard or else choose <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Save Scene</strong></span> from the application menu. See <span class="emphasis"><em>Figure 1.41</em></span>. If you're saving the scene for the first time, Unity displays a pop-up <span class="strong"><strong>Save</strong></span> dialog, prompting you to name the scene descriptively (I called it <code class="literal">Level_01</code>).</p><div class="mediaobject"><img src="graphics/B05118_01_41.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.41: Saving a scene</p></div></div><p>After saving the <a id="id67" class="indexterm"/>scene, it becomes scene asset of the project and appears in the <span class="strong"><strong>Project</strong></span> panel. See <span class="emphasis"><em>Figure 1.42</em></span>. This means that the scene is now a genuine and integral part of the project and not just a temporary work-in-progress as it was before. <span class="emphasis"><em>Notice</em></span> also that saving a scene is conceptually <span class="emphasis"><em>different</em></span> from saving a project. For example, the application menu has entries for <span class="strong"><strong>Save Scene</strong></span> and <span class="strong"><strong>Save Project</strong></span>. Remember, a <span class="strong"><strong>Project</strong></span> is a collection of files and folders, including assets and scenes. A scene, by contrast, is one asset within the project and represents a complete 3D map that may be populated by other assets, such as meshes, textures, and sounds. Thus, saving a project saves the configuration between files and assets, including scenes. Saving a scene, in contrast, just retains the level changes within that specified scene.</p><div class="mediaobject"><img src="graphics/B05118_01_42.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.42: Saved scenes are added as assets within your project</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>You can see from <span class="emphasis"><em>Figure 1.42</em></span> that I've saved my scene in a folder named <code class="literal">Scenes</code>. Folders can be created in your project by right-clicking on any empty area in the <span class="strong"><strong>Project</strong></span> panel and choosing <span class="strong"><strong>New Folder</strong></span> from the context menu, or else choose <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Folder</strong></span> from the application menu. You can easily move and rearrange assets among folders by simply dragging and dropping them.</p></div></div><p>Now, the level, as it stands, contains nothing really <span class="emphasis"><em>playable</em></span>. It's simply a static, lifeless, and non-interactive 3D environment made using the <span class="strong"><strong>Editor</strong></span> tools. Let's correct this by making our scene <a id="id68" class="indexterm"/>playable, allowing the player to wander around and explore the world in first-person mode, controlled using the standard WASD keys on the keyboard. To achieve this, we'll add a first-person character controller to the scene. This is a ready-made asset included with Unity, which contains everything necessary to create quick and effective first-person controls. Open the <code class="literal">Standard Assets</code> | <code class="literal">Characters</code> | <code class="literal">FirstPersonCharacter</code> | <code class="literal">Prefabs</code> folder. Then drag and drop the <span class="strong"><strong>FPSController</strong></span> asset from the <span class="strong"><strong>Project</strong></span> panel in the scene. See <span class="emphasis"><em>Figure 1.43</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_43.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.43: Adding an FPSController to the scene</p></div></div><p>After adding the first-person controller, click on the play button from the Unity toolbar to play test the game in first-person mode. See <span class="emphasis"><em>Figure 1.44</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_44.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.44: Unity scenes can be play tested by clicking on the play button from the toolbar</p></div></div><p>On clicking play, Unity typically switches from the <span class="strong"><strong>Scene</strong></span> tab to the <span class="strong"><strong>Game</strong></span> tab. As we've seen, the <span class="strong"><strong>Scene</strong></span> tab <a id="id69" class="indexterm"/>is a <span class="emphasis"><em>director's-eye view</em></span> of the active scene; it's where a scene is edited, crafted, and designed. In contrast, the <span class="strong"><strong>Game</strong></span> tab is where the active scene is played and tested from the perspective of the gamer. From this view, the scene is displayed through the main game camera. While play mode is active, you can play test your game using the default game controls, provided that the <span class="strong"><strong>Game</strong></span> tab is <span class="emphasis"><em>in focus</em></span>. The first-person controller uses the WASD keys on the keyboard and mouse movement controls head orientation. See <span class="emphasis"><em>Figure 1.45</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_45.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.45: Play testing levels in the Game tab</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip08"/>Tip</h3><p>You can switch back to the <span class="strong"><strong>Scene</strong></span> tab while in play mode. You can even edit the scene and change, move, and delete objects there too! However, any and all scene changes made during play mode will automatically revert back to their original settings when play mode ends. This behavior is intentional. It lets you edit properties during gameplay to observe their effects and debug any issues without permanently changing the scene.</p></div></div><p>Congratulations! Your level should now be walkable in first-person mode. When completed, you can easily stop playback by clicking on the play button again or by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>P</em></span> on the keyboard. Doing this will return you to the <span class="strong"><strong>Scene</strong></span> tab.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip09"/>Tip</h3><p>Unity also features a <span class="strong"><strong>Toggle-Pause</strong></span> button to suspend and resume gameplay.</p></div></div><p>You should notice that, on <a id="id70" class="indexterm"/>playing the level with a first-person controller, you receive an information message printed to the <span class="strong"><strong>Console</strong></span> window. By default, this window appears at the bottom of the <span class="strong"><strong>Unity Editor</strong></span>, docked beside the <span class="strong"><strong>Project</strong></span> panel. This window is also accessible manually from the application menu, <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Console</strong></span>. The <span class="strong"><strong>Console</strong></span> window is where all encountered errors or warnings are displayed for your review as well as information messages. Errors are printed in red and warnings in yellow, and information messages appear as a default grey. Sometimes, a message appears just once, or sometimes it appears many times repeatedly. See <span class="emphasis"><em>Figure 1.46</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_46.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.46: The Console outputs information, warnings, and errors</p></div></div><p>As <a id="id71" class="indexterm"/>mentioned, the <span class="strong"><strong>Console</strong></span> window outputs three distinct types of message: information, warnings, and errors. Information messages are typically Unity's way of making best practice recommendations or suggestions based on how your project is currently working. Warnings are slightly more serious and represent problems either in your code or scene, which (if not corrected) could result in unexpected behaviors and suboptimal performance. Finally, errors describe areas in your scene or code that require careful and immediate attention. Sometimes, errors will prevent your game from working altogether and sometimes errors happen at runtime and can result in game crashes or freezes. The <span class="strong"><strong>Console</strong></span> window, therefore, is helpful because it helps us debug and address issues with our games. <span class="emphasis"><em>Figure 1.46</em></span> has identified an issue concerning duplicated <span class="emphasis"><em>audio listeners</em></span>.</p><p>An audio listener is a component attached to a camera object. Specifically, each and every camera, by default, has an audio listener component attached. This represents an <span class="emphasis"><em>ear point</em></span>, that is, the ability to hear sound within the scene from the position of the camera. Unfortunately, Unity doesn't support multiple active audio listeners in the same scene, which means that you can only hear audio from one place at any one time. This problem happens because our scene now contains two cameras, one that was added automatically when the scene was created, and the other that is included in the first-person controller. To confirm this, select the first-person controller object in the <span class="strong"><strong>Hierarchy</strong></span> panel and click on the triangle icon beside its name to reveal more objects underneath, which are part of the first-person controller. See <span class="emphasis"><em>Figure 1.47</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_47.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.47: Finding the camera on a first-person controller</p></div></div><p>Select <a id="id72" class="indexterm"/>the <code class="literal">FirstPersonCharacter</code> object, which is underneath the <code class="literal">FPSController</code> object (as shown in <span class="emphasis"><em>Figure 1.47</em></span>). The <code class="literal">FirstPersonCharacter</code> object is a child of the <code class="literal">FPSController</code>, which is the parent. This is because <code class="literal">FPSController</code> contains or encloses the <code class="literal">FirstPersonCharacter</code> object in the <span class="strong"><strong>Hierarchy</strong></span> panel. Child objects inherit the transformations of their parents. This means that as parent objects move and rotate, all transformations will cascade downwards to all children. From the <span class="strong"><strong>Object Inspector</strong></span>, you can see that the object has an <span class="strong"><strong>Audio Listener</strong></span> component. See <span class="emphasis"><em>Figure 1.48</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_48.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.48: The FirstPersonController object contains an AudioListener component</p></div></div><p>We could remove the <span class="strong"><strong>Audio Listener</strong></span> component from the <code class="literal">FPSController</code>, but this would prevent the player hearing sound in first-person perspective. So, instead, we'll delete the original camera created by default in the scene. To do this, select the original camera object in the hierarchy and press <span class="emphasis"><em>Delete</em></span> on the keyboard. See <span class="emphasis"><em>Figure 1.49</em></span>. This removes the <span class="strong"><strong>Audio Listener</strong></span> warning in the <span class="strong"><strong>Console</strong></span> during gameplay. Now give the game a play test!</p><div class="mediaobject"><img src="graphics/B05118_01_49.jpg" alt="Play testing and the Game tab"/><div class="caption"><p>Figure 1.49: Deleting a camera object</p></div></div></div>
<div class="section" title="Adding a water plane"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Adding a water plane</h1></div></div></div><p>The collection <a id="id73" class="indexterm"/>game is making excellent progress. We now have something playable insofar as we can run around and explore the environment in first-person mode. However, the environment could benefit from additional polish. Right now, for example, the floor meshes appear suspended in mid-air with nothing beneath them to offer support. See <span class="emphasis"><em>Figure 1.50</em></span>. Further, it's possible to walk over the edge and fall into an infinite drop. So let's add some water beneath the floors to complement the scene as a complete environment.</p><div class="mediaobject"><img src="graphics/B05118_01_50.jpg" alt="Adding a water plane"/><div class="caption"><p>Figure 1.50: The world floor appears to float and have no support</p></div></div><p>To add water, we can use another ready-made Unity asset included in the <span class="strong"><strong>Project</strong></span> panel. Open the <code class="literal">Standard Assets</code> | <code class="literal">Environment</code> | <code class="literal">Water</code> | <code class="literal">Water</code> | <code class="literal">Prefabs</code> folder. Then drag and drop <a id="id74" class="indexterm"/>the <code class="literal">WaterProDaytime</code> asset from the <span class="strong"><strong>Project</strong></span> panel in the scene. See <span class="emphasis"><em>Figure 1.51</em></span>. This appears as a circular object, which is initially smaller than needed.</p><div class="mediaobject"><img src="graphics/B05118_01_51.jpg" alt="Adding a water plane"/><div class="caption"><p>Figure 1.51: Adding water to the environment</p></div></div><p>After adding the <code class="literal">Water</code> prefab, position it below the floor level and use the scale tool (R) to increase its planar size (<span class="emphasis"><em>X</em></span>, <span class="emphasis"><em>Z</em></span>) to fill the environment outward into the distant horizon. This creates the <a id="id75" class="indexterm"/>feel that the floor meshes are smaller islands within an expansive world of water. See <span class="emphasis"><em>Figure 1.52</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_52.jpg" alt="Adding a water plane"/><div class="caption"><p>Figure 1.52: Scaling and sizing water for the environment</p></div></div><p>Now let's take another test run in the <span class="strong"><strong>Game</strong></span> tab. Press play on the toolbar and navigate the character around in first-person mode. See <span class="emphasis"><em>Figure 1.53</em></span>. You should see the water in the level. Of course, you can't walk on the water! Neither can you swim or dive beneath it. If you try walking on it, you'll simply fall through it, descending into infinity as though the water had never been there. Right now, the water is an entirely cosmetic feature, but it makes the scene look much better.</p><div class="mediaobject"><img src="graphics/B05118_01_53.jpg" alt="Adding a water plane"/><div class="caption"><p>Testing the environment with water in FPS mode</p></div></div><p>The water is really a substanceless, ethereal object through which the player can pass easily. Unity doesn't recognize it as a solid or even a semi-solid object. As we'll see in more detail later, you can make an object solid very quickly by attaching a <span class="strong"><strong>Box Collider</strong></span> component to it. Colliders and physics is covered in more depth from <a class="link" href="ch03.html" title="Chapter 3. Project B – the Space Shooter">Chapter 3</a>, <span class="emphasis"><em>Project B – the Space Shooter</em></span> onward. For now, however, we can add solidity to the water by first selecting the <a id="id76" class="indexterm"/>
<code class="literal">Water</code> object from the <span class="strong"><strong>Hierarchy</strong></span> panel (or in the <span class="strong"><strong>Scene</strong></span> viewport) and then by choosing <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Physics</strong></span> | <span class="strong"><strong>Box Collider</strong></span> from the application menu. See <span class="emphasis"><em>Figure 1.54</em></span>. Attaching a component to the selected object changes the object itself; it changes how it behaves. Essentially, components add behavior and functionality to objects, making them behave in different ways. Even so, resist the temptation to add lots of components to an object without reason and with the view that it makes them more versatile or powerful. It's better to have as few components on an object as necessary. This strategy of preferring relevant simplicity keeps your workflow neater, simpler, and optimized.</p><div class="mediaobject"><img src="graphics/B05118_01_54.jpg" alt="Adding a water plane"/><div class="caption"><p>Figure 1.54: Attaching a Box Collider to a Water object</p></div></div><p>When a <span class="strong"><strong>Box Collider</strong></span> is added to the water, a surrounding green cage or mesh appears. This <a id="id77" class="indexterm"/>approximates the volume and shape of the <code class="literal">Water</code> object and represents its physical volume, namely, the volume of the object that Unity recognizes as solid. See <span class="emphasis"><em>Figure 1.55</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_55.jpg" alt="Adding a water plane"/><div class="caption"><p>Figure 1.55: Box Colliders approximate physical volume</p></div></div><p>If you play the game now, your character will walk on water as opposed to falling through. True, the character should be able to swim properly, but walking might be better than falling. To achieve full swimming behavior would require significantly more work and is not covered here. If you want to remove the <span class="strong"><strong>Box Collider</strong></span> functionality and return the water back to its original, ethereal state, then select the <code class="literal">Water</code> object, click on the cog icon on the <span class="strong"><strong>Box Collider</strong></span> <a id="id78" class="indexterm"/>component, and then choose <span class="strong"><strong>Remove Component</strong></span> from the context menu. See <span class="emphasis"><em>Figure 1.56</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_56.jpg" alt="Adding a water plane"/><div class="caption"><p>Figure 1.56: Removing a component</p></div></div></div>
<div class="section" title="Adding a coin to collect"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Adding a coin to collect</h1></div></div></div><p>On reaching this far, our <a id="id79" class="indexterm"/>game has many features, namely, a complete environment, first-person controller, and water. However, we're supposed to be making a coin collection game and there aren't any coins for the player to collect yet. Now, to achieve fully collectible coins, we'll need to write some C# script, which will happen in the next chapter of this book. However, we can at least get started here at creating the coin object itself. To do this, we'll use a <span class="strong"><strong>Cylinder</strong></span> primitive that's scaled to form a coin-looking shape. To create a cylinder, select <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Cylinder</strong></span> from the application menu:</p><div class="mediaobject"><img src="graphics/B05118_01_57.jpg" alt="Adding a coin to collect"/><div class="caption"><p>Figure 1.57: Create a Cylinder</p></div></div><p>Initially, the cylinder looks nothing like a coin. However, this is easily changed by scaling non-uniformly in the <span class="emphasis"><em>Z</em></span> <a id="id80" class="indexterm"/>axis to make the cylinder thinner. Switch to the scale tool (R) and then scale the <span class="strong"><strong>Cylinder</strong></span> inward. See <span class="emphasis"><em>Figure 1.58</em></span>:</p><div class="mediaobject"><img src="graphics/B05118_01_58.jpg" alt="Adding a coin to collect"/><div class="caption"><p>Figure 1.58: Scaling the cylinder to make a collectible coin</p></div></div><p>After rescaling the coin, its collider no longer represents its volume. It appears much larger than it should (see <span class="emphasis"><em>Figure 1.58</em></span>). By default, the <span class="strong"><strong>Cylinder</strong></span> is created with a <span class="strong"><strong>Capsule Collider</strong></span> as opposed to a <span class="strong"><strong>Box Collider</strong></span>. You can change the size of the<span class="strong"><strong> Capsule Collider</strong></span> component by adjusting the <span class="strong"><strong>Radius</strong></span> field from the <span class="strong"><strong>Object Inspector</strong></span> when the coin is selected. Lower the <span class="strong"><strong>Radius</strong></span> field to shrink the collider to a more representative size and volume. See <span class="emphasis"><em>Figure 1.59</em></span>. Alternatively, you could remove <span class="strong"><strong>Capsule Collider</strong></span> altogether and add <span class="strong"><strong>Box Collider</strong></span> instead. Either way is fine; generally choose the simpler shape where possible. The colliders will be used in script in the next chapter to detect when the player collides <a id="id81" class="indexterm"/>with the coin to collect them:</p><div class="mediaobject"><img src="graphics/B05118_01_59.jpg" alt="Adding a coin to collect"/><div class="caption"><p>Figure 1.59: Adjusting the Capsule Collider for the coin</p></div></div><p>Here we are! We now have the basic shape and structure for a coin. We will, of course, improve it carefully and critically in many ways in the next chapter. For example, we'll make it collectible and assign it a material to make it look shiny. However, here, using only a basic Unity primitive and scale tool, we're able to generate a shape that truly resembles a coin.</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec19"/>Summary</h1></div></div></div><p>Congratulations! On reaching this point, you have laid the foundations for a coin collection game that will be complete and functional in the next chapter. Here, we've seen how to create a Unity project from scratch and populate it with assets, such as meshes, textures, and scenes. In addition, we've seen how to create a scene for our game and use a range of assets to populate it with useful functionality that ships out of the box with the Unity engine, such as water, first-person controllers, and environment prototyping assets. In the next chapter, we'll resume work from where we ended here by making a coin that is collectible, and establishing a set of rules and logic for the game, making it possible to win and lose.</p></div></body></html>