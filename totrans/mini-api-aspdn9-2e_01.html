<html><head></head><body>
  <div id="_idContainer024">
   <h1 class="chapter-number" id="_idParaDest-15">
    <a id="_idTextAnchor014">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     1
    </span>
   </h1>
   <h1 id="_idParaDest-16">
    <a id="_idTextAnchor015">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Getting Up and Running with Minimal API Development
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.3.1">
     As
    </span>
    <a id="_idIndexMarker000">
    </a>
    <span class="koboSpan" id="kobo.4.1">
     users, we associate interacting with an application with a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.5.1">
      User Interface
     </span>
    </strong>
    <span class="koboSpan" id="kobo.6.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.7.1">
      UI
     </span>
    </strong>
    <span class="koboSpan" id="kobo.8.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.8.2">
     This interface consists of interactive elements that allow for interaction between the code and user.
    </span>
    <span class="koboSpan" id="kobo.8.3">
     You can think of this like
    </span>
    <a id="_idIndexMarker001">
    </a>
    <span class="koboSpan" id="kobo.9.1">
     the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.10.1">
      storefront
     </span>
    </em>
    <span class="koboSpan" id="kobo.11.1">
     , a place where you can browse the available wares or request appropriate action, for example, booking a vacation or adding items to your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.12.1">
      shopping cart.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.13.1">
     If the UI is where customers interact with
    </span>
    <a id="_idIndexMarker002">
    </a>
    <span class="koboSpan" id="kobo.14.1">
     our
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.15.1">
      store
     </span>
    </em>
    <span class="koboSpan" id="kobo.16.1">
     , an
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.17.1">
      Application Programming Interface
     </span>
    </strong>
    <span class="koboSpan" id="kobo.18.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.19.1">
      API
     </span>
    </strong>
    <span class="koboSpan" id="kobo.20.1">
     ) is the back
    </span>
    <a id="_idIndexMarker003">
    </a>
    <span class="koboSpan" id="kobo.21.1">
     of the store.
    </span>
    <span class="koboSpan" id="kobo.21.2">
     This is where we receive deliveries, move goods, process orders, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.22.1">
      manage inventory.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.23.1">
     Most developers have some experience in interacting with or writing APIs, but what makes
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.24.1">
      minimal
     </span>
    </strong>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.25.1">
       APIs
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.26.1">
      different?
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.27.1">
     Minimal APIs
    </span>
    <a id="_idIndexMarker004">
    </a>
    <span class="koboSpan" id="kobo.28.1">
     were introduced by Microsoft in 2021 with the release of .NET 6.
    </span>
    <span class="koboSpan" id="kobo.28.2">
     The aim was to empower developers to create APIs with a minimum of boilerplate code, allowing them to focus on the essentials of the business logic in use between requests
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.29.1">
      and responses.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.30.1">
     They offer a
    </span>
    <a id="_idIndexMarker005">
    </a>
    <span class="koboSpan" id="kobo.31.1">
     lightweight solution to API development, which is often a good starting point for projects, as they require much less effort to set them up.
    </span>
    <span class="koboSpan" id="kobo.31.2">
     This is a key advantage when you’re looking to get a system up and running quickly, or where there is a low number of dependencies.
    </span>
    <span class="koboSpan" id="kobo.31.3">
     It can also mean that performance is better in minimal APIs thanks to the reduced overhead compared to more traditional API formats.
    </span>
    <span class="koboSpan" id="kobo.31.4">
     In this book, we will learn how to leverage these benefits of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.32.1">
      minimal APIs.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.33.1">
     In this chapter, we’re going to cover the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.34.1">
      main topics:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.35.1">
      Understanding
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.36.1">
       minimal APIs
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.37.1">
      Contrasting minimal APIs with traditional
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.38.1">
       API approaches
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.39.1">
      The significance of minimal APIs in
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.40.1">
       modern development
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.41.1">
      Installing required tools
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.42.1">
       and dependencies
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.43.1">
      Configuring
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.44.1">
       development environments
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-17">
    <a id="_idTextAnchor016">
    </a>
    <span class="koboSpan" id="kobo.45.1">
     Technical requirements
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.46.1">
     To follow the directions in this chapter, you’ll need to have the following installed on your Windows, macOS, or
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.47.1">
      Linux machine:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.48.1">
      .NET 9.0
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.49.1">
       Software Development
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.50.1">
        Kit
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.51.1">
       (
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.52.1">
        SDK
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.53.1">
       )
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.54.1">
      Visual Studio or Visual
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.55.1">
       Studio Code
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.56.1">
      C# extension for Visual Studio Code (if you are using Visual
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.57.1">
       Studio Code)
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.58.1">
     If you’re working in Windows, it’s recommended that you use Visual Studio, although Visual Studio Code will still work.
    </span>
    <span class="koboSpan" id="kobo.58.2">
     If you’re a Mac or Linux user, you should use Visual Studio Code.
    </span>
    <span class="koboSpan" id="kobo.58.3">
     (At the time of writing, Visual Studio for Mac is set to be retired on August
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.59.1">
      31, 2024.)
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.60.1">
     The code for this chapter is available in the GitHub repository
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.61.1">
      at:
     </span>
    </span>
    <a href="https://github.com/PacktPublishing/Minimal-APIs-in-ASP.NET-9">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.62.1">
       https://github.com/PacktPublishing/Minimal-APIs-in-ASP.NET-9
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.63.1">
      .
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-18">
    <a id="_idTextAnchor017">
    </a>
    <span class="koboSpan" id="kobo.64.1">
     Understanding minimal APIs
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.65.1">
     When it comes to designing and building APIs, we’re spoilt for choice with varying styles, approaches, and templates.
    </span>
    <span class="koboSpan" id="kobo.65.2">
     .NET has proven itself over the years to be a fantastic choice for general-purpose API development.
    </span>
    <span class="koboSpan" id="kobo.65.3">
     Modern .NET provides us with two main types of API framework, one more traditional than the other.
    </span>
    <span class="koboSpan" id="kobo.65.4">
     One of the options is, of course, the minimal API, which is still a relatively new feature within .NET compared to its predecessor, the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.66.1">
      controller-based API.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.67.1">
     With minimal APIs, the
    </span>
    <a id="_idIndexMarker006">
    </a>
    <span class="koboSpan" id="kobo.68.1">
     aim is simplicity.
    </span>
    <span class="koboSpan" id="kobo.68.2">
     Less code, less ceremony, and less complexity.
    </span>
    <span class="koboSpan" id="kobo.68.3">
     As a result, minimal APIs are well suited to microservice architectures, where you have lots of small components all requiring a means of transferring data between
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.69.1">
      each other.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.70.1">
     Their simplicity also makes them easier to read, as a small block of code can take care of all the classic features of an API, such as receiving HTTP requests, routing, utilizing dependencies, accessing services, and sending responses
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.71.1">
      to clients.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.72.1">
     One of the more admirable aspects of minimal APIs is the way they lower the barrier of entry to API development.
    </span>
    <span class="koboSpan" id="kobo.72.2">
     They provide an alternative means of structuring your code that is more accessible, easier to read, and, in most cases, more performant owing to the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.73.1">
      decreased overhead.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.74.1">
     A simple API can be created using
    </span>
    <a id="_idIndexMarker007">
    </a>
    <span class="koboSpan" id="kobo.75.1">
     minimal APIs in just four lines of code.
    </span>
    <span class="koboSpan" id="kobo.75.2">
     Here’s the classic
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.76.1">
      hello
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.77.1">
       world
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.78.1">
      example:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.79.1">
var builder = WebApplication.CreateBuilder(args);
var app = builder.Build();
app.MapGet("/", () =&gt; "Hello World!");
app.Run();</span></pre>
   <p>
    <span class="koboSpan" id="kobo.80.1">
     Congratulations!
    </span>
    <span class="koboSpan" id="kobo.80.2">
     You just created an API!
    </span>
    <span class="koboSpan" id="kobo.80.3">
     Let’s dig deeper into what’s happening in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.81.1">
      the example:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.82.1">
      On the first line, we create an instance of
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.83.1">
       WebApplicationBuilder
      </span>
     </strong>
     <span class="koboSpan" id="kobo.84.1">
      by calling
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.85.1">
       CreateBuilder
      </span>
     </strong>
     <span class="koboSpan" id="kobo.86.1">
      and passing in any command-line arguments that we might need.
     </span>
     <span class="koboSpan" id="kobo.86.2">
      Think of this as a blueprint for the API we’re creating.
     </span>
     <span class="koboSpan" id="kobo.86.3">
      The minimal API is an ASP.NET core application like any other, and so it needs a pipeline for it to be run.
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.87.1">
       WebApplicationBuilder
      </span>
     </strong>
     <span class="koboSpan" id="kobo.88.1">
      provides us with
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.89.1">
       this pipeline.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.90.1">
      Then, we call
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.91.1">
       Build()
      </span>
     </strong>
     <span class="koboSpan" id="kobo.92.1">
      on this instance we created, which results in an instance of
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.93.1">
       WebApplication
      </span>
     </strong>
     <span class="koboSpan" id="kobo.94.1">
      that we have called
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.95.1">
       app
      </span>
     </strong>
     <span class="koboSpan" id="kobo.96.1">
      .
     </span>
     <span class="koboSpan" id="kobo.96.2">
      This is
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.97.1">
       our API.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.98.1">
      The third line maps any incoming HTTP GET requests on the root path of the application:
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.99.1">
       ("/")
      </span>
     </strong>
     <span class="koboSpan" id="kobo.100.1">
      .
     </span>
     <span class="koboSpan" id="kobo.100.2">
      Following this, we use a lambda statement to indicate the logic that should be executed when the request is received.
     </span>
     <span class="koboSpan" id="kobo.100.3">
      In this case, we are returning the string
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.101.1">
        Hello World!
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.102.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.103.1">
      Finally, the fourth line starts the application, making it listen for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.104.1">
       incoming requests.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.105.1">
     Now that you have a high-level understanding of minimal APIs, let’s compare them with more traditional
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.106.1">
      API f
     </span>
     <a id="_idTextAnchor018">
     </a>
     <span class="koboSpan" id="kobo.107.1">
      ormats.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-19">
    <a id="_idTextAnchor019">
    </a>
    <span class="koboSpan" id="kobo.108.1">
     Contrasting minimal APIs with traditional API approaches
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.109.1">
     The more traditional API
    </span>
    <a id="_idIndexMarker008">
    </a>
    <span class="koboSpan" id="kobo.110.1">
     format in .NET compared to minimal APIs is
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.111.1">
      controller-based APIs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.112.1">
     .
    </span>
    <span class="koboSpan" id="kobo.112.2">
     These are more commonly seen in ASP.NET
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.113.1">
      Model-View-Controller
     </span>
    </strong>
    <span class="koboSpan" id="kobo.114.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.115.1">
      MVC
     </span>
    </strong>
    <span class="koboSpan" id="kobo.116.1">
     ) projects, or
    </span>
    <a id="_idIndexMarker009">
    </a>
    <span class="koboSpan" id="kobo.117.1">
     in ASP.NET web API projects.
    </span>
    <span class="koboSpan" id="kobo.117.2">
     However, whether you’re building an MVC project or not, both API types
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.118.1">
      utilize controllers.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.119.1">
     Controllers are
    </span>
    <a id="_idIndexMarker010">
    </a>
    <span class="koboSpan" id="kobo.120.1">
     simply classes, with many responsibilities within the API, such
    </span>
    <a id="_idIndexMarker011">
    </a>
    <span class="koboSpan" id="kobo.121.1">
     as
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.122.1">
      the following:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.123.1">
      Handling incoming requests via
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.124.1">
       actions
      </span>
     </em>
     <span class="koboSpan" id="kobo.125.1">
      , which are interacted with using various HTTP methods, such as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.126.1">
       GET
      </span>
     </strong>
     <span class="koboSpan" id="kobo.127.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.128.1">
       POST
      </span>
     </strong>
     <span class="koboSpan" id="kobo.129.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.130.1">
       PUT
      </span>
     </strong>
     <span class="koboSpan" id="kobo.131.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.132.1">
       DELETE
      </span>
     </strong>
     <span class="koboSpan" id="kobo.133.1">
      ,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.134.1">
       and
      </span>
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.135.1">
        PATCH
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.136.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.137.1">
      Processing data sent in the request via query string parameters or within the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.138.1">
       request body.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.139.1">
      Interaction with data models and processing of business logic
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.140.1">
       via services.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.141.1">
      Generation of responses to calling clients.
     </span>
     <span class="koboSpan" id="kobo.141.2">
      These responses could be in JSON, XML, or many
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.142.1">
       other formats.
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.143.1">
       Routing of requests to other areas of the application, that is, directing to a page at a
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.144.1">
        specific URL.
       </span>
      </span>
     </p>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.145.1">
     When using a controller-based API, each controller tends to be focused on one specific application domain.
    </span>
    <span class="koboSpan" id="kobo.145.2">
     For example, you may have a controller dedicated to all things
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.146.1">
      employees
     </span>
    </em>
    <span class="koboSpan" id="kobo.147.1">
     , and another dedicated to
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.148.1">
      inventory
     </span>
    </em>
    <span class="koboSpan" id="kobo.149.1">
     .
    </span>
    <span class="koboSpan" id="kobo.149.2">
     This is great for segregating business logic into relevant areas, but requires a lot of ceremony, such as the need to
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.150.1">
      inherit
     </span>
    </em>
    <span class="koboSpan" id="kobo.151.1">
     from a base
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.152.1">
      controller
     </span>
    </em>
    <span class="koboSpan" id="kobo.153.1">
     class, the need to add attributes for defining HTTP methods, or management of folder structures for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.154.1">
      each controller.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.155.1">
     Here’s an
    </span>
    <a id="_idIndexMarker012">
    </a>
    <span class="koboSpan" id="kobo.156.1">
     example of an
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.157.1">
      Employee
     </span>
    </strong>
    <span class="koboSpan" id="kobo.158.1">
     controller.
    </span>
    <span class="koboSpan" id="kobo.158.2">
     Notice the use of attributes for labeling the controller type (
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.159.1">
      [ApiController]
     </span>
    </strong>
    <span class="koboSpan" id="kobo.160.1">
     ) and routing.
    </span>
    <span class="koboSpan" id="kobo.160.2">
     Also observe how the class is required to derive from
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.161.1">
      ControllerBase
     </span>
    </strong>
    <span class="koboSpan" id="kobo.162.1">
     , along with dependency injection managed via a class constr
    </span>
    <a id="_idTextAnchor020">
    </a>
    <span class="koboSpan" id="kobo.163.1">
     uctor to get
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.164.1">
      IEmployeeRepository
     </span>
    </strong>
    <span class="koboSpan" id="kobo.165.1">
     , and this is only for
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.166.1">
      employees
     </span>
    </em>
    <span class="koboSpan" id="kobo.167.1">
     !
    </span>
    <span class="koboSpan" id="kobo.167.2">
     We’d have to do it all over again in a separate class for our
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.168.1">
      inventory
     </span>
    </em>
    <span class="koboSpan" id="kobo.169.1">
     controller, and so the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.170.1">
      ceremony continues:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.171.1">
using Microsoft.AspNetCore.Mvc;
using System.Collections.Generic;
namespace EmployeeAPI.Controllers
{
    [ApiController]
    [Route("api/[controller]")]
    public class Employees</span><a id="_idTextAnchor021"/><span class="koboSpan" id="kobo.172.1">Controller : ControllerBase
    {
        private readonly IEmployeeRepository
            _employeeRepository;
        public EmployeesController(
            IEmployeeRepository employeeRepository)
        {
            _employeeRepository = employeeRepository;
        }
        [HttpGet]
        public ActionResult&lt;IEnumerable&lt;Employee&gt;&gt;
            GetEmployees()
        {
            var employees =
                _employeeRepository.GetEmployees();
            return Ok(employees);
        }
        [HttpPost]
        public ActionResult&lt;Employee&gt;
            CreateEmployee(Employee employee)
        {
            _employeeRepository.AddEmployee(employee);
            return CreatedAtAction(nameof(GetEmployees),
                new{id = employee.Id }, employee);
        }
    }
}</span></pre>
   <p>
    <span class="koboSpan" id="kobo.173.1">
     By contrast, you can
    </span>
    <a id="_idIndexMarker013">
    </a>
    <span class="koboSpan" id="kobo.174.1">
     create a minimal API endpoint directly in the entry point of your application, with routing, dependency injection, and handlers all defined inline, like in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.175.1">
      example here:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.176.1">
public class Program
{
    public static void Main(string[] args)
    {
        var builder = WebApplication.CreateBuilder(args);
        builder.Services.AddSingleton&lt;IEmployeeRepository,
            EmployeeRepository&gt;();
        var app = builder.Build();
        app.MapGet("/api/employees",
            (IEmployeeRepository employeeRepository) =&gt;
        {
            var employees =
                employeeRepository.GetEmployees();
            return Results.Ok(employees);
        });
        app.Run();
    }
}</span></pre>
   <p>
    <span class="koboSpan" id="kobo.177.1">
     As you can see, within a
    </span>
    <a id="_idIndexMarker014">
    </a>
    <span class="koboSpan" id="kobo.178.1">
     much simpler, smaller block of code (and without the need for a separate controller class), we’ve registered a service for dependency injection, added an HTTP
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.179.1">
      GET
     </span>
    </strong>
    <span class="koboSpan" id="kobo.180.1">
     endpoint, injected our service, ran the required logic, and retu
    </span>
    <a id="_idTextAnchor022">
    </a>
    <span class="koboSpan" id="kobo.181.1">
     rned
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.182.1">
      a result.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.183.1">
     Dependency injection in minimal APIs versus controllers
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.184.1">
     We’ll cover dependency injection later in the book, but it’s important to know that dependency injection as shown in the example requires more configuration in a controller-based API, as you typically register your dependencies at the startup of the application in
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.185.1">
      Startup.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.186.1">
     .
    </span>
    <span class="koboSpan" id="kobo.186.2">
     minimal APIs allow you to inject dependencies in a much lighter, straightforward way, wherever they are needed, without the need for
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.187.1">
      Startup.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.188.1">
     .
    </span>
    <span class="koboSpan" id="kobo.188.2">
     It’s also important to note that for the shown examples, you would need to create your own
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.189.1">
      IEmployeeRepository
     </span>
    </strong>
    <span class="koboSpan" id="kobo.190.1">
     for the code
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.191.1">
      to work.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.192.1">
     Having an overall understanding of minimal APIs and how they differ from other development approaches is critical for their optimal use.
    </span>
    <span class="koboSpan" id="kobo.192.2">
     For more context, let us look at how minimal APIs fit within the context of modern
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.193.1">
      software development.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-20">
    <a id="_idTextAnchor023">
    </a>
    <span class="koboSpan" id="kobo.194.1">
     The significance of minimal APIs in modern development
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.195.1">
     The concept of
    </span>
    <a id="_idIndexMarker015">
    </a>
    <span class="koboSpan" id="kobo.196.1">
     creating more lightweight and simple APIs has been around for some time, but the adoption of minimal APIs has increased over the years.
    </span>
    <span class="koboSpan" id="kobo.196.2">
     Flask and Express.js have historically promoted some elements of minimalism in API development within Python and Node.js, respectively, but compared to its counterparts, .NET’s recent entry into the market is specifically designed to exploit the advantages of lightweight,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.197.1">
      simple APIs.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.198.1">
     Now that minimal APIs have arrived and are being used in mainstream development projects, developers are enjoying the benefits of not having to perform lots of setup and configuration.
    </span>
    <span class="koboSpan" id="kobo.198.2">
     They can have a working API up and running in two minutes and deploy it to the cloud in another two.
    </span>
    <span class="koboSpan" id="kobo.198.3">
     This provides phenomenal advantages for industries in which getting software to market quickly is critical
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.199.1">
      to success.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.200.1">
     In addition, the APIs you write can take advantage of .NET’s mature, cross-platform ecosystem, with robust libraries and
    </span>
    <a id="_idIndexMarker016">
    </a>
    <span class="koboSpan" id="kobo.201.1">
     off-the-shelf security solutions for request validation,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.202.1">
      cross-site request forgery
     </span>
    </strong>
    <span class="koboSpan" id="kobo.203.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.204.1">
      CSRF
     </span>
    </strong>
    <span class="koboSpan" id="kobo.205.1">
     ) protection,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.206.1">
      and authorization.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.207.1">
     So far, we have taken a generic look at minimal APIs and their place within modern software development.
    </span>
    <span class="koboSpan" id="kobo.207.2">
     Moving forward, we are going to start configuring our environment for building minimal API projects.
    </span>
    <span class="koboSpan" id="kobo.207.3">
     As with most project setups, the first things to be configured are the tools and dependencies.
    </span>
    <span class="koboSpan" id="kobo.207.4">
     Follow the steps in the next section to start preparing your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.208.1">
      development environment.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-21">
    <a id="_idTextAnchor024">
    </a>
    <span class="koboSpan" id="kobo.209.1">
     Installing required tools and dependencies
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.210.1">
     For us to begin working with minimal APIs, we need to install
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.211.1">
      some tools.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.212.1">
     Let us
    </span>
    <a id="_idIndexMarker017">
    </a>
    <span class="koboSpan" id="kobo.213.1">
     start by installing the .NET 9.0 SDK.
    </span>
    <span class="koboSpan" id="kobo.213.2">
     Navigate to Microsoft’s .NET SDK downloads page at
    </span>
    <a href="https://dotnet.microsoft.com/en-us/download/dotnet">
     <span class="koboSpan" id="kobo.214.1">
      https://dotnet.microsoft.com/en-us/download/dotnet
     </span>
    </a>
    <span class="koboSpan" id="kobo.215.1">
     .
    </span>
    <span class="koboSpan" id="kobo.215.2">
     (This can be skipped if you already have the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.216.1">
      SDK installed.)
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.217.1">
     At the time of writing, the SDK is available by doing
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.218.1">
      the following:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.219.1">
      Choos
     </span>
     <a id="_idTextAnchor025">
     </a>
     <span class="koboSpan" id="kobo.220.1">
      e the appropriate build for your operating system and system architecture.
     </span>
     <span class="koboSpan" id="kobo.220.2">
      For example, if you are running 64-bit Windows, you would download
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.221.1">
       x64
      </span>
     </strong>
     <span class="koboSpan" id="kobo.222.1">
      .
     </span>
     <span class="koboSpan" id="kobo.222.2">
      Likewise, if you were running a Mac with an ARM CPU, you would select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.223.1">
       Arm64
      </span>
     </strong>
     <span class="koboSpan" id="kobo.224.1">
      next to
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.225.1">
       macOS
      </span>
     </strong>
     <span class="koboSpan" id="kobo.226.1">
      .
     </span>
     <span class="koboSpan" id="kobo.226.2">
      Linux tends to be a little different because a package manager is used to obtain
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.227.1">
       the SDK.
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.228.1">
       If you are a
      </span>
      <a id="_idIndexMarker018">
      </a>
      <span class="koboSpan" id="kobo.229.1">
       Linux user, follow the relevant Microsoft documentation for your specific
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.230.1">
        Linux distribution:
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer016">
     <span class="koboSpan" id="kobo.231.1">
      <img alt="Figure 1.1: Choosing the right installer" src="image/B20968_01_01.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.232.1">
     Figure 1.1: Choosing the right installer
    </span>
   </p>
   <p class="list-inset">
    <span class="koboSpan" id="kobo.233.1">
     Before we move on, let us quickly differentiate between installers and binaries.
    </span>
    <span class="koboSpan" id="kobo.233.2">
     When software is added to a system, it usually consists of multiple files containing code to be executed when the program runs.
    </span>
    <span class="koboSpan" id="kobo.233.3">
     These files are binaries: libraries or modules of code that make up the overall application.
    </span>
    <span class="koboSpan" id="kobo.233.4">
     An installer automatically places all these components in the relevant locations on the host system.
    </span>
    <span class="koboSpan" id="kobo.233.5">
     Because binaries are managed by installers, if you simply download the binaries, you will not automatically have them placed in specific locations.
    </span>
    <span class="koboSpan" id="kobo.233.6">
     The configuration that would normally be orchestrated by an installer will not have taken place.
    </span>
    <span class="koboSpan" id="kobo.233.7">
     This is sometimes necessary if you want to configure an application differently from how an installer would normally
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.234.1">
      do it.
     </span>
    </span>
   </p>
   <p class="list-inset">
    <span class="koboSpan" id="kobo.235.1">
     When you download .NET SDKs from Microsoft’s website, you usually get the choice between downloading an installer or a binary.
    </span>
    <span class="koboSpan" id="kobo.235.2">
     The simplest option is to use an installer, as this will configure your .NET development environment for you automatically.
    </span>
    <span class="koboSpan" id="kobo.235.3">
     It is the version used in examples shown in this book and I recommend you use
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.236.1">
      it also.
     </span>
    </span>
   </p>
   <ol>
    <li value="2">
     <span class="koboSpan" id="kobo.237.1">
      Once the
     </span>
     <a id="_idIndexMarker019">
     </a>
     <span class="koboSpan" id="kobo.238.1">
      installer has downloaded, open it and follow the prompts.
     </span>
     <span class="koboSpan" id="kobo.238.2">
      You will need administrator permissions to install
     </span>
     <a id="_idIndexMarker020">
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.239.1">
       the SDK.
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer017">
     <span class="koboSpan" id="kobo.240.1">
      <img alt="Figure 1.2: The .NET SDK installer" src="image/B20968_01_02.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.241.1">
     Figure 1.2: The .NET SDK installer
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.242.1">
     Now that we have the SDK installed, it’s time to install Visual Studio (on Windows) or Visual Studio Code (on macOS or Linux).
    </span>
    <span class="koboSpan" id="kobo.242.2">
     Either application can be obtained from the Visual Studio website
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.243.1">
      at
     </span>
    </span>
    <a href="https://visualstudio.microsoft.com/downloads">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.244.1">
       https://visualstudio.microsoft.com/downloads
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.245.1">
      .
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.246.1">
     .NET versions
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.247.1">
     The version of .NET shown after installation and the version of .NET shown in this example
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.248.1">
      may differ.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-22">
    <a id="_idTextAnchor026">
    </a>
    <span class="koboSpan" id="kobo.249.1">
     Installing Visual Studio for Windows
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.250.1">
     Follow
    </span>
    <a id="_idIndexMarker021">
    </a>
    <span class="koboSpan" id="kobo.251.1">
     these steps to
    </span>
    <a id="_idIndexMarker022">
    </a>
    <span class="koboSpan" id="kobo.252.1">
     install Visual Studio on
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.253.1">
      your device:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.254.1">
      On the downloads page, choose your desired Visual Studio edition.
     </span>
     <span class="koboSpan" id="kobo.254.2">
      If you don’t have a Visual Studio license, you can select the
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.255.1">
        Community
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.256.1">
       edition.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.257.1">
      Like when using the installer for the SDK, simply follow the prompts in the Visual Studio wizard to install to the desired location on
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.258.1">
       your machine.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.259.1">
      You will be prompted to choose relevant workloads during the setup process.
     </span>
     <span class="koboSpan" id="kobo.259.2">
      At a minimum, you would need to select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.260.1">
       ASP.NET and web development
      </span>
     </strong>
     <span class="koboSpan" id="kobo.261.1">
      to develop minimal APIs.
     </span>
     <span class="koboSpan" id="kobo.261.2">
      Following this, you will be asked about optional additions.
     </span>
     <span class="koboSpan" id="kobo.261.3">
      None of these will be crucial for minimal API development, so you can simply click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.262.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.263.1">
      once you have passed the screen shown in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.264.1">
        Figure 1
       </span>
      </em>
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.265.1">
        .3
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.266.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer018">
     <span class="koboSpan" id="kobo.267.1">
      <img alt="Figure 1.3: Workloads selection when installing Visual Studio" src="image/B20968_01_03.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.268.1">
     Figure 1.3: Workloads selection when installing Visual Studio
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.269.1">
     Next, let’s install Visual
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.270.1">
      Studio Code.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-23">
    <a id="_idTextAnchor027">
    </a>
    <span class="koboSpan" id="kobo.271.1">
     Installing Visual Studio Code for Mac and Linux
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.272.1">
     Visual
    </span>
    <a id="_idIndexMarker023">
    </a>
    <span class="koboSpan" id="kobo.273.1">
     Studio Code is a free application.
    </span>
    <span class="koboSpan" id="kobo.273.2">
     Simply
    </span>
    <a id="_idIndexMarker024">
    </a>
    <span class="koboSpan" id="kobo.274.1">
     download the relevant installer for your target
    </span>
    <a id="_idIndexMarker025">
    </a>
    <span class="koboSpan" id="kobo.275.1">
     operating system.
    </span>
    <span class="koboSpan" id="kobo.275.2">
     Then, do
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.276.1">
      the following:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.277.1">
      Once downloaded, run
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.278.1">
       the installer.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.279.1">
      Open Visual Studio Code and click the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.280.1">
       Extensions
      </span>
     </strong>
     <span class="koboSpan" id="kobo.281.1">
      button in the left ribbon (or use the keyboard shortcut,
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.282.1">
       Ctrl
      </span>
     </em>
     <span class="koboSpan" id="kobo.283.1">
      +
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.284.1">
       Shift
      </span>
     </em>
     <span class="koboSpan" id="kobo.285.1">
      +
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.286.1">
        X
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.287.1">
       ).
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.288.1">
      In the search bar at the top of the extensions pane, search for
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.289.1">
       C#
      </span>
     </strong>
     <span class="koboSpan" id="kobo.290.1">
      .
     </span>
     <span class="koboSpan" id="kobo.290.2">
      You will see an extension appear with the same name.
     </span>
     <span class="koboSpan" id="kobo.290.3">
      This is the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.291.1">
       C# for Visual Studio Code
      </span>
     </strong>
     <span class="koboSpan" id="kobo.292.1">
      extension, which you will need to program in C# in Visual Studio Code.
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.293.1">
       Click I
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.294.1">
        nstall
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.295.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer019">
     <span class="koboSpan" id="kobo.296.1">
      <img alt="Figure 1.4: Microsoft’s official C# extension for Visual Studio Code" src="image/B20968_01_04.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.297.1">
     Figure 1.4: Microsoft’s official C# extension for Visual Studio Code
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.298.1">
     You now have all the prerequisite tools for writing minimal APIs in .NET installed.
    </span>
    <span class="koboSpan" id="kobo.298.2">
     Next, we will set up our
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.299.1">
      development environment.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-24">
    <a id="_idTextAnchor028">
    </a>
    <span class="koboSpan" id="kobo.300.1">
     Configuring development environments
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.301.1">
     We’ll start to develop our first minimal API in the next chapter, but before that, let’s create the project structure needed for us to start
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.302.1">
      writing code.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.303.1">
     To build minimal APIs, we need to be working within an ASP.NET Core project.
    </span>
    <span class="koboSpan" id="kobo.303.2">
     Depending on whether you are using Visual Studio or Visual Studio Code, there are several ways you can create this type
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.304.1">
      of project.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-25">
    <a id="_idTextAnchor029">
    </a>
    <span class="koboSpan" id="kobo.305.1">
     Creating a project in Visual Studio
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.306.1">
     Let’s begin by
    </span>
    <a id="_idIndexMarker026">
    </a>
    <span class="koboSpan" id="kobo.307.1">
     creating a project in
    </span>
    <a id="_idIndexMarker027">
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.308.1">
      Visual Studio:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.309.1">
      Open
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.310.1">
       Visual Studio.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.311.1">
      The screen shown in the following figure gives you the option to search for the type of project you wish to create.
     </span>
     <span class="koboSpan" id="kobo.311.2">
      Search for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.312.1">
       ASP.NET Core Empty
      </span>
     </strong>
     <span class="koboSpan" id="kobo.313.1">
      and select it from the list, before clicking
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.314.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.315.1">
      .
     </span>
     <span class="koboSpan" id="kobo.315.2">
      (Make sure you choose the C# version of the template.
     </span>
     <span class="koboSpan" id="kobo.315.3">
      Do not use the F# version, as this is not within the scope of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.316.1">
       this book.)
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer020">
     <span class="koboSpan" id="kobo.317.1">
      <img alt="Figure 1.5: Visual Studio’s new project creation screen" src="image/B20968_01_05.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.318.1">
     Figure 1.5: Visual Studio’s new project creation screen
    </span>
   </p>
   <ol>
    <li value="3">
     <span class="koboSpan" id="kobo.319.1">
      Give your
     </span>
     <a id="_idIndexMarker028">
     </a>
     <span class="koboSpan" id="kobo.320.1">
      new project a name and choose a folder location
     </span>
     <a id="_idIndexMarker029">
     </a>
     <span class="koboSpan" id="kobo.321.1">
      in which it should be saved.
     </span>
     <span class="koboSpan" id="kobo.321.2">
      Then,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.322.1">
       click
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.323.1">
        Next
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.324.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer021">
     <span class="koboSpan" id="kobo.325.1">
      <img alt="Figure 1.6: Project configuration (ASP.NET Core Empty) in Visual Studio" src="image/B20968_01_06.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.326.1">
     Figure 1.6: Project configuration (ASP.NET Core Empty) in Visual Studio
    </span>
   </p>
   <ol>
    <li value="4">
     <span class="koboSpan" id="kobo.327.1">
      Choose your
     </span>
     <a id="_idIndexMarker030">
     </a>
     <span class="koboSpan" id="kobo.328.1">
      preferred .NET version.
     </span>
     <span class="koboSpan" id="kobo.328.2">
      This book uses .NET 9, and
     </span>
     <a id="_idIndexMarker031">
     </a>
     <span class="koboSpan" id="kobo.329.1">
      we have just installed the .NET 9 SDK, so select this version from the list.
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.330.1">
       Configure for HTTPS
      </span>
     </strong>
     <span class="koboSpan" id="kobo.331.1">
      should be checked by default.
     </span>
     <span class="koboSpan" id="kobo.331.2">
      This can be left checked.
     </span>
     <span class="koboSpan" id="kobo.331.3">
      Finally, click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.332.1">
       Create
      </span>
     </strong>
     <span class="koboSpan" id="kobo.333.1">
      .
     </span>
     <span class="koboSpan" id="kobo.333.2">
      Your project will then
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.334.1">
       be created.
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.335.1">
     Visual Studio is arguably the most used IDE for this kind of project.
    </span>
    <span class="koboSpan" id="kobo.335.2">
     However, it is possible to create minimal API projects in newer IDEs, such as Visual Studio Code.
    </span>
    <span class="koboSpan" id="kobo.335.3">
     Let us explore how we can set up the same project in Visual
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.336.1">
      Studio Code.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-26">
    <a id="_idTextAnchor030">
    </a>
    <span class="koboSpan" id="kobo.337.1">
     Creating a project in Visual Studio Code
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.338.1">
     Next, let’s
    </span>
    <a id="_idIndexMarker032">
    </a>
    <span class="koboSpan" id="kobo.339.1">
     create a
    </span>
    <a id="_idIndexMarker033">
    </a>
    <span class="koboSpan" id="kobo.340.1">
     project in Visual Studio Code in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.341.1">
      this section:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.342.1">
      Open Visual Studio Code and open a terminal window by clicking
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.343.1">
       Terminal
      </span>
     </strong>
     <span class="koboSpan" id="kobo.344.1">
      and then
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.345.1">
       New Terminal Window
      </span>
     </strong>
     <span class="koboSpan" id="kobo.346.1">
      (or use the keyboard shortcut,
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.347.1">
       Ctrl
      </span>
     </em>
     <span class="koboSpan" id="kobo.348.1">
      +
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.349.1">
        Shift
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.350.1">
       ).
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.351.1">
      Enter the following commands into the terminal window, replacing
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.352.1">
       MyProjectName
      </span>
     </strong>
     <span class="koboSpan" id="kobo.353.1">
      with the name of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.354.1">
       your project:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.355.1">
dotnet new web -o MyProjectName
cd MyProjectName
code -r ../MyProjectName</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.356.1">
      When
     </span>
     <a id="_idIndexMarker034">
     </a>
     <span class="koboSpan" id="kobo.357.1">
      presented with dialog boxes asking
     </span>
     <a id="_idIndexMarker035">
     </a>
     <span class="koboSpan" id="kobo.358.1">
      whether you want to trust the authors and add required assets to the project,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.359.1">
       select
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.360.1">
        Yes
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.361.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.362.1">
     Both project configurations will create the same minimal API example that we explored earlier in the chapter, returning
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.363.1">
      Hello World!
     </span>
    </strong>
    <span class="koboSpan" id="kobo.364.1">
     on an HTTP
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.365.1">
       GET
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.366.1">
      endpoint:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.367.1">
// A builder is initialized and then built.
</span><span class="koboSpan" id="kobo.367.2">var builder = WebApplication.CreateBuilder(args);
var app = builder.Build();
// GET endpoint mapped onto the base URL route, with a
// function body that r</span><a id="_idTextAnchor031"/><span class="koboSpan" id="kobo.368.1">eturns a string.
</span><span class="koboSpan" id="kobo.368.2">app.MapGet("/", () =&gt; "Hello World!");
//The initialized app is started
app.Run();</span></pre>
   <p>
    <span class="koboSpan" id="kobo.369.1">
     You now have the basic foundations of a minimal
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.370.1">
      API project.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.371.1">
     We can get the output from
    </span>
    <a id="_idIndexMarker036">
    </a>
    <span class="koboSpan" id="kobo.372.1">
     this example in Visual Studio Code and Visual
    </span>
    <a id="_idIndexMarker037">
    </a>
    <span class="koboSpan" id="kobo.373.1">
     Studio by clicking the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.374.1">
      Play
     </span>
    </strong>
    <span class="koboSpan" id="kobo.375.1">
     button.
    </span>
    <span class="koboSpan" id="kobo.375.2">
     This will run the project in debug mode, opening a browser window that, in the case of this example, simply displays
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.376.1">
      Hello World!
     </span>
    </strong>
    <span class="koboSpan" id="kobo.377.1">
     .
    </span>
    <span class="koboSpan" id="kobo.377.2">
     This button is in slightly different places depending on which IDE you
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.378.1">
      are using.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.379.1">
     In Visual Studio Code it looks like
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.380.1">
      the following:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer022">
     <span class="koboSpan" id="kobo.381.1">
      <img alt="Figure 1.7: Debugging the project in Visual Studio Code" src="image/B20968_01_07.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.382.1">
     Figure 1.7: Debugging the project in Visual Studio Code
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.383.1">
     While the button in Visual Studio looks like
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.384.1">
       Figure 1
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.385.1">
       .8
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.386.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer023">
     <span class="koboSpan" id="kobo.387.1">
      <img alt="Figure 1.8: Debugging the project in Visual Studio" src="image/B20968_01_08.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.388.1">
     Figure 1.8: Debugging the project in Visual Studio
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.389.1">
     Let’s recap what we learnt in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.390.1">
      this chapter!
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-27">
    <a id="_idTextAnchor032">
    </a>
    <span class="koboSpan" id="kobo.391.1">
     Summary
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.392.1">
     In this chapter, you learned about the role of minimal APIs in modern application development, and you should now have a good general understanding of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.393.1">
      their advantages.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.394.1">
     You learned how minimal APIs differ from controller-based APIs in .NET, and gained an understanding of the advantages and disadvantages of these
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.395.1">
      two formats.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.396.1">
     You installed the basic required libraries and tools to get started on your journey and learned how to create a new project in Visual Studio or Visual
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.397.1">
      Studio Code.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.398.1">
     The key takeaway from this chapter is that minimal APIs promote simplicity, high performance,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.399.1">
      and maintainability.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.400.1">
     In the next chapter, we will start writing our first Minimal API endpoints, which will be able to handle various HTTP methods on different routes.
    </span>
    <span class="koboSpan" id="kobo.400.2">
     We will minimal build responses to send back to clients and make calls to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.401.1">
      our API.
     </span>
    </span>
   </p>
  </div>
 </body></html>