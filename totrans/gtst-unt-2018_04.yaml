- en: Creating Our Terrain
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the last chapter, we designed our game so that we have a plan for our development
    efforts. We designed all the game's functionality, how to use the player character,
    what role the non-player character will have, what assets we will use, and what
    animations we will use in the game. We also mocked-up the main game screen as
    well as our heads-up display. In addition to this, we made key decisions on our
    game's difficulty balance. With the design work complete, we are ready to start
    creating our game.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we will create our game's terrain and perform several actions
    to customize the terrain based on our design mock-up in [Chapter 3](df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml),
    *Designing the Game*. We will use shaping tools and add water and vegetation features
    to complete our game environment.
  prefs: []
  type: TYPE_NORMAL
- en: 'Specifically, we will cover the following topics in this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: Creating the terrain
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Shaping the terrain
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Painting the terrain
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding water
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding vegetation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating the terrain
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Unity terrain is essentially the ground in your game environment; it is your
    landscape. Unity has several tools that we can use to create, shape, and customize
    the terrain.  We will use those tools later in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: For our game, we will use a terrain that was created from a height map and then
    edited in Photoshop. If you are interested in learning how to accomplish this,
    read the *Importing the terrain* section. Otherwise, you can skip this brief section
    and resume with the section on importing the terrain.
  prefs: []
  type: TYPE_NORMAL
- en: Working with height maps
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'You will find a lot of free height maps with a simple internet search. Once
    you have the one you want, perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: This subsection is not required and only provided for informational purposes.
    The game's terrain file will be provided along with instructions on how to incorporate
    it in our game.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open PhotoShop and select **File** | **New**. Use the following settings:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '| **Component** | **Setting** |'
  prefs: []
  type: TYPE_TB
- en: '| Width | 512 pixels |'
  prefs: []
  type: TYPE_TB
- en: '| Height | 512 pixels |'
  prefs: []
  type: TYPE_TB
- en: '| Resolution | 72 pixels |'
  prefs: []
  type: TYPE_TB
- en: '| Color mode | Grayscale 8bit |'
  prefs: []
  type: TYPE_TB
- en: Drag the height map you downloaded into the new Photoshop image.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Make any necessary placement adjustments and commit the transform.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **Image** | **Auto Tone**. Make any brightness and contrast adjustments
    you feel are necessary.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Save the file as a Photoshop Raw file.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Importing the terrain
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Before we import our terrain, we need to set up a new Unity 3D project. To
    do that, follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Launch Unity.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the **New** icon.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter a project name and select 3D.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the **Create project** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using the top menu, select **GameObject** | **3D Object** | **Terrain**. This
    creates a default terrain, called `terrain`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'With the terrain selected, click the settings cog icon under Terrain in the
    Inspector panel:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e4358894-10e6-464a-8a54-bd0bf997a433.png)'
  prefs: []
  type: TYPE_IMG
- en: Change the **Terrain Height** to `200`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Still in the Inspector panel, scroll down until you see the **Import Raw...**
    button. Click that button and navigate to the Photoshop Raw file you created in
    the previous section. Alternatively, you can download the `terrain.raw` file from
    the publisher''s companion site:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/3e347f10-5bf5-4d0f-a06a-4d8ee95ccd39.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select **Mac** for the **Byte Order** in the **Import Heightmap** dialog window
    and click the **Import** button. It is important to use this option, even if you
    are on a computer running Windows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/3f03d58f-037b-44b6-9551-61d515f31bc7.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Once you click the **Import** button, watch the lower right-hand corner of
    the Unity interface. The import process can take several minutes. Watching that
    section of the interface will indicate your progress. See the example here. Be
    patient:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/a741e261-f8f1-4dd4-8cbe-2827a910ca3c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Once the import process is complete, your terrain will reflect the imported
    height map. As you can see here, it will have some pointed peaks and edges. We
    will work on those in the next section:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/dd1b5654-985e-4ac5-aca9-d1459553cfe9.png)'
  prefs: []
  type: TYPE_IMG
- en: Shaping the terrain
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will take several actions to shape our terrain. We will
    start with smoothing, and then create our five spawn points.
  prefs: []
  type: TYPE_NORMAL
- en: Smoothing our terrain
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As we identified in the previous section, our terrain currently has some bumpy
    edges and pointed peaks. We will use the smoothing tool, which is available in
    the Terrain section of the Inspector panel. As you can see here, it is the third
    icon from the left:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/a6d246db-95b5-4c1e-ab70-3ef811134b41.png)'
  prefs: []
  type: TYPE_IMG
- en: When the smoothing tool is selected, you are presented with different brush
    types and sizes. Once you make those selections, simply use the left-button of
    the mouse to smooth the terrain.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot shows the results of the terrain after significant
    smoothing has been applied:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/73970f11-b866-4166-81fb-1eed8aa49aa8.png)'
  prefs: []
  type: TYPE_IMG
- en: If you are following along with these steps in Unity, your results will vary
    and that is okay. The exact terrain construction is not required in order to follow
    along with the remaining steps in this and other chapters.
  prefs: []
  type: TYPE_NORMAL
- en: Creating our spawn points
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Our game design called for five spawn points: one in the center, and one each
    in four corners. Our game environment is not a perfect square, so we will create
    a spawn point in the center of our terrain and four additional spawn points throughout
    the terrain.'
  prefs: []
  type: TYPE_NORMAL
- en: 'We are not scripting the spawning yet; that will take place in [Chapter 11](7098e2ac-1871-4cb2-98ba-36f3acdb0515.xhtml),
    *Scripting Victory and Defeat*. For now, we will simply create the areas using
    terrain-shaping tools. Specifically, we will use the **Paint Height** tool. As
    you can see here, it is the second icon in the Terrain section of the Inspector
    panel:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6f3ac6df-1dcb-41d3-9687-badc12c4b8e4.png)'
  prefs: []
  type: TYPE_IMG
- en: Selecting the a Brush Size of `25`, we simply click and paint the five areas
    where we want the spawn points to be. We will use the one in the center as the
    default starting point at the beginning of the game, and then randomly select
    one of the five for spawning in-game.
  prefs: []
  type: TYPE_NORMAL
- en: 'When making the spawn points, we want them to be elevated, but not too high.
    The following screenshot shows the five spawn points located throughout the terrain:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b36b34a7-e2e4-4add-bfbd-63a8b802a50b.png)'
  prefs: []
  type: TYPE_IMG
- en: Painting the terrain
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We are now ready to give our terrain some color. We will start by covering
    the entire terrain with a grass texture. To accomplish this, ensure the Terrain
    is selected in the Hierarchy panel. Then, in the Inspector panel, select the **Paint
    Texture** tool. As you can see here, that is the fourth icon in the Terrain section
    of the Inspector panel:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8aa38163-f7ad-42a9-8c60-ef2c15c3747a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'As you can see, we do not have any textures defined. We actually do not have
    any appropriate textures in our project yet, so let''s take care of that with
    a few simple steps:'
  prefs: []
  type: TYPE_NORMAL
- en: In the Project panel, click the `Assets` folder.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the right section, right-click and select **Create** | **Folder**. Name the
    folder `Textures`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Download the `grass_starter_texture.jpg` file from the publisher's companion
    site.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Drag the `grass_starter_texture.jpg` file from your filesystem to the `Textures`
    folder you created in step 1.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Now that you have a grass texture in your Unity project, let''s apply it to
    our terrain. Here are the steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Select **Terrain** in the Hierarchy panel.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the Inspector panel, click the **Edit Textures** button, and then **Add
    Texture**. This will reveal the **Add Terrain Texture** dialog window, depicted
    here:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5058a2d4-3040-41d3-af1d-5c1cc2c2dec0.png)'
  prefs: []
  type: TYPE_IMG
- en: Click the left **Select** button to reveal a set of textures.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Double-click the `grass_starter_texture`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Change both the x and y, **Size** from `15` to `2`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the Add button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You will see that your terrain is now covered with grass. When you zoom in,
    you can see the quality of the grass increases.
  prefs: []
  type: TYPE_NORMAL
- en: In the next section, we will add water to our terrain.
  prefs: []
  type: TYPE_NORMAL
- en: Adding water
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Our next step is to add the water surrounding our island. We do not intend to
    swim in the water or have objects in it, so we can get by with a simple approach.
    We will refine our water in [Chapter 6](04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml),
    *Creating and Importing 3D Objects for Our Game*.
  prefs: []
  type: TYPE_NORMAL
- en: 'Perform the following steps to create a material and a water plane, and then
    apply the material to the plane:'
  prefs: []
  type: TYPE_NORMAL
- en: In the Project panel, click the `Assets` folder.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the right section, right-click and select **Create** | **Folder**. Name the
    folder `Materials`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Double-click the `Materials` folder you just created.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Right-click in the `Materials` folder and select **Create** | **Material**.
    Name the material `temp_water`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'With the `temp_water` material selected, click the white color box to the left
    of the eye dropper icon in the Inspector panel:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ec5008c7-37fd-4f4d-ba69-97d29758f5d1.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In the Color dialog window, select a blue color for your water and close the
    dialog window. You should now see your color selection indicated in both the Project
    panel and the Inspector panel:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/79647ce5-abc3-4226-a72d-2ebc35a58060.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now that we have our material ready, let''s create a GameObject to simulate
    our water. Follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Select **GameObject** | **3D Object** | **Plane** from the top menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using the transform tools, increase the size of the plane to match the size
    of the entire game world.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Raise or lower the plane until it looks similar to this:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/1ae7fa2f-6626-493b-b0ff-a8590d15e561.png)'
  prefs: []
  type: TYPE_IMG
- en: 'With the plane selected, click the small circle to the right of `Default-Material`
    in the Mesh Renderer section of the Inspector panel. The following screenshot
    shows that section:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/c578e02b-1518-4f1d-aaca-2ba51b939040.png)'
  prefs: []
  type: TYPE_IMG
- en: You should now see the Select Material dialog window. Select the `temp_water`
    texture you created and close the dialog window.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the Hierarchy panel, right-click the Pane object and rename it `WaterPane`.
    This will help us stay organized and enable us to identify our game objects.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Your game environment should now look something similar to this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f62a67da-b496-495a-b516-7badfc9b5e4b.png)'
  prefs: []
  type: TYPE_IMG
- en: Saving your work
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This is a good time to save your work. In order to remain organized, let''s
    create a `Scenes` folder under `Assets`. Here are the steps to accomplish that:'
  prefs: []
  type: TYPE_NORMAL
- en: In the Project panel, click the `Assets` folder.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the right-hand section, right-click and select **Create** | **Folder**. Name
    the folder `Scenes`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now you are ready to save your work. From the top menu, select File | Save Project.
    You can use the **File** | **Save Scenes** or **File** | **Save Scene As...**
    option to save your scene. Also, when you exit without having saved your scene,
    you will be prompted for a name. Save your scene using any of those options, give
    your scene the name of `Main` and ensure it is saved in the `Assets` | `Scenes`
    folder.
  prefs: []
  type: TYPE_NORMAL
- en: Adding vegetation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'So far, our game environment only consists of a land mass covered in grass,
    surrounded by water. As you will remember from [Chapter 3](df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml),
    *Designing the Game*, we plan to incorporate the following game objects related
    to the terrain:'
  prefs: []
  type: TYPE_NORMAL
- en: Cherry trees
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cucumber patches
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cucumbers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We will add those game objects in [Chapter 6](04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml),
    *Creating and Importing 3D Objects for Our Game*. For now, we can add some regular
    trees to start filling in our game environment.
  prefs: []
  type: TYPE_NORMAL
- en: 'Instead of simply importing trees that others have made, we will go through
    the steps to create our own trees. Follow these steps to create your first 3D
    tree in Unity from scratch:'
  prefs: []
  type: TYPE_NORMAL
- en: Select GameObject | 3D Object | Tree from the top menu. This will create a new
    tree and place it in your game world at Transform 0, 0, 0.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Double-clicking an object in the Hierarchy panel will focus it in the center
    of the Scene view. It will also provide a zoomed-in view of the object.
  prefs: []
  type: TYPE_NORMAL
- en: 'Using the transform tools, increase the Y axis so the tree is above your water
    line. It will only consist of a single branch:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/9d512a67-d901-4770-8f22-5dd625a900cb.png)'
  prefs: []
  type: TYPE_IMG
- en: 'With the Tree selected, we turn our focus to the Tree window in the Inspector
    panel. The following diagram indicates the various buttons that we will be using
    to continue creating our tree:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/98c77f80-3a3f-4709-8ce6-d903f1bd647d.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Select the Branch Group icon in the Tree window. Next, click the Add Branch
    Group button. You will see a branch has been added to the main Branch, which serves
    as a tree trunk. As you can see here, there is a Length setting that you can adjust
    in the Inspector panel:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/11ff8296-2b41-40b2-83cc-98bde0c92aea.png)'
  prefs: []
  type: TYPE_IMG
- en: 'There are three additional tools that can help you make unique trees. The buttons,
    illustrated as follows, are Move Branch, Rotate Branch, and Free Hand:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3d04b364-a564-4807-8839-6df5f57ec173.png)'
  prefs: []
  type: TYPE_IMG
- en: Continue to create branches on your tree trunk until it looks the way you want
    it to. Remember, you can individually move, resize, and rotate branches. You can
    also add branches to branches. When you add a new branch, it is added to the currently
    selected branch.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When you first create a new branch, it is best to change the size before moving
    it. Once you relocate the branch, you might lose the ability to make certain adjustments.
  prefs: []
  type: TYPE_NORMAL
- en: 'When you are done adding and configuring branches, your tree will look quite
    unique. An example is provided in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/06dd9c4f-9f49-4fc1-8cda-98f9bde3c028.png)'
  prefs: []
  type: TYPE_IMG
- en: 'As you can see, there is one tree trunk and several branches. We can see, in
    the Tree window, the hierarchy of branches:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/0a0ff693-5aa8-4c90-96c4-44723443b422.png)'
  prefs: []
  type: TYPE_IMG
- en: Your next step is to add leaves to your tree.
  prefs: []
  type: TYPE_NORMAL
- en: Click on the branch you want to apply leaves to and click the Add Leaf Group
    button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the Distribution section of the Inspector panel, change the Frequency to
    select how many leaves you want on that branch. This image shows the Frequency
    slider interface:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/edbae2c2-1f0d-4110-871b-b17edfbc35d0.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Continue adding leaves to the branches until you have your desired look. When
    you are done, your tree will look like it has paper for leaves:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e8b9484d-15fe-4e1f-9542-494d301575f2.png)'
  prefs: []
  type: TYPE_IMG
- en: 'As you can see, there is one tree trunk with several branches and leaf groups.
    We can see this in the Tree window:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/418ac1cd-ebe3-48d8-bc47-be82f5c171bc.png)'
  prefs: []
  type: TYPE_IMG
- en: The next step would be to apply materials to the branches and leaves. Since
    we do not have any of those materials in our game project yet, we will leave the
    tree as it is. Learning how to create unique trees can contribute to unique gaming
    environments. There are several quality trees available from Unity Technologies,
    as well as other content creators. We will explore some of those trees, and actually
    incorporate them into our game, in [Chapter 6](04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml),
    *Creating and Importing 3D Objects for Our Game*.
  prefs: []
  type: TYPE_NORMAL
- en: In the Hierarchy panel, rename the `Tree` to `Tree_Special`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using the transform tools, relocate the tree on dry land. It is not important
    where you put it, as long as it is on dry land and not on a spawn point.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: With `Tree_Special` selected, change the Scale from `1, 1, 1` to `3, 3, 3.`
    That will make our tree more prominent in our game world.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Do not forget to save your Unity project.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we created our game's terrain and made several customizations
    to the terrain based on our design mock-up in [Chapter 3](df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml),
    *Designing the Game*. We used shaping tools, painted the terrain, added water,
    and even created our own tree from scratch. In addition, we created a material
    and imported a texture file.
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 5](101c3b96-a362-4913-925c-f22503f0f8a1.xhtml), *Lights, Cameras,
    and Shadows*, we will explore the different types of lighting and cameras available
    in Unity. We will use lights and cameras in our *Cucumber Beetle* game to achieve
    appropriate light and shadow effects for the game.
  prefs: []
  type: TYPE_NORMAL
