<html><head></head><body>
		<div id="_idContainer359">
			<h1 id="_idParaDest-158"><em class="italic"><a id="_idTextAnchor161"/>Chapter 9</em>: Creating a 2D Shop Interface and In-Game HUD</h1>
			<p>In this chapter, we will be paying attention to our shop interface and how we can improve it visually, as well as its functionality. The current shop works well, but we could make it support multiple screen ratios. We could also introduce Unity's Event system and Button components, as well as a few other new functionalities.</p>
			<p>The other area we will be visiting in this chapter is the in-game <strong class="bold">Heads-Up Display</strong> (<strong class="bold">HUD</strong>). This is fairly common in games where we have the game's information displayed at a particular location on the screen. We will be displaying our player's lives and score and a mini-map to show where our enemies are. This can be seen in the following screenshot:</p>
			<div>
				<div id="_idContainer284" class="IMG---Figure">
					<img src="image/Figure_9.01_B18381.jpg" alt="Figure 9.1 – Our in-game HUD&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.1 – Our in-game HUD</p>
			<p>The other half of this chapter will be about improving the 2D visuals of our shop scene so that there are choices in terms of the upgrades we can buy and so that we can also expand the size of the shop dynamically. Also, your shop scene will support any landscape ratio, unlike what it did previously. The following screenshot shows what our shop looks like in different ratio sizes:</p>
			<div>
				<div id="_idContainer285" class="IMG---Figure">
					<img src="image/Figure_9.02_B18381.jpg" alt="Figure 9.2 – The left side displays all buttons; the right side cuts off the button edges&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.2 – The left side displays all buttons; the right side cuts off the button edges</p>
			<p>In the previous screenshot, notice that the <strong class="bold">3:2</strong> screen ratio cuts off some of the screen (you will especially notice this from each screen's selection grid spacing) compared to our <strong class="bold">1920 x 1080 (16:9)</strong> screen ratio. By the end of this chapter, our shop scene will look like the one shown in the following screenshot, no matter what landscape ratio our game is in:</p>
			<div>
				<div id="_idContainer286" class="IMG---Figure">
					<img src="image/Figure_9.03_B18381.jpg" alt="Figure 9.3 – Our in-game shop with a flexible UI display (no cutoff)&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.3 – Our in-game shop with a flexible UI display (no cutoff)</p>
			<p>In this chapter, we will cover the following topics:</p>
			<ul>
				<li>Setting up our HUD</li>
				<li>Making our <strong class="source-inline">shop</strong> scene support alternative screen ratios</li>
				<li>Applying and modifying our <strong class="source-inline">shop</strong> scripts</li>
			</ul>
			<p>Let's start by reviewing the core exam skills that will be covered in this chapter.</p>
			<h1 id="_idParaDest-159"><a id="_idTextAnchor162"/>Core exam skills covered in this chapter</h1>
			<p>The following are the core exam skills that will be covered in this chapter:</p>
			<ul>
				<li><em class="italic">Working in the art pipeline</em>:<ul><li>Understand materials, textures, and shaders, and write scripts that interact with Unity's rendering API.</li></ul></li>
				<li><em class="italic">Developing application systems</em>:<ul><li>Interpret scripts for application interface flow such as menu systems, UI navigation, and application settings.</li><li>Interpret scripts for user-controlled customization such as character creators, inventories, storefronts, and in-app purchases.</li><li>Analyze scripts for user progression features such as scoring, leveling, and in-game economies utilizing technologies such as Unity Analytics and PlayerPrefs.</li><li>Analyze scripts for 2D overlays, such as HUDs, minimaps, and advertisements.</li><li>Identify scripts for saving and retrieving application and user data.</li></ul></li>
				<li><em class="italic">Programming for scene and environment design</em>:<ul><li>Identify methods for implementing Game Object instantiation, destruction, and management.</li></ul></li>
				<li><em class="italic">Optimizing for performance and platforms</em>:<ul><li>Identify optimizations to address requirements for specific build platforms and/or hardware configurations.</li><li>Determine common UI affordances and optimizations for XR platforms.</li></ul></li>
				<li><em class="italic">Working in professional software development teams</em>:<ul><li>Recognize techniques for structuring scripts for modularity, readability, and reusability.</li></ul></li>
			</ul>
			<h1 id="_idParaDest-160"><a id="_idTextAnchor163"/>Technical requirements</h1>
			<p>The project content for this chapter can be found at <a href="https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/tree/main/Chapter_09">https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/tree/main/Chapter_09</a></p>
			<p>You can download the entirety of each chapter's project files at <a href="https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition">https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition</a>.</p>
			<p>All the content for this chapter is held in this chapter's <strong class="source-inline">unitypackage</strong> file, including a <strong class="source-inline">Complete</strong> folder that holds all of the work we'll carry out in this chapter.</p>
			<p>Check out the following video to see the <em class="italic">Code in Action</em>: <a href="https://bit.ly/3LsxDWC">https://bit.ly/3LsxDWC</a>.</p>
			<h1 id="_idParaDest-161"><a id="_idTextAnchor164"/>Setting up our HUD</h1>
			<p>With side-scrolling <a id="_idIndexMarker849"/>shooter games, it is common for us to have some form of recording of how many lives the player has, what their score is, a time limit, power-ups, and more. We are going to apply a typical HUD to show a similar set of information. Knowing about HUDs is a requirement of the Unity Programmer Exam.</p>
			<p>By the end of this section, we will have created a HUD for our game that will consist of the following:</p>
			<ul>
				<li>Lives</li>
				<li>Mini-map</li>
				<li>Score</li>
			</ul>
			<p>Before we add our HUD, we need to decide where it will sit on top of our game screen. As an example, we will pick a game so that we can briefly study how its HUD information is displayed.</p>
			<p>We will be looking at a<a id="_idIndexMarker850"/> game called <strong class="bold">Super R-Type</strong>, which can be found at <a href="https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/blob/main/Chapter_09/superRtype.jpg">https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/blob/main/Chapter_09/superRtype.jpg</a>. Here, at the bottom of the screen, we can see that its HUD is made up of four parts, as follows:</p>
			<ul>
				<li>Skill level</li>
				<li>Lives</li>
				<li>Power bar</li>
				<li>Score</li>
			</ul>
			<p>Behind these details is a black background so that the scene doesn't interfere when it comes to reading the HUD.</p>
			<p>So, in this section, we'll start by declaring the HUD space and giving it a dark background. To do this, follow these instructions:</p>
			<ol>
				<li>In the Unity Editor, navigate to <strong class="source-inline">Assets/Scene</strong> in the <strong class="bold">Project</strong> window.</li>
				<li>Open the <strong class="source-inline">level1</strong> scene.</li>
				<li>With <strong class="source-inline">level1</strong> loaded, go to the <strong class="bold">Hierarchy</strong> window, right-click on the <strong class="source-inline">Canvas</strong> game object, and select <strong class="bold">UI</strong> | <strong class="bold">Image</strong>.</li>
				<li>A game<a id="_idIndexMarker851"/> object called <strong class="source-inline">Image</strong> will appear in the <strong class="bold">Hierarchy</strong> window as a child of the <strong class="source-inline">Canvas</strong> game object.</li>
			</ol>
			<p>From the previous chapter, we should know that a game object containing an <strong class="bold">Image</strong> component must be a child of <strong class="source-inline">Canvas</strong>.</p>
			<ol>
				<li value="5">Right-click the <strong class="source-inline">Image</strong> game object and select <strong class="bold">Rename</strong> from the dropdown. Name the game object <strong class="source-inline">background</strong>.</li>
			</ol>
			<p>So far, we have created a game object that holds an <strong class="bold">Image</strong> component.</p>
			<p>Now, let's move on and scale this game object into its correct placeplace so that it can be used as a background for our HUD. Follow these steps:</p>
			<ol>
				<li value="1">With our <strong class="source-inline">background</strong> game object still selected, alter the <strong class="bold">Rect Transform</strong> settings in the <strong class="bold">Inspector</strong> window to the following:</li>
			</ol>
			<p class="figure-caption">t</p>
			<div>
				<div id="_idContainer287" class="IMG---Figure">
					<img src="image/Figure_9.04_B18381.jpg" alt="Figure 9.4 – background Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.4 – background Rect Transform property settings</p>
			<p>Our <strong class="source-inline">background</strong> game <a id="_idIndexMarker852"/>object should be scaled to the same proportions and centered as a white bar at the bottom of the screen, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer288" class="IMG---Figure">
					<img src="image/Figure_9.05_B18381.jpg" alt="Figure 9.5 – Game window showing the placement of our background game object&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.5 – Game window showing the placement of our background game object</p>
			<p>Now, let's darken this <strong class="source-inline">background</strong> game object so that it blends in with our game.</p>
			<ol>
				<li value="2">With the <strong class="source-inline">background</strong> game object still selected, in the <strong class="bold">Inspector</strong> window, click the <strong class="bold">Color</strong> field and change its color settings to <strong class="bold">R</strong>: <strong class="source-inline">12</strong>, <strong class="bold">G</strong>: <strong class="source-inline">13</strong>, <strong class="bold">B</strong>: <strong class="source-inline">13</strong>, <strong class="bold">A</strong>: <strong class="source-inline">210</strong>, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer289" class="IMG---Figure">
					<img src="image/Figure_9.06_B18381.jpg" alt="Figure 9.6 – background color and alpha values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.6 – background color and alpha values</p>
			<p>The <strong class="source-inline">background</strong> game<a id="_idIndexMarker853"/> object has changed color from its default white to a dark, slightly transparent color. </p>
			<p>The area for our HUD has been set. The following subsections will go through each segment of our HUD and explain how to create the following:</p>
			<ul>
				<li><strong class="bold">Display lives</strong>: We'll be adding <strong class="bold">Image</strong> components at the bottom left of the HUD for every life our player has from the <strong class="source-inline">GameManager</strong> script. Each life will be grouped neatly.</li>
				<li><strong class="bold">Display score</strong>: The script already keeps track of the player's score, so all we need to do is use a <strong class="bold">Text</strong> component to keep the information up to date.</li>
				<li><strong class="bold">Mini-map</strong>: The mini-map will work visually similar to a radar, where the player will be able to see the wave of enemy opponents approaching them. This mini-map will be made using a second camera at a wider angle and will only display colored dots instead of the actual ships themselves. </li>
			</ul>
			<p>Now, we can <a id="_idIndexMarker854"/>begin filling the HUD with data that we have already made in our script, starting with the player's lives. </p>
			<h2 id="_idParaDest-162"><a id="_idTextAnchor165"/>Displaying the player's lives</h2>
			<p>The player <a id="_idIndexMarker855"/>starts the game with three lives. The<a id="_idIndexMarker856"/> two typical ways of displaying the number of lives to the player are by displaying a number count or showing a little icon for each life they have. Let's go for the latter as we can use a couple of Unity components we haven't used before.</p>
			<p>This section will also include some extra code that will be put into our <strong class="source-inline">GameManager</strong> script. This code will run a check to see how many lives the player has. With each life that's found, a game object will be created that holds an image.</p>
			<h3>Adding a Horizontal Layout Group component to our game object</h3>
			<p>All<a id="_idIndexMarker857"/> game <a id="_idIndexMarker858"/>object<a id="_idIndexMarker859"/> lives that will be created will be stored in a game object called <strong class="source-inline">lives</strong>. Let's continue working on the HUD and add the <strong class="source-inline">lives</strong> game object:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, right-click the <strong class="source-inline">Canvas</strong> game object and select <strong class="bold">Create empty</strong> from the drop-down list. A new empty game object will be created.</li>
				<li>Right-click the new game object and select <strong class="bold">Rename</strong> from the drop-down listRename the game object to <strong class="source-inline">lives</strong>.</li>
				<li>Next, position the <strong class="source-inline">lives</strong> game object by adding the <strong class="bold">Rect Transform</strong> properties shown in the following screenshot: </li>
			</ol>
			<div>
				<div id="_idContainer290" class="IMG---Figure">
					<img src="image/Figure_9.07_B18381.jpg" alt="Figure 9.7 – lives Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.7 – lives Rect Transform property settings</p>
			<p>The last <a id="_idIndexMarker860"/>thing<a id="_idIndexMarker861"/> we need to <a id="_idIndexMarker862"/>do to the <strong class="source-inline">lives</strong> game object is to give it a <strong class="bold">Horizontal Layout Group</strong> component. This component will make it so that when we create an image to represent each life the player has, we'll display a spaceship image. </p>
			<p>The <strong class="bold">Horizontal Layout Group</strong> component will put each spaceship image in a stacked order. To add this component, follow these steps:</p>
			<ol>
				<li value="1">With the <strong class="source-inline">lives</strong> game object still selected, click the <strong class="bold">Add Component</strong> button in the <strong class="bold">Inspector</strong> window.</li>
				<li>The <strong class="bold">Add Component</strong> drop-down window will appear. Type <strong class="source-inline">Horizontal Layout Group</strong> until you see it on the list. When you do, select it.</li>
			</ol>
			<p><em class="italic">Figure 9.8</em> shows the <strong class="bold">Horizontal Layout Group</strong> component when it's been added to the <strong class="source-inline">lives</strong> game object. We will need to alter some values of each <strong class="source-inline">life</strong> image so that they aren't too large.</p>
			<ol>
				<li value="3">Change the <strong class="bold">Horizontal Layout Group</strong> property values to the ones shown in the following screenshot (you may need to click the arrow next to <strong class="bold">Padding</strong> to expand its content):</li>
			</ol>
			<div>
				<div id="_idContainer291" class="IMG---Figure">
					<img src="image/Figure_9.08_B18381.jpg" alt="Figure 9.8 – Horizontal Layout Group property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.8 – Horizontal Layout Group property values</p>
			<p>So far, we have created a game object called <strong class="source-inline">lives</strong> that will store and automatically order each player's ship image.</p>
			<p>In the next section, we are going to create a game object that will house each player's ship image. As an example of what's to come in the next two sections, the following <a id="_idIndexMarker863"/>screenshot <a id="_idIndexMarker864"/>demonstrates<a id="_idIndexMarker865"/> our <strong class="source-inline">lives</strong> game object holding each <strong class="source-inline">life</strong> game object:</p>
			<div>
				<div id="_idContainer292" class="IMG---Figure">
					<img src="image/Figure_9.09_B18381.jpg" alt="Figure 9.9 – Three lives spaced and in correct proportion&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.9 – Three lives spaced and in correct proportion</p>
			<p>Now, let's move on to making a game object called <strong class="source-inline">life</strong> that will store a spaceship icon.</p>
			<h3>Creating images to represent our life count</h3>
			<p>In this section, we<a id="_idIndexMarker866"/> are going to create <a id="_idIndexMarker867"/>a game object that will hold an <strong class="bold">Image</strong> component that will be a symbol of the player ship. We will also be sizing it specifically so that it's uniform with the other lives it sits with.</p>
			<p>Let's start by creating a game object that holds an <strong class="bold">Image</strong> component:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, right-click the <strong class="source-inline">Canvas</strong> game object and select <strong class="bold">UI</strong> and then <strong class="bold">Image</strong> from the drop-down list.</li>
				<li>Select the game object, right-click it, and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the newly created game object <strong class="source-inline">life</strong>.</li>
				<li>Add an image and color to the <strong class="bold">Image</strong> component, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer293" class="IMG---Figure">
					<img src="image/Figure_9.10_B18381.jpg" alt="Figure 9.10 – Click the remote button to access which source image is used for the Image component&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.10 – Click the remote button to access which source image is used for the Image component</p>
			<ol>
				<li value="5">To add a source image to the <strong class="source-inline">life</strong> game object, click the <strong class="bold">remote</strong> button to the side of <strong class="bold">Source Image</strong> (denoted by an arrow in the previous screenshot).</li>
				<li>In the drop-down list, start typing <strong class="source-inline">life</strong> until you see it appear, and then click it.</li>
			</ol>
			<p>Our ship icon should look like the one shown in the following screenshot. If it doesn't, it may have a <strong class="bold">Default</strong> texture type and will need to be changed to a <strong class="bold">Sprite</strong>. We covered how to change this in <a href="B18381_05_Epub.xhtml#_idTextAnchor107"><em class="italic">Chapter 5</em></a>, <em class="italic">Creating a Shop Scene for Our Game</em>:</p>
			<div>
				<div id="_idContainer294" class="IMG---Figure">
					<img src="image/Figure_9.11_B18381.jpg" alt="Figure 9.11 – Our ship sprite life&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.11 – Our ship sprite life</p>
			<p>I'm going<a id="_idIndexMarker868"/> to change the color <a id="_idIndexMarker869"/>of the icon slightly as it's possibly a bit too distracting for the player.</p>
			<ol>
				<li value="7">With the <strong class="source-inline">life</strong> game object still selected, click the <strong class="bold">Color</strong> field, and change the color settings to an aqua gray (<strong class="bold">R</strong>: <strong class="source-inline">153</strong>, <strong class="bold">G</strong>: <strong class="source-inline">177</strong>, <strong class="bold">B</strong>: <strong class="source-inline">177</strong>, <strong class="bold">A</strong>: <strong class="source-inline">255</strong>).</li>
				<li>Make sure to tick the <strong class="bold">Preserve Aspect</strong> box in the <strong class="bold">Image</strong> component so our life doesn't lose its proportions.</li>
			</ol>
			<p>That's our <strong class="source-inline">life</strong> game object created. The final thing we need to do to it is to turn it into a prefab. As a reminder, the benefits of a prefab are that we have a game object with its components, preferences, and settings all stored. The prefab will allow us to create as many clones as required.</p>
			<p>To turn this <strong class="source-inline">life</strong> game object into a prefab, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, navigate to <strong class="source-inline">Assets/Resources</strong>.</li>
				<li>Click and drag the <strong class="source-inline">life</strong> game object from the <strong class="bold">Hierarchy</strong> window into the <strong class="source-inline">Prefab</strong> folder. That's our prefab created.</li>
			</ol>
			<p>We can now delete the <strong class="source-inline">life</strong> game object in the <strong class="bold">Hierarchy</strong> window as we will be creating this <a id="_idIndexMarker870"/>game object with <a id="_idIndexMarker871"/>code in the next section.</p>
			<h3>Coding our UI life counter</h3>
			<p>In this <a id="_idIndexMarker872"/>section, we are going to revisit the <strong class="source-inline">GameManager</strong> script, taking<a id="_idIndexMarker873"/> the information about the player's life count and displaying it in the form of our UI system.</p>
			<p>The following screenshot shows a section of the <strong class="bold">Hierarchy</strong> window that holds the <strong class="source-inline">level1</strong> scene's <strong class="source-inline">Canvas</strong> game object. Within <strong class="source-inline">Canvas</strong> is the HUD <strong class="source-inline">background</strong> game object at the top, followed by the <strong class="source-inline">lives</strong> game object. Finally, with our code (which we will write shortly), we have created three <strong class="source-inline">life</strong> game objects within our <strong class="source-inline">lives</strong> game object:</p>
			<div>
				<div id="_idContainer295" class="IMG---Figure">
					<img src="image/Figure_9.12_B18381.jpg" alt="Figure 9.12 – Our Hierarchy containing a lives game object and its life children&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.12 – Our Hierarchy containing a lives game object and its life children</p>
			<p>To instantiate the <strong class="source-inline">life</strong> game objects so that they show the same amount as our player's lives, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, navigate to the <strong class="source-inline">Assets/Script</strong> folder.</li>
				<li>Double-click the file to open <strong class="source-inline">GameManager</strong>.</li>
			</ol>
			<p>The <strong class="source-inline">GameManager</strong> script already has an <strong class="source-inline">Awake()</strong> function, which is the first thing the script tries to activate once the script becomes active. What we don't currently have is a <strong class="source-inline">Start()</strong> function that gets called after <strong class="source-inline">Awake()</strong>.</p>
			<p>We can create a <strong class="source-inline">Start()</strong> function in <strong class="source-inline">GameManager</strong> and make it call a method that we are going to make shortly, called <strong class="source-inline">SetLivesDisplay</strong>, and send it our <strong class="source-inline">playerLives</strong> variable, which is the count of the player's lives.</p>
			<p>Like any function, we can place it anywhere within the class, as long as it's not inside another method/function. I typically keep my <strong class="source-inline">Awake()</strong> and <strong class="source-inline">Start()</strong> functions near the top of the <strong class="source-inline">GameManager</strong> class. To call the custom method in the <strong class="source-inline">Start()</strong> function, do the following.</p>
			<ol>
				<li value="3">Enter<a id="_idIndexMarker874"/> the<a id="_idIndexMarker875"/> following code in the <strong class="source-inline">GameManager</strong> script:<p class="source-code">   void Start()</p><p class="source-code">   {</p><p class="source-code">     SetLivesDisplay(playerLives);</p><p class="source-code">   }</p></li>
			</ol>
			<p>Now, we'll fill in the content for the <strong class="source-inline">SetLivesDisplay</strong> method.</p>
			<p>I have put my <strong class="source-inline">SetLivesDisplay</strong> near the bottom of the <strong class="source-inline">GameManager</strong> script, but like the <strong class="source-inline">Start</strong> and <strong class="source-inline">Awake</strong> functions, you can put them wherever you wish in the <strong class="source-inline">GameManager</strong> script.</p>
			<ol>
				<li value="4">Enter the following code:<p class="source-code">public void SetLivesDisplay(int players)</p><p class="source-code">    {</p></li>
			</ol>
			<p>This method is set to <strong class="source-inline">public</strong> because our <strong class="source-inline">ScenesManager</strong> script will need to access it to load whatever level the player is on. We have our <strong class="source-inline">SetLivesDisplay</strong> method set to <strong class="source-inline">void</strong> as we aren't returning anything while in the method. As I mentioned previously, we take in the <strong class="source-inline">playerLives</strong> integer but we will refer to it as <strong class="source-inline">players</strong> while in the method.</p>
			<p>Let's continue by adding some code inside the <strong class="source-inline">SetLivesDisplay</strong> method. This is where we will be checking, adding, and visually removing lives if the player dies.</p>
			<ol>
				<li value="5">Enter the following code inside the <strong class="source-inline">SetLivesDisplay</strong> method:<p class="source-code">if (GameObject.Find("lives"))</p><p class="source-code">    {</p><p class="source-code">      GameObject lives = GameObject.Find("lives");</p><p class="source-code">      if (lives.transform.childCount &lt; 1)</p><p class="source-code">      {</p><p class="source-code">        for (int i = 0; i &lt; 5; i++)</p><p class="source-code">        {</p><p class="source-code">          GameObject life = GameObject.Instantiate(Resources</p><p class="source-code">            .Load ("life")) as GameObject;</p><p class="source-code">          life.transform.SetParent(lives.transform);</p><p class="source-code">        } </p><p class="source-code">      }</p></li>
			</ol>
			<p>In <a id="_idIndexMarker876"/>the <a id="_idIndexMarker877"/>previous code, we ran a check to find a game object called <strong class="source-inline">lives</strong>. If we find the game object, we store its reference in a game object called <strong class="source-inline">lives</strong>. We then ran a check to see <strong class="source-inline">if</strong> our <strong class="source-inline">lives</strong> game object is holding any game objects. If <strong class="source-inline">lives</strong> isn't holding any game objects, we are assuming this is the beginning of the level and that we need to create some lives. Inside the <strong class="source-inline">if</strong> statement, we ran a <strong class="source-inline">for</strong> loop with a limit of <strong class="source-inline">5</strong> counts. Inside this <strong class="source-inline">for</strong> loop, we <strong class="source-inline">instantiate</strong> our <strong class="source-inline">life</strong> prefab and let it sit inside the <strong class="source-inline">lives</strong> game object.</p>
			<ol>
				<li value="6">Continue writing inside the <strong class="source-inline">SetLivesDisplay</strong> method, which is where we manage the count of each <strong class="source-inline">life</strong> prefab, and make it show the actual amount <a id="_idIndexMarker878"/>of<a id="_idIndexMarker879"/> lives the player has:<p class="source-code">      //set visual lives</p><p class="source-code">      for (int i = 0; i &lt; lives.transform.childCount; i++)</p><p class="source-code">      {</p><p class="source-code">        lives.transform.GetChild(i).localScale = new Vector3(1,1,1);</p><p class="source-code">      }</p><p class="source-code">      //remove visual lives</p><p class="source-code">      for (int i = 0; i &lt; (lives.transform.childCount - players); i++)</p><p class="source-code">      {</p><p class="source-code">        lives.transform.GetChild(lives.transform.childCount - i</p><p class="source-code">            -1).localScale = Vector3.zero;</p><p class="source-code">      }</p><p class="source-code">    }</p><p class="source-code">  }</p></li>
			</ol>
			<p>There are two main parts to the code we just wrote. The first <strong class="source-inline">for</strong> loop is set by the count of how many game objects sit under the <strong class="source-inline">lives</strong> game object. Each game object under <strong class="source-inline">lives</strong> gets scaled to <strong class="source-inline">1</strong>.</p>
			<p>The second <strong class="source-inline">for</strong> loop takes the count of game objects under <strong class="source-inline">lives</strong> and subtracts it against the player's <strong class="source-inline">int</strong> variable that is brought into the parameters of this method. Inside this second <strong class="source-inline">for</strong> loop – depending on how big the player's <strong class="source-inline">int</strong> variable is – each <strong class="source-inline">life</strong> prefab is shrunk to 0. Scaling the <strong class="source-inline">life</strong> prefab to 0 doesn't affect the <strong class="bold">Horizontal Layout Group</strong> spacing, allowing the <strong class="source-inline">lives</strong> counter to not fluctuate based on the number of lives shown.</p>
			<ol>
				<li value="7">Save the script.</li>
			</ol>
			<p><strong class="source-inline">GameManager</strong> is now capable of creating a life meter at the bottom of the <strong class="source-inline">level1</strong> scene. We now need to add some functionality so that <strong class="source-inline">ScenesManager</strong> loads the number of lives when the level is loaded.</p>
			<p>To get the <strong class="source-inline">ScenesManager</strong> script to load the player's lives when a level starts or when the player dies, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, navigate to the <strong class="source-inline">ScenesManager</strong> script, <strong class="source-inline">Assets/Script</strong>.</li>
				<li>Double-click <a id="_idIndexMarker880"/>the <strong class="source-inline">ScenesManager</strong> script <a id="_idIndexMarker881"/>to be able to start coding.</li>
				<li>In the <strong class="source-inline">ScenesManager</strong> script, we will add a <strong class="source-inline">Start()</strong> function that will contain a known Unity delegate, <strong class="source-inline">sceneLoaded</strong>, which is called from Unity's own <strong class="source-inline">SceneManager</strong>. This delegate will subscribe to when our game scene changes. For more information about the <strong class="source-inline">sceneLoaded</strong> delegate, go to <a href="https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager-sceneLoaded.html">https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager-sceneLoaded.html</a>.</li>
				<li>Within the <strong class="source-inline">ScenesManager</strong> script, enter the <strong class="source-inline">Start</strong> function, along with the name of the function we are hooking into the delegate:<p class="source-code">  void Start()</p><p class="source-code">   {</p><p class="source-code">       SceneManager.sceneLoaded += OnSceneLoaded;</p><p class="source-code">   }</p></li>
			</ol>
			<p>Still in the <strong class="source-inline">ScenesManager</strong> script, we will add the Unity-recognized function, which will automatically take <strong class="source-inline">Scene</strong> and <strong class="source-inline">LoadSceneMode</strong> types, even if we aren't going to do anything with them.</p>
			<p>Inside the function, we are calling the <strong class="source-inline">GameManager</strong> script's <strong class="source-inline">SetLivesDisplay</strong>, along with the number of lives the player has.</p>
			<ol>
				<li value="5">Enter the following code we just discussed inside <strong class="source-inline">ScenesManager</strong>:<p class="source-code">private void OnSceneLoaded(Scene aScene, LoadSceneMode aMode)</p><p class="source-code">{</p><p class="source-code">    GetComponent&lt;GameManager&gt;().SetLivesDisplay(GameManager.playerLives); </p><p class="source-code">}</p></li>
				<li>Save the script.</li>
			</ol>
			<p>Let's<a id="_idIndexMarker882"/> check <a id="_idIndexMarker883"/>what we have made:</p>
			<ol>
				<li value="1">Go back into the Unity Editor while still being in the scene we are working on (<strong class="source-inline">level1</strong>).</li>
				<li>Press <strong class="bold">Play</strong> – three lives should be displayed. If the player dies, the life count will drop to two.</li>
			</ol>
			<p>The following screenshot shows the game being played, alongside the player's lives in the bottom left:</p>
			<div>
				<div id="_idContainer296" class="IMG---Figure">
					<img src="image/Figure_9.13_B18381.jpg" alt="Figure 9.13 – Screenshot of our game currently with its lives counter&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.13 – Screenshot of our game currently with its lives counter</p>
			<p>In this section, we have hooked up the player's lives so that they can be displayed in the bottom-left corner of the HUD. We have applied components such as <strong class="bold">Horizontal Layout Group</strong> and <strong class="bold">Layout Element</strong> to set the player's lives images in uniform order and size. We <a id="_idIndexMarker884"/>also made the code apply and update the <a id="_idIndexMarker885"/>player's lives whenever the scene loads up.</p>
			<p>Next, we will focus on the other side of the HUD and display the player's score.</p>
			<h2 id="_idParaDest-163"><a id="_idTextAnchor166"/>Displaying the player's score</h2>
			<p>In this<a id="_idIndexMarker886"/> section, we will be applying the <a id="_idIndexMarker887"/>player's score on the right-hand side of the HUD, which we are currently filling up with information about the player.</p>
			<p>We will continue to work in the <strong class="source-inline">Canvas</strong> game object and add another game object called <strong class="source-inline">score</strong>. Here, we will add a <strong class="bold">Text</strong> component and update a small section of the <strong class="source-inline">ScenesManager</strong> code to load the score display. Let's get started:</p>
			<ol>
				<li value="1">While still in the <strong class="source-inline">level1</strong> scene, right-click the <strong class="source-inline">Canvas</strong> game object in the <strong class="bold">Hierarchy</strong> window.</li>
				<li>From the drop-down list, select <strong class="bold">UI</strong> | <strong class="bold">Text</strong>.</li>
				<li>Right-click the new <strong class="source-inline">Text</strong> game object and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the game object <strong class="source-inline">score</strong>.</li>
			</ol>
			<p>With the <strong class="source-inline">score</strong> game object renamed and located inside the <strong class="source-inline">Canvas</strong> game object, the next thing we need to do is to size and move the <strong class="source-inline">score</strong> game object into position.</p>
			<ol>
				<li value="5">With the <strong class="source-inline">score</strong> game object still selected, alter its <strong class="bold">Rect Transform</strong> properties in the <strong class="bold">Inspector</strong> window so that they look like the ones shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer297" class="IMG---Figure">
					<img src="image/Figure_9.14_B18381.jpg" alt="Figure 9.14 – score Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.14 – score Rect Transform property settings</p>
			<p>With the <strong class="source-inline">score</strong> game object in the correct position and scale, we can now customize its <strong class="bold">Text</strong> component settings.</p>
			<p>With the <strong class="source-inline">score</strong> game<a id="_idIndexMarker888"/> object still selected, make<a id="_idIndexMarker889"/> the following changes to its <strong class="bold">Text</strong> component in the <strong class="bold">Inspector</strong> window:</p>
			<ol>
				<li value="1">Change the <strong class="bold">Text</strong> field from <strong class="bold">New Text</strong> to <strong class="source-inline">00000000</strong>. The number of zeros in the <strong class="bold">Text</strong> field will help us specify the size of the board.</li>
				<li>As shown in the following screenshot, we have selected the same custom text we used for the game's level scene titles. Click the <strong class="bold">remote</strong> button to the right of the <strong class="bold">Font</strong> field and select <strong class="bold">ethnocentric rg it</strong> from the drop-down list.</li>
				<li>Set the <strong class="bold">Alignment</strong> buttons to <strong class="bold">Align Right</strong> and <strong class="bold">Middle Center</strong>. This will position the text and minimize any space on its right-hand side.</li>
				<li>Have <strong class="bold">Best Fit</strong> ticked so that our <strong class="source-inline">score</strong> text font size will set itself.</li>
				<li>Change the <strong class="bold">Best</strong> <strong class="bold">Fit</strong> properties to the following: <strong class="bold">Min Size</strong> to <strong class="source-inline">0</strong> and <strong class="bold">Max Size</strong> to <strong class="source-inline">60</strong>. This will set the limits for the <strong class="bold">Best Fit</strong> text.</li>
			</ol>
			<p>The last property to change is the <strong class="bold">Color</strong> property of the text. We will set this to the same color as our player's lives.</p>
			<ol>
				<li value="6">Click the <strong class="bold">Color</strong> field property and change its RGBA values to <strong class="bold">R</strong>: <strong class="source-inline">153</strong>, <strong class="bold">G</strong>: <strong class="source-inline">177</strong>, <strong class="bold">B</strong>: <strong class="source-inline">178</strong>, <strong class="bold">A</strong>: <strong class="source-inline">255</strong>.</li>
			</ol>
			<p>The following <a id="_idIndexMarker890"/>screenshot <a id="_idIndexMarker891"/>shows what our <strong class="bold">Text</strong> component properties have been set to:</p>
			<div>
				<div id="_idContainer298" class="IMG---Figure">
					<img src="image/Figure_9.15_B18381.jpg" alt="Figure 9.15 – score Text Component property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.15 – score Text Component property settings</p>
			<p>If we check the <strong class="bold">Game</strong> window, we should see that the score in the right-hand corner is a good size, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer299" class="IMG---Figure">
					<img src="image/Figure_9.16_B18381.jpg" alt="Figure 9.16 – Our In-Game HUD now holding the score&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.16 – Our In-Game HUD now holding the score</p>
			<p>The final phase for our <strong class="source-inline">score</strong> game object is to update our <strong class="source-inline">ScenesManager</strong> script by adding an <strong class="source-inline">if</strong> statement to check whether the <strong class="source-inline">score</strong> game object is in the scene.</p>
			<p>To update the <strong class="source-inline">ScenesManager</strong> script so that it supports our new score game object, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, navigate to the <strong class="source-inline">Assets</strong> folder.</li>
				<li>Double-click the <strong class="source-inline">ScenesManager</strong> script and scroll down to where we entered the <strong class="source-inline">OnSceneLoaded</strong> function.</li>
				<li>Inside the <strong class="source-inline">OnSceneLoaded</strong> function, enter the following code:<p class="source-code"> if (GameObject.Find("score"))</p><p class="source-code"> {</p><p class="source-code"> GameObject.Find("score").GetComponent&lt;Text&gt;().text =</p><p class="source-code">    GetComponent&lt;ScoreManager&gt;().PlayersScore.ToString();</p><p class="source-code"> } </p></li>
			</ol>
			<p>As <a id="_idIndexMarker892"/>briefly<a id="_idIndexMarker893"/> mentioned in the newly added piece of code, we are checking whether the <strong class="source-inline">score</strong> game object is in the scene. If <strong class="source-inline">score</strong> is present in the scene, then we grab its <strong class="source-inline">Text</strong> component and apply the player's score integer to it from the <strong class="source-inline">ScoreManager</strong> script. Also make sure you have the <strong class="source-inline">using UnityEngine.UI</strong> at the top of the script to access the <strong class="source-inline">Text</strong> component.</p>
			<ol>
				<li value="4">Save the script.</li>
			</ol>
			<p>Speaking of the <strong class="source-inline">ScoreManager</strong> script, we need to load this script back up so that its <strong class="source-inline">ResetMethod</strong> resets the <strong class="source-inline">score</strong> UI at the start/end of each game. Follow these steps to do so:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, navigate to the <strong class="source-inline">ScoreManager</strong> script located in <strong class="source-inline">Assets/Script</strong> and open the file.</li>
			</ol>
			<p>Inside the script, we need to bring in the <strong class="source-inline">UnityEngine.UI</strong> library so that we can make changes to our game's visual score.</p>
			<ol>
				<li value="2">At the very top of the <strong class="source-inline">ScoreManager</strong> script, enter the following code:<p class="source-code"><strong class="bold">using UnityEngine.UI;</strong></p></li>
				<li>Within the <strong class="source-inline">ResetScore</strong> method, add an <strong class="source-inline">if</strong> statement that checks that the <strong class="source-inline">score</strong> UI game object is in the scene and updates. The following code shows the complete <strong class="source-inline">ResetScore</strong> method in the <strong class="source-inline">ScoreManager</strong> script:<p class="source-code">public void ResetScore()</p><p class="source-code"> {</p><p class="source-code">     playerScore = 00000000;</p><p class="source-code">     UpdateScore();</p><p class="source-code"> }</p></li>
				<li>We also need to apply <a id="_idIndexMarker894"/>the <strong class="source-inline">UpdateScore</strong> <a id="_idIndexMarker895"/>method to our <strong class="source-inline">SetScore</strong> function. Go ahead and apply it as shown in the following code:<p class="source-code">public void SetScore(int incomingScore)</p><p class="source-code">{</p><p class="source-code">         playerScore += incomingScore; </p><p class="source-code">         </p><p class="source-code">         UpdateScore();</p><p class="source-code">}</p></li>
				<li>We now need to move our <strong class="source-inline">UpdateScore</strong> method within the <strong class="source-inline">ScoreManager</strong> script. To do that, add the following new method to update our score whenever it is set or reset:<p class="source-code">void UpdateScore()</p><p class="source-code">{</p><p class="source-code">if (GameObject.Find("score"))</p><p class="source-code">        {     GameObject.Find("score").GetComponent&lt;Text&gt;().text = playerScore.ToString();</p><p class="source-code">        }</p><p class="source-code">}</p></li>
				<li>Save the script. </li>
				<li>Go back into the Unity Editor and click the <strong class="bold">Play</strong> button to play <strong class="source-inline">level1</strong>.</li>
			</ol>
			<p>Our <strong class="source-inline">score</strong> game object will now update when we destroy the enemies, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer300" class="IMG---Figure">
					<img src="image/Figure_9.17_B18381.jpg" alt="Figure 9.17 – Screen of our game with the score totaling up&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.17 – Screen of our game with the score totaling up</p>
			<p>In this section, we took the existing <strong class="source-inline">ScoreManager</strong> code that was originally displaying the player's score and made it into a <strong class="bold">Console</strong> window in the Editor. Now, it sends the <strong class="source-inline">score</strong> variable to the new HUD score in the <strong class="source-inline">level1</strong> scene, which will update when an <a id="_idIndexMarker896"/>enemy<a id="_idIndexMarker897"/> is destroyed.</p>
			<p>The final piece we need to create for the HUD is the mini-map, which will give us a visual of the enemies in our level.</p>
			<h2 id="_idParaDest-164"><a id="_idTextAnchor167"/>Creating a mini-map</h2>
			<p>In this<a id="_idIndexMarker898"/> section, we<a id="_idIndexMarker899"/> are going to fit a mini-map inside the HUD display to show a larger scope of the level. This will display the player, along with the enemies nearby, in a radar style. The following screenshot shows a radar in the middle of the HUD that represents the player, along with the enemies around them and other enemies that are due to enter the player's screen:</p>
			<div>
				<div id="_idContainer301" class="IMG---Figure">
					<img src="image/Figure_9.18_B18381.jpg" alt="Figure 9.18 – Screenshot of our game displaying a mini-map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.18 – Screenshot of our game displaying a mini-map</p>
			<p>We will break down the mini-map into three sections:</p>
			<ul>
				<li><strong class="bold">Radar Camera</strong>: The second camera in the scene.</li>
				<li><strong class="bold">Layers</strong>: This makes the second camera recognize only a particular set of game objects.</li>
				<li><strong class="bold">Render Texture</strong>: This displays the final results in an animated image on the HUD.</li>
			</ul>
			<p>Let's start<a id="_idIndexMarker900"/> by<a id="_idIndexMarker901"/> creating an extra layer so that we can expose certain game objects to our radar camera.</p>
			<h3>Creating and adding layers to our player and enemy game objects</h3>
			<p>In this <a id="_idIndexMarker902"/>section, we will <a id="_idIndexMarker903"/>add an extra game object to our player and enemy game objects so that our second camera will only see the attached sprites. These will look like blips on a radar.</p>
			<p>To add our radar blips to the game objects, do the following:</p>
			<ol>
				<li value="1">At the top right of the Unity Editor, click the <strong class="bold">Layers</strong> button, followed by <strong class="bold">Edit Layers...</strong>, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer302" class="IMG---Figure">
					<img src="image/Figure_9.19_B18381.jpg" alt="Figure 9.19 – Edit Layers… will allow us to add another layer to our game&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.19 – Edit Layers… will allow us to add another layer to our game</p>
			<ol>
				<li value="2">The <strong class="bold">Inspector</strong> window will change and show the <strong class="bold">Tags &amp; Layers</strong> properties. From here, we can click to expand the <strong class="bold">Layers</strong> tab.</li>
				<li>Click <a id="_idIndexMarker904"/>on<a id="_idIndexMarker905"/> one of the available layers near the top and enter <strong class="source-inline">Radar</strong>, as shown in the following screenshot:<div id="_idContainer303" class="IMG---Figure"><img src="image/Figure_9.20_B18381.jpg" alt="Figure 9.20 – Expanding our Layers list and adding a new layer&#13;&#10;"/></div></li>
			</ol>
			<p class="figure-caption"> </p>
			<p class="figure-caption">Figure 9.20 – Expanding our Layers list and adding a new layer</p>
			<p>Now, we can add a radar point to the player and enemies. Let's make a start by bringing the player into the scene and updating its prefab so that it will be recognized by the radar camera. To do this, follow these instructions:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, navigate to the <strong class="source-inline">Assets/Prefab/Player</strong> folder.</li>
				<li>Drag and drop <strong class="source-inline">player_ship</strong> into the <strong class="bold">Hierarchy</strong> window at the bottom, in an open space.</li>
				<li>In the <strong class="bold">Hierarchy</strong> window, right-click <strong class="source-inline">player_ship</strong>, select <strong class="bold">Create Empty</strong>.</li>
				<li>Right-click<a id="_idIndexMarker906"/> the game <a id="_idIndexMarker907"/>object and select <strong class="bold">Rename</strong> from the dropdown.</li>
				<li>Rename the game object to <strong class="source-inline">radarPoint</strong>.</li>
				<li>With <strong class="source-inline">radarPoint</strong> still selected, click the <strong class="bold">Add Component</strong> button in the <strong class="bold">Inspector </strong>window.  Start typing <strong class="source-inline">Sprite Renderer</strong> until it appears in the component drop down. Next,click its layer on top of the <strong class="bold">Inspector</strong> window and select <strong class="bold">Radar</strong> from the drop-down list, as shown in the following screenshot. We can also set our <strong class="bold">Transform</strong> property to match the ones in the following image:</li>
			</ol>
			<div>
				<div id="_idContainer304" class="IMG---Figure">
					<img src="image/Figure_9.21_B18381.jpg" alt="Figure 9.21 – radarPoint game object with its Radar layer&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.21 – radarPoint game object with its Radar layer</p>
			<p>With the <strong class="bold">Transform</strong> properties set, we can now drop the radar dot sprite into the <strong class="bold">Sprite</strong> field and change its color:</p>
			<ol>
				<li value="1">Click the <strong class="bold">remote</strong> button to the right of the <strong class="bold">Sprite</strong> field in the <strong class="bold">Sprite Renderer</strong> component.</li>
				<li>Start typing <strong class="source-inline">knob</strong> in the drop-down list until you can see it and select it, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer305" class="IMG---Figure">
					<img src="image/Figure_9.22_B18381.jpg" alt="Figure 9.22 – Accessing and selecting the default knob sprite&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.22 – Accessing and selecting the default knob sprite</p>
			<ol>
				<li value="3">We <a id="_idIndexMarker908"/>can <a id="_idIndexMarker909"/>now change the color of the sprite by clicking the <strong class="bold">Sprite Renderer</strong> <strong class="bold">Color</strong> field and giving it the following color properties: <strong class="bold">R</strong>: <strong class="source-inline">0</strong>, <strong class="bold">G</strong>: <strong class="source-inline">245</strong>, <strong class="bold">B</strong>: <strong class="source-inline">255</strong>, <strong class="bold">A</strong>: <strong class="source-inline">255</strong>.</li>
				<li>Select <strong class="source-inline">player_ship</strong> in the <strong class="bold">Hierarchy</strong> window and click the <strong class="bold">Overrides</strong> button near the <strong class="bold">Inspector</strong> window followed by <strong class="bold">Apply All</strong> to update the <strong class="source-inline">player_ship</strong> game object's prefab settings.</li>
				<li>Select the <strong class="source-inline">player_ship</strong> game object in the <strong class="bold">Hierarchy</strong> window and press <em class="italic">Delete</em> on your keyboard.</li>
			</ol>
			<p>We have now set the player ship so that it's ready to be detected by the radar camera.</p>
			<p>The next thing to do is repeat the same methodology for the enemies, which are located in <strong class="source-inline">Assets/Prefab/Enemies</strong>.</p>
			<ol>
				<li value="6">Without going through the same instructions, the following screenshot shows our enemies' <strong class="source-inline">radarPoint</strong> game object with a bright red color value (<strong class="bold">R</strong>: <strong class="source-inline">255</strong>, <strong class="bold">G</strong>: <strong class="source-inline">0</strong>, <strong class="bold">B</strong>: <strong class="source-inline">0</strong>, <strong class="bold">A</strong>: <strong class="source-inline">0</strong>). If <a id="_idIndexMarker910"/>you get stuck, just follow the same steps as for the player <a id="_idIndexMarker911"/>ship's <strong class="source-inline">radarPoint</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer306" class="IMG---Figure">
					<img src="image/Figure_9.23_B18381.jpg" alt="Figure 9.23 – radarPoint properties setup&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.23 – radarPoint properties setup</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">In the <strong class="bold">Inspector</strong> window, click on <strong class="bold">Overrides | Apply All</strong> once you have finished making changes to your prefab.</p>
			<p>Once we have finished making our changes and applied them to the prefab, we no longer need the <strong class="source-inline">enemy_wave</strong> game object as we have saved its details in the prefab.</p>
			<ol>
				<li value="7">Delete <strong class="source-inline">enemy_wave</strong> from the <strong class="bold">Hierarchy</strong> window.</li>
			</ol>
			<p>We have effectively created a tracker (<strong class="source-inline">radarPoint</strong>) and attached it to the player and enemies for our level.</p>
			<p>The next step is to add a <strong class="bold">Render</strong> <strong class="bold">Texture</strong>, which will work with a second camera in our scene. The feed from the second camera will be fed into a <strong class="bold">Render Texture</strong>. This <strong class="bold">Render Texture</strong> will then be placed at the bottom middle of the screen and display <a id="_idIndexMarker912"/>our <a id="_idIndexMarker913"/>player and enemy location.</p>
			<h3>Adding and customizing our Render Texture </h3>
			<p><strong class="bold">Render Texture</strong> is <a id="_idIndexMarker914"/>typically used to hold moving images<a id="_idIndexMarker915"/> while in <strong class="bold">Play Mode</strong> (at runtime). We are going to use this <strong class="bold">Render Texture</strong> to hold the second camera's feed. This will work like a little TV screen in the center of our HUD.</p>
			<p>To create and customize <strong class="bold">Render Texture</strong>, we will do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window of the Unity Editor, navigate to the <strong class="source-inline">Texture</strong> folder, that is, <strong class="source-inline">Assets/Texture</strong>.</li>
				<li>Right-click in an open space area and from the drop-down list, select <strong class="bold">Create</strong>, then <strong class="bold">Render Texture</strong>, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer307" class="IMG---Figure">
					<img src="image/Figure_9.24_B18381.jpg" alt="Figure 9.24 – Creating a Render Texture&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.24 – Creating a Render Texture</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">If you don't have an open space to right-click, as <em class="italic">step 2</em> suggests, you can change the size of the icons to gain space. </p>
			<p class="callout">Change your icon size with the slider in the bottom-right corner of the <strong class="bold">Project</strong> window.</p>
			<ol>
				<li value="3">Click <a id="_idIndexMarker916"/>the <a id="_idIndexMarker917"/>name of the file slowly twice and rename it <strong class="source-inline">radar</strong>.</li>
				<li>With the <strong class="source-inline">radar</strong> <strong class="bold">Render Texture</strong> selected, we will need to change its size to one that will fit the HUD and, ideally, make it less blurry.</li>
				<li>In the <strong class="bold">Inspector</strong> area, change the <strong class="bold">Size</strong> fields from <strong class="source-inline">256</strong>, <strong class="source-inline">256</strong> to <strong class="source-inline">236</strong>, <strong class="source-inline">46</strong>.</li>
				<li>Change <strong class="bold">Filter Mode</strong> from <strong class="bold">Bilinear</strong> to <strong class="bold">Point</strong>.</li>
			</ol>
			<p>The last part of setting up <strong class="bold">Render Texture</strong> is to place it into the HUD. Follow these steps:</p>
			<ol>
				<li value="1">Still in the <strong class="source-inline">level1</strong> scene, right-click the <strong class="source-inline">Canvas</strong> game object in the <strong class="bold">Hierarchy</strong> window and select <strong class="bold">Create Empty</strong>.</li>
				<li>Select the new <a id="_idIndexMarker918"/>empty <a id="_idIndexMarker919"/>game object in the <strong class="bold">Hierarchy</strong> window, right-click it, and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the game object <strong class="source-inline">radar</strong>.</li>
			</ol>
			<p>The <strong class="source-inline">radar</strong> game object will work as housing for anything related to the game object.</p>
			<ol>
				<li value="4">This game object will now need to be positioned and sized in the HUD. To do that, change the <strong class="source-inline">radar</strong> game object's <strong class="bold">Rect Transform</strong> properties in the <strong class="bold">Inspector</strong> window to the ones shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer308" class="IMG---Figure">
					<img src="image/Figure_9.25_B18381.jpg" alt="Figure 9.25 – radar Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.25 – radar Rect Transform property settings</p>
			<p>Moving and resizing the <strong class="source-inline">radar</strong> game object will give us a letterbox window for <strong class="bold">Render Texture</strong> to sit inside, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer309" class="IMG---Figure">
					<img src="image/Figure_9.26_B18381.jpg" alt="Figure 9.26 – The placement of our radar game object in the Game window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.26 – The placement of our radar game object in the Game window</p>
			<p>We can now add another game object that will be a child of the <strong class="source-inline">radar</strong> game object we've just made. This game object will store <strong class="bold">Render Texture</strong>:</p>
			<ol>
				<li value="1">Right-click the <strong class="source-inline">radar</strong> game object in the <strong class="bold">Hierarchy</strong> window. From the drop-down list, select <strong class="bold">UI</strong> and then <strong class="bold">Raw Image</strong>.</li>
				<li>Right-click <a id="_idIndexMarker920"/>the <a id="_idIndexMarker921"/>new game object called <strong class="bold">Raw Image</strong>, select <strong class="bold">Rename</strong> from the dropdown, and rename the game object <strong class="source-inline">radarImage</strong>.</li>
				<li>With the <strong class="source-inline">radarImage</strong> game object still selected, change its <strong class="bold">Rect Transform</strong> settings to the ones shown in the <strong class="bold">Inspector</strong> window in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer310" class="IMG---Figure">
					<img src="image/Figure_9.27_B18381.jpg" alt="Figure 9.27 – radarImage Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.27 – radarImage Rect Transform property settings</p>
			<p>Next, we need to apply <strong class="bold">radar Render Texture</strong> to the <strong class="bold">Raw Image</strong> <strong class="bold">Texture</strong> field:</p>
			<ol>
				<li value="1">With <strong class="source-inline">radarImage</strong> still selected in the <strong class="bold">Hierarchy</strong> window, click the <strong class="bold">remote</strong> button next to the <strong class="bold">Texture</strong> field in the <strong class="bold">Raw Image</strong> component.</li>
				<li>Start typing <strong class="source-inline">radar</strong> in the search bar at the top of the new window until <strong class="bold">radar</strong> <strong class="bold">Render Texture</strong> appears and select it.</li>
			</ol>
			<p>That's our <strong class="bold">Render Texture</strong> made <a id="_idIndexMarker922"/>and set. Now, we can pass this <a id="_idIndexMarker923"/>into the second camera. But before we do that, we need to add the camera!</p>
			<h3>Adding and customizing our second camera</h3>
			<p>In this section, we<a id="_idIndexMarker924"/> will be adding a second camera <a id="_idIndexMarker925"/>so that we can only see the <strong class="source-inline">radarPoint</strong> game objects.</p>
			<p>Let's start by setting up a second camera in our <strong class="source-inline">level1</strong> scene:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, right-click in an open space and from the dropdown, select <strong class="bold">Camera</strong>.</li>
				<li>Right-click the newly created <strong class="bold">Camera</strong>, select <strong class="bold">Rename</strong> from the drop-down list, and rename it <strong class="source-inline">RadarCam</strong>.</li>
				<li>With <strong class="source-inline">RadarCam</strong> still selected, change its <strong class="bold">Transform</strong> settings in the <strong class="bold">Inspector</strong> window to the ones shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer311" class="IMG---Figure">
					<img src="image/Figure_9.28_B18381.jpg" alt="Figure 9.28 – radarCam Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.28 – radarCam Transform property settings</p>
			<p>Still<a id="_idIndexMarker926"/> in the <strong class="bold">Inspector</strong> window and with<a id="_idIndexMarker927"/> our <strong class="source-inline">RadarCam</strong> selected, we need to change its <strong class="bold">Camera</strong> component settings to the following:</p>
			<ul>
				<li><strong class="bold">Clear Flags</strong>: <strong class="bold">Solid Color</strong>. We don't require anything in the background for the second camera, so something basic such as a solid color would work fine.</li>
				<li><strong class="bold">Background</strong>: <strong class="bold">R</strong>: <strong class="source-inline">255</strong>, <strong class="bold">G</strong>: <strong class="source-inline">0</strong>, <strong class="bold">B</strong>: <strong class="source-inline">0</strong>, <strong class="bold">A</strong>: <strong class="source-inline">50</strong>. This will give our radar a red tint.</li>
				<li><strong class="bold">Culling Mask</strong>: Click the parameter field labeled <strong class="bold">Everything</strong>. Do the following:<ul><li>Select <strong class="bold">Nothing</strong> from the drop-down list to remove all layers.</li><li>Select the field again and select <strong class="bold">Radar</strong> (shown in the following screenshot). By doing this, all our camera will see is the game objects that relate to that layer:</li></ul></li>
			</ul>
			<div>
				<div id="_idContainer312" class="IMG---Figure">
					<img src="image/Figure_9.29_B18381.jpg" alt="Figure 9.29 – Select Radar from Culling Mask&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.29 – Select Radar from Culling Mask</p>
			<ul>
				<li><strong class="bold">Projection</strong>: <strong class="bold">Orthographic</strong>. The radar camera is 2D, so there is no need to have a perspective view.</li>
				<li><strong class="bold">Size</strong>: <strong class="source-inline">150</strong>. The size of our camera view will be larger than the main view the player is in.</li>
				<li><strong class="bold">Target Texture</strong>: Click the <strong class="bold">remote</strong> button and select the radar's <strong class="bold">Render Texture</strong> from the new window that appears. This will send the feed from <strong class="source-inline">RadarCam</strong> to the radar's <strong class="bold">Render Texture</strong>.</li>
			</ul>
			<ol>
				<li value="4">Our <strong class="bold">Main Camera</strong> (not <strong class="source-inline">RadarCam</strong>) won't <a id="_idIndexMarker928"/>need to <a id="_idIndexMarker929"/>see the <strong class="bold">Radar</strong> layer. Select <strong class="bold">Main Camera</strong> from the <strong class="bold">Hierarchy</strong> window and deselect the <strong class="bold">Radar</strong> layer from its <strong class="bold">Culling Mask</strong>.</li>
				<li>Also, with <strong class="source-inline">RadarCam</strong> still selected, click the three dots next to its <strong class="bold">Audio Listener</strong> component and remove it. We already have one camera that listens for audio in our scene.</li>
				<li>Finally, we need to make it so that <strong class="source-inline">RadarCam</strong> is a child of <strong class="bold">Main Camera</strong> so that it's part of the same functionality. Click and drag <strong class="source-inline">RadarCam</strong> into <strong class="bold">Main Camera</strong> in the <strong class="bold">Hierarchy</strong> window.</li>
				<li>Click <strong class="bold">Overrides | Apply All</strong> in the <strong class="bold">Inspector</strong> window to update the <strong class="bold">Main Camera</strong> prefab and save the scene.</li>
			</ol>
			<p>Now, if we click <strong class="bold">Play</strong> in the Unity Editor, we will see the radar in the HUD with its red tint showing red dots for enemies and a neon blue for the player, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer313" class="IMG---Figure">
					<img src="image/Figure_9.30_B18381.jpg" alt="Figure 9.30 – Our mini-map detecting the player and its enemies&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.30 – Our mini-map detecting the player and its enemies</p>
			<p>This mini-map was created without any code and made use of two new components: <strong class="bold">Render Texture</strong>, which will hold the second camera's feed, and a <strong class="bold">Raw Image</strong> component, which will display the final output.</p>
			<p>In this section, we created a functioning HUD that has three main segments: the player's lives, a mini-map, and the player's score. We used the two fundamental UI tools that Unity offers to create a UI display. However, we also introduced three new components, as follows:</p>
			<ul>
				<li><strong class="bold">Horizontal Group Layout</strong>: Spaces the player's lives equally</li>
				<li><strong class="bold">Render Texture</strong>: Transfers the second camera's feed</li>
				<li><strong class="bold">Raw Image</strong>: Displays the feed from the render texture</li>
			</ul>
			<p>The<a id="_idIndexMarker930"/> following <a id="_idIndexMarker931"/>screenshot shows the final HUD:</p>
			<div>
				<div id="_idContainer314" class="IMG---Figure">
					<img src="image/Figure_9.31_B18381.jpg" alt="Figure 9.31 – Our HUD is complete&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.31 – Our HUD is complete</p>
			<p>Because we have updated our <strong class="source-inline">level1</strong> scene, we need to update <strong class="source-inline">level2</strong> and <strong class="source-inline">level3</strong>. The quickest way to do this would be to delete <strong class="source-inline">level2</strong> and <strong class="source-inline">level3</strong> and duplicate <strong class="source-inline">level1</strong>, as we did before, which leaves us with updating the level number in the <strong class="source-inline">Text</strong> component. We did this in the previous chapter, right at the end, so please check that if you need some guidance.</p>
			<p>Now, we will move on and improve the existing <strong class="source-inline">shop</strong> scene by removing the pre-made polygons for UI components. This will also introduce us to using UI event triggers and<a id="_idIndexMarker932"/> making <a id="_idIndexMarker933"/>our code smaller and more efficient.</p>
			<h1 id="_idParaDest-165"><a id="_idTextAnchor168"/>Making our shop scene support alternative screen ratios</h1>
			<p>In this section, we are<a id="_idIndexMarker934"/> going to take our current <strong class="source-inline">shop</strong> scene and make it compatible with various screen ratios. Currently, our shop visuals are made out of polygons, which look fine, but, for example, our selection grid of buttons at the bottom of the screen has the risk of being clipped off at the edges. We can also change the way we select our buttons by using Unity's <strong class="bold">Button</strong> component, which works within the <strong class="bold">Canvas</strong>.</p>
			<div>
				<div id="_idContainer315" class="IMG---Figure">
					<img src="image/Figure_9.32_B18381.jpg" alt="Figure 9.32 – There is a wide range of ratios in what a game is displayed in&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.32 – There is a wide range of ratios in what a game is displayed in</p>
			<p>Because of these UI changes, this will cut our code down and make it more efficient as we will be relying on click events. We will cover these later in this section.</p>
			<p>Let's make a start by replacing the selection grid at the bottom of our <strong class="source-inline">shop</strong> scene.</p>
			<h2 id="_idParaDest-166"><a id="_idTextAnchor169"/>Upgrading our shop selection</h2>
			<p>In this section, we <a id="_idIndexMarker935"/>are going to remove all of the shop buttons and replace them with a <strong class="bold">Horizontal Layout Group</strong> set of buttons to add the player's lives to the HUD. Each of the new selection buttons will contain a Unity pre-made script called <strong class="source-inline">button</strong> that has its own raycast system. This raycast system will give us an easier way of adding and customizing our buttons when it comes to adding or extracting buttons to/from the selection grid.</p>
			<p>In the next section, we will support this change by removing our 3D assets so that we can replace <a id="_idIndexMarker936"/>them with Unity's own 2D buttons.</p>
			<h3>Preparing our shop scene to go 2D</h3>
			<p>Let's start by<a id="_idIndexMarker937"/> removing the old selection grid at the bottom <a id="_idIndexMarker938"/>and our <strong class="source-inline">BUY ?</strong> button as that follows the same suit from our <strong class="source-inline">shop</strong> scene:</p>
			<ol>
				<li value="1">If you haven't loaded the <strong class="source-inline">shop</strong> scene already, locate it in the <strong class="bold">Project</strong> window in <strong class="source-inline">Assets/Scene</strong>.</li>
				<li>Double-click <strong class="bold">shop</strong> to load the <strong class="source-inline">shop</strong> scene.</li>
				<li>In the <strong class="bold">Hierarchy</strong> window, hold <em class="italic">Ctrl</em> (<em class="italic">command</em> on Mac) on the keyboard and select all of the game objects shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer316" class="IMG---Figure">
					<img src="image/Figure_9.33_B18381.jpg" alt="Figure 9.33 – Select these game objects from the shop scene Hierarchy&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.33 – Select these game objects from the shop scene Hierarchy</p>
			<p>Press <em class="italic">Delete</em> on the keyboard if you are presented with a window to open the prefab. Open it and repeat the process. Once deleted, press the back button in the top left corner of the <strong class="bold">Hierarchy</strong> window. We haven't lost any of our sprite images, scripts, or any other type of information. We are simply removing polygons, 3D materials, and colliders (physics-based components). We are now going to move the same information we have into <strong class="source-inline">Canvas</strong>.</p>
			<p>To create a <strong class="source-inline">Canvas</strong> with its own background, do the following:</p>
			<ol>
				<li value="1">In the lower part of the <strong class="bold">Hierarchy</strong> window, right-click and from the drop-down list, select <strong class="bold">UI</strong>, followed by <strong class="bold">Canvas</strong>.</li>
				<li>Right-click the <strong class="source-inline">Canvas</strong> game object in the <strong class="bold">Hierarchy</strong> window and from the drop-down list, select <strong class="bold">UI</strong>, followed by <strong class="bold">Image</strong>.</li>
				<li>Right-click <a id="_idIndexMarker939"/>the<a id="_idIndexMarker940"/> new game object called <strong class="source-inline">Image</strong> and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename <strong class="source-inline">Image</strong> to <strong class="source-inline">backGround</strong>.</li>
				<li>With the <strong class="source-inline">backGround</strong> game object still selected, change its <strong class="bold">Rect Transform</strong> properties to the ones shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer317" class="IMG---Figure">
					<img src="image/Figure_9.34_B18381.jpg" alt="Figure 9.34 – backGround Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.34 – backGround Rect Transform property settings</p>
			<ol>
				<li value="6">We can now give <strong class="source-inline">backGround</strong> some color. With the <strong class="source-inline">backGround</strong> game object still selected, click the <strong class="bold">Color</strong> field in the <strong class="bold">Image</strong> component in the <strong class="bold">Inspector</strong> window and set its values to <strong class="bold">R</strong>: <strong class="source-inline">255</strong>, <strong class="bold">G</strong>: <strong class="source-inline">0</strong>, <strong class="bold">B</strong>: <strong class="source-inline">0</strong>, <strong class="bold">A</strong>: <strong class="source-inline">63</strong>.</li>
			</ol>
			<p>The following screenshot shows the <strong class="source-inline">backGround</strong> game object positioned and scaled with a red tint:</p>
			<div>
				<div id="_idContainer318" class="IMG---Figure">
					<img src="image/Figure_9.35_B18381.jpg" alt="Figure 9.35 – backGround in our Game window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.35 – backGround in our Game window</p>
			<p>We can now move on to the next section, where we will add three game objects that will control <a id="_idIndexMarker941"/>the position and scale of the button game <a id="_idIndexMarker942"/>objects.</p>
			<h3>Adding layout group components</h3>
			<p>In this section, we<a id="_idIndexMarker943"/> will add game objects that will support the spacing of the buttons we add to the grid. The benefit of this is that we can control the properties of each section of the buttons, as shown in the following figure:</p>
			<div>
				<div id="_idContainer319" class="IMG---Figure">
					<img src="image/Figure_9.36_B18381.jpg" alt="Figure 9.36 – Our shop scene button layout as planned&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.36 – Our shop scene button layout as planned</p>
			<p>Next, we will make an empty game object and add a <strong class="bold">Horizontal Layout Group</strong> to it, which will keep our top row buttons in order:</p>
			<ol>
				<li value="1">Right-click the <strong class="source-inline">Canvas</strong> game object and from the drop-down list, select <strong class="bold">Create Empty</strong>.</li>
				<li>Rename the new game object <strong class="source-inline">gridTop</strong>.</li>
				<li>With <strong class="source-inline">gridTop</strong> still selected, change its <strong class="bold">Rect Transform</strong> settings to the ones shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer320" class="IMG---Figure">
					<img src="image/Figure_9.37_B18381.jpg" alt="Figure 9.37 – gridTop Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.37 – gridTop Rect Transform property settings</p>
			<p>Now that our <strong class="source-inline">gridTop</strong> is positioned <a id="_idIndexMarker944"/>correctly, we can add a <strong class="bold">Horizontal Layout Group</strong> to it:</p>
			<ol>
				<li value="1">With the <strong class="source-inline">gridTop</strong> game object still selected, click the <strong class="bold">Add Component</strong> button in the <strong class="bold">Inspector</strong> window and type <strong class="source-inline">Horizontal Layout Group</strong> into the search bar at the top of the drop-down list until you see <strong class="bold">Horizontal Layout Group</strong>. When this group appears in the list, select it.</li>
				<li>Give <strong class="bold">Horizontal Layout Group</strong> the following settings:</li>
			</ol>
			<div>
				<div id="_idContainer321" class="IMG---Figure">
					<img src="image/Figure_9.38_B18381.jpg" alt="Figure 9.38 – Horizontal Layout Group property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.38 – Horizontal Layout Group property values</p>
			<p><strong class="source-inline">gridTop</strong> will now automatically order the top row of upgrade buttons.</p>
			<p>We now need to repeat the process for the bottom row, without repeating the entire procedure. Follow the same steps for <strong class="source-inline">gridTop</strong> but make the following changes:</p>
			<ol>
				<li value="1">Name the next game object in <strong class="bold">Canvas</strong> <strong class="source-inline">gridBottom</strong>.</li>
				<li>Give the<a id="_idIndexMarker945"/> game object the following <strong class="bold">Rect Transform</strong> settings:</li>
			</ol>
			<div>
				<div id="_idContainer322" class="IMG---Figure">
					<img src="image/Figure_9.39_B18381.jpg" alt="Figure 9.39 – gridBottom Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.39 – gridBottom Rect Transform property settings</p>
			<ol>
				<li value="3">Then, like before, we need to add a <strong class="bold">Horizontal Layout Group</strong> component with the same settings as <strong class="source-inline">gridTop</strong>.</li>
				<li>We then repeat this process but this time, for our "AD" and "START" buttons, we will be adding a <strong class="bold">Vertical Layout Group</strong> component.</li>
				<li>Like before, create an empty game object and store it in the <strong class="source-inline">Canvas</strong> game object.</li>
				<li>Name a new game object called <strong class="source-inline">gridOther</strong>.</li>
				<li>Give <strong class="source-inline">gridOther</strong>'s <strong class="bold">Rect Transform</strong> the following settings:</li>
			</ol>
			<div>
				<div id="_idContainer323" class="IMG---Figure">
					<img src="image/Figure_9.40_B18381.jpg" alt="Figure 9.40 – gridOther Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.40 – gridOther Rect Transform property settings</p>
			<ol>
				<li value="8">As mentioned previously, we will add a <strong class="bold">Vertical Layout Group</strong> component to the <strong class="source-inline">gridOther</strong> game object and give it the following settings:</li>
			</ol>
			<div>
				<div id="_idContainer324" class="IMG---Figure">
					<img src="image/Figure_9.41_B18381.jpg" alt="Figure 9.41 – Vertical Layout Group property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.41 – Vertical Layout Group property values</p>
			<p>Our new, reworked<a id="_idIndexMarker946"/> selection grid now supports the creation of multiple self-scaling buttons. In the next section, we will demonstrate how to create multiple buttons that scale themselves to fit in the selection grid.</p>
			<h3>Adding UI buttons</h3>
			<p>In this<a id="_idIndexMarker947"/> section, we<a id="_idIndexMarker948"/> are going to create a button that won't need any sizing changes to be made to it as the layout groups we placed in the previous section will take care of this.</p>
			<p>To create a <strong class="bold">UI</strong> button for our new selection grid, right-click the <strong class="source-inline">gridTop</strong> game object in the <strong class="bold">Hierarchy</strong> window and do the following:</p>
			<ol>
				<li value="1">From the drop-down list, select <strong class="bold">UI</strong> and then <strong class="bold">Button</strong>.</li>
				<li>Right-click the newly created <strong class="source-inline">Button</strong> game object and name it <strong class="source-inline">00</strong>.</li>
			</ol>
			<p>We will get a button that will be stretched and out of place, but don't worry – this is normal. Later, when we add more buttons to this and the other rows, the buttons will snap into place and scale in size automatically.</p>
			<p>By default, the button comes with an <strong class="bold">Image</strong> component with rounded-off edges. For cosmetic purposes, this doesn't suit our scene. We can remove this by doing the following:.</p>
			<ol>
				<li value="1">Click the three-dots icon to the top right of the <strong class="bold">Image</strong> component.</li>
				<li>From the drop-down list, select <strong class="bold">Remove Component</strong>.</li>
			</ol>
			<p>The<a id="_idIndexMarker949"/> button <a id="_idIndexMarker950"/>no longer has any color.</p>
			<p>Next, we are going to fill this game object with five game objects. In brief, their names and properties are as follows:</p>
			<ul>
				<li><strong class="source-inline">outline</strong>: Adds a border to the button</li>
				<li><strong class="source-inline">backPanel</strong>: The color of the button when it's not selected</li>
				<li><strong class="source-inline">selection</strong>: The color of the button when it is selected</li>
				<li><strong class="source-inline">powerUpimage</strong>: The picture on the button</li>
				<li><strong class="source-inline">itemText</strong>: The cost or sold out message</li>
			</ul>
			<p>The following screenshot shows all of these game objects combined to create our new shop button:</p>
			<div>
				<div id="_idContainer325" class="IMG---Figure">
					<img src="image/Figure_9.42_B18381.jpg" alt="Figure 9.42 – A shop button&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.42 – A shop button</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">The other way of changing a button's condition is by using Unity's <strong class="bold">Button</strong> component states. For more <a id="_idIndexMarker951"/>information about this and the <strong class="source-inline">Button</strong> script, check out <a href="https://docs.unity3d.com/2017.3/Documentation/Manual/script-Button.html">https://docs.unity3d.com/2017.3/Documentation/Manual/script-Button.html</a>.</p>
			<h4>Adding the outline game object</h4>
			<p>Let's start by <a id="_idIndexMarker952"/>adding an <strong class="source-inline">outline</strong> game<a id="_idIndexMarker953"/> object for our new shop button:</p>
			<ol>
				<li value="1">Right-click the <strong class="source-inline">00</strong> game object in the <strong class="bold">Hierarchy</strong> window and from the dropdown, select <strong class="bold">UI</strong> | <strong class="bold">Image</strong>.</li>
				<li>Select the <strong class="source-inline">Image</strong> game object, right-click it in the <strong class="bold">Hierarchy</strong> window, select <strong class="bold">Rename</strong>, and change its name to <strong class="source-inline">outline</strong>.</li>
				<li>With <strong class="source-inline">outline</strong> still selected in the <strong class="bold">Hierarchy</strong> window, update its <strong class="bold">Rect Transform</strong> and <strong class="bold">Image</strong> <strong class="bold">Color</strong> fields to the following:</li>
			</ol>
			<div>
				<div id="_idContainer326" class="IMG---Figure">
					<img src="image/Figure_9.43_B18381.jpg" alt="Figure 9.43 – outline Rect Transform property settings and Image component color and alpha values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.43 – outline Rect Transform property settings and Image component color and alpha values</p>
			<p>The shop button will now <a id="_idIndexMarker954"/>have a colored <strong class="source-inline">outline</strong>. Now, let's move on and look at the button's <strong class="source-inline">backPanel</strong>.</p>
			<h4>Adding the backPanel game object</h4>
			<p>Let's<a id="_idIndexMarker955"/> add <strong class="source-inline">backPanel</strong> to the <strong class="source-inline">00</strong> game<a id="_idIndexMarker956"/> object:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, right-click the <strong class="source-inline">00</strong> game object and from the dropdown, select <strong class="bold">UI</strong> | <strong class="bold">Image</strong>.</li>
				<li>Right-click the newly created <strong class="source-inline">Image</strong> game object and name it <strong class="source-inline">backPanel</strong>.</li>
				<li>With <strong class="source-inline">backPanel</strong> still selected, in the <strong class="bold">Inspector</strong> window, change its <strong class="bold">Rect Transform</strong> so that it has the following values:</li>
			</ol>
			<div>
				<div id="_idContainer327" class="IMG---Figure">
					<img src="image/Figure_9.44_B18381.jpg" alt="Figure 9.44 – backPanel Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.44 – backPanel Rect Transform property settings</p>
			<p>With the <strong class="source-inline">backPanel</strong> game object still selected, we can change the <strong class="bold">Image</strong> component's <strong class="bold">Color</strong> properties in the <strong class="bold">Inspector</strong> window. By clicking the <strong class="bold">Color</strong> field, we can change the <strong class="source-inline">backPanel</strong> game object's settings to <strong class="bold">R</strong>: <strong class="source-inline">40</strong>, <strong class="bold">G</strong>: <strong class="source-inline">39</strong>, <strong class="bold">B</strong>: <strong class="source-inline">36</strong>, <strong class="bold">A</strong>: <strong class="source-inline">255</strong>. That's the second game object that we've applied that gives us our default color.</p>
			<p>We'll add the <strong class="source-inline">selection</strong> game object to the <strong class="source-inline">00</strong> game object next.</p>
			<h4>Adding the selection game object</h4>
			<p>To create<a id="_idIndexMarker957"/> the <strong class="source-inline">selection</strong> button, follow<a id="_idIndexMarker958"/> the same steps provided in the previous section. However, note that there are three differences:</p>
			<ol>
				<li value="1">Name this game object <strong class="source-inline">selection</strong>.</li>
				<li>Give the <strong class="bold">Image</strong> component's <strong class="bold">Color</strong> field the following values: <strong class="bold">R</strong>: <strong class="source-inline">144</strong>, <strong class="bold">G</strong>: <strong class="source-inline">0</strong>, <strong class="bold">B</strong>: <strong class="source-inline">0</strong>, <strong class="bold">A</strong>: <strong class="source-inline">255</strong>.</li>
				<li>Create and apply a <strong class="bold">Tag</strong> called <strong class="source-inline">Selection</strong>.<p class="callout-heading">Information</p><p class="callout">We covered creating and applying tags back in <a href="B18381_02_Epub.xhtml#_idTextAnchor048"><em class="italic">Chapter 2</em></a>, <em class="italic">Adding and Manipulating Objects</em>.</p></li>
			</ol>
			<p>The following screenshot shows our <strong class="source-inline">selection</strong> game object's <strong class="bold">Tag</strong> and <strong class="bold">Rect Transform</strong> property values:</p>
			<div>
				<div id="_idContainer328" class="IMG---Figure">
					<img src="image/Figure_9.45_B18381.jpg" alt="Figure 9.45 – selection Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.45 – selection Rect Transform property settings</p>
			<p>That's the third game object that we've applied to our <strong class="source-inline">00</strong> game object. Our buttons will light up and stay red until a purchase is made or a different button is pressed. We'll add the <strong class="source-inline">powerUpImage</strong> game object to our <strong class="source-inline">00</strong> game object next.</p>
			<h4>Adding the powerUpImage game object</h4>
			<p>To create<a id="_idIndexMarker959"/> the <strong class="source-inline">powerUpImage</strong> button, follow<a id="_idIndexMarker960"/> the same steps provided in the previous section, but make three changes:</p>
			<ol>
				<li value="1">Name this game object <strong class="source-inline">powerUpImage</strong>.</li>
				<li>Drag and drop the <strong class="source-inline">powerup</strong> sprite into the <strong class="bold">Source Image</strong> field of the <strong class="bold">Image</strong> component.</li>
				<li>Tick the <strong class="bold">Preserve Aspect</strong> box.</li>
			</ol>
			<p>That's our fourth game object that displays each button's icon.</p>
			<p>We'll add the <strong class="source-inline">itemText</strong> game object to the <strong class="source-inline">00</strong> game object next.</p>
			<h4>Adding the itemText game object</h4>
			<p>To add<a id="_idIndexMarker961"/> the <strong class="source-inline">itemText</strong> game <a id="_idIndexMarker962"/>object to our <strong class="source-inline">00</strong> game object, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, right-click the <strong class="source-inline">00</strong> game object and from the drop-down list, select <strong class="bold">UI</strong>, followed by <strong class="bold">Text</strong>.</li>
				<li>Right-click the newly created <strong class="source-inline">Text</strong> game object and name it <strong class="source-inline">itemText</strong>.</li>
				<li>With <strong class="source-inline">itemText</strong> still selected, in the <strong class="source-inline">Inspector</strong> window, change its <strong class="bold">Rect Transform</strong> and <strong class="bold">Text</strong> components so that they have the following properties:</li>
			</ol>
			<div>
				<div id="_idContainer329" class="IMG---Figure">
					<img src="image/Figure_9.46_B18381.jpg" alt="Figure 9.46 – itemText Rect Transform property settings and Text Component values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.46 – itemText Rect Transform property settings and Text Component values</p>
			<p>That's the fifth and final game object we need to add to our weapon upgrade button.</p>
			<p>In the <strong class="bold">Hierarchy</strong> window, our <strong class="source-inline">00</strong> game object should be in the order shown in the following screenshot. If the order isn't the same, simply click and drag either one into position:</p>
			<div>
				<div id="_idContainer330" class="IMG---Figure">
					<img src="image/Figure_9.47_B18381.jpg" alt="Figure 9.47 – 00 game object and its children in the Hierarchy window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.47 – 00 game object and its children in the Hierarchy window</p>
			<p>In this section, we stripped out the old <strong class="source-inline">shop</strong> scene setup where we were selecting items in the shop with a raycast system. We replaced the old selection grid with a 2D interface with <strong class="bold">Button</strong> components. These buttons were grouped with Unity's Horizontal and <strong class="bold">Vertical Layout Group</strong> components. The benefit of these two groups is that if we add more or fewer buttons to the grid, the buttons will reorganize their position and scale automatically.</p>
			<p>We need <a id="_idIndexMarker963"/>to<a id="_idIndexMarker964"/> make a slight modification to the <strong class="source-inline">ShopPiece</strong> script that was originally attached to each game object button. </p>
			<p>Once we have applied and modified the script, we will check what the buttons look like in the new selection grid.</p>
			<h1 id="_idParaDest-167"><a id="_idTextAnchor170"/>Applying and modifying our shop script</h1>
			<p>Let's<a id="_idIndexMarker965"/> briefly<a id="_idIndexMarker966"/> recall the purpose of the <strong class="source-inline">ShopPiece</strong> script. Each button in the selection grid will be given information from a scriptable object that will customize the button's name, description, value, and image. Because the buttons have changed from being 3D assets to 2D ones, we need to alter and add some more code to make this work.</p>
			<p>To modify <strong class="source-inline">ShopPiece</strong> so that it's compatible with our new 2D button, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window in the Unity Editor, navigate to the <strong class="source-inline">Assets/Script</strong> folder.</li>
				<li>Double-click the <strong class="source-inline">ShopPiece</strong> script to open the file.</li>
			</ol>
			<p>The first line of code will allow our new code support to grab references from the <strong class="bold">Text</strong> component on the <strong class="source-inline">00</strong> game object.</p>
			<ol>
				<li value="3">Enter the following piece of code at the top of the <strong class="source-inline">ShopPiece</strong> script:<p class="source-code"><strong class="bold">using UnityEngine.UI;</strong></p></li>
			</ol>
			<p>The second modification to make will be to replace the content of the <strong class="source-inline">Awake</strong> function. The original code accessed <strong class="source-inline">SpriteRenderer</strong>, which was used for accessing the sprite on each polygon button. The other piece of code we are replacing applied changes to the <strong class="source-inline">TextMesh</strong> component, which displays 3D text.</p>
			<ol>
				<li value="4">To update our <strong class="source-inline">Awake</strong> function, select the code within the <strong class="source-inline">Awake()</strong> function and delete it. Our <strong class="source-inline">Awake()</strong> function should look as follows:<p class="source-code">void Awake()</p><p class="source-code">{</p><p class="source-code">}</p></li>
			</ol>
			<p>We can now enter the first <strong class="source-inline">if</strong> statement, which applies our scriptable object icon image to our button's image.</p>
			<ol>
				<li value="5">Within the <strong class="source-inline">Awake()</strong> function, add the following <strong class="source-inline">if</strong> statement:<p class="source-code">    if (transform.GetChild(3).GetComponent&lt;Image&gt;() !=        null)</p><p class="source-code">    {</p><p class="source-code">      transform.GetChild(3).GetComponent&lt;Image&gt;().      sprite=shopSelection.icon;</p><p class="source-code">}</p></li>
			</ol>
			<p>The <strong class="source-inline">if</strong> statement <a id="_idIndexMarker967"/>grabs a reference from the second child <a id="_idIndexMarker968"/>in the <strong class="source-inline">00</strong> button and checks to see whether it has an <strong class="bold">Image</strong> component. If it does (and it should), we apply the scriptable object icon to it.</p>
			<ol>
				<li value="6">The other <strong class="source-inline">if</strong> statement updates the text of the button. Within the <strong class="source-inline">Awake()</strong> function, just after the first <strong class="source-inline">if</strong> statement, add the following piece of code:<p class="source-code"> if(transform.Find("itemText"))</p><p class="source-code"> {</p><p class="source-code"> GetComponentInChildren&lt;Text&gt;().text = shopSelection.cost.ToString();</p><p class="source-code"> }</p></li>
			</ol>
			<p>The <strong class="source-inline">if</strong> statement makes sure the <strong class="source-inline">00</strong> button has <strong class="source-inline">itemText</strong> (it should). When the <strong class="source-inline">itemText</strong> game object is found, its <strong class="bold">Text</strong> component receives the scriptable object price of the weapon.</p>
			<ol>
				<li value="7">Save the script.</li>
				<li>Back in the Unity Editor, select the <strong class="source-inline">00</strong> game object in the <strong class="bold">Hierarchy</strong> and click the <strong class="bold">Add Component</strong> button.</li>
				<li>Start typing <strong class="source-inline">ShopPiece</strong> in the drop-down list until you see it. When you do, select it.</li>
				<li>With the <strong class="source-inline">00</strong> game object still selected, in the <strong class="bold">Inspector</strong> window, click the <strong class="bold">remote</strong> button in the <strong class="source-inline">ShopPiece</strong> component.</li>
				<li>Select any weapon upgrade scriptable object from the list.</li>
			</ol>
			<p>The following screenshot shows the <strong class="source-inline">ShopPiece</strong> script with a scriptable object applied to it:</p>
			<div>
				<div id="_idContainer331" class="IMG---Figure">
					<img src="image/Figure_9.48_B18381.jpg" alt="Figure 9.48 – ShopPiece script, holding in its Shop Selection field the Shot_PowerUp Scriptable Object&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.48 – ShopPiece script, holding in its Shop Selection field the Shot_PowerUp Scriptable Object</p>
			<p>We are <a id="_idIndexMarker969"/>now in<a id="_idIndexMarker970"/> a position to check what our button looks like with the four game objects we've applied and with its modified <strong class="source-inline">ShopPiece</strong> script.</p>
			<p>In the next few sections, we are going to duplicate a series of the new shop buttons. These shop buttons will automatically fit in the allocated game object space we have put them in. Then, we will clear up any of the old UI and replace it with our new interface. Finally, we will comment out the old raycast system from our code and add our new interface code.</p>
			<h2 id="_idParaDest-168"><a id="_idTextAnchor171"/>Reviewing the button's results</h2>
			<p>In this section, we<a id="_idIndexMarker971"/> will be reviewing the new <strong class="source-inline">00</strong> button in the <strong class="source-inline">gridTop</strong> game object. The button is too big and spreads across the majority of the <strong class="bold">Canvas</strong>, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer332" class="IMG---Figure">
					<img src="image/Figure_9.49_B18381.jpg" alt="Figure 9.49 – 00 game object currently sitting in the gridTop game object&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.49 – 00 game object currently sitting in the gridTop game object</p>
			<p>But if I select the <strong class="source-inline">00</strong> game object in the <strong class="bold">Hierarchy</strong> window and press <em class="italic">Ctrl</em> (<em class="italic">command</em> on Mac) and <em class="italic">D</em> to duplicate the game object a few times, the button will <a id="_idIndexMarker972"/>divide equally, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer333" class="IMG---Figure">
					<img src="image/Figure_9.50_B18381.jpg" alt="Figure 9.50 – Three 00 game objects looking less stretched&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.50 – Three 00 game objects looking less stretched</p>
			<p>The button divides well and can be duplicated several times (not in <strong class="bold">Play Mode</strong>) to fill the top and bottom grids. To fill up and name the grids, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, select the <strong class="source-inline">00</strong> game object and press <em class="italic">Ctrl</em> (<em class="italic">command</em> on a Mac) and <em class="italic">D</em> three times.</li>
				<li>Rename the three new duplicate game objects <strong class="source-inline">01</strong>, <strong class="source-inline">02</strong>, and <strong class="source-inline">03</strong> respectively.</li>
				<li>Select <strong class="source-inline">01</strong> in the <strong class="bold">Hierarchy</strong> window and click the <strong class="bold">remote</strong> button in its <strong class="source-inline">ShopPiece</strong> component in the <strong class="bold">Inspector</strong> window.</li>
				<li>Select a different scriptable object from the list to change the weapon upgrade.</li>
				<li>Select game object <strong class="source-inline">02</strong> and select a different weapon in the <strong class="source-inline">ShopPiece</strong> component.</li>
			</ol>
			<p>Now, we need to fill up the bottom row with buttons. To do that, follow these steps:</p>
			<ol>
				<li value="1">Click and drag the <strong class="source-inline">03</strong> game object from the <strong class="bold">Hierarchy</strong> window into the <strong class="source-inline">gridBottom</strong> game object.</li>
				<li>With <strong class="source-inline">03</strong> still selected, press <em class="italic">Ctrl</em> (<em class="italic">command</em> on a Mac) and <em class="italic">D</em> twice.</li>
				<li>Rename our newly created game objects <strong class="source-inline">04</strong> and <strong class="source-inline">05</strong>.</li>
			</ol>
			<p>The following<a id="_idIndexMarker973"/> screenshot shows the top and bottom rows filled up:</p>
			<div>
				<div id="_idContainer334" class="IMG---Figure">
					<img src="image/Figure_9.51_B18381.jpg" alt="Figure 9.51 – Six shop buttons&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.51 – Six shop buttons</p>
			<p>Because we don't have any more items to sell in our shop, the bottom three buttons look odd, so let's replace these with some sold-out signs. This can easily be achieved with our scriptable object assets.</p>
			<p>To create a sold-out sign for our bottom row in our shop, we need to do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window, navigate to <strong class="source-inline">Assets/ScriptableObject</strong>, right-click in an open space, and select <strong class="bold">Create</strong> | <strong class="bold">Create Shop Piece</strong>.</li>
				<li>Rename the <strong class="source-inline">Create Shop Piece</strong> file <strong class="source-inline">SoldOut</strong>.</li>
				<li>Select <strong class="source-inline">SoldOut</strong> and give it the following property values:</li>
			</ol>
			<div>
				<div id="_idContainer335" class="IMG---Figure">
					<img src="image/Figure_9.52_B18381.jpg" alt="Figure 9.52 – SoldOut Scriptable Object and its values entered along with a soldOut sprite&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.52 – SoldOut Scriptable Object and its values entered along with a soldOut sprite</p>
			<p>Lastly, apply the <strong class="source-inline">SoldOut</strong> file to game objects <strong class="source-inline">03</strong>, <strong class="source-inline">04</strong>, and <strong class="source-inline">05</strong> in the <strong class="bold">Hierarchy</strong> window in the <strong class="source-inline">Shop Piece</strong> component field's <strong class="bold">Shop Selection</strong> in the <strong class="bold">Inspector</strong> window.</p>
			<p>Now, we need<a id="_idIndexMarker974"/> to repeat a similar process for our advert and start buttons.</p>
			<h3>Creating the advert and start buttons</h3>
			<p>To recreate<a id="_idIndexMarker975"/> the advert button, select <a id="_idIndexMarker976"/>either one of the buttons we duplicated in the <strong class="bold">Hierarchy</strong> window and do the following:</p>
			<ol>
				<li value="1">Press <em class="italic">Ctrl</em> (<em class="italic">command</em> on a Mac) and <em class="italic">D</em> to duplicate another button and drag it into the <strong class="source-inline">gridOther</strong> game object in the <strong class="bold">Hierarchy</strong> window.</li>
				<li>Rename the duplicate game object <strong class="source-inline">AD</strong>.</li>
				<li>Because the <strong class="source-inline">AD</strong> game object doesn't need <strong class="source-inline">powerUpImage</strong>, we can delete it.</li>
				<li>Expand the <strong class="source-inline">AD</strong> game object by clicking the arrow to the left of its name in the <strong class="bold">Hierarchy</strong> window and select the <strong class="source-inline">itemText</strong> button.</li>
				<li>Apply the following settings to the <strong class="bold">Text</strong> component in the <strong class="bold">Inspector</strong> window:</li>
			</ol>
			<div>
				<div id="_idContainer336" class="IMG---Figure">
					<img src="image/Figure_9.53_B18381.jpg" alt="Figure 9.53 – itemText Rect Transform property settings and Text component values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.53 – itemText Rect Transform property settings and Text component values</p>
			<ol>
				<li value="6">Repeat a <a id="_idIndexMarker977"/>similar process <a id="_idIndexMarker978"/>for the <strong class="bold">START</strong> button game object, except for its <strong class="source-inline">itemText</strong> and <strong class="source-inline">selection</strong> game object components (<strong class="source-inline">selection</strong> hex color: <strong class="source-inline">FFC300FF</strong>), as shown in the following figure:</li>
			</ol>
			<div>
				<div id="_idContainer337" class="IMG---Figure">
					<img src="image/Figure_9.54_B18381.jpg" alt="Figure 9.54 – itemText Text component values and selection Image component property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.54 – itemText Text component values and selection Image component property values</p>
			<p>The following screenshot shows the <strong class="bold">Hierarchy</strong> window of the <strong class="source-inline">gridOther</strong> game object and its content, including the two buttons:</p>
			<div>
				<div id="_idContainer338" class="IMG---Figure">
					<img src="image/Figure_9.55_B18381.jpg" alt="Figure 9.55 – gridOther game object holding AD and START buttons with their children in the Hierarchy window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.55 – gridOther game object holding AD and START buttons with their children in the Hierarchy window</p>
			<p>Now that <a id="_idIndexMarker979"/>our<a id="_idIndexMarker980"/> selection grid visuals are completed, we can move on to the description panel and partially convert it from 3D into 2D.</p>
			<h3>Adding the BUY? button</h3>
			<p>To add<a id="_idIndexMarker981"/> the 2D <strong class="source-inline">BUY?</strong> button<a id="_idIndexMarker982"/> to the description panel, do the following:</p>
			<ol>
				<li value="1">Right-click the <strong class="source-inline">Canvas</strong> game object in the <strong class="bold">Hierarchy</strong> panel and select <strong class="bold">UI</strong>, followed by <strong class="bold">Button</strong>, from the drop-down list.</li>
				<li>Right-click the newly created <strong class="source-inline">Button</strong> game object and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the <strong class="source-inline">Button</strong> game object <strong class="source-inline">BUY?</strong>.</li>
				<li>With the <strong class="source-inline">BUY?</strong> button still selected in the <strong class="bold">Hierarchy</strong> window, set its <strong class="bold">Rect Transform</strong> properties to the ones shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer339" class="IMG---Figure">
					<img src="image/Figure_9.56_B18381.jpg" alt="Figure 9.56 – BUY? Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.56 – BUY? Rect Transform property settings</p>
			<p>Now that the <strong class="source-inline">BUY?</strong> button is in place and scaled correctly, we can alter the aesthetics for the <strong class="bold">Image</strong> and <strong class="bold">Button</strong> components. In the <strong class="bold">Image</strong> component, select the <strong class="bold">remote</strong> button for the <strong class="bold">Source Image</strong> field and select <strong class="bold">None</strong> from the list to remove the <a id="_idIndexMarker983"/>curved edges for the<a id="_idIndexMarker984"/> button.</p>
			<p>Next, we will make it so that the <strong class="source-inline">BUY?</strong> button changes colors when it's highlighted and pressed in the <strong class="bold">Button</strong> component. Follow these steps to do so:</p>
			<ol>
				<li value="1">In the <strong class="bold">Button</strong> component, select the <strong class="bold">Normal Color</strong> field and change its values to <strong class="bold">R</strong>: <strong class="source-inline">255</strong>, <strong class="bold">G</strong>: <strong class="source-inline">0</strong>, <strong class="bold">B</strong>: <strong class="source-inline">0</strong>, <strong class="bold">A</strong>: <strong class="source-inline">255</strong>.</li>
				<li>Select the <strong class="bold">Highlighted Color</strong> field and changes its values to <strong class="bold">R</strong>: <strong class="source-inline">255</strong>, <strong class="bold">G</strong>: <strong class="source-inline">195</strong>, <strong class="bold">B</strong>: <strong class="source-inline">0</strong>, <strong class="bold">A</strong>: <strong class="source-inline">255</strong>.</li>
				<li>When the cursor moves over the <strong class="source-inline">BUY?</strong> button, it will turn yellow and when pressed, it will turn red.</li>
			</ol>
			<p>Finally, for the <strong class="source-inline">BUY?</strong> button, we need to alter its <strong class="bold">Text</strong> component, as follows:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, select the arrow next to the <strong class="source-inline">BUY?</strong> button to expand it.</li>
				<li>Then, select the <strong class="source-inline">BUY?</strong> game object's child, called <strong class="source-inline">Text</strong>.</li>
				<li>Enter the following values for the <strong class="source-inline">Text</strong> game object's <strong class="bold">Text</strong> component in the <strong class="bold">Inspector</strong> window:</li>
			</ol>
			<div>
				<div id="_idContainer340" class="IMG---Figure">
					<img src="image/Figure_9.57_B18381.jpg" alt="Figure 9.57 – BUY? game object's Text component property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.57 – BUY? game object's Text component property values</p>
			<p>The following screenshot shows our<strong class="bold"> BUY ? </strong>button positioned and styled:</p>
			<div>
				<div id="_idContainer341" class="IMG---Figure">
					<img src="image/Figure_9.58_B18381.jpg" alt="Figure 9.58 – The BUY? game object should now look like the one in this screenshot&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.58 – The BUY? game object should now look like the one in this screenshot</p>
			<p>In this section, we <a id="_idIndexMarker985"/>applied Unity's different<a id="_idIndexMarker986"/> state settings for our button without adding any extra code. Next, we will add a simple rectangle image to replace the polygon quad.</p>
			<h3>Replacing our textBoxPanel game object</h3>
			<p>In the <a id="_idIndexMarker987"/>previous<a id="_idIndexMarker988"/> section, we changed our <strong class="source-inline">BUY ?</strong> button so that it is 2D and part of the <strong class="bold">Canvas</strong>, which also means the <strong class="source-inline">BUY ?</strong> button will now be moved, scaled, and adjusted to the ratio of the screen instead of remaining static. Because of this, we have the risk of our <strong class="source-inline">BUY ?</strong> button moving outside of the static <strong class="source-inline">textBoxPanel</strong> it sits in, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer342" class="IMG---Figure">
					<img src="image/Figure_9.59_B18381.jpg" alt="Figure 9.59 – Fixing the issue with the textBoxPanel game object alignment with the BUY ? button&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.59 – Fixing the issue with the textBoxPanel game object alignment with the BUY ? button</p>
			<p>Also, the <strong class="source-inline">PlayerShipBuild</strong> script has a reference to <strong class="source-inline">textBoxPanel</strong>, so we can't delete the game object without altering our code. To fix this dilemma, we can remove the 3D components of <strong class="source-inline">textBoxPanel</strong>, leaving it as an empty game object to house other game objects within it.</p>
			<p>To remove<a id="_idIndexMarker989"/> the components <a id="_idIndexMarker990"/>from the <strong class="source-inline">textBoxPanel</strong> game object, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, start typing <strong class="source-inline">textBoxPanel</strong> in the search bar until it appears.</li>
				<li>Select <strong class="source-inline">textBoxPanel</strong> and remove the two components in the <strong class="bold">Inspector</strong> window for <strong class="bold">Quad (Mesh Filter)</strong> and <strong class="bold">Mesh Renderer</strong> by selecting and clicking the three dots and selecting <strong class="bold">Remove Component</strong>.</li>
				<li>To bring back our full game object content in the <strong class="bold">Hierarchy</strong> window, click the cross at the top of its window, to the right of the search bar.</li>
			</ol>
			<p>The following screenshot shows the locations of both three-dot icons:</p>
			<div>
				<div id="_idContainer343" class="IMG---Figure">
					<img src="image/Figure_9.60_B18381.jpg" alt="Figure 9.60 – Remote button locations for the Quad and Mesh Renderer components&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.60 – Remote button locations for the Quad and Mesh Renderer components</p>
			<p>Now, we can create the 2D panel game object to replace the <strong class="source-inline">textBoxPanel</strong> game object's visuals, as follows:</p>
			<ol>
				<li value="1">In <a id="_idIndexMarker991"/>the <strong class="bold">Hierarchy</strong> window, right-click the <strong class="source-inline">Canvas</strong> game object and select <strong class="bold">UI</strong>, followed<a id="_idIndexMarker992"/> by <strong class="bold">Image</strong>, from the drop-down list.</li>
				<li>Select the newly created game object, right-click it, and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the game object <strong class="source-inline">panel</strong>.</li>
				<li>Move the <strong class="source-inline">BUY?</strong> game object below the panel game object in the <strong class="bold">Hierarchy</strong> window so that the <strong class="source-inline">BUY?</strong> button sits on top of <strong class="source-inline">panel</strong> in the <strong class="bold">Scene</strong> window. The following screenshot shows the order of the two game objects:</li>
			</ol>
			<div>
				<div id="_idContainer344" class="IMG---Figure">
					<img src="image/Figure_9.61_B18381.jpg" alt="Figure 9.61 – BUY? game object placement in the Hierarchy window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.61 – BUY? game object placement in the Hierarchy window</p>
			<ol>
				<li value="5">With the <strong class="source-inline">panel</strong> game object still selected, give its <strong class="bold">Rect Transform</strong> the following values in the <strong class="bold">Inspector</strong> window:</li>
			</ol>
			<div>
				<div id="_idContainer345" class="IMG---Figure">
					<img src="image/Figure_9.62_B18381.jpg" alt="Figure 9.62 – panel Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.62 – panel Rect Transform property settings</p>
			<p>We can change the color of our <strong class="source-inline">panel</strong> game object by clicking its <strong class="bold">Color</strong> field within its <strong class="bold">Image</strong> component in the <strong class="bold">Inspector</strong> window and giving it the values highlighted in the following screenshot:</p>
			<div>
				<div id="_idContainer346" class="IMG---Figure">
					<img src="image/Figure_9.63_B18381.jpg" alt="Figure 9.63 – Change the panel game object Image component color values to those in this screenshot&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.63 – Change the panel game object Image component color values to those in this screenshot</p>
			<p>Finally, we <a id="_idIndexMarker993"/>can <a id="_idIndexMarker994"/>amend our <strong class="source-inline">textBoxPanel</strong> and <strong class="source-inline">bank</strong> balance fonts so that they fit in with the shop buttons.</p>
			<p>To amend our bank balance, we need to do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, expand <strong class="bold">ShopManager</strong> <strong class="bold">| bank</strong> and select the <strong class="source-inline">bankText</strong> game object.</li>
				<li>With <strong class="source-inline">bankText</strong> selected, update its <strong class="bold">Text Mesh</strong> component in the <strong class="bold">Inspector</strong> window so that the <strong class="bold">Font</strong> field takes our new <strong class="bold">ethnocentric rg it</strong> font.</li>
				<li>Change the <strong class="bold">Color</strong> field to red (<strong class="bold">R</strong>: <strong class="source-inline">255</strong>, <strong class="bold">G</strong>: <strong class="source-inline">0</strong>, <strong class="bold">B</strong>: <strong class="source-inline">0</strong>, <strong class="bold">A</strong>: <strong class="source-inline">255</strong>).</li>
				<li>Add a few digits in the <strong class="bold">Text</strong> field to check the results, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer347" class="IMG---Figure">
					<img src="image/Figure_9.64_B18381.jpg" alt="Figure 9.64 – bank game object font updated&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.64 – bank game object font updated</p>
			<p>To <a id="_idIndexMarker995"/>change<a id="_idIndexMarker996"/> our <strong class="source-inline">textBoxPanel</strong>, we need to do something similar. Here, we will select its two child game objects in the <strong class="bold">Hierarchy</strong> window, <strong class="source-inline">name</strong> and <strong class="source-inline">desc</strong>, and update their <strong class="bold">Text Mesh</strong> components to the following:</p>
			<ol>
				<li value="1">Add the <strong class="bold">ethnocentric rg it</strong> font to the <strong class="source-inline">name</strong> and <strong class="source-inline">desc</strong> game object's <strong class="bold">Text Mesh</strong> <strong class="bold">Font</strong> fields.</li>
				<li>Give them a white <strong class="bold">Color</strong>.</li>
				<li>In the <strong class="source-inline">name</strong> game object's <strong class="bold">Text Mesh</strong> <strong class="bold">Text</strong> field, add the following:<p class="source-code"><strong class="bold">officer:</strong></p></li>
				<li>Apply the same changes to the <strong class="source-inline">desc</strong> game object but add the following text to the <strong class="bold">Text</strong> field:<p class="source-code"><strong class="bold">will you need any</strong></p><p class="source-code"><strong class="bold">upgrades before</strong></p><p class="source-code"><strong class="bold">launch?</strong></p></li>
			</ol>
			<p>The following screenshot shows a section of the <strong class="bold">Game</strong> window and its updated font:</p>
			<div>
				<div id="_idContainer348" class="IMG---Figure">
					<img src="image/Figure_9.65_B18381.jpg" alt="Figure 9.65 – Our textBoxPanel game object and its content updated&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.65 – Our textBoxPanel game object and its content updated</p>
			<p>Now, all of our shop's visuals have been amended and will support various screen ratios. By doing this, we also introduced Unity's own <strong class="bold">Button</strong> component.</p>
			<p>We have now reached the point where we can open a template script of <strong class="source-inline">PlayerShipBuild</strong> from our chapter's project files folder. This script will be a replica of the current <strong class="source-inline">PlayerShipBuild</strong> script we have been making but with highlighted <a id="_idIndexMarker997"/>code we will <a id="_idIndexMarker998"/>add to the project to support our <strong class="source-inline">shop</strong> scene's functionality.</p>
			<h3>Upgrading the PlayerShipBuild script</h3>
			<p>In this<a id="_idIndexMarker999"/> section, we are<a id="_idIndexMarker1000"/> going to replace the current <strong class="source-inline">PlayerShipBuild</strong> script with the one from this chapter's project files folder. The replacement script will contain the same code as your current script but with code to show what we will be adding and removing step by step.</p>
			<p>Let's rename our current <strong class="source-inline">PlayerShipBuild</strong> script to something else before we begin working on our new replacement script. To rename the current <strong class="source-inline">PlayerShipBuild</strong> script, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window of the Unity Editor, navigate to the <strong class="source-inline">Assets/Script</strong> folder.</li>
				<li>Double-click the <strong class="source-inline">PlayerShipBuild</strong> script.</li>
				<li>With the <strong class="source-inline">PlayerShipBuild</strong> script open, rename the class name near the top of the script from <strong class="source-inline">PlayerShipBuild</strong> to <strong class="source-inline">PlayerShipBuild_OLD</strong>.</li>
				<li>Save the script and return to the <strong class="source-inline">Assets/Script</strong> folder in the <strong class="bold">Project</strong> window.</li>
				<li>Click the <strong class="source-inline">PlayerShipBuild</strong> script slowly twice so that you're provided with the option to rename the filename.</li>
				<li>Change the filename to <strong class="source-inline">PlayerShipBuild_OLD</strong>.</li>
			</ol>
			<p>Now, we need to disconnect the <strong class="source-inline">PlayerShipBuild_OLD</strong> script from the <strong class="source-inline">shop</strong> game object.</p>
			<ol>
				<li value="7">In the <strong class="bold">Hierarchy</strong> window, at the top, type <strong class="source-inline">shop</strong> into the search bar until you see the <strong class="source-inline">shop</strong> game object. When you do, select it.</li>
				<li>With the <strong class="source-inline">shop</strong> game object selected, click the three dots in the <strong class="bold">Inspector</strong> window in the <strong class="source-inline">PlayerShipBuild_OLD</strong> component (not <strong class="bold">Transform</strong>).</li>
				<li>Select <strong class="bold">Remove Component</strong> from the drop-down list.</li>
			</ol>
			<p>With<a id="_idIndexMarker1001"/> that, we<a id="_idIndexMarker1002"/> have renamed and detached the script from the scene. Now, we can bring in the new replica <strong class="source-inline">PlayerShipBuild</strong> script from this chapter's project files folder.</p>
			<p>To hook up the new replica <strong class="source-inline">PlayerShipBuild</strong> script from our project files folder, do the following:</p>
			<ol>
				<li value="1">In the <strong class="bold">Project</strong> window of the Unity Editor, navigate to the <strong class="source-inline">Assets/</strong> folder.</li>
				<li>Select the <strong class="source-inline">PlayerShipBuild_NEW.txt</strong> script inside the folder and drag it to the <strong class="source-inline">Assets/Script</strong> folder. Rename it and its file format from <strong class="source-inline">.txt</strong> to <strong class="source-inline">.cs</strong>. This will replace some of our old raycast scripts with the same name, <strong class="source-inline">PlayerShipBuild.cs</strong>, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer349" class="IMG---Figure">
					<img src="image/Figure_9.66_B18381.jpg" alt="Figure 9.66 – Update the PlayerShipBuild script from the Chapter 9 folder&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.66 – Rename and move PlayerShipBuild_NEW to the project's Assets/Script folder</p>
			<p>We can now <a id="_idIndexMarker1003"/>apply this<a id="_idIndexMarker1004"/> replica script to the <strong class="source-inline">shop</strong> game object in the scene. Let's get started:</p>
			<ol>
				<li value="1">Select the <strong class="source-inline">shop</strong> game object in the <strong class="bold">Hierarchy</strong> window, as we did before.</li>
				<li>Click the <strong class="bold">Add Component</strong> button in the <strong class="bold">Inspector</strong> window and start typing <strong class="source-inline">PlayerShipBuild</strong>. When you see the <strong class="source-inline">PlayerShipBuild</strong> script, select it from the drop-down list.</li>
				<li>With the <strong class="source-inline">shop</strong> game object still selected, we can now configure the attached <strong class="source-inline">PlayerShipBuild</strong> script. </li>
				<li>To configure the script, set <strong class="bold">Visual Weapons</strong> <strong class="bold">Size</strong> to <strong class="source-inline">3</strong>, click each <strong class="bold">remote</strong> button to the right of each field, and add the following highlighted, from the <strong class="bold">Hierarchy</strong> window:</li>
			</ol>
			<div>
				<div id="_idContainer350" class="IMG---Figure">
					<img src="image/Figure_9.67_B18381.jpg" alt="Figure 9.67 – Add the following three game objects to the PlayerShipBuild script's fields&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.67 – Add the following three game objects to the PlayerShipBuild script's fields</p>
			<p>Our new <strong class="source-inline">PlayerShipBuild</strong> script is now in place. This means we can now open the script and check through and reveal new sections of the code while explaining the fundamental parts of the old code's removal.</p>
			<p>Each <a id="_idIndexMarker1005"/>of the<a id="_idIndexMarker1006"/> following <strong class="bold">Removing the old…</strong> subsections will do the following:</p>
			<ul>
				<li><strong class="bold">//REMOVE(number)</strong>: Refer to what part of the code we are talking about.</li>
				<li><strong class="bold">Reason for removal</strong>: Specify why in the new <strong class="source-inline">PlayerShipBuild</strong> script its code has been removed.</li>
				<li><strong class="bold">Replacement</strong>: What the previous code has been replaced with.</li>
			</ul>
			<h4>Removing the old shop scene's code</h4>
			<p>In this<a id="_idIndexMarker1007"/> section, we are going to go through the newly installed <strong class="source-inline">PlayerShipBuild</strong> script and review parts of the code I have commented out so that it won't be acknowledged when it's compiled and executed in Unity.</p>
			<p>We will be turning off the ability to raycast a 3D object, which we coded in <a href="B18381_05_Epub.xhtml#_idTextAnchor107"><em class="italic">Chapter 5</em></a>, <em class="italic">Creating a Shop Scene for Our Game</em>. Because we have swapped the interactable game objects from 3D to 2D, we are no longer required to shoot and identify game objects as Unity will take care of this with its own <strong class="bold">Button</strong> component.</p>
			<p>To review the code we have commented out, go to the <strong class="bold">Project</strong> window and double-click the <strong class="source-inline">PlayerShipBuild</strong> script located where we left it (<strong class="source-inline">Assets/Script</strong>).</p>
			<p class="callout-heading">Information</p>
			<p class="callout"><strong class="source-inline">Commenting</strong>, <strong class="source-inline">Comments</strong>, and <strong class="source-inline">UnComment</strong> are words that refer to when a piece of code has two forward slashes in front of it. These will be ignored when our code is read by the compiler (when we run our code).</p>
			<p>We are going to review each piece of code in separate sections so that it's clear when the changes <a id="_idIndexMarker1008"/>we are going to make in <strong class="source-inline">PlayerShipBuild</strong> will be applied.</p>
			<h4>Reviewing code – REMOVED 01</h4>
			<p>Each main chunk <a id="_idIndexMarker1009"/>of code begins with <strong class="source-inline">//REMOVED</strong>, followed by a number. Here are the reasons why we have removed the particular piece of code for <strong class="source-inline">//REMOVED 01</strong>:</p>
			<ul>
				<li><strong class="source-inline">//REMOVED 01</strong>: This piece of code creates a raycast and returns a game object called <strong class="source-inline">target</strong>.</li>
				<li><strong class="bold">Reason for removal</strong>: We no longer need to rely on getting references for each game object we shoot a ray at.</li>
				<li><strong class="bold">Replacement</strong>: The <strong class="bold">Button</strong> component comes with an <strong class="source-inline">OnClick</strong> event, which is typically used to load a method when it's selected.</li>
			</ul>
			<p>Let's continue scrolling down the <strong class="source-inline">PlayerShipBuild</strong> script until we get to <strong class="source-inline">//REMOVED 02</strong>.</p>
			<h4>Reviewing code – REMOVED 02</h4>
			<p>In this section, we are going to review what we have commented out in <strong class="source-inline">//REMOVED 02</strong>:</p>
			<ul>
				<li><strong class="source-inline">//REMOVED 02</strong>: This piece of code will take a reference from a raycast-selected game object and turn on that <strong class="source-inline">selection</strong> game object to show that a selection has been made.</li>
				<li><strong class="bold">Reason for removal</strong>: The game object served no benefit apart from serving a cosmetic purpose.</li>
				<li><strong class="bold">Replacement</strong>: The buttons still highlight when selected with the <strong class="source-inline">selection</strong> game object.</li>
			</ul>
			<p>Let's continue scrolling down the <strong class="source-inline">PlayerShipBuild</strong> script until we get to <strong class="source-inline">//REMOVED 03</strong>.</p>
			<h4>Reviewing code – REMOVED 03</h4>
			<p>In this section, we <a id="_idIndexMarker1010"/>are going to review what we have commented out in <strong class="source-inline">//REMOVED 03</strong>:</p>
			<ul>
				<li><strong class="source-inline">//REMOVED 03</strong>: This part of the code checks for the player pressing the fire button; if they do, the code will shoot out a raycast to check whether it made contact with a collider.</li>
				<li><strong class="bold">Reason for removal</strong>: We no longer need this because game objects are identified in an <strong class="source-inline">if</strong> statement.</li>
				<li><strong class="bold">Replacement</strong>: The <strong class="source-inline">OnClick</strong> event system holds a reference to what game object is selected.</li>
			</ul>
			<p>Let's continue scrolling down the <strong class="source-inline">PlayerShipBuild</strong> script until we get to <strong class="source-inline">//REMOVED 04</strong>.</p>
			<h4>Reviewing code – REMOVED 04</h4>
			<p>In this section, we are going to review what we have commented out in <strong class="source-inline">//REMOVED 04</strong>:</p>
			<ul>
				<li><strong class="source-inline">//REMOVED 04</strong>: This script checks what the name of the raycast game object is. Once it's identified through a series of <strong class="source-inline">if</strong> statements, it runs the method applicable to it.</li>
				<li><strong class="bold">Reason for removal</strong>: This section of the code would have checked for specific names our raycast would have made contact with. We no longer use the raycast system now.</li>
				<li><strong class="bold">Replacement</strong>: Each button has its own event trigger that runs its own method.</li>
			</ul>
			<p>Let's continue scrolling down the <strong class="source-inline">PlayerShipBuild</strong> script until we get to <strong class="source-inline">//REMOVED 05</strong>.</p>
			<h4>Reviewing code – REMOVED 05</h4>
			<p>In this section, we are going to review what we have commented out in <strong class="source-inline">//REMOVED 05</strong>:</p>
			<ul>
				<li><strong class="source-inline">//REMOVED 05</strong>: At every frame, it checks whether the player has made a selection in the shop.</li>
				<li><strong class="bold">Reason for removal</strong>: Selection is now based on events; we no longer need to check every frame through the <strong class="source-inline">Update</strong> method.</li>
				<li><strong class="bold">Replacement</strong>: The event trigger system.</li>
			</ul>
			<p>In the previous <a id="_idIndexMarker1011"/>sections, we reviewed and amended the way we interacted with the old shop scene's raycast system.</p>
			<p>The next phase is to apply methods that can be called directly via an event when a button is pressed in the <strong class="source-inline">shop</strong> scene.</p>
			<h3>Adding methods to our PlayerShipBuild script</h3>
			<p>In this<a id="_idIndexMarker1012"/> section, we <a id="_idIndexMarker1013"/>are going to build two main parts so that we can set up our script for 2D UI selection. Thankfully, we have done most of the work for this chapter and all that remains is to make parts of the script <strong class="source-inline">public</strong> so that our code can be accessed from other sources, that is, our event trigger (<strong class="source-inline">OnClick()</strong>).</p>
			<p>The second thing we are going to do is make our <strong class="source-inline">AttemptSelection</strong> method receive the game object button so that it will replace the previous <strong class="source-inline">target</strong> game object.</p>
			<p>To confirm this, the <strong class="source-inline">target</strong> game object was originally used to store ray hits from our raycast system. If you would like to know more about raycast systems, check out <a href="B18381_05_Epub.xhtml#_idTextAnchor107"><em class="italic">Chapter 5</em></a>, <em class="italic">Creating a Shop Scene for Our Game</em>, if this sounds hazy.</p>
			<p>Let's start <a id="_idIndexMarker1014"/>by <a id="_idIndexMarker1015"/>making the <strong class="source-inline">PlayerShipBuild</strong> script's methods accessible to other classes:</p>
			<p class="callout-heading">Information</p>
			<p class="callout">By default, the accessibility levels for our methods/functions and classes are set to private unless stated otherwise. For more information about accessibility levels, check out the following link: <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/accessibility-levels">https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/accessibility-levels</a>.</p>
			<ol>
				<li value="1">Open the <strong class="source-inline">PlayerShipBuild</strong> script and add <strong class="source-inline">public</strong> to the following methods:<ul><li><strong class="bold">public</strong><strong class="source-inline"> void WatchAdvert()</strong></li><li><strong class="bold">public</strong><strong class="source-inline"> void BuyItem()</strong></li><li><strong class="bold">public</strong><strong class="source-inline"> void StartGame()</strong></li></ul></li>
			</ol>
			<p>These methods are now open to other scripts and the Unity Editor via the <strong class="bold">Inspector</strong>. We will cover this in the next section, but before we do that, we need to amend our <strong class="source-inline">AttemptSelection</strong> method.</p>
			<p><strong class="source-inline">AttemptSelection</strong> will be given the same treatment with regard to being a <strong class="source-inline">public</strong> method, but it will now also take a game object in parameters, which will be the button our script is attached to.</p>
			<ol>
				<li value="2">Scroll to the <strong class="source-inline">AttemptSelection</strong> method and add a <strong class="source-inline">public</strong> accessibility level, including a game object with the reference name <strong class="source-inline">buttonName</strong>:<p class="source-code"><strong class="bold">public</strong> void AttemptSelection(<strong class="bold">GameObject buttonName</strong>)</p><p class="source-code">{</p></li>
			</ol>
			<p>Inside this <strong class="source-inline">AttemptSelection</strong> method, we check <strong class="source-inline">buttonName</strong> instead of what we did before by checking <strong class="source-inline">target</strong>. We then follow the same procedure of turning off any buttons highlighted, then apply the <strong class="source-inline">buttonName</strong> game object reference to another game object called <strong class="source-inline">tmpSelection</strong>, which was originally set in the <strong class="source-inline">Select</strong> method.</p>
			<ol>
				<li value="3">Update <strong class="source-inline">AttemptSelection</strong> with the following code:<p class="source-code">if (buttonName)</p><p class="source-code">        { </p><p class="source-code">          TurnOffSelectionHighlights();</p><p class="source-code">          tmpSelection = buttonName;</p></li>
			</ol>
			<p>Continuing<a id="_idIndexMarker1016"/> with<a id="_idIndexMarker1017"/> the next line of code inside our method, we set the button's child <strong class="source-inline">selection</strong> game object to active (switch it on). The following screenshot shows the child number of the <strong class="source-inline">selection</strong> game object in the <strong class="bold">Hierarchy</strong> window:</p>
			<div>
				<div id="_idContainer351" class="IMG---Figure">
					<img src="image/Figure_9.68_B18381.jpg" alt="Figure 9.68 – Hierarchy order of game object 00's children&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.68 – Hierarchy order of game object 00's children</p>
			<ol>
				<li value="4">Enter the following code:<p class="source-code">tmpSelection.transform.GetChild(1).gameObject.SetActive(true);</p></li>
				<li>Inside the <strong class="source-inline">AttemptSelection</strong> method, we now need to change the old <strong class="source-inline">target</strong> game object's name to the new <strong class="source-inline">buttonName</strong> game object. The code in bold <a id="_idIndexMarker1018"/>in <a id="_idIndexMarker1019"/>the following snippet shows where you need to change the names:<p class="source-code"> UpdateDescriptionBox();</p><p class="source-code"> //not sold</p><p class="source-code"> if (<strong class="bold">buttonName</strong>.GetComponentInChildren&lt;Text&gt;().text !=     "SOLD")</p><p class="source-code"> {</p><p class="source-code">    //can afford</p><p class="source-code">    Affordable();</p><p class="source-code">    //can not afford</p><p class="source-code">    LackOfCredits();</p><p class="source-code"> }</p><p class="source-code"> else if (<strong class="bold">buttonName</strong>.GetComponentInChildren&lt;Text&gt;().text     == "SOLD")</p><p class="source-code"> {</p><p class="source-code">    SoldOut();</p><p class="source-code"> }</p><p class="source-code"> }</p><p class="source-code">}</p></li>
				<li>Save the script and re-enter your Game IDs in the <strong class="bold">Inspector</strong> window for the shop game object. (<strong class="bold">Edit | Project Settings | Services | Ads </strong>)</li>
			</ol>
			<p>Remember that if you get stuck with this part, you can always check the <strong class="source-inline">Complete</strong> folder for this chapter, where you'll have access to the completed files.</p>
			<p>So far, we have removed multiple chunks of code and replaced them with a minimal amount that now supports the event triggers from the Unity Editor. This will help with <a id="_idIndexMarker1020"/>performance and<a id="_idIndexMarker1021"/> improve the readability of our code. In the next section, we are going to let each of the UI buttons know what methods to run when a selection is made.</p>
			<h3>Applying trigger events to call methods</h3>
			<p>In this final <a id="_idIndexMarker1022"/>section, we <a id="_idIndexMarker1023"/>are going to make it so that when the player presses a button in the shop, they will get access to it immediately, instead of our script shooting a ray and checking whether and what collider it has made contact with to get access to its method. We will be doing this using Unity's Event system to run methods directly.</p>
			<p>To make a button run a method directly, follow these steps:</p>
			<ol>
				<li value="1">In the Unity Editor, select the first <strong class="source-inline">shop</strong> scene button in the selection grid called <strong class="source-inline">00</strong> in the <strong class="bold">Hierarchy</strong> window, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer352" class="IMG---Figure">
					<img src="image/Figure_9.69_B18381.jpg" alt="Figure 9.69 – Select the 00 game object in the Hierarchy window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.69 – Select the 00 game object in the Hierarchy window</p>
			<ol>
				<li value="2">With <strong class="source-inline">00</strong> selected, scroll down the <strong class="bold">Inspector</strong> window until you come across the <strong class="bold">Button</strong> component. Within the <strong class="bold">On Click ()</strong> panel, click the <strong class="bold">+</strong> icon, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer353" class="IMG---Figure">
					<img src="image/Figure_9.70_B18381.jpg" alt="Figure 9.70 – In the Button component click the + button to add an On Click () event&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.70 – In the Button component click the + button to add an On Click () event</p>
			<ol>
				<li value="3">The <strong class="bold">On Click()</strong> panel<a id="_idIndexMarker1024"/> will <a id="_idIndexMarker1025"/>update from where we need to apply our <strong class="source-inline">shop</strong> game object to the field that currently says <strong class="bold">None (Object)</strong>.</li>
				<li>Click and drag the <strong class="source-inline">shop</strong> game object from the <strong class="bold">Hierarchy</strong> window into the <strong class="bold">None (Object)</strong> field, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer354" class="IMG---Figure">
					<img src="image/Figure_9.71_B18381.jpg" alt="Figure 9.71 – Drag the shop game object from the Hierarchy into the 00 game object Button's On Click () field&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.71 – Drag the shop game object from the Hierarchy into the 00 game object Button's On Click () field</p>
			<p>The <strong class="bold">On Click ()</strong> panel has been updated with the <strong class="source-inline">00</strong> game object. Now, we need to direct what function from <strong class="source-inline">00</strong> it should load. </p>
			<p>We will call the <strong class="source-inline">AttemptSelection</strong> method by making a request when we tap/click one <a id="_idIndexMarker1026"/>of<a id="_idIndexMarker1027"/> the <strong class="source-inline">shop</strong> scene's buttons.</p>
			<p>To make our <strong class="source-inline">00</strong> button load the <strong class="source-inline">AttemptSelection</strong> method, do the following:</p>
			<ol>
				<li value="1">Click the <strong class="bold">No Function</strong> field, followed by our <strong class="source-inline">PlayerShipBuild</strong> script and the <strong class="source-inline">AttemptSelection(GameObject)</strong> public method, as shown in the following screenshot:</li>
			</ol>
			<div>
				<div id="_idContainer355" class="IMG---Figure">
					<img src="image/Figure_9.72_B18381.jpg" alt="Figure 9.72 – With the shop game object in the field, select the PlayerShipBuild script and then the AttemptSelection function&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.72 – With the shop game object in the field, select the PlayerShipBuild script and then the AttemptSelection function</p>
			<p>The<a id="_idIndexMarker1028"/> last <a id="_idIndexMarker1029"/>field to add within the <strong class="bold">On Click ()</strong> panel is the button we want to put through <strong class="source-inline">AttemptSelection</strong>.</p>
			<ol>
				<li value="2">Click the remote button on the far right and type the game object we have selected, that is, <strong class="source-inline">00</strong>. When you see it in the list, click it.</li>
			</ol>
			<p>So, when the player presses the <strong class="source-inline">00</strong> button, our <strong class="bold">On Click ()</strong> event will run the <strong class="source-inline">PlayerShipBuild</strong> script from the <strong class="source-inline">shop</strong> game object. Then, it will run the <strong class="source-inline">AttemptSelection</strong> method, taking the <strong class="source-inline">00</strong> game object as a reference in parameters.</p>
			<ol>
				<li value="3">Set up the <strong class="bold">On Click()</strong> panel for game objects <strong class="source-inline">01</strong> and <strong class="source-inline">02</strong>. Once completed, each <strong class="bold">On Click()</strong> panel will look as follows for all three game objects:</li>
			</ol>
			<div>
				<div id="_idContainer356" class="IMG---Figure">
					<img src="image/Figure_9.73_B18381.jpg" alt="Figure 9.73 – Each game object (00, 01, 02) and their Button component On Click () event property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.73 – Each game object (00, 01, 02) and their Button component On Click () event property settings</p>
			<p>Things are slightly <a id="_idIndexMarker1030"/>different <a id="_idIndexMarker1031"/>for our <strong class="source-inline">START</strong> and <strong class="source-inline">AD</strong> game object buttons (sat in the <strong class="bold">Hierarchy</strong> window).</p>
			<p>To make our <strong class="source-inline">AD</strong> and <strong class="source-inline">START</strong> game object buttons work in the game, do the following:</p>
			<ol>
				<li value="1">Apply the <strong class="source-inline">shop</strong> game object to the <strong class="source-inline">AD</strong> game object's <strong class="source-inline">OnClick</strong> event in the <strong class="bold">Inspector</strong> window, as we did with the last few game object buttons.</li>
				<li>Do the same for the <strong class="source-inline">START</strong> game object button.</li>
				<li>Update each of the <strong class="source-inline">START</strong> and <strong class="source-inline">AD</strong> game object's <strong class="source-inline">OnClick</strong> events, as follows:<ul><li><strong class="bold">AD game object</strong>: Select <strong class="source-inline">PlayerShipBuild</strong>, followed<a id="_idIndexMarker1032"/> by the <strong class="source-inline">WatchAdvert</strong> method.</li><li><strong class="bold">START game object</strong>: Select <strong class="source-inline">PlayerShipBuild</strong>, followed <a id="_idIndexMarker1033"/>by the <strong class="source-inline">StartGame</strong> method. Remember, if you can't see it in the list, make sure it is made <strong class="source-inline">public</strong> in the <strong class="source-inline">PlayerShipBuild</strong> script. You know how to do this now. If not, check the <strong class="source-inline">Complete</strong> folder.</li></ul></li>
			</ol>
			<div>
				<div id="_idContainer357" class="IMG---Figure">
					<img src="image/Figure_9.74_B18381.jpg" alt="Figure 9.74 – AD and START game object Button On Click () event property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.74 – AD and START game object Button On Click () event property values</p>
			<p>The very last button to change is the <strong class="bold">BUY?</strong> button. Follow the same principles that we used before<a id="_idIndexMarker1034"/> and<a id="_idIndexMarker1035"/> select the <strong class="source-inline">BUY?</strong> game object button in the <strong class="bold">Hierarchy</strong> window:</p>
			<ol>
				<li value="1">Apply the usual <strong class="source-inline">shop</strong> game object to its <strong class="bold">On Click()</strong> panel.</li>
				<li>Set the script to <strong class="source-inline">PlayerShipBuild</strong>, followed by <strong class="source-inline">BuyItem</strong>.</li>
			</ol>
			<p>Note that we don't apply event listeners to our bottom row of buttons (Sold Out) as there is no reason to press these buttons.</p>
			<p>Our shop scene is now ready to test. Save the scene and press <strong class="bold">Play</strong> in the Unity Editor to try out our new shop buttons. It would also be worth testing different landscape views in the <strong class="bold">Game</strong> window to see the UI buttons pop into shape when a landscape ratio is selected.</p>
			<p>The following screenshot shows the steps you have to follow to change the ratio. Do this by clicking the <strong class="bold">Game</strong> tab in the Unity Editor, followed by making a selection from two fairly common ratios:</p>
			<div>
				<div id="_idContainer358" class="IMG---Figure">
					<img src="image/Figure_9.75_B18381.jpg" alt="Figure 9.75 – This screenshot shows two common ratios marked&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.75 – This screenshot shows two common ratios marked</p>
			<p>In this section, we reevaluated our code and took out the old raycast system, which involved selecting 3D game objects to run methods. We replaced this with Unity's Event System, complete with <strong class="bold">Button</strong> components that were dynamically organized with the <strong class="bold">Horizontal and Vertical Layout Group</strong> components.</p>
			<p>Now, the UI is more robust since it supports different screen ratios. This will make our game more compatible with a variety of mobile and tablet screens that are old and current, as <a id="_idIndexMarker1036"/>well as <a id="_idIndexMarker1037"/>portable devices that haven't been released yet. This helps future-proof our application without any embarrassing ratio issues occurring.</p>
			<h1 id="_idParaDest-169"><a id="_idTextAnchor172"/>Summary</h1>
			<p>In this chapter, we looked into two different parts of our game: the in-game HUD and rebuilding our shop scene. Both of these used Unity's UI components but in different ways.</p>
			<p>In the in-game HUD section, we read up about what a HUD is and how we can incorporate one into our game. By doing this, we learned how to use <strong class="bold">Horizontal Layout Group</strong> to order images correctly, <strong class="bold">Render Texture</strong> to take a feed from a second camera, and <strong class="bold">Raw Image</strong> to display a feed from <strong class="bold">Render Texture</strong>.</p>
			<p>Most importantly, as required by the Unity Programmer Exam, you need to understand what a HUD is and how to build elements into it, such as a mini-map.</p>
			<p>In the second part of this chapter, we reviewed our current shop scene's interface and code. We took it apart and rebuilt its interface as a Unity Event system that ran methods directly instead of casting a ray to call a method. We also made the interface support multiple ratios.</p>
			<p>With the skills covered in this chapter, you should feel more confident in reviewing and understanding code that could be made more efficient.</p>
			<p>In the next chapter, we will continue working on our in-game level so that we can pause the game, add and change the volume of our music and sound effects manually, and more.</p>
		</div>
	</body></html>