<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Creating Maps and Materials</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Creating a basic material with Standard Shader (Specular setup)</li><li class="listitem" style="list-style-type: disc">Adapting a basic material from Specular setup to Metallic</li><li class="listitem" style="list-style-type: disc">Applying Normal maps to a material</li><li class="listitem" style="list-style-type: disc">Adding Transparency and Emission maps to a material</li><li class="listitem" style="list-style-type: disc">Highlighting materials at mouse-over</li><li class="listitem" style="list-style-type: disc">Adding Detail maps to a material</li><li class="listitem" style="list-style-type: disc">Fading the transparency of a material</li><li class="listitem" style="list-style-type: disc">Playing videos inside a scene</li></ul></div><div><div><div><div><h1 class="title"><a id="ch04lvl1sec44"/>Introduction</h1></div></div></div><p>Unity 5 introduces in<a class="indexterm" id="id307"/> new <strong>Physically-Based Shaders</strong>. Physically-Based Rendering is<a class="indexterm" id="id308"/> a technique that simulates the appearance of materials based on how the light reacts with that material (more specifically, the <em>matter</em> from which that material is made) in the real world. Such a technique allows for more realistic and consistent materials. So, your creations in Unity should look better than ever. Creating materials in Unity has also become more efficient now. Once you have chosen between the available <a class="indexterm" id="id309"/>workflows (<strong>Metallic</strong> or <strong>Specular setup</strong>; we'll get back to that later), there is no<a class="indexterm" id="id310"/> longer the need to browse the drop-down menus in search of specific features, as Unity optimizes the shader for the created material, removing unnecessary code for unused properties once the material has been set up and the texture maps have been assigned.</p><p>For a deep understanding of Physically-Based Rendering, we recommend you to take a look at <em>The Comprehensive PBR Guide</em>, written by <a class="indexterm" id="id311"/>Wes McDermott from Allegorithmic, freely available in two volumes at <a class="ulink" href="http://www.allegorithmic.com/pbr-guide">http://www.allegorithmic.com/pbr-guide</a>. Allegorithmic's guide contains invaluable information on PBR theory and techniques, having been a fundamental reference for this chapter. A great resource that we'd recommend you take a look at is <em>Mastering Physically Based Shading in Unity 5</em> by Renaldas Zioma (Unity), Erland Körner (Unity), and <a class="indexterm" id="id312"/>Wes McDermott (Allegorithmic), available at <a class="ulink" href="http://www.slideshare.net/RenaldasZioma/unite2014-mastering-physically-based-shading-in-unity-5">http://www.slideshare.net/RenaldasZioma/unite2014-mastering-physically-based-shading-in-unity-5</a>.</p><p>Another resource is<em> Physically Based Shading in Unity</em> by Aras Pranckevičius (Unity), available at <a class="ulink" href="http://aras-p.info/texts/files/201403-GDC_UnityPhysicallyBasedShading_notes.pdf">http://aras-p.info/texts/files/201403-GDC_UnityPhysicallyBasedShading_notes.pdf</a>.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec111"/>Creating and saving texture maps</h2></div></div></div><p>The visual aspects of <a class="indexterm" id="id313"/>a material can be modified through the use of textures. In <a class="indexterm" id="id314"/>order to create and edit image files, you will need an image editor such as Adobe Photoshop (the industry standard, and has its native format supported by Unity), GIMP, and so on. In order to follow the recipes in this chapter, it's strongly recommended that you have access to a few pieces of software like these.</p><p>When saving texture maps, especially the ones that have an Alpha Channel, you might want to choose an adequate file format. <strong>PSD</strong>, Photoshop's <a class="indexterm" id="id315"/>native format, is practical for preserving the original artwork in many layers. The PNG format is also a great option, but please note that Photoshop doesn't handle PNG's Alpha channel independently of the transparency, possibly compromising the material's appearance. Also, PNG files <a class="indexterm" id="id316"/>don't support layers. For this chapter, we will often use the TIF format for three main reasons: (a) it's open to those not using Photoshop; (b) it uses layers; (c) it preserves the Alpha Channel information. The file size is significantly greater than in PSDs and PNGs, so feel free to save your work as PSDs (if you have Photoshop) or PNGs (if you don't need layers and, if using Photoshop, Alpha Channels).</p><p>Finally, a word of advice - although it's possible to manually create texture maps for our materials by using the traditional image editing software, new tools such as Allegorthmic's Substance Painter and Bitmap2Material make this work much more efficient, complete, and intuitive, complementing the traditional texture-making process or replacing it altogether - in a similar way to what zBrush and Mudbox did for 3D modeling. For design professionals, we strongly recommend at least trying such tools. Note, however, that products from Allegorithmic won't make use of Unity's Standard Shader, relying on the <a class="indexterm" id="id317"/><strong>substance</strong> files (which are natively supported by Unity).</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec112"/>The big picture</h2></div></div></div><p>To understand the new Standard Shaders, it's a good idea to know the workflows, their properties, and how<a class="indexterm" id="id318"/> they affect the material's appearance. There are, however, many possible ways to work with materials - texture map requirements, for instance, might change from engine to engine, or from one tool to another. Presently, Unity supports two different workflows: one based on Specular, and another based on Metallic values. Although both workflows share similar properties (such as Normal, Height, Occlusion, and Emission), they differ in the way the diffuse color and reflectance properties are set up.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec24"/>Specular workflow</h3></div></div></div><p>Unity's Standard Shader (Specular setup) uses Albedo and Specular/Smoothness maps, combining them to<a class="indexterm" id="id319"/> create some of the material's aspect—mainly its color and reflectance qualities. The following shows the difference between Albedo and Smoothness maps:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Albedo</strong>: This is the<a class="indexterm" id="id320"/> material's diffused color. Plainly and simply, this is how you usually describe the appearance of the material (the British flag is red, white and blue; Ferrari's logo is a black horse in a yellow setting; some sunglasses' lenses are semi-transparent gradients, and more). This description, however, can be deceptive. Purely metallic objects (such as aluminum, chrome, gold, and others) should have black as their diffuse color. Their colors, as we perceive them, have originated from their specular channel. Non-metallic objects (plastic, wood, and even painted or rusted metal), on the other hand, do have very distinct diffuse colors. Texture maps for the Albedo property feature RGB channels for colors and (optionally) an Alpha Channel for transparency.</li><li class="listitem" style="list-style-type: disc"><strong>Specular/Smoothness</strong>: This refers to the shininess of the material. Texture maps make use of RGB <a class="indexterm" id="id321"/>channels for specular color (which informs hue and intensity), and Alpha Channel for smoothness/gloss (dark values for less shiny surfaces and blurred reflections; light/white values for shiny, mirror-like appearance). It is important to note that non-metallic objects feature neutral, very dark specular colors (with plastic, for instance, you should work with a grey value around 59). Metallic objects, on the other hand, feature very light values, and are also a bit yellowish in hue.</li></ul></div><p>To illustrate such concepts, we have created a battery object (shown below), featuring brushed metal caps and a plastic body. Observe how each map contributes to the final result:</p><div><img alt="Specular workflow" src="img/1362OT_04_39.jpg"/></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec25"/>The metallic workflow</h3></div></div></div><p>Unity's default Standard Shader combines Albedo and Metallic/Glossiness maps to create the color and reflectance qualities of the material. The following are the differences:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Albedo</strong>: As in the<a class="indexterm" id="id322"/> Specular workflow, this is the material's diffuse color; how you would describe the material. However, Albedo<a class="indexterm" id="id323"/> maps for the Metallic workflow should be configured in a slightly different way than ones for Specular workflow. This time around, the perceived diffuse color of metallic materials (grey for iron, yellow/orange for golden, and so on) have to be present in the Albedo map. Again, Albedo maps feature RGB channels for the colors and (optionally) an Alpha channel for transparency.</li><li class="listitem" style="list-style-type: disc"><strong>Metallic/Smoothness</strong>: This <a class="indexterm" id="id324"/>refers to how metallic the material looks. Metallic texture maps make use of the Red channel for the Metallic value (black for non-metallic and white for metallic materials that are not painted or rusted) and the Alpha Channel for smoothness (in a similar way to the Specular workflow). Please note that Metallic maps do not include any information on hue, and in these cases the yellow-ish nature of the metallic gloss should be applied to the Albedo map.</li></ul></div><p>To reproduce the <a class="indexterm" id="id325"/>battery that illustrated the Specular workflow by using the Metallic workflow, maps would have to be recreated as follows:</p><div><img alt="The metallic workflow" src="img/1362OT_04_40.jpg"/></div><div><div><h3 class="title"><a id="note31"/>Note</h3><p>You might have noticed that we've used white to convey a metallic object. Technically, since only the Red channel is relevant, we could have used red (R: 255, G: 0, B: 0), yellow (R: 255, G: 255, B: 0) or, for that matter, any color that has a red value of 255.</p></div></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec26"/>Other material properties</h3></div></div></div><p>It's also <a class="indexterm" id="id326"/>worth mentioning that Unity's Standard Shaders support other maps such as:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Normal maps</strong>: The normal map adds detailed bumpiness into the material, simulating a more complex geometry. For instance, the internal ring on the positive (top) node <a class="indexterm" id="id327"/>of the battery that illustrated shader workflows is not modeled in the 3D object's geometry, but rather created through a simple normal map.</li><li class="listitem" style="list-style-type: disc"><strong>Occlusion maps</strong>: A greyscale<a class="indexterm" id="id328"/> map is used to simulate the dark sections of an object under ambient light. Usually, it is used to <a class="indexterm" id="id329"/>emphasize joints, creases, and other details of geometry.</li><li class="listitem" style="list-style-type: disc"><strong>Height maps</strong>: These add <a class="indexterm" id="id330"/>a displacement effect, giving the impression of depth without the need for complex geometry.</li><li class="listitem" style="list-style-type: disc"><strong>Emission maps</strong>: These add color<a class="indexterm" id="id331"/> emitted by the material, as if self-illuminated, such as fluorescent surfaces or LCDs. Texture maps for Emission feature RGB channels for color.</li></ul></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec27"/>Unity samples and documentation</h3></div></div></div><p>Before you start, it might be<a class="indexterm" id="id332"/> a good idea to read Unity's documentation <a class="indexterm" id="id333"/>on textures. It can be found online at <a class="ulink" href="http://unity3d.com/support/documentation/Manual/Textures.html">http://unity3d.com/support/documentation/Manual/Textures.html</a>.</p><p>Finally, Unity has<a class="indexterm" id="id334"/> put together a great resource for those looking for some pointers regarding how to set up maps for a variety of materials: the<a class="indexterm" id="id335"/> <strong>Shader Calibration Scene</strong>, which can be downloaded (for free) from the Unity Asset Store. It is a fantastic collection, featuring sample materials (both Metallic and Specular setup) for wood, metal, rubber, plastic, glass, skin, mud, and much more.</p></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec45"/>Creating a basic material with Standard Shader (Specular setup)</h1></div></div></div><p>In this recipe, we <a class="indexterm" id="id336"/>will learn how to create a basic material using the new Standard Shader (Specular Setup), an Albedo map, and a Specular/Smoothness map. The material will feature both metallic and <a class="indexterm" id="id337"/>non-metallic parts, with various smoothness levels.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec113"/>Getting ready</h2></div></div></div><p>Two files have been prepared to support this recipe: a 3D model (in FBX format) of a battery, and an UVW template texture (in PNG format) to guide us when creating the diffuse texture map. 3D models and UVW templates can be made with 3D modeling software, such as 3DS MAX, Maya, or Blender. All necessary files are available in the <code class="literal">1362_04_01</code> folder.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec114"/>How to do it...</h2></div></div></div><p>To create a basic material, follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Import the <code class="literal">battery.FBX</code> and <code class="literal">uvw_template.png</code> files to your project.</li><li class="listitem">Place<a class="indexterm" id="id338"/> the <strong>battery</strong> model in the scene by dragging it from the <strong>Assets</strong> folder, in the <strong>Project</strong> view, to the <strong>Hierarchy</strong> view. Select it on the <strong>Hierarchy</strong> view and make sure, via the <strong>Transform</strong> component on the <strong>Inspector</strong> view, that it is positioned at <strong>X: 0</strong>, <strong>Y: 0</strong>, <strong>Z: 0</strong>.</li><li class="listitem">Now, let's create a Specular/Smoothness map for our object. Open the image file called <code class="literal">uvw_template.png</code> in your image editor (we'll use Adobe Photoshop to<a class="indexterm" id="id339"/> illustrate the next steps). Note that the image file has only a single layer, mostly transparent, containing the UVW mapping templates that we will use as guidelines for our specular map.</li><li class="listitem">Create a new layer and place it beneath the one with the guidelines. Fill the new layer with dark gray (<strong>R: 56</strong>, <strong>G: 56</strong>, <strong>B: 56</strong>). The guidelines will be visible at the top of the solid black fill:<div><img alt="How to do it..." src="img/1362OT_04_02.jpg"/></div></li><li class="listitem">Create a new layer and select the upper section of the image (the one with the circles). Then, fill that area with a slightly hued light gray (<strong>R: 196</strong>, <strong>G: 199</strong>, <strong>B: 199</strong>):<div><div><h3 class="title"><a id="note32"/>Note</h3><p>The RGB values for our specular map are not arbitrary: Physically-Based Shading takes out most of the guesswork from the mapping process, replacing it with the research for references. In our case, we have used colors based on the reflectance values of iron (the slightly hued light gray) and plastic (the dark gray). Check out the chapter's conclusion for a list of references.</p></div></div></li><li class="listitem">Use the text<a class="indexterm" id="id340"/> elements in white to add a brand, size, and positive/negative indicators to the<a class="indexterm" id="id341"/> battery body. Then, hide the guidelines layer.<div><img alt="How to do it..." src="img/1362OT_04_41.jpg"/></div></li><li class="listitem">Select all your layers and organize them into a group (in Photoshop, this can be done by clicking on the drop-down menu in the <strong>Layers</strong> window and navigating to <strong>Window</strong> | <strong>New Group from Layers…</strong>). Name the new group <code class="literal">Specular</code>:<div><img alt="How to do it..." src="img/1362OT_04_42.jpg"/></div></li><li class="listitem">Duplicate the <code class="literal">Specular</code> group (in the <strong>Layers</strong> window, right-click on the group's name<a class="indexterm" id="id342"/> and select <strong>Duplicate Group…</strong>). Name the duplicated group <code class="literal">Smoothness</code>.</li><li class="listitem">Hide<a class="indexterm" id="id343"/> the <code class="literal">Smoothness</code> group. Then, expand the <code class="literal">Specular</code> group and hide all text layers:<div><img alt="How to do it..." src="img/1362OT_04_43.jpg"/></div></li><li class="listitem">Unhide the <code class="literal">Smoothness</code> group, and hide the <code class="literal">Specular</code> group. Select the dark gray layer. Then, make an area selection around the upper region of the battery body, and fill it with light gray (<strong>R: 220</strong>, <strong>G: 220</strong>, <strong>B: 220</strong>). Rescale and rearrange the <strong>Text</strong> layers if needed:<div><img alt="How to do it..." src="img/1362OT_04_44.jpg"/></div></li><li class="listitem">Duplicate the<a class="indexterm" id="id344"/> layer that contains the gray fill for the upper section of the image (the one that went over the circles).</li><li class="listitem">To add a<a class="indexterm" id="id345"/> brushed quality to this material, add a <strong>Noise</strong> filter to the duplicated layer (in Photoshop, this can be done by navigating to <strong>Filter</strong> | <strong>Noise</strong> | <strong>Add Noise...</strong>). Use <strong>50%</strong> as the <strong>Amount </strong>and set <strong>Monochromatic</strong> to <code class="literal">true</code>. Then, apply a <strong>Motion Blur</strong> filter (<strong>Filter</strong> | <strong>Blur</strong> | <strong>Motion Blur...</strong>) using <strong>30 Pixels</strong> as the <strong>Distance</strong>.</li><li class="listitem">Duplicate the <code class="literal">Smoothness</code> group. Then, select the duplicated group and merge it into a single layer (on the <strong>Layers</strong> window, right-click on the group's name and select <strong>Merge Group</strong>).</li><li class="listitem">Select the merged layer, use the <em>CTRL</em> + <em>A</em> key combination to select the entire image, and copy it using the <em>CTRL</em> + <em>C</em> keys:<div><img alt="How to do it..." src="img/1362OT_04_45.jpg"/></div></li><li class="listitem">Hide the<a class="indexterm" id="id346"/> merged layer and the <code class="literal">Smoothness</code> group. Then, unhide the <code class="literal">Specular</code> group.</li><li class="listitem">In your image<a class="indexterm" id="id347"/> editor, access the image channels window (in Photoshop, this can be done by navigating to <strong>Window</strong> | <strong>Channels</strong>). Create a <strong>New Channel</strong>. This will be our <strong>Alpha</strong> Channel.</li><li class="listitem">Paste the image that you previously copied (from the merged layer) in to the <strong>Alpha</strong> Channel. Then, set all channels as <code class="literal">visible</code>:<div><img alt="How to do it..." src="img/1362OT_04_46.jpg"/></div></li><li class="listitem">Save your image in the Project's <strong>Assets</strong> folder as <code class="literal">Battery_specular</code>, either in Photoshop format (PSD) or TIF format.</li><li class="listitem">Now, let's work on the Albedo map. Save a copy of <code class="literal">Battery_specular</code> as <code class="literal">Battery_albedo</code>. Then, from the <strong>Channels</strong> window, delete the <strong>Alpha</strong> Channel.</li><li class="listitem">From the <strong>Layers</strong><a class="indexterm" id="id348"/> window, hide the <code class="literal">Smoothness copy</code> merged layer, and unhide the <code class="literal">Smoothness</code> group. Finally, expand the <code class="literal">Smoothness</code> group, and hide the layer where the <a class="indexterm" id="id349"/><strong>Noise</strong> filter was applied:<div><img alt="How to do it..." src="img/1362OT_04_47.jpg"/></div></li><li class="listitem">Change the color of the upper rectangle to black. Then, change the light gray area to dark red (<strong>R: 204</strong>, <strong>G: 0</strong>, <strong>B: 0</strong>), and the dark gray to red (<strong>R: 255</strong>, <strong>G: 0</strong>, <strong>B: 0</strong>). Rename the group <code class="literal">Albedo</code> and save the file:<div><img alt="How to do it..." src="img/1362OT_04_48.jpg"/></div></li><li class="listitem">Go back to Unity and make sure that both files were imported. Then, from the <a class="indexterm" id="id350"/><strong>Project</strong> view, create a new <strong>Material</strong>. Name it <code class="literal">Battery_MAT</code>.<div><div><h3 class="title"><a id="tip05"/>Tip</h3><p>An easy way to<a class="indexterm" id="id351"/> create new materials is to access the <strong>Project</strong> view, click on the <strong>Create</strong> drop-down menu, and choose <strong>Material</strong>.</p></div></div></li><li class="listitem">Select <code class="literal">Battery_MAT</code>. From the <strong>Inspector</strong> view, change the Shader to <strong>Standard (Specular setup),</strong> and make sure that the rendering mode is set to <strong>Opaque</strong>.</li><li class="listitem">Set <code class="literal">Battery_specular</code> as the <strong>Specular</strong> map, and <code class="literal">Battery_albedo</code> as the <strong>Albedo</strong> map for <code class="literal">Battery_MAT</code>.</li><li class="listitem">Drag the <code class="literal">Battery_MAT</code> material from the <strong>Project</strong> view and drop it into the <strong>battery</strong> object in the <strong>Hierarchy</strong> view:<div><img alt="How to do it..." src="img/1362OT_04_49.jpg"/></div></li><li class="listitem">Drag the<a class="indexterm" id="id352"/> <code class="literal">Battery_MAT</code> material from the <strong>Project</strong> view and, in the <strong>Hierarchy</strong> view, drop it into the <strong>battery</strong> object:<div><img alt="How to do it..." src="img/1362OT_04_50.jpg"/></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec115"/>How it works...</h2></div></div></div><p>Ultimately, the <a class="indexterm" id="id353"/>visual aspect of the battery is a combination of three properties of its material: Specular, Smoothness, and Albedo.</p><p>To compose the dark red part of the plastic body, for instance, we have mixed the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>The Specular</strong> map (RGB): Very dark grey specularity (for non-metallic appearance)</li><li class="listitem" style="list-style-type: disc"><strong>The Smoothness</strong> (the Alpha channel of the Specular map): Light gray (for a glossy aspect)</li><li class="listitem" style="list-style-type: disc"><strong>The Albedo</strong> map: Dark red (for a dark red color)</li></ul></div><p>The light red portion, on the other hand, combines the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>The Specular</strong> map (RGB): That same dark grey specular</li><li class="listitem" style="list-style-type: disc"><strong>The Smoothness</strong> (the Alpha Channel of the Specular map): Dark gray (for a matte aspect)</li><li class="listitem" style="list-style-type: disc"><strong>The Albedo</strong> map: Red (for a red color)</li></ul></div><p>Finally, the <a class="indexterm" id="id354"/>brushed metal used for the<a class="indexterm" id="id355"/> top and bottom covers combines the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>The Specular</strong> map (RGB): Light grey (for a metallic aspect)</li><li class="listitem" style="list-style-type: disc"><strong>The Smoothness</strong> (the Alpha Channel of the Specular map): A blurred grey noise pattern (for a brushed aspect)</li><li class="listitem" style="list-style-type: disc"><strong>The Albedo</strong> map: Black (for a red color)</li></ul></div><p>Regarding how the image layers are structured, it's good practice to organize your layers into groups named after the property that they are related to. As texture maps get more diversified, it can be a good idea to keep a file that contains all the maps for quick reference and consistency.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec116"/>There's more...</h2></div></div></div><p>A few things you should have in mind when working with Albedo maps are as follows.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec28"/>Setting the texture type for an image file</h3></div></div></div><p>Since image<a class="indexterm" id="id356"/> files can be used for several purposes within Unity (texture maps, GUI textures, cursors, and more), it's a good idea to check if the right <strong>Texture Type</strong> is assigned to your file. This can be done by selecting the image file in the <strong>Project</strong> view, and in the <strong>Inspector</strong> view by using the drop-down menu to select the right <strong>Texture Type</strong> (in this case, <code class="literal">Texture</code>). Please note that other settings can be adjusted, such as <strong>Wrap Mode</strong>, <strong>Filter Mode</strong>, and <strong>Maximum Size</strong>. This last parameter is very useful if you want to keep your texture maps small in size for your game, while still being able to edit them in full size.</p></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec29"/>Combining the map with color</h3></div></div></div><p>When<a class="indexterm" id="id357"/> editing a material, the color picker to the right of the <strong>Albedo</strong> map slot, on the <strong>Inspector</strong> view, can be used to select the material's color, in case there is no texture map. If a texture map is being used, the selected color will be multiplied to the image, allowing variations on the material's color hue.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec46"/>Adapting a basic material from Specular setup to Metallic</h1></div></div></div><p>For a better <a class="indexterm" id="id358"/>understanding of the differences between Metallic and Specular workflows, we will modify the Albedo and Specular/Smoothness maps that are used on a Specular setup material, in order to adapt them to the Metallic workflow. The material to be generated will feature both metallic and non-metallic parts, with various smoothness levels.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec117"/>Getting ready</h2></div></div></div><p>For this recipe, we have prepared a Unity package containing a battery model and its original material (made with Standard Shader—Specular setup). The package includes two image files for the original Albedo and Specular/Smoothness maps which, throughout the recipe, should be adapted for use with the Metallic setup. The package is available in the <code class="literal">1362_04_02</code> folder.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec118"/>How to do it...</h2></div></div></div><p>To create a basic material, follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Import the <code class="literal">battery_prefab</code> Unity package into a new project.</li><li class="listitem">From the <strong>Project</strong> view, select the <strong>battery_prefab</strong> element. Then, from <strong>Inspector</strong>, access its material (named <strong>Battery_MAT</strong>) and change its <strong>Shader</strong> to <strong>Standard</strong> (as opposed to its current shader—<strong>Standard (Specular setup)</strong>.<div><img alt="How to do it..." src="img/1362OT_04_51.jpg"/></div></li><li class="listitem">From the <strong>Project</strong> view, find the <code class="literal">Battery_specular</code> map and rename it <code class="literal">Battery_metallic</code>. Open it in your image editor (we'll use Adobe Photoshop to illustrate the following steps).</li><li class="listitem">Find the layer group named <strong>Specular</strong> and rename it <strong>Metallic</strong>. Then, fill the light gray<a class="indexterm" id="id359"/> layer (named <strong>Layer 2</strong>, in the <strong>Metallic</strong> group) with white (<strong>R: 255</strong>, <strong>G: 255</strong>, <strong>B: 255</strong>), and the dark gray layer (named <strong>Layer 1</strong>, in the <strong>Metallic</strong> group) with black (<strong>R: 0</strong>, <strong>G: 0</strong>, <strong>B: 0)</strong>. Save the file:<div><img alt="How to do it..." src="img/1362OT_04_52.jpg"/></div></li><li class="listitem">Go back to Unity. From the <strong>Inspector</strong> view, set the modified <strong>Battery_metallic</strong> map as the <strong>Metallic</strong> map of the <strong>Battery_MAT</strong> material. Also, set <strong>None</strong> as the <strong>Albedo</strong> map for that material. This will give you an idea of how the material is coming along:<div><img alt="How to do it..." src="img/1362OT_04_53.jpg"/></div></li><li class="listitem">Now, let's adjust the<a class="indexterm" id="id360"/> Albedo texture map. From the <strong>Project</strong> view, locate the <code class="literal">Battery_albedo</code> map and open it in your image editor. Then, use the <strong>Paint Bucket</strong> tool to fill the black area of <strong>Layer 2</strong>, in the <strong>Albedo</strong> group, with light gray (R: <code class="literal">196</code>, G: <code class="literal">199</code>, B: <code class="literal">199</code>). Save the file:<div><img alt="How to do it..." src="img/1362OT_04_54.jpg"/></div></li><li class="listitem">Go back to Unity. From the <strong>Inspector</strong> view, set the modified <strong>Battery_albedo</strong> map as the <strong>Albedo</strong> map of the <strong>Battery_MAT</strong> material. </li></ol></div><p>Your material is ready, combining visual properties based on the different maps that you have edited and assigned.</p><div><img alt="How to do it..." src="img/1362OT_04_55.jpg"/></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec119"/>How it works...</h2></div></div></div><p>The visual aspect of the battery is a combination of three properties of its material: Metallic, Smoothness, and Albedo.</p><p>To compose the <a class="indexterm" id="id361"/>dark red part of the plastic body, for instance, we have mixed the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>The Metallic</strong> map (RGB): Black (for a non-metallic appearance)</li><li class="listitem" style="list-style-type: disc"><strong>The Smoothness</strong> (the Alpha Channel of a Metallic map): Light gray (for a glossy appearance)</li><li class="listitem" style="list-style-type: disc"><strong>The Albedo</strong> map: Dark red (for a dark red color)</li></ul></div><p>The light red portion, on the other hand, combines the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>The Metallic</strong> map (RGB): Black</li><li class="listitem" style="list-style-type: disc"><strong>The Smoothness</strong> (the Alpha Channel of the Metallic map): dark gray (for a matte appearance)</li><li class="listitem" style="list-style-type: disc"><strong>Albedo</strong> map: red (for a red color)</li></ul></div><p>Finally, the brushed metal used for the top and bottom covers combines the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>The Metallic</strong> map (RGB): white (for a metallic aspect)</li><li class="listitem" style="list-style-type: disc"><strong>The Smoothness</strong> (the Alpha Channel of the Metallic map): blurred grey noise pattern (for a brushed appearance);</li><li class="listitem" style="list-style-type: disc"><strong>Albedo</strong> map: light grey (for an iron-like appearance)</li></ul></div><p>Remember to organize your layers in to groups named after the property that they are related to.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec47"/>Applying Normal maps to a material</h1></div></div></div><p>Normal maps<a class="indexterm" id="id362"/> are generally used to simulate complex geometry that would be too expensive, in terms of computer processing, to be actually represented by the 3D polygons during the game's runtime. Oversimplifying, Normal maps fake complex<a class="indexterm" id="id363"/> geometry on low-definition 3D meshes. These maps can be generated either by projecting high-definition 3D meshes onto low-poly ones (a technique usually referred to as <em>baking</em>), or, as will be the case for this recipe, from another texture map.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec120"/>Getting ready</h2></div></div></div><p>For this recipe, we will prepare two texture maps: the<a class="indexterm" id="id364"/> <strong>Heightmap</strong> and the <strong>Normal map</strong>. The<a class="indexterm" id="id365"/> former will be made from simple shapes in an image editor. The latter will be automatically processed from the Heightmap. Although there are a number of tools that can be used to generate Normal maps (see the <em>There is more</em> section of this chapter for a list of resources), we will use a free online tool, Windows and Mac compatible, to generate our texture. Developed by Christian Petry, the <strong>NormalMap Online</strong> feature <a class="indexterm" id="id366"/>can be accessed at <a class="ulink" href="http://cpetry.github.io/NormalMap-Online/">http://cpetry.github.io/NormalMap-Online/</a>.</p><p>To help you with this recipe, it's been provided a Unity package, containing a prefab made of a 3D object and its material; and also an UVW template texture (in PNG format) to guide you when creating the diffuse texture map. All the files are in the <code class="literal">1362_04_03</code> folder.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec121"/>How to do it...</h2></div></div></div><p>To apply a Normal map to a material, follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Import the <code class="literal">1362_04_03.unitypackage</code> file to your project. Select the <code class="literal">batteryPrefab</code> object from the <strong>Assets</strong> | <code class="literal">1362_04_03</code> folder, in the <strong>Project</strong> view. After comparing it with some reference photos, inform yourself about the features that should be reproduced by the Normal map: (<strong>A</strong>) a bumpy ring at the top; and (<strong>B</strong>) some circular creases at the bottom, shown in the following image:<div><img alt="How to do it..." src="img/1362OT_04_14.jpg"/></div></li><li class="listitem">In an image editor, open <code class="literal">uvw_template.png</code>. Create a new layer, fill it with grey (RGB: 128), and position it <a class="indexterm" id="id367"/>below the pre-existing<a class="indexterm" id="id368"/> layer as shown:<div><img alt="How to do it..." src="img/1362OT_04_15.jpg"/></div></li><li class="listitem">On a separate layer, draw a white circle centered on the battery's top. Then, on another layer, draw a black circle, centered on the battery's bottom, as shown below:<div><img alt="How to do it..." src="img/1362OT_04_16.jpg"/></div></li><li class="listitem">If you have used vector shapes to make the circles, rasterize their layers (in Adobe Photoshop, right-click on the layer's name and select the <strong>Rasterize Layer</strong> option from the context menu).</li><li class="listitem">Blur the white circle (in Photoshop, this can be done by navigating to <strong>Filter</strong> | <strong>Blur</strong> | <strong>Gaussian Blur...</strong>). Use <strong>4,0</strong> pixels as the <strong>Radius</strong>.</li><li class="listitem">Hide the UVW<a class="indexterm" id="id369"/> template layer and save the image as <code class="literal">Battery_height.png</code>.</li><li class="listitem">If you want to<a class="indexterm" id="id370"/> convert the Heightmap directly from Unity, import it to your project. Select it from the <strong>Project</strong> view and, from the <strong>Inspector</strong> view, change its <strong>Texture Type</strong> to <strong>Normal map</strong>. Check the <strong>Create from Grayscale</strong> option, adjust <strong>Bumpiness</strong> and <strong>Filtering</strong> as you like, and click on <strong>Apply</strong> to save the changes:<div><img alt="How to do it..." src="img/1362OT_04_17.jpg"/></div></li><li class="listitem">To convert your<a class="indexterm" id="id371"/> Heightmap externally, access the website at <a class="ulink" href="http://cpetry.github.io/NormalMap-Online/">http://cpetry.github.io/NormalMap-Online/</a>. Then, drag the <code class="literal">HEIGHT_battery.png</code> file to<a class="indexterm" id="id372"/> the appropriate image slot. Feel free to play with the <strong>Strength</strong>, <strong>Level</strong> and <strong>Blur/Sharp</strong> parameters:<div><img alt="How to do it..." src="img/1362OT_04_18.jpg"/></div></li><li class="listitem">Save the resulting <a class="indexterm" id="id373"/>Normal map as <code class="literal">Battery_normal.jpg</code> and add it to your Unity project.</li><li class="listitem">In Unity, select <code class="literal">Battery_normal</code> from the <strong>Project</strong> view. Then, from the <strong>Inspector</strong> view, change its <strong>Texture Type</strong> to <strong>Normal</strong>, leaving the <strong>Create from Grayscale</strong> box unchecked. Click on <strong>Apply</strong> to save the changes:<div><img alt="How to do it..." src="img/1362OT_04_19.jpg"/></div></li><li class="listitem">In the <strong>Project</strong><a class="indexterm" id="id374"/> view, select <code class="literal">batteryPrefab</code>. Then, in the <strong>Inspector</strong> view, scroll down to the <strong>Material</strong> component, and assign <code class="literal">Battery_normal</code> to the <strong>Normal Map</strong><a class="indexterm" id="id375"/> slot. To adjust its intensity and direction, change its value to <code class="literal">-0.35</code>:<div><img alt="How to do it..." src="img/1362OT_04_20.jpg"/></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec122"/>How it works...</h2></div></div></div><p>The <strong>Normal</strong> map was calculated from the grey<a class="indexterm" id="id376"/> values on the <strong>Heightmap</strong>, where the lighter tones were<a class="indexterm" id="id377"/> interpreted as recesses (applied to the top of the battery), and the darker tones as bulges (applied to the bottom). Since the desired output was actually the opposite, it was necessary to adjust the Normal map to a negative value (<code class="literal">-0.35</code>). Another possible solution to the issue would have been to redraw the Heightmap and <a class="indexterm" id="id378"/>switch the colors for the white and black circles.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec123"/>There's more...</h2></div></div></div><p>If you wish to explore Normal mapping beyond the limitations of NormalMap Online, there is an ever-growing list of full-featured software that can produce Normal maps (and much more). Here are some resources that you might want to check out:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>CrazyBump</em> is a <a class="indexterm" id="id379"/>standalone tool for Windows and Mac, which is available at <a class="ulink" href="http://www.crazybump.com">http://www.crazybump.com</a></li><li class="listitem" style="list-style-type: disc"><em>nDo</em> is a Photoshop plugin by <a class="indexterm" id="id380"/>Quixel (Windows only), available at <a class="ulink" href="http://quixel.se/ndo">http://quixel.se/ndo</a></li><li class="listitem" style="list-style-type: disc"><em>GIMP normalmap Plugin</em>, available for <a class="indexterm" id="id381"/>Windows only, is available at <a class="ulink" href="http://code.google.com/p/gimp-normalmap/">http://code.google.com/p/gimp-normalmap/</a></li><li class="listitem" style="list-style-type: disc"><em>NVIDIA Texture Tools for Adobe Photoshop</em>, available for Windows only, is available at <a class="ulink" href="http://developer.nvidia.com/nvidia-texture-tools-adobe-photoshop">http://developer.nvidia.com/nvidia-texture-tools-adobe-photoshop</a></li><li class="listitem" style="list-style-type: disc"><em>Bitmap2Material</em> is an <a class="indexterm" id="id382"/>amazing texture generating tool from <a class="indexterm" id="id383"/>Allegorithmic, which is available at <a class="ulink" href="http://www.allegorithmic.com/">http://www.allegorithmic.com/</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec48"/>Adding Transparency and Emission maps to a material</h1></div></div></div><p>The <strong>Emission</strong> property can be used to simulate a variety of self-illuminated objects, from the LEDs of mobile displays to futuristic Tron suits. <strong>Transparency</strong>, on the other hand, can make the diffuse color of a material more or less visible. In this recipe, you will learn how to configure these<a class="indexterm" id="id384"/> properties to produce a toy's cardboard packaging that features a plastic case and glow-in-the-dark text.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec124"/>Getting ready</h2></div></div></div><p>For this recipe, we have<a class="indexterm" id="id385"/> prepared a Unity package containing a prefab made of a 3D object, its material, and its respective diffused texture map (in PNG format). All files are in the <code class="literal">1362_04_04</code> folder.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec125"/>How to do it...</h2></div></div></div><p>To add transparency and color emissions to a material, follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Import <code class="literal">TransparencyEmission.unitypackage</code> to your project. Select the <code class="literal">DIFF_package</code> texture from the <code class="literal">Assets</code> folder, in the <strong>Project</strong> view. Then, open it in your image editor.</li><li class="listitem">First, we will add transparency to the image by deleting the white areas around the package (and the hang hole). Make a selection of those areas (in Photoshop, this can be done <a class="indexterm" id="id386"/>with the <strong>Magic Wand</strong> Tool).</li><li class="listitem">Make sure you unlock the <strong>Background</strong> layer by clicking on the lock icon, to the left of the layer's name, as shown below:<div><img alt="How to do it..." src="img/1362OT_04_21.jpg"/></div></li><li class="listitem">Delete the previously-made selection (this can be done in Photoshop by pressing the <em>Delete</em> key). The <a class="indexterm" id="id387"/>background of the image should be transparent, as shown below. Save the file:<div><img alt="How to do it..." src="img/1362OT_04_22.jpg"/></div></li><li class="listitem">Back in <a class="indexterm" id="id388"/>Unity, in the <strong>Assets</strong> folder, expand the <strong>packagePrefab</strong> list and select the <strong>PackageCard</strong> object. Now, in the <strong>Inspector</strong> view, scroll down to the <strong>Material</strong> component and change its <strong>Rendering Mode</strong> to <strong>Cutout</strong>, and adjust its <strong>Alpha Cutoff</strong> to <code class="literal">0.9</code>:<div><img alt="How to do it..." src="img/1362OT_04_23.jpg"/></div><div><div><h3 class="title"><a id="tip06"/>Tip</h3><p>Choosing <strong>Cutout</strong> <a class="indexterm" id="id389"/>means that your material can be either invisible or fully visible, not allowing for semi-transparency. The <a class="indexterm" id="id390"/><strong>Alpha Cutoff</strong> is used to get rid of unwanted pixels around the transparent borders.</p></div></div></li><li class="listitem">From the <a class="indexterm" id="id391"/>expanded <strong>packagePrefab</strong>, select the <strong>PackagePlastic</strong> object. In the <strong>Inspector</strong> view, scroll down to the <strong>Material</strong> component and<a class="indexterm" id="id392"/> change its <strong>Rendering Mode</strong> to <strong>Transparent</strong>. Then, use the <strong>Diffuse</strong> color picker to change the color's <strong>RGB</strong> values to <code class="literal">56</code>, and <strong>Alpha</strong> to <code class="literal">25</code>. Also, change the <strong>Smoothness</strong> level to <code class="literal">0.9</code>:<div><img alt="How to do it..." src="img/1362OT_04_24.jpg"/></div></li><li class="listitem">Now that we have taken care of our transparency needs, we need to work on the <strong>Emission</strong> map. From the <strong>Assets</strong> folder, duplicate the <code class="literal">DIFF_package</code> texture, rename it <code class="literal">EMI_package</code>, and open it in your image editor.</li><li class="listitem">Select all the characters from the <strong>Ms. Laser</strong> inscription and the green star (in Photoshop, this can be done with the Magic Wand tool, keeping the <em>Shift</em> key pressed while selecting multiple areas).</li><li class="listitem">Copy and paste your selection into a new layer. Then, select it and apply a Noise filter to it (in Photoshop, this can be done by navigating to <strong>Filter</strong> | <strong>Noise</strong> | <strong>Add Noise...</strong>). Use <strong>50%</strong> as the value.</li><li class="listitem">Create a new<a class="indexterm" id="id393"/> layer and, using a tool such as the <strong>Paint Bucket</strong>, fill it with black (R: <code class="literal">0</code>, G: <code class="literal">0</code>, B: <code class="literal">0</code>). Place this black layer beneath the <a class="indexterm" id="id394"/>one with the colored elements.</li><li class="listitem">Flatten your image (in Photoshop this can be done by navigating to <strong>Layer</strong> | <strong>Flatten Image</strong>) and save your file:<div><img alt="How to do it..." src="img/1362OT_04_25.jpg"/></div></li><li class="listitem">Back in Unity, in the <strong>Assets</strong> folder, expand <strong>packagePrefab</strong> and select the <strong>PackageCard</strong> object. Now, in the <strong>Inspector</strong> view, scroll down to the <strong>Material</strong> component and assign the <code class="literal">EMI_package</code> texture to its <strong>Emission</strong> slot. Then, change the <strong>Emission</strong> color slot to white (<strong>R</strong>: <code class="literal">255</code>; <strong>G</strong>: <code class="literal">255</code>; <strong>B</strong>: <code class="literal">255</code>), and turn down its intensity to <code class="literal">0.25</code>, as shown in the following screenshot. Also, change its <strong>GI</strong> option to <strong>None</strong>, so that its glow won't be added to the Lightmaps or influence the illumination in real time:<div><img alt="How to do it..." src="img/1362OT_04_26.jpg"/></div></li><li class="listitem">Place an<a class="indexterm" id="id395"/> instance of the <strong>packagePrefab</strong> in <a class="indexterm" id="id396"/>your scene and check out the results. Your material is ready:<div><img alt="How to do it..." src="img/1362OT_04_27.jpg"/></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec126"/>How it works...</h2></div></div></div><p>Unity is able to read four channels of a texture map: R (Red), G (Green), B (Blue) and A (Alpha). When set to <code class="literal">Transparent</code> or Cutout, the Alpha channel of the diffuse texture map sets the transparency of the material according to each pixel's brightness level (the <strong>Cutout</strong> mode will not render semi-transparency—only fully visible or invisible pixels). You might have noticed that we didn't add an Alpha channel—this is because Photoshop exports the PNG's Alpha map, based on its transparency. To help you visualize the Alpha map, the <code class="literal">1362_04_04</code> folder contains a <code class="literal">DIFF_packageFinal.TIF</code> file featuring an Alpha map that works exactly in the same way as the PNG file that we have generated:</p><div><img alt="How it works..." src="img/1362OT_04_28.jpg"/></div><p>Regarding the<a class="indexterm" id="id397"/> Emission texture map, Unity assigns its RGB colors to the material, combining them with the appropriate color selection slot, and also allowing<a class="indexterm" id="id398"/> adjustments to the intensity of that Emission.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec127"/>There's more...</h2></div></div></div><p>Let look at a little more information on Transparency and Emission.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec30"/>Using texture maps with Transparent Mode</h3></div></div></div><p>Please note that you can use a bitmap texture for the <strong>Diffuse</strong> map in the <strong>Transparent</strong> render mode. In this case, RGB <a class="indexterm" id="id399"/>values will be interpreted as the Diffuse color, while the Alpha will be used to determine that pixel's transparency (in this case, semi-transparent materials are allowed).</p></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec31"/>Avoiding issues with the semi-transparent objects</h3></div></div></div><p>You might have<a class="indexterm" id="id400"/> noticed that the plastic case was made from two objects (<strong>PackagePlastic</strong> and <strong>innerPlastic</strong>). This was done to avoid z-sorting problems, where faces are rendered in front of other geometry when they should be behind it. Having multiple meshes instead of a single one allows these faces to be correctly sorted for rendering. Materials in the <code class="literal">Cutout</code> mode are not affected by this problem, though.</p></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec32"/>Emitting light over other objects</h3></div></div></div><p>The <strong>Emission</strong><a class="indexterm" id="id401"/> value can be used to calculate the material's light projection over other objects when using Lightmaps.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec49"/>Highlighting materials at mouse over</h1></div></div></div><p>Changing the color of an object at runtime can be a very effective way of letting players know that they <a class="indexterm" id="id402"/>can interact with it. This is very useful in a number of game <em>genres</em>, such as puzzles and point-and-click adventures, and it can also be used to create 3D user interfaces.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec128"/>Getting ready</h2></div></div></div><p>For this recipe, we'll use objects created directly in Unity. Alternatively, you can use any 3D model you like.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec129"/>How to do it...</h2></div></div></div><p>To highlight a material at mouse-over, follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a new 3D project, and add a <strong>Cube</strong> to the scene (from the <strong>Hierarchy</strong> view, navigate to <strong>Create</strong> | <strong>3D Object</strong> | <strong>Cube</strong>).</li><li class="listitem">From the <strong>Project</strong> view, click the <strong>Create</strong> drop-down menu and choose <strong>Material</strong>. Name it <code class="literal">HighlightMaterial</code>.</li><li class="listitem">Select <strong>HighlightMaterial</strong>, and, from the <strong>Inspector</strong> view, change its <strong>Albedo</strong> color to gray (R: <code class="literal">135</code>, G: <code class="literal">135</code>, B: <code class="literal">135</code>), its <strong>Emission</strong> intensity to <code class="literal">1</code>, as shown in the screenshot below, and it's <strong>Emission</strong> color to R: <code class="literal">1</code>, G: <code class="literal">1</code>, <strong>B: </strong><code class="literal">1</code>:<div><img alt="How to do it..." src="img/1362OT_04_56.jpg"/></div></li><li class="listitem">Assign <strong>HighlightMaterial</strong> to the <strong>Cube</strong> that you previously created.</li><li class="listitem">From the <strong>Project</strong> view, click on the <strong>Create</strong> drop-down menu and choose <strong>C# Script</strong>. Rename it <code class="literal">HighlightObject</code> and open it in your editor.</li><li class="listitem">Replace everything with the following code:<div><pre class="programlisting">using UnityEngine;
using System.Collections;
public class HighlightObject : MonoBehaviour{
  private Color initialColor;
  public bool noEmissionAtStart = true;
  public Color highlightColor = Color.red;
  public Color mousedownColor = Color.green;

  private bool mouseon = false;
  private Renderer myRenderer;

  void Start() {
    myRenderer = GetComponent&lt;Renderer&gt;();
    if (noEmissionAtStart)
    initialColor = Color.black;
    else
    initialColor = myRenderer.material.GetColor("_EmissionColor");
  }

  void OnMouseEnter(){
    mouseon = true;
    myRenderer.material.SetColor("_EmissionColor", highlightColor);
  }

  void OnMouseExit(){
    mouseon = false;
    myRenderer.material.SetColor("_EmissionColor",initialColor);
  }

  void OnMouseDown(){
    myRenderer.material.SetColor("_EmissionColor", mousedownColor);
  }

  void OnMouseUp(){
    if (mouseon)
    myRenderer.material.SetColor("_EmissionColor", highlightColor);
    else
    myRenderer.material.SetColor("_EmissionColor", initialColor);
  }
}</pre></div></li><li class="listitem">Save <a class="indexterm" id="id403"/>your script and attach it to the <strong>Cube</strong>.</li><li class="listitem">Select the <strong>Cube</strong>, and, in the <strong>Inspector</strong> view, set the <strong>Highlight Color</strong> and <strong>Mousedown Color</strong> values to any colors that you would like:<div><img alt="How to do it..." src="img/1362OT_04_29.jpg"/></div></li><li class="listitem">If you are using the script with your own imported 3D mesh, please make sure you add a <strong>Collider</strong> component to your object.</li><li class="listitem">Test the scene. The <strong>Cube</strong> will be highlighted red when the mouse is over it (and green when clicked on).</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec130"/>How it works...</h2></div></div></div><p>The cube is automatically sent the mouse enter/exit/down/up events as the user moves the mouse pointer over and away from the part of the screen where the cube is visible. Our script adds a behavior to the cube when these events are detected. The <code class="literal">Start()</code> method gets a reference to the <code class="literal">Renderer</code> component of the GameObject that the script has been added to, and stores it in the variable <code class="literal">myRenderer</code> (note that 'renderer' already has a meaning in Unity so it is not appropriate as a private variable name for this script). The Boolean variable called <code class="literal">mouseon</code> records whether or not the mouse pointer is currently over the object. When the mouse button is released, we use the <code class="literal">mouseon</code> variable to decide whether to change the cube back to its initial color (<code class="literal">mouseon</code> FALSE, so the mouse pointer is away from the cube), or back to its highlight color (<code class="literal">mouseon</code> TRUE, so the mouse pointer is over the cube).</p><p>The reason we needed to change the material's original <strong>Emission</strong> color to ultra, dark gray is that leaving it black would have caused Unity to optimize the Shader by removing the <strong>Emission</strong> property from the material. Our script wouldn't have worked if this had happened.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec131"/>There's more...</h2></div></div></div><p>You can achieve other interesting results by changing the other properties of your material (by changing the <code class="literal">_EmissionColor</code> script to <code class="literal">_Color</code> or <code class="literal">"_SpecularColor</code>, for instance). For a full list of properties, select your material, and, in the <strong>Inspector</strong> view, click on the <strong>Edit</strong> button, at the side of the <strong>Shader</strong> drop-down menu.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec50"/>Adding Detail maps to a material</h1></div></div></div><p>When creating<a class="indexterm" id="id404"/> a large object, there is not only the desire to texture it as a whole, but also to add details that can<a class="indexterm" id="id405"/> make it look better at closer distances. To overcome the need for gigantic texture maps, the use of Detail maps can make a real difference. In this recipe, we will add Detail maps to a rocket toy by applying a Detail mask and a Detail Normal map. In our case, we want to add a textured quality (and a stripe pattern) to the green plastic, except in the region where there is a battery compartment and the toy's logo:</p><div><img alt="Adding Detail maps to a material" src="img/1362OT_04_30.jpg"/></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec132"/>Getting ready</h2></div></div></div><p>For this recipe, we have prepared a Unity package, containing the prefab for a rocket toy. The prefab includes the 3D model and a material, featuring a Diffuse map and a Normal map (made from a Heightmap). The file can be found in the <code class="literal">1362_04_06</code> folder.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec133"/>How to do it...</h2></div></div></div><p>To add the Detail maps to your object, follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Import the <code class="literal">rocket.unitypackage</code> file into your project. Then, select the prefab named <code class="literal">rocketToy</code> from the <strong>Assets</strong> folder, in the <strong>Project</strong> view, and place it in your scene.</li><li class="listitem">From the <strong>Hierarchy</strong> view, expand the <strong>rocketToy</strong> GameObject and select its child called <strong>rocketLevel1</strong>. Then, scroll down the <strong>Inspector</strong> view to the <strong>Material</strong> component. Observe that it uses the <code class="literal">DIFF_ship</code> texture as the <strong>Diffuse</strong> map. Duplicate this file and rename the new copy <code class="literal">COPY_ship</code>.</li><li class="listitem">Open <code class="literal">COPY_ship</code> in your image editor. Select all the solid green pixels around the logo and battery compartment (in Photoshop, this can be done with the Magic Wand tool, keeping the <em>Shift</em> key pressed while selecting multiple areas):<div><img alt="How to do it..." src="img/1362OT_04_31.jpg"/></div></li><li class="listitem">Keeping your selection active, access the image <strong>Channels</strong> window (in Photoshop, this <a class="indexterm" id="id406"/>can be done by navigating to <strong>Window</strong> | <strong>Channels</strong>). Click on <strong>New Channel</strong>. This will be our <strong>Alpha</strong> channel:<div><img alt="How to do it..." src="img/1362OT_04_32.jpg"/></div></li><li class="listitem">Hide the <strong>Red</strong>, <strong>Green</strong> and <strong>Blue</strong> channels. Select the <strong>Alpha</strong> channel and paint the selection <a class="indexterm" id="id407"/>white. Then, select the area of the battery compartment and paint it grey (R, G and B: <code class="literal">100</code>):<div><img alt="How to do it..." src="img/1362OT_04_33.jpg"/></div></li><li class="listitem">Save it in the <a class="indexterm" id="id408"/>TIFF format as <code class="literal">MASK_ship.TIF</code>, in the <code class="literal">Assets</code> folder. Make sure that you include <strong>Alpha Channels</strong>:<div><img alt="How to do it..." src="img/1362OT_04_34.jpg"/></div></li><li class="listitem">Now that we have the mask, let's create a diffuse map for our detail. In your image editor, create a new image with the following dimensions: <strong>width</strong>: <code class="literal">64</code>, and <strong>height</strong>: <code class="literal">64</code>.</li><li class="listitem">Fill the new image with grey (R, G and B: <code class="literal">128</code>). Then, use shapes or rectangular <a class="indexterm" id="id409"/>fills to create a dark grey (R, G, and B: <code class="literal">100</code>) horizontal line that is about 16 pixels tall:<div><img alt="How to do it..." src="img/1362OT_04_35.jpg"/></div></li><li class="listitem">Save the image as <code class="literal">DIFF_detail.PNG</code> in the <code class="literal">Assets</code> folder.</li><li class="listitem">Create a new<a class="indexterm" id="id410"/> 64 x 64 image. Use a <strong>Gradient</strong> tool to create a black and white <strong>Radial Gradient</strong> (in Photoshop, this can be done with the <strong>Gradient </strong>Tool in <strong>Radial</strong> mode):<div><img alt="How to do it..." src="img/1362OT_04_36.jpg"/></div></li><li class="listitem">Save the image as <code class="literal">HEIGHT_detail.PNG</code> in the <code class="literal">Assets</code> folder.</li><li class="listitem">Go back to Unity. From the <code class="literal">Assets</code> folder, select <code class="literal">HEIGHT_detail</code>. Then, from the <strong>Inspector</strong> view, change its <strong>Texture Type</strong> to <strong>Normal map</strong>, check the <strong>Create from Grayscale</strong> option, adjust <strong>Bumpiness</strong> to <code class="literal">0.25</code>, and set <strong>Filtering</strong> to <code class="literal">smooth</code>. Click on <strong>Apply</strong> to save the changes:<div><img alt="How to do it..." src="img/1362OT_04_37.jpg"/></div></li><li class="listitem">From the <strong>Hierarchy</strong> view, expand the <strong>rocketToy</strong> GameObject and select its child called <strong>rocketLevel1</strong>. Then, scroll down the <strong>Inspector</strong> view to the <strong>Material</strong> component. Assign <code class="literal">MASK_ship</code> to the <strong>Detail Mask</strong> slot; <code class="literal">DIFF_detail</code> as <strong>Secondary Maps</strong> | <strong>Detail Diffuse x 2</strong>; and <code class="literal">HEIGHT_detail</code> as <strong>Secondary Maps</strong> | <strong>Normal Map</strong>. Also, turn the <strong>Normal Map</strong> intensity down to <code class="literal">0.6</code>.</li><li class="listitem">In the <strong>Secondary Maps</strong> section, change the <strong>Tiling</strong> values to <strong>X</strong>: <code class="literal">200</code>, and <strong>Y</strong>: <code class="literal">50</code>. You might <a class="indexterm" id="id411"/>notice that the pattern is not seamless. This is<a class="indexterm" id="id412"/> because we are using the same <strong>UV Set</strong> from our <strong>Diffuse</strong> texture. However, the object has been assigned to two different<a class="indexterm" id="id413"/> <strong>UV channels</strong> (back when it was being modeled). While UV channel 1 contains the mapping for our <strong>Diffuse</strong> map, UV channel 2 uses a basic cylindrical mapping. We need to change the <strong>Secondary Maps</strong> section's <strong>UV Set</strong> from <strong>UV0</strong> to <strong>UV1</strong>. The Detail map for your material is ready:<div><img alt="How to do it..." src="img/1362OT_04_38.jpg"/></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec134"/>How it works...</h2></div></div></div><p>When in use, <strong>Secondary Maps</strong> are blended onto the material's primary <strong>Diffuse</strong> and <strong>Normal</strong> maps (that's why <a class="indexterm" id="id414"/>our object is green even after the <strong>Detail Diffuse</strong> is applied: the grey tones are superimposed on the original <strong>Diffuse</strong> texture). By using a <strong>Detail Mask</strong>, the artist defines which areas of the object should be affected by Secondary Maps. This is great for customization, and also for creating nuances (like the semi-bumped battery compartment in our example).</p><p>Another helpful feature is the possibility of using a separate UV channel for Details maps and Tiling. Besides adding variation to texture mapping, this allows us to paint the details that can be<a class="indexterm" id="id415"/> perceived even at a very close distance by dramatically enhancing the visual quality of our objects.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec51"/>Fading the transparency of a material</h1></div></div></div><p>In this recipe, we will create an object that, once clicked, fades out and disappears. However, the script will be flexible enough to allow us adjust the initial and final alpha values. Plus, we will have the option of making the object self-destructible when turned invisible.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec135"/>How to do it...</h2></div></div></div><p>Follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Add a <strong>Sphere</strong> to your scene by accessing the <strong>GameObject</strong> | <strong>3D Object</strong> | <strong>Sphere </strong>menu.</li><li class="listitem">Select the <strong>Sphere</strong> and make sure it has a collider (if you are using a custom 3D object, you might have to add a collider through the <strong>Components | Physics</strong> menu).</li><li class="listitem">Create a new material. The easiest way to do that is to access the <strong>Project</strong> view, click the <strong>Create</strong> drop-down menu, and choose <strong>Material</strong>.</li><li class="listitem">Rename your new material. For this example, let's call it <code class="literal">Fade_MAT</code>.</li><li class="listitem">Select your material. From the <strong>Inspector</strong> view, use the drop-down menu to change its <strong>Rendering Mode</strong> to <strong>Fade</strong>:<div><img alt="How to do it..." src="img/1362OT_04_57.jpg"/></div><div><div><h3 class="title"><a id="tip07"/>Tip</h3><p>The <strong>Fade</strong> rendering mode is specifically designed for situations like this. Other rendering modes, such as Transparent, will fade turn the Albedo color transparent, but not the specular highlights nor the reflections, in which case the object will still be visible.</p></div></div></li><li class="listitem">Apply the <strong>FadeMaterial</strong> to <strong>Sphere</strong> by dragging it from the <strong>Project</strong> view into the <strong>Sphere</strong> Game Object name in the <strong>Hierarchy</strong> view.</li><li class="listitem">From the <strong>Project</strong> view, click the <strong>Create</strong> drop down menu and choose <strong>C# Script</strong>. Rename it as <code class="literal">FadeMaterial</code> and open it in your editor.</li><li class="listitem">Replace your script with the code below:<div><pre class="programlisting">using UnityEngine;
using System.Collections;
public class FadeMaterial : MonoBehaviour {
  public float fadeDuration = 1.0f;
  public bool useMaterialAlpha = false;
  public float alphaStart = 1.0f;
  public float alphaEnd = 0.0f;
  public bool destroyInvisibleObject = true;
  private bool isFading = false;
  private float alphaDiff;
  private float startTime;
  private Renderer rend;
  private Color fadeColor;

  void Start () {
    rend = GetComponent&lt;Renderer&gt;();
    fadeColor = rend.material.color;

    if (!useMaterialAlpha) {
      fadeColor.a = alphaStart;
    } else {
      alphaStart = fadeColor.a;
    }

    rend.material.color = fadeColor;
    alphaDiff = alphaStart - alphaEnd;
  }

  void Update () {
    if(isFading){
      var elapsedTime = Time.time - startTime;

      if(elapsedTime &lt;= fadeDuration){
        var fadeProgress = elapsedTime / fadeDuration;
        var alphaChange = fadeProgress * alphaDiff;
        fadeColor.a = alphaStart - alphaChange;
        rend.material.color = fadeColor;
        } else {
        fadeColor.a = alphaEnd;
        rend.material.color = fadeColor;

        if(destroyInvisibleObject)
          Destroy (gameObject);
        isFading = false;  
      }
    }
  }

  void OnMouseUp(){
    FadeAlpha();
  }

  public void FadeAlpha(){
    isFading = true;
    startTime = Time.time;
  }
}</pre></div></li><li class="listitem">Save your script and apply it to the <strong>Sphere</strong> Game.</li><li class="listitem">Play your scene and click on the <strong>Sphere</strong> to see it fade away and self-destruct.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec136"/>How it works...</h2></div></div></div><p>Since the opaqueness of the material using a transparent Shader is determined by the alpha value of its main color, all we need to do in order to fade it is changing that value over a given amount of time. This transformation is expressed, in our script, on the following lines of code:</p><div><pre class="programlisting">var fadeProgress = elapsedTime / fadeDuration;
var alphaChange = fadeProgress * alphaDiff;
fadeColor.a = alphaStart - alphaChange;
rend.material.color = fadeColor;</pre></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec137"/>There's more...</h2></div></div></div><p>You could call the <code class="literal">FadeAlpha</code> function in other circumstances (such as a <code class="literal">Rigidbody</code> collision, for instance). In fact, you could even call it from another Game Object's script by using the <code class="literal">GetComponent</code> command. The script would be something like:</p><div><pre class="programlisting">GameObject.Find("Sphere").GetComponent&lt;FadeMaterial&gt;().FadeAlpha();</pre></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec52"/>Playing videos inside a scene</h1></div></div></div><p>TV sets, projectors, monitors.... If you want complex animated materials in your level, you can play video files as texture maps. In this recipe, we will learn how to apply a video texture to a cube. We will also implement a simple control scheme that plays or pauses the video whenever that cube is clicked on.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec138"/>Getting ready</h2></div></div></div><p>Unity imports video files through Apple Quicktime. If you don't have it installed in your machine, please download it at <a class="ulink" href="http://www.apple.com/quicktime/download/">http://www.apple.com/quicktime/download/</a>.</p><p>Also, if you need a video file to follow this recipe, please use the <code class="literal">videoTexture.mov</code> included in the folder <code class="literal">1632_04_08</code>.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec139"/>How to do it...</h2></div></div></div><p>Follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Add a cube to the scene through the <strong>GameObject</strong> | <strong>3D Object</strong> | <strong>Cube</strong> menu.</li><li class="listitem">Import the provided <code class="literal">videoTexture.mov</code> file.</li><li class="listitem">From the <strong>Project</strong> view, use the <strong>Create</strong> drop-down menu to create a new <strong>Material</strong>. Rename it <code class="literal">Video_MAT</code> and, from the <strong>Inspector</strong> view, change its <strong>Shader</strong> to <strong>Unlit/Texture</strong>:<div><img alt="How to do it..." src="img/1362OT_04_58.jpg"/></div></li><li class="listitem">Apply <code class="literal">videoTexture</code> to the texture slot of <code class="literal">Video_MAT</code> by dragging it from the <strong>Project</strong> view into the appropriate slot.</li><li class="listitem">Apply the <code class="literal">Video_MAT</code> to the <strong>Cube</strong> you have previously created.</li><li class="listitem">Expand <code class="literal">videoTexture</code> on the <strong>Project</strong> view to reveal its correspondent <strong>Audio Clip</strong>. Then, apply that audio clip to the <strong>Cube</strong> (you can do it by dragging it from the <strong>Project</strong> view to the <strong>Cube</strong> in the <strong>Hierarchy</strong> view, or a <strong>Scene</strong> view).<div><img alt="How to do it..." src="img/1362OT_04_59.jpg"/></div></li><li class="listitem">Select the <strong>Cube</strong>. Make sure there is a <strong>Collider</strong> component visible from the <strong>Inspector</strong> view. In case there isn't one, add it via the <strong>Component</strong> | <strong>Physics</strong> | <strong>Box Collider</strong> menu. Colliders are needed for mouse collision detection.</li><li class="listitem">Now we need to create a script for controlling the movie texture and associated audio clip. From <strong>Project</strong> view, use the <strong>Create</strong> drop-down menu to add a <strong>C# Script</strong>. Name it <code class="literal">PlayVideo</code>.</li><li class="listitem">Open the script and replace it with the following code:<div><pre class="programlisting">using UnityEngine;
using System.Collections;

[RequireComponent(typeof(AudioSource))]

public class PlayVideo : MonoBehaviour {

  public bool loop = true;
  public bool playFromStart = true;
  public MovieTexture video;
    public AudioClip audioClip;
  private AudioSource audio;

  void Start () {
    audio = GetComponent&lt;AudioSource&gt; ();

    if (!video)
      video = GetComponent&lt;Renderer&gt;().material.mainTexture as MovieTexture;

    if (!audioClip)
        audioClip = audio.clip;

    video.Stop ();
    audio.Stop ();
    video.loop = loop;
    audio.loop = loop;

    if(playFromStart)
      ControlMovie();
  }
  
  void OnMouseUp(){
    ControlMovie();
  }

  public void ControlMovie(){
  
    if(video.isPlaying){
      video.Pause();
      audio.Pause();
    } else {
      video.Play();
      audio.Play();
    }
  }
}</pre></div></li><li class="listitem">Save your script and attach it to the <strong>Cube</strong>.</li><li class="listitem">Test your scene. You should be able to see the movie being played in the cube face, and also pause/play it by clicking on it.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec140"/>How it works...</h2></div></div></div><p>By default, our script makes the movie texture play in loop mode. There is, however, a Boolean variable than can be changed through the <strong>Inspector</strong> panel, where it is represented by a check box. Likewise, there is a check box that can be used to prevent the movie from playing when the level starts.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec141"/>There's more...</h2></div></div></div><p>There are some other movie texture commands and parameters that can be played with. Don't forget to check out Unity's scripting guide at <a class="ulink" href="http://docs.unity3d.com/Documentation/ScriptReference/MovieTexture.html">http://docs.unity3d.com/Documentation/ScriptReference/MovieTexture.html</a>.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec53"/>Conclusion</h1></div></div></div><p>This chapter has covered a number of techniques used to create, often manually and sometimes automatically, texture maps that are capable of giving distinctive features to materials. Hopefully, you are now more confident about working with Unity's new Physically-Based Shading, which is capable of understanding differences between available workflows, is aware of the role of each material property, and is ready to make better-looking materials for your games. We have also explored ways of changing the properties of materials during runtime by accessing an object's material via script.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec142"/>Resources</h2></div></div></div><p>Physically-Based Rendering is a <a class="indexterm" id="id416"/>complex (and current) topic, so it's a good idea to study it a bit by familiarizing yourself with the tools and concepts behind it. To help you with this task, we have included a non-exhaustive list of resources below that you should take a look at.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec33"/>References</h3></div></div></div><p>Here's a list of interesting, detailed material on Physically-Based Rendering (within and outside Unity):</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>The Comprehensive PBR Guide Volumes 1 and 2</em> by Wes McDermott (Allegorithmic), available at <a class="ulink" href="http://www.allegorithmic.com/pbr-guide">http://www.allegorithmic.com/pbr-guide</a>. This guide<a class="indexterm" id="id417"/> takes an in-depth look at the practical and theoretical aspects of PBR, including great analysis of possible workflows.</li><li class="listitem" style="list-style-type: disc"><em>Mastering Physically Based Shading in Unity 5</em> by Renaldas Zioma (Unity), Erland Körner (Unity), and Wes McDermott (Allegorithmic), is available at <a class="ulink" href="http://www.slideshare.net/RenaldasZioma/unite2014-mastering-physically-based-shading-in-unity-5">http://www.slideshare.net/RenaldasZioma/unite2014-mastering-physically-based-shading-in-unity-5</a>. This is a detailed presentation about using PBS in Unity. Originally presented at the Unite 2014 conference, it contains some out-of-date information, but, nevertheless, it is still worth taking a look at.</li><li class="listitem" style="list-style-type: disc"><em>Physically Based Shading in Unity 5</em> by Aras Pranckevičius, from Unity, is available at <a class="ulink" href="http://aras-p.info/texts/talks.html">http://aras-p.info/texts/talks.html</a>. Slides and notes from a presentation on the subject are given at the GDC.</li><li class="listitem" style="list-style-type: disc"><em>Tutorial: Physically Based Rendering, And You Can Too!</em> by Joe "EarthQuake" Wilson is available at <a class="ulink" href="http://www.marmoset.co/toolbag/learn/pbr-practice">http://www.marmoset.co/toolbag/learn/pbr-practice</a>. It is a great overview from the makers of <strong>Marmoset Toolbag</strong> and <strong>Skyshop</strong>.</li><li class="listitem" style="list-style-type: disc"><em>Polycount PBR Wiki</em>, which is available at <a class="ulink" href="http://wiki.polycount.com/wiki/PBR">http://wiki.polycount.com/wiki/PBR</a>, is a list of resources compiled by the Polycount <a class="indexterm" id="id418"/>community.</li></ul></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec34"/>Tools</h3></div></div></div><p>This is a new generation of texturing software for you to check out, in case you haven't yet:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>Substance Painter</em> is a 3D painting application from Allegorithmic. It is available at <a class="ulink" href="http://www.allegorithmic.com/products/substance-painter">http://www.allegorithmic.com/products/substance-painter</a>. Again, it's worth <a class="indexterm" id="id419"/>mentioning that Allegorithmic products won't make use of Unity's Standard Shader, relying instead on substance files that are<a class="indexterm" id="id420"/> natively supported by Unity.</li><li class="listitem" style="list-style-type: disc"><em>Bitmap2Material</em> creates<a class="indexterm" id="id421"/> full-featured materials (including normal maps, specular maps, and more) from a single bitmap image. Also, it is<a class="indexterm" id="id422"/> from Allegorithmic, and it is available at <a class="ulink" href="http://www.allegorithmic.com/products/bitmap2material">http://www.allegorithmic.com/products/bitmap2material</a>.</li><li class="listitem" style="list-style-type: disc"><em>Quixel DDO</em> is a plugin for<a class="indexterm" id="id423"/> creating PBR-ready textures in Adobe <a class="indexterm" id="id424"/>Photoshop. From Quixel, it is available at <a class="ulink" href="http://www.quixel.se/ddo">http://www.quixel.se/ddo</a>.</li><li class="listitem" style="list-style-type: disc"><em>Quixel NDO</em> is a plugin for<a class="indexterm" id="id425"/> creating <a class="indexterm" id="id426"/>Normal maps in Adobe Photoshop. From Quixel, it is available at <a class="ulink" href="http://www.quixel.se/ndo">http://www.quixel.se/ndo</a>.</li><li class="listitem" style="list-style-type: disc"><em>Mari</em> is a 3D<a class="indexterm" id="id427"/> painting tool from <a class="indexterm" id="id428"/>The Foundry. It is available at <a class="ulink" href="http://www.thefoundry.co.uk/products/mari/">http://www.thefoundry.co.uk/products/mari/</a>.</li></ul></div></div></div></div></body></html>