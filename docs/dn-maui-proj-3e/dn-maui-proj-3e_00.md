# 前言

*.NET MAUI 项目* 是一本实践性书籍，你将从头开始创建九个应用程序。你将获得设置环境所需的根本技能，我们将在过渡到 .NET MAUI 之前解释 .NET Mobile 是什么，以便真正利用真正的本地跨平台代码。

在阅读这本书之后，你将真正理解创建一个你可以构建并经得起时间考验的应用程序需要什么。

我们将涵盖升级到 Xamarin.Forms、动画、消费 REST 接口、使用 SignalR 进行实时通信以及使用设备的 GPS 进行位置跟踪等内容。还有空间用于机器学习、一点 .NET Blazor 以及必备的待办事项列表。

编程愉快！

# 本书面向的对象

这本书是为那些熟悉 C# 和 Visual Studio 的开发者所写。你不必是专业的程序员，但你应该具备使用 .NET 和 C# 进行面向对象编程的基本知识。典型的读者可能是那些想要探索如何使用 .NET Mobile，特别是 .NET MAUI 来创建应用程序的人。

在此之前不需要了解 .NET Mobile，但如果你已经使用过传统的 .NET Mobile 并希望迈向 .NET MAUI，这将大有裨益。

# 本书涵盖的内容

*第一章*，*.NET MAUI 简介*，解释了 .NET Mobile 和 .NET MAUI 的基本概念。它帮助你理解如何创建真正的跨平台应用程序的构建块。这是本书唯一的理论章节，将帮助你开始并设置你的开发环境。

*第二章*，*构建我们的第一个 .NET MAUI 应用*，指导你了解 **模型-视图-视图模型**（**MVVM**）的概念，并解释如何使用控制反转模式简化视图和视图模型的创建。我们将创建一个支持导航、过滤和向列表添加待办事项的应用程序，并且还将渲染一个利用 .NET MAUI 强大的数据绑定机制的用户界面。

*第三章*，*将 Xamarin.Forms 应用转换为 .NET MAUI 应用*，逐步介绍了将现有在 Mono 上运行的 Xamarin.Forms 应用转换为在 .NET 7 上运行的 .NET MAUI 应用的步骤。我们将讨论两种将你的 Xamarin.Forms 应用转换为 .NET MAUI 应用的不同方法。第一种方法将使用新的 .NET MAUI 项目，并将我们旧的 Xamarin.Forms 代码移动到新项目中，第二种方法将使用 **.NET 升级助手** 工具为我们完成一些升级。

*第四章*，*使用.NET MAUI Shell 构建新闻应用*，探讨了.NET MAUI 中的默认导航模板`Shell`，这是定义.NET MAUI 应用结构的标准方式。在本章中，你将学习到使用.NET MAUI 应用中的`Shell`所需的所有知识。

*第五章*，*使用动画和内容布局构建具有丰富 UX 的匹配应用*，让你深入了解如何使用动画和内容布局定义更丰富的用户界面。它还涵盖了自定义控件的概念，用于封装用户界面为自包含的组件。

*第六章*，*使用 CollectionView 和 CarouselView 构建照片库应用*，详细介绍了.NET MAUI 的`CollectionView`和`CarouselView`控件。在本章中，我们将使用它们构建一个照片库应用，以学习如何掌握这些控件。

*第七章*，*使用 GPS 和地图构建位置跟踪应用*，深入探讨了如何使用设备 GPS 中的地理位置数据，以及如何在地图上绘制这些数据。它还解释了如何使用后台服务在长时间内持续跟踪位置，以创建你花费时间的热图。

*第八章*，*为多种形态构建天气应用*，全部关于消费第三方 REST 接口并以用户友好的方式显示数据。我们将连接到天气服务以获取当前位置的天气预报，并在列表中显示结果。

*第九章*，*使用 Azure 服务为游戏设置后端*，是两部分的第一个部分，我们将设置一个游戏应用。本章解释了如何使用 Azure 服务创建一个后端，通过 SignalR 公开功能，以设置应用程序之间的实时通信通道。

*第十章*，*构建实时游戏*，承接上一章内容，涵盖了应用程序的前端——在这种情况下，是一个连接到后端并传递用户之间消息的.NET MAUI 应用。本章重点介绍在客户端设置 SignalR，并解释如何创建一个通过消息和事件抽象这种通信的服务模型。

*第十一章*，*使用.NET MAUI Blazor 构建计算器*，探讨了.NET Blazor 应用嵌入到.NET MAUI 应用中的情况。我们将使用 Blazor 编写计算器应用的一部分，并在.NET MAUI 中使用`BlazorWebView`托管它。我们还将实现 Blazor 和.NET MAUI 之间的通信。

*第十二章*，*使用机器学习判断热狗是否存在*，涵盖了创建一个使用机器学习来识别图像中是否包含热狗的应用。

# 为了充分利用本书

我们建议您先阅读第一章，以确保您对 Xamarin 的基本概念有足够的了解。之后，您可以随意选择您想深入了解的章节。每个章节都是独立的，但章节按照复杂度排序；您在书中的位置越深，应用程序将越复杂。

应用程序适用于实际使用，但一些部分被省略了，例如适当的错误处理和分析，因为它们超出了本书的范围。然而，您应该能够很好地掌握创建应用程序的基本构建块。

话虽如此，如果您之前一直是 C#和.NET 开发者，这确实会有所帮助，因为许多概念并不是特定于应用程序的，而是通用的良好实践，例如 MVVM 和反转控制。

但是，最重要的是，这是一本您可以用来通过关注您最感兴趣的章节来启动您的.NET MAUI 开发学习曲线的书。

| **本书涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Visual Studio Community Edition. 一台能够运行 Windows 10 或更高版本的计算机用于 UWP 和 Android。一台能够运行 macOS Mojave 10.14 的 Mac 用于 iOS 模拟器 | Windows 10 或更高版本，macOS Sierra 10.12 或更高版本 |
| Xcode. 一台能够运行 macOS Sierra 10.14 的 Mac | macOS Mojave 10.14 |

**如果您使用的是本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中有一个链接）获取代码。这样做将帮助您避免与代码的复制和粘贴相关的任何潜在错误。**

# 下载示例代码文件

您可以从 GitHub 下载本书的示例代码文件，网址为[`github.com/PacktPublishing/MAUI-Projects-3rd-Edition`](https://github.com/PacktPublishing/MAUI-Projects-3rd-Edition)。如果代码有更新，它将在 GitHub 仓库中更新。

我们还有其他来自我们丰富的图书和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 使用的约定

本书使用了多种文本约定。

`文本中的代码`：表示文本中的代码词汇、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“由于所有.NET MAUI 程序都以`MauiProgram.cs`文件开始，这似乎是一个不错的起点。”

代码块设置如下：

```cs
.keypad {
    width: 300px;
    margin: auto;
    margin-top: -1.1em;
}
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```cs
    builder.Services.AddMauiBlazorWebView();
#if DEBUG
    builder.Services.AddBlazorWebViewDeveloperTools();
    builder.Logging.AddDebug();
#endif
```

任何命令行输入或输出都按照以下方式编写：

```cs
$ mkdir ViewModels
$ cd ViewModels
```

**粗体**：表示新术语、重要词汇或屏幕上出现的词汇。例如，菜单或对话框中的词汇以**粗体**显示。以下是一个示例：“打开 Visual Studio 2022 并选择**创建一个**新项目。”

小贴士或重要注意事项

看起来像这样。

# 联系我们。

我们始终欢迎读者的反馈。

**一般反馈**：如果您对本书的任何方面有疑问，请通过 mailto:customercare@packtpub.com 发送电子邮件，并在邮件主题中提及书名。

**勘误**：尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然可能发生。如果您在本书中发现错误，我们将不胜感激，如果您能向我们报告这一点。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。

**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过 mailto:copyright@packt.com 与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享您的想法。

一旦您阅读了*.NET MAUI Projects*，我们很乐意听到您的想法！请[点击此处直接转到本书的 Amazon 评论页面](https://packt.link/r/1837634912)并分享您的反馈。

您的评论对我们和科技社区都非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载本书的免费 PDF 副本。

感谢您购买本书！

您喜欢在路上阅读，但无法携带您的印刷书籍到处走吗？

您的电子书购买是否与您选择的设备不兼容？

不要担心，现在，随着每本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何时间、任何设备上阅读。从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止于此，您还可以获得独家折扣、新闻通讯以及每天收件箱中的精彩免费内容。

按照以下简单步骤获取福利：

1.  扫描下面的二维码或访问以下链接。

![二维码](img/B19214_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781837634910`](https://packt.link/free-ebook/9781837634910)

2. 提交您的购买证明。

3. 就这些！我们将直接将您的免费 PDF 和其他福利发送到您的电子邮件。

# 第一部分：简介

在这部分，您将了解.NET MAUI 的概述，并学习如何安装.NET MAUI 以创建您的第一个.NET MAUI 项目。在创建您的第一个项目时，您将了解模型-视图-视图模型设计模式以及如何在.NET MAUI 应用程序中使用它。Xamarin 用户还将学习如何手动或使用.NET 升级助手将他们的项目升级到.NET MAUI。

本部分包含以下章节：

+   *第一章*，*.NET MAUI 简介*

+   *第二章*，*构建您的第一个.NET MAUI 应用程序*

+   *第三章*，*将 Xamarin.Forms 应用程序转换为.NET MAUI*
