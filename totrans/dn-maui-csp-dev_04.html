<html><head></head><body>
		<div id="_idContainer059">
			<h1 id="_idParaDest-52" class="chapter-number"><a id="_idTextAnchor054"/>4</h1>
			<h1 id="_idParaDest-53"><a id="_idTextAnchor055"/>MVVM and Controls</h1>
			<p>In <a href="B19723_03.xhtml#_idTextAnchor036"><span class="No-Break"><em class="italic">Chapter 3</em></span></a>, we examined the fundamentals of .NET MAUI, but our code was in the code-behind files associated with XAML files. It is time, though, to turn our attention to the consensus architecture for .<span class="No-Break">NET MAUI.</span></p>
			<p><strong class="bold">Model-View-ViewModel</strong> (<strong class="bold">MVVM</strong>) is not a tool or a platform but an architecture. Simply put, it is a way of organizing your code and thinking to optimize the creation of .NET MAUI applications and to facilitate unit testing (see <a href="B19723_09.xhtml#_idTextAnchor160"><span class="No-Break"><em class="italic">Chapter 9</em></span></a><span class="No-Break">).</span></p>
			<p>At its simplest, MVVM consists of three sets of files, that is three namespaces, which essentially means three folders (with subfolders as needed). Taken in turn, <strong class="source-inline">Model</strong> is the set of classes that define the <em class="italic">shape</em> of your data. This just means that the classes that represent data are held in <span class="No-Break">the model.</span></p>
			<p><strong class="source-inline">View</strong> is, in simple words, the page that the <span class="No-Break">user sees.</span></p>
			<p><strong class="source-inline">ViewModel</strong> is where all the action happens. It is the set of classes that manage the logic of your program and that contain the <em class="italic">properties</em> that are presented in <strong class="source-inline">View</strong>. We’ll get into <strong class="bold">ViewModel</strong> (<strong class="bold">VM</strong>) properties as <span class="No-Break">we go.</span></p>
			<p>In this chapter, we will explore the <span class="No-Break">following topics:</span></p>
			<ul>
				<li>Setting <span class="No-Break">up MVMM</span></li>
				<li><span class="No-Break">Data binding</span></li>
				<li><span class="No-Break">Views</span></li>
				<li>XAML <span class="No-Break">versus C#</span></li>
				<li><span class="No-Break">Behaviors</span></li>
				<li>Popups <span class="No-Break">and dialogs</span></li>
				<li><span class="No-Break">Brushes</span></li>
			</ul>
			<h1 id="_idParaDest-54"><a id="_idTextAnchor056"/>Technical requirements</h1>
			<p>For this chapter, you will need the latest version of Visual Studio (<span class="No-Break">any edition).</span></p>
			<p>Each chapter in this book is saved as a branch. The code shown in this chapter and the next is in the branch at <a href="https://github.com/PacktPublishing/.NET-MAUI-for-C-Sharp-Developers/tree/MVVMAndControls">https://github.com/PacktPublishing/.NET-MAUI-for-C-Sharp-Developers/tree/MVVMAndControls</a>. If you check out the branch you’ll see where we ended up, but if you want some of the intermediate steps, just examine the commits that contributed to the branch. To follow along, however, check out the branch at <a href="https://github.com/PacktPublishing/.NET-MAUI-for-C-Sharp-Developers/tree/Navigation/tree/XAMLAndCSharp">https://github.com/PacktPublishing/.NET-MAUI-for-C-Sharp-Developers/tree/Navigation/tree/XAMLAndCSharp</a> as the <span class="No-Break">starting point.</span></p>
			<h1 id="_idParaDest-55"><a id="_idTextAnchor057"/>Setting up for MVVM</h1>
			<p>MVVM is as much <a id="_idIndexMarker067"/>a way to organize your files and folders as it is an architectural approach. To get started using MVVM we’ll do <span class="No-Break">two things:</span></p>
			<ol>
				<li>Create <span class="No-Break">the folders.</span></li>
				<li>Download the associated <span class="No-Break">Community Toolkits.</span></li>
			</ol>
			<h2 id="_idParaDest-56"><a id="_idTextAnchor058"/>Creating folders</h2>
			<p>We will be creating three folders. Before I tell you the names of these folders, I should say there is some disagreement<a id="_idIndexMarker068"/> about what exactly to name them. <em class="italic">Table 4.1</em> shows the folder names and <span class="No-Break">their alternatives:</span></p>
			<table id="table001-1" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Name </strong><span class="No-Break"><strong class="bold">we’ll use</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Alternative 1</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Alternative 2</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="source-inline">Model</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="source-inline">Models</strong></span></p>
						</td>
						<td class="No-Table-Style"/>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="source-inline">View</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="source-inline">Views</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="source-inline">Pages</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="source-inline">ViewModel</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="source-inline">ViewModels</strong></span></p>
						</td>
						<td class="No-Table-Style"/>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 4.1 – Naming the folders</p>
			<p>As you can see, the key difference is whether or not the name of the folder should use the plural, reflecting the fact that there will be more than one file in each folder, or the singular (as we will do), reflecting the name Model-View-ViewModel. I can’t think of a less important controversy, and<a id="_idIndexMarker069"/> it clearly doesn’t matter what you choose as long as you are consistent. Arbitrarily, we’ll use <span class="No-Break">the first.</span></p>
			<p>Thus, create three folders in your project: <strong class="source-inline">Model</strong>, <strong class="source-inline">View</strong>, and <strong class="source-inline">ViewModel</strong>, as shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.1</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer026" class="IMG---Figure">
					<img src="image/Figure_4.1_B19723.jpg" alt="Figure 4.1 – MVVM Folders&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.1 – MVVM Folders</p>
			<p><strong class="source-inline">MainPage</strong> is now in the wrong place. Drag <strong class="source-inline">MainPage.xaml</strong> to the <strong class="source-inline">View</strong> folder (it will bring its code-behind with it). You need to fix the namespace in the <span class="No-Break">XAML file:</span></p>
			<pre class="source-code">
x:Class="ForgetMeNotDemo.View.MainPage"</pre>
			<p>And in the <span class="No-Break">code behind:</span></p>
			<pre class="source-code">
namespace ForgetMeNotDemo.View;</pre>
			<p>Microsoft provides libraries<a id="_idIndexMarker070"/> that are not part of .NET MAUI as they were created by the .NET community, but which, nonetheless, Microsoft endorses and supports. Much of the functionality of these community toolkits will probably migrate into .NET <span class="No-Break">MAUI itself.</span></p>
			<h2 id="_idParaDest-57"><a id="_idTextAnchor059"/>The MVVM Community Toolkit</h2>
			<p>Open <strong class="bold">Nuget Manager</strong> (right-click on the solution and choose <strong class="bold">Manage NuGet Packages For The Solution</strong>, and <a id="_idIndexMarker071"/>click on <strong class="bold">Browse</strong>. In the search window enter <strong class="source-inline">CommunityToolkit-MVVM</strong> and click on <strong class="bold">CommunityToolkit.MVVM</strong>. This wonderful toolkit will make programming with MVVM infinitely easier than it otherwise would be. See <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.2</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer027" class="IMG---Figure">
					<img src="image/Figure_4.2_B19723.jpg" alt="Figure 4.2 – Getting the NuGet package&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.2 – Getting the NuGet package</p>
			<p>We’ll come back to how to use this toolkit when we talk about <em class="italic">source code generators</em>. Next, let’s take a look at some of <span class="No-Break">the views.</span></p>
			<h2 id="_idParaDest-58"><a id="_idTextAnchor060"/>Exploring views</h2>
			<p>.NET MAUI Controls is a <a id="_idIndexMarker072"/>generic term for pages, layouts, and views. In this chapter, we will look at views, while pages and layouts <a id="_idIndexMarker073"/>will be reviewed in the next chapter. In <a href="B19723_07.xhtml#_idTextAnchor129"><span class="No-Break"><em class="italic">Chapter 7</em></span></a>, we’ll look at navigating <span class="No-Break">between pages.</span></p>
			<p class="callout-heading">Views versus pages</p>
			<p class="callout">From the perspective<a id="_idIndexMarker074"/> of MVVM, a view is a page. From the perspective of .NET MAUI, <strong class="source-inline">View</strong> is a control. So, just to keep you totally confused, a View consists of Views and layouts. To avoid this absurdity, we’ll refer to the latter as controls. Some frameworks call these widgets. From time to time I’ll forget and refer to these controls as Views, but the context will make clear what <span class="No-Break">I mean.</span></p>
			<p>A .NET MAUI Control is an object that maps to native controls on each target platform. Thus, a .NET MAUI Button <a id="_idIndexMarker075"/>maps to an iOS, Android, Macintosh, and Windows <span class="No-Break">native Button.</span></p>
			<p>The principal way to display <a id="_idIndexMarker076"/>text is with <strong class="source-inline">Label</strong>. The inheritance tree for <strong class="source-inline">Label</strong> is <span class="No-Break">as follows:</span></p>
			<p><strong class="source-inline">Object</strong> &gt; <strong class="source-inline">BindableObject</strong> &gt; <strong class="source-inline">Element</strong> &gt; <span class="No-Break"><strong class="source-inline">NavigableElement</strong></span><span class="No-Break"> &gt;</span></p>
			<p>  <strong class="source-inline">VisualElement</strong> &gt; <strong class="source-inline">View</strong> &gt; <span class="No-Break"><strong class="source-inline">Label</strong></span></p>
			<p>An object is, of course, the base for every class in C#. We’ll skip over <strong class="source-inline">BindableObject</strong> for now, and we’ll group <strong class="source-inline">Element</strong>, <strong class="source-inline">NavigableElement</strong>, and <strong class="source-inline">VisualElement</strong> together as things you can see on your page. This brings us to <strong class="source-inline">View</strong> as described previously, and then <span class="No-Break"><strong class="source-inline">Label</strong></span><span class="No-Break"> itself.</span></p>
			<p>The most common property to use on <strong class="source-inline">Label</strong> is <strong class="source-inline">Text</strong>. <strong class="source-inline">Text</strong> is what <strong class="source-inline">Label</strong> displays, thus you can write <span class="No-Break">the following:</span></p>
			<pre class="source-code">
&lt;Label Text="Hello World" /&gt;</pre>
			<p>This creates a Label that displays the iconic greeting. But there is more you can do with <strong class="source-inline">Label</strong>, as we saw in the <span class="No-Break">previous chapter.</span></p>
			<h2 id="_idParaDest-59"><a id="_idTextAnchor061"/>Forget Me Not labels</h2>
			<p>Let’s look at Labels in the context<a id="_idIndexMarker077"/> of Forget Me Not. We already have the application, but it is just what we get out of the box. Let’s revise this first page to create the initial page for Forget <span class="No-Break">Me Not.</span></p>
			<p>Please click on the <strong class="bold">-</strong> sign next to <strong class="source-inline">VerticalStackLayout</strong> on <strong class="source-inline">MainPage.xaml</strong> That will collapse <strong class="source-inline">VerticalStackLayout</strong> and allow you to delete it all at once, as shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.3</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer028" class="IMG---Figure">
					<img src="image/Figure_4.3_B19723.jpg" alt="Figure 4.3 – Collapsed VerticalStackLayout&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.3 – Collapsed VerticalStackLayout</p>
			<p>Next, go to the code-behind file (<strong class="source-inline">MainPage.xaml.cs</strong>) and remove the counter and the <strong class="source-inline">OnCounterClicked</strong> <span class="No-Break">event handler.</span></p>
			<p>Having cleaned all that<a id="_idIndexMarker078"/> out, we are ready to put in new code. We need a layout we can put labels into, so let’s create an empty <strong class="source-inline">VerticalStackLayout</strong>, and add a Label Control to it that says <strong class="source-inline">Welcome to Forget </strong><span class="No-Break"><strong class="source-inline">Me Not</strong></span><span class="No-Break">.</span></p>
			<pre class="source-code">
&lt;VerticalStackLayout&gt;
    &lt;Label Text="Welcome to Forget Me Not"/&gt;
&lt;/VerticalStackLayout&gt;</pre>
			<p>We’re ready to build on that. Let’s add some of the more common properties for making <strong class="source-inline">Label</strong> <span class="No-Break">look good:</span></p>
			<pre class="source-code">
&lt;VerticalStackLayout&gt;
    &lt;Label
        x:Name="HelloLabel"
        Margin="20"
        BackgroundColor="Red"
        FontAttributes="Bold"
        FontSize="Small"
        HorizontalOptions="Center"
        HorizontalTextAlignment="Center"
        Text="Welcome to Forget Me Not"
        TextColor="Yellow"
        VerticalTextAlignment="Center" /&gt;
&lt;/VerticalStackLayout&gt;</pre>
			<p>We’ll examine each of these properties in turn, but first, <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.4</em> shows what the page looks like <span class="No-Break">right now:</span></p>
			<div>
				<div id="_idContainer029" class="IMG---Figure">
					<img src="image/Figure_4.4_B19723.jpg" alt="Figure 4.4 – Label&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.4 – Label</p>
			<p>Note that the title (<strong class="bold">Home</strong>) is an artifact of the page. What we care about is the Label shown <span class="No-Break">below it.</span></p>
			<p>Let’s see if we can’t make that look<a id="_idIndexMarker079"/> a bit nicer before we examine the properties of <strong class="source-inline">Label</strong> by adding just a bit <span class="No-Break">of padding:</span></p>
			<pre class="source-code">
&lt;VerticalStackLayout&gt;
    &lt;Label
        BackgroundColor="Red"
        FontAttributes="Bold"
        FontSize="Small"
        HorizontalOptions="Center"
        HorizontalTextAlignment="Center"
        LineBreakMode="WordWrap"
        Margin="20"
        MaxLines="5"
        Padding="10"
        Text="Welcome to Forget Me Not"
        TextColor="Yellow"
        VerticalTextAlignment="Center"
        x:Name="HelloLabel" /&gt;
&lt;/VerticalStackLayout&gt;</pre>
			<p>That gives us the page, as<a id="_idIndexMarker080"/> shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.5</em></span><span class="No-Break">.</span></p>
			<p class="callout-heading">XAML Styler</p>
			<p class="callout">Notice that the properties are laid out nicely and in alphabetical order. This is due to a (free) tool named XAML Styler which you can<a id="_idIndexMarker081"/> get from the Visual Studio <span class="No-Break">Marketplace (</span><a href="https://bit.ly/XAMLstyler"><span class="No-Break">https://bit.ly/XAMLstyler</span></a><span class="No-Break">).</span></p>
			<div>
				<div id="_idContainer030" class="IMG---Figure">
					<img src="image/Figure_4.5_B19723.jpg" alt="Figure  4.5 – Label with Padding&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure  4.5 – Label with Padding</p>
			<p>Much better. Let’s examine the preceding code with the padding line <span class="No-Break">by line.</span></p>
			<p>Most of these properties are self-explanatory. The <strong class="source-inline">BackgroundColor</strong> property controls the entire label. In our case, we’ve set the <strong class="source-inline">Padding</strong> property (as described in <a href="B19723_03.xhtml#_idTextAnchor036"><span class="No-Break"><em class="italic">Chapter 3</em></span></a>) to <strong class="source-inline">10</strong>; thus, the red shows with a padding of <strong class="source-inline">10</strong> all around <span class="No-Break">the text.</span></p>
			<p>As you can see, we set the text to <strong class="source-inline">Bold</strong> using the <strong class="source-inline">FontAttributes</strong> property. The possible attributes are <strong class="source-inline">Bold</strong>, <strong class="source-inline">Italic</strong>, and <strong class="source-inline">None</strong>, with <strong class="source-inline">None</strong> being <span class="No-Break">the default.</span></p>
			<p><strong class="source-inline">FontSize</strong> can be entered in device-independent units (for example, <strong class="source-inline">FontSize = "20")</strong> or in one of the enumerated constants such as <strong class="source-inline">Micro</strong>, <strong class="source-inline">Small</strong>, <strong class="source-inline">Large</strong>, and <span class="No-Break">so on.</span></p>
			<p><strong class="source-inline">HorizontalOptions</strong> and <strong class="source-inline">VerticalOptions</strong> place the label on the page relative to the edges of the page. We touched on this in the previous chapter. In the case of <strong class="source-inline">HorizontalOptions</strong>, the choices are <strong class="source-inline">Start</strong> (far left), <strong class="source-inline">Center</strong> (middle), or <strong class="source-inline">End</strong> (<span class="No-Break">far right).</span></p>
			<p>The next property is <strong class="source-inline">LineBreakMode</strong>, which goes with the <strong class="source-inline">MaxLines</strong> property. Together they determine how many lines of text the label can support and where the lines will be wrapped. To see this, modify the text <a id="_idTextAnchor062"/>to say “<em class="italic">Welcome to Forget Me Not, so glad you are here, we couldn’t do this without you and we appreciate your patience.</em>” As you can see in <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.6</em>, the text is now centered on multiple lines, and each line breaks at a <span class="No-Break">word boundary.</span></p>
			<div>
				<div id="_idContainer031" class="IMG---Figure">
					<img src="image/Figure_4.6_B19723.jpg" alt="Figure 4.6 – Multi-line Label&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.6 – Multi-line Label</p>
			<p>As noted earlier, <strong class="source-inline">Label</strong> has<a id="_idIndexMarker082"/> dozens of properties, and while we’ve covered the most important ones, you can always look up the others on Microsoft Learn. In this case, the page you’ll need <span class="No-Break">is </span><a href="https://bit.ly/MicrosoftLabel"><span class="No-Break">https://bit.ly/MicrosoftLabel</span></a><span class="No-Break">.</span></p>
			<p>The key to displaying data in the MVVM model is data binding, which allows us to associate a view and a property and then allows .NET MAUI to keep the view up to date as the value of the property changes. Let’s explore <span class="No-Break">this next.</span></p>
			<h1 id="_idParaDest-60"><a id="_idTextAnchor063"/>Data binding</h1>
			<p>One of the most powerful aspects of .NET MAUI is <strong class="bold">data binding</strong> and data binding works extremely well with MVVM. The idea is to <em class="italic">bind</em> data (values) to controls. For example, we might have a class with the text we want to display on this label held on a public property (you can only bind to public properties). Rather than having to copy that text from the class <a id="_idIndexMarker083"/>to the label, we just tell the label the name of <span class="No-Break">the property.</span></p>
			<p>The public property will be kept in a class in <strong class="source-inline">ViewModel</strong>. But we have to answer the question how does <strong class="source-inline">View</strong> know where to look for the property? That is handled by <span class="No-Break">setting </span><span class="No-Break"><strong class="source-inline">BindingContext</strong></span><span class="No-Break">.</span></p>
			<p>Let’s look at a simple example. In <strong class="source-inline">ViewModel</strong>, create a new file <span class="No-Break">named </span><span class="No-Break"><strong class="source-inline">MainViewModel.cs</strong></span><span class="No-Break">.</span></p>
			<p class="callout-heading">Naming ViewModel</p>
			<p class="callout">The most common naming convention is to<a id="_idIndexMarker084"/> name the page with the word page, such as <strong class="source-inline">MainPage</strong> or <strong class="source-inline">LoginPage</strong> but to drop the word page in the <strong class="source-inline">ViewModel</strong> name, such as <strong class="source-inline">MainViewModel</strong> and <strong class="source-inline">LoginViewModel</strong>. So, that is what we’ll do in <span class="No-Break">this book.</span></p>
			<p class="callout">Note that other programmers will use the <strong class="source-inline">MainPageViewModel</strong> name. On the other hand, some do not use the word <em class="italic">page</em> but rather <em class="italic">view</em>, as in <strong class="source-inline">MainView</strong> and <strong class="source-inline">LoginView</strong>. What is most important is for you (and your team) to be consistent so that it is easy to guess and find the associated pages and <span class="No-Break">view models.</span></p>
			<p>Before going ahead, notice<a id="_idIndexMarker085"/> that Visual Studio has put your class into the <strong class="source-inline">ForgetMeNotDemo.ViewModel</strong> namespace (if you named your project <strong class="source-inline">ForgetMeNot</strong>, the namespace will be <strong class="source-inline">ForgetMeNot.ViewModel</strong>). This is based on the folder the <strong class="source-inline">.cs</strong> file <span class="No-Break">is in.</span></p>
			<p>Make sure the class is public and that it is marked <strong class="source-inline">partial</strong>. All binding in .NET MAUI is done with partial classes, allowing the rest of the class to be handled internally and by generated <span class="No-Break">partial classes.</span></p>
			<h2 id="_idParaDest-61"><a id="_idTextAnchor064"/>Creating a public property</h2>
			<p>We now want to<a id="_idIndexMarker086"/> create a property <span class="No-Break">named </span><span class="No-Break"><strong class="source-inline">FullName</strong></span><span class="No-Break">.</span></p>
			<p>The original way to do this looked something <span class="No-Break">like this:</span></p>
			<pre class="source-code">
private string fullName;
public string FullName
{
   get =&gt; fullName;
   set
   {
     fullName = value;
     OnPropertyChanged();
   }
}</pre>
			<p>However, the absolute best approach is to take advantage of the code generators in the <strong class="source-inline">NuGet</strong> package we just added. These work by using attributes. Add an attribute above the <strong class="source-inline">[ObservableObject]</strong> class <a id="_idIndexMarker087"/>declaration <span class="No-Break">like this:</span></p>
			<pre class="source-code">
using CommunityToolkit.Mvvm.ComponentModel;
namespace ForgetMeNotDemo.ViewModel;
<strong class="bold">[ObservableObject]</strong>
public partial class MainViewModel
{
}</pre>
			<p>That attribute will allow you to generate properties. Above each property, use the <span class="No-Break"><strong class="source-inline">ObservableProperty</strong></span><span class="No-Break"> attribute:</span></p>
			<pre class="source-code">
[ObservableProperty]
  private string fullName;</pre>
			<p>This will cause the <strong class="source-inline">NuGet</strong> package to (invisibly) generate the uppercase public property and its <strong class="source-inline">OnPropertyChanged()</strong> method call as if you had entered <span class="No-Break">them yourself.</span></p>
			<p>Before we look at how to set the <strong class="source-inline">FullName</strong> value, we need to set <span class="No-Break">up </span><span class="No-Break"><strong class="source-inline">BindingContext</strong></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-62"><a id="_idTextAnchor065"/>Setting up BindingContext</h2>
			<p><strong class="source-inline">BindingContext</strong> tells your <strong class="source-inline">View</strong> where to get its bound data. You can set this in a number of ways; the most common is to set it in the<a id="_idIndexMarker088"/> code-behind <a id="_idIndexMarker089"/>file for the <strong class="source-inline">View</strong> class (in this case, <strong class="source-inline">MainPage.xaml.cs</strong>). First, we declare an instance <span class="No-Break">of </span><span class="No-Break"><strong class="source-inline">ViewModel</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
private MainViewModel vm = new MainViewModel();
Next, we assign the BindingContext to that instance in the
  constructor:
public <a id="_idTextAnchor066"/>MainPage()
{
  InitializeComponent();
  BindingContext = vm;
}</pre>
			<p>Here is the code <a id="_idIndexMarker090"/>behind <span class="No-Break">the class:</span></p>
			<pre class="source-code">
public partial class MainPage : ContentPage
{
  private MainViewModel vm = new MainViewModel();
  public MainPage()
  {
    InitializeComponent();
    BindingContext = vm;
  }
}</pre>
			<p>Next, we’ll see how to assign values to the <strong class="source-inline">ViewModel</strong> <span class="No-Break">class properties.</span></p>
			<p class="callout-heading">Names</p>
			<p class="callout">I don’t usually like abbreviations for names. There are rare exceptions, and using <strong class="source-inline">vm</strong> for <strong class="source-inline">ViewModel</strong> is such a strong convention that I yield to <span class="No-Break">peer-group pressure.</span></p>
			<h2 id="_idParaDest-63"><a id="_idTextAnchor067"/>Assigning values to the View Model class properties</h2>
			<p>You can assign your string in <strong class="source-inline">ViewModel</strong>, in the <strong class="source-inline">ViewModel</strong> constructor, or in the override for the <strong class="source-inline">OnAppearing</strong> method. <strong class="source-inline">OnAppearing</strong> is called before <strong class="source-inline">View</strong> is displayed and looks <a id="_idIndexMarker091"/>like this (you put this in the <a id="_idIndexMarker092"/><span class="No-Break">code-behind file):</span></p>
			<pre class="source-code">
protected override void OnAppearing()
{
  base.OnAppearing();
  vm.FullName = "Jesse Liberty";
}</pre>
			<p>We will return to <strong class="source-inline">OnAppearing</strong> and its sibling <strong class="source-inline">OnDisappearing</strong> method, in <a href="B19723_07.xhtml#_idTextAnchor129"><span class="No-Break"><em class="italic">Chapter 7</em></span></a><span class="No-Break">.</span></p>
			<p class="callout-heading">InitializeComponent</p>
			<p class="callout"><strong class="source-inline">InitializeComponent</strong> must be in the constructor of every code-behind file. It is the responsibility of <strong class="source-inline">InitializeComponent</strong> to initialize all the controls on <span class="No-Break">the page.</span></p>
			<h2 id="_idParaDest-64"><a id="_idTextAnchor068"/>Implementing Binding</h2>
			<p>You are now ready to bind the <strong class="source-inline">FullName</strong> property to <strong class="source-inline">Label</strong>. In the XAML, change the <strong class="source-inline">Label</strong> text property<a id="_idIndexMarker093"/> <span class="No-Break">to this:</span></p>
			<pre class="source-code">
Text="{Binding FullName}"</pre>
			<p class="callout-heading">Naming properties and fields</p>
			<p class="callout">There is a general consensus that properties should be named using Pascal case (as shown in the preceding snippet) and that member fields should be named using camel case (the first letter is lowercase, as in <strong class="source-inline">myMemberField</strong>), though there is no agreement at all as to whether member fields should be prepended with an underbar as in <strong class="source-inline">_myMemberField</strong>. We won’t use the underbar in this book, but feel free to do so as long, again, as you <span class="No-Break">are consistent.</span></p>
			<p>Using the binding keyword tells <strong class="source-inline">Label</strong> to get its value from the <strong class="source-inline">FullName</strong> property found in the <strong class="source-inline">ViewModel</strong> set <span class="No-Break">by </span><span class="No-Break"><strong class="source-inline">BindingContext</strong></span><span class="No-Break">.</span></p>
			<p>You will want to pay attention to the syntax. It is always as shown here: open quotes, open braces, the <strong class="source-inline">Binding</strong> keyword, property name, closing brace, and closing quotes. Okay, I lied. It is sometimes more complex, but these elements are <span class="No-Break">always there.</span></p>
			<p>The result of this<a id="_idIndexMarker094"/> construct is that the value of <strong class="source-inline">FullName</strong> is placed inside the <strong class="source-inline">Text</strong> property of the label, as shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.7</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer032" class="IMG---Figure">
					<img src="image/Figure_4.7_B19723.jpg" alt="Figure 4.7 – A label with data-bound text&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.7 – A label with data-bound text</p>
			<p>One of the distinguishing characteristics of an MVVM program is that the logic is in <strong class="source-inline">ViewModel</strong> rather than in the code-behind file, which we will <span class="No-Break">explore next.</span></p>
			<h2 id="_idParaDest-65"><a id="_idTextAnchor069"/>ViewModel versus code-behind</h2>
			<p>The more you can put<a id="_idIndexMarker095"/> into <strong class="source-inline">ViewModel</strong> (rather than the code-behind file) the easier it will be to test your program (see <a href="B19723_09.xhtml#_idTextAnchor160"><span class="No-Break"><em class="italic">Chapter 9</em></span></a> on unit testing). Some MVVM fans think <em class="italic">nothing</em> should be in the code-behind<a id="_idIndexMarker096"/> file besides the required call to <strong class="source-inline">InitializeComponent</strong>. They argue that even setting <strong class="source-inline">ViewModel</strong> should be done in the XAML to keep the code-behind file as <a id="_idIndexMarker097"/>empty <span class="No-Break">as possible.</span></p>
			<p>I take a more moderate view of this. I often set <strong class="source-inline">BindingContext</strong> in the code-behind file. I do move all my <em class="italic">event handling</em> out of the code-behind file as you’ll see when we talk <span class="No-Break">about commands:</span></p>
			<pre class="source-code">
LoginPage.xaml.cs:
public partial class LoginPage : ContentPage
{
    LoginViewModel vm = new LoginViewModel();
    public LoginPage()
    {
        BindingContext = vm;
        InitializeComponent();
    }
}</pre>
			<p>Notice that <strong class="source-inline">BindingContext</strong> here is set before calling <strong class="source-inline">InitializeComponent</strong>. While either can come first in most cases, setting up all your bindings before initializing the page is generally good<a id="_idIndexMarker098"/> practice. Thus, we’ll stick with the<a id="_idIndexMarker099"/> approach <span class="No-Break">shown</span><span class="No-Break"><a id="_idIndexMarker100"/></span><span class="No-Break"> here.</span></p>
			<p class="callout-heading">Renegade code-behind</p>
			<p class="callout">There are times when it is just much easier to put a method in the code-behind file. Be careful with this, however. 99% of the time, when it seems really important to put something in the code-behind file, you actually can make it work in <strong class="source-inline">ViewModel</strong>, and that is much better (again, for testing). But if you do have to put something in the code-behind file, do not feel bad, and do not let other .NET MAUI programmers push <span class="No-Break">you around.</span></p>
			<p>The center of developing<a id="_idIndexMarker101"/> most apps, the part that people respond to, is the <strong class="bold">user interface</strong> (<strong class="bold">UI</strong>). In .NET MAUI, the UI consists of views in layouts. Let’s turn our attention to the most <span class="No-Break">important views.</span></p>
			<h1 id="_idParaDest-66"><a id="_idTextAnchor070"/>Views</h1>
			<p>There are many controls for displaying and obtaining data from the user. The following sections will cover the most <a id="_idIndexMarker102"/>common and useful ones, including those <span class="No-Break">shown here:</span></p>
			<ul>
				<li><span class="No-Break">Images</span></li>
				<li><span class="No-Break">Labels</span></li>
				<li><span class="No-Break">Buttons</span></li>
				<li><span class="No-Break">ImageButtons</span></li>
				<li><span class="No-Break">Entering text</span></li>
			</ul>
			<h2 id="_idParaDest-67"><a id="_idTextAnchor071"/>Images</h2>
			<p>You <em class="italic">can</em> write a .NET MAUI program<a id="_idIndexMarker103"/> without images, but it is likely to look pretty boring. Managing images is much easier in .NET MAUI than it was in <strong class="source-inline">Xamarin.Forms</strong>. Now, instead <a id="_idIndexMarker104"/>of having to have one image for each resolution in iOS and Android, you place one image in the resources folder, and .NET MAUI takes care of the rest for all <span class="No-Break">the platforms!</span></p>
			<p>In this example, we’ll use an image named <strong class="source-inline">flower.png</strong>, which you can download from our GitHub repository. If you prefer, though, you can use any image you like. We’ll place the image in the <strong class="source-inline">Resources</strong> &gt; <span class="No-Break"><strong class="source-inline">Images</strong></span><span class="No-Break"> folder.</span></p>
			<p>When we are ready to display it, we’ll use an <strong class="bold">Image View</strong>. Here is a <span class="No-Break">simple example:</span></p>
			<pre class="source-code">
&lt;Image
    HeightRequest="200"
    HorizontalOptions="Center"
    Source="{Binding FavoriteFlower}" /&gt;</pre>
			<p>I’ve only set three properties, but they accomplish quite a bit. <strong class="source-inline">HeightRequest</strong> sets, as you might guess, the height of the image on the page in device-independent units (in this case, <strong class="source-inline">200</strong>). I’ve set it to be centered. Most importantly, I’ve identified the source—that is the name of the image. But rather than lock in the name of the image in <strong class="source-inline">View</strong>, I’ve bound it to a property <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">MainPageViewModel</strong></span><span class="No-Break">.</span></p>
			<p>The result is that <strong class="source-inline">MainPage</strong> now<a id="_idIndexMarker105"/> looks like <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.8</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer033" class="IMG---Figure">
					<img src="image/Figure_4.8_B19723.jpg" alt="Figure 4.8 – Binding the source to a property in ViewModel&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.8 – Binding the source to a property in ViewModel</p>
			<p>Of course, there are a number of<a id="_idIndexMarker106"/> additional properties you can set. A set of favorites<a id="_idIndexMarker107"/> for me are the <strong class="source-inline">Rotation</strong> properties, which can rotate on the <em class="italic">x</em>, <em class="italic">y</em>, and <em class="italic">z</em> axes. If I add the <strong class="source-inline">RotationX</strong> property <span class="No-Break">like this:</span></p>
			<pre class="source-code">
&lt;Image
    HeightRequest="200"
    HorizontalOptions="Center"
    RotationX="45"
    Source="flower.png" /&gt;</pre>
			<p>The image rotates, as shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.9</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer034" class="IMG---Figure">
					<img src="image/Figure_4.9_B19723.jpg" alt="Figure 4.9 – RotationX=”45”&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.9 – RotationX=”45”</p>
			<p>Another useful trick is to make the image semi-transparent by setting <strong class="source-inline">Opacity</strong> to a value between <strong class="source-inline">0</strong> and <strong class="source-inline">1</strong>. <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.10</em> shows the<a id="_idIndexMarker108"/> same image with an opacity of <strong class="source-inline">.25</strong>. I removed <strong class="source-inline">StackLayout</strong> and substituted a <strong class="source-inline">Grid</strong>. More about grids in the next chapter, but if you just <a id="_idIndexMarker109"/>declare one and put <strong class="source-inline">Label</strong> and <strong class="source-inline">Image</strong> into it with no other <strong class="source-inline">Grid</strong> properties, they lay one on top of <span class="No-Break">the other:</span></p>
			<pre class="source-code">
&lt;Grid&gt;
    &lt;Label
        BackgroundColor="Red"
        FontAttributes="Bold"
        FontSize="Small"
        HeightRequest="50"
        HorizontalOptions="Center"
        HorizontalTextAlignment="Center"
        LineBreakMode="WordWrap"
        Margin="20"
        MaxLines="5"
        Padding="10"
        Text="{Binding FullName}"
        TextColor="Yellow"
        VerticalTextAlignment="Center"
        x:Name="HelloLabel" /&gt;
    &lt;Image
        HeightRequest="200"
        HorizontalOptions="Center"
        IsVisible="True"
        Opacity=".25"
        RotationX="45"
        Source="{Binding FavoriteFlower}"
        x:Name="BigFlower" /&gt;
&lt;/Grid&gt;</pre>
			<p><span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.10</em> shows <a id="_idIndexMarker110"/><span class="No-Break">the result:</span></p>
			<div>
				<div id="_idContainer035" class="IMG---Figure">
					<img src="image/Figure_4.10_B19723.jpg" alt="Figure 4.10 – Overlay and semi-transparent effect&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.10 – Overlay and semi-transparent effect</p>
			<p>There is<a id="_idIndexMarker111"/> endless room <a id="_idIndexMarker112"/><span class="No-Break">for creativity.</span></p>
			<h3>Clicking on an image</h3>
			<p>One of the key things that many<a id="_idIndexMarker113"/> people want to do with an image is click on it. There are two solutions to this problem. The easiest is to use <span class="No-Break">a button.</span></p>
			<p>Buttons can have text and a number of other properties, but the most important is the command. The command tells <strong class="source-inline">ViewModel</strong> what to do when the button <span class="No-Break">is clicked.</span></p>
			<p>To show how this works, I’m going to put a new property on our image, <strong class="source-inline">IsVisible</strong>, and set it to <strong class="source-inline">true</strong>. As long as that is <strong class="source-inline">true</strong>, the image is visible. But, as you can imagine, setting it false makes the big flower invisible. Not only is it invisible, but it also takes up no space on the page, so the button will be directly under <span class="No-Break">the label.</span></p>
			<p>Here is the code <span class="No-Break">for </span><span class="No-Break"><strong class="source-inline">Button</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
&lt;Button
    Text="Click me"
    Command="{Binding ToggleFlowerVisibilityCommand}"/&gt;</pre>
			<p>This is the simplest button I can make (we’ll look at making it nicer in just a bit). The key here is the <strong class="source-inline">Command</strong> parameter. You can tell by the <strong class="source-inline">Binding</strong> keyword that <strong class="source-inline">ToggleFlowerVisibility</strong> will be in <strong class="source-inline">ViewModel</strong>. Sure enough, it is, but rather than declaring a command and pointing it at a method, we can use the code generator to do the heavy lifting<a id="_idIndexMarker114"/> <span class="No-Break">for us.</span></p>
			<p>Here is the <span class="No-Break">modified </span><span class="No-Break"><strong class="source-inline">MainViewModel</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
[ObservableObject]
public partial class MainViewModel
{
  [ObservableProperty] private bool flowerIsVisible = true;
    [1]
  [ObservableProperty] private string fullName;
  [ObservableProperty] private string favoriteFlower =
    "flower.png";
  [RelayCommand]  [2]
  private void ToggleFlowerVisibility()  [3]
  {
    FlowerIsVisible = !FlowerIsVisible;
  }
}</pre>
			<p>This is an example of <em class="italic">convention over configuration</em> – the <strong class="source-inline">Command</strong> property in <strong class="source-inline">Button</strong> is <strong class="source-inline">ToggleFlowerVisibilityCommand</strong>, but when you implement it in <strong class="source-inline">RelayCommand</strong> [2], you name it <strong class="source-inline">ToggleFlowerVisibility</strong> [3] leaving <span class="No-Break">off </span><span class="No-Break"><strong class="source-inline">Command</strong></span><span class="No-Break">.</span></p>
			<p>Note that we created <strong class="source-inline">FlowerIsVisible</strong> [1] as an <strong class="source-inline">ObservableProperty</strong>, we simply toggle it from <strong class="source-inline">true</strong> to <strong class="source-inline">false</strong> and back on <span class="No-Break">each click.</span></p>
			<h2 id="_idParaDest-68"><a id="_idTextAnchor072"/>Button properties</h2>
			<p>As it is now, the button will be displayed<a id="_idIndexMarker115"/> as it would appear natively on each platform. But these buttons can be pretty ugly. We can make them much nicer by taking over more of <span class="No-Break">their appearance.</span></p>
			<p>Here is my XAML for <strong class="source-inline">Button</strong>, which while not beautiful, will illustrate some of the properties you can use to take control of the <span class="No-Break">button’s appearance:</span></p>
			<pre class="source-code">
&lt;Button
     BackgroundColor="Red"
     BorderColor="Black"
     BorderWidth="2"
     Command="{Binding ToggleFlowerVisibilityCommand}"
     CornerRadius="20"
     FontSize="Small"
     HeightRequest="35"
     Padding="5"
     Text="Don't Click Me"
     TextColor="Yellow"
     WidthRequest="150" /&gt;</pre>
			<p>There are three new properties that we’ve not seen before. The first is <strong class="source-inline">BorderColor</strong>, which goes along with <strong class="source-inline">BorderWidth</strong>. This provides a border around the button. Since we’ve set <strong class="source-inline">BackgroundColor</strong> to <strong class="source-inline">Red</strong>, the border will stand out. The final new property is <strong class="source-inline">CornerRadius</strong>, which gives us a nice rounding of the corners of the otherwise square button. Put that all together, and you get a button that looks like <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.11</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer036" class="IMG---Figure">
					<img src="image/Figure_4.11_B19723.jpg" alt="Figure 4.11 – A nicer-looking button&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.11 – A nicer-looking button</p>
			<p class="callout-heading">Why is this button still ugly?</p>
			<p class="callout">I am certainly not a UI person, and so my pages tend to be fairly ugly until fixed by someone who knows what they are doing. The screen images in this book will reflect <span class="No-Break">that inability.</span></p>
			<h2 id="_idParaDest-69"><a id="_idTextAnchor073"/>ImageButton</h2>
			<p>At times, rather than havin<a id="_idIndexMarker116"/>g text, we’d rather have an image on the button. There is an <strong class="source-inline">ImageButton</strong> control that combines many of the properties of the <strong class="source-inline">Image</strong> control and the <span class="No-Break"><strong class="source-inline">Button</strong></span><span class="No-Break"> control:</span></p>
			<pre class="source-code">
&lt;ImageButton
    BorderColor="Black"
    BorderWidth="2"
    Command="{Binding ToggleFlowerVisibilityCommand}"
    MaximumHeightRequest="75"
    MaximumWidthRequest="75"
    Padding="5"
    Source="{Binding FavoriteFlower}" /&gt;</pre>
			<p>You can see how similar it is to the <strong class="source-inline">Button</strong> control. In fact, I’ve preserved the command binding and the source binding, so we end up with a small image of the flower under the big image, but clicking on the small one (<strong class="source-inline">ImageButton</strong>) causes the big one (<strong class="source-inline">Image</strong>) to become invisible and then visible, and so on. I’ll show both visible in <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.12</em> because it is hard to toggle an image <span class="No-Break">on paper:</span></p>
			<div>
				<div id="_idContainer037" class="IMG---Figure">
					<img src="image/Figure_4.12_B19723.jpg" alt="Figure 4.12 – ImageButton&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.12 – ImageButton</p>
			<h2 id="_idParaDest-70"><a id="_idTextAnchor074"/>TapGestureRecognizer</h2>
			<p>The second way to handle tapping on an image is to assign a gesture recognizer. The type of <strong class="source-inline">GestureRecognizer</strong> we’re<a id="_idIndexMarker117"/> going to assign is <strong class="source-inline">TapGestureRecognizer</strong>, which will recognize when the image itself has been tapped. To be safe, we’ll set it so that the image has to be double-tapped. When that happens, the image will “<span class="No-Break">poof!” disappear.</span></p>
			<p>We’ll remove <strong class="source-inline">ImageButton</strong>, and just have <strong class="source-inline">Image</strong> (and <strong class="source-inline">Label</strong>). Here is our new <span class="No-Break">XAML file:</span></p>
			<pre class="source-code">
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;ContentPage
    BackgroundColor="White"
    x:Class="ForgetMeNotDemo.View.MainPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"&gt;
    &lt;ScrollView&gt;
        &lt;VerticalStackLayout&gt;
            &lt;Label
                BackgroundColor="Red"
                FontAttributes="Bold"
                FontSize="Small"
                HeightRequest="50"
                HorizontalOptions="Center"
                HorizontalTextAlignment="Center"
                LineBreakMode="WordWrap"
                Margin="20"
                MaxLines="5"
                Padding="10"
                Text="{Binding FullName}"
                TextColor="Yellow"
                VerticalTextAlignment="Center"
                x:Name="HelloLabel" /&gt;
            &lt;Image
                HeightRequest="200"
                HorizontalOptions="Center"
                IsVisible="{Binding FlowerIsVisible}" [1]
                Source="{Binding FavoriteFlower}"
                x:Name="BigFlower"&gt;
                &lt;Image.GestureRecognizers&gt;     [2]
                    &lt;TapGestureRecognizer      [3]
                        Command="{Binding
                          ImageTappedCommand}" [4]
                        NumberOfTapsRequired="2" /&gt; [5]
                &lt;/Image.GestureRecognizers&gt;
            &lt;/Image&gt;
        &lt;/VerticalStackLayout&gt;
    &lt;/ScrollView&gt;
&lt;/ContentPage&gt;</pre>
			<p>We see at [1] that the image<a id="_idIndexMarker118"/> starts as visible. Between the opening and closing brackets for <strong class="source-inline">Image</strong> we add <strong class="source-inline">GestureRecognizer</strong> [2]. Within <strong class="source-inline">GestureRecognizer</strong> we add <strong class="source-inline">TapGestureRecognizer</strong> [3], and we define <strong class="source-inline">ImageTappedCommand</strong> [4] just as we did with other commands. Finally, we declare that for the command to fire, the user must tap <span class="No-Break">twice [5].</span></p>
			<p>Here is an example of <strong class="source-inline">RelayCommand</strong> <span class="No-Break">from </span><span class="No-Break"><strong class="source-inline">ViewModel</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
[RelayCommand]
private void ImageTapped()
{
  FlowerIsVisible = !FlowerIsVisible;
}</pre>
			<p>As you can see, this handler is nearly identical to the previous one. However, this one won’t work as intended. Before reading further, try to figure out what will happen when we double-click on the image (to make it invisible) and then try to do so again (to make it visible). Take your time. I’ll <span class="No-Break">wait here.</span></p>
			<p>You can solve this by going back to <strong class="source-inline">Button</strong>, or perhaps putting a <strong class="source-inline">GestureRcognizer</strong> on <span class="No-Break">the Label.</span></p>
			<p>When you double-tap on the image, it does, in fact, disappear because <strong class="source-inline">IsVisible</strong> is set to false. However, once it disappears, it is gone, and there is nothing there to tap on to bring <span class="No-Break">it back:</span></p>
			<pre class="source-code">
&lt;Label
    BackgroundColor="Red"
    FontAttributes="Bold"
    FontSize="Small"
    HeightRequest="50"
    HorizontalOptions="Center"
    HorizontalTextAlignment="Center"
    LineBreakMode="WordWrap"
    Margin="20"
    MaxLines="5"
    Padding="10"
    Text="{Binding FullName}"
    TextColor="Yellow"
    VerticalTextAlignment="Center"
    x:Name="HelloLabel"&gt;
    &lt;Label.GestureRecognizers&gt;
        &lt;TapGestureRecognizer Command="{Binding
          ImageTappedCommand}" /&gt;
    &lt;/Label.GestureRecognizers&gt;
&lt;/Label&gt;</pre>
			<p>What’s interesting here is that the <strong class="source-inline">TapGestureRecognizer</strong> command points to the same <strong class="source-inline">RelayCommand</strong>; it <a id="_idIndexMarker119"/>will be invoked either by double-tapping on the image or single-tapping on <span class="No-Break">the label.</span></p>
			<p>The following are two takeaway points from <span class="No-Break">this section:</span></p>
			<ul>
				<li><strong class="source-inline">TapGestureRecognizer</strong> allows you to make any control tappable, which can be <span class="No-Break">pretty powerful.</span></li>
				<li>Once <strong class="source-inline">View</strong> is invisible, it is no longer on the page. You can make it visible again from the code behind, but only if you do so by way of a different control (as we did <span class="No-Break">with </span><span class="No-Break"><strong class="source-inline">ButtonImage</strong></span><span class="No-Break">).</span></li>
			</ul>
			<p>After displaying text, the most important aspect of an app is the ability to obtain text from the user. For that, the <a id="_idIndexMarker120"/>principal views are <strong class="source-inline">Entry</strong> and <strong class="source-inline">Editor</strong>. Let’s have a look at <span class="No-Break">them next.</span></p>
			<h2 id="_idParaDest-71"><a id="_idTextAnchor075"/>Entering text</h2>
			<p>We’ve looked at displaying text, let’s turn <a id="_idIndexMarker121"/>our attention to entering text. There are two controls that are principally responsible <span class="No-Break">for this:</span></p>
			<ol>
				<li><strong class="source-inline">Entry</strong>: Used for entering a line <span class="No-Break">of text</span></li>
				<li><strong class="source-inline">Editor</strong>: Used for entering multiple lines <span class="No-Break">of text</span></li>
			</ol>
			<p>These two controls are obviously related, but they have different properties. <strong class="source-inline">Entry</strong> is designed to take a single line of text and <strong class="source-inline">Editor</strong> handles <span class="No-Break">multi-line entry.</span></p>
			<p>To see these views at work, let’s create a login page for Forget <span class="No-Break">Me Not.</span></p>
			<h3>Forget Me Not login page</h3>
			<p>We’ve been playing with the <strong class="source-inline">MainPage</strong>, but in truth, the actual application has a very simple <strong class="source-inline">MainPage</strong>: just the image. Things<a id="_idIndexMarker122"/> get more interesting with the login page. We will make a first approximation of the login page as it will allow us to use the <strong class="source-inline">Entry</strong> and <strong class="source-inline">Editor</strong> controls, though we will evolve this page as <span class="No-Break">we go.</span></p>
			<h3>Creating the login page</h3>
			<p>The first task is to create the login<a id="_idIndexMarker123"/> page. To do so, right-click on the <strong class="bold">View</strong> folder, and choose <strong class="bold">Add Item</strong>. In the dialog box click on <strong class="bold">.NET MAUI</strong> in the left pane, and on <strong class="bold">.NET MAUI ContentPage (XAML)</strong> on the right. Name the page <strong class="source-inline">LoginPage.xaml</strong>, as shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.13</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer038" class="IMG---Figure">
					<img src="image/Figure_4.13_B19723.jpg" alt="Figure 4.13 – Add Item dialog box&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.13 – Add Item dialog box</p>
			<h3>XAML versus C#</h3>
			<p>If you wish to create the UI for the login page using C# rather than XAML, choose <strong class="bold">ContentPage (C#)</strong> instead. We’ll look at both in this section, but let’s start with the <span class="No-Break">XAML version.</span></p>
			<p>Examine the XAML page <a id="_idIndexMarker124"/>out of the box. The class is set to <strong class="source-inline">ForgetMeNotDemo.View.LoginPage</strong>, reflecting<a id="_idIndexMarker125"/> the namespace (when we created the file under <strong class="source-inline">View</strong> that became the namespace automatically). The<a id="_idIndexMarker126"/> XAML also has <strong class="source-inline">VerticalStackLayout</strong> and inside <span class="No-Break">that, </span><span class="No-Break"><strong class="source-inline">Label</strong></span><span class="No-Break">.</span></p>
			<p>Take a very quick look at the code-behind file. Note that <strong class="source-inline">namespace</strong> has been created for you and that the page derives from <span class="No-Break"><strong class="source-inline">ContentPage</strong></span><span class="No-Break"> .</span></p>
			<p>Go back to the XAML page and delete <strong class="source-inline">Label</strong> in <strong class="source-inline">VerticalScrollView</strong>. When the application is complete, it should look like <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.14</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer039" class="IMG---Figure">
					<img src="image/Figure_4.14_B19723.jpg" alt="Figure 4.14 – Login.XAML (top portion)&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.14 – Login.XAML (top portion)</p>
			<p>As you can see, we have<a id="_idIndexMarker127"/> two labels. To the right of each label is an entry, and the entry<a id="_idIndexMarker128"/> has placeholder text. As soon as you start typing in the entry, the placeholder<a id="_idIndexMarker129"/> text <span class="No-Break">will disappear.</span></p>
			<p>There are also three buttons. To lay this out properly, we’d like to use <strong class="source-inline">Grid</strong>, but we’re not covering grids until <a href="B19723_06.xhtml#_idTextAnchor115"><span class="No-Break"><em class="italic">Chapter 6</em></span></a>, <em class="italic">Layouts</em>. That’s not a problem, though, because it gives us the opportunity to look at nesting <strong class="source-inline">StackLayouts</strong> and <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">HorizontalStackLayout</strong></span><span class="No-Break">.</span></p>
			<p>To get started, we’ll just create the top line. We’d like flexibility for the text in the label, and we’d like to capture the <em class="italic">User name</em> entry in a property of <strong class="source-inline">ViewModel</strong> that we haven’t created yet. Let’s do that now. Right-click on the <strong class="bold">ViewModel</strong> folder and create a new <span class="No-Break"><strong class="source-inline">LoginViewModel</strong></span><span class="No-Break"> class.</span></p>
			<p>In <strong class="source-inline">LoginViewModel</strong> add <strong class="source-inline">ObservableProperty</strong> for the <span class="No-Break">user name:</span></p>
			<pre class="source-code">
namespace ForgetMeNotDemo.ViewModel
{
  [ObservableObject]
  internal partial class LoginViewModel
  {
    [ObservableProperty] private string name;</pre>
			<p>When the user types a name into the Entry control it will be saved in <span class="No-Break">this property.</span></p>
			<p class="callout-heading">OneWay and TwoWay binding</p>
			<p class="callout">Controls can be <strong class="source-inline">OneWay</strong>, in which case the control gets its value from the data source (in this case, the property) but can’t send it<a id="_idIndexMarker130"/> back, or <strong class="source-inline">TwoWay</strong>, in which case the <a id="_idIndexMarker131"/>control gets its data from<a id="_idIndexMarker132"/> the data source but can also write a<a id="_idIndexMarker133"/> value back. <strong class="source-inline">Entry</strong> defaults <span class="No-Break">to </span><span class="No-Break"><strong class="source-inline">TwoWay</strong></span><span class="No-Break">.</span></p>
			<p>We’re ready to<a id="_idIndexMarker134"/> create the top line in <strong class="source-inline">LoginPage</strong> <span class="No-Break">in XAML:</span></p>
			<pre class="source-code">
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;ContentPage
    Title="LoginPage"
    x:Class="ForgetMeNotDemo.View.LoginPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"&gt;
    &lt;VerticalStackLayout&gt;
        &lt;HorizontalStackLayout WidthRequest="300"&gt;
            &lt;Label
                FontSize="Medium"
                HorizontalOptions="Start"
                Margin="10,20,10,0"
                Text="User Name"
                VerticalOptions="Center"
                VerticalTextAlignment="Center" /&gt;
            &lt;Entry
                HorizontalOptions="End"
                Placeholder="User Name"
                Text="{Binding Name}"
                WidthRequest="150" /&gt;
        &lt;/HorizontalStackLayout&gt;
    &lt;/VerticalStackLayout&gt;
&lt;/ContentPage&gt;</pre>
			<p>We’re using three<a id="_idIndexMarker135"/> properties <span class="No-Break">on </span><span class="No-Break"><strong class="source-inline">Entry</strong></span><span class="No-Break">:</span></p>
			<ol>
				<li><strong class="source-inline">HorizontalOptions</strong>: Here we are setting it to <strong class="source-inline">End</strong> so that <strong class="source-inline">Entry</strong> will be to the far right of <span class="No-Break">the line</span></li>
				<li><strong class="source-inline">PlaceHolder</strong>: This is the text that<a id="_idIndexMarker136"/> will be displayed until the user starts to <span class="No-Break">enter text</span></li>
				<li><strong class="source-inline">Text</strong>: We have bound<a id="_idIndexMarker137"/> this to the <strong class="source-inline">Name</strong> property <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">ViewModel</strong></span></li>
			</ol>
			<p>There is one problem looking at this page: there is no way to get there (yet). For now, rather than having the program open at <strong class="source-inline">MainPage</strong>, we’ll have it open to our new <strong class="source-inline">LoginPage</strong>. To do so, go to <strong class="source-inline">AppShell.xaml</strong> and change <strong class="source-inline">ShellContent</strong> to look <span class="No-Break">like this:</span></p>
			<pre class="source-code">
&lt;ShellContent
    Title="Home"
    ContentTemplate="{DataTemplate view1:LoginPage}"
    Route="LoginPage" /&gt;</pre>
			<p>We’ll be discussing the Shell and routing in <a href="B19723_07.xhtml#_idTextAnchor129"><span class="No-Break"><em class="italic">Chapter 7</em></span></a>, but this will work <span class="No-Break">for now.</span></p>
			<p>Run the program. If you run it on an Android device or emulator, it should look more or less like <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.15</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer040" class="IMG---Figure">
					<img src="image/Figure_4.15_B19723.jpg" alt="Figure 4.15 – LoginPage, the first iteration&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.15 – LoginPage, the first iteration</p>
			<p>Even for me, it’s not very attractive, but it does demonstrate the controls and the layout. Try typing in the <strong class="bold">User Name</strong> entry. Notice<a id="_idIndexMarker138"/> that the placeholder text <span class="No-Break">disappears instantly.</span></p>
			<p>We need a way to tell whether <a id="_idIndexMarker139"/>the value you entered is really binding to the <strong class="source-inline">Name</strong> property. To do this, let’s add a label and bind it to the <strong class="source-inline">Name</strong> property. That way, when we enter text into the<a id="_idIndexMarker140"/> entry it will be reflected <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">Label</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;ContentPage
    Title="LoginPage"
    x:Class="ForgetMeNotDemo.View.LoginPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"&gt;
    &lt;VerticalStackLayout&gt;
        &lt;HorizontalStackLayout WidthRequest="300"&gt;
            &lt;Label
                FontSize="Medium"
                HorizontalOptions="Start"
                Margin="10,20,10,0"
                Text="User Name"
                VerticalOptions="Center"
                VerticalTextAlignment="Center" /&gt;
            &lt;Entry
                HorizontalOptions="End"
                Placeholder="User Name"
                Text="{Binding Name}"
                WidthRequest="150" /&gt;
        &lt;/HorizontalStackLayout&gt;
        &lt;Label
            Margin="10,30,10,0"
            Text="{Binding Name}" /&gt;
    &lt;/VerticalStackLayout&gt;
&lt;/ContentPage&gt;</pre>
			<p>However, before we can make that<a id="_idIndexMarker141"/> work, we have to set up <strong class="source-inline">BindingContext</strong>, as we did on <strong class="source-inline">MainPage</strong>. Open<a id="_idIndexMarker142"/> the code-behind file for the XAML page and set up <strong class="source-inline">LoginViewModel</strong> as the<a id="_idIndexMarker143"/> <span class="No-Break">binding context:</span></p>
			<pre class="source-code">
public partial class LoginPage : ContentPage
{
    LoginViewModel vm = new LoginViewModel();
public LoginPage()
    {
        BindingContext = vm;
        InitializeComponent();
    }
}</pre>
			<p>When we run this and type<a id="_idIndexMarker144"/> into the entry the text is saved in the <strong class="source-inline">Name</strong> property in <strong class="source-inline">ViewModel</strong>. Since the label is bound to the same property, the<a id="_idIndexMarker145"/> text is immediately <a id="_idIndexMarker146"/>shown there as well, as seen in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.16</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer041" class="IMG---Figure">
					<img src="image/Figure_4.16_B19723.jpg" alt="Figure 4.16 – Proving that the entry is binding to the Name property&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.16 – Proving that the entry is binding to the Name property</p>
			<p>Now that we know it is working, delete the label. Let’s do the same thing for the password that we did for the name, except that we don’t want anyone to see the password we’re entering. No problem, <strong class="source-inline">Entry</strong> has a <strong class="source-inline">boolean</strong> property, <strong class="source-inline">IsPassword</strong>, which we’ll set <span class="No-Break">to </span><span class="No-Break"><strong class="source-inline">True</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;ContentPage
    Title="LoginPage"
    x:Class="ForgetMeNotDemo.View.LoginPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"&gt;
    &lt;VerticalStackLayout&gt;
        &lt;HorizontalStackLayout WidthRequest="300"&gt;
            &lt;Label
                FontSize="Medium"
                HorizontalOptions="Start"
                Margin="10,20,10,0"
                Text="User Name"
                VerticalOptions="Center"
                VerticalTextAlignment="Center" /&gt;
            &lt;Entry
                HorizontalOptions="End"
                Placeholder="User Name"
                Text="{Binding Name}"
                WidthRequest="150" /&gt;
        &lt;/HorizontalStackLayout&gt;
        &lt;HorizontalStackLayout WidthRequest="300"&gt;
            &lt;Label
                FontSize="Medium"
                HorizontalOptions="Start"
                Margin="10,10,10,0"
                Text="Password"
                VerticalOptions="Center"
                VerticalTextAlignment="Center" /&gt;
            &lt;Entry
                HorizontalOptions="End"
                Placeholder="Password"
                IsPassword="True"
                Text="{Binding Password}"
                WidthRequest="150" /&gt;
        &lt;/HorizontalStackLayout&gt;
    &lt;/VerticalStackLayout&gt;
&lt;/ContentPage&gt;</pre>
			<p>Before continuing, notice that we have <strong class="source-inline">VerticalStackLayout</strong> that contains two <strong class="source-inline">HorizontalStackLayouts</strong>. This is a not uncommon layout, but again we’ll get more control over the<a id="_idIndexMarker147"/> appearance <a id="_idIndexMarker148"/>when we <a id="_idIndexMarker149"/>move on <span class="No-Break">to </span><span class="No-Break"><strong class="source-inline">Grid</strong></span><span class="No-Break">.</span></p>
			<p>The result of this XAML is shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.17</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer042" class="IMG---Figure">
					<img src="image/Figure_4.17_B19723.jpg" alt="Figure 4.17 – Using the password Boolean on Entry&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.17 – Using the password Boolean on Entry</p>
			<p>Let’s complete this first iteration of the page by adding the three buttons. We’ll only give one (<strong class="bold">Submit</strong>) a command <a id="_idIndexMarker150"/><span class="No-Break">for now:</span></p>
			<pre class="source-code">
&lt;HorizontalStackLayout Margin="10,10,10,0"&gt;
    &lt;Button
        BackgroundColor="Gray"
        Command="{Binding SubmitCommand}"
        Margin="5"
        Text="Submit" /&gt;
    &lt;Button
        BackgroundColor="Gray"
        Margin="5"
        Text="Create Account" /&gt;
    &lt;Button
        BackgroundColor="Gray"
        Margin="5"
        Text="Forgot Password" /&gt;
&lt;/HorizontalStackLayout&gt;</pre>
			<p>The<a id="_idIndexMarker151"/> result is <a id="_idIndexMarker152"/>shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.18</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer043" class="IMG---Figure">
					<img src="image/Figure_4.18_B19723.jpg" alt="Figure 4.18 – Adding the buttons&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.18 – Adding the buttons</p>
			<p>When you run this, you<a id="_idIndexMarker153"/> may notice that it works fine, except that clicking on <strong class="bold">Submit</strong> doesn’t do anything. That is because we named the command but never<a id="_idIndexMarker154"/> implemented it. We’re going to save doing so for a while. Actually, for a long while. We’ll tackle the real implementation<a id="_idIndexMarker155"/> when we get to <a href="B19723_11.xhtml#_idTextAnchor216"><span class="No-Break"><em class="italic">Chapter 11</em></span></a>, <em class="italic">Working with </em><span class="No-Break"><em class="italic">the API</em></span><span class="No-Break">.</span></p>
			<h3>The Title</h3>
			<p>You may have noticed that the page has a <strong class="bold">LoginPage</strong> title. The good news is that we got that for free (.NET MAUI created it <a id="_idIndexMarker156"/>when we created the page). However, it would be nice to have a space between <strong class="bold">Login</strong> <span class="No-Break">and </span><span class="No-Break"><strong class="bold">Page</strong></span><span class="No-Break">.</span></p>
			<p>At the top of the XAML page is the declaration of <strong class="source-inline">ContentPage</strong>, and the first property set there <span class="No-Break">is </span><span class="No-Break"><strong class="source-inline">Title</strong></span><span class="No-Break">.</span></p>
			<pre class="source-code">
&lt;ContentPage
    Title="LoginPage"</pre>
			<p>Just insert the missing space, and all will be right with <span class="No-Break">the world.</span></p>
			<h3>Editor</h3>
			<p>The second primary way of entering text into your application is with the <strong class="source-inline">Editor</strong> control. The principal <a id="_idIndexMarker157"/>difference from the <strong class="source-inline">Entry</strong> class is that <strong class="source-inline">Editor</strong> is designed for multi-line data entry. You have a lot of control over the text, as you’ll see in the <span class="No-Break">next example.</span></p>
			<p>Let’s add an editor to the login page. We’ll set it so that it is only visible if the user clicks on <strong class="bold">Forgot Password</strong>. The user will be encouraged to explain exactly where the password was the last time they saw it and why they were so careless when we told them to keep the <span class="No-Break">password secure.</span></p>
			<p>Reopen <strong class="source-inline">LoginPage.xaml</strong> and add an <strong class="source-inline">Editor</strong> inside <strong class="source-inline">VerticalStackLayout</strong>, at the <span class="No-Break">very bottom:</span></p>
			<pre class="source-code">
&lt;Editor
    FontSize="Small"
    HeightRequest="300"
    IsTextPredictionEnabled="True"  [1]
    Margin="10"
    MaxLength="500"   [2]
    Placeholder="Explain yourself here (up to 500
      characters)"
    PlaceholderColor="Red" [3]
    Text="{Binding LostPasswordExcuse}"
    TextColor="Blue"  [4]
    VerticalTextAlignment="Center" [5]
    x:Name="LoginEditor" /&gt;</pre>
			<p>I’ve used a number of properties on the editor, and a few of them <span class="No-Break">are new.</span></p>
			<p>[1] <strong class="source-inline">IsTextPredictionEnabled</strong> allows your editor to offer the user text to complete their sentence. You’ve seen this, no doubt, when working with Gmail and other applications. This is <a id="_idIndexMarker158"/>actually <strong class="source-inline">True</strong> by default; you might want to set it to <strong class="source-inline">False</strong> when asking for a user’s name or other conditions in which the prediction might <span class="No-Break">be annoying.</span></p>
			<p>[2] <strong class="source-inline">MaxLength</strong> manages how many characters the user may enter into <span class="No-Break">the editor.</span></p>
			<p>[3] <strong class="source-inline">PlaceHolderColor</strong> allows you to set the color of the <span class="No-Break">placeholder text.</span></p>
			<p>[4] Similarly, <strong class="source-inline">TextColor</strong> sets the color of the text the <span class="No-Break">user enters.</span></p>
			<p>[5] <strong class="source-inline">VerticalTextAlignment</strong> sets where, within the editor, the text <span class="No-Break">will lie.</span></p>
			<p><span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.19</em> shows what <strong class="bold">Login Page</strong> looks like before the user enters anything into the editor, and <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.20</em> shows what it looks like after the user has entered a few lines <span class="No-Break">of text:</span></p>
			<div>
				<div id="_idContainer044" class="IMG---Figure">
					<img src="image/Figure_4.19_B19723.jpg" alt="Figure 4.19 – Before the user enters text into the editor&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.19 – Before the user enters text into the editor</p>
			<p>You can enter as much<a id="_idIndexMarker159"/> text as you want into the editor, up to whatever maximum you’ve set in the declaration of <span class="No-Break">the control.</span></p>
			<div>
				<div id="_idContainer045" class="IMG---Figure">
					<img src="image/Figure_4.20_B19723.jpg" alt="Figure 4.20 – After the user enters text into the editor&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.20 – After the user enters text into the editor</p>
			<p>Although the margin is only<a id="_idIndexMarker160"/> set to <strong class="source-inline">10</strong>, there is a huge space between the buttons and the text. That is because we set <strong class="source-inline">VerticalTextAlignment</strong> to <strong class="source-inline">Center</strong>. If we change it to <strong class="source-inline">Start</strong>, the text will move to the top of the editor, as shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.21</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer046" class="IMG---Figure">
					<img src="image/Figure_4.21_B19723.jpg" alt="Figure 4.21 – Moving the text in the editor to the top (start) position&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.21 – Moving the text in the editor to the top (start) position</p>
			<p>Buttons inherently rely on <a id="_idIndexMarker161"/>events, but events are handled in the code-behind file, and we’d like to keep all our logic in <strong class="source-inline">ViewModel</strong>. The answer to that is the <strong class="source-inline">EventToCommand</strong> behavior, which we will <span class="No-Break">consider next.</span></p>
			<h1 id="_idParaDest-72"><a id="_idTextAnchor076"/>Behaviors</h1>
			<p>The <strong class="source-inline">Editor</strong> control has a number of events. These can be handled by event handlers in the code-behind file, but <a id="_idIndexMarker162"/>for the reasons already explained (and explained) we’d rather not do that. So, here <span class="No-Break">enters behaviors.</span></p>
			<p>Behaviors let you add functionality to your controls without having to create subclasses. They <em class="italic">tack on</em> the behavior. What we want to do now is tack on the ability to manage commands in a control (<strong class="source-inline">Editor</strong>) that doesn’t <span class="No-Break">have commands.</span></p>
			<p>The .NET MAUI Community Toolkit comes with a plethora of behaviors, including <strong class="source-inline">EventToCommandBehavior</strong>. This wonderful behavior allows you to transform an event (which would be handled in the code-behind file) into a command, which can be handled <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">ViewModel</strong></span><span class="No-Break">.</span></p>
			<p>The event we want to change in <strong class="source-inline">Editor</strong> is <strong class="source-inline">OnEditorCompleted</strong>, which is raised when the user hits the <em class="italic">Enter</em> key (or, on Windows, the <span class="No-Break"><em class="italic">Tab</em></span><span class="No-Break"> key):</span></p>
			<pre class="source-code">
&lt;Editor
    FontSize="Small"
    HeightRequest="300"
    IsTextPredictionEnabled="True"
    Margin="10"
    MaxLength="500"
    Placeholder="Explain yourself here (up to 500
        characters)"
    PlaceholderColor="Red"
    Text="{Binding LostPasswordExcuse}"
    TextColor="Blue"
    VerticalTextAlignment="Start"
    x:Name="LoginEditor"&gt;
    &lt;Editor.Behaviors&gt;
        &lt;behaviors:EventToCommandBehavior
            EventName="Completed"
            Command="{Binding EditorCompletedCommand}" /&gt;
    &lt;/Editor.Behaviors&gt;
&lt;/Editor&gt;</pre>
			<p>The syntax is reminiscent of <strong class="source-inline">GestureRecognizers</strong>, and that is not a coincidence. The idea is to enable a<a id="_idIndexMarker163"/> control to have various collections and to be able to declare those collections in <span class="No-Break">the XAML.</span></p>
			<p>You can, of course, declare the same thing <span class="No-Break">in C#:</span></p>
			<pre class="source-code">
Var editor = new Editor();
var behavior = new EventToCommandBehavior
{
   EventName = nameof(Editor.Completed),
   Command= new EditorCompletedCommand()
};</pre>
			<p>As noted earlier, anything you can do in XAML, you can also do <span class="No-Break">in C#.</span></p>
			<p>You manage the<a id="_idIndexMarker164"/> command (however you create it) in <strong class="source-inline">ViewModel</strong>, just as you would any other command. For fun, let’s add a label below the editor and bind it to <strong class="source-inline">LostPasswordExcuse</strong>, but only show it until the user <span class="No-Break">presses </span><span class="No-Break"><em class="italic">Enter</em></span><span class="No-Break">.</span></p>
			<p><strong class="source-inline">Login.xaml</strong> now looks <span class="No-Break">like this:</span></p>
			<pre class="source-code">
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;ContentPage
    Title="Login Page"
    x:Class="ForgetMeNotDemo.View.LoginPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:behaviors="http://schemas.microsoft.com/dotnet/
        2022/maui/toolkit"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"&gt;
    &lt;VerticalStackLayout&gt;
        &lt;HorizontalStackLayout WidthRequest="300"&gt;
            &lt;Label
                FontSize="Medium"
                HorizontalOptions="Start"
                Margin="10,20,10,0"
                Text="User Name"
                VerticalOptions="Center"
                VerticalTextAlignment="Center" /&gt;
            &lt;Entry
                HorizontalOptions="End"
                Placeholder="User Name"
                Text="{Binding Name}"
                WidthRequest="150" /&gt;
        &lt;/HorizontalStackLayout&gt;
        &lt;HorizontalStackLayout WidthRequest="300"&gt;
            &lt;Label
                FontSize="Medium"
                HorizontalOptions="Start"
                Margin="10,10,10,0"
                Text="Password"
                VerticalOptions="Center"
                VerticalTextAlignment="Center" /&gt;
            &lt;Entry
                HorizontalOptions="End"
                IsPassword="True"
                Placeholder="Password"
                Text="{Binding Password}"
                WidthRequest="150" /&gt;
        &lt;/HorizontalStackLayout&gt;
        &lt;HorizontalStackLayout Margin="10,10,10,0"&gt;
            &lt;Button
                BackgroundColor="Gray"
                Command="{Binding SubmitCommand}"
                Margin="5"
                Text="Submit" /&gt;
            &lt;Button
                BackgroundColor="Gray"
                Margin="5"
                Text="Create Account" /&gt;
            &lt;Button
                BackgroundColor="Gray"
                Margin="5"
                Text="Forgot Password" /&gt;
        &lt;/HorizontalStackLayout&gt;
        &lt;Editor
            FontSize="Small"
            HeightRequest="300"
            IsTextPredictionEnabled="True"
            Margin="10"
            MaxLength="5"
            Placeholder="Explain yourself here (up to 500
                characters)"
            PlaceholderColor="Red"
            Text="{Binding LostPasswordExcuse}"
            TextColor="Blue"
            VerticalTextAlignment="Start"
            x:Name="LoginEditor"&gt;
            &lt;Editor.Behaviors&gt;
                &lt;behaviors:EventToCommandBehavior
                    EventName="Completed"
                    Command="{Binding EditorCompleted
                        Command}" /&gt;
            &lt;/Editor.Behaviors&gt;
        &lt;/Editor&gt;
        &lt;Label
            FontSize="Small"
            IsVisible="{Binding EditorContentVisible}"
            LineBreakMode="WordWrap"
            Margin="10"
            Text="{Binding LostPasswordExcuse}"
            x:Name="EditorContents" /&gt;
    &lt;/VerticalStackLayout&gt;
&lt;/ContentPage&gt;</pre>
			<p>The Community Toolkit<a id="_idIndexMarker165"/> provides us with a much easier way to handle commands <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">ViewModel</strong></span><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-73"><a id="_idTextAnchor077"/>Popups and dialogs</h1>
			<p>It is not uncommon to want to alert the user to a condition or change or to get back a bit of data from the user with an alert, as shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.22</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer047" class="IMG---Figure">
					<img src="image/Figure_4.22_B19723.jpg" alt="Figure 4.22 – The Alert dialog&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.22 – The Alert dialog</p>
			<p>To keep things clean, remove the Editor<a id="_idIndexMarker166"/> and its associated Label from <strong class="source-inline">LoginPage.xaml</strong> and remove the constructor and <strong class="source-inline">ICommand</strong> from <strong class="source-inline">ViewModel</strong>. We won’t need them in the <span class="No-Break">final version.</span></p>
			<p>The <strong class="source-inline">DisplayAlert</strong> object can only be called from a page. Later, you’ll see how to handle <strong class="source-inline">SubmitCommand</strong> on the Button in <strong class="source-inline">ViewModel</strong> and send a message to the page to show the alert. For now, let’s keep things simple, and change the Button’s <strong class="source-inline">SubmitCommand</strong> to <span class="No-Break">an event:</span></p>
			<pre class="source-code">
&lt;Button
    BackgroundColor="Gray"
    Clicked="OnSubmit"
    Margin="5"
    Text="Submit" /&gt;</pre>
			<p>The event handler is placed in the code-behind file. Notice the signature of the <span class="No-Break">event handler:</span></p>
			<pre class="source-code">
private async void OnSubmit(object sender, EventArgs e)
 {
   await DisplayAlert(
     "Submit",
     $"You entered {vm.Name} and {vm.Password}",
     "OK");
 }</pre>
			<p>The dialog in <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.22</em> displayed <a id="_idIndexMarker167"/>data but did not interact with the user (except to say to press <strong class="bold">OK</strong> to close the dialog). However, we can allow the user to make a choice and then record which button <span class="No-Break">they press.</span></p>
			<p class="callout-heading">Event handler signature</p>
			<p class="callout"><strong class="source-inline">OnSubmit</strong> wants to be <strong class="source-inline">async</strong> because you want to call <strong class="source-inline">DisplayAlert</strong> with <strong class="source-inline">await</strong>. With events (and only events) <strong class="source-inline">async</strong> is not an async Task but rather an async void. The parameters are always an <strong class="source-inline">Object</strong> type and <strong class="source-inline">EventArgs</strong> or a type derived from <strong class="source-inline">EventArgs</strong>. The first is typically named <strong class="source-inline">sender</strong> as this is the <strong class="source-inline">View</strong> that raised the event. <strong class="source-inline">EventArgs</strong> is empty and <a id="_idIndexMarker168"/>serves as the base class for specific types of arguments that some events pass into the event handler. Since we won’t be using event handlers in the final code, you don’t have to worry too much <span class="No-Break">about this.</span></p>
			<p>Here we’ve considered only one of the three types of alerts. Let’s look at the other <span class="No-Break">two next.</span></p>
			<h2 id="_idParaDest-74"><a id="_idTextAnchor078"/>Presenting the user with a choice</h2>
			<p>While we’re at it, let’s look<a id="_idIndexMarker169"/> at the other two types of alerts. One asks the user to select one of two choices. We’ll add that to the <strong class="source-inline">CreateAccount</strong> button just <span class="No-Break">for now.</span></p>
			<p>Let’s add a <strong class="source-inline">clicked</strong> event to the <span class="No-Break"><strong class="source-inline">OnCreate</strong></span><span class="No-Break"> button:</span></p>
			<pre class="source-code">
&lt;Button
    BackgroundColor="Gray"
    Clicked="OnCreate"
    Margin="5"
    Text="Create Account" /&gt;</pre>
			<p>And, to have a place to show the result, let’s add a label after the closing <span class="No-Break"><strong class="source-inline">HorizontalStackLayout</strong></span><span class="No-Break"> tag:</span></p>
			<pre class="source-code">
&lt;Label Text="Create account?" x:Name="CreateAccount" /&gt;</pre>
			<p>The code-behind file has the event handler, which will update <span class="No-Break">our label:</span></p>
			<pre class="source-code">
private async void OnCreate(object sender, EventArgs e)
{
  CreateAccount.Text = (await DisplayAlert(
    "Create?",
    "Did you want to create an account?",
    "Yes",
    "No")).ToString();
}</pre>
			<p>DisplayA<strong class="source-inline">lert</strong> returns a Boolean, so we call <strong class="source-inline">ToString()</strong> to place it in the text field of the <strong class="source-inline">CreateAccount</strong> label. The dialog is shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.23</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer048" class="IMG---Figure">
					<img src="image/Figure_4.23_B19723.jpg" alt="Figure 4.23 – Using dialog to prompt a choice&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.23 – Using dialog to prompt a choice</p>
			<p>We can go further and <a id="_idIndexMarker170"/>offer the user a series of choices. This is often referred to as a <em class="italic">wizard</em>, as it can be used to walk the user through a series <span class="No-Break">of actions.</span></p>
			<h2 id="_idParaDest-75"><a id="_idTextAnchor079"/>ActionSheet</h2>
			<p>The third variant<a id="_idIndexMarker171"/> of dialog is <strong class="source-inline">ActionSheet</strong>. Here we can put forward a number of choices and allow the user to select one. We’ll attach this to an event handler for the <strong class="bold">Forgot </strong><span class="No-Break"><strong class="bold">Password</strong></span><span class="No-Break"> button:</span></p>
			<pre class="source-code">
&lt;Button
    BackgroundColor="Gray"
    Clicked="OnForgotPassword"
    Margin="5"
    Text="Forgot Password" /&gt;</pre>
			<p>Here’s the <span class="No-Break">event handler:</span></p>
			<pre class="source-code">
private async void OnForgotPassword(object sender,
  EventArgs e)
{
  CreateAccount.Text = (await DisplayActionSheet(
    "How can we solve this?", [1]
    "Cancel",   [2]
    null,       [3]
    "Get new password",
    "Show me my hint",
    "Delete account"));
}</pre>
			<p>[1] The first parameter is <span class="No-Break">the title.</span></p>
			<p>[2] The second parameter <a id="_idIndexMarker172"/>is the text for the <span class="No-Break"><strong class="bold">Cancel</strong></span><span class="No-Break"> button.</span></p>
			<p>[3] The third parameter is the text for the <strong class="bold">OK</strong> button. Since we don’t need <strong class="bold">OK</strong>, we pass <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">null</strong></span><span class="No-Break">.</span></p>
			<p>This is followed by a list of choices. <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.24</em> shows what this looks like when <span class="No-Break">it runs:</span></p>
			<div>
				<div id="_idContainer049" class="IMG---Figure">
					<img src="image/Figure_4.24_B19723.jpg" alt="Figure 4.24 – ActionSheet&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.24 – ActionSheet</p>
			<p>Finally, there are times <a id="_idIndexMarker173"/>when we want to allow the user to enter <span class="No-Break">free-form data.</span></p>
			<h2 id="_idParaDest-76"><a id="_idTextAnchor080"/>Displaying a prompt</h2>
			<p>The final variant<a id="_idIndexMarker174"/> of dialog provides a prompt to the user who can fill in a value. We’ll need to modify the event handler for <strong class="source-inline">OnCreate</strong> to <span class="No-Break">illustrate this:</span></p>
			<pre class="source-code">
private async void OnCreate(object sender, EventArgs e)
{
  CreateAccount.Text = await DisplayPromptAsync(
    title:"New Account",
    message:"How old are you?",
    placeholder:"Please enter your age",
    keyboard:Keyboard.Numeric,
    accept: "OK",
    cancel: "Cancel");
}</pre>
			<p>In this variant, it is common<a id="_idIndexMarker175"/> to use named parameters, as there are many options. <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.25</em> shows what this <span class="No-Break">looks like:</span></p>
			<div>
				<div id="_idContainer050" class="IMG---Figure">
					<img src="image/Figure_4.25_B19723.jpg" alt="Figure 4.25 – Display prompt&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.25 – Display prompt</p>
			<h2 id="_idParaDest-77"><a id="_idTextAnchor081"/>Toast</h2>
			<p>A very popular alternative to dialog <a id="_idIndexMarker176"/>boxes is the <em class="italic">Toast</em> view. This is a popup that comes up from the bottom of the page (much like toast coming up out of a toaster), which displays its message and <span class="No-Break">then disappears.</span></p>
			<p>Let’s modify the handler for <strong class="source-inline">OnCreate</strong> again, this time to display <span class="No-Break">a toast:</span></p>
			<pre class="source-code">
private async void OnCreate(object sender, EventArgs e)
{
    CancellationTokenSource = [1]
      new CancellationTokenSource();
    var message = "Your account was created";
    ToastDuration duration = ToastDuration.Short;  [2]
    var fontSize = 14;
    var toast = Toast.Make(message, duration, fontSize);
    await toast.Show(cancellationTokenSource.Token); [3]
}</pre>
			<p>When creating a Toast, you’ll need <strong class="source-inline">cancellationToken</strong>. Fortunately, you can instantiate one from the static <strong class="source-inline">Token</strong> object from the <strong class="source-inline">CancellationTokenSource</strong> object [1] <span class="No-Break">and [3].</span></p>
			<p>You set the duration of how long the toast will be shown with the <strong class="source-inline">ToastDuration</strong> enumeration [2]. The choices are <strong class="source-inline">Long</strong> <span class="No-Break">and </span><span class="No-Break"><strong class="source-inline">Short</strong></span><span class="No-Break">.</span></p>
			<p><span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.26</em> shows <span class="No-Break">the Toast:</span></p>
			<div>
				<div id="_idContainer051" class="IMG---Figure">
					<img src="image/Figure_4.26_B19723.jpg" alt="Figure 4.26 – Toast popup&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.26 – Toast popup</p>
			<h2 id="_idParaDest-78"><a id="_idTextAnchor082"/>Snackbar</h2>
			<p>If you need more control over the appearance<a id="_idIndexMarker177"/> of your Toast, you can use the closely related <strong class="source-inline">Snackbar</strong>. <strong class="source-inline">Snackbar</strong> not only has a plethora of options, it but it also has two steps. First is the display of the toast, and second is an (optional) action – that is, what <a id="_idIndexMarker178"/>do you want to do when the toast is dismissed? In this example, we’ll display <span class="No-Break">a dialog.</span></p>
			<p>The cornucopia of options means that the event handler is a bit more extensive <span class="No-Break">than usual:</span></p>
			<pre class="source-code">
private async void OnCreate(object sender, EventArgs e)
{
  CancellationTokenSource =  [1]
    new CancellationTokenSource();
  var message = "Your account was created";  [2]
  var dismissalText = "Click Here to Close the SnackBar";
    [3]
  TimeSpan duration = TimeSpan.FromSeconds(10);  [4]
  Action = async () =&gt;  [5]
    await DisplayAlert(
      "Snackbar Dismissed!",
      "The user has dismissed the snackbar",
      "OK");
  var snackbarOptions = new SnackbarOptions    [6]
  {
    BackgroundColor = Colors.Red,
    TextColor = Colors.Yellow,
    ActionButtonTextColor = Colors.Black,   [7]
    CornerRadius = new CornerRadius(20),
    Font = Microsoft.Maui.Font.SystemFontOfSize(14),
    ActionButtonFont = Microsoft.Maui.Font
      .SystemFontOfSize(14)
  };
  var snackbar = Snackbar.Make(
    message,
    action,
    dismissalText,
    duration,
    snackbarOptions);
  await snackbar.Show(cancellationTokenSource.Token);
}</pre>
			<p>[1] We start by creating <strong class="source-inline">CancellationTokenSource</strong> as we <span class="No-Break">did previously.</span></p>
			<p>[2] Create a message to be displayed in <span class="No-Break">the toast.</span></p>
			<p>[3] Add a message that can<a id="_idIndexMarker179"/> be clicked on to dismiss <span class="No-Break">the toast.</span></p>
			<p>[4] Define how long you want the toast to be displayed. You can use any unit of time that <strong class="source-inline">TimeSpan</strong> supports (you could have the toast display <span class="No-Break">for days!).</span></p>
			<p>[5] The action is what will happen when the toast <span class="No-Break">is dismissed.</span></p>
			<p>[6] Here is where we set the characteristics of <span class="No-Break">the toast.</span></p>
			<p>[7] You can set the text color for the toast and for the dismissal text independently of <span class="No-Break">each other.</span></p>
			<p><span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.27</em> shows what <strong class="source-inline">Snackbar</strong> looks like before we click <span class="No-Break">on it:</span></p>
			<div>
				<div id="_idContainer052" class="IMG---Figure">
					<img src="image/Figure_4.27_B19723.jpg" alt="Figure 4.27 – Snackbar&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.27 – Snackbar</p>
			<p>After the user clicks on the <strong class="bold">Click Here to Close the SnackBar</strong> text, <strong class="source-inline">SnackBar</strong> disappears, and the <a id="_idIndexMarker180"/>action is fired; in this case, the dialog box appears, as shown in <span class="No-Break"><em class="italic">Figure 4</em></span><span class="No-Break"><em class="italic">.28</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer053" class="IMG---Figure">
					<img src="image/Figure_4.28_B19723.jpg" alt="Figure 4.28 – The action after the snackbar is dismissed&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.28 – The action after the snackbar is dismissed</p>
			<p>.NET MAUI does not have<a id="_idIndexMarker181"/> a horizontal line control, but we can put the <strong class="source-inline">BoxView</strong> control to work as an <span class="No-Break">excellent substitute.</span></p>
			<h2 id="_idParaDest-79"><a id="_idTextAnchor083"/>BoxView</h2>
			<p>One of the simplest<a id="_idIndexMarker182"/> controls is <strong class="source-inline">BoxView</strong>, which simply draws a box on <span class="No-Break">the page:</span></p>
			<pre class="source-code">
&lt;BoxView
    Color="Red"
    CornerRadius="20"
    HeightRequest="125"
    WidthRequest="100" /&gt;</pre>
			<p><span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.29</em> shows the <span class="No-Break"><strong class="source-inline">BoxView</strong></span><span class="No-Break"> control:</span></p>
			<div>
				<div id="_idContainer054" class="IMG---Figure">
					<img src="image/Figure_4.29_B19723.jpg" alt="Figure 4.29 – A simple BoxView control&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.29 – A simple BoxView control</p>
			<p>What good is this you ask? If you make the box height very small and the width very large, you get a nice line to<a id="_idIndexMarker183"/> divide your page. If we put the following after the <strong class="bold">Password</strong> entry, but before the buttons, we can neatly divide <span class="No-Break">the page:</span></p>
			<pre class="source-code">
        &lt;BoxView
            Color="Red"
            HeightRequest="2"
            Margin="0,20"
            WidthRequest="400" /&gt;</pre>
			<p><span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.30</em> shows what this <span class="No-Break">looks like:</span></p>
			<div>
				<div id="_idContainer055" class="IMG---Figure">
					<img src="image/Figure_4.30_B19723.jpg" alt="Figure 4.30 – Using the BoxView control to draw a line&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.30 – Using the BoxView control to draw a line</p>
			<p>Many UI experts like<a id="_idIndexMarker184"/> to frame controls with a border, potentially with a <em class="italic">drop shadow</em>. To do this you’ll want to use a <span class="No-Break"><strong class="source-inline">Frame</strong></span><span class="No-Break"> control.</span></p>
			<h2 id="_idParaDest-80"><a id="_idTextAnchor084"/>Frame</h2>
			<p>If you wish to create a border<a id="_idIndexMarker185"/> around another control, you’ll want to use a <strong class="source-inline">Frame</strong> control. <strong class="source-inline">Frame</strong> lets you define the color of the border, <strong class="source-inline">CornerRadius</strong>, and whether or not the frame has a shadow. Let’s create a frame around the <strong class="source-inline">Password</strong> <span class="No-Break">entry field:</span></p>
			<pre class="source-code">
&lt;Frame
     BorderColor="Blue"
     CornerRadius="5"&gt;
     &lt;Entry
         HorizontalOptions="End"
         IsPassword="True"
         Placeholder="Password"
         Text="{Binding Password}"
         WidthRequest="150" /&gt;
 &lt;/Frame&gt;</pre>
			<p><span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.31</em> shows <span class="No-Break">the</span><span class="No-Break"><a id="_idIndexMarker186"/></span><span class="No-Break"> result:</span></p>
			<div>
				<div id="_idContainer056" class="IMG---Figure">
					<img src="image/Figure_4.31_B19723.jpg" alt="Figure 4.31 – Putting a frame around the Password entry&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.31 – Putting a frame around the Password entry</p>
			<p>You control the color of the <strong class="source-inline">BoxView</strong> control and a number of other controls by painting the color <span class="No-Break">using Brushes.</span></p>
			<h1 id="_idParaDest-81"><a id="_idTextAnchor085"/>Brushes</h1>
			<p>You can fill in the color of any number<a id="_idIndexMarker187"/> of controls using a brush. The easiest place to see this in action is with a <strong class="source-inline">BoxView</strong> control, or <span class="No-Break">with </span><span class="No-Break"><strong class="source-inline">Frame</strong></span><span class="No-Break">.</span></p>
			<p>There are three types of brushes, <strong class="bold">Solid</strong>, <strong class="bold">Linear Gradient</strong>, and <strong class="bold">Radial Gradient</strong>. Let’s explore them in a bit <span class="No-Break">more detail.</span></p>
			<h2 id="_idParaDest-82"><a id="_idTextAnchor086"/>The Solid brush</h2>
			<p>The Solid Brush is used when <a id="_idIndexMarker188"/>you want to fill a control with a single color. Typically, the<a id="_idIndexMarker189"/> solid brush is implicit in the <strong class="source-inline">BackgroundColor</strong> property of the control, as we saw above when drawing the <span class="No-Break"><strong class="source-inline">BoxView</strong></span><span class="No-Break"> control.</span></p>
			<h2 id="_idParaDest-83"><a id="_idTextAnchor087"/>LinearGradientBrush</h2>
			<p><strong class="source-inline">LinearGradientBrush</strong> paints an area <a id="_idIndexMarker190"/>with a blend of two or more colors along a line called <a id="_idIndexMarker191"/>the gradient axis. You specify a start point and an endpoint, and then you specify stop points (where the colors switch) along <span class="No-Break">the way.</span></p>
			<p>The start and endpoints are relative to the borders of the painted area, with <strong class="source-inline">0,0</strong> being the upper left corner (and the default start) and <strong class="source-inline">1,1</strong> being the lower right (and the <span class="No-Break">default stop).</span></p>
			<p>To illustrate this, I’ll move the frame from around the password to a space of <span class="No-Break">its own:</span></p>
			<pre class="source-code">
&lt;Frame
    BorderColor="Blue"
    CornerRadius="10"
    HasShadow="True"
    HeightRequest="100"
    WidthRequest="100"&gt;
    &lt;Frame.Background&gt;  [1]
        &lt;LinearGradientBrush EndPoint="1,0"&gt; [2]
            &lt;GradientStop Color="Yellow" Offset="0.2" /&gt;
              [3]
            &lt;GradientStop Color="Red" Offset="0.1" /&gt; [4]
        &lt;/LinearGradientBrush&gt;
    &lt;/Frame.Background&gt;
&lt;/Frame&gt;</pre>
			<p>[1] Here we create a <strong class="source-inline">Background</strong> property <span class="No-Break">on </span><span class="No-Break"><strong class="source-inline">Frame</strong></span><span class="No-Break">.</span></p>
			<p>[2] Within that, <span class="No-Break">create </span><span class="No-Break"><strong class="source-inline">LinearGradientBrush</strong></span><span class="No-Break">.</span></p>
			<p>Note that we specify <strong class="source-inline">EndPoint</strong> but not <strong class="source-inline">StartPoint</strong>, as we’re using the default <strong class="source-inline">StartPoint</strong> of <strong class="source-inline">0,0</strong>. By going <a id="_idIndexMarker192"/>from <strong class="source-inline">0,0</strong> to <strong class="source-inline">1,0</strong>, we create a <span class="No-Break">horizontal gradient.</span></p>
			<p>[3] We have set the<a id="_idIndexMarker193"/> first <strong class="source-inline">GradientStop</strong> <span class="No-Break">at </span><span class="No-Break"><strong class="source-inline">0.2</strong></span><span class="No-Break">.</span></p>
			<p>[4] We set the second <strong class="source-inline">GradientStop</strong> at <strong class="source-inline">0.1</strong>, giving us about twice as much yellow <span class="No-Break">as red.</span></p>
			<p><span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.32</em> shows <span class="No-Break">the result:</span></p>
			<div>
				<div id="_idContainer057" class="IMG---Figure">
					<img src="image/Figure_4.32_B19723.jpg" alt="Figure 4.32 – LinearGradientBrush&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.32 – LinearGradientBrush</p>
			<p class="callout-heading">Gradient stops</p>
			<p class="callout">Gradient stops indicate the position along the gradient vector, ranging from <strong class="source-inline">0</strong> to <strong class="source-inline">1</strong>. In short, the first gradient shown here is two-tenths of the way, and the second is one-tenth of the way along the <span class="No-Break">gradient vector.</span></p>
			<p>Gradients come in two<a id="_idIndexMarker194"/> flavors: linear, as shown in the previous example, and radial, as<a id="_idIndexMarker195"/> <span class="No-Break">explained next.</span></p>
			<h2 id="_idParaDest-84"><a id="_idTextAnchor088"/>RadialGradientBrush</h2>
			<p>If we do the same<a id="_idIndexMarker196"/> thing with <strong class="source-inline">RadialGradientBrush</strong>, our coordinates start at the center, which defaults to <strong class="source-inline">0.5,0.5</strong>, and we supply the radius as <a id="_idIndexMarker197"/>a double. The default value is <strong class="source-inline">0.5</strong>. Let’s reproduce <strong class="source-inline">LinearGradient</strong> shown previously <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">RadialGradientBrush</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
&lt;Frame
    BorderColor="Blue"
    CornerRadius="10"
    HasShadow="True"
    HeightRequest="100"
    WidthRequest="100"&gt;
    &lt;Frame.Background&gt;
        &lt;RadialGradientBrush&gt;
            &lt;GradientStop Color="Yellow" Offset="0.2" /&gt;
            &lt;GradientStop Color="Red" Offset="0.1" /&gt;
        &lt;/RadialGradientBrush&gt;
    &lt;/Frame.Background&gt;
&lt;/Frame&gt;</pre>
			<p>Notice that we did not specify the center or the radius, so we are using the default values. <span class="No-Break"><em class="italic">Figure 4</em></span><em class="italic">.33</em> illustrates <span class="No-Break">the result:</span></p>
			<div>
				<div id="_idContainer058" class="IMG---Figure">
					<img src="image/Figure_4.33_B19723.jpg" alt="Figure 4.33 – RadialGradientBrush&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.33 – RadialGradientBrush</p>
			<p>With this, we’ve come<a id="_idIndexMarker198"/> to the end of a very <span class="No-Break">important </span><span class="No-Break"><a id="_idIndexMarker199"/></span><span class="No-Break">chapter.</span></p>
			<h1 id="_idParaDest-85"><a id="_idTextAnchor089"/>Summary</h1>
			<p>This has been a long chapter, and we’ve covered many things, but if you break it down, the real topics were <span class="No-Break">as follows:</span></p>
			<ul>
				<li><span class="No-Break">MVVM</span></li>
				<li><span class="No-Break"><strong class="source-inline">DataBinding</strong></span></li>
				<li><span class="No-Break">Controls</span></li>
			</ul>
			<p>Of course, controls are a pretty big topic, and we’re not done. In the next chapter, we’ll talk about layouts, but we’ll also discuss how you style controls, animate controls, <span class="No-Break">and more.</span></p>
			<p class="callout-heading">The 90% you use 90% of the time</p>
			<p class="callout">I did not try to cover every control, nor did I cover all the properties of the controls we did see. That would have turned this book into an encyclopedia, and my goal is to show you the 90% of .NET MAUI that you use day in and day out. If you find you need a different property or a different control, well, that’s what the (excellent) documentation is for. Just go to <a href="https://bit.ly/Liberty-Maui">https://bit.ly/Liberty-Maui</a>, or ask Google or your local AI agent, and you’ll be able to find every nook <span class="No-Break">and cranny.</span></p>
			<p>The main takeaways from this <span class="No-Break">chapter are:</span></p>
			<ul>
				<li>MVVM is the essential architecture for .NET MAUI. In MVVM, <strong class="source-inline">Model</strong> is the data (we’ve not seen this at work yet), <strong class="source-inline">View</strong> is the UI, and <strong class="source-inline">ViewModel</strong> is where all the logic is (or should be). We broke MVVM for much of this chapter and put the logic in the code-behind file, but that was only as a convenience and because we haven’t, yet, talked about getting data into and out <span class="No-Break">of pages.</span></li>
				<li><strong class="source-inline">DataBinding</strong> is how you connect <strong class="source-inline">ViewModel</strong> to <strong class="source-inline">View</strong>. Rather than copying data from a property in <strong class="source-inline">ViewModel</strong> to a field in <strong class="source-inline">View</strong>, you bind that control to the property, and when the property’s value changes, the control is <span class="No-Break">automagically updated.</span></li>
				<li>There is a boatload of controls available to you and each is displayed as a native control on all of the supported platforms: iOS, Android, Windows, and macOS. The fact that they are emitted as native controls is tremendously important. Not only will they look right, but they will also be <span class="No-Break">wicked fast.</span></li>
				<li>Anything you can declare in XAML you can declare <span class="No-Break">in C#.</span></li>
				<li>You can take control over the appearance of each control so that they look the same on every platform – anything from having the same color all the way to looking identical. That is entirely up to you. It only depends on how many properties you set on <span class="No-Break">each control.</span></li>
			</ul>
			<h1 id="_idParaDest-86"><a id="_idTextAnchor090"/>Quiz</h1>
			<ol>
				<li>What are the advantages <span class="No-Break">of MVVM?</span></li>
				<li>How do you create the connection between the <strong class="source-inline">View</strong> class and <strong class="source-inline">ViewModel</strong> so that data binding <span class="No-Break">will work?</span></li>
				<li>What are two controls for entering data into <span class="No-Break">a form?</span></li>
				<li>What is the most common control for <span class="No-Break">displaying data?</span></li>
				<li>What is <span class="No-Break">a </span><span class="No-Break"><strong class="source-inline">SnackBar</strong></span><span class="No-Break">?</span></li>
			</ol>
			<h1 id="_idParaDest-87"><a id="_idTextAnchor091"/>You try it</h1>
			<ul>
				<li>Build a page that acts like <span class="No-Break">a form</span></li>
				<li>Give it some prompts, entry fields, and buttons to accept <span class="No-Break">the entry</span></li>
				<li>When the user fills in the field and clicks on the button, display a confirmation toast and show their entry in <span class="No-Break">a label</span></li>
				<li>Add in an image, and for extra credit, enable that image to be clicked on and, when clicked on, display a congratulatory dialog box and/or toast (or if you are ambitious, <span class="No-Break">use </span><span class="No-Break"><strong class="source-inline">SnackBar</strong></span><span class="No-Break">!)</span></li>
				<li>Feel free to mix in <span class="No-Break">additional controls</span></li>
			</ul>
		</div>
	</body></html>