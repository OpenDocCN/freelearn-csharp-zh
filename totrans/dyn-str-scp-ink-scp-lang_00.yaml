- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: '*Dynamic Story Scripting with the ink Scripting Language* teaches you an easy-to-learn
    narrative scripting language. Instead of needing to build an entirely new system
    for every project, ink allows authors to create story-driven content using a robust
    markup language designed for simple and advanced narrative experiences alike.
    Combined with the ink Unity Integration plugin, authors can work with developers
    to write all their story content in one language, ink, and access its variables,
    call functions, or move between sections of a story using code in Unity.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '*使用ink脚本语言进行动态故事脚本编写*教授你一种易于学习的叙事脚本语言。ink允许作者无需为每个项目构建全新的系统，即可使用专为简单和高级叙事体验设计的强大标记语言来创建以故事驱动的内
    容。结合ink Unity集成插件，作者可以与开发者合作，使用ink语言编写所有故事内容，并访问其变量、调用函数或使用Unity中的代码在故事的不同部分之间移动。'
- en: In this book, we will start with the ink itself. The first five chapters will
    walk you through how ink understands stories, manages the flow, the movement between
    sections of a story, and how to store and manipulate different values within a
    story. This will lead directly into the middle four chapters, which cover how
    to use the ink Unity Integration plugin and the application programming interface
    it provides to communicate between ink stories and Unity projects.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们将从ink本身开始。前五章将指导你了解ink如何理解故事、管理流程、故事部分之间的移动，以及如何在故事中存储和操作不同的值。这将直接过渡到中间四章，这些章节将介绍如何使用ink
    Unity集成插件及其提供的应用程序编程接口，在ink故事和Unity项目之间进行通信。
- en: Finally, the last three chapters will highlight three common use cases. We will
    start with creating a dialogue system and review some approaches to handling data
    when using ink and Unity. Next, we examine how to create an advanced quest tracking
    system where each ink story contains a quest, but Unity is used to track values
    between them. The last use case will review some common terms and patterns across
    ink and Unity to help developers get started using procedural storytelling in
    their projects.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，最后三章将重点介绍三个常见用例。我们将从创建对话系统开始，并回顾在使用ink和Unity时处理数据的一些方法。接下来，我们将探讨如何创建一个高级任务跟踪系统，其中每个ink故事都包含一个任务，但Unity用于跟踪它们之间的值。最后一个用例将回顾ink和Unity中的一些常见术语和模式，以帮助开发者开始在项目中使用程序化叙事。
- en: Who this book is for
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书面向对象
- en: This book is for Unity developers looking for a solution for narrative-driven
    projects and authors who want to create interactive story projects in Unity. Basic
    knowledge of Unity development and related concepts is needed to get the most
    out of this book.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向寻求叙事驱动项目解决方案的Unity开发者以及希望在Unity中创建交互式故事项目的作者。为了充分利用本书，需要具备Unity开发和相关概念的基本知识。
- en: What this book covers
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖内容
- en: '[*Chapter 1*](B17597_01_Final_PG_ePub.xhtml#_idTextAnchor014), *Text, Flow,
    Choices, and Weaves*, describes the core concepts of ink, flow, choices, and the
    relationship between them.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第一章*](B17597_01_Final_PG_ePub.xhtml#_idTextAnchor014)，*文本、流程、选择和交织*，描述了墨水、流程、选择及其相互关系的核心概念。'
- en: '[*Chapter 2*](B17597_02_Final_PG_ePub.xhtml#_idTextAnchor031), *Knots, Diverts,
    and Looping Patterns*, covers the divisions of stories, knots, and how to move
    between them.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第二章*](B17597_02_Final_PG_ePub.xhtml#_idTextAnchor031)，*节点、分支和循环模式*，涵盖了故事划分、节点以及如何在它们之间移动。'
- en: '[*Chapter 3*](B17597_03_Final_PG_ePub.xhtml#_idTextAnchor048), *Sequences,
    Cycles, and Shuffling Text*, explains programmable ways of generating dynamic
    text, alternatives, and their different forms.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第三章*](B17597_03_Final_PG_ePub.xhtml#_idTextAnchor048)，*序列、循环和文本洗牌*，解释了生成动态文本、替代方案及其不同形式的编程方法。'
- en: '[*Chapter 4*](B17597_04_Final_PG_ePub.xhtml#_idTextAnchor062), *Variables,
    Lists, and Functions*, covers how to store values in different ways along with
    advanced programming in ink.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第四章*](B17597_04_Final_PG_ePub.xhtml#_idTextAnchor062)，*变量、列表和函数*，介绍了如何在ink中进行不同方式的值存储以及高级编程。'
- en: '[*Chapter 5*](B17597_05_Final_PG_ePub.xhtml#_idTextAnchor077), *Tunnels and
    Threads*, explains how to chain knots together, describes what tunnels are, and
    covers how to pull content into new configurations – threads.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第五章*](B17597_05_Final_PG_ePub.xhtml#_idTextAnchor077)，*隧道和线程*，解释了如何将节点链接在一起，描述了隧道是什么，以及如何将内容拉入新的配置——线程。'
- en: '[*Chapter 6*](B17597_06_Final_PG_ePub.xhtml#_idTextAnchor092), *Adding and
    Working with the ink-Unity Integration Plugin*, explains how to locate, install,
    and verify the installation of the ink-Unity Integration plugin.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 6 章*](B17597_06_Final_PG_ePub.xhtml#_idTextAnchor092)，*Adding and Working
    with the ink-Unity Integration Plugin*，解释了如何定位、安装和验证 ink-Unity 集成插件的安装。'
- en: '[*Chapter 7*](B17597_07_Final_PG_ePub.xhtml#_idTextAnchor106), *Unity API –
    Making Choices and Story Progression*, covers how to select options in a weave
    and progress an ink story using the Story API in Unity.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 7 章*](B17597_07_Final_PG_ePub.xhtml#_idTextAnchor106)，*Unity API – Making
    Choices and Story Progression*，介绍了如何在 weave 中选择选项，并使用 Unity 中的 Story API 推进 ink
    故事。'
- en: '[*Chapter 8*](B17597_08_Final_PG_ePub.xhtml#_idTextAnchor123), *Story API –
    Accessing ink Variables and Functions*, explains how to access and use ink variables
    and functions from Unity using the Story API.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 8 章*](B17597_08_Final_PG_ePub.xhtml#_idTextAnchor123)，*Story API – Accessing
    ink Variables and Functions*，解释了如何使用 Story API 从 Unity 访问和使用 ink 变量和函数。'
- en: '[*Chapter 9*](B17597_09_Final_PG_ePub.xhtml#_idTextAnchor137), *Story API –
    Observing and Reacting to Story Events*, explains how to observe and react to
    changes in ink using the Story API in Unity.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 9 章*](B17597_09_Final_PG_ePub.xhtml#_idTextAnchor137)，*Story API – Observing
    and Reacting to Story Events*，解释了如何使用 Unity 中的 Story API 观察和响应 ink 中的变化。'
- en: '[*Chapter 10*](B17597_10_Final_PG_ePub.xhtml#_idTextAnchor145), *Dialogue Systems
    with ink*, describes general approaches to creating a dialogue system in ink using
    hashtags, speech tags, and how the visual representation of options in Unity affects
    code in ink.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 10 章*](B17597_10_Final_PG_ePub.xhtml#_idTextAnchor145)，*使用 ink 的对话系统*，描述了在
    ink 中使用标签、语音标签创建对话系统的通用方法，以及 Unity 中选项的视觉表示如何影响 ink 中的代码。'
- en: '[*Chapter 11*](B17597_11_Final_PG_ePub.xhtml#_idTextAnchor159), *Quest Tracking
    and Branching Narratives*, provides a general template in ink for quests, how
    to track multiple quests from Unity, and an approach to synchronizing ink variables
    across stories.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 11 章*](B17597_11_Final_PG_ePub.xhtml#_idTextAnchor159)，*任务追踪和分支叙事*，在 ink
    中提供了一个任务的一般模板，如何从 Unity 跟踪多个任务，以及如何在故事中同步 ink 变量。'
- en: '[*Chapter 12*](B17597_12_Final_PG_ePub.xhtml#_idTextAnchor174), *Procedural
    Storytelling with ink*, provides an introduction to the term procedural storytelling,
    how to begin to use it in ink, and how the same approaches in ink work in Unity.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 12 章*](B17597_12_Final_PG_ePub.xhtml#_idTextAnchor174)，*Procedural Storytelling
    with ink*，介绍了程序化叙事的概念，如何在 ink 中开始使用它，以及 ink 中的相同方法如何在 Unity 中工作。'
- en: To get the most out of this book
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 要充分利用本书
- en: You will need at least Unity 2021.1 and Inky 0.12.0\. All code examples have
    been tested on Windows OS. However, they should work with future releases of both
    Unity and Inky.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 您至少需要 Unity 2021.1 和 Inky 0.12.0。所有代码示例已在 Windows 操作系统上测试。然而，它们应该与 Unity 和 Inky
    的未来版本兼容。
- en: '![](img/B17597_Preface_Table01.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B17597_Preface_Table01.jpg)'
- en: '[*Chapter 10*](B17597_10_Final_PG_ePub.xhtml#_idTextAnchor145)*,* [*Chapter
    11*](B17597_11_Final_PG_ePub.xhtml#_idTextAnchor159)*, and* [*Chapter 12*](B17597_12_Final_PG_ePub.xhtml#_idTextAnchor174)
    *include Unity projects. When using Unity projects from GitHub, remember to be
    patient as Unity rebuilds files when opening a project for the first time and
    to always open the* `SampleScene` *scene in each project to see the final code.*'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 10 章*](B17597_10_Final_PG_ePub.xhtml#_idTextAnchor145)*、[*第 11 章*](B17597_11_Final_PG_ePub.xhtml#_idTextAnchor159)*和[*第
    12 章*](B17597_12_Final_PG_ePub.xhtml#_idTextAnchor174)*包含 Unity 项目。当使用来自 GitHub
    的 Unity 项目时，请记住在首次打开项目时要耐心，因为 Unity 会重建文件，并且始终在每个项目中打开* `SampleScene` *场景以查看最终代码。*'
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code from the book''s GitHub repository (a link
    is available in the next section). Doing so will help you avoid any potential
    errors related to the copying and pasting of code.**'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您使用的是本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将有助于您避免与代码复制和粘贴相关的任何潜在错误。**'
- en: Download the example code files
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Dynamic-Story-Scripting-with-the-ink-Scripting-Language](https://github.com/PacktPublishing/Dynamic-Story-Scripting-with-the-ink-Scripting-Language).
    If there's an update to the code, it will be updated in the GitHub repository.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从 GitHub 下载本书的示例代码文件，网址为 [https://github.com/PacktPublishing/Dynamic-Story-Scripting-with-the-ink-Scripting-Language](https://github.com/PacktPublishing/Dynamic-Story-Scripting-with-the-ink-Scripting-Language)。如果代码有更新，它将在
    GitHub 仓库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他来自我们丰富的图书和视频目录的代码包，可在[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)找到。查看它们吧！
- en: Download the color images
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: 'We also provide a PDF file that has color images of the screenshots and diagrams
    used in this book. You can download it here:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一份包含本书中使用的截图和图表彩色图像的PDF文件。你可以从这里下载：
- en: '[https://static.packt-cdn.com/downloads/9781801819329_ColorImages.pdf](_ColorImages.pdf).'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://static.packt-cdn.com/downloads/9781801819329_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781801819329_ColorImages.pdf).'
- en: Conventions used
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用了多种文本约定。
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: "Every time the button is clicked, the Story method
    `ChooseChoiceIndex()` will be called with the correct index, and the `LoadTextAndWeave()`
    method will be called again, refreshing the value of `currentLinesText` and updating
    the current buttons shown on the screen... ."'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter昵称。以下是一个例子：“每次按钮被点击时，Story方法`ChooseChoiceIndex()`将使用正确的索引被调用，并且`LoadTextAndWeave()`方法将被再次调用，刷新`currentLinesText`的值并更新屏幕上显示的当前按钮...”'
- en: 'A block of code is set as follows:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起你对代码块中特定部分的注意时，相关的行或项目将被设置为粗体：
- en: '[PRE1]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see on
    screen. For instance, words in menus or dialog boxes appear in **bold**. Here
    is an example:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要单词或你在屏幕上看到的单词。例如，菜单或对话框中的单词以粗体显示。以下是一个例子：'
- en: Select the **Prefab** button in the project window.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目窗口中选择**预制**按钮。
- en: In the **Inspector** view, click on the **Tag** drop-down menu and then click
    on the **Add** **Tag…** option.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**检查器**视图中，点击**标签**下拉菜单，然后点击**添加** **标签…**选项。
- en: Tips or important notes
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 小贴士或重要提示
- en: Appear like this.
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 看起来像这样。
- en: Get in touch
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们欢迎读者的反馈。
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](mailto:customercare@packtpub.com) and
    mention the book title in the subject of your message.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：如果你对本书的任何方面有疑问，请通过[customercare@packtpub.com](mailto:customercare@packtpub.com)给我们发邮件，并在邮件的主题中提及书名。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    and fill in the form.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误表**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，我们将不胜感激，如果你能向我们报告这个错误。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com)
    with a link to the material.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**: 如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过[版权@packt.com](mailto:copyright@packt.com)与我们联系，并提供材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且你感兴趣的是撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share Your Thoughts
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享你的想法
- en: Once you've read *Dynamic Story Scripting with the ink Scripting Language*,
    we'd love to hear your thoughts! Please [click here to go straight to the Amazon
    review page](https://packt.link/r/1-801-81932-7) for this book and share your
    feedback.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你阅读了《使用ink脚本语言进行动态故事脚本编写》，我们很乐意听听你的想法！请[点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1-801-81932-7)并分享你的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we're delivering excellent quality content.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 你的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。
