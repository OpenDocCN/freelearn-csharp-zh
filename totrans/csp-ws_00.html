<html><head></head><body>
<div><div><h1 id="_idParaDest-2"><a id="_idTextAnchor001"/>Preface</h1>
</div>
<div><h1 id="_idParaDest-3"><a id="_idTextAnchor002"/>About the Book</h1>
<p>C# is a powerful and versatile Object-Oriented Programming (OOP) language that can unlock a variety of career paths. But, as with any programming language, learning C# can be challenging. With a wide range of different resources available, it's difficult to know where to start.</p>
<p>That's where <em class="italic">The C# Workshop</em> comes in. Written and reviewed by industry experts, it provides a fast-paced, supportive learning experience that will quickly get you writing C# code and building applications. Unlike other software development books that focus on dry, technical explanations of the underlying theory, this workshop cuts through the noise and uses engaging examples to help you learn how each concept is applied in the real world.</p>
<p>As you work through the book, you'll tackle realistic exercises that simulate the types of problems software developers work on every day. These mini-projects include building a random-number guessing game, using the publisher-subscriber model to design a web file downloader, creating a to-do list using Razor Pages, generating images from the Fibonacci sequence using async/await tasks, and developing a temperature unit conversion app that you will then deploy to a production server.</p>
<p>By the end of this book, you'll have the knowledge, skills, and confidence required to advance your career and tackle your ambitious projects with C#.</p>
<h2 id="_idParaDest-4"><a id="_idTextAnchor003"/>Audience</h2>
<p>This book is for aspiring C# developers. It is recommended that you have a basic knowledge of core programming concepts before you start. Prior experience with another programming language would be beneficial, though it is not absolutely necessary.</p>
<h1 id="_idParaDest-5"><a id="_idTextAnchor004"/>About the Authors</h1>
<p><strong class="bold">Jason Hales</strong> has been developing low-latency, real-time applications using various Microsoft technologies since the first release of C# in 2001. He is a keen advocate of design patterns, OO principles, and test-driven practices. When he's not dabbling with code, he likes to spend time with his wife, Ann, and their three daughters in Cambridgeshire, UK.</p>
<p><strong class="bold">Almantas Karpavicius</strong> is a lead software engineer working in the information and technology company, TransUnion. He has been a professional programmer for over five years. On top of his full-time programming career, Almantas has spent three years teaching programming for free in his free time on <a href="http://Twitch.tv">Twitch.tv</a>. He is a founder of a C# programming community called C# Inn that boasts over 7000 members and the creator of two free C# boot camps in which he has helped hundreds of people get a start in their careers. He has taken interviews with programming celebrities, such as Jon Skeet, Robert C. Martin (Uncle Bob), Mark Seemann, and was also a part-time Java teacher for a time. Almantas likes talking about software design, clean code, and architecture. He is also interested in Agile (Scrum, in particular) and is a big fan of automated tests, especially those done using BDD. He also holds a two-year Microsoft MVP (<a href="https://packt.link/2qUJp">https://packt.link/2qUJp</a>).</p>
<p><strong class="bold">Mateus Viegas</strong> has been working in Software Engineering and Architecture for over a decade, dedicating the last few years to Leadership and Management roles. His main interests in technology are C#, Distributed Systems, and Product Development. A lover of the outdoors, when not working he likes to spend his time either exploring nature with his family, taking photographs, or running.</p>
<h1 id="_idParaDest-6"><a id="_idTextAnchor005"/>About the Chapters</h1>
<p><em class="italic">Chapter 1</em>, <em class="italic">Hello C#</em>, introduces the fundamental concepts of the language, such as variables, constants, loops, and arithmetic and logical operators.</p>
<p><em class="italic">Chapter 2</em>, <em class="italic">Building Quality Object-Oriented Code</em>, covers the basics of Object-oriented programming and its four pillars, before introducing the five main principles of clean coding—SOLID. This chapter also covers the latest features in the C# language.</p>
<p><em class="italic">Chapter 3</em>, <em class="italic">Delegates, Events, and Lambdas</em>, introduces delegates and events, which form the core mechanism for communicating between objects, and lambda syntax, which offers a way to clearly express the intent of code.</p>
<p><em class="italic">Chapter 4</em>, <em class="italic">Data Structures and LINQ</em>, covers the common collection classes that are used to store multiple values and the integrated language LINQ which is designed for querying collections in memory.</p>
<p><em class="italic">Chapter 5</em>, <em class="italic">Concurrency: Multithreading Parallel and Async Code</em>, provides an introduction to writing efficient code that is high performing across different scenarios and how to avoid common pitfalls and mistakes.</p>
<p><em class="italic">Chapter 6</em>, <em class="italic">Entity Framework with SQL Server</em>, introduces database design and storage using SQL and C# and provides an in-depth look at object-relational mapping using Entity Framework. The chapter also teaches common design patterns for working with databases. </p>
<p class="callout-heading">Note</p>
<p class="callout">For those who are interested in learning the basics of databases and how to work with PostgreSQL, a reference chapter has been included in the GitHub repository of this book. You can access it at <a href="https://packt.link/oLQsL">https://packt.link/oLQsL</a>.</p>
<p><em class="italic">Chapter 7</em>, <em class="italic">Creating Modern Web Applications with ASP.NET</em>, looks at how to write simple ASP.NET applications and how to use approaches such as server-side rendering and single-page applications to create web applications.</p>
<p><em class="italic">Chapter 8</em>, <em class="italic">Creating and Using Web API Clients</em>, introduces APIs and teaches you how to access and consume Web APIs from ASP.NET code.</p>
<p><em class="italic">Chapter 9</em>, <em class="italic">Creating API Services</em>, continues with the topic of APIs and teaches you how to create your API services for consumption, and how to secure it. The chapter also introduces you to the concept of microservices.</p>
<p class="callout-heading">Note</p>
<p class="callout">There are also two bonus chapters (<em class="italic">Chapter 10</em>, <em class="italic">Automated Testing</em>, and <em class="italic">Chapter 11</em>, <em class="italic">Production-Ready C#: From Development to Deployment</em>) which you can find at <a href="https://packt.link/44j2X">https://packt.link/44j2X</a> and <a href="https://packt.link/39qQA">https://packt.link/39qQA</a>, respectively.</p>
<p class="callout">You can also find solutions for all activities in this Workshop online at <a href="https://packt.link/qclbF">https://packt.link/qclbF</a>.</p>
<p>This book has some conventions set to arrange content efficiently. Read about them in the next section.</p>
<h2 id="_idParaDest-7"><a id="_idTextAnchor006"/>Conventions</h2>
<h3 id="_idParaDest-8"><a id="_idTextAnchor007"/>Block of Code</h3>
<p>In the book, a block of code is set as follows:</p>
<pre>using System;
namespace Exercise1_01
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("Hello World!");
        }
    }
}</pre>
<p>In cases where inputting and executing some code gives an immediate output, this is shown as follows:</p>
<pre>dotnet run
Hello World!
Good morning Mars!</pre>
<h3 id="_idParaDest-9"><a id="_idTextAnchor008"/>Emphasis</h3>
<p>Definitions, new terms, and important words are shown like this:</p>
<p>Multithreading is a form of concurrency whereby <strong class="bold">multiple</strong> threads are used to perform operations.</p>
<h3 id="_idParaDest-10"><a id="_idTextAnchor009"/>Technical Terms</h3>
<p>Language commands within the body of the chapter are indicated in the following manner:</p>
<p>Here, the simplest <code>Task</code> constructor is passed an <code>Action</code> lambda statement, which is the actual target code that you want to execute. The target code writes the message <code>Inside taskA</code> to the console.</p>
<h3 id="_idParaDest-11"><a id="_idTextAnchor010"/>Added Information</h3>
<p>Essential information is indicated in the following way:</p>
<p class="callout-heading">Note</p>
<p class="callout">The term <code>Factory</code> is often used in software development to represent methods that help create objects.</p>
<h3 id="_idParaDest-12"><a id="_idTextAnchor011"/>Truncation</h3>
<p>Long code snippets are truncated and the corresponding names of the code files on GitHub are placed at the top of the truncated code. Permalinks to the entire code are placed below the code snippet, as follows:</p>
<pre>HashSetExamples.cs
using System;
using System.Collections.Generic;
namespace Chapter04.Examples
{
}
You can find the complete code here: <a href="http://packt.link/ZdNbS">http://packt.link/ZdNbS</a>.</pre>
<p>Before you dive into the power of the C# language, you will need to install the .NET runtime and the C# development and debugging tools.</p>
<h2 id="_idParaDest-13"><a id="_idTextAnchor012"/>Before You Begin</h2>
<p>You can either install the full Visual Studio Integrated Development Environment (IDE), which offers a fully featured code editor (this is a costly license) or you can install Visual Studio Code (VS Code), Microsoft's lightweight cross-platform editor. <em class="italic">The C# Workshop</em> targets the VS Code editor as this does not require a license fee and works seamlessly across multiple platforms.</p>
<h1 id="_idParaDest-14"><a id="_idTextAnchor013"/>Installing VS Code</h1>
<p>Visit the VS Code site at https://code.visualstudio.com and download it for Windows, macOS, or Linux, following the installation instructions for your preferred platform.</p>
<p class="callout-heading">Note</p>
<p class="callout">It is better to check the <code>Create a Desktop Icon</code> checkbox for ease of use.</p>
<p>VS Code is free and open source. It supports multiple languages and needs to be configured for the C# language. Once VS Code is installed, you will need to add the <code>C# for Visual Studio Code</code> (powered by OmniSharp) extension to support C#. This can be found at https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp. To install the C# extension, follow the per-platform instructions:</p>
<ol>
<li>Open the <code>Extension</code> tab and type <code>C#</code>.<p class="callout-heading">Note</p><p class="callout">If you do not want to directly install the C# extension from the website, install it from VS code itself.</p></li>
<li>Select the first selection, that is, <code>C# for Visual Studio Code (powered by OmniSharp)</code>.</li>
<li>Click on the <code>Install</code> button.</li>
<li>Restart <code>VS Code</code>:</li>
</ol>
<div><div><img alt="Figure 0.1: Installing the C# extension for VS Code " height="766" src="img/B16385_Preface_0.1.jpg" width="1457"/>
</div>
</div>
<p class="figure-caption">Figure 0.1: Installing the C# extension for VS Code</p>
<p>You will see that the C# extension gets successfully installed on VS Code. You have now installed VS Code on your system.</p>
<p>The next section will cover how VS Code can be used as you move between the book chapters.</p>
<h2 id="_idParaDest-15"><a id="_idTextAnchor014"/>Moving Between Chapters in VS Code</h2>
<p>To change the default project to build (whether it is an activity, exercise, or demo), you will need to point to these exercise files:</p>
<ul>
<li><code>tasks.json</code> / <code>tasks.args</code></li>
<li><code>launch.json</code> / <code>configurations.program</code></li>
</ul>
<p>There are two different patterns of exercise that you should be aware of. Some exercises have a project of their own. Others have a different main method. The main method of a single project per exercise can be configured like this (in this example for <em class="italic">Chapter 3</em>, <em class="italic">Delegates, Events, and Lambdas</em>, you are configuring <em class="italic">Exercise02</em> to be the build and launch points):</p>
<p><code>launch.json</code></p>
<pre>{
    "version": "0.2.0",
    "configurations": [
        {
            "name": ".NET Core Launch (console)",
            "type": "coreclr",
            "request": "launch",
            "preLaunchTask": "build",
            <strong class="bold">"program": "${workspaceFolder}/Exercises/ /Exercise02/bin/Debug/net6.0/Exercise02.exe",</strong>
            "args": [],
            "cwd": "${workspaceFolder}",
            "stopAtEntry": false,
            "console": "internalConsole"
        }
       
    ]
}</pre>
<p><code>tasks.json</code></p>
<pre>{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build",
            "command": "dotnet",
            "type": "process",
            "args": [
                "build",
                <strong class="bold">"${workspaceFolder}/Chapter05.csproj",</strong>
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary"
            ],
            "problemMatcher": "$msCompile"
        },
            
    ]
}</pre>
<p>One project for each exercise (for example, <code>Chapter05 Exercise02</code>) can be configured like this:</p>
<p><code>launch.json</code></p>
<pre>{
    "version": "0.2.0",
    "configurations": [
        {
            "name": ".NET Core Launch (console)",
            "type": "coreclr",
            "request": "launch",
            "preLaunchTask": "build",
            <strong class="bold">"program": "${workspaceFolder}/bin/Debug/net6.0/Chapter05.exe",</strong>
            "args": [],
            "cwd": "${workspaceFolder}",
            "stopAtEntry": false,
            "console": "internalConsole"
        }
       
    ]
}</pre>
<p><code>tasks.json</code></p>
<pre>{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build",
            "command": "dotnet",
            "type": "process",
            "args": [
              "build",
              <strong class="bold">"${workspaceFolder}/Chapter05.csproj",</strong>
              "/property:GenerateFullPaths=true",
              "/consoleloggerparameters:NoSummary",
              <strong class="bold">"-p:StartupObject=Chapter05.Exercises.Exercise02.Program",</strong>
            ],
            "problemMatcher": "$msCompile"
        },
             
    ]
}</pre>
<p>N<a id="_idTextAnchor015"/>ow that you are aware of <code>launch.json</code> and <code>tasks.json</code>, you can proceed to the next section which details the installation of the .NET developer platform.</p>
<h2 id="_idParaDest-16"><a id="_idTextAnchor016"/>Installing the .NET Developer Platform</h2>
<p>The .NET developer platform can be downloaded from <a href="https://dotnet.microsoft.com/download">https://dotnet.microsoft.com/download</a>. There are variants for Windows, macOS, and Docker on Linux. <em class="italic">The C# Workshop</em> book uses .NET 6.0.</p>
<p>Follow the steps to install the .NET 6.0 platform on Windows:</p>
<ol>
<li value="1">Select the <code>Windows</code> platform tab:</li>
</ol>
<div><div><img alt="Figure 0.2: .NET 6.0 download window " height="676" src="img/B16385_Preface_0.2.jpg" width="1285"/>
</div>
</div>
<p class="figure-caption">Figure 0.2: .NET 6.0 download window</p>
<ol>
<li value="2">Click on the <code>Download .NET SDK x64</code> option.<p class="callout-heading">Note</p><p class="callout">The screen shown in <em class="italic">Figure 0.2</em> may change depending on the latest release from Microsoft.</p></li>
<li>Open and complete the installation according to the respective OS installed on your system.</li>
<li>Restart the computer after the installation.</li>
</ol>
<p>Follow the steps to install the .NET 6.0 platform on macOS:</p>
<ol>
<li value="1">Select the <code>macOS</code> platform tab (<em class="italic">Figure 0.2</em>).</li>
<li>Click on the <code>Download .NET SDK x64</code> option.</li>
</ol>
<p>After the download is complete, open the installer file. You should have a screen similar to <em class="italic">Figure 0.3</em>:</p>
<div><div><img alt="Figure 0.3: The macOS installation starting screen " height="751" src="img/B16385_Preface_0.3.jpg" width="1054"/>
</div>
</div>
<p class="figure-caption">Figure 0.3: The macOS installation starting screen</p>
<ol>
<li value="3">Click on the <code>Continue</code> button.</li>
</ol>
<p>The following screen will confirm the amount of space that will be required for the installation:</p>
<ol>
<li value="4">Click on the <code>Install</code> button to continue:</li>
</ol>
<div><div><img alt="Figure 0.4: Window displaying the disk space required for installation " height="703" src="img/B16385_Preface_0.4.jpg" width="1055"/>
</div>
</div>
<p class="figure-caption">Figure 0.4: Window displaying the disk space required for installation</p>
<p>You will see a progress bar moving on the next screen:</p>
<div><div><img alt="Figure 0.5: Window showing the Installation progress " height="884" src="img/B16385_Preface_0.5.jpg" width="1234"/>
</div>
</div>
<p class="figure-caption">Figure 0.5: Window showing the Installation progress</p>
<p>Soon after the installation is finalized, you'll have a success screen (<em class="italic">Figure 0.6</em>):</p>
<div><div><img alt="Figure 0.6: Window showing the installation as complete " height="891" src="img/B16385_Preface_0.6.jpg" width="1236"/>
</div>
</div>
<p class="figure-caption">Figure 0.6: Window showing the installation as complete</p>
<ol>
<li value="5"> In order to check whether the installation was a success, open your Terminal app and type:<pre> dotnet –list-sdks </pre></li>
</ol>
<p>This will check the version of .NET installed on your machine. <em class="italic">Figure 0.7</em> shows the output where your installed SDKs will be listed:</p>
<div><div><img alt="Figure 0.7: Checking the installed .NET SDKs in Terminal " height="269" src="img/B16385_Preface_0.7.jpg" width="1296"/>
</div>
</div>
<p class="figure-caption">Figure 0.7: Checking the installed .NET SDKs in Terminal</p>
<p>With these steps, you can install the .NET 6.0 SDK on your machine and check the installed version.</p>
<p class="callout-heading">Note</p>
<p class="callout">Net 6.0 installation steps for Linux are not included as they are like Windows and macOS.</p>
<p>Before proceeding further, it is important to know about .NET 6.0 features.</p>
<h2 id="_idParaDest-17"><a id="_idTextAnchor017"/>The .NET 6.0 Features Found in Windows, macOS, and Linux</h2>
<h3 id="_idParaDest-18"><a id="_idTextAnchor018"/>Windows</h3>
<ul>
<li>.NET 6.0: This is the latest long-term support (LTS) version recommended for Windows. It can be used for building many different types of applications.</li>
<li>.NET Framework 4.8: This is a Windows-only version for building any type of app to run on Windows only.</li>
</ul>
<h3 id="_idParaDest-19"><a id="_idTextAnchor019"/>macOS</h3>
<ul>
<li>.NET 6.0: This is the LTS version recommended for macOS. It can be used for building many different types of applications. Choose the version that is compatible with the processor of your Apple Computer—x64 for Intel chips and ARM64 for Apple chips.</li>
</ul>
<h3 id="_idParaDest-20"><a id="_idTextAnchor020"/>Linux</h3>
<ul>
<li>.NET 6.0: This is the LTS version recommended for Linux. It can be used for building many different types of applications.</li>
</ul>
<h3 id="_idParaDest-21"><a id="_idTextAnchor021"/>Docker</h3>
<ul>
<li>.NET images: This developer platform can be used for building different types of applications.</li>
<li>.NET Core images: This offers lifetime support for building many types of applications.</li>
<li>.NET framework images: These are Windows-only versions of .NET for building any type of app that runs on Windows.</li>
</ul>
<p>With .NET 6.0 installed on your system, the next step is to configure projects using CLI.</p>
<h1 id="_idParaDest-22"><a id="_idTextAnchor022"/>.NET Command-Line Interface (CLI)</h1>
<p>Once you have installed .NET, the CLI can be used to create and configure projects for use with VS Code. To launch the .NET CLI, run the following at the command prompt:</p>
<pre>dotnet</pre>
<p>If .NET is installed correctly, you will see the following message on your screen:</p>
<pre>Usage: dotnet [options]
Usage: dotnet [path-to-application]</pre>
<p>Once yo<a id="_idTextAnchor023"/>u have the CLI installed to configure projects with VS Code, you need to know about the powerful open source object-relational database system that uses and extends the SQL language that is, PostgreSQL.</p>
<p class="callout-heading">Note</p>
<p class="callout">You will first go through the instructions to install PostgreSQL for Windows followed by macOS, and then by Linux.</p>
<h2 id="_idParaDest-23"><a id="_idTextAnchor024"/>PostgreSQL Installation for Windows</h2>
<p>PostgreSQL has been used in <em class="italic">Chapter 6</em>, <em class="italic">Entity Framework with SQL Server</em>. Before you proceed with that chapter, you must install PostgreSQL on your system using the following steps:</p>
<ol>
<li value="1">Go to <a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads">https://www.enterprisedb.com/downloads/postgres-postgresql-downloads</a> and download the latest version installer for Windows:</li>
</ol>
<div><div><img alt="Figure 0.8: Latest PostgreSQL versions for each platform " height="738" src="img/B16385_Preface_0.8.jpg" width="1403"/>
</div>
</div>
<p class="figure-caption">Figure 0.8: Latest PostgreSQL versions for each platform</p>
<p class="callout-heading">Note</p>
<p class="callout">The screen shown in <em class="italic">Figure 0.8</em> may change depending upon the latest release from the vendor.</p>
<ol>
<li value="2">Open the downloaded interactive installer and click the <code>Next</code> button. The <code>Setup PostgreSQL</code> screen gets displayed:</li>
</ol>
<div><div><img alt="Figure 0.9: Welcome screen for PostgreSQL upload " height="755" src="img/B16385_Preface_0.9.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.9: Welcome screen for PostgreSQL upload</p>
<ol>
<li value="3">Click on the <code>Next</code> button to move to the next screen which asks for the installation directory details:</li>
</ol>
<div><div><img alt="Figure 0.10: PostgreSQL default installation directory " height="755" src="img/B16385_Preface_0.10.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.10: PostgreSQL default installation directory</p>
<ol>
<li value="4">Leave the default <code>Installation Directory</code> unchanged and click the <code>Next</code> button.</li>
<li>Select the following from the list in <em class="italic">Figure 0.11</em>:<ul><li><code>PostgreSQL Server</code> refers to the database.</li>
<li><code>pgAdmin 4</code> is the database management tool.</li>
<li><code>Stack Builder</code> is the PostgreSQL environment builder (optional).</li>
<li><code>Command Line Tools</code> work with the database using a command line.</li>
</ul></li>
</ol>
<div><div><img alt="Figure 0.11: The PostgreSQL components selected to proceed " height="755" src="img/B16385_Preface_0.11.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.11: The PostgreSQL components selected to proceed</p>
<ol>
<li value="6">Then click the <code>Next</code> button.</li>
<li>In the next screen, the Data Directory screen asks you to enter the directory for storing your data. So, enter the data directory name:</li>
</ol>
<div><div><img alt="Figure 0.12: The directory for storing data " height="755" src="img/B16385_Preface_0.12.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.12: The directory for storing data</p>
<ol>
<li value="8">Once you have entered the data directory, click on the <code>Next</code> button to continue. The next screen asks you to enter the password.</li>
<li>Enter the new <code>Password.</code></li>
<li>Retype the password beside <code>Retype password</code> for the database superuser:</li>
</ol>
<div><div><img alt="Figure 0.13: Providing password for database superuser " height="757" src="img/B16385_Preface_0.13.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.13: Providing password for database superuser</p>
<ol>
<li value="11">Then click the <code>Next</code> button to continue.</li>
<li>The next screen displays the Port as <code>5432</code>. Use the default port—that is, <code>5432</code>:</li>
</ol>
<div><div><img alt="Figure 0.14: Selecting Port " height="757" src="img/B16385_Preface_0.14.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.14: Selecting Port</p>
<ol>
<li value="13">Click the <code>Next</code> button.</li>
<li>The Advanced Options screen asks you to type the locale for the Database cluster. Leave it as <code>[Default locale]</code>:</li>
</ol>
<div><div><img alt="Figure 0.15: Selecting the locale for the Database cluster " height="757" src="img/B16385_Preface_0.15.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.15: Selecting the locale for the Database cluster</p>
<ol>
<li value="15">Then click the <code>Next</code> button.</li>
<li>When the Preinstallation Summary screen gets displayed, click the <code>Next</code> button to go ahead:</li>
</ol>
<div><div><img alt="Figure 0.16: Setup window showing ready to install message " height="757" src="img/B16385_Preface_0.16.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.16: Setup window showing ready to install message</p>
<ol>
<li value="17">Continue selecting the <code>Next</code> button (leaving the default settings unchanged) until the installation process begins.</li>
<li>Wait for it to complete. On completion, the Completing the PostgreSQL Setup Wizard screen gets displayed.</li>
<li>Uncheck the <code>Launch Stack Builder at exit</code> option:</li>
</ol>
<div><div><img alt="Figure 0.17: Installation complete with Stack Builder unchecked " height="755" src="img/B16385_Preface_0.17.jpg" width="965"/>
</div>
</div>
<p class="figure-caption">Figure 0.17: Installation complete with Stack Builder unchecked</p>
<p>The Stack Builder is used to download and install additional tools. The default installation contains all tools needed for the exercises and activities.</p>
<ol>
<li value="20">Finally, click the <code>Finish</code> button.</li>
<li>Now open <code>pgAdmin4</code> from Windows.</li>
<li>Enter a master <code>Password</code> for connecting to any database inside PostgreSQL in the Set Master Password window:</li>
</ol>
<div><div><img alt="Figure 0.18: Setting Master Password for connecting to a PostgreSQL server " height="767" src="img/B16385_Preface_0.18.jpg" width="1456"/>
</div>
</div>
<p class="figure-caption">Figure 0.18: Setting Master Password for connecting to a PostgreSQL server</p>
<p class="callout-heading">Note</p>
<p class="callout">It is better to type a password that you can easily memorize as it will be used to manage all your other credentials.</p>
<ol>
<li value="23">Next click the <code>OK</code> button.</li>
<li>On the left side of the pgadmin window, expand the <code>Server</code> by clicking the arrow beside it.</li>
<li>You will be asked to enter your PostgreSQL server password. Type the same password that you entered in <em class="italic">Step 22</em>.</li>
<li>Do not click <code>Save password</code> for security reasons:</li>
</ol>
<div><div><img alt="Figure 0.19: Setting the postgres user password for the PostgreSQL server  " height="373" src="img/B16385_Preface_0.19.jpg" width="1219"/>
</div>
</div>
<p class="figure-caption">Figure 0.19: Setting the postgres user password for the PostgreSQL server </p>
<p>PostgreSQL server password is the password you will use when connecting to the PostgreSQL server and using the <code>postgres</code> user.</p>
<ol>
<li value="27">Finally click the <code>OK</code> button. You will see the pgAdmin dashboard:</li>
</ol>
<div><div><img alt="Figure 0.20: pgAdmin 4 dashboard window " height="766" src="img/B16385_Preface_0.20.jpg" width="1457"/>
</div>
</div>
<p class="figure-caption">Figure 0.20: pgAdmin 4 dashboard window</p>
<p>In order to explore the pgAdmin dashboard, move to the <em class="italic">Exploring pgAdmin Dashboard</em> section.</p>
<h2 id="_idParaDest-24"><a id="_idTextAnchor025"/>PostgreSQL Installation for macOS</h2>
<p>Install PostgreSQL on your macOS using the following steps:</p>
<ol>
<li value="1">Visit the official site of the Postgres app to download and install PostgreSQL on your mac platform: <a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads">https://www.enterprisedb.com/downloads/postgres-postgresql-downloads</a>.</li>
<li>Download the latest PostgreSQL for macOS:<p class="callout-heading">Note</p><p class="callout">The following screenshots were taken for version 14.4 on macOS Monterey (version 12.2).</p></li>
</ol>
<div><div><img alt="Figure 0.21: Installation page for PostgreSQL " height="1106" src="img/B16385_Preface_0.21.jpg" width="1665"/>
</div>
</div>
<p class="figure-caption">Figure 0.21: Installation page for PostgreSQL</p>
<ol>
<li value="3">Once you have downloaded the installer file for macOS, double-click the <code>installer file</code> to launch the PostgreSQL Setup Wizard:</li>
</ol>
<div><div><img alt="Figure 0.22: Launching the PostgreSQL setup wizard " height="856" src="img/B16385_Preface_0.22.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.22: Launching the PostgreSQL setup wizard</p>
<ol>
<li value="4">Select the location where you want PostgreSQL installed:</li>
</ol>
<div><div><img alt="Figure 0.23: Selecting the installation directory " height="856" src="img/B16385_Preface_0.23.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.23: Selecting the installation directory</p>
<ol>
<li value="5">Click on the <code>Next</code> button.</li>
<li>In the next screen, select the following components for installation:<ul><li>PostgreSQL Server</li>
<li><code>pgAdmin 4</code></li>
<li>Command Line Tools</li>
</ul></li>
<li>Uncheck the <code>Stack Builder</code> component:</li>
</ol>
<div><div><img alt="Figure 0.24: Selecting the components for installation " height="856" src="img/B16385_Preface_0.24.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.24: Selecting the components for installation</p>
<ol>
<li value="8">Once you have selected the options, click on the <code>Next</code> button.</li>
<li>Specify the data directory in which PostgreSQL will store the data:</li>
</ol>
<div><div><img alt="Figure 0.25: Specifying the data directory " height="856" src="img/B16385_Preface_0.25.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.25: Specifying the data directory</p>
<ol>
<li value="10">Click on the <code>Next</code> button.</li>
<li>Now set a <code>Password</code> for the Postgres database superuser:</li>
</ol>
<div><div><img alt="Figure 0.26: Setting the password " height="856" src="img/B16385_Preface_0.26.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.26: Setting the password</p>
<p>Make sure to note down the password safely for logging in to the PostgreSQL database.</p>
<ol>
<li value="12">Click on the <code>Next</code> button.</li>
</ol>
<p>Set the port number where you want to run the PostgreSQL server. Here the default Port number is set as <code>5432</code>:</p>
<div><div><img alt="Figure 0.27: Specifying the port number " height="856" src="img/B16385_Preface_0.27.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.27: Specifying the port number</p>
<ol>
<li value="13">Click on the <code>Next</code> button.</li>
<li>Select the locale to be used by PostgreSQL. Here, <code>[Default locale]</code> is the locale selected for macOS:</li>
</ol>
<div><div><img alt="Figure 0.28: Selecting the locale specification " height="856" src="img/B16385_Preface_0.28.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.28: Selecting the locale specification</p>
<ol>
<li value="15">Click on the <code>Next</code> button.</li>
<li>In the next screen, check the installation details:</li>
</ol>
<div><div><img alt="Figure 0.29: Pre Installation summary page " height="856" src="img/B16385_Preface_0.29.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.29: Pre Installation summary page</p>
<p>Finally, click on the <code>Next</code> button to start the installation process of the PostgreSQL database server on your system:</p>
<div><div><img alt="Figure 0.30: Ready to Install page before starting the installation process " height="856" src="img/B16385_Preface_0.30.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.30: Ready to Install page before starting the installation process</p>
<ol>
<li value="17">Wait for a few moments for the installation process to complete:</li>
</ol>
<div><div><img alt="Figure 0.31: Setup Installation in progress " height="856" src="img/B16385_Preface_0.31.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.31: Setup Installation in progress</p>
<ol>
<li value="18">When prompted, click the <code>Next</code> button. The next screen displays the message that the PostgreSQL installation is complete on your system:</li>
</ol>
<div><div><img alt="Figure 0.32: Success message showing the setup as complete " height="856" src="img/B16385_Preface_0.32.jpg" width="1100"/>
</div>
</div>
<p class="figure-caption">Figure 0.32: Success message showing the setup as complete</p>
<ol>
<li value="19">Click the <code>Finish</code> button once the installation gets complete.</li>
<li>Now load the database in the PostgreSQL server.</li>
<li>Double-click on the <code>pgAdmin 4</code> icon to launch it from your Launchpad.</li>
<li>Enter the password for the PostgreSQL user that you had set during the installation process.</li>
<li>Then click the <code>OK</code> button. You will now see the pgAdmin dashboard.</li>
</ol>
<p>This completes the installation of PostgreSQL for the macOS. The next section will familiarize you with the PostgreSQL interface.</p>
<h3 id="_idParaDest-25"><a id="_idTextAnchor026"/>Exploring pgAdmin Dashboard</h3>
<p>Once you have installed PostgreSQL in Windows and macOS, follow these steps to grasp the interface better:</p>
<ol>
<li value="1">Open <code>pgAdmin4</code> from Windows/ macOS (in case pgAdmin is not open on your system).</li>
<li>Click on the <code>Servers</code> option on the left:</li>
</ol>
<div><div><img alt="Figure 0.33: Clicking on Servers to create a database " height="726" src="img/B16385_Preface_0.33.jpg" width="1380"/>
</div>
</div>
<p class="figure-caption">Figure 0.33: Clicking on Servers to create a database</p>
<ol>
<li value="3">Right-click on <code>PostgreSQL 14</code>.</li>
<li>Then click on the <code>Create</code> option.</li>
<li>Choose the <code>Database…</code> option to create a new database:</li>
</ol>
<div><div><img alt="Figure 0.34: Creating a new database " height="726" src="img/B16385_Preface_0.34.jpg" width="1380"/>
</div>
</div>
<p class="figure-caption">Figure 0.34: Creating a new database</p>
<p>This will open a Create – Database window.</p>
<ol>
<li value="6">Enter the database name, as <code>TestDatabase</code>.</li>
<li>Select the Owner of the database or leave it as default. For now, just use the <code>Owner</code> as <code>postgres</code>:</li>
</ol>
<div><div><img alt="Figure 0.35: Selecting the owner of the database  " height="605" src="img/B16385_Preface_0.35.jpg" width="1151"/>
</div>
</div>
<p class="figure-caption">Figure 0.35: Selecting the owner of the database </p>
<ol>
<li value="8">Then click on the <code>Save</code> button. This will create a database.</li>
<li>Right-click on <code>Databases</code> and choose the <code>Refresh</code> button:</li>
</ol>
<div><div><img alt="Figure 0.36: Clicking the Refresh… button after right-clicking Databases " height="726" src="img/B16385_Preface_0.36.jpg" width="1380"/>
</div>
</div>
<p class="figure-caption">Figure 0.36: Clicking the Refresh… button after right-clicking Databases</p>
<p>A database with the name <code>TestDatabase</code> is now displayed within the dashboard:</p>
<div><div><img alt="Figure 0.37: TestDatabase ready for use " height="726" src="img/B16385_Preface_0.37.jpg" width="1380"/>
</div>
</div>
<p class="figure-caption">Figure 0.37: TestDatabase ready for use</p>
<p>Now your database is ready to be used for Windows and Mac environments.</p>
<h2 id="_idParaDest-26"><a id="_idTextAnchor027"/>PostgreSQL Installation on Ubuntu</h2>
<p>In this example, you are using Ubuntu 20.04 for installation. Perform the following steps to do so:</p>
<ol>
<li value="1">In order to install PostgreSQL, open your Ubuntu terminal first.</li>
<li>Make sure to update your repository using the following command:<pre>$ sudo apt update</pre></li>
<li>Install the PostgreSQL software along with additional packages using the following command (recommended):<pre>$ sudo apt install postgresql postgresql-contrib</pre><p class="callout-heading">Note</p><p class="callout">To install only PostgreSQL (not recommended without additional packages), use the command <code>$ sudo apt install postgresql</code> and then press <code>Enter</code>.</p></li>
</ol>
<p>This installation process creates a user account called <code>postgres</code> that has the default <code>Postgres</code> role.</p>
<h3 id="_idParaDest-27"><a id="_idTextAnchor028"/>Accessing the postgres User Account with the postgres Role</h3>
<p>There are two ways to start the PostgreSQL CLI using the <code>postgres</code> user account:</p>
<p>Option 1 is as follows:</p>
<ol>
<li value="1">To log in as a postgres user, use the following command:<pre>$ sudo -i -u postgres</pre></li>
<li>Access the CLI by using the following command:<pre>$ psql</pre><p class="callout-heading">Note</p><p class="callout">Sometimes, while executing the preceding command, a <code>psql</code> error may be displayed as <code>could not connect to server: No such file or directory</code>. This is because of a port issue on your system. Due to this port blockage, the PostgreSQL application may not work. You can try the command again after some time.</p></li>
<li>To quit the CLI, use the following command:<pre>$ \q</pre></li>
</ol>
<p>Option 2 is as follows:</p>
<ol>
<li value="1">To log in as a postgres user, use the following command:<pre>$ sudo -u postgres psql</pre></li>
<li>To quit the CLI, use the following command:<pre>$ \q</pre></li>
</ol>
<h3 id="_idParaDest-28"><a id="_idTextAnchor029"/>Verifying the postgres User Account as a postgres User Role</h3>
<ol>
<li value="1">To verify the user account, log in and use the <code>conninfo</code> command:<pre>$ sudo -u postgres psql
$ \conninfo
$ \q</pre></li>
</ol>
<p>Using this command, you can ensure that you are connected to the <code>postgres</code> database as the <code>postgres</code> user via port <code>5432</code>. If you don't want to use the default user, <code>postgres</code>, you can create a new user for you.</p>
<h3 id="_idParaDest-29"><a id="_idTextAnchor030"/>Accessing a New User and Database</h3>
<ol>
<li value="1">Create a new user by using the following command and pressing <code>Enter</code>:<pre>$ sudo -u postgres createuser –interactive</pre></li>
</ol>
<p>The preceding command will ask the user to add the name of the role and its type.</p>
<ol>
<li value="2">Enter the name of the role, for example, <code>testUser</code>.</li>
<li>Next, enter <code>y</code> when prompted to set a new role to be a superuser:<pre>Prompt:
Enter the name of the role to add: testUser
Shall the new role be a superuser? (y/n) y</pre></li>
</ol>
<p>This will create a new user with the name <code>testUser</code>.</p>
<ol>
<li value="4">Create a new database with the name <code>testdb</code> using the following command:<pre>$ sudo -u postgres createdb testdb</pre></li>
<li>Log in to the newly created user account using the following command:<pre>$ sudo -u testUser psql -d testdb</pre></li>
<li>Use the following command to check the connection details:<pre>$ \conninfo</pre></li>
<li>To quit the CLI, use the following command:<pre>$ \q</pre></li>
</ol>
<p>Using this command, you can ensure that you are connected to the <code>testdb</code> database as the <code>testUser</code> user via port <code>5432</code>.</p>
<p>With these steps, you have completed the PostgreSQL installation for Ubuntu.</p>
<h1 id="_idParaDest-30"><a id="_idTextAnchor031"/>Downloading the Code</h1>
<p>Download the code from GitHub at <a href="https://packt.link/sezEm">https://packt.link/sezEm</a>. Refer to these files for the complete code.</p>
<p>The high-quality color images used in this book can be found at <a href="https://packt.link/5XYmX">https://packt.link/5XYmX</a>.</p>
<p>If you have any issues or questions about installation, please email us at <code>workshops@packt.com</code>.</p>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
</div>
</body></html>