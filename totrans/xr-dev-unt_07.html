<html><head></head><body>
<div id="_idContainer099">
<h1 class="chapter-number" id="_idParaDest-130"><a id="_idTextAnchor024"/><span class="koboSpan" id="kobo.1.1">7</span></h1>
<h1 id="_idParaDest-131"><span class="koboSpan" id="kobo.2.1">Adding Sound and Visual Effects</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Creating immersive XR experiences requires more than just importing 3D assets and scripting interactivity. </span><span class="koboSpan" id="kobo.3.2">For a truly natural and captivating experience, we need to integrate sound and visual effects. </span><span class="koboSpan" id="kobo.3.3">Imagine an AR monster hunt game. </span><span class="koboSpan" id="kobo.3.4">You’ve built the logic, but without sound and visual effects, the blend of real world and virtual reality feels off. </span><span class="koboSpan" id="kobo.3.5">Adding subtle monster sounds can provide direction and distance clues. </span><span class="koboSpan" id="kobo.3.6">Integrating a particle effect such as gray fog can enhance the spooky, mysterious atmosphere. </span><span class="koboSpan" id="kobo.3.7">By stimulating multiple senses and adapting these elements to a user’s movements, we can significantly enhance the overall immersion and user experience of the AR monster </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">hunt game.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">This chapter aims to enhance your XR design skills, targeting more user senses for natural, immersive experiences. </span><span class="koboSpan" id="kobo.5.2">We’ll delve into sound theory and particle behavior basics, making these physics concepts accessible to all. </span><span class="koboSpan" id="kobo.5.3">We will delve into Unity’s audio and particle systems to understand how they can help us recreate real-world phenomena. </span><span class="koboSpan" id="kobo.5.4">In line with our hands-on approach, you’ll apply these concepts in a practical VR project in Unity, creating your most immersive VR </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">experience yet.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">Let’s dive into this thrilling exploration of creating realistic XR experiences! </span><span class="koboSpan" id="kobo.7.2">This chapter guides you on your way through these </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">four sections:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.9.1">Understanding sound theory and Unity’s </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">audio system</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Preparing the VR drum scene and adding </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">sound effects</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Understanding particle behavior and Unity’s </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">particle system</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Adding particles to VR scenes with </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">varying properties</span></span></li>
</ul>
<h1 id="_idParaDest-132"><span class="koboSpan" id="kobo.17.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.18.1">To fully engage with and benefit from the VR application development process outlined in this chapter, your hardware must meet certain technical specifications. </span><span class="koboSpan" id="kobo.18.2">If you followed the tutorial in </span><a href="B20869_03.xhtml#_idTextAnchor009"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.19.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.20.1"> and your Unity setup remains the same, you can bypass </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">this section.</span></span></p>
<p><span class="koboSpan" id="kobo.22.1">To follow along with this book’s content and examples, ensure your computer system can accommodate </span><em class="italic"><span class="koboSpan" id="kobo.23.1">Unity 2021.3 LTS</span></em><span class="koboSpan" id="kobo.24.1"> or a more recent edition, with </span><em class="italic"><span class="koboSpan" id="kobo.25.1">Android</span></em><span class="koboSpan" id="kobo.26.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.27.1">Windows/Mac/Linux Build Support</span></em><span class="koboSpan" id="kobo.28.1">, depending on the nature of your VR headset </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">and PC.</span></span></p>
<h1 id="_idParaDest-133"><span class="koboSpan" id="kobo.30.1">Understanding sound theory and Unity’s audio system</span></h1>
<p><span class="koboSpan" id="kobo.31.1">In the subsequent sections, we will delve into the fascinating physics of sound waves and explore how Unity’s robust audio system</span><a id="_idIndexMarker535"/><span class="koboSpan" id="kobo.32.1"> allows us to manipulate these properties with its diverse range of audio components. </span><span class="koboSpan" id="kobo.32.2">Our journey begins with an introduction to the fundamentals of sound, the nature of sound itself, and its defining features – frequency </span><span class="No-Break"><span class="koboSpan" id="kobo.33.1">and amplitude.</span></span></p>
<h2 id="_idParaDest-134"><span class="koboSpan" id="kobo.34.1">What are frequency and amplitude?</span></h2>
<p><span class="koboSpan" id="kobo.35.1">Sound, in essence, is a</span><a id="_idIndexMarker536"/><span class="koboSpan" id="kobo.36.1"> form of mechanical energy that propagates as a wave through a medium – most commonly, air. </span><span class="koboSpan" id="kobo.36.2">Simply put, mechanical energy is energy associated with the motion of objects. </span><span class="koboSpan" id="kobo.36.3">When an object vibrates, it displaces the surrounding air particles, setting off a chain reaction of particle displacement that travels outward in the form of a </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">sound wave.</span></span></p>
<p><span class="koboSpan" id="kobo.38.1">The two main parameters describing a sound wave are frequency </span><span class="No-Break"><span class="koboSpan" id="kobo.39.1">and amplitude.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.40.1">Frequency</span></strong><span class="koboSpan" id="kobo.41.1"> is the </span><a id="_idIndexMarker537"/><span class="koboSpan" id="kobo.42.1">number of complete wave cycles per second, measured</span><a id="_idIndexMarker538"/><span class="koboSpan" id="kobo.43.1"> in </span><strong class="bold"><span class="koboSpan" id="kobo.44.1">Hertz</span></strong><span class="koboSpan" id="kobo.45.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.46.1">Hz</span></strong><span class="koboSpan" id="kobo.47.1">). </span><span class="koboSpan" id="kobo.47.2">It determines the pitch of the sound – a higher frequency corresponds to a higher pitch, and a lower frequency corresponds to a lower pitch. </span><span class="koboSpan" id="kobo.47.3">In game development, understanding frequency is crucial. </span><span class="koboSpan" id="kobo.47.4">For instance, a small, light creature such as a bird would have a high-pitched (high-frequency) chirp, while a large creature such as an elephant would have a low-pitched (</span><span class="No-Break"><span class="koboSpan" id="kobo.48.1">low-frequency) roar.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.49.1">Amplitude</span></strong><span class="koboSpan" id="kobo.50.1"> refers </span><a id="_idIndexMarker539"/><span class="koboSpan" id="kobo.51.1">to the maximum displacement of particles by the sound wave. </span><span class="koboSpan" id="kobo.51.2">In simpler terms, it’s how far the particles are pushed when the wave passes through. </span><span class="koboSpan" id="kobo.51.3">It corresponds to the loudness of the sound – a larger amplitude means a louder sound, and a smaller amplitude means a quieter sound. </span><span class="koboSpan" id="kobo.51.4">In games and XR applications, amplitude can be used to create a sense of distance. </span><span class="koboSpan" id="kobo.51.5">A sound source far from the player would have a smaller amplitude and thus sound quieter, while a source close to the player would </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">sound louder.</span></span></p>
<h2 id="_idParaDest-135"><span class="koboSpan" id="kobo.53.1">Understanding other properties of sound</span></h2>
<p><span class="koboSpan" id="kobo.54.1">While frequency and amplitude are fundamental, several other properties can add depth to the sound experience in XR. </span><span class="koboSpan" id="kobo.54.2">These include timbre (pronounced </span><em class="italic"><span class="koboSpan" id="kobo.55.1">tamber</span></em><span class="koboSpan" id="kobo.56.1">), envelope, spatial audio, reverberation, and echo. </span><span class="koboSpan" id="kobo.56.2">Let’s go through them step </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">by step:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.58.1">Timbre</span></strong><span class="koboSpan" id="kobo.59.1">: This </span><a id="_idIndexMarker540"/><span class="koboSpan" id="kobo.60.1">describes the color or quality of a sound and allows us to distinguish between different sound sources that may have the same pitch and loudness. </span><span class="koboSpan" id="kobo.60.2">Here, </span><em class="italic"><span class="koboSpan" id="kobo.61.1">color</span></em><span class="koboSpan" id="kobo.62.1"> refers to the unique characteristics and tonal nuances of a sound that differentiate it from other sounds. </span><span class="koboSpan" id="kobo.62.2">It’s what allows us to tell the difference between a violin and a flute, even if they’re playing the same note at the same volume. </span><span class="koboSpan" id="kobo.62.3">In game development, timbre</span><a id="_idIndexMarker541"/><span class="koboSpan" id="kobo.63.1"> can be used to give different characters or environments their unique </span><span class="No-Break"><span class="koboSpan" id="kobo.64.1">sound signatures.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.65.1">Envelope</span></strong><span class="koboSpan" id="kobo.66.1">: The envelope</span><a id="_idIndexMarker542"/><span class="koboSpan" id="kobo.67.1"> of a sound refers to how it evolves over time. </span><span class="koboSpan" id="kobo.67.2">It’s traditionally</span><a id="_idIndexMarker543"/><span class="koboSpan" id="kobo.68.1"> broken down into four parts – </span><strong class="bold"><span class="koboSpan" id="kobo.69.1">Attack, Decay, Sustain, and Release</span></strong><span class="koboSpan" id="kobo.70.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.71.1">ADSR</span></strong><span class="koboSpan" id="kobo.72.1">). </span><span class="koboSpan" id="kobo.72.2">ADSR</span><a id="_idIndexMarker544"/><span class="koboSpan" id="kobo.73.1"> describes the initial spike of a sound (attack), the subsequent decrease to a stable level (decay), the maintenance of that level for a duration (sustain), and the eventual fading away of the sound (release). </span><span class="koboSpan" id="kobo.73.2">In XR, modifying the ADSR envelope can make sounds seem more realistic or can be used creatively to give sounds a </span><span class="No-Break"><span class="koboSpan" id="kobo.74.1">stylized feel.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.75.1">Spatial audio</span></strong><span class="koboSpan" id="kobo.76.1">: This </span><a id="_idIndexMarker545"/><span class="koboSpan" id="kobo.77.1">refers to the perception of the direction and distance of a sound source. </span><span class="koboSpan" id="kobo.77.2">Our brains use</span><a id="_idIndexMarker546"/><span class="koboSpan" id="kobo.78.1"> several cues to pinpoint the location of a sound source, such as the time difference between the sound reaching our two ears (binaural cues), the change in frequency caused by the shape of our ears (spectral cues), and the change in sound as we move our heads (dynamic cues). </span><span class="koboSpan" id="kobo.78.2">Game and XR developers can simulate these effects to create immersive 3D soundscapes, where players can locate a sound source within the game environment. </span><span class="koboSpan" id="kobo.78.3">For instance, in a VR horror game, you could use spatial audio to make it sound like eerie whispers are coming from just over the player’s shoulder, or like the ominous footsteps of a monster are getting closer and closer. </span><span class="koboSpan" id="kobo.78.4">These techniques can significantly enhance immersion and even gameplay, as players could use sound to navigate their environment or </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">detect threats.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.80.1">Reverberation</span></strong><span class="koboSpan" id="kobo.81.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.82.1">reverb</span></strong><span class="koboSpan" id="kobo.83.1">: This is the </span><a id="_idIndexMarker547"/><span class="koboSpan" id="kobo.84.1">persistence of sound in a particular space after the original sound is removed. </span><span class="koboSpan" id="kobo.84.2">It’s caused by sound waves reflecting off surfaces in the</span><a id="_idIndexMarker548"/><span class="koboSpan" id="kobo.85.1"> environment, such as walls and floors, creating a multitude of echoes that gradually fade out. </span><span class="koboSpan" id="kobo.85.2">This can give players a sense of the size and material of the space they’re in – a large, stone-walled cathedral would have a long, bright reverb, while a small, carpeted room would have a short, </span><span class="No-Break"><span class="koboSpan" id="kobo.86.1">dull reverb.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.87.1">Echo</span></strong><span class="koboSpan" id="kobo.88.1">: This is the </span><a id="_idIndexMarker549"/><span class="koboSpan" id="kobo.89.1">distinct, delayed reflection of sound that can be clearly identified as a </span><a id="_idIndexMarker550"/><span class="koboSpan" id="kobo.90.1">repetition of the original source. </span><span class="koboSpan" id="kobo.90.2">It’s caused when sound waves bounce off distant obstacles and return to the listener after a noticeable time gap. </span><span class="koboSpan" id="kobo.90.3">The time it takes for the reflection to return can give listeners an impression of the distance to the reflecting surface – a mountain range would produce a long-delayed echo, while a closer building might yield a quicker, more immediate echo. </span><span class="koboSpan" id="kobo.90.4">Different surfaces can also affect the tonal quality of the echo, with hard surfaces such as concrete producing clearer echoes compared to softer surfaces such as </span><span class="No-Break"><span class="koboSpan" id="kobo.91.1">dense foliage.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.92.1">Understanding and manipulating these aspects of sound can allow you to create rich, immersive, and interactive soundscapes in your XR applications. </span><span class="koboSpan" id="kobo.92.2">With careful design, sound can be not only an accompaniment to the visual experience but also a key element of gameplay and immersion. </span><span class="koboSpan" id="kobo.92.3">The following section introduces you to Unity’s audio system, which we will use throughout this chapter to breathe even more life and immersion into our </span><span class="No-Break"><span class="koboSpan" id="kobo.93.1">XR experiences.</span></span></p>
<h2 id="_idParaDest-136"><span class="koboSpan" id="kobo.94.1">Exploring Unity’s audio system</span></h2>
<p><span class="koboSpan" id="kobo.95.1">Sound design is an essential part of creating immersive XR experiences. </span><span class="koboSpan" id="kobo.95.2">With Unity’s audio system, you can create dynamic, spatialized audio that reacts to the player’s actions and movements, enhancing immersion and even </span><span class="No-Break"><span class="koboSpan" id="kobo.96.1">guiding gameplay.</span></span></p>
<p><span class="koboSpan" id="kobo.97.1">For instance, in a VR horror game, you could use spatialized sound to create an ominous atmosphere and build tension. </span><span class="koboSpan" id="kobo.97.2">Distant, eerie noises could hint at unseen dangers, while sudden, nearby sounds could provide jump scares. </span><span class="koboSpan" id="kobo.97.3">As the player navigates the environment, the sounds change based on their position and orientation, making the virtual world feel alive </span><span class="No-Break"><span class="koboSpan" id="kobo.98.1">and reactive.</span></span></p>
<p><span class="koboSpan" id="kobo.99.1">Understanding and effectively using Unity’s audio system</span><a id="_idIndexMarker551"/><span class="koboSpan" id="kobo.100.1"> is a crucial skill for any XR developer. </span><span class="koboSpan" id="kobo.100.2">Sound isn’t just an accessory to the visuals; it’s also a powerful tool for storytelling, player guidance, </span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">and world-building.</span></span></p>
<p><span class="koboSpan" id="kobo.102.1">Let’s now take a more detailed look at the three core components of Unity’s audio system – AudioClips, AudioSources, </span><span class="No-Break"><span class="koboSpan" id="kobo.103.1">and AudioListeners.</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.104.1">AudioClip</span></strong><span class="koboSpan" id="kobo.105.1">: </span><strong class="source-inline"><span class="koboSpan" id="kobo.106.1">AudioClip</span></strong><span class="koboSpan" id="kobo.107.1"> represents</span><a id="_idIndexMarker552"/><span class="koboSpan" id="kobo.108.1"> a sound file that can be played back in your application. </span><span class="koboSpan" id="kobo.108.2">It holds the data for the sound, but on its own, it can’t actually produce sound. </span><span class="koboSpan" id="kobo.108.3">Think of an </span><strong class="source-inline"><span class="koboSpan" id="kobo.109.1">AudioClip</span></strong><span class="koboSpan" id="kobo.110.1"> file like a CD – it holds music, but you need a CD player to actually hear the music. </span><strong class="source-inline"><span class="koboSpan" id="kobo.111.1">AudioClip</span></strong><span class="koboSpan" id="kobo.112.1"> files are versatile – you can use them for short sound effects, such as a character’s footsteps, or for longer pieces of audio, such as background music or dialogue. </span><span class="koboSpan" id="kobo.112.2">Unity supports a range of audio file formats, including </span><strong class="source-inline"><span class="koboSpan" id="kobo.113.1">.wav</span></strong><span class="koboSpan" id="kobo.114.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.115.1">.mp3</span></strong><span class="koboSpan" id="kobo.116.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.117.1">.ogg</span></strong><span class="koboSpan" id="kobo.118.1">. </span><span class="koboSpan" id="kobo.118.2">When designing sound for XR, remember that audio quality is important for immersion. </span><span class="koboSpan" id="kobo.118.3">High-quality </span><strong class="source-inline"><span class="koboSpan" id="kobo.119.1">AudioClip</span></strong><span class="koboSpan" id="kobo.120.1"> files can make a virtual environment feel </span><span class="No-Break"><span class="koboSpan" id="kobo.121.1">more real.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.122.1">AudioSource</span></strong><span class="koboSpan" id="kobo.123.1">: </span><strong class="source-inline"><span class="koboSpan" id="kobo.124.1">AudioSource</span></strong><span class="koboSpan" id="kobo.125.1"> is like a CD player for your </span><strong class="source-inline"><span class="koboSpan" id="kobo.126.1">AudioClip</span></strong><span class="koboSpan" id="kobo.127.1"> file. </span><span class="koboSpan" id="kobo.127.2">It’s a component that can be attached</span><a id="_idIndexMarker553"/><span class="koboSpan" id="kobo.128.1"> to a GameObject to play sounds. </span><span class="koboSpan" id="kobo.128.2">You can think of it as a point in your 3D space where sound originates. </span><span class="koboSpan" id="kobo.128.3">Every sound you hear in a Unity application originates from an </span><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">AudioSource</span></strong><span class="koboSpan" id="kobo.130.1"> component. </span><span class="koboSpan" id="kobo.130.2">An </span><strong class="source-inline"><span class="koboSpan" id="kobo.131.1">AudioSource</span></strong><span class="koboSpan" id="kobo.132.1"> component plays back an </span><strong class="source-inline"><span class="koboSpan" id="kobo.133.1">AudioClip</span></strong><span class="koboSpan" id="kobo.134.1"> file in the scene and controls how that sound is played. </span><span class="koboSpan" id="kobo.134.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.135.1">AudioSource</span></strong><span class="koboSpan" id="kobo.136.1"> component offers several properties that you </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">can manipulate:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.138.1">Clip</span></strong><span class="koboSpan" id="kobo.139.1">: This </span><a id="_idIndexMarker554"/><span class="koboSpan" id="kobo.140.1">refers to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.141.1">AudioClip</span></strong><span class="koboSpan" id="kobo.142.1"> file that will </span><span class="No-Break"><span class="koboSpan" id="kobo.143.1">be played.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.144.1">Play On Awake</span></strong><span class="koboSpan" id="kobo.145.1">: If this </span><a id="_idIndexMarker555"/><span class="koboSpan" id="kobo.146.1">is enabled, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.147.1">AudioSource</span></strong><span class="koboSpan" id="kobo.148.1"> component will start playing its </span><strong class="source-inline"><span class="koboSpan" id="kobo.149.1">AudioClip</span></strong><span class="koboSpan" id="kobo.150.1"> file as soon as the </span><span class="No-Break"><span class="koboSpan" id="kobo.151.1">scene starts.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.152.1">Loop</span></strong><span class="koboSpan" id="kobo.153.1">: If this is </span><a id="_idIndexMarker556"/><span class="koboSpan" id="kobo.154.1">enabled, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.155.1">AudioSource</span></strong><span class="koboSpan" id="kobo.156.1"> component will loop its </span><strong class="source-inline"><span class="koboSpan" id="kobo.157.1">AudioClip</span></strong><span class="koboSpan" id="kobo.158.1"> file, starting it again as soon as </span><span class="No-Break"><span class="koboSpan" id="kobo.159.1">it ends.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.160.1">Volume</span></strong><span class="koboSpan" id="kobo.161.1">: This</span><a id="_idIndexMarker557"/><span class="koboSpan" id="kobo.162.1"> controls the loudness of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.163.1">AudioSource</span></strong><span class="koboSpan" id="kobo.164.1"> component, and can be used to fade sounds in </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">or out.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.166.1">Pitch</span></strong><span class="koboSpan" id="kobo.167.1">: This </span><a id="_idIndexMarker558"/><span class="koboSpan" id="kobo.168.1">controls the pitch of </span><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">AudioSource</span></strong><span class="koboSpan" id="kobo.170.1">. </span><span class="koboSpan" id="kobo.170.2">Higher values result in a higher pitch, and lower values result in a lower pitch. </span><span class="koboSpan" id="kobo.170.3">This can be used to create a </span><strong class="bold"><span class="koboSpan" id="kobo.171.1">Doppler effect</span></strong><span class="koboSpan" id="kobo.172.1">, which</span><a id="_idIndexMarker559"/><span class="koboSpan" id="kobo.173.1"> is a change in the frequency or wavelength of a wave for an observer moving relative to its source – for instance, the sound of a passing car changing from high to </span><span class="No-Break"><span class="koboSpan" id="kobo.174.1">low pitch.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.175.1">3D Sound Settings</span></strong><span class="koboSpan" id="kobo.176.1">: These</span><a id="_idIndexMarker560"/><span class="koboSpan" id="kobo.177.1"> settings control how the sound is affected by distance. </span><span class="koboSpan" id="kobo.177.2">You can make the sound get quieter with distance, change the pitch with distance, and so on. </span><span class="koboSpan" id="kobo.177.3">This is critical for XR applications, as it helps to create a sense of space </span><span class="No-Break"><span class="koboSpan" id="kobo.178.1">and realism.</span></span></li></ul></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.179.1">AudioListener</span></strong><span class="koboSpan" id="kobo.180.1">: This is the </span><a id="_idIndexMarker561"/><span class="koboSpan" id="kobo.181.1">scene component that hears the sounds. </span><span class="koboSpan" id="kobo.181.2">You can think of it as the user’s ears in the 3D world. </span><span class="koboSpan" id="kobo.181.3">It receives input from all </span><strong class="source-inline"><span class="koboSpan" id="kobo.182.1">AudioSource</span></strong><span class="koboSpan" id="kobo.183.1"> components in the scene and processes them to create the final mixed sound that the player will hear. </span><span class="koboSpan" id="kobo.183.2">In most games and XR applications, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.184.1">AudioListener</span></strong><span class="koboSpan" id="kobo.185.1"> is attached to the main camera or the player’s avatar. </span><span class="koboSpan" id="kobo.185.2">As the player moves through the environment, different sounds will get louder or quieter based on their distance and direction from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.186.1">AudioListener</span></strong><span class="koboSpan" id="kobo.187.1">, creating a </span><span class="No-Break"><span class="koboSpan" id="kobo.188.1">dynamic soundscape.</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.189.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.190.1">It’s important to note that you should generally only have one </span><strong class="source-inline"><span class="koboSpan" id="kobo.191.1">AudioListener</span></strong><span class="koboSpan" id="kobo.192.1"> in your scene. </span><span class="koboSpan" id="kobo.192.2">Having more than one can cause sounds to be duplicated, which can result in distortion and other </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">audio artifacts.</span></span></p>
<p><span class="koboSpan" id="kobo.194.1">The following sections guide you on how to implement these components into your Unity scene through a new, hands-on </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">VR project.</span></span></p>
<h1 id="_idParaDest-137"><span class="koboSpan" id="kobo.196.1">Preparing the VR drum scene and adding sound effects</span></h1>
<p><span class="koboSpan" id="kobo.197.1">After exploring the </span><a id="_idIndexMarker562"/><span class="koboSpan" id="kobo.198.1">physical properties of sound waves and Unity’s audio system, you will finally put this theoretical knowledge into use by building your own VR </span><span class="No-Break"><span class="koboSpan" id="kobo.199.1">drum scene.</span></span></p>
<p><span class="koboSpan" id="kobo.200.1">Once you’ve created a VR scene featuring various drums, which can be struck by a player equipped with VR drumsticks in each hand, you’ll discover how to augment your setup by assigning distinct sound files to each drum that gets hit. </span><span class="koboSpan" id="kobo.200.2">Moreover, you’ll learn how to adjust the sound volume based on the intensity of the strike delivered by the VR drumsticks, adding an extra layer of realism. </span><span class="koboSpan" id="kobo.200.3">This refined VR drumming environment will plunge users into an impressively accurate and engaging drumming experience. </span><span class="koboSpan" id="kobo.200.4">Let us now set up and prepare our VR </span><span class="No-Break"><span class="koboSpan" id="kobo.201.1">drum scene.</span></span></p>
<h2 id="_idParaDest-138"><span class="koboSpan" id="kobo.202.1">Setting up and preparing your VR drum scene</span></h2>
<p><span class="koboSpan" id="kobo.203.1">The following steps guide you on </span><a id="_idIndexMarker563"/><span class="koboSpan" id="kobo.204.1">how to create your project, set up the needed</span><a id="_idIndexMarker564"/><span class="koboSpan" id="kobo.205.1"> VR settings in the Unity Editor, and add a player with a </span><span class="No-Break"><span class="koboSpan" id="kobo.206.1">ground floor:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.207.1">Create a new project with the URP by selecting </span><strong class="bold"><span class="koboSpan" id="kobo.208.1">New Project</span></strong><span class="koboSpan" id="kobo.209.1"> in the Unity Hub, choosing the </span><strong class="bold"><span class="koboSpan" id="kobo.210.1">3D (URP)</span></strong><span class="koboSpan" id="kobo.211.1"> template, and renaming the project to a name of your choice, such as </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.212.1">Drum Scene</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.213.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.214.1">Once the scene has loaded, navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.215.1">Edit</span></strong><span class="koboSpan" id="kobo.216.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.217.1">Project Settings</span></strong><span class="koboSpan" id="kobo.218.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.219.1">XR Plugin</span></strong> <strong class="bold"><span class="koboSpan" id="kobo.220.1">Management</span></strong><span class="koboSpan" id="kobo.221.1"> and click the </span><strong class="bold"><span class="koboSpan" id="kobo.222.1">Install</span></strong><span class="koboSpan" id="kobo.223.1"> button. </span><span class="koboSpan" id="kobo.223.2">After the installation, enable the </span><strong class="bold"><span class="koboSpan" id="kobo.224.1">OpenXR</span></strong><span class="koboSpan" id="kobo.225.1"> checkbox. </span><span class="koboSpan" id="kobo.225.2">If you are prompted to restart the Editor, follow the instructions to </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">do so.</span></span></li>
<li><span class="koboSpan" id="kobo.227.1">Under </span><strong class="bold"><span class="koboSpan" id="kobo.228.1">Edit</span></strong><span class="koboSpan" id="kobo.229.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.230.1">Project Settings</span></strong><span class="koboSpan" id="kobo.231.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.232.1">XR Plugin Management</span></strong><span class="koboSpan" id="kobo.233.1">, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.234.1">OpenXR</span></strong><span class="koboSpan" id="kobo.235.1"> submenu. </span><span class="koboSpan" id="kobo.235.2">Under the </span><strong class="bold"><span class="koboSpan" id="kobo.236.1">Windows/Linux/Mac</span></strong><span class="koboSpan" id="kobo.237.1"> tab, select the interaction profile that matches </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">your headset.</span></span></li>
<li><span class="koboSpan" id="kobo.239.1">To add the required</span><a id="_idIndexMarker565"/><span class="koboSpan" id="kobo.240.1"> prefabs for our VR player to our scene, we need</span><a id="_idIndexMarker566"/><span class="koboSpan" id="kobo.241.1"> to install the XR Interaction Toolkit. </span><span class="koboSpan" id="kobo.241.2">To do so, go to </span><strong class="bold"><span class="koboSpan" id="kobo.242.1">Window</span></strong><span class="koboSpan" id="kobo.243.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.244.1">Package Manager</span></strong><span class="koboSpan" id="kobo.245.1"> and click on the </span><strong class="bold"><span class="koboSpan" id="kobo.246.1">+</span></strong><span class="koboSpan" id="kobo.247.1"> icon in the top-left corner. </span><span class="koboSpan" id="kobo.247.2">Choose </span><strong class="bold"><span class="koboSpan" id="kobo.248.1">Add package by name</span></strong><span class="koboSpan" id="kobo.249.1">, type in </span><strong class="source-inline"><span class="koboSpan" id="kobo.250.1">com.unity.xr.interaction.toolkit</span></strong><span class="koboSpan" id="kobo.251.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.252.1">2.5.1</span></strong><span class="koboSpan" id="kobo.253.1">, and then click the </span><strong class="bold"><span class="koboSpan" id="kobo.254.1">Add</span></strong><span class="koboSpan" id="kobo.255.1"> button. </span><span class="koboSpan" id="kobo.255.2">This will automatically install the XR Interaction Toolkit into your scene. </span><span class="koboSpan" id="kobo.255.3">Once the installation process is finished, select </span><strong class="bold"><span class="koboSpan" id="kobo.256.1">XR Interaction Toolkit</span></strong><span class="koboSpan" id="kobo.257.1"> in the </span><strong class="bold"><span class="koboSpan" id="kobo.258.1">Package Manager</span></strong><span class="koboSpan" id="kobo.259.1"> window, and click the </span><strong class="bold"><span class="koboSpan" id="kobo.260.1">Import</span></strong><span class="koboSpan" id="kobo.261.1"> buttons next to </span><strong class="bold"><span class="koboSpan" id="kobo.262.1">Starter Assets</span></strong><span class="koboSpan" id="kobo.263.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.264.1">XR Device Simulator</span></strong><span class="koboSpan" id="kobo.265.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.266.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.267.1">.1</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer089">
<span class="koboSpan" id="kobo.269.1"><img alt="Figure 7.1 – The XR Interaction Toolkit successfully installed alongside the imported Starter Assets and XR Device Simulator in the Package Manager window" src="image/B20869_07_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.270.1">Figure 7.1 – The XR Interaction Toolkit successfully installed alongside the imported Starter Assets and XR Device Simulator in the Package Manager window</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.271.1">Delete the existing main camera in the hierarchy, as the VR player we will add comes with a point-of-view camera. </span><span class="koboSpan" id="kobo.271.2">Now, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">Assets</span></strong><span class="koboSpan" id="kobo.273.1"> folder in the </span><strong class="bold"><span class="koboSpan" id="kobo.274.1">Project</span></strong><span class="koboSpan" id="kobo.275.1"> window and search for the </span><strong class="bold"><span class="koboSpan" id="kobo.276.1">XR Interaction Setup</span></strong><span class="koboSpan" id="kobo.277.1"> prefab. </span><span class="koboSpan" id="kobo.277.2">Drag this prefab into your hierarchy. </span><span class="koboSpan" id="kobo.277.3">It includes a complete player setup, allowing movement, teleportation, interaction, and snap-turning. </span><span class="koboSpan" id="kobo.277.4">To create a floor for the player, right-click in the</span><a id="_idIndexMarker567"/><span class="koboSpan" id="kobo.278.1"> hierarchy and select </span><strong class="bold"><span class="koboSpan" id="kobo.279.1">3D Object</span></strong><span class="koboSpan" id="kobo.280.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.281.1">Plane</span></strong><span class="koboSpan" id="kobo.282.1">, rename</span><a id="_idIndexMarker568"/><span class="koboSpan" id="kobo.283.1"> the plane to </span><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">floor</span></strong><span class="koboSpan" id="kobo.285.1">, and place it at the origin (</span><strong class="source-inline"><span class="koboSpan" id="kobo.286.1">0</span></strong><span class="koboSpan" id="kobo.287.1">, </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.291.1">).</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.292.1">Hurray! </span><span class="koboSpan" id="kobo.292.2">You’ve set up the framework for a VR-enabled drum scene in Unity! </span><span class="koboSpan" id="kobo.292.3">The subsequent section will guide you through the process of adding the drums and drumsticks to </span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">your scene.</span></span></p>
<h2 id="_idParaDest-139"><span class="koboSpan" id="kobo.294.1">Creating and importing 3D models for your VR drum scene</span></h2>
<p><span class="koboSpan" id="kobo.295.1">Although</span><a id="_idIndexMarker569"/><span class="koboSpan" id="kobo.296.1"> Unity Asset Store provides an extensive </span><a id="_idIndexMarker570"/><span class="koboSpan" id="kobo.297.1">collection of different 3D models, it doesn’t offer free drum models that are suitable for our project. </span><span class="koboSpan" id="kobo.297.2">Therefore, we’ll utilize 3D models available on </span><em class="italic"><span class="koboSpan" id="kobo.298.1">Sketchfab</span></em><span class="koboSpan" id="kobo.299.1">, another rich platform that allows you to download free and paid 3D models from a wide range </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">of creators.</span></span></p>
<p><span class="koboSpan" id="kobo.301.1">The selected drum models for this chapter were found at </span><a href="https://skfb.ly/o8QvS"><span class="koboSpan" id="kobo.302.1">https://skfb.ly/o8QvS</span></a><span class="koboSpan" id="kobo.303.1"> and were created by Bora Özakaltun. </span><span class="koboSpan" id="kobo.303.2">Open the link and download the free models in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.304.1">.fbx</span></strong><span class="koboSpan" id="kobo.305.1"> file format, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.306.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.307.1">.2</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer090">
<span class="koboSpan" id="kobo.309.1"><img alt="Figure 7.2 – ﻿The required mouse clicks (highlighted in yellow) to download the drum models as a﻿n .fbx file" src="image/B20869_07_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.310.1">Figure 7.2 – The required mouse clicks (highlighted in yellow) to download the drum models as an .fbx file</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.311.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.312.1">Should the models be unavailable at your time of reading, you can clone the entire project from the GitHub repository for this book and extract the assets </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">from there.</span></span></p>
<p><span class="koboSpan" id="kobo.314.1">Once the</span><a id="_idIndexMarker571"/><span class="koboSpan" id="kobo.315.1"> folder is downloaded, unzip all the child folders. </span><span class="koboSpan" id="kobo.315.2">Then, drag </span><a id="_idIndexMarker572"/><span class="koboSpan" id="kobo.316.1">the unzipped drum folder into your </span><strong class="bold"><span class="koboSpan" id="kobo.317.1">Project</span></strong><span class="koboSpan" id="kobo.318.1"> window, completing the model importation. </span><span class="koboSpan" id="kobo.318.2">Now, it’s time to integrate the drums into your virtual environment. </span><span class="koboSpan" id="kobo.318.3">Follow these steps to position the drums in </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">your scene:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.320.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.321.1">Project</span></strong><span class="koboSpan" id="kobo.322.1"> window, navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.323.1">Assets</span></strong><span class="koboSpan" id="kobo.324.1"> folder, and then to </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">drum</span></strong><span class="koboSpan" id="kobo.326.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">source directory</span></strong><span class="koboSpan" id="kobo.328.1">. </span><span class="koboSpan" id="kobo.328.2">Here, you will find the drum model that you </span><span class="No-Break"><span class="koboSpan" id="kobo.329.1">previously imported.</span></span></li>
<li><span class="koboSpan" id="kobo.330.1">Select the </span><strong class="bold"><span class="koboSpan" id="kobo.331.1">drum</span></strong><span class="koboSpan" id="kobo.332.1"> file and drag it into your scene. </span><span class="koboSpan" id="kobo.332.2">Upon doing so, you might observe that the drum appears disproportionately large for </span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">the environment.</span></span></li>
<li><span class="koboSpan" id="kobo.334.1">To rectify the size issue, select the drum in the hierarchy and scale it down to the dimensions (</span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">0.02</span></strong><span class="koboSpan" id="kobo.336.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.337.1">0.02</span></strong><span class="koboSpan" id="kobo.338.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">0.02</span></strong><span class="koboSpan" id="kobo.340.1">). </span><span class="koboSpan" id="kobo.340.2">Place the drum at the origin coordinates (</span><strong class="source-inline"><span class="koboSpan" id="kobo.341.1">0</span></strong><span class="koboSpan" id="kobo.342.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.343.1">0</span></strong><span class="koboSpan" id="kobo.344.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.345.1">0</span></strong><span class="koboSpan" id="kobo.346.1">), aligning it perfectly within the </span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">virtual space.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.348.1">Once these adjustments are complete, your scene should resemble the depiction in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.349.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.350.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.351.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer091">
<span class="koboSpan" id="kobo.352.1"><img alt="Figure 7.3 – ﻿How your drum scene should currently look in the Game ﻿view of the Unity Editor" src="image/B20869_07_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.353.1">Figure 7.3 – How your drum scene should currently look in the Game view of the Unity Editor</span></p>
<p><span class="koboSpan" id="kobo.354.1">Now, we need </span><a id="_idIndexMarker573"/><span class="koboSpan" id="kobo.355.1">drumsticks to interact with the drums. </span><span class="koboSpan" id="kobo.355.2">By</span><a id="_idIndexMarker574"/><span class="koboSpan" id="kobo.356.1"> following these steps, we will create our own drumsticks </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">within Unity:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.358.1">Right-click in the Scene Hierarchy, navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.359.1">GameObject</span></strong><span class="koboSpan" id="kobo.360.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.361.1">Cylinder</span></strong><span class="koboSpan" id="kobo.362.1">, and scale it to the dimensions (</span><strong class="source-inline"><span class="koboSpan" id="kobo.363.1">0.01</span></strong><span class="koboSpan" id="kobo.364.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.365.1">0.2</span></strong><span class="koboSpan" id="kobo.366.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.367.1">0.01</span></strong><span class="koboSpan" id="kobo.368.1">). </span><span class="koboSpan" id="kobo.368.2">Rename this GameObject </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">Drum Stick</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.371.1">As you can see in the </span><strong class="bold"><span class="koboSpan" id="kobo.372.1">Inspector</span></strong><span class="koboSpan" id="kobo.373.1"> window, the drumstick automatically includes a </span><strong class="bold"><span class="koboSpan" id="kobo.374.1">Capsule Collider</span></strong><span class="koboSpan" id="kobo.375.1"> component. </span><span class="koboSpan" id="kobo.375.2">A </span><strong class="bold"><span class="koboSpan" id="kobo.376.1">Capsule Collider</span></strong><span class="koboSpan" id="kobo.377.1"> is a 3D shape used in Unity that resembles a capsule or pill-like</span><a id="_idIndexMarker575"/><span class="koboSpan" id="kobo.378.1"> shape, used to detect collisions between objects. </span><span class="koboSpan" id="kobo.378.2">Additionally, it is essential to add a </span><strong class="bold"><span class="koboSpan" id="kobo.379.1">Rigidbody</span></strong><span class="koboSpan" id="kobo.380.1"> component to the drumstick. </span><span class="koboSpan" id="kobo.380.2">This allows the object to be affected by forces and physics within the Unity environment, enabling dynamic interactions such as the ones needed for an immersive drumming experience. </span><span class="koboSpan" id="kobo.380.3">With the drumstick selected, head over to its </span><strong class="bold"><span class="koboSpan" id="kobo.381.1">Inspector</span></strong><span class="koboSpan" id="kobo.382.1"> window and select the </span><strong class="bold"><span class="koboSpan" id="kobo.383.1">Add Component</span></strong><span class="koboSpan" id="kobo.384.1"> button. </span><span class="koboSpan" id="kobo.384.2">Now, add a </span><strong class="bold"><span class="koboSpan" id="kobo.385.1">Rigidbody</span></strong><span class="koboSpan" id="kobo.386.1"> component by searching for it and selecting it. </span><span class="koboSpan" id="kobo.386.2">This component allows Unity’s physics engine to treat the drumstick as a physical object, simulating interactions and reactions to forces, which is critical to realistically model the drumstick’s behavior when striking </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">a drum.</span></span></li>
<li><span class="koboSpan" id="kobo.388.1">Set </span><strong class="bold"><span class="koboSpan" id="kobo.389.1">Collision Detection</span></strong><span class="koboSpan" id="kobo.390.1"> of the </span><strong class="bold"><span class="koboSpan" id="kobo.391.1">Rigidbody</span></strong><span class="koboSpan" id="kobo.392.1"> component to </span><strong class="bold"><span class="koboSpan" id="kobo.393.1">Continuous Speculative</span></strong><span class="koboSpan" id="kobo.394.1">. </span><span class="koboSpan" id="kobo.394.2">This mode enables more accurate and efficient handling of collisions between the drumstick and other objects, particularly when dealing with fast motions typical </span><span class="No-Break"><span class="koboSpan" id="kobo.395.1">of drumming.</span></span></li>
<li><span class="koboSpan" id="kobo.396.1">Create a</span><a id="_idIndexMarker576"/><span class="koboSpan" id="kobo.397.1"> new material in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">Assets</span></strong><span class="koboSpan" id="kobo.399.1"> folder, and</span><a id="_idIndexMarker577"/><span class="koboSpan" id="kobo.400.1"> name it </span><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">Drum Stick Material</span></strong><span class="koboSpan" id="kobo.402.1">. </span><span class="koboSpan" id="kobo.402.2">Download </span><strong class="source-inline"><span class="koboSpan" id="kobo.403.1">Balsa_Wood_Texture.jpg</span></strong><span class="koboSpan" id="kobo.404.1"> from </span><a href="https://commons.wikimedia.org/wiki/File:Balsa_Wood_Texture.jpg"><span class="koboSpan" id="kobo.405.1">https://commons.wikimedia.org/wiki/File:Balsa_Wood_Texture.jpg</span></a><span class="koboSpan" id="kobo.406.1"> and import it into the project. </span><span class="koboSpan" id="kobo.406.2">Select </span><strong class="source-inline"><span class="koboSpan" id="kobo.407.1">Drum Stick Material</span></strong><span class="koboSpan" id="kobo.408.1">, go to </span><strong class="bold"><span class="koboSpan" id="kobo.409.1">Inspector</span></strong><span class="koboSpan" id="kobo.410.1">, and drag </span><strong class="source-inline"><span class="koboSpan" id="kobo.411.1">Balsa_Wood_Texture.jpg</span></strong><span class="koboSpan" id="kobo.412.1"> into the </span><strong class="bold"><span class="koboSpan" id="kobo.413.1">Base Map</span></strong><span class="koboSpan" id="kobo.414.1"> field. </span><span class="koboSpan" id="kobo.414.2">Apply this material to </span><span class="No-Break"><span class="koboSpan" id="kobo.415.1">the drumstick.</span></span></li>
<li><span class="koboSpan" id="kobo.416.1">Select </span><strong class="source-inline"><span class="koboSpan" id="kobo.417.1">Drum Stick</span></strong><span class="koboSpan" id="kobo.418.1">, and click on the </span><strong class="bold"><span class="koboSpan" id="kobo.419.1">Tag</span></strong><span class="koboSpan" id="kobo.420.1"> dropdown in the Inspector. </span><span class="koboSpan" id="kobo.420.2">Select </span><strong class="bold"><span class="koboSpan" id="kobo.421.1">Add Tag</span></strong><span class="koboSpan" id="kobo.422.1">, click on the plus icon, type in </span><strong class="source-inline"><span class="koboSpan" id="kobo.423.1">Drum</span></strong><span class="koboSpan" id="kobo.424.1">, and save the tag. </span><span class="koboSpan" id="kobo.424.2">We will need this tag to address the drumsticks in our scene </span><span class="No-Break"><span class="koboSpan" id="kobo.425.1">later on.</span></span></li>
<li><span class="koboSpan" id="kobo.426.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.427.1">Project</span></strong><span class="koboSpan" id="kobo.428.1"> window, create a folder named </span><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">Prefabs</span></strong><span class="koboSpan" id="kobo.430.1">, and drag the drumstick into it. </span><span class="koboSpan" id="kobo.430.2">This will create a prefab, allowing easy duplication </span><span class="No-Break"><span class="koboSpan" id="kobo.431.1">and modification.</span></span></li>
<li><span class="koboSpan" id="kobo.432.1">Finally, attach the prefab as a child to both the left controller and the right controller, as detailed in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.433.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.434.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.435.1">.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer092">
<span class="koboSpan" id="kobo.436.1"><img alt="Figure 7.4 – ﻿Each drumstick being successfully attached to the respective controller of the XR Origin in the Scene Hierarchy window" src="image/B20869_07_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.437.1">Figure 7.4 – Each drumstick being successfully attached to the respective controller of the XR Origin in the Scene Hierarchy window</span></p>
<p><span class="koboSpan" id="kobo.438.1">You have</span><a id="_idIndexMarker578"/><span class="koboSpan" id="kobo.439.1"> successfully completed all the steps to set up and </span><a id="_idIndexMarker579"/><span class="koboSpan" id="kobo.440.1">prepare your VR drum scene. </span><span class="koboSpan" id="kobo.440.2">In the following section, you will learn how you can utilize Unity’s audio system to add sound effects to </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">your scene.</span></span></p>
<h2 id="_idParaDest-140"><span class="koboSpan" id="kobo.442.1">Adding sound effects to your VR drum scene</span></h2>
<p><span class="koboSpan" id="kobo.443.1">This section </span><a id="_idIndexMarker580"/><span class="koboSpan" id="kobo.444.1">guides you through </span><a id="_idIndexMarker581"/><span class="koboSpan" id="kobo.445.1">the process of adding sound effects to your VR drum scene. </span><span class="koboSpan" id="kobo.445.2">The first step involves triggering audio when hitting an instrument, adding realism and engagement to </span><span class="No-Break"><span class="koboSpan" id="kobo.446.1">the scene.</span></span></p>
<h3><span class="koboSpan" id="kobo.447.1">Scripting sound playback on collision for your VR drum scene</span></h3>
<p><span class="koboSpan" id="kobo.448.1">To trigger a sound </span><a id="_idIndexMarker582"/><span class="koboSpan" id="kobo.449.1">playback once our drumsticks collide with the drums, we must use C# scripting. </span><span class="koboSpan" id="kobo.449.2">Follow these steps to correctly prepare your drums </span><span class="No-Break"><span class="koboSpan" id="kobo.450.1">for it:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.451.1">In the Unity Editor, press </span><em class="italic"><span class="koboSpan" id="kobo.452.1">Ctrl</span></em><span class="koboSpan" id="kobo.453.1"> / </span><em class="italic"><span class="koboSpan" id="kobo.454.1">Cmd</span></em><span class="koboSpan" id="kobo.455.1"> on your keyboard, and </span><em class="italic"><span class="koboSpan" id="kobo.456.1">left-click</span></em><span class="koboSpan" id="kobo.457.1"> to select all the drums in your </span><span class="No-Break"><span class="koboSpan" id="kobo.458.1">Scene Hierarchy.</span></span></li>
<li><span class="koboSpan" id="kobo.459.1">With the drums selected, add a </span><strong class="bold"><span class="koboSpan" id="kobo.460.1">Box Collider</span></strong><span class="koboSpan" id="kobo.461.1"> component via the </span><strong class="bold"><span class="koboSpan" id="kobo.462.1">Inspector</span></strong><span class="koboSpan" id="kobo.463.1"> window by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.464.1">Add Component</span></strong><span class="koboSpan" id="kobo.465.1"> button and searching for and selecting the </span><strong class="bold"><span class="koboSpan" id="kobo.466.1">Box </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.467.1">Collider</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.468.1"> component.</span></span></li>
<li><span class="koboSpan" id="kobo.469.1">Then, we must ensure that the collider functions as a trigger, allowing it to initiate actions rather than physical interactions. </span><span class="koboSpan" id="kobo.469.2">To do this, select the </span><strong class="bold"><span class="koboSpan" id="kobo.470.1">Is Trigger</span></strong><span class="koboSpan" id="kobo.471.1"> checkbox in the </span><strong class="bold"><span class="koboSpan" id="kobo.472.1">Box Collider</span></strong><span class="koboSpan" id="kobo.473.1"> component of each drum in the </span><strong class="bold"><span class="koboSpan" id="kobo.474.1">Inspector</span></strong><span class="koboSpan" id="kobo.475.1"> window. </span><span class="koboSpan" id="kobo.475.2">This option transforms the collider into a non-physical boundary that can detect when objects pass through, making it instrumental in triggering sound </span><span class="No-Break"><span class="koboSpan" id="kobo.476.1">upon collision.</span></span></li>
<li><span class="koboSpan" id="kobo.477.1">Select all the</span><a id="_idIndexMarker583"/><span class="koboSpan" id="kobo.478.1"> drums in the Scene Hierarchy, and click on the </span><strong class="bold"><span class="koboSpan" id="kobo.479.1">Add Component</span></strong><span class="koboSpan" id="kobo.480.1"> button in the </span><strong class="bold"><span class="koboSpan" id="kobo.481.1">Inspector</span></strong><span class="koboSpan" id="kobo.482.1"> window. </span><span class="koboSpan" id="kobo.482.2">Type in </span><strong class="source-inline"><span class="koboSpan" id="kobo.483.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.484.1">, and click on </span><strong class="bold"><span class="koboSpan" id="kobo.485.1">New Script</span></strong><span class="koboSpan" id="kobo.486.1">. </span><span class="koboSpan" id="kobo.486.2">This action automatically associates the script with all </span><span class="No-Break"><span class="koboSpan" id="kobo.487.1">selected drums.</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.488.1">Double-click</span></em><span class="koboSpan" id="kobo.489.1"> on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.490.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.491.1"> script in the </span><strong class="bold"><span class="koboSpan" id="kobo.492.1">Inspector</span></strong><span class="koboSpan" id="kobo.493.1"> window to </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">open it.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.495.1">Once the script opens in your preferred IDE, define the following </span><span class="No-Break"><span class="koboSpan" id="kobo.496.1">three variables:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.497.1">
public AudioClip soundClip;
private AudioSource _soundSource;
public string tag;</span></pre>
<p><span class="koboSpan" id="kobo.498.1">We will use the public </span><strong class="source-inline"><span class="koboSpan" id="kobo.499.1">AudioClip</span></strong><span class="koboSpan" id="kobo.500.1"> variable to play the audio, the private </span><strong class="source-inline"><span class="koboSpan" id="kobo.501.1">AudioSource</span></strong><span class="koboSpan" id="kobo.502.1"> variable to play the clip, and assign a public </span><strong class="source-inline"><span class="koboSpan" id="kobo.503.1">tag</span></strong><span class="koboSpan" id="kobo.504.1"> variable to the drumsticks so that only these GameObjects trigger </span><span class="No-Break"><span class="koboSpan" id="kobo.505.1">the sound.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.506.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.507.1">In Unity, </span><strong class="bold"><span class="koboSpan" id="kobo.508.1">tags</span></strong><span class="koboSpan" id="kobo.509.1"> are </span><a id="_idIndexMarker584"/><span class="koboSpan" id="kobo.510.1">simple text identifiers that can be assigned to GameObjects within the </span><strong class="bold"><span class="koboSpan" id="kobo.511.1">Inspector</span></strong><span class="koboSpan" id="kobo.512.1"> window in the Unity Editor to identify and categorize them. </span><span class="koboSpan" id="kobo.512.2">In the following code snippet, you will learn how we can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.513.1">tag</span></strong><span class="koboSpan" id="kobo.514.1"> variable to </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">trigger sound.</span></span></p>
<p><span class="koboSpan" id="kobo.516.1">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.517.1">Start()</span></strong><span class="koboSpan" id="kobo.518.1"> function of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.519.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.520.1"> script, add the following line of code to access </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">AudioSource</span></strong><span class="koboSpan" id="kobo.522.1"> at the beginning of </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">the experience:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.524.1">
_soundSource = GetComponent&lt;AudioSource&gt;();</span></pre>
<p><span class="koboSpan" id="kobo.525.1">Since we are not</span><a id="_idIndexMarker585"/><span class="koboSpan" id="kobo.526.1"> continuously checking for changes, we don’t need an </span><strong class="source-inline"><span class="koboSpan" id="kobo.527.1">Update()</span></strong><span class="koboSpan" id="kobo.528.1"> function in this script. </span><span class="koboSpan" id="kobo.528.2">Instead, we will implement an </span><strong class="source-inline"><span class="koboSpan" id="kobo.529.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.530.1"> method, which is called when something collides with the </span><span class="No-Break"><span class="koboSpan" id="kobo.531.1">trigger collider:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.532.1">
private void OnTriggerEnter(Collider other) {
    if (other.CompareTag(tag))
    {
        _soundSource.PlayOneShot(soundClip);
    }
}</span></pre>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.533.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.534.1"> is a special Unity method that is automatically called by the Unity engine itself when a collision with a trigger occurs. </span><span class="koboSpan" id="kobo.534.2">This is also why we don’t need to call this function within our script and why we selected the </span><strong class="bold"><span class="koboSpan" id="kobo.535.1">Is Trigger</span></strong><span class="koboSpan" id="kobo.536.1"> checkbox earlier in </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">this setup.</span></span></p>
<p><span class="koboSpan" id="kobo.538.1">Within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.540.1"> method, we call </span><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">CompareTag()</span></strong><span class="koboSpan" id="kobo.542.1">, a built-in Unity function from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.543.1">GameObject</span></strong><span class="koboSpan" id="kobo.544.1"> class. </span><span class="koboSpan" id="kobo.544.2">By calling it inside of an </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">if</span></strong><span class="koboSpan" id="kobo.546.1"> statement, we compare the tag of the colliding object to a string. </span><span class="koboSpan" id="kobo.546.2">The use of a tag helps ensure that the sound is played only when the drumsticks collide with the drum, and not when other objects might collide with it. </span><span class="koboSpan" id="kobo.546.3">By assigning a unique tag to the drumsticks, similar to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.547.1">Drum</span></strong><span class="koboSpan" id="kobo.548.1"> tag we used, we can easily and efficiently identify them within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.549.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.550.1"> method and play the sound only in response to their collisions with </span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">the drum.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.552.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.553.1">At this point, you might be wondering why we are using </span><strong class="source-inline"><span class="koboSpan" id="kobo.554.1">CompareTag()</span></strong><span class="koboSpan" id="kobo.555.1"> instead of directly comparing the tags with the equality operator (</span><strong class="source-inline"><span class="koboSpan" id="kobo.556.1">==</span></strong><span class="koboSpan" id="kobo.557.1">). </span><span class="koboSpan" id="kobo.557.2">The reason for this is that using </span><strong class="source-inline"><span class="koboSpan" id="kobo.558.1">CompareTag()</span></strong><span class="koboSpan" id="kobo.559.1"> is more computationally efficient. </span><span class="koboSpan" id="kobo.559.2">Tags in Unity are stored in an internal hashed format, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.560.1">CompareTag()</span></strong><span class="koboSpan" id="kobo.561.1"> compares these hashes, while the equality operator would first convert the hash to a string, making the </span><span class="No-Break"><span class="koboSpan" id="kobo.562.1">comparison slower.</span></span></p>
<p><span class="koboSpan" id="kobo.563.1">If the tag comparison returns </span><strong class="source-inline"><span class="koboSpan" id="kobo.564.1">true</span></strong><span class="koboSpan" id="kobo.565.1">, the next line is executed. </span><span class="koboSpan" id="kobo.565.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.566.1">_soundSource</span></strong><span class="koboSpan" id="kobo.567.1"> variable refers to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.568.1">AudioSource</span></strong><span class="koboSpan" id="kobo.569.1"> component that we will attach to the drums later on. </span><span class="koboSpan" id="kobo.569.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.570.1">PlayOneShot()</span></strong><span class="koboSpan" id="kobo.571.1"> method is another Unity function from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.572.1">AudioSource</span></strong><strong class="bold"> </strong><span class="koboSpan" id="kobo.573.1">class. </span><span class="koboSpan" id="kobo.573.2">It is used to play an audio clip once without interrupting any sounds currently playing on the same </span><strong class="source-inline"><span class="koboSpan" id="kobo.574.1">AudioSource</span></strong><span class="koboSpan" id="kobo.575.1">. </span><span class="koboSpan" id="kobo.575.2">This functionality is essential for the authenticity of our drum scene. </span><span class="koboSpan" id="kobo.575.3">Instead of hearing each drum hit in isolation, we seek to create a continuous flow of sound. </span><span class="koboSpan" id="kobo.575.4">The ability to layer individual hits allows for a more immersive and realistic experience, reflecting the natural overlap that occurs when drums are played in quick succession. </span><span class="koboSpan" id="kobo.575.5">The use of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.576.1">PlayOneShot()</span></strong><span class="koboSpan" id="kobo.577.1"> method ensures that the sounds meld together harmoniously, capturing the essence of a live </span><span class="No-Break"><span class="koboSpan" id="kobo.578.1">drumming performance.</span></span></p>
<p><span class="koboSpan" id="kobo.579.1">By combining </span><a id="_idIndexMarker586"/><span class="koboSpan" id="kobo.580.1">these elements, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.581.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.582.1"> method ensures that when the drumstick comes into contact with the drum, the specified sound is played, creating an immediate and realistic response within the virtual environment. </span><span class="koboSpan" id="kobo.582.2">It’s a powerful way to add immersion and interactivity to your VR experience. </span><span class="koboSpan" id="kobo.582.3">After finalizing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.583.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.584.1"> script, it is finally time to add sound files for each drum to </span><span class="No-Break"><span class="koboSpan" id="kobo.585.1">your scene.</span></span></p>
<h3><span class="koboSpan" id="kobo.586.1">Adding sound files to your VR drum scene</span></h3>
<p><span class="koboSpan" id="kobo.587.1">In this </span><a id="_idIndexMarker587"/><span class="koboSpan" id="kobo.588.1">section, you will learn how to import sound files and</span><a id="_idIndexMarker588"/><span class="koboSpan" id="kobo.589.1"> assign </span><strong class="source-inline"><span class="koboSpan" id="kobo.590.1">AudioSource</span></strong><span class="koboSpan" id="kobo.591.1"> components for each drum. </span><span class="koboSpan" id="kobo.591.2">Let’s go through this process step </span><span class="No-Break"><span class="koboSpan" id="kobo.592.1">by step:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.593.1">Download the appropriate sound files for each of the drums in your Unity scene. </span><span class="koboSpan" id="kobo.593.2">You can find royalty-free </span><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">.mp3</span></strong><span class="koboSpan" id="kobo.595.1"> sound files on websites such as </span><a href="https://www.freesoundslibrary.com/"><span class="koboSpan" id="kobo.596.1">https://www.freesoundslibrary.com/</span></a><span class="koboSpan" id="kobo.597.1"> or </span><a href="https://pixabay.com/sound-effects/"><span class="koboSpan" id="kobo.598.1">https://pixabay.com/sound-effects/</span></a><span class="koboSpan" id="kobo.599.1">. </span><span class="koboSpan" id="kobo.599.2">Alternatively, you have the option to utilize the sound files provided within the Unity project linked with this chapter. </span><span class="koboSpan" id="kobo.599.3">These files are readily available in this book’s </span><span class="No-Break"><span class="koboSpan" id="kobo.600.1">GitHub repository.</span></span></li>
<li><span class="koboSpan" id="kobo.601.1">Once you have the necessary sound files on your local system, go to </span><strong class="source-inline"><span class="koboSpan" id="kobo.602.1">Assets</span></strong><span class="koboSpan" id="kobo.603.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.604.1">Import New Assets</span></strong><span class="koboSpan" id="kobo.605.1"> in the Unity Editor. </span><span class="koboSpan" id="kobo.605.2">Navigate to the location of your sound files and select the ones you want to import. </span><span class="koboSpan" id="kobo.605.3">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.606.1">Import</span></strong><span class="koboSpan" id="kobo.607.1"> button, and the sound files will now be available in your </span><span class="No-Break"><span class="koboSpan" id="kobo.608.1">Unity project.</span></span></li>
<li><span class="koboSpan" id="kobo.609.1">Select all drums in the </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">Hierarchy</span></strong><span class="koboSpan" id="kobo.611.1"> window (</span><em class="italic"><span class="koboSpan" id="kobo.612.1">Ctrl</span></em><span class="koboSpan" id="kobo.613.1"> / </span><em class="italic"><span class="koboSpan" id="kobo.614.1">Cmd</span></em><span class="koboSpan" id="kobo.615.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.616.1">left-click</span></em><span class="koboSpan" id="kobo.617.1">). </span><span class="koboSpan" id="kobo.617.2">In the </span><strong class="bold"><span class="koboSpan" id="kobo.618.1">Inspector</span></strong><span class="koboSpan" id="kobo.619.1"> window, click the </span><strong class="bold"><span class="koboSpan" id="kobo.620.1">Add Component</span></strong><span class="koboSpan" id="kobo.621.1"> button, search for the </span><strong class="bold"><span class="koboSpan" id="kobo.622.1">Audio Source</span></strong><span class="koboSpan" id="kobo.623.1"> component, and </span><span class="No-Break"><span class="koboSpan" id="kobo.624.1">select it.</span></span></li>
<li><span class="koboSpan" id="kobo.625.1">Now, select each drum individually in the Scene Hierarchy, and navigate to their</span><strong class="bold"> </strong><strong class="source-inline"><span class="koboSpan" id="kobo.626.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.627.1"> script in the </span><strong class="bold"><span class="koboSpan" id="kobo.628.1">Inspector</span></strong><span class="koboSpan" id="kobo.629.1"> window. </span><span class="koboSpan" id="kobo.629.2">Click on the small circle next to the </span><strong class="bold"><span class="koboSpan" id="kobo.630.1">Sound Clip</span></strong><span class="koboSpan" id="kobo.631.1"> field that we defined earlier, and choose an appropriate </span><a id="_idIndexMarker589"/><span class="koboSpan" id="kobo.632.1">sound</span><a id="_idIndexMarker590"/><span class="koboSpan" id="kobo.633.1"> file for </span><span class="No-Break"><span class="koboSpan" id="kobo.634.1">each drum.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.635.1">Upon testing, you’ll find that the drum scene is already quite immersive. </span><span class="koboSpan" id="kobo.635.2">However, a few adjustments can heighten its realism. </span><span class="koboSpan" id="kobo.635.3">The following section guides you on how to fine-tune your </span><span class="No-Break"><span class="koboSpan" id="kobo.636.1">drum scene.</span></span></p>
<h3><span class="koboSpan" id="kobo.637.1">Fine-tuning the VR drum scene to heighten its realism</span></h3>
<p><span class="koboSpan" id="kobo.638.1">The current </span><a id="_idIndexMarker591"/><span class="koboSpan" id="kobo.639.1">setup plays the sound at a constant volume, regardless of how hard or soft the drum is hit. </span><span class="koboSpan" id="kobo.639.2">To enhance realism, we need to adjust the volume in relation to the collision velocity. </span><span class="koboSpan" id="kobo.639.3">To achieve this, we can utilize an existing script from Valve called </span><em class="italic"><span class="koboSpan" id="kobo.640.1">VelocityEstimator</span></em><span class="koboSpan" id="kobo.641.1">. </span><span class="koboSpan" id="kobo.641.2">In case you aren’t familiar, Valve is the prominent video game developer and distributor behind the Steam gaming platform, and they offer a SteamVR plugin for Unity, along with interesting VR scripts available on GitHub. </span><span class="koboSpan" id="kobo.641.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.642.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.643.1"> script is available in the GitHub repository of SteamVR’s Unity Plugin at this </span><span class="No-Break"><span class="koboSpan" id="kobo.644.1">link: </span></span><a href="https://github.com/ValveSoftware/steamvr_unity_plugin/blob/9442d7d7d447e07aa21c64746633dcb5977bdd1e/Assets/SteamVR/InteractionSystem/Core/Scripts/VelocityEstimator.cs#L13"><span class="No-Break"><span class="koboSpan" id="kobo.645.1">https://github.com/ValveSoftware/steamvr_unity_plugin/blob/9442d7d7d447e07aa21c64746633dcb5977bdd1e/Assets/SteamVR/InteractionSystem/Core/Scripts/VelocityEstimator.cs#L13</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.646.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.647.1">Tip</span></p>
<p class="callout"><span class="koboSpan" id="kobo.648.1">When dealing with complex physical calculations (such as the relationship between volume and collision), searching the internet for existing solutions or scripts can save time and effort. </span><span class="koboSpan" id="kobo.648.2">In XR development, understanding every aspect of physics is not always necessary, but knowing how to implement physical calculations accurately </span><span class="No-Break"><span class="koboSpan" id="kobo.649.1">is crucial.</span></span></p>
<p><span class="koboSpan" id="kobo.650.1">The</span><a id="_idIndexMarker592"/><span class="koboSpan" id="kobo.651.1"> purpose of Valve’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.652.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.653.1"> script is to calculate and estimate the speed and direction of the GameObject we attach it to – in this case, the drumsticks. </span><span class="koboSpan" id="kobo.653.2">When applied to our VR drum scene, this script will facilitate the adjustment of the sound volume based on the drumstick’s striking speed, thereby imitating the natural correlation between the force of a drum hit and the resulting sound volume. </span><span class="koboSpan" id="kobo.653.3">To add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.654.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.655.1"> script to our drumsticks, let’s perform the </span><span class="No-Break"><span class="koboSpan" id="kobo.656.1">following steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.657.1">Download the </span><strong class="source-inline"><span class="koboSpan" id="kobo.658.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.659.1"> script from GitHub (by selecting </span><em class="italic"><span class="koboSpan" id="kobo.660.1">Cmd</span></em><span class="koboSpan" id="kobo.661.1"> / </span><em class="italic"><span class="koboSpan" id="kobo.662.1">Ctrl</span></em><span class="koboSpan" id="kobo.663.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.664.1">Shift</span></em><span class="koboSpan" id="kobo.665.1"> + </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.666.1">S</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.667.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.668.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.669.1">Project</span></strong><span class="koboSpan" id="kobo.670.1"> window of the Unity Editor, open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.671.1">Scripts</span></strong><span class="koboSpan" id="kobo.672.1"> folder, and drag and drop your downloaded file from your local file manager </span><span class="No-Break"><span class="koboSpan" id="kobo.673.1">into it.</span></span></li>
<li><span class="koboSpan" id="kobo.674.1">Now, add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.675.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.676.1"> script to both drumsticks as a component by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.677.1">Add Component</span></strong><span class="koboSpan" id="kobo.678.1"> button and searching and selecting the script. </span><span class="koboSpan" id="kobo.678.2">Be sure to enable the </span><strong class="bold"><span class="koboSpan" id="kobo.679.1">Estimate On Awake</span></strong><span class="koboSpan" id="kobo.680.1"> checkbox, as this will facilitate the calculation of the drumsticks’ speed. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.681.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.682.1">.5</span></em><span class="koboSpan" id="kobo.683.1"> shows how the drumsticks’ fully configured </span><strong class="source-inline"><span class="koboSpan" id="kobo.684.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.685.1"> script component should look in the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.686.1">Inspector</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.687.1"> window.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer093">
<span class="koboSpan" id="kobo.688.1"><img alt="Figure 7.5 – ﻿How the drumsticks’ fully configured VelocityEstimator script component should look in the Inspector window" src="image/B20869_07_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.689.1">Figure 7.5 – How the drumsticks’ fully configured VelocityEstimator script component should look in the Inspector window</span></p>
<p><span class="koboSpan" id="kobo.690.1">To take</span><a id="_idIndexMarker593"/><span class="koboSpan" id="kobo.691.1"> advantage of the drumsticks’ speed in our existing </span><strong class="source-inline"><span class="koboSpan" id="kobo.692.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.693.1"> script, we must modify it a bit. </span><span class="koboSpan" id="kobo.693.2">Open the script again in an IDE, such as Visual Studio, and add the following three lines of code to </span><span class="No-Break"><span class="koboSpan" id="kobo.694.1">your script:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.695.1">
public bool enableVelocity = true;
public float minimumVelocity = 0;
public float maximumVelocity = 3;</span></pre>
<p><span class="koboSpan" id="kobo.696.1">The first</span><a id="_idIndexMarker594"/><span class="koboSpan" id="kobo.697.1"> variable allows us to decide whether we want to take velocity into account when playing the sound. </span><span class="koboSpan" id="kobo.697.2">By setting this to </span><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">true</span></strong><span class="koboSpan" id="kobo.699.1">, we enable the feature. </span><span class="koboSpan" id="kobo.699.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.700.1">minimumVelocity</span></strong><span class="koboSpan" id="kobo.701.1"> variable defines the lower threshold for velocity, allowing us to specify the minimum speed that will impact the volume. </span><span class="koboSpan" id="kobo.701.2">Any velocity below this value won’t lead to a decrease in volume. </span><span class="koboSpan" id="kobo.701.3">Conversely, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.702.1">maximumVelocity</span></strong><span class="koboSpan" id="kobo.703.1"> parameter sets the upper limit of velocity that will influence the volume. </span><span class="koboSpan" id="kobo.703.2">Speeds above this threshold won’t result in further increases </span><span class="No-Break"><span class="koboSpan" id="kobo.704.1">in volume.</span></span></p>
<p><span class="koboSpan" id="kobo.705.1">These new parameters grant us control over how the velocity of the drumsticks influences the volume of the sounds produced. </span><span class="koboSpan" id="kobo.705.2">By adjusting the minimum and maximum velocity values, we can fine-tune the responsiveness of the drum sounds to create a nuanced and realistic </span><span class="No-Break"><span class="koboSpan" id="kobo.706.1">drumming simulation.</span></span></p>
<p><span class="koboSpan" id="kobo.707.1">Now, we must modify the </span><strong class="source-inline"><span class="koboSpan" id="kobo.708.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.709.1"> method to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.710.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.711.1"> script component if the </span><strong class="source-inline"><span class="koboSpan" id="kobo.712.1">enableVelocity</span></strong><span class="koboSpan" id="kobo.713.1"> variable is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.714.1">true</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.715.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.716.1">
    private void OnTriggerEnter(Collider other) {
        if (other.CompareTag(tag))
        {
            VelocityEstimator velEstimator = other.GetComponent&lt;VelocityEstimator&gt;();
            if (velEstimator &amp;&amp; enableVelocity)
            {
                float v = velEstimator.GetVelocityEstimate().magnitude;
                float soundVolume = Mathf.InverseLerp(minimumVelocity, maximumVelocity, v);
                _soundSource</span><a id="_idTextAnchor025"/><span class="koboSpan" id="kobo.717.1">.PlayOneShot(soundClip, soundVolume);
            }
            else
                _soundSource.PlayOneShot(soundClip);
        }
    }</span></pre>
<p><span class="koboSpan" id="kobo.718.1">Let’s go </span><a id="_idIndexMarker595"/><span class="koboSpan" id="kobo.719.1">through the newly added parts of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.720.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.721.1"> method. </span><span class="koboSpan" id="kobo.721.2">By calling </span><strong class="source-inline"><span class="koboSpan" id="kobo.722.1">other.GetComponent&lt;VelocityEstimator&gt;()</span></strong><span class="koboSpan" id="kobo.723.1">, we try to get a component of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.724.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.725.1"> type from the object with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.726.1">Drum</span></strong><span class="koboSpan" id="kobo.727.1"> tag. </span><span class="koboSpan" id="kobo.727.2">If the </span><strong class="source-inline"><span class="koboSpan" id="kobo.728.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.729.1"> component is found and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.730.1">enableVelocity</span></strong><span class="koboSpan" id="kobo.731.1"> variable is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.732.1">true</span></strong><span class="koboSpan" id="kobo.733.1">, the code inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.734.1">if</span></strong><span class="koboSpan" id="kobo.735.1"> statement will be executed. </span><span class="koboSpan" id="kobo.735.2">In this case, the code first calls the </span><strong class="source-inline"><span class="koboSpan" id="kobo.736.1">GetVelocityEstimate</span></strong><span class="koboSpan" id="kobo.737.1"> method from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.738.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.739.1"> component to get the velocity estimate, and then it takes the magnitude of that vector to get the speed as a single float value. </span><span class="koboSpan" id="kobo.739.2">Then, the volume of the sound based on the speed is calculated and stored in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.740.1">soundVolume</span></strong><span class="koboSpan" id="kobo.741.1"> variable. </span><span class="koboSpan" id="kobo.741.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.742.1">InverseLerp()</span></strong><span class="koboSpan" id="kobo.743.1"> method returns a value between </span><strong class="source-inline"><span class="koboSpan" id="kobo.744.1">0</span></strong><span class="koboSpan" id="kobo.745.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.746.1">1</span></strong><span class="koboSpan" id="kobo.747.1">, representing where the value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.748.1">v</span></strong><span class="koboSpan" id="kobo.749.1"> falls between </span><strong class="source-inline"><span class="koboSpan" id="kobo.750.1">minimumVelocity</span></strong><span class="koboSpan" id="kobo.751.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.752.1">maximumVelocity</span></strong><span class="koboSpan" id="kobo.753.1">. </span><span class="koboSpan" id="kobo.753.2">By calling </span><strong class="source-inline"><span class="koboSpan" id="kobo.754.1">_soundSource.PlayOneShot(soundClip, soundVolume)</span></strong><span class="koboSpan" id="kobo.755.1"> on the next line, a one-time sound is played at the </span><span class="No-Break"><span class="koboSpan" id="kobo.756.1">calculated volume.</span></span></p>
<p><span class="koboSpan" id="kobo.757.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.758.1">else</span></strong><span class="koboSpan" id="kobo.759.1"> statement at the end of </span><strong class="source-inline"><span class="koboSpan" id="kobo.760.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.761.1"> is executed if the previous </span><strong class="source-inline"><span class="koboSpan" id="kobo.762.1">if</span></strong><span class="koboSpan" id="kobo.763.1"> statement is not met. </span><span class="koboSpan" id="kobo.763.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.764.1">if</span></strong><span class="koboSpan" id="kobo.765.1"> statement is not met if the </span><strong class="source-inline"><span class="koboSpan" id="kobo.766.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.767.1"> script component is not found, or if the </span><strong class="source-inline"><span class="koboSpan" id="kobo.768.1">enableVelocity</span></strong><span class="koboSpan" id="kobo.769.1"> variable is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.770.1">false</span></strong><span class="koboSpan" id="kobo.771.1">. </span><span class="koboSpan" id="kobo.771.2">The code inside this block will play the sound at its default volume because the velocity of the object was </span><span class="No-Break"><span class="koboSpan" id="kobo.772.1">not considered.</span></span></p>
<p><span class="koboSpan" id="kobo.773.1">If we run the scene right now, we will not hear anything at all when we hit the drumsticks against the drums. </span><span class="koboSpan" id="kobo.773.2">This is because, in the original </span><strong class="source-inline"><span class="koboSpan" id="kobo.774.1">VelocityEstimator</span></strong><span class="koboSpan" id="kobo.775.1"> script from Valve, the velocity estimation routine was meant to start by calling </span><strong class="source-inline"><span class="koboSpan" id="kobo.776.1">BeginEstimatingVelocity()</span></strong><span class="koboSpan" id="kobo.777.1">. </span><span class="koboSpan" id="kobo.777.2">However, in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.778.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.779.1"> script, this function wasn’t being called at all; hence, no velocity estimation took place. </span><span class="koboSpan" id="kobo.779.2">This is why we consistently get a velocity of zero right now when testing out the scene and do not </span><span class="No-Break"><span class="koboSpan" id="kobo.780.1">hear anything.</span></span></p>
<p><span class="koboSpan" id="kobo.781.1">To solve this</span><a id="_idIndexMarker596"/><span class="koboSpan" id="kobo.782.1"> problem, we need to ensure that </span><strong class="source-inline"><span class="koboSpan" id="kobo.783.1">BeginEstimatingVelocity()</span></strong><span class="koboSpan" id="kobo.784.1"> is called when the script starts. </span><span class="koboSpan" id="kobo.784.2">This can be done by adding the following code lines to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.785.1">Start()</span></strong><span class="koboSpan" id="kobo.786.1"> method of our </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.787.1">VelocityEstimator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.788.1"> script:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.789.1">
private VelocityEstimator velocityEstimator;
{
    private void Start()
    {
        velocityEstimator = GetComponent&lt;VelocityEstimator&gt;();
        if (velocityEstimator != null)
        {
            velocityEstimator.BeginEstimatingVelocity();
        }
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.790.1">By putting the call to </span><strong class="source-inline"><span class="koboSpan" id="kobo.791.1">BeginEstimatingVelocity()</span></strong><span class="koboSpan" id="kobo.792.1"> inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.793.1">Start()</span></strong><span class="koboSpan" id="kobo.794.1"> method, we ensure that the velocity estimation begins as soon as the drumstick object is ready, which is exactly what </span><span class="No-Break"><span class="koboSpan" id="kobo.795.1">we want.</span></span></p>
<p><span class="koboSpan" id="kobo.796.1">We’ve successfully executed all necessary steps to add a sound to each drum that reflects the intensity of each hit. </span><span class="koboSpan" id="kobo.796.2">Now, it’s time to put on your VR headset and put the final scene </span><a id="_idIndexMarker597"/><span class="koboSpan" id="kobo.797.1">to the test. </span><span class="koboSpan" id="kobo.797.2">Pay close attention to the variation in volume for each drum sound, depending on the collision velocity with the drumstick. </span><span class="koboSpan" id="kobo.797.3">Also, keenly observe the sound dynamics when you strike two drums simultaneously or hit several drums in rapid succession. </span><span class="koboSpan" id="kobo.797.4">You’ll be amazed by how incredibly realistic our VR drum scene </span><span class="No-Break"><span class="koboSpan" id="kobo.798.1">has become.</span></span></p>
<p><span class="koboSpan" id="kobo.799.1">The next sections will teach you yet another valuable skill to make your scenes more natural and immersive – </span><span class="No-Break"><span class="koboSpan" id="kobo.800.1">adding particles!</span></span></p>
<h1 id="_idParaDest-141"><span class="koboSpan" id="kobo.801.1">Understanding particle behavior and Unity’s particle system</span></h1>
<p><span class="koboSpan" id="kobo.802.1">When designing immersive XR experiences, understanding the physics of particle behavior plays an important role. </span><span class="koboSpan" id="kobo.802.2">By leveraging Unity’s particle system and the fundamentals of particle physics, you can create rich, dynamic, and realistic effects that enhance the immersion of your virtual environments. </span><span class="koboSpan" id="kobo.802.3">In this section, you will learn everything you need to know about real-world</span><a id="_idIndexMarker598"/> <span class="No-Break"><span class="koboSpan" id="kobo.803.1">particle behavior.</span></span></p>
<h2 id="_idParaDest-142"><span class="koboSpan" id="kobo.804.1">Understanding the behavior of particles in the real world</span></h2>
<p><span class="koboSpan" id="kobo.805.1">Particle behavior in the </span><a id="_idIndexMarker599"/><span class="koboSpan" id="kobo.806.1">physical world refers to the ways in which small fragments or quantities of matter move and interact, based on forces, environmental conditions, and intrinsic properties. </span><span class="koboSpan" id="kobo.806.2">Particles in the natural environment behave according to certain laws and principles. </span><span class="koboSpan" id="kobo.806.3">Key factors include gravity, air resistance, life span, and collision behavior. </span><span class="koboSpan" id="kobo.806.4">Here is an overview of what all these </span><span class="No-Break"><span class="koboSpan" id="kobo.807.1">terminologies mean:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.808.1">Gravitational forces</span></strong><span class="koboSpan" id="kobo.809.1">: Particles</span><a id="_idIndexMarker600"/><span class="koboSpan" id="kobo.810.1"> are affected by gravitational forces, which pull them toward the center of mass. </span><span class="koboSpan" id="kobo.810.2">However, it’s important to note that not all particles are affected by gravity in the same way. </span><span class="koboSpan" id="kobo.810.3">Consider two common particle systems – rain falling from the sky, and sparks rising from a fire. </span><span class="koboSpan" id="kobo.810.4">In the case of rain, gravity pulls the raindrops down toward the ground. </span><span class="koboSpan" id="kobo.810.5">Conversely, sparks from a fire rise upward because the heat decreases their effective gravitational pull (hot </span><span class="No-Break"><span class="koboSpan" id="kobo.811.1">air rises).</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.812.1">Air resistance</span></strong><span class="koboSpan" id="kobo.813.1">: Air resistance, also known as </span><strong class="bold"><span class="koboSpan" id="kobo.814.1">drag</span></strong><span class="koboSpan" id="kobo.815.1">, is the </span><a id="_idIndexMarker601"/><span class="koboSpan" id="kobo.816.1">resistance a particle experiences</span><a id="_idIndexMarker602"/><span class="koboSpan" id="kobo.817.1"> when moving through a medium such as air. </span><span class="koboSpan" id="kobo.817.2">It affects both the speed and the direction of particles, often resulting in less linear, more natural-looking motion. </span><span class="koboSpan" id="kobo.817.3">Smoke from a fire or a chimney provides a good example. </span><span class="koboSpan" id="kobo.817.4">While the heat and updraft may initially propel the smoke upward, air resistance and wind can cause it to billow, curve, and sway. </span><span class="koboSpan" id="kobo.817.5">Similarly, consider a particle system representing leaves blowing in the wind. </span><span class="koboSpan" id="kobo.817.6">Air resistance causes the leaves to flutter and spin, rather than moving directly in the direction of </span><span class="No-Break"><span class="koboSpan" id="kobo.818.1">the wind.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.819.1">Life span</span></strong><span class="koboSpan" id="kobo.820.1">: Every particle has a </span><a id="_idIndexMarker603"/><span class="koboSpan" id="kobo.821.1">life span, a duration of existence after which it disappears or changes state. </span><span class="koboSpan" id="kobo.821.2">This life span, along with changes that happen during it, contributes to the believability of a particle effect. </span><span class="koboSpan" id="kobo.821.3">Consider a firefly effect, where each firefly would be a particle that appears, glows brightly for a few seconds (reaching peak brightness midway through its life), and then fades away. </span><span class="koboSpan" id="kobo.821.4">A snowflake particle system offers another example. </span><span class="koboSpan" id="kobo.821.5">As snowflakes, which are represented by particles in your Unity scene, fall toward the ground, they could fade or shrink to give the illusion of snowflakes melting as they touch the </span><span class="No-Break"><span class="koboSpan" id="kobo.822.1">warmer ground.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.823.1">Collision behavior</span></strong><span class="koboSpan" id="kobo.824.1">: When</span><a id="_idIndexMarker604"/><span class="koboSpan" id="kobo.825.1"> particles come into contact with a surface or another particle, they react in a manner that depends on their nature and the surface they collide with. </span><span class="koboSpan" id="kobo.825.2">This is known as collision behavior. </span><span class="koboSpan" id="kobo.825.3">Raindrops, for example, splash and disappear upon hitting a hard surface, creating smaller droplet particles. </span><span class="koboSpan" id="kobo.825.4">Conversely, confetti pieces bounce and scatter instead of splashing when they hit </span><span class="No-Break"><span class="koboSpan" id="kobo.826.1">a surface.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.827.1">Incorporating these principles of particle physics into your Unity Particle System will significantly enhance the realism and immersion of your XR experiences. </span><span class="koboSpan" id="kobo.827.2">You will learn about Unity’s Particle System in the </span><span class="No-Break"><span class="koboSpan" id="kobo.828.1">following section.</span></span></p>
<h2 id="_idParaDest-143"><span class="koboSpan" id="kobo.829.1">Exploring Unity’s Particle System</span></h2>
<p><span class="koboSpan" id="kobo.830.1">Unity’s Particle System</span><a id="_idIndexMarker605"/><span class="koboSpan" id="kobo.831.1"> is a powerful tool for XR developers that adds another level of immersion to the user experience. </span><span class="koboSpan" id="kobo.831.2">It is used to create a wide range of special effects such as fire, smoke, sparks, and magic spells, as well as more abstract visual elements. </span><span class="koboSpan" id="kobo.831.3">Understanding and utilizing Unity’s Particle System effectively can significantly enhance the visual appeal of your application and deepen the sense of presence within the </span><span class="No-Break"><span class="koboSpan" id="kobo.832.1">virtual environment.</span></span></p>
<p><span class="koboSpan" id="kobo.833.1">The following is a detailed exploration of the core components of Unity’s Particle System – specifically, the Particle System component and the Particle System Renderer component. </span><span class="koboSpan" id="kobo.833.2">Both of these components will be vital later on when we add a particle system to our </span><span class="No-Break"><span class="koboSpan" id="kobo.834.1">drum scene:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.835.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.836.1">Particle System component</span></strong><span class="koboSpan" id="kobo.837.1"> is the </span><a id="_idIndexMarker606"/><span class="koboSpan" id="kobo.838.1">main engine of the particle system in Unity. </span><span class="koboSpan" id="kobo.838.2">The Particle System component itself is attached to a GameObject and controls how particles are generated and behave over their lifetime. </span><span class="koboSpan" id="kobo.838.3">It offers a multitude of modules, each controlling a different aspect of the </span><span class="No-Break"><span class="koboSpan" id="kobo.839.1">particle’s behavior:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.840.1">Emission Module</span></strong><span class="koboSpan" id="kobo.841.1">: This</span><a id="_idIndexMarker607"/><span class="koboSpan" id="kobo.842.1"> controls the rate at which new particles are spawned. </span><span class="koboSpan" id="kobo.842.2">Whether you need a constant trickle of particles or a sudden burst, this module has </span><span class="No-Break"><span class="koboSpan" id="kobo.843.1">you covered.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.844.1">Shape Module</span></strong><span class="koboSpan" id="kobo.845.1">: This </span><a id="_idIndexMarker608"/><span class="koboSpan" id="kobo.846.1">defines the region and the form from which particles are birthed. </span><span class="koboSpan" id="kobo.846.2">This could be a simple point, a complex mesh, or anything in between, offering a flexible start to your particles’ </span><span class="No-Break"><span class="koboSpan" id="kobo.847.1">life journey.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.848.1">Gravity Modifier</span></strong><span class="koboSpan" id="kobo.849.1">: This</span><a id="_idIndexMarker609"/><span class="koboSpan" id="kobo.850.1"> is a setting within the Particle System component that emulates the influence of gravity on particles. </span><span class="koboSpan" id="kobo.850.2">You can adjust this setting to make the particles fall faster or slower, allowing you to create effects such as floating dust or </span><span class="No-Break"><span class="koboSpan" id="kobo.851.1">rapid rainfall.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.852.1">Velocity over Lifetime Module</span></strong><span class="koboSpan" id="kobo.853.1">: This</span><a id="_idIndexMarker610"/><span class="koboSpan" id="kobo.854.1"> dictates how a particle’s speed and direction change over its lifetime. </span><span class="koboSpan" id="kobo.854.2">Coupled with the Gravity Modifier, this can create lifelike effects of particles being caught in wind </span><span class="No-Break"><span class="koboSpan" id="kobo.855.1">or turbulence.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.856.1">Drag</span></strong><span class="koboSpan" id="kobo.857.1">: Found </span><a id="_idIndexMarker611"/><span class="koboSpan" id="kobo.858.1">under the </span><strong class="bold"><span class="koboSpan" id="kobo.859.1">Forces over Lifetime</span></strong><span class="koboSpan" id="kobo.860.1"> module, which in Unity’s Particle System allows users to apply varying forces to particles throughout their life span, this property lets you simulate the effect of air or fluid resistance. </span><span class="koboSpan" id="kobo.860.2">By modifying the Drag property, you can make particles move as if they are in a heavier medium, providing a sense of weight and depth to </span><span class="No-Break"><span class="koboSpan" id="kobo.861.1">the particles.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.862.1">Color over Lifetime Module</span></strong><span class="koboSpan" id="kobo.863.1">: This </span><a id="_idIndexMarker612"/><span class="koboSpan" id="kobo.864.1">specifies how a particle’s color evolves over its life span. </span><span class="koboSpan" id="kobo.864.2">This module, in conjunction with the Size over Lifetime module, allows you to create a natural fade-in and fade-out effect, enhancing the realism </span><span class="No-Break"><span class="koboSpan" id="kobo.865.1">of particles.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.866.1">Size over Lifetime Module</span></strong><span class="koboSpan" id="kobo.867.1">: This</span><a id="_idIndexMarker613"/><span class="koboSpan" id="kobo.868.1"> determines how a particle’s scale changes over its life cycle. </span><span class="koboSpan" id="kobo.868.2">By making particles shrink or grow over time, the environment seems to evolve and be dynamic </span><span class="No-Break"><span class="koboSpan" id="kobo.869.1">to observers.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.870.1">Collision Module</span></strong><span class="koboSpan" id="kobo.871.1">: This module governs how particles interact with other GameObjects in</span><a id="_idIndexMarker614"/><span class="koboSpan" id="kobo.872.1"> the scene upon collision. </span><span class="koboSpan" id="kobo.872.2">You can control properties such as bounce (restitution), dampen (loss of speed), and lifetime loss on collision. </span><span class="koboSpan" id="kobo.872.3">This can offer a high degree of realism to how particles respond to their environment, such as sparks bouncing off a surface or water </span><span class="No-Break"><span class="koboSpan" id="kobo.873.1">droplets splashing.</span></span></li></ul><p class="list-inset"><span class="koboSpan" id="kobo.874.1">To illustrate the application of these principles, consider the example of a simple campfire. </span><span class="koboSpan" id="kobo.874.2">In this case, embers rising from the fire can be created as a particle effect where the particles move upward, affected by a slightly randomized velocity to simulate the effect of heat and air resistance. </span><span class="koboSpan" id="kobo.874.3">Gravity’s influence would be negative here (pulling particles upward) due to the heat, and particles could have a reddish color at birth, fading to dark as they cool, simulating the life cycle of real embers. </span><span class="koboSpan" id="kobo.874.4">The smoke, however, can be created with particles moving upward with a higher randomized velocity, simulating the churning effect of fire. </span><span class="koboSpan" id="kobo.874.5">These particles would be less affected by gravity and have a longer life span. </span><span class="koboSpan" id="kobo.874.6">They could also use a color gradient, changing from dark gray near the fire to a lighter color as they rise and cool. </span><span class="koboSpan" id="kobo.874.7">Lastly, the fire itself can be simulated with a high rate of small, bright particles with short lifetimes and high randomized velocity. </span><span class="koboSpan" id="kobo.874.8">The effect would be a vibrant, dynamic </span><span class="No-Break"><span class="koboSpan" id="kobo.875.1">flickering fire.</span></span></p></li>
<li><span class="koboSpan" id="kobo.876.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.877.1">Particle System Renderer component</span></strong><span class="koboSpan" id="kobo.878.1"> is responsible for rendering the particles on the</span><a id="_idIndexMarker615"/><span class="koboSpan" id="kobo.879.1"> screen. </span><span class="koboSpan" id="kobo.879.2">This component can be customized to fit the specific visual needs of your application. </span><span class="koboSpan" id="kobo.879.3">Some of its properties include </span><span class="No-Break"><span class="koboSpan" id="kobo.880.1">the following:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.881.1">Material</span></strong><span class="koboSpan" id="kobo.882.1">: This defines the</span><a id="_idIndexMarker616"/><span class="koboSpan" id="kobo.883.1"> appearance of the particles and can include textures, colors, </span><span class="No-Break"><span class="koboSpan" id="kobo.884.1">and shaders</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.885.1">Render Mode</span></strong><span class="koboSpan" id="kobo.886.1">: This </span><a id="_idIndexMarker617"/><span class="koboSpan" id="kobo.887.1">determines how the particles are rendered and can be in the form of billboards (always facing the camera), meshes, or other </span><span class="No-Break"><span class="koboSpan" id="kobo.888.1">similar entities</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.889.1">Sorting Mode</span></strong><span class="koboSpan" id="kobo.890.1">: This </span><a id="_idIndexMarker618"/><span class="koboSpan" id="kobo.891.1">determines the order in which particles are rendered and is especially important when </span><span class="No-Break"><span class="koboSpan" id="kobo.892.1">particles overlap</span></span></li></ul></li>
</ul>
<p><span class="koboSpan" id="kobo.893.1">Remember, particles aren’t just visual fluff. </span><span class="koboSpan" id="kobo.893.2">They can play a crucial role in your storytelling, player guidance, and world-building efforts. </span><span class="koboSpan" id="kobo.893.3">For instance, a trail of mystical sparkles might guide a player toward a hidden treasure, or a plume of smoke could hint at a recently extinguished </span><span class="No-Break"><span class="koboSpan" id="kobo.894.1">campfire nearby.</span></span></p>
<p><span class="koboSpan" id="kobo.895.1">Now that we’ve explored the key components of Unity’s particle system, let’s dive into the following section, which explains how to implement a particle system into our drum scene. </span><span class="koboSpan" id="kobo.895.2">The goal is that every time we hit a drum, fog is released, proportionate to how hard we </span><span class="No-Break"><span class="koboSpan" id="kobo.896.1">hit it.</span></span></p>
<h1 id="_idParaDest-144"><span class="koboSpan" id="kobo.897.1">Adding particles to VR scenes with varying properties</span></h1>
<p><span class="koboSpan" id="kobo.898.1">Do you recall the last time you attended a live concert when, at the pinnacle of a legendary song, the stage was enveloped by a blanket of white fog while you were lost in the music with your friends? </span><span class="koboSpan" id="kobo.898.2">Taking inspiration from the theatrical smoke often utilized in real-world concerts, we’re going to apply our recently acquired knowledge about Unity’s Particle System to create a similar effect. </span><span class="koboSpan" id="kobo.898.3">Our objective is to integrate a particle system into our drum scene to release fog every time a drum is hit, with the intensity of the fog corresponding to the velocity of the strike. </span><span class="koboSpan" id="kobo.898.4">The more frequently the drums are played, the more the fog should saturate our scene, and vice versa, thereby fully replicating the euphoric sensation of being at a </span><span class="No-Break"><span class="koboSpan" id="kobo.899.1">genuine concert.</span></span></p>
<p><span class="koboSpan" id="kobo.900.1">To achieve this objective, we need to first initialize a Particle System in </span><span class="No-Break"><span class="koboSpan" id="kobo.901.1">our scene.</span></span></p>
<h2 id="_idParaDest-145"><span class="koboSpan" id="kobo.902.1">Initializing a Particle System in your VR drum scene</span></h2>
<p><span class="koboSpan" id="kobo.903.1">Follow these </span><a id="_idIndexMarker619"/><span class="koboSpan" id="kobo.904.1">steps to establish a Particle</span><a id="_idIndexMarker620"/><span class="koboSpan" id="kobo.905.1"> System in your VR </span><span class="No-Break"><span class="koboSpan" id="kobo.906.1">drum scene:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.907.1">In your Unity scene, </span><em class="italic"><span class="koboSpan" id="kobo.908.1">right-click</span></em><span class="koboSpan" id="kobo.909.1"> on the </span><strong class="bold"><span class="koboSpan" id="kobo.910.1">Hierarchy</span></strong><span class="koboSpan" id="kobo.911.1"> window, navigate to </span><strong class="bold"><span class="koboSpan" id="kobo.912.1">Effects</span></strong><span class="koboSpan" id="kobo.913.1">, and select </span><strong class="bold"><span class="koboSpan" id="kobo.914.1">Particle System</span></strong><span class="koboSpan" id="kobo.915.1">. </span><span class="koboSpan" id="kobo.915.2">This will instantiate a new Particle System within </span><span class="No-Break"><span class="koboSpan" id="kobo.916.1">your scene.</span></span></li>
<li><span class="koboSpan" id="kobo.917.1">The existing Particle System employs Unity’s standard particle material, which isn’t ideal for creating fog. </span><span class="koboSpan" id="kobo.917.2">However, we can easily customize our own material for the Particle System. </span><span class="koboSpan" id="kobo.917.3">Go to the </span><strong class="bold"><span class="koboSpan" id="kobo.918.1">Project</span></strong><span class="koboSpan" id="kobo.919.1"> window, </span><em class="italic"><span class="koboSpan" id="kobo.920.1">right-click</span></em><span class="koboSpan" id="kobo.921.1">, and select </span><strong class="bold"><span class="koboSpan" id="kobo.922.1">Create</span></strong><span class="koboSpan" id="kobo.923.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.924.1">Folder</span></strong><span class="koboSpan" id="kobo.925.1">. </span><span class="koboSpan" id="kobo.925.2">Name this new </span><span class="No-Break"><span class="koboSpan" id="kobo.926.1">folder </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.927.1">Fog</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.928.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.929.1">Download a transparent image of a cloud or fog. </span><span class="koboSpan" id="kobo.929.2">We will use a cloud image, which is available for download at this link: </span><a href="https://pixlok.com/images/clouds-png-image-free-download/"><span class="koboSpan" id="kobo.930.1">https://pixlok.com/images/clouds-png-image-free-download/</span></a><span class="koboSpan" id="kobo.931.1">. </span><span class="koboSpan" id="kobo.931.2">You can also access it through the GitHub folder for this chapter. </span><span class="koboSpan" id="kobo.931.3">Drag and drop this image into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.932.1">Fog</span></strong><span class="koboSpan" id="kobo.933.1"> folder you </span><span class="No-Break"><span class="koboSpan" id="kobo.934.1">just created.</span></span></li>
<li><span class="koboSpan" id="kobo.935.1">Within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.936.1">Fog</span></strong><span class="koboSpan" id="kobo.937.1"> folder, generate a new material by </span><em class="italic"><span class="koboSpan" id="kobo.938.1">right-clicking</span></em><span class="koboSpan" id="kobo.939.1"> and then selecting </span><strong class="bold"><span class="koboSpan" id="kobo.940.1">Create</span></strong><span class="koboSpan" id="kobo.941.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.942.1">Material</span></strong><span class="koboSpan" id="kobo.943.1">. </span><span class="koboSpan" id="kobo.943.2">Name this new material </span><strong class="source-inline"><span class="koboSpan" id="kobo.944.1">Fog</span></strong><span class="koboSpan" id="kobo.945.1">. </span><span class="koboSpan" id="kobo.945.2">Now, drag and drop the previously downloaded image from your local filesystem into the base map of the material. </span><span class="koboSpan" id="kobo.945.3">Next, modify the </span><strong class="bold"><span class="koboSpan" id="kobo.946.1">Shader </span></strong><span class="koboSpan" id="kobo.947.1">field</span><strong class="bold"> </strong><span class="koboSpan" id="kobo.948.1">of the material to </span><strong class="bold"><span class="koboSpan" id="kobo.949.1">Mobile/Particles/Alpha Blended</span></strong><span class="koboSpan" id="kobo.950.1"> in the </span><strong class="bold"><span class="koboSpan" id="kobo.951.1">Inspector</span></strong><span class="koboSpan" id="kobo.952.1"> window. </span><span class="koboSpan" id="kobo.952.2">This setting allows the particles to overlap with each other and blend seamlessly, creating a more realistic </span><span class="No-Break"><span class="koboSpan" id="kobo.953.1">fog effect.</span></span></li>
<li><span class="koboSpan" id="kobo.954.1">Select the</span><a id="_idIndexMarker621"/><span class="koboSpan" id="kobo.955.1"> Particle System, and drag</span><a id="_idIndexMarker622"/><span class="koboSpan" id="kobo.956.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.957.1">Fog</span></strong><span class="koboSpan" id="kobo.958.1"> material into its </span><strong class="bold"><span class="koboSpan" id="kobo.959.1">Inspector</span></strong><span class="koboSpan" id="kobo.960.1"> window. </span><span class="koboSpan" id="kobo.960.2">This will automatically update the material. </span><span class="koboSpan" id="kobo.960.3">As a result, your scene should now resemble the scene shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.961.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.962.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.963.1">.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer094">
<span class="koboSpan" id="kobo.964.1"><img alt="Figure 7.6 – ﻿How your current Unity scene and the Inspector window of the Particle System should look with the newly added fog" src="image/B20869_07_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.965.1">Figure 7.6 – How your current Unity scene and the Inspector window of the Particle System should look with the newly added fog</span></p>
<p><span class="koboSpan" id="kobo.966.1">After successfully</span><a id="_idIndexMarker623"/><span class="koboSpan" id="kobo.967.1"> adding the Particle System to </span><a id="_idIndexMarker624"/><span class="koboSpan" id="kobo.968.1">our VR drum scene, let’s modify its properties a bit to achieve a more dynamic behavior for the fog, which is dependent on the collision velocity of the drums and drumsticks in the </span><span class="No-Break"><span class="koboSpan" id="kobo.969.1">next section.</span></span></p>
<h2 id="_idParaDest-146"><span class="koboSpan" id="kobo.970.1">Modifying the properties of the Particle System in your VR drum scene</span></h2>
<p><span class="koboSpan" id="kobo.971.1">Let’s explore the </span><a id="_idIndexMarker625"/><span class="koboSpan" id="kobo.972.1">properties of the Particle System in the </span><strong class="bold"><span class="koboSpan" id="kobo.973.1">Inspector</span></strong><span class="koboSpan" id="kobo.974.1"> window by expanding it. </span><span class="koboSpan" id="kobo.974.2">There are a few critical properties that you need to modify to make the fog on your VR drum scene behave naturally. </span><span class="koboSpan" id="kobo.974.3">The modified properties can be observed in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.975.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.976.1">.7</span></em><span class="koboSpan" id="kobo.977.1">. </span></p>
<div>
<div class="IMG---Figure" id="_idContainer095">
<span class="koboSpan" id="kobo.978.1"><img alt="Figure 7.7 – ﻿The expanded Particle System in its modified form in the Inspector window" src="image/B20869_07_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.979.1">Figure 7.7 – The expanded Particle System in its modified form in the Inspector window</span></p>
<p><span class="koboSpan" id="kobo.980.1">These</span><a id="_idIndexMarker626"/><span class="koboSpan" id="kobo.981.1"> properties are explained in the following list </span><span class="No-Break"><span class="koboSpan" id="kobo.982.1">in detail:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.983.1">Duration</span></strong><span class="koboSpan" id="kobo.984.1">: This determines how long the Particle System will emit each particle. </span><span class="koboSpan" id="kobo.984.2">If the </span><strong class="bold"><span class="koboSpan" id="kobo.985.1">Looping</span></strong><span class="koboSpan" id="kobo.986.1"> option is enabled, the system will reset and commence a new cycle after the designated duration is completed. </span><span class="koboSpan" id="kobo.986.2">In our case, we will choose a duration of </span><strong class="source-inline"><span class="koboSpan" id="kobo.987.1">5</span></strong><span class="koboSpan" id="kobo.988.1"> seconds to make the scene </span><span class="No-Break"><span class="koboSpan" id="kobo.989.1">more dynamic.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.990.1">Looping</span></strong><span class="koboSpan" id="kobo.991.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.992.1">Play On Awake</span></strong><span class="koboSpan" id="kobo.993.1">: </span><strong class="bold"><span class="koboSpan" id="kobo.994.1">Looping</span></strong><span class="koboSpan" id="kobo.995.1"> refers to the continuous replay of the particle sequence, while </span><strong class="bold"><span class="koboSpan" id="kobo.996.1">Play On Awake</span></strong><span class="koboSpan" id="kobo.997.1"> ensures the Particle System starts playing as soon as its object is activated. </span><span class="koboSpan" id="kobo.997.2">Both options can be disabled in our case, since we’ll be triggering particle emissions via the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.998.1">PlaySoundOnCollision</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.999.1"> script.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1000.1">Start Delay</span></strong><span class="koboSpan" id="kobo.1001.1">: This introduces a delay before the Particle System begins to emit particles. </span><span class="koboSpan" id="kobo.1001.2">In our case, we want the particle emission to start immediately upon drum impact, so we will set this value </span><span class="No-Break"><span class="koboSpan" id="kobo.1002.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1003.1">0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1004.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1005.1">Start Lifetime</span></strong><span class="koboSpan" id="kobo.1006.1">: This dictates the initial life span of each particle, measured in seconds. </span><span class="koboSpan" id="kobo.1006.2">For our purpose, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1007.1">5</span></strong><span class="koboSpan" id="kobo.1008.1">-second life span should </span><span class="No-Break"><span class="koboSpan" id="kobo.1009.1">be sufficient.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1010.1">Start Speed</span></strong><span class="koboSpan" id="kobo.1011.1">: This sets the initial speed of each particle along the direction of emission. </span><span class="koboSpan" id="kobo.1011.2">To add a touch of realism, we want to introduce a variation in the speed of the particles. </span><span class="koboSpan" id="kobo.1011.3">By clicking on the arrow symbol and selecting </span><strong class="bold"><span class="koboSpan" id="kobo.1012.1">Random between Two Constants</span></strong><span class="koboSpan" id="kobo.1013.1">, we can set the range between </span><strong class="source-inline"><span class="koboSpan" id="kobo.1014.1">0</span></strong><span class="koboSpan" id="kobo.1015.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1016.1">2</span></strong><span class="koboSpan" id="kobo.1017.1">. </span><span class="koboSpan" id="kobo.1017.2">This randomizes the speed of each particle within these limits, creating a more naturalistic fog effect. </span><strong class="bold"><span class="koboSpan" id="kobo.1018.1">Curve</span></strong><span class="koboSpan" id="kobo.1019.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1020.1">Random between Two Curves</span></strong><span class="koboSpan" id="kobo.1021.1"> are two alternative options that you could also choose. </span><span class="koboSpan" id="kobo.1021.2">They provide even more nuanced control over speed variation, allowing you to define how the values change over time and within </span><span class="No-Break"><span class="koboSpan" id="kobo.1022.1">specific ranges.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1023.1">3D Start Size</span></strong><span class="koboSpan" id="kobo.1024.1">: This </span><a id="_idIndexMarker627"/><span class="koboSpan" id="kobo.1025.1">adjusts the initial size of each particle. </span><span class="koboSpan" id="kobo.1025.2">To ensure the fog particles are discernible, we will increase their size. </span><span class="koboSpan" id="kobo.1025.3">Enable the checkbox and set the values to (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1026.1">2</span></strong><span class="koboSpan" id="kobo.1027.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.1028.1">2</span></strong><span class="koboSpan" id="kobo.1029.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.1030.1">2</span></strong><span class="koboSpan" id="kobo.1031.1">) to double the size in </span><span class="No-Break"><span class="koboSpan" id="kobo.1032.1">all dimensions.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1033.1">Start Color</span></strong><span class="koboSpan" id="kobo.1034.1">: This determines the initial color of each particle. </span><span class="koboSpan" id="kobo.1034.2">To enhance the visual appeal and make our fog effect more dynamic, we’ll introduce some color variations. </span><span class="koboSpan" id="kobo.1034.3">Click on the arrow symbol next to </span><strong class="bold"><span class="koboSpan" id="kobo.1035.1">Start Color</span></strong><span class="koboSpan" id="kobo.1036.1"> and select the </span><strong class="bold"><span class="koboSpan" id="kobo.1037.1">Random between Two Gradients</span></strong><span class="koboSpan" id="kobo.1038.1"> option. </span><span class="koboSpan" id="kobo.1038.2">This option allows us to define two color gradients, with the color of each individual particle being randomly assigned a value somewhere within these two gradients. </span><span class="koboSpan" id="kobo.1038.3">After switching the option to </span><strong class="bold"><span class="koboSpan" id="kobo.1039.1">Random between Two Gradients</span></strong><span class="koboSpan" id="kobo.1040.1">, two color gradient preview fields appear. </span><span class="koboSpan" id="kobo.1040.2">To customize the color gradients, you can click on these fields to open the </span><strong class="bold"><span class="koboSpan" id="kobo.1041.1">Gradient Editor</span></strong><span class="koboSpan" id="kobo.1042.1"> window. </span><span class="koboSpan" id="kobo.1042.2">In the </span><strong class="bold"><span class="koboSpan" id="kobo.1043.1">Gradient Editor</span></strong><span class="koboSpan" id="kobo.1044.1"> window, you can add, remove, or rearrange color markers to achieve the color gradient you desire. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1045.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1046.1">.8</span></em><span class="koboSpan" id="kobo.1047.1"> provides a visual guide on how to modify a </span><span class="No-Break"><span class="koboSpan" id="kobo.1048.1">color gradient.</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer096">
<span class="koboSpan" id="kobo.1049.1"><img alt="Figure 7.8 – ﻿How to modify the Gradient Editor of the start color" src="image/B20869_07_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1050.1">Figure 7.8 – How to modify the Gradient Editor of the start color</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.1051.1">Initially, you </span><a id="_idIndexMarker628"/><span class="koboSpan" id="kobo.1052.1">can set </span><strong class="bold"><span class="koboSpan" id="kobo.1053.1">Mode</span></strong><span class="koboSpan" id="kobo.1054.1"> to either </span><strong class="bold"><span class="koboSpan" id="kobo.1055.1">Blend</span></strong><span class="koboSpan" id="kobo.1056.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.1057.1">Fixed</span></strong><span class="koboSpan" id="kobo.1058.1">. </span><span class="koboSpan" id="kobo.1058.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.1059.1">Fixed</span></strong><span class="koboSpan" id="kobo.1060.1"> mode presents a solid color, whereas the </span><strong class="bold"><span class="koboSpan" id="kobo.1061.1">Blend</span></strong><span class="koboSpan" id="kobo.1062.1"> mode enables smooth transitions between colors. </span><span class="koboSpan" id="kobo.1062.2">You can then add multiple keyframes by simply </span><em class="italic"><span class="koboSpan" id="kobo.1063.1">left-clicking</span></em><span class="koboSpan" id="kobo.1064.1"> either above or below the color space. </span><span class="koboSpan" id="kobo.1064.2">The upper keyframes establish the alpha values, dictating the transparency, while the lower keyframes determine the </span><span class="No-Break"><span class="koboSpan" id="kobo.1065.1">colors themselves.</span></span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.1066.1">At the bottom of the window, you’ll see two existing gradient presets, with a third, labeled </span><strong class="bold"><span class="koboSpan" id="kobo.1067.1">New</span></strong><span class="koboSpan" id="kobo.1068.1">, that corresponds to the gradient we’re currently editing. </span><span class="koboSpan" id="kobo.1068.2">Create two gradient presets as per your preference, and assign them to the start color. </span><span class="koboSpan" id="kobo.1068.3">In our case, we will choose to use the two pre-existing presets that we had (the white and rainbow gradients). </span><span class="koboSpan" id="kobo.1068.4">At runtime, this configuration will yield a captivatingly vibrant and dynamic color spectrum in our fog effect, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1069.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1070.1">.9</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1071.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer097">
<span class="koboSpan" id="kobo.1072.1"><img alt="Figure 7.9 – ﻿The visual appearance of the fog when choosing two pre-existing presets for the start color" src="image/B20869_07_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1073.1">Figure 7.9 – The visual appearance of the fog when choosing two pre-existing presets for the start color</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.1074.1">Gravity Modifier</span></strong><span class="koboSpan" id="kobo.1075.1">: This </span><a id="_idIndexMarker629"/><span class="koboSpan" id="kobo.1076.1">parameter determines the degree to which each particle is affected by gravity. </span><span class="koboSpan" id="kobo.1076.2">For our purposes, we don’t want gravity to have an impact, so we will set this </span><span class="No-Break"><span class="koboSpan" id="kobo.1077.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1078.1">0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1079.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1080.1">Simulation Speed</span></strong><span class="koboSpan" id="kobo.1081.1">: This is a multiplier for the Particle System simulation speed. </span><span class="koboSpan" id="kobo.1081.2">To slow down our fog’s movement, we can lower it to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1082.1">0.4</span></strong><span class="koboSpan" id="kobo.1083.1">. </span><span class="koboSpan" id="kobo.1083.2">If the simulation speed is adjusted to a value lower than </span><strong class="source-inline"><span class="koboSpan" id="kobo.1084.1">0.4</span></strong><span class="koboSpan" id="kobo.1085.1">, the fog’s movement will be even slower, creating a more languid appearance, whereas a value higher than </span><strong class="source-inline"><span class="koboSpan" id="kobo.1086.1">0.4</span></strong><span class="koboSpan" id="kobo.1087.1"> will make the fog move more rapidly, giving it a </span><span class="No-Break"><span class="koboSpan" id="kobo.1088.1">brisker motion.</span></span></li>
<li><span class="koboSpan" id="kobo.1089.1">Expand the </span><strong class="bold"><span class="koboSpan" id="kobo.1090.1">Emission</span></strong><span class="koboSpan" id="kobo.1091.1"> module, and adjust </span><strong class="bold"><span class="koboSpan" id="kobo.1092.1">Rate over Time</span></strong><span class="koboSpan" id="kobo.1093.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1094.1">13</span></strong><span class="koboSpan" id="kobo.1095.1">. </span><strong class="bold"><span class="koboSpan" id="kobo.1096.1">Rate over Time</span></strong><span class="koboSpan" id="kobo.1097.1"> determines the number of particles emitted per second, and in this context, a value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1098.1">13</span></strong><span class="koboSpan" id="kobo.1099.1"> is chosen as the ideal rate to achieve the desired particle density and appearance for our purpose. </span><span class="koboSpan" id="kobo.1099.2">By keeping </span><strong class="bold"><span class="koboSpan" id="kobo.1100.1">Rate over Distance</span></strong><span class="koboSpan" id="kobo.1101.1"> at </span><strong class="source-inline"><span class="koboSpan" id="kobo.1102.1">0</span></strong><span class="koboSpan" id="kobo.1103.1">, we ensure that particles are emitted based on time alone, not movement, giving us precise control over the number of particles </span><span class="No-Break"><span class="koboSpan" id="kobo.1104.1">being emitted.</span></span></li>
<li><span class="koboSpan" id="kobo.1105.1">Further down, expand the </span><strong class="bold"><span class="koboSpan" id="kobo.1106.1">Shape</span></strong><span class="koboSpan" id="kobo.1107.1"> module to modify the shape and direction of the particles being emitted. </span><span class="koboSpan" id="kobo.1107.2">To achieve a fog effect, we need a </span><strong class="bold"><span class="koboSpan" id="kobo.1108.1">Box</span></strong><span class="koboSpan" id="kobo.1109.1"> shape. </span><span class="koboSpan" id="kobo.1109.2">We can scale this shape to (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1110.1">3</span></strong><span class="koboSpan" id="kobo.1111.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.1112.1">3</span></strong><span class="koboSpan" id="kobo.1113.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.1114.1">1</span></strong><span class="koboSpan" id="kobo.1115.1">) to create a larger fog effect. </span><span class="koboSpan" id="kobo.1115.2">Due to the Particle System’s -90-degree rotation on the </span><em class="italic"><span class="koboSpan" id="kobo.1116.1">X</span></em><span class="koboSpan" id="kobo.1117.1"> axis, the </span><em class="italic"><span class="koboSpan" id="kobo.1118.1">Z</span></em><span class="koboSpan" id="kobo.1119.1"> axis now points in the </span><em class="italic"><span class="koboSpan" id="kobo.1120.1">Y</span></em><span class="koboSpan" id="kobo.1121.1"> direction and doesn’t need to </span><span class="No-Break"><span class="koboSpan" id="kobo.1122.1">be scaled.</span></span></li>
<li><span class="koboSpan" id="kobo.1123.1">Enable the </span><strong class="bold"><span class="koboSpan" id="kobo.1124.1">Color over Lifetime</span></strong><span class="koboSpan" id="kobo.1125.1"> module, which we learned about in the theoretical section, and set one </span><strong class="bold"><span class="koboSpan" id="kobo.1126.1">Alpha</span></strong><span class="koboSpan" id="kobo.1127.1"> keyframe in the middle of the color gradient with a low </span><strong class="bold"><span class="koboSpan" id="kobo.1128.1">Alpha</span></strong><span class="koboSpan" id="kobo.1129.1"> value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1130.1">30</span></strong><span class="koboSpan" id="kobo.1131.1">. </span><span class="koboSpan" id="kobo.1131.2">This will gradually fade the particles, adding to the realistic fog effect. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1132.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1133.1">.10</span></em><span class="koboSpan" id="kobo.1134.1"> provides you with a comparison of how the fog looks with and without the </span><strong class="bold"><span class="koboSpan" id="kobo.1135.1">Color over Lifetime</span></strong><span class="koboSpan" id="kobo.1136.1"> module enabled, and with</span><a id="_idIndexMarker630"/><span class="koboSpan" id="kobo.1137.1"> a low </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1138.1">Alpha</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1139.1"> setting.</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer098">
<span class="koboSpan" id="kobo.1140.1"><img alt="Figure 7.10 – ﻿Comparing the visual appearance of the fog with or without the Color over Lifetime module enabled" src="image/B20869_07_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1141.1">Figure 7.10 – Comparing the visual appearance of the fog with or without the Color over Lifetime module enabled</span></p>
<p><span class="koboSpan" id="kobo.1142.1">While the Particle System provides a plethora of parameters to play around with, the ones we’ve discussed are the most crucial to creating a realistic fog effect. </span><span class="koboSpan" id="kobo.1142.2">If you’re interested in diving deeper into Particle Systems, Unity offers a short, free course that we highly </span><span class="No-Break"><span class="koboSpan" id="kobo.1143.1">recommend: </span></span><a href="https://learn.unity.com/tutorial/introduction-to-particle-systems#"><span class="No-Break"><span class="koboSpan" id="kobo.1144.1">https://learn.unity.com/tutorial/introduction-to-particle-systems#</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1145.1">.</span></span></p>
<h2 id="_idParaDest-147"><span class="koboSpan" id="kobo.1146.1">Scripting fog appearance on collision for your VR drum scene</span></h2>
<p><span class="koboSpan" id="kobo.1147.1">After setting</span><a id="_idIndexMarker631"/><span class="koboSpan" id="kobo.1148.1"> up the particle system, we need to go back to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1149.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.1150.1"> script and make a </span><span class="No-Break"><span class="koboSpan" id="kobo.1151.1">few adjustments.</span></span></p>
<p><span class="koboSpan" id="kobo.1152.1">Firstly, we need to create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1153.1">public</span></strong><span class="koboSpan" id="kobo.1154.1"> variable that can reference the Particle System we want the particles to emit from. </span><span class="koboSpan" id="kobo.1154.2">The code for this is </span><span class="No-Break"><span class="koboSpan" id="kobo.1155.1">relatively simple:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1156.1">
public ParticleSystem fogParticleSystem;</span></pre>
<p><span class="koboSpan" id="kobo.1157.1">Then, whenever the drum gets struck, we should call a method that enables the emission of particles from the Particle System. </span><span class="koboSpan" id="kobo.1157.2">We base the number of emitted particles on the speed of the drumstick’s impact. </span><span class="koboSpan" id="kobo.1157.3">Since we already have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1158.1">OnTriggerEnter()</span></strong><span class="koboSpan" id="kobo.1159.1"> method that adjusts the sound volume based on the velocity of the drumstick, we can simply apply the same logic to the particle system. </span><span class="koboSpan" id="kobo.1159.2">To do this, we add three lines of code to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1160.1">if</span></strong><span class="koboSpan" id="kobo.1161.1"> statement in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1162.1">OnTriggerEnter()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1163.1"> method:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1164.1">
if (velEstimator &amp;&amp; enableVelocity)
{
    float velocityMagnitude = velEstimator.GetVelocityEstimate().magnitude;
    float soundVolume = Mathf.InverseLerp(minimumVelocity, maximumVelocity, velocityMagnitude);
    _soundSource.PlayOneShot(soundClip, soundVolume);
    // Convert the velocity to an integer representing the number of particles
    int numParticles = Mathf.RoundToInt(velocityMagnitude * 10f);
    // Create an EmitParams instance
    ParticleSystem.EmitParams emitParams = new ParticleSystem.EmitParams();
    // Emit the particles
    fogParticleSystem.Emit(emitParams, numParticles);
}
else
{
    _soundSource.PlayOneShot(soundClip);
}</span></pre>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.1165.1">fogParticleSystem</span></strong><span class="koboSpan" id="kobo.1166.1"> is a reference to the Particle System GameObject we set up previously, which will be assigned through the </span><strong class="bold"><span class="koboSpan" id="kobo.1167.1">Inspector</span></strong><span class="koboSpan" id="kobo.1168.1"> window in the Unity Editor. </span><span class="koboSpan" id="kobo.1168.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1169.1">int numParticles = Mathf.RoundToInt(velocityMagnitude * 10f);</span></strong><span class="koboSpan" id="kobo.1170.1"> line translates the velocity’s magnitude into a corresponding number of particles, multiplying it by </span><strong class="source-inline"><span class="koboSpan" id="kobo.1171.1">10</span></strong><span class="koboSpan" id="kobo.1172.1"> – an arbitrary factor that can be adjusted for your specific needs. </span><span class="koboSpan" id="kobo.1172.2">The number is rounded to the nearest integer, as the particle emission method requires an </span><span class="No-Break"><span class="koboSpan" id="kobo.1173.1">integer input.</span></span></p>
<p><span class="koboSpan" id="kobo.1174.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1175.1">ParticleSystem.EmitParams emitParams = new ParticleSystem.EmitParams();</span></strong><span class="koboSpan" id="kobo.1176.1"> line initializes an instance of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1177.1">EmitParams</span></strong><span class="koboSpan" id="kobo.1178.1">. </span><span class="koboSpan" id="kobo.1178.2">This struct can be used to change specific parameters of the Particle System when particles are emitted via scripting. </span><span class="koboSpan" id="kobo.1178.3">In our case, we will use the default settings of the created </span><a id="_idIndexMarker632"/><span class="No-Break"><span class="koboSpan" id="kobo.1179.1">Particle System.</span></span></p>
<p><span class="koboSpan" id="kobo.1180.1">Finally, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1181.1">fogParticleSystem.Emit(emitParams, numParticles);</span></strong><span class="koboSpan" id="kobo.1182.1"> calls the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1183.1">Emit()</span></strong><span class="koboSpan" id="kobo.1184.1"> method to instantly emit a defined number of particles. </span><span class="koboSpan" id="kobo.1184.2">It uses the previously created </span><strong class="source-inline"><span class="koboSpan" id="kobo.1185.1">EmitParams</span></strong><span class="koboSpan" id="kobo.1186.1"> instance and the calculated number of particles derived from the </span><span class="No-Break"><span class="koboSpan" id="kobo.1187.1">object’s velocity.</span></span></p>
<p><span class="koboSpan" id="kobo.1188.1">With these adjustments, the desired functionality is added. </span><span class="koboSpan" id="kobo.1188.2">Back in the Unity Editor, simply drag and drop the Particle System into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1189.1">fogParticleSystem</span></strong><span class="koboSpan" id="kobo.1190.1"> field in your </span><strong class="source-inline"><span class="koboSpan" id="kobo.1191.1">PlaySoundOnCollision</span></strong><span class="koboSpan" id="kobo.1192.1"> script component of your drums via the </span><strong class="bold"><span class="koboSpan" id="kobo.1193.1">Inspector</span></strong><span class="koboSpan" id="kobo.1194.1"> window. </span><span class="koboSpan" id="kobo.1194.2">Once done, run your scene, and test the implementation while wearing your VR headset. </span><span class="koboSpan" id="kobo.1194.3">Note how the more frequently the drums are hit, the more the fog saturates the scene, and </span><span class="No-Break"><span class="koboSpan" id="kobo.1195.1">vice versa.</span></span></p>
<p><span class="koboSpan" id="kobo.1196.1">Congratulations! </span><span class="koboSpan" id="kobo.1196.2">You now know how to fully replicate the euphoric sensation of being at a concert featuring a </span><span class="No-Break"><span class="koboSpan" id="kobo.1197.1">real-life drummer!</span></span></p>
<h1 id="_idParaDest-148"><span class="koboSpan" id="kobo.1198.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1199.1">In this chapter, we embarked on a fascinating journey through the world of sound and particles, understanding their physical properties and delving into the implementation of these real-world phenomena in Unity scenes for heightened immersive experiences </span><span class="No-Break"><span class="koboSpan" id="kobo.1200.1">in XR.</span></span></p>
<p><span class="koboSpan" id="kobo.1201.1">Upon reaching the end of this chapter, you should now be capable of not only constructing end-to-end XR applications with intricate interactions or animations but also feel comfortable enhancing these creations, by effectively using Unity’s audio and Particle Systems to introduce an additional layer of realism to your </span><span class="No-Break"><span class="koboSpan" id="kobo.1202.1">XR scenes.</span></span></p>
<p><span class="koboSpan" id="kobo.1203.1">The XR development concepts we’ve covered so far in this book have largely been aimed at those at the beginner to intermediate levels. </span><span class="koboSpan" id="kobo.1203.2">However, as we move forward, we have something truly unique and enriching in store for you. </span><span class="koboSpan" id="kobo.1203.3">The following chapter will further elevate your XR development skills by introducing you to some of the most significant and advanced techniques in this field, such as hand-tracking, eye- and head-tracking, and multiplayer functionalities. </span><span class="koboSpan" id="kobo.1203.4">This crucial knowledge will refine your skillset, transforming you into a more versatile XR developer and enabling you to create an even broader array of sophisticated </span><span class="No-Break"><span class="koboSpan" id="kobo.1204.1">XR applications.</span></span></p>
</div>


<div class="Content" id="_idContainer100">
<h1 id="_idParaDest-149" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1.1">Part 3 – Advanced XR Techniques: Hand-Tracking, Gaze-Tracking, and Multiplayer Capabilities</span></h1>
<p><span class="koboSpan" id="kobo.2.1">Congratulations on completing your journey from being a beginner in XR development and Unity to becoming highly proficient in creating various XR technologies with sophisticated logic! </span><span class="koboSpan" id="kobo.2.2">In this final part of our book, we aim to further enhance your skills to become an intermediate-level XR developer. </span><span class="koboSpan" id="kobo.2.3">We will introduce you to advanced XR techniques that are not only cutting-edge in the XR application landscape but will also elevate your XR scenes to a new level of intuitiveness </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">and enjoyment.</span></span></p>
<p><span class="koboSpan" id="kobo.4.1">This section will also introduce you to the different phases and aspects of the XR development life cycle. </span><span class="koboSpan" id="kobo.4.2">It will provide you with a precise, research-based overview of the current state of the art and future trends in XR development. </span><span class="koboSpan" id="kobo.4.3">By delving into additional XR toolkits and plugins beyond those covered earlier in this book, we will prepare you with the knowledge needed to dive deeper into your preferred area of XR development once you’ve completed </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">this book.</span></span></p>
<p><span class="koboSpan" id="kobo.6.1">This part contains the </span><span class="No-Break"><span class="koboSpan" id="kobo.7.1">following chapters:</span></span></p>
<ul>
<li><a href="B20869_08.xhtml#_idTextAnchor026"><em class="italic"><span class="koboSpan" id="kobo.8.1">Chapter 8</span></em></a><span class="koboSpan" id="kobo.9.1">, </span><em class="italic"><span class="koboSpan" id="kobo.10.1">Building Advanced XR Techniques</span></em></li>
<li><a href="B20869_09.xhtml#_idTextAnchor028"><em class="italic"><span class="koboSpan" id="kobo.11.1">Chapter 9</span></em></a><span class="koboSpan" id="kobo.12.1">, </span><em class="italic"><span class="koboSpan" id="kobo.13.1">Best Practices and Future Trends in XR Development</span></em></li>
</ul>
</div>
<div>
<div id="_idContainer101">
</div>
</div>
<div>
<div id="_idContainer102">
</div>
</div>
<div>
<div id="_idContainer103">
</div>
</div>
<div>
<div id="_idContainer104">
</div>
</div>
<div>
<div id="_idContainer105">
</div>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer106">
</div>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer107">
</div>
</div>
<div>
<div id="_idContainer108">
</div>
</div>
<div>
<div id="_idContainer109">
</div>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer110">
</div>
</div>
</body></html>