- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: The simplification of code is every developer’s dream. Minimal APIs are a new
    feature in .NET 6 that aims to simplify code. They are used for building APIs
    with minimal dependencies in ASP.NET Core. Minimal APIs simplify API development
    through the use of more compact code syntax.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 代码的简化是每位开发者的梦想。最小化API是.NET 6中的一个新特性，旨在简化代码。它们用于在ASP.NET Core中构建具有最小依赖关系的API。最小化API通过使用更紧凑的代码语法来简化API开发。
- en: Developers using minimal APIs will be able to take advantage of this syntax
    on some occasions to work more quickly with less code and fewer files to maintain.
    Here, you will be introduced to the main new features of .NET 6 and understand
    the basic themes of minimal APIs, which weren’t available in .NET 5 and previous
    versions. You’ll see how to enable Swagger for API documentation, along with CORS,
    and how to handle application errors. You will learn to structure your code better
    with Microsoft’s new .NET framework called Dependency Injection. Finally, you
    will see the performance and benchmarking improvements in .NET 6 that are introduced
    with minimal APIs.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 使用最小化API的开发者将能够在某些情况下利用这种语法，以更少的代码和更少的文件维护来更快地工作。在这里，您将了解.NET 6的主要新特性，并理解最小化API的基本主题，这些在.NET
    5和先前版本中是不可用的。您将了解如何启用Swagger进行API文档，以及如何处理CORS和应用程序错误。您将学习如何使用微软的新.NET框架——依赖注入来更好地组织代码。最后，您将看到最小化API在.NET
    6中引入的性能和基准测试改进。
- en: By the end of this book, you will be able to leverage minimal APIs and understand
    in what way they are related to the classic development of web APIs.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书结束时，您将能够利用最小化API，并理解它们与经典Web API开发的相关性。
- en: Who this book is for
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书面向对象
- en: This book is for .NET developers who want to build .NET and .NET Core APIs and
    want to study the new features of .NET 6\. Basic knowledge of C#, .NET, Visual
    Studio, and REST APIs is assumed.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向希望构建.NET和.NET Core API并希望研究.NET 6新特性的.NET开发者。假设您对C#、.NET、Visual Studio和REST
    API有基本了解。
- en: What this book covers
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[*Chapter 1*](B17902_01.xhtml#_idTextAnchor014), *Introduction to Minimal APIs*,
    introduces you to the motivations behind introducing minimal APIs within .NET
    6\. We will explain the main new features of .NET 6 and the work that the .NET
    team is doing with this latest version. You will come to understand the reasons
    why we decided to write the book.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第一章*](B17902_01.xhtml#_idTextAnchor014)，*最小化API简介*，向您介绍在.NET 6中引入最小化API的动机。我们将解释.NET
    6的主要新特性以及.NET团队正在进行的这项最新版本的工作。您将了解我们决定编写本书的原因。'
- en: '[*Chapter 2*](B17902_02.xhtml#_idTextAnchor023), *Exploring Minimal APIs and
    Their Advantages*, introduces you to the basic ways in which minimal APIs differ
    from .NET 5 and all previous versions. We will explore in detail routing and serialization
    with System.Text.JSON. Finally, we will end with some concepts related to writing
    our first REST API.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第二章*](B17902_02.xhtml#_idTextAnchor023)，*探索最小化API及其优势*，向您介绍最小化API与.NET 5及所有先前版本的基本区别方式。我们将详细探讨使用System.Text.JSON进行路由和序列化。最后，我们将讨论一些与编写第一个REST
    API相关的概念。'
- en: '[*Chapter 3*](B17902_03.xhtml#_idTextAnchor038), *Working with Minimal APIs*,
    introduces you to the advanced ways in which minimal APIs differ from .NET 5 and
    all previous versions. We will explore in detail how to enable Swagger for API
    documentation. We will see how to enable CORS and how to handle application errors.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第三章*](B17902_03.xhtml#_idTextAnchor038)，*使用最小化API*，向您介绍最小化API与.NET 5及所有先前版本的高级区别方式。我们将详细探讨如何启用Swagger进行API文档。我们将看到如何启用CORS以及如何处理应用程序错误。'
- en: '[*Chapter 4*](B17902_04.xhtml#_idTextAnchor061), *Dependency Injection in a
    Minimal API Project*, introduces you to Dependency Injection and goes over how
    to use it with a minimal API.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第四章*](B17902_04.xhtml#_idTextAnchor061)，*在最小化API项目中使用依赖注入*，向您介绍依赖注入，并介绍如何与最小化API一起使用它。'
- en: '[*Chapter 5*](B17902_05.xhtml#_idTextAnchor068), *Using Logging to Identify
    Errors*, teaches you about the logging tools that .NET provides. A logger is one
    of the tools that developers have to use to debug an application or understand
    its failure in production. The logging library has been built into ASP.NET with
    several features enabled by design.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第五章*](B17902_05.xhtml#_idTextAnchor068)，*使用日志记录来识别错误*，向您介绍.NET提供的日志工具。记录器是开发者用来调试应用程序或理解其生产中失败原因的工具之一。日志库已经内置到ASP.NET中，并启用了设计中的几个功能。'
- en: '[*Chapter 6*](B17902_06.xhtml#_idTextAnchor082), *Exploring Validation and
    Mapping*, will teach you how to validate incoming data to an API and how to return
    any errors or messages. Once the data is validated, it can be mapped to a model
    that will then be used to process the request.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第6章*](B17902_06.xhtml#_idTextAnchor082)，*探索验证和映射*，将教会您如何验证API接收到的数据，以及如何返回任何错误或消息。一旦数据得到验证，它就可以映射到一个模型，然后用于处理请求。'
- en: '[*Chapter 7*](B17902_07.xhtml#_idTextAnchor094), *Integration with the Data
    Access Layer*, helps you understand the best practices for accessing and using
    data in minimal APIs.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第7章*](B17902_07.xhtml#_idTextAnchor094)，*与数据访问层的集成*，帮助您了解在最小API中访问和使用数据的最佳实践。'
- en: '[*Chapter 8*](B17902_08.xhtml#_idTextAnchor109), *Adding Authentication and
    Authorization*, looks at how to write an authentication and authorization system
    by leveraging our own database or a cloud service such as Azure Active Directory.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第8章*](B17902_08.xhtml#_idTextAnchor109)，*添加身份验证和授权*，探讨了如何通过利用我们自己的数据库或像Azure
    Active Directory这样的云服务来编写身份验证和授权系统。'
- en: '[*Chapter 9*](B17902_09.xhtml#_idTextAnchor125), *Leveraging Globalization
    and Localization*, shows you how to leverage the translation system in a minimal
    API project and provide errors in the same language of the client.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第9章*](B17902_09.xhtml#_idTextAnchor125)，*利用全球化和本地化*，展示了如何在最小API项目中利用翻译系统，并以客户端相同的语言提供错误。'
- en: '[*Chapter 10*](B17902_10.xhtml#_idTextAnchor140), *Evaluating and Benchmarking
    the Performance of Minimal APIs*, shows the improvements in .NET 6 and those that
    will be introduced with the minimal APIs.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第10章*](B17902_10.xhtml#_idTextAnchor140)，*评估和基准测试最小API的性能*，展示了.NET 6的改进以及将随着最小API引入的特性。'
- en: To get the most out of this book
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了充分利用本书
- en: You will need Visual Studio 2022 with ASP.NET and a web development workload
    or Visual Studio Code and K6 installed on your computer.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要在计算机上安装Visual Studio 2022和ASP.NET以及Web开发工作负载，或者安装Visual Studio Code和K6。
- en: All code examples have been tested using Visual Studio 2022 and Visual Studio
    Code on the Windows OS.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 所有代码示例都已使用Windows操作系统上的Visual Studio 2022和Visual Studio Code进行测试。
- en: '![](img/B17902_Preface_Table1.jpg)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B17902_Preface_Table1.jpg)'
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code from the book’s GitHub repository (a link
    is available in the next section). Doing so will help you avoid any potential
    errors related to the copying and pasting of code.**'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您使用的是本书的数字版，我们建议您亲自输入代码或从书的GitHub仓库（下一节中有一个链接）获取代码。这样做将帮助您避免与代码复制粘贴相关的任何潜在错误。**'
- en: Basic development skills for Microsoft web technology are required to fully
    understand this book.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 要完全理解本书，需要具备Microsoft网络技术的基本开发技能。
- en: Download the example code files
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Minimal-APIs-in-ASP.NET-Core-6](https://github.com/PacktPublishing/Minimal-APIs-in-ASP.NET-Core-6).
    If there’s an update to the code, it will be updated in the GitHub repository.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从GitHub下载本书的示例代码文件：[https://github.com/PacktPublishing/Minimal-APIs-in-ASP.NET-Core-6](https://github.com/PacktPublishing/Minimal-APIs-in-ASP.NET-Core-6)。如果代码有更新，它将在GitHub仓库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)的丰富图书和视频目录中也有其他代码包可供选择。查看它们吧！
- en: Download the color images
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: We also provide a PDF file that has color images of the screenshots and diagrams
    used in this book.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一份PDF文件，其中包含本书中使用的截图和图表的彩色图像。
- en: 'You can download it here: [https://packt.link/GmUNL](https://packt.link/GmUNL)'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在此处下载：[https://packt.link/GmUNL](https://packt.link/GmUNL)
- en: Conventions used
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用了多种文本约定。
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: “In minimal APIs, we define the route patterns using
    the `Map*` methods of the `WebApplication` object.”'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter昵称。以下是一个示例：“在最小API中，我们使用`WebApplication`对象的`Map*`方法定义路由模式。”'
- en: 'A block of code is set as follows:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块中特定部分的注意时，相关的行或项目将以粗体显示：
- en: '[PRE1]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都应如下编写：
- en: '[PRE2]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For instance, words in menus or dialog boxes appear in **bold**. Here is an example:
    “Open Visual Studio 2022 and from the main screen, click on **Create a new project**.”'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要词汇或您在屏幕上看到的词汇。例如，菜单或对话框中的词汇以**粗体**显示。以下是一个示例：“打开Visual Studio
    2022，从主屏幕点击**创建新项目**。”'
- en: Tips or important notes
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士或重要注意事项
- en: Appear like this.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来像这样。
- en: Get in touch
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](mailto:customercare@packtpub.com) and
    mention the book title in the subject of your message.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：如果您对本书的任何方面有疑问，请通过电子邮件发送至[customercare@packtpub.com](mailto:customercare@packtpub.com)，并在邮件主题中提及书名。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    and fill in the form.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在本书中发现错误，我们将非常感激您向我们报告。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com)
    with a link to the material.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果您在互联网上发现我们作品的任何非法副本，我们将非常感激您提供位置地址或网站名称。请通过[copyright@packt.com](mailto:copyright@packt.com)与我们联系，并提供材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您想成为一名作者**：如果您在某个领域有专业知识，并且对撰写或为本书做出贡献感兴趣，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share Your Thoughts
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享您的想法
- en: Once you’ve read *Mastering Minimal APIs in ASP.NET Core*, we’d love to hear
    your thoughts! Please [click here to go straight to the Amazon review page](https://packt.link/r/1803237821)
    for this book and share your feedback.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您阅读了《精通ASP.NET Core中的最小API》，我们非常乐意听到您的想法！请[点击此处直接访问此书的亚马逊评论页面](https://packt.link/r/1803237821)并分享您的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 您的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。
- en: Preface
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 前言
- en: Preface
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 前言
- en: 'Part 1: Introduction'
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一部分：简介
- en: In the first part of the book, we want to introduce you to the context of the
    book. We will explain the basics of minimal APIs and how they work. We want to
    add, brick by brick, the knowledge needed to take advantage of all the power that
    minimal APIs can grant us.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的第一部分，我们希望向您介绍本书的背景。我们将解释最小API的基础知识以及它们是如何工作的。我们希望一块一块地添加所需的知识，以便充分利用最小API所能赋予我们的所有功能。
- en: 'We will cover the following chapters in this part:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在本部分将涵盖以下章节：
- en: '[*Chapter 1*](B17902_01.xhtml#_idTextAnchor014), *Introduction to Minimal APIs*'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第1章*](B17902_01.xhtml#_idTextAnchor014)，*最小API简介*'
- en: '[*Chapter 2*](B17902_02.xhtml#_idTextAnchor023), *Exploring Minimal APIs and
    Their Advantages*'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第2章*](B17902_02.xhtml#_idTextAnchor023)，*探索最小API及其优势*'
- en: '[*Chapter 3*](B17902_03.xhtml#_idTextAnchor038), *Working with Minimal APIs*'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第3章*](B17902_03.xhtml#_idTextAnchor038)，*使用最小API*'
