<html><head></head><body>
        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Planning the Game</h1>
                
            
            <article>
                
<p class="calibre3">In the previous chapter, you were given a good overview and historical background of RPG, and hopefully, it also sparked your imagination. In this chapter, we will start to lay the groundwork for our own RPG. We will start by defining the story of our game, as well as the plot and the quests that will make the game playable. We'll look at the assets that will be required to create our environment, characters, and finally, we'll design the levels.</p>
<p class="calibre3">The following is a breakdown of the topics we will be covering in this chapter:</p>
<ul class="calibre11">
<li class="calibre12">Building our RPG</li>
<li class="calibre12">The story of the Zazar dynasty</li>
<li class="calibre12">Asset inventory</li>
<li class="calibre12">Level design</li>
<li class="calibre12">The awakening</li>
<li class="calibre12">Testing the level</li>
<li class="calibre12">Creating the main menu</li>
</ul>
<p class="calibre3">Awaken your creativity and let your imagination go wild!</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Building our RPG</h1>
                
            
            <article>
                
<p class="calibre3">As discussed, building a role-playing game is no small task, but once you start down the path, you will come to the realization that it is not as difficult as it seems initially. The idea is to get started, and as you put your ideas down on paper and start the design process, more and more ideas will come into perspective.</p>
<p class="calibre3">As we have learned, there are some key elements that we will need to establish for our RPG. Let's recall them, and maybe even fine-tune them as we go along.</p>
<p class="calibre3">Our game's key elements are as follows:</p>
<ul class="calibre11">
<li class="calibre12">Story and setting</li>
<li class="calibre12">Exploration and quest</li>
<li class="calibre12">Items and inventory</li>
<li class="calibre12">Character action and abilities</li>
<li class="calibre12">Experience and levels</li>
<li class="calibre12">Combat system</li>
<li class="calibre12">User interface</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The story of the Zazar dynasty</h1>
                
            
            <article>
                
<p class="calibre3">The premise of most role-playing games tasks the player with saving the world. There are often twists and turns as the story progresses, such as the surprise appearance of an estranged relative, or enemies who become friends and vice versa. We will create our story and game based on such a story.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Backstory</h1>
                
            
            <article>
                
<p class="calibre3">Once upon a time, there was a great kingdom, ruled by the great King Zazar. The ruler of the kingdom was a generous lord to his subjects. The kingdom under the rule of Zazar was peaceful and prosperous; however, over time, internal family rivalries and struggles caused cracks in the strong bond that kept the kingdom intact.</p>
<p class="calibre3">Due to mysterious events, the great king decided to move his family away from the kingdom and trust his son<span class="calibre6">—who will become the player character—</span>with one of the wise elders that he trusted. The kingdom was never the same... Until now!</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Exploration and quests</h1>
                
            
            <article>
                
<p class="calibre3">Now that we have defined the setting for our game, we can start working on developing the story further and breaking it down into different levels. To keep things simple, we will concentrate on basic quests and level design; the important point is to understand the concepts and apply them to your own story.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Awakening</h1>
                
            
            <article>
                
<p class="calibre3">The game will start by immersing the player in the environment, where our hero has been raised and trained by the elder, who was entrusted by the great King Zazar.</p>
<p class="calibre3">The main objectives of this level will be for the player to engage with the environment and learn how to interact with their surroundings, as follows:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">Objective(s)</strong>:
<ul class="calibre32">
<li class="calibre12">Introduce the player to the user interface</li>
<li class="calibre12">Move the character</li>
<li class="calibre12">Interact with non-player characters</li>
<li class="calibre12">Interact with the environment</li>
</ul>
</li>
<li class="calibre12"><strong class="calibre1">Outcome</strong>:
<ul class="calibre32">
<li class="calibre12">Player gets points for completing in-game tasks</li>
<li class="calibre12">Player gets his first weapon</li>
<li class="calibre12">Player learns how to interact with the surrounding world</li>
</ul>
</li>
<li class="calibre12"><strong class="calibre1">General sketch</strong>:</li>
</ul>
<div class="mce-root1"><img src="../images/00016.jpeg" class="calibre33"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The village</h1>
                
            
            <article>
                
<p class="calibre3">Our hero starts his journey of self-fulfillment. He will be traveling in the outskirts of the kingdom and arriving at one of the villages that has been terrorized by the thugs and mercenaries hired by the evil overlord, Shaquil.</p>
<p class="calibre3">Our hero, himself unaware of who he is and why he is on this journey, will find out about the austerity that has been going on since the departure of his father. This will mostly <span class="calibre6">be </span>accomplished through interaction with the village peasants.</p>
<p class="calibre3">The primary objective of this level will be for the player to learn social skills, engage with the villagers, and create relationships.</p>
<p class="calibre3">Rumour has it that there are spies in the village, and that everyone is suspicious of each other, and the unity that once was the strength of the village is crumbling. Our character's objectives are now as follows:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">Objective</strong>(<strong class="calibre1">s</strong>):
<ul class="calibre32">
<li class="calibre12">Interact with the village peasants to acquire social skills</li>
<li class="calibre12">Create trust between the hero and the villagers</li>
<li class="calibre12">Seek out who the spy is among the villagers</li>
</ul>
</li>
<li class="calibre12"><strong class="calibre1">Outcome</strong>:
<ul class="calibre32">
<li class="calibre12">Improved social skills</li>
<li class="calibre12">Relationships that can be tapped into at a later point</li>
<li class="calibre12">Basic combat skills learned</li>
</ul>
</li>
<li class="calibre12"><strong class="calibre1">General sketch</strong>:</li>
</ul>
<div class="mce-root1"><img src="../images/00017.jpeg" class="calibre34"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Broken forest – the horizon</h1>
                
            
            <article>
                
<p class="calibre3">Our hero will be traveling along his quest into the horizon. The horizon is the initial exposure to the main kingdom's borders, where the main castle and inner city is within reach.</p>
<p class="calibre3">It is basically a vast, lush forest that protects the main domain of the kingdom from outside threats. It also has a few secrets and surprises for the uninitiated passerby. The forest is where the barbarians reside and cause havoc in the surrounding areas. What is not apparent at the time is the connection between the barbarians and the current overlord of the kingdom.</p>
<p class="calibre3">As far as the hero is concerned, he or she will need to be able to safely pass through the forest.</p>
<p class="calibre3">The horizon will have several unexpected surprises for the hero. The outcome of the quest will heavily rely on the way the player interacts with the surrounding environment, as well as with the non-player characters.</p>
<p class="calibre3">Now, our hero's objectives are as follows:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">Objective</strong>(<strong class="calibre1">s</strong>):
<ul class="calibre32">
<li class="calibre12">Pass through the forest without getting killed</li>
</ul>
</li>
<li class="calibre12"><strong class="calibre1">Outcome</strong>(<strong class="calibre1">s</strong>):
<ul class="calibre32">
<li class="calibre12">Hero can be captured by the barbarians</li>
<li class="calibre12">Hero could face other life-threatening scenarios and/or non-player characters</li>
<li class="calibre12">Hero successfully passes through the forest and is ready to take on the next challenge</li>
<li class="calibre12">Hero establishes new relationships to enhance his skills and abilities</li>
</ul>
</li>
<li class="calibre12"><strong class="calibre1">General sketch</strong>:</li>
</ul>
<div class="mce-root1"><img src="../images/00018.jpeg" class="calibre35"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The kingdom</h1>
                
            
            <article>
                
<p class="calibre3">The hero has progressed through the previous quests and is now ready to take down the evil overlord and retake what is inherently his. Our hero has progressed and acquired a vast amount of skills and abilities throughout the quests, and now he will undertake one of the most difficult and epic battles in the game.</p>
<p class="calibre3">Our hero is surprised by the <span class="calibre6">overlord's </span>vast army. He will need to figure out a way to pass through the city and into the main castle to defeat the enemy. His objectives are as follows:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">Objective</strong>(<strong class="calibre1">s</strong>):
<ul class="calibre32">
<li class="calibre12">Kill the overlord and retake his kingdom</li>
</ul>
</li>
<li class="calibre12"><strong class="calibre1">Outcome</strong>(<strong class="calibre1">s</strong>):
<ul class="calibre32">
<li class="calibre12">Call to action the relationships he has established over the gameplay</li>
<li class="calibre12">Use his negotiation skills and wisdom to trick more powerful enemies</li>
<li class="calibre12">Destroy the enemy</li>
</ul>
</li>
<li class="calibre12"><strong class="calibre1">General sketch</strong>:</li>
</ul>
<div class="mce-root1"><img src="../images/00019.jpeg" class="calibre36"/></div>
<p class="calibre3">Ah, the pure joy of defeating your nemesis and taking over your kingdom!</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Asset inventory</h1>
                
            
            <article>
                
<p class="calibre3">Now is a good time to discuss some of the basic assets that will be required for the development of our RPG. Our game assets are defined by the scenes we describe for our game. For our RPG, we have described four unique scenes. Each one has been described in enough detail for us to get an idea of the types of assets we will require.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Environment assets</h1>
                
            
            <article>
                
<p class="calibre3">The general theme of our game will be medieval. There are several ways to go about this. The first and preferred way is to either create the environment models by yourself or a with a teammate; the second is to find a freely available model that has been created by a third party; and the third is to purchase 3D models created by a third party.</p>
<p class="calibre3">The <strong class="calibre5">Asset Store</strong> is a great place for you to start hunting for great content if you do not have the ability to create your own 3D models. You can use the Asset Store to search for medieval-themed environments that can be used for the game.</p>
<p class="calibre3">One of my favorites is called <em class="calibre14"><span class="calibre6">Medieval Environment Pack</span></em>. You might want to consider searching for a few more that are to your liking and taste.</p>
<p class="calibre3">The following are some things to consider as part of your environment assets:</p>
<ul class="calibre11">
<li class="calibre12">Buildings</li>
<li class="calibre12">Props and add-ons:
<ul class="calibre32">
<li class="calibre12">Banners</li>
<li class="calibre12">Barrels</li>
<li class="calibre12">Windows</li>
<li class="calibre12">Boxes</li>
<li class="calibre12">Wagons</li>
</ul>
</li>
<li class="calibre12">Rocks / plants / trees</li>
<li class="calibre12">Particle assets:
<ul class="calibre32">
<li class="calibre12">Fire</li>
<li class="calibre12">Fog</li>
<li class="calibre12">Smoke</li>
<li class="calibre12">Water</li>
</ul>
</li>
<li class="calibre12">Skyboxes</li>
</ul>
<p class="calibre3">This list is just a starting point, but it is a starting point for your environment assets.</p>
<p class="calibre3">I am using the following environment assets as a demonstration for the book, but you are more than welcome to choose any other package you wish.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Medieval Environment Pack</h1>
                
            
            <article>
                
<p class="calibre3">This is a great package if you are serious about creating an RPG with good quality graphics. It is very extensive and ideal to meet your environmental needs for medieval or fantasy settings.</p>
<p class="calibre3">The package includes the following:</p>
<ul class="calibre11">
<li class="calibre12">70 modular buildings</li>
<li class="calibre12">180 add-ons – stalls, barrels, carts, and so on</li>
<li class="calibre12">25 rock formations</li>
<li class="calibre12">Particles</li>
<li class="calibre12">Textures</li>
</ul>
<p class="mce-root3">It is a bit pricey, but it is worth it if you lack the resources for a 3D modeler. The package is highly recommended. This is great if you are making a desktop or console RPG, but it is not suitable for mobile games.</p>
<p class="calibre3">Take a look at the following screenshot:</p>
<div class="mce-root1"><img src="../images/00020.jpeg" class="calibre37"/></div>
<div class="mce-root2">Medieval Environment asset</div>
<p class="calibre3"/>
<p class="calibre3"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Terrain Toolkit 2017</h1>
                
            
            <article>
                
<p class="calibre3">This toolkit is a great utility for terrain generation within Unity. It is from Unity Summer of Code 2009 and is made by Sándor Moldán. The toolkit has been upgraded to be usable in Unity 5.x and above. It is an enhancement to the original tool (V1.0.2). If you have been following along with the first edition of the book, you will also notice great enhancement in the actual user interface of the tool. The following screenshot shows the Terrain Toolkit asset:</p>
<div class="mce-root1"><img src="../images/00021.jpeg" class="calibre38"/></div>
<div class="mce-root2">Terrain Toolkit asset</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Nature Starter Kit 2</h1>
                
            
            <article>
                
<p class="calibre3">The Nature Starter Kit 2 is a great asset that contains trees and bushes compatible with the built-in tree generator. This enables you to generate all kinds of new variations of your own! The package contains the following:</p>
<ul class="calibre11">
<li class="calibre12">Six bushes</li>
<li class="calibre12">Four trees</li>
</ul>
<ul class="calibre11">
<li class="calibre12">Ground textures</li>
<li class="calibre12">Grass textures</li>
<li class="calibre12">Skybox</li>
</ul>
<p class="calibre3">The following screenshot gives you an idea of how the natural environment of your game will look if you use this asset:</p>
<div class="mce-root1"><img src="../images/00022.jpeg" class="calibre39"/></div>
<div class="mce-root2">Nature Starter Kit 2 asset</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Character assets</h1>
                
            
            <article>
                
<p class="calibre3">RPGs are heavily based on characters. Therefore, the next important game asset will be the characters themselves. The models that you need to define for your game are again heavily related to your storyline and setting. The Asset Store provides a wealth of character models that you can download and use as a proof of concept for your game.</p>
<p class="calibre3">For our game, the following are the characters that are required:</p>
<ul class="calibre11">
<li class="calibre12">Humans: These will represent the hero as well as the villagers and other non-player character types of human</li>
</ul>
<ul class="calibre11">
<li class="calibre12">Barbarians: These are some of the characters that the hero must confront during the gameplay</li>
<li class="calibre12">Orcs: These are animals in their own right</li>
</ul>
<p class="calibre3">You can either get the free models or the paid models to represent your characters. We will get more into the character assets in future chapters.</p>
<p class="calibre3">I have been working with a creator named Polygon for the specific models I will be using for the demonstration in the book. These are great characters to get you started. You can check them out in the <span class="calibre6">Asset Store</span>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Barbarians</h1>
                
            
            <article>
                
<p class="calibre3">The Barbarians package comes with 15 unique textures. Each model goes from 1,700 to 3,000 triangles (no gear to full gear), with over 20 animations. They are Mecanim-ready and include Face Rig. You can see some examples of barbarians in the following screenshot:</p>
<div class="mce-root1"><img src="../images/00023.jpeg" class="calibre40"/></div>
<div class="mce-root2">Barbarians asset</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Orcs</h1>
                
            
            <article>
                
<p class="calibre3">The Orcs package comes with unique models, accessories, armor, and weapons. Each model goes from 1,600 to 2,500 triangles (no gear to full gear) and includes 28 animations. It is also ready for Mecanim. Take a look at the following screenshot:</p>
<div class="mce-root1"><img src="../images/00024.jpeg" class="calibre41"/></div>
<div class="mce-root2">Orc assets</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Villagers</h1>
                
            
            <article>
                
<p class="calibre3">This package provides a crowd of medieval humans ready to use. Great for fillers and non-player characters. They can be used to integrate inside the story as the hero progresses. Their total poly-count goes from 1,500 to 2,000 (no gear to full gear), and they are fully rigged characters with 20 animations. See the following screenshot:</p>
<div class="mce-root1"><img src="../images/00025.jpeg" class="calibre42"/></div>
<div class="mce-root2">Villagers asset</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Free Assets</h1>
                
            
            <article>
                
<p class="calibre3">And finally, you have the ability to get a great amount of free assets from the Asset Store. Some of them are really of good quality. However, chances are that if you are looking for a specific asset type, you will need to spend a little bit of money:</p>
<div class="mce-root1"><img src="../images/00026.jpeg" class="calibre43"/></div>
<div class="mce-root2">Top free packages</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Level design</h1>
                
            
            <article>
                
<p class="calibre3">Now that we have our game story on paper and have an idea of what we want to achieve, it is time to apply our skills to actually making it happen.</p>
<div class="packt_infobox">Since this book targets an audience that is already familiar with the basics of Unity, we will not cover the fundamental aspects of the software.</div>
<p class="calibre3">To get started, we need to launch Unity. I am using the 64-bit edition of Unity 2017.x Pro. You do not need to have the Pro version of Unity to complete the project in this book. See the following screenshot:</p>
<div class="mce-root1"><img src="../images/00027.jpeg" class="calibre44"/></div>
<p class="calibre3">Go ahead and select a location and a name you desire for your project, and click the <span class="calibre6">Create project</span> button. At this point, Unity will create an empty project for you and display the Unity IDE. It should look something like the following:</p>
<div class="mce-root1"><img src="../images/00028.jpeg" class="calibre45"/></div>
<div class="mce-root2">New project</div>
<div class="packt_infobox">For better quality of images, download the graphics bundle from <a href="https://www.packtpub.com/sites/default/files/downloads/BuildinganRPGwithUnity2018_ColorImages.pdf" class="calibre46">https://www.packtpub.com/sites/default/files/downloads/BuildinganRPGwithUnity2018_ColorImages.pdf</a></div>
<p class="calibre3">Your view might be a bit different, depending on how you have configured your Unity layout. If this is the first time you have launched Unity, you will need to get up to speed with the basics, since we will not be covering them in this book.</p>
<div class="packt_infobox">Note: If you have not used Unity before, you should get familiar with the IDE before you continue reading.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Setting the stage</h1>
                
            
            <article>
                
<p class="calibre3">The first thing we would like to do is to create a landscape for our first level, which is called <em class="calibre14"><span class="calibre6">Awakening</span></em>.</p>
<p class="calibre3">Unity itself has some good tools for creating terrains, but truth be told, it is not a practical means of achieving nice, beautiful terrains for the game. For this purpose, we will use another set of tools, called Terrain Toolkit 2009, which was developed by <em class="calibre14">Sánder</em> as part of the <em class="calibre14">Unity Summer of Code 2009</em>.</p>
<div class="packt_infobox">The toolkit is available on the Asset Store:<br class="calibre47"/>
<a href="https://www.assetstore.unity3d.com/en/#!/content/83490" class="calibre46">https://www.assetstore.unity3d.com/en/#!/content/83490</a>.</div>
<p class="calibre3">I have also included the library as part of the download provided by this book, just in case the original link gets deprecated in the future.</p>
<p class="calibre3">Once you download the asset from the Asset Store, you will need to import it into the project. Simply click the <span class="calibre6">Import</span> button, if you have not done so already, to start importing the package:</p>
<div class="mce-root1"><img src="../images/00029.jpeg" class="calibre48"/></div>
<p class="calibre3"/>
<p class="calibre3">At this point, let's take a moment and go back into Unity and actually create a <kbd class="calibre13">Terrain</kbd> GameObject, and see the built-in tool for terrain modification. To create a terrain, you will need to select the following from the main menu: <span class="calibre6">GameObject </span>| <span class="calibre6">3D Object</span> | <span class="calibre6">Terrain</span>. This will create a default terrain in your scene, which should look something like the following:</p>
<div class="mce-root1"><img src="../images/00030.jpeg" class="calibre45"/></div>
<div class="mce-root2">Demo of terrain</div>
<p class="calibre3">When you select the <em class="calibre14"><span class="calibre6">Terrain GameObject</span></em> in the <span class="calibre6">Hierarchy</span> window, you will see the <em class="calibre14"><span class="calibre6">Inspector</span> </em>window displaying the properties and components that are accessible through the designer for the <em class="calibre14">Terrain GameObject</em>. As you can see, there are a lot of attributes that you can modify, and by doing so create a nice-looking terrain. When you start playing around with the terrain tool, you will soon realize that it is not practical for large terrain models, nor for natural-looking terrains.</p>
<p class="calibre3">To enhance our terrain generation, we will use the <strong class="calibre5">Terrain Toolkit 2017</strong>. You will need to import the package into the project if you have not already done so. If you have not already downloaded the package from the Asset Store, go ahead and download it, and then import it into the project.</p>
<p class="calibre3"/>
<div class="packt_infobox">Sometimes when you import older Unity assets, Unity will prompt you to automatically upgrade to the latest version. This is usually OK, so just accept it and let Unity do what it needs to do.</div>
<p class="calibre3">When Unity imports Terrain Toolkit 2017, you will notice a new folder under your <span class="calibre6">Project</span> window called <span class="calibre6">TerrainToolkit</span>. All the code will be listed under the folder if you want to make any modifications to it. There is also a <kbd class="calibre13">readme</kbd> file, which you can use to get started. See the following screenshot:</p>
<div class="mce-root1"><img src="../images/00031.jpeg" class="calibre49"/></div>
<p class="calibre3">You will also notice that a new <strong class="calibre5">Unity Editor</strong> feature has been added under the <span class="calibre6">Component Menu</span> called <span class="calibre6">Terrain </span>| <span class="calibre6">Terrain Toolkit</span>. All you need to do to apply the Terrain Toolkit to your existing terrain is to select that option, and it will automatically attach the correct component to the Terrain GameObject for you:</p>
<div class="mce-root1"><img src="../images/00032.jpeg" class="calibre50"/></div>
<p class="calibre3"/>
<p class="calibre3"/>
<p class="calibre3">If you have used the older version of the Terrain Toolkit, you will immediately see a great improvement on the user interface.</p>
<p class="calibre3">You will notice a few options that are now available to you through the Terrain Toolkit for the generation of more natural and realistic terrains. You should take the time to get familiar with each attribute and play around with the values, to get an idea of how they affect the terrain generation algorithm.</p>
<p class="calibre3">The new toolkit has predefined Terrain Models that you can use for a quick start. Here is a list of available models:</p>
<ul class="calibre11">
<li class="calibre12">Desert Mesa</li>
<li class="calibre12">Desert Sands</li>
<li class="calibre12">Sea Shore</li>
<li class="calibre12">Snowy Mounts</li>
<li class="calibre12">Pampa</li>
<li class="calibre12">Path of the Flesh</li>
</ul>
<p class="calibre3">I will let you play around with them and see the results for yourself. One hint would be to adjust your <kbd class="calibre13">Terrain</kbd> attributes a bit from the original values to get better visuals.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Terrain toolkit in a nutshell</h1>
                
            
            <article>
                
<p class="calibre3">There are a number of pre-defined generators in the toolkit for the creation of the terrain. They are <span class="calibre6">Voronoi</span>, <span class="calibre6">Fractal</span>, and <span class="calibre6">Perlin</span>. The following is a brief explanation of each:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">Voronoi</strong>: This creates an arbitrary tallness delineate of a progression of mountain-like pinnacles utilizing a Voronoi outline, and applies it to the territory protest</li>
<li class="calibre12"><strong class="calibre1">Fractal</strong>: This produces an arbitrary stature outline of the cloud or plasma fractal calculation, and applies it to the landscape protest</li>
<li class="calibre12"><strong class="calibre1">Perlin</strong>: This generates an irregular tallness delineate Perlin clamor, and applies it to the territory protest</li>
</ul>
<p class="calibre3">There are also two filter types that can be applied after the generation of the terrain. These are the <strong class="calibre5">Smooth</strong> and <strong class="calibre5">Normalize</strong> filters, as follows:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">Smooth</strong>: This is a channel which applies smoothing to the territory protest more than once finished various emphases.</li>
<li class="calibre12"><strong class="calibre1">Normalize</strong>: This is a channel which standardizes the territory protest by setting the most astounding point in the present landscape stature guide to the greatest, and the least point to the base. Every single other point is added between the most extreme and the least.</li>
</ul>
<p class="calibre3">The next step is to apply some erosion to the terrain. There are three built-in erosion types in the toolkit: <strong class="calibre5">Thermal Erosion</strong>, <strong class="calibre5">Hydraulic Erosion</strong>, and <strong class="calibre5">Tidal Erosion</strong>. You can apply these erosion types either by a brush or by the actual erosion filters:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">Thermal Erosion</strong>: This expels material from territories with a slant more noteworthy than the base slant, and stores it additionally down the incline. This tends to smooth and straighten slants in the landscape.</li>
<li class="calibre12"><strong class="calibre1">Hydraulic Erosion</strong>: This expels material from zones with an incline less than the most extreme slant and stores it additionally down the slant. This has a tendency to steepen slants in the territory and further smooth and straighten different zones.</li>
</ul>
<div class="packt_infobox">Note: There are three different Hydraulic Erosion types.</div>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">Tidal Erosion</strong>: This applies smoothing at the picked ocean level, with the exception of territories where the incline surpasses a given esteem. This reenacts the erosive activity of waves around a shoreline and makes shorelines.</li>
</ul>
<p class="calibre3">The final step is to apply texturing. This will give our terrain a more realistic look and feel at runtime. The toolkit provides procedural terrain texturing, which automatically textures the terrain object using the slope and altitude attributes of the terrain to determine which texture will be used.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The Awakening</h1>
                
            
            <article>
                
<p class="calibre3">The setting and the atmosphere of our first level will be in a secluded area within the forest. We will now generate our terrain using the Terrain Toolkit discussed in the previous section.</p>
<p class="calibre3">Let's create a new scene and call it <span class="calibre6">Awakening</span>. By default, the scene will just have a camera and a directional light GameObject defined.</p>
<div class="packt_infobox">You can save your scenes and assets within the <span class="packt_screen">Asset</span> folder without much thought. However, it is usually a good idea to have some file structure in place to make organization of your assets easier as well as finding them faster.</div>
<p class="calibre3">A preferred folder structure will include scenes, prefabs, textures, audio, and models. Within each folder, you can then create subfolders and so forth, for your own organizational purposes.</p>
<p class="calibre3">Now we are ready to add a Terrain GameObject to the scene. Go ahead and select <span class="calibre6">GameObject</span> | <span class="calibre6">3D Object</span> | <span class="calibre6">Terrain</span>. This will place a <span class="calibre6">Terrain GameObject</span> in the scene. Double-click on the <span class="calibre6">Terrain GameObject</span> in the <span class="calibre6">Hierarchy</span> window to make it center of the <span class="calibre6">Scene View</span>.</p>
<p class="calibre3">By default, the <kbd class="calibre13">Terrain</kbd> object will be very large, so let's go ahead and make some adjustments before we do anything else. The following screenshot shows how to access the settings:</p>
<div class="mce-root1"><img src="../images/00033.jpeg" class="calibre51"/></div>
<p class="calibre3">To make the adjustments to the terrain size, select the <span class="calibre6">Settings</span> icon, as indicated in the preceding screenshot. This will display the basic attributes of the terrain. As you can see, there are a bunch of properties that can be adjusted to make it behave to your liking. We are mostly concerned with the size of the terrain and also the maximum height that the terrain can rise to. Therefore, scroll down until you get to the <span class="calibre6">Resolution</span> section.</p>
<p class="calibre3">Change the <span class="calibre6">Terrain Width</span> and <span class="calibre6">Terrain Length</span> to <span class="calibre6">100</span>. Change the <span class="calibre6">Terrain Height</span> to <span class="calibre6">333</span>. This will change the dimension so that we can handle our scene easily. Our original terrain size was very large and it would have taken us a long time to design it.</p>
<p class="calibre3">Now we have a good size terrain. Assuming you have already imported the Terrain Toolkit, go ahead and select <span class="calibre6">Component </span>| <span class="calibre6">Terrain </span>| <span class="calibre6">Terrain Toolkit</span> from the main menu.</p>
<p class="calibre3">There are two ways we can approach this. Since the new toolkit has given us some prebuilt settings for terrain models, we can use that to quickly generate the random terrain, or we can use the default method of generating our own custom terrains.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Using the terrain model</h1>
                
            
            <article>
                
<p class="calibre3">Select the <span class="calibre6">Terrain GameObject</span> and, using the <span class="calibre6">Inspector</span> window, go to the <span class="calibre6">Terrain Toolkit</span> and select the <span class="calibre6">Terrain Models</span> tab, as shown in the following screenshot:</p>
<div class="mce-root1"><img src="../images/00034.jpeg" class="calibre52"/></div>
<p class="calibre3"/>
<p class="calibre3"/>
<p class="calibre3">As you can see, we have six pre-configured terrain models that we can use. Let's try out the <span class="calibre6">SNOWY MOUNTS</span> model. Go ahead and click on it, and Unity will start generating the model.</p>
<p class="calibre3">Here is what my terrain model looks like:</p>
<div class="mce-root1"><img src="../images/00035.jpeg" class="calibre53"/></div>
<p class="calibre3">It looks pretty cool. Now let's try creating a terrain using custom functions.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Using a custom toolkit</h1>
                
            
            <article>
                
<p class="calibre3">Using the toolkit to generate a random terrain, I have used the <span class="calibre6">Fractal</span> terrain generator function with a <span class="calibre6">Delta</span> of <kbd class="calibre13">0.4</kbd> and <span class="calibre6">Blend</span> of <kbd class="calibre13">0.445</kbd>. This will generate a nice-looking terrain with a good proportion of hills and valleys. Since the terrain is randomly generated, yours may not look exactly like mine, but it should look something similar to the following screenshot:</p>
<div class="mce-root1"><img src="../images/00036.jpeg" class="calibre54"/></div>
<p class="calibre3">I usually apply the <span class="calibre6">Smooth</span> filter after my terrain generation to make things look even nicer. </p>
<p class="calibre3"/>
<p class="calibre3">You will see the difference the filter makes once it has been applied. Let's go ahead and now apply some textures to make it nice. Selecting the <span class="calibre6">Texture</span> tab within the <span class="calibre6">Terrain Toolkit</span>, you will have several options. We would like to apply at least two textures to give our terrain a more realistic look. You can apply up to four textures if you choose to! Click the <span class="calibre6">Add Texture</span> button twice to create the texture placeholder.</p>
<div class="packt_infobox">Since I used the <span class="packt_screen">Terrain Mod</span><span class="packt_screen">el</span> to generate the original terrain and then applied the toolkit with the settings <span class="packt_screen">mentioned</span>, the default textures for the model are in place. You can update them as needed.</div>
<p class="calibre3">Take a look at the following screenshot:</p>
<div class="mce-root1"><img src="../images/00037.jpeg" class="calibre55"/></div>
<div class="packt_infobox">Textures are very important in graphics, and especially games. The better and higher resolution your textures, the better your scene will look. However, this is a catch-22. Usually, higher resolution textures take up more resources. So you have to find the right balance for your game.</div>
<p class="calibre3">Now is a good time to stop and discuss one of the main advantages of Unity: the <strong class="calibre5">Asset Store</strong>. The Asset Store is a great online community where Unity developers can either acquire assets to be used in their games or develop assets that will be used by other developers. You can get free assets from the Asset Store, or you can get better quality ones for a little bit of money.</p>
<p class="calibre3">For our game, I will be using some free assets and some paid assets. If you want to use the same assets that I am using in the book, you will need to purchase them.</p>
<p class="calibre3">Take a look at the following screenshot:</p>
<div class="mce-root1"><img src="../images/00038.jpeg" class="calibre45"/></div>
<div class="mce-root2">Sample of generated terrain</div>
<p class="calibre3">The next thing I like to do is locate a position on the terrain where I will create the scene objects necessary to play out the level. For this particular scene, I want to use an asset that represents an old cottage in the woods, where the hero will awaken at the beginning of the game. See the following screenshot:</p>
<div class="mce-root1"><img src="../images/00039.jpeg" class="calibre56"/></div>
<p class="calibre3">This is a model from Medieval Environment Pack. The model does not have any interior. This is OK, since I am not planning to have any gameplay inside the structure. It will be used as an eye-catching object in the scene and a point of reference.</p>
<p class="calibre3">You can use the <span class="calibre6">Terrain</span> tool to level the terrain before placing the object into the scene. If you notice, our terrain does not have any level areas where we can properly place the shack. <span class="calibre6">We will need to use the terrain object's terrain components to make some more changes, as shown in the following screenshot:</span></p>
<div class="mce-root1"><img src="../images/00040.jpeg" class="calibre57"/></div>
<p class="calibre3">Again, select the Terrain GameObject in the <em class="calibre14"><span class="calibre6">Hierarchy</span> </em>view and use the <em class="calibre14"><span class="calibre6">Inspector</span></em> window to select the <span class="calibre6">Paint Height</span> tab, shown as (1) in the preceding screenshot, to enable the feature.</p>
<p class="calibre3">This is a great feature to sample the terrain height at a particular point, and apply the same height using the brush to any other region. This will level the terrain to the same height that was sampled. It is a great way to quickly level a region and place your items, if those items need to be on level ground, like a house or a shelter.</p>
<p class="calibre3">The next step is to place some tree models on our terrain to create the forest look and feel. To achieve this, we will need to select the terrain object in the scene and use the <span class="calibre6">Inspector Window</span> to select the <span class="calibre6">Tree Placement</span> feature. You will then need to select the <span class="calibre6">Edit Trees...</span> button to add a tree model, as shown in the following screenshot:</p>
<div class="mce-root1"><img src="../images/00041.jpeg" class="calibre58"/></div>
<p class="calibre3">Using the <span class="calibre6">Inspector</span> window, you will need to select the <span class="calibre6">Tree Placement</span> tab, select the <span class="calibre6">Edit Tree... Add Tree</span> feature, locate a tree prefab and you are done!</p>
<p class="calibre3">Take a look at the settings and change the brush size to meet your needs. In my case, I have changed it to 40. I have left the rest of the attributes at the default value, but you can change them as needed.</p>
<p class="calibre3">Now, when you move your mouse in the <span class="calibre6">Scene</span> view, you will notice a brush like highlight. This is where the trees will be placed during design time.</p>
<p class="calibre3">The following screenshot displays how my scene looks after I have made some of the adjustments to the placement of my trees and the building:</p>
<div class="mce-root1"><img src="../images/00042.jpeg" class="calibre59"/></div>
<p class="calibre3">The next step of the process is to fill the level with other environmental assets, such as rocks, vegetation, and other props, to make the level come to life. The idea here is to make it interesting and at the same time functional. It is a good idea to have some sort of a sketch of your level design. This way you can have a good idea of how you will develop your level.</p>
<p class="calibre3">Keep in mind that this can also be used as a means of communication with your team, the level designers, and artists, providing them a direction. The following figure is a top-down view of our intended level design:</p>
<div class="mce-root1"><img src="../images/00043.jpeg" class="calibre60"/></div>
<div class="mce-root2">Graveyard</div>
<p class="calibre3">I will now build my level based on the layout I have. Now is the time to get creative and use your imagination to design your level. This part of the exercise is free-form; you are the designer, so you will decide how to go about placing and creating your level, as long as it meets the requirements.</p>
<p class="calibre3">Keep in mind the following important point: the player will be interacting with the environment or non-player characters at the designated points of interest. Make sure that when you design your level, they have an easy way to access the areas where they need to get to, so that they can perform the given task.</p>
<p class="calibre3">Take a look at the following screenshot:</p>
<div class="mce-root1"><img src="../images/00044.jpeg" class="calibre45"/></div>
<div class="mce-root2">Level design</div>
<p class="calibre3">One thing to note is the limitation of the terrain as we have it defined here. When the player goes to the edge of the terrain, they will fall through! Yes, they will have a free-fall forever! We don't want that to happen. We need to incorporate some boundaries in the level design that will prevent the player from going overboard, basically.</p>
<p class="calibre3">It is very simple to create some restrictions and boundaries in such cases. We can use wooden fences, or we can use the actual environment to restrict the level of access by the player to the danger zones in the level. This method can be very time consuming if your level is large.</p>
<p class="calibre3">Another way to solve this problem is to create four colliders that will be used on each side of the terrain. The colliders will be attached to an Empty GameObject, and they will stop the player from moving forward upon contact. This is an easy method, and will take less time to place in the scene.</p>
<p class="calibre3"/>
<p class="calibre3">Go ahead and create an Empty GameObject by choosing <span class="calibre6">GameObject</span> | <span class="calibre6">Create Empty</span>. Using the <span class="calibre6">Inspector</span> window, adjust the <em class="calibre14"><span class="calibre6">Transform</span></em> component to set the <em class="calibre14"><span class="calibre6">Position</span></em> to <kbd class="calibre13">&lt;100,50,100&gt;</kbd>. Next, we need to <em class="calibre14"><span class="calibre6">Add Component</span></em> to the newly created GameObject. Use the <span class="calibre6">Add Component</span> button to select <span class="calibre6">Physics</span> | <span class="calibre6">Box Collider</span>. This will add a box collider, and now we can change the <em class="calibre14"><span class="calibre6">Size</span></em> of the collider, using the <span class="calibre6">Inspector</span> window, to <kbd class="calibre13">&lt;200,50,1&gt;</kbd>.</p>
<p class="calibre3">Once you are satisfied with the look and feel, you will need to duplicate it and place it on all the side edges to protect the player from falling, as shown in the following screenshot:</p>
<div class="mce-root1"><img src="../images/00045.jpeg" class="calibre45"/></div>
<div class="mce-root2">Level design</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Skybox</h1>
                
            
            <article>
                
<p class="calibre3">Since we have our preliminary level design, we can go ahead and add another nice touch to it. Let's use a skybox to give a more realistic atmospheric look to the gameplay.</p>
<p class="calibre3">As always, you can use the Asset Store to search for existing skyboxes. Go ahead and search for one that you like and import it into your project.</p>
<p class="calibre3">In the <span class="calibre6">Hierarchy</span> window, select the <em class="calibre14"><span class="calibre6">Main Camera</span></em> and use the <span class="calibre6">Add Component</span> button to attach a Skybox component to the camera: <span class="calibre6">Rendering</span> | <span class="calibre6">Skybox</span>. Assign a skybox material to the <em class="calibre14"><span class="calibre6">Custom Skybox</span></em> property. Take a look at the following screenshot:</p>
<div class="mce-root1"><img src="../images/00046.jpeg" class="calibre45"/></div>
<div class="mce-root2">Adding Skybox</div>
<p class="calibre3">It is time to do a test run. We can use the third-person character controller provided in the Standard Assets to quickly drop our character placeholder and roam around the level to get a feel for it.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Testing the level</h1>
                
            
            <article>
                
<p class="calibre3">At some point, you will want to test out the level and look at it through the eyes of the camera. We can use the built-in third-person character controller that comes in the Standard Assets and do a quick walk-through of the level.</p>
<div class="packt_infobox">If you did not import the Standard Assets when you created the project, you will need to import them by selecting <span class="packt_screen">Assets</span> followed by <span class="packt_screen">Import Package</span>|<span class="packt_screen">Characters.</span></div>
<p class="calibre3">In your <span class="calibre6">Project</span> window, you will see a folder called <span class="calibre6">Standard Assets</span>; there is a subfolder called <span class="calibre6">Character Controllers</span>. You will need to select the <span class="calibre6">3rd Person Controller Prefab</span> and drop it somewhere on the current scene. A good location is next to the shack. Make sure that the <span class="calibre6">3<sup class="calibre61">rd</sup> Person Controller (3rdPC)</span> is above the terrain so it does not fall through!</p>
<p class="calibre3">You will have to attach a <span class="calibre6">Rigidbody</span> component to the <span class="calibre6">3rdPC</span> GameObject. This is needed to make sure that our <strong class="calibre5">player-character</strong> (<strong class="calibre5">PC</strong>) uses the built-in physics for collision detection.</p>
<p class="calibre3">Before you run the level, let's make sure the camera is following the character. Simply make the <span class="calibre6">Main Camera</span> a child to the <kbd class="calibre13">ThirdPersonController</kbd> and adjust the orientation of the camera to look something like the following:</p>
<div class="mce-root1"><img src="../images/00047.jpeg" class="calibre45"/></div>
<div class="mce-root2">Standard character controller</div>
<p class="calibre3">Go ahead and run the level and walk-through the scene. Test and make sure that the PC is behaving the way it is supposed to when you are navigating through the environment. Make sure that the character is respecting all the colliders and that there are no minor errors in the design part.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Creating the main menu</h1>
                
            
            <article>
                
<p class="calibre3">Now is a good time to create the starting point for our game. Go ahead and save the current scene. We will make a new scene that will be used as the starting point of our game. To create the new scene, you will need to select <span class="calibre6">File</span> | <span class="calibre6">New Scene</span>. Go ahead and save the scene. I called my scene <span class="calibre6">MainMenu</span>.</p>
<p class="calibre3">Now we have a clear canvas that we can work with to create our <span class="calibre6">Main Menu</span>. In the <span class="calibre6">Hierarchy</span> window, right-click and select <span class="calibre6">UI</span> | <span class="calibre6">Panel</span>. This will create a <span class="calibre6">Canvas</span> GameObject and an <span class="calibre6">EventSystem</span> GameObject, and place them in your <span class="calibre6">Hierarchy</span> window. You will notice that the <em class="calibre14"><span class="calibre6">Panel</span></em> UI Object is a child of the canvas. All UI elements will be a child of a canvas. <span class="calibre6">Your <span class="calibre6">Hierarchy</span> should look something like the following screenshot:</span></p>
<div class="mce-root1"><img src="../images/00048.gif" class="calibre62"/></div>
<p class="calibre3">There are several key aspects that we want to make sure are set properly. These are namely on the <span class="calibre6">Canvas</span> GameObject. Select the <span class="calibre6">Canvas</span> GameObject and look at the <span class="calibre6">Inspector Window</span>.</p>
<p class="calibre3">For this particular canvas, make sure that the <em class="calibre14"><span class="calibre6">Render Mode</span></em> is set to <em class="calibre14"><span class="calibre6">Screen Space - Overlay</span></em>. The next property you need to check is the <span class="calibre6">UI Scale Mode</span>. Change this to <em class="calibre14"><span class="calibre6">Scale With Screen Size</span></em>. This will make sure that the UI will always be scaled to the screen size of the device that the game is being run in.</p>
<div class="packt_infobox">For best results, you will want to create multiple menus, for different device types.</div>
<p class="calibre3">For now, let's go ahead and create a button that will basically load our<span class="calibre6"> </span><em class="calibre14">Awakening </em>level.</p>
<p class="calibre3">Right-click on the <span class="calibre6">Panel Object</span> in the <span class="calibre6">Hierarchy</span> window and select <span class="calibre6">UI</span> | <span class="calibre6">Button</span>. This will place a button on the canvas as a child to the <kbd class="calibre13">Panel</kbd> object. The parent-child relationships are important to consider when you are building your user interface. When you place a UI element as part of a child to another UI element, the child will be scaled and moved according to the parent's scale and location.</p>
<div class="mce-root1"><img src="../images/00049.jpeg" class="calibre63"/></div>
<p class="calibre3">You can learn more about UI development in <a target="_blank" href="part0109.html#37UDA0-7a1ef7ae3ef249cdb149f8344d2e8e79" class="calibre10">Chapter 5</a>, <em class="calibre14">Game Master and Game Mechanics,</em> of <em class="calibre14">Introduction to Game Programming: Using C# and Unity 3D</em>. Eventually, we would like to have a main menu that looks something like the preceding screenshot.</p>
<p class="calibre3">We will spend time fine-tuning our menu in future chapters. Change the caption of the button to <kbd class="calibre13">Start Game</kbd>. It is also a good idea to name your scene object appropriately, just to keep things nice and organized. I have changed the name of the button to <kbd class="calibre13">butStartGame</kbd>. This can be done by selecting the <kbd class="calibre13">Button</kbd> object in the <span class="calibre6">Hierarchy</span> window and changing the name in the <span class="calibre6">Inspector</span> window.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Creating the GameMaster script</h1>
                
            
            <article>
                
<p class="calibre3">As discussed in <a target="_blank" href="part0021.html#K0RQ0-7a1ef7ae3ef249cdb149f8344d2e8e79" class="calibre10"><span>Chapter 1</span></a>, <span class="calibre6"><em class="calibre14">What is an RPG?</em>, </span>we will need a way to manage our game. We will create a script called GameMaster. This will be the core of the game that glues everything together. As we progress with the book, you will see how we will modify the core to meet our needs.</p>
<p class="calibre3">For now, we are just going to create a simple C# script and name it <kbd class="calibre13">GameMaster.cs</kbd>. We will then create the code that will be used to handle some of the basic events we want to perform at this point, namely, navigating from scene to scene.</p>
<p class="calibre3">From your <span class="calibre6">Project Window</span>, under your <kbd class="calibre13">scripts</kbd> folder, right-click and select <span class="calibre6">Create</span> | <span class="calibre6">C# Script</span>. Name it <kbd class="calibre13">GameMaster.cs</kbd>. Double-click your script to start your code editor and place the following code in there:</p>
<pre class="calibre18">using UnityEngine; using UnityEngine.SceneManagement; namespace com.noorcon.rpg2e { 
   public class GameMaster : MonoBehaviour 
   { 
 
// Use this for initialization 
      void Start() 
      { 
 
      } 
 
      // Update is called once per frame 
      void Update() 
      { 
 
      } 
 
      public void StartGame() 
      { 
         // You should put in the name of the scene that represents your 
         // start level 
         SceneManager.LoadScene("Awakening"); 
      } 
   } 
} </pre>
<p class="calibre3">In the <span class="calibre6">Hierarchy</span> window, you will need to create an empty GameObject. The best way to do this is by right-clicking and selecting <kbd class="calibre13">Create Empty</kbd>. An empty GameObject will be created. Select it and change the name to <kbd class="calibre13">_GameMaster</kbd>.</p>
<p class="calibre3">We need to attach our script to the <kbd class="calibre13">_GameMaster</kbd> GameObject in our scene. Select the <kbd class="calibre13">GameMaster.cs</kbd> script and drag and drop it onto <kbd class="calibre13">_GameMaster</kbd>. This will attach the script to the <kbd class="calibre13">_GameMaster</kbd> object and make it available in the scene.</p>
<p class="calibre3">The next step is to create the event call from the button. This can easily be achieved by selecting the <kbd class="calibre13">butStartGame</kbd> button element, and from the <span class="calibre6">Inspector</span> window, adding a new event call on the <kbd class="calibre13">OnClick()</kbd> component. Click the <span class="calibre6">(<span class="calibre6">+</span>)</span> button to create a new event, as shown in the following screenshot:</p>
<div class="mce-root1"><img src="../images/00050.jpeg" class="calibre64"/></div>
<p class="calibre3">We need to call the function we created in the <kbd class="calibre13">GameMaster.cs</kbd> script. To do so, we would need to somehow refer to it. This is done really easily. We can drag and drop the <kbd class="calibre13">_GameMaster</kbd> GameObject into the slot, as indicated in the preceding screenshot by the number 2.</p>
<p class="calibre3">Once you place your <kbd class="calibre13">_GameMaster</kbd> GameObject in the slot, you will need to select the script from the drop-down menu, as indicated in the screenshot by the number 3.</p>
<p class="calibre3">That's all there is to it! We have now connected our button click event to the code that will be responsible for loading our first level.</p>
<p class="calibre3">Now is a good time to save your scene and test your application. When you run the application for the first time, you will get an error. Don't be surprised, we have not done anything wrong. But there is one more step that we need to do before we can actually run our game successfully.</p>
<p class="calibre3"/>
<p class="calibre3"/>
<p class="calibre3">In order to be able to load scenes in the game, you will need to make sure they are listed in <span class="calibre6">Build Settings</span>. To do so, select <span class="calibre6">File</span> | <span class="calibre6">Build Settings...</span>, and add the current scene to the list by selecting <span class="calibre6">Add Open Scenes</span>. Your build settings should look as follows:</p>
<div class="mce-root1"><img src="../images/00051.jpeg" class="calibre65"/></div>
<p class="calibre3">Load the <span class="calibre6">MainMenu</span> scene once more, and run the application. Nice! It is working as expected. The only other item I would like to add to this chapter before we move on, is the following code in the <kbd class="calibre13">GameMaster.cs</kbd> script:</p>
<pre class="calibre18">using UnityEngine; 
using UnityEngine.SceneManagement; 
 
namespace com.noorcon.rpg2e 
{ 
   public class GameMaster : MonoBehaviour 
   { 
 
      // Use this for initialization 
      void Start() 
      { 
         DontDestroyOnLoad(this); 
      } 
 
      // Update is called once per frame 
      void Update() 
      { 
 
      } 
 
      public void StartGame() 
      { 
         // You should put in the name of the scene that represents    <br class="title-page-name"/>            your 
         // start level 
         SceneManager.LoadScene("Awakening"); 
      } 
   } 
} </pre>
<p class="calibre3">The single line of code in the <kbd class="calibre13">Start()</kbd> function will make sure that the <kbd class="calibre13">_GameMaster</kbd> GameObject does not get destroyed when we move from one scene to the next. This is important, because we will be storing all of our game configuration, stats, and so on in this particular GameObject. When you run the game now from the <span class="calibre6">Main Menu</span> scene, you will notice that when you load level 1, the <kbd class="calibre13">_GameMaster</kbd> GameObject comes over automatically from the main menu. This is cool!</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Summary</h1>
                
            
            <article>
                
<p class="calibre3">In this chapter, we have established a good sense of the RPG. We have defined our levels and the settings for each level, and defined clear objectives for each level and the outcome for each level. We also took the first level, called Awakening, and created the environment. We looked at how to use our assets and the Asset Store to incorporate 3D models in our scene. We also looked at how to plan the layout of the level. We introduced a third-person character controller into the scene to help us visualize how the level looks from the player's perspective and help us fine-tune it as needed.</p>
<p class="calibre3">Here is a list of the assets<span class="calibre6"> </span>that were used for the design of this level:</p>
<ul class="calibre11">
<li class="calibre12">For the terrain, I used the Terrain Toolkit 2017 asset</li>
<li class="calibre12">For the models within the level, I used the Medieval Environment Pack asset</li>
</ul>
<p class="calibre3">By the end of the chapter, we also developed our <span class="calibre6">Main Menu</span> scene and our initial <kbd class="calibre13">GameMaster</kbd> script that will be used to glue the core of the game together. In the next chapter, we will start creating our player character and enhancing our <strong class="calibre5">Game Master</strong> and <strong class="calibre5">Main Menu</strong> system.</p>


            </article>

            
        </section>
    </body></html>