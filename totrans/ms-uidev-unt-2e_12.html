<html><head></head><body>
<div id="sbo-rt-content" class="calibre1"><div id="_idContainer282" class="calibre2">
<h1 class="chapter-number" id="_idParaDest-150"><a id="_idTextAnchor213" class="pcalibre pcalibre1 calibre6"/>9</h1>
<h1 id="_idParaDest-151" class="calibre5"><a id="_idTextAnchor214" class="pcalibre pcalibre1 calibre6"/>The UI Button Component</h1>
<p class="calibre3">Buttons provided by Unity’s UI system are graphical objects that preutilize the Event System we covered in the last chapter. When a Button is placed in a scene, it automatically has components added to it that allow the player to interact with it. This makes sense because the whole point of a Button is to interact with it. Let’s explore how to add and utilize buttons in <span>our games.</span></p>
<p class="calibre3">In this chapter, we will discuss the <span>following topics:</span></p>
<ul class="calibre16">
<li class="calibre14">Creating UI Buttons and setting <span>their properties</span></li>
<li class="calibre14">How to set button transitions that make the button change appearance when it is highlighted, pressed, <span>or disabled</span></li>
<li class="calibre14">How to use invisible button zones to allow large <span>tapping areas</span></li>
<li class="calibre14">Navigating button selection on screen with the keyboard <span>or joystick</span></li>
<li class="calibre14">How to create an onscreen button that looks like it is physically <span>being pressed</span></li>
<li class="calibre14">Loading scenes with a <span>button press</span></li>
<li class="calibre14">Creating Button <span>Transition Animations</span></li>
</ul>
<p class="callout-heading">Note</p>
<p class="callout">All the examples shown in the sections before the <em class="italic">Examples</em> section can be found within the Unity project provided in the code bundle. They can be found within the scene <span>labeled </span><span><strong class="source-inline1">Chapter9</strong></span><span>.</span></p>
<p class="callout">Each example image has a caption stating the example number within <span>the scene.</span></p>
<p class="callout">In the scene, each example is on its own Canvas, and some of the Canvases are deactivated. To view an example on a deactivated Canvas, simply select the checkbox next to the Canvas’ name in the Inspector. Each Canvas is also given its own Event System. This will cause errors if you have more than one Canvas activated at <span>a time.</span></p>
<h1 id="_idParaDest-152" class="calibre5"><a id="_idTextAnchor215" class="pcalibre pcalibre1 calibre6"/>Technical requirements</h1>
<p class="calibre3">You can find the relevant codes and asset files of this chapter <span>here: </span><a href="https://github.com/PacktPublishing/Mastering-UI-Development-with-Unity-2nd-Edition/tree/main/Chapter%2009" class="pcalibre pcalibre1 calibre6"><span>https://github.com/PacktPublishing/Mastering-UI-Development-with-Unity-2nd-Edition/tree/main/Chapter%2009</span></a></p>
<h1 id="_idParaDest-153" class="calibre5"><a id="_idTextAnchor216" class="pcalibre pcalibre1 calibre6"/>UI Button</h1>
<p class="calibre3">Buttons are UI objects that expect <a id="_idIndexMarker440" class="pcalibre pcalibre1 calibre6"/>a click from the player. You can create a Button by selecting <strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Button</strong>. When you make a button, a <strong class="source-inline">Button</strong> object with a <strong class="source-inline">Text</strong> child will be placed in the scene. As with all other UI objects, if no Canvas or Event System is in the scene when you create the <strong class="source-inline">Button</strong>, a <strong class="source-inline">Canvas</strong> and <strong class="source-inline">Event System</strong> will be created for you, with the <strong class="source-inline">Canvas</strong> being a parent of your <span>new </span><span><strong class="source-inline">Button</strong></span><span>:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer232">
<img alt="Figure 9.1: Adding a new UI Button to the scene" src="image/Figure_09.01_B18327.jpg" class="calibre229"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.1: Adding a new UI Button to the scene</p>
<p class="calibre3">You can delete the child <strong class="source-inline">Text</strong> object if you do not want to have text displaying on <span>your </span><span><strong class="source-inline">Button</strong></span><span>.</span></p>
<p class="calibre3">The Button object has three main components: <strong class="bold">Rect Transform</strong> (like all other UI graphical objects), an <strong class="bold">Image</strong> component, and a <span><strong class="bold">Button</strong></span><span> component:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer233">
<img alt="Figure 9.2: The components of a new UI Button" src="image/Figure_09.02_B18327.jpg" class="calibre230"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.2: The components of a new UI Button</p>
<p class="calibre3">We’ll discuss the <strong class="bold">Image</strong> component more thoroughly in the next chapter, but for now, just know that the <strong class="bold">Image</strong> component <a id="_idIndexMarker441" class="pcalibre pcalibre1 calibre6"/>determines the look of the Button in its <span>standard state.</span></p>
<h2 id="_idParaDest-154" class="calibre7"><a id="_idTextAnchor217" class="pcalibre pcalibre1 calibre6"/>The Button component</h2>
<p class="calibre3">The <strong class="bold">Button</strong> component provides all the<a id="_idIndexMarker442" class="pcalibre pcalibre1 calibre6"/> properties that allow the player to interact with the button and determine what the <strong class="source-inline">Button</strong> will do when the player attempts to interact <span>with it.</span></p>
<p class="calibre3">The first property of the <strong class="bold">Button</strong> component is the <strong class="bold">Interactable</strong> property. This property determines whether the Button can or cannot be interacted with by accepting input from the player. This is turned on by default but can be turned off if you want to disable <span>the button.</span></p>
<p class="calibre3">You’ll see that the <strong class="bold">Button</strong> component already has an <strong class="bold">On Click </strong>Event attached to it. The <strong class="bold">On Click </strong>Event triggers when the player clicks and releases the mouse while hovering over the button. If the player clicks on the <strong class="source-inline">Button</strong>, moves the mouse outside of the <strong class="source-inline">Button</strong>’s Rect Transform, and then releases the mouse, the <strong class="source-inline">Button</strong>’s <strong class="bold">On Click Event</strong> will not register. You set the <strong class="bold">On Click</strong> Event the same way we set Events in <a href="B18327_08.xhtml#_idTextAnchor147" class="pcalibre pcalibre1 calibre6"><span><em class="italic">Chapter 8</em></span></a><span>.</span><a id="_idTextAnchor218" class="pcalibre pcalibre1 calibre6"/></p>
<h2 id="_idParaDest-155" class="calibre7"><a id="_idTextAnchor219" class="pcalibre pcalibre1 calibre6"/>Transitions</h2>
<p class="calibre3">The second property of the <strong class="bold">Button</strong> component is the <strong class="bold">Transition</strong> property. The <strong class="bold">Transition</strong> property determines<a id="_idIndexMarker443" class="pcalibre pcalibre1 calibre6"/> the way the button will visually react when the button is in<a id="_idIndexMarker444" class="pcalibre pcalibre1 calibre6"/> different states. These different states are <em class="italic">not highlighted</em> (or normal), <em class="italic">highlighted</em>, <em class="italic">pressed</em>, <em class="italic">selected</em>, or <em class="italic">disabled</em>. These transitions are performed automatically and do not <span>require coding.</span></p>
<p class="calibre3">There are four different types of transitions you can assign: <strong class="bold">None</strong>, <strong class="bold">Color Tint</strong>, <strong class="bold">Sprite Swap</strong>, <span>and </span><span><strong class="bold">Animatio<a id="_idTextAnchor220" class="pcalibre pcalibre1 calibre6"/>n</strong></span><span>.</span></p>
<h3 class="calibre9">None</h3>
<p class="calibre3">Selecting <strong class="bold">None</strong> for the <strong class="bold">Transition</strong> type would<a id="_idIndexMarker445" class="pcalibre pcalibre1 calibre6"/> mean that the button will not visually change for the <span>different stat<a id="_idTextAnchor221" class="pcalibre pcalibre1 calibre6"/>es.</span></p>
<h3 class="calibre9">Color Tint</h3>
<p class="calibre3">The <strong class="bold">Color Tint</strong> transition type will <a id="_idIndexMarker446" class="pcalibre pcalibre1 calibre6"/>make the button change color based on its state. You assign <strong class="bold">Normal Color</strong>, <strong class="bold">Highlighted Color</strong>, <strong class="bold">Pressed Color</strong>, <strong class="bold">Selected Color</strong>, and <span><strong class="bold">Disabled Color</strong></span><span>.</span></p>
<p class="calibre3">In the following example, you can see that the button changes to green when the mouse is hovering over it (hence, highlighting it) and turns red as the mouse is being pressed down <span>on it:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer234">
<img alt="Figure 9.3: Color Swap Example in the Chapter9 scene" src="image/Figure_09.03_B18327.jpg" class="calibre231"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.3: Color Swap Example in the Chapter9 scene</p>
<p class="calibre3">If you view the preceding example, you’ll notice that the button turns yellow after it has been clicked. This is because it is <em class="italic">selected</em>. To return it to the normal color, click on any area outside of <span>the button.</span></p>
<p class="calibre3">For a Button to enter the state that will give it its <strong class="bold">Disabled Color</strong>, the Button’s <strong class="bold">Interactable</strong> property must be disabled. In the following screenshot, you will see how the button changes when the <strong class="bold">Interactable</strong> property is toggled on <span>and off:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer235">
<img alt="Figure 9.4: Disabled Button Example in the Chapter9 scene" src="image/Figure_09.04_B18327.jpg" class="calibre232"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.4: Disabled Button Example in the Chapter9 scene</p>
<p class="calibre3">You also can select the <strong class="bold">Target Graphic</strong>. This is the graphic that will receive the transitions. By default, it is assigned to the <strong class="source-inline">Button</strong> itself, so the Button’s image will change color when it is highlighted, pressed, or disabled. However, you can choose to make a secondary graphic the <strong class="bold">Target Graphic</strong>. This means the item assigned to the <strong class="bold">Target Graphic</strong> will change color <a id="_idIndexMarker447" class="pcalibre pcalibre1 calibre6"/>based on the interaction of the button. In the following example, a secondary image is assigned as the <strong class="bold">Target Graphic</strong>. You’ll see the button does not undergo transitions; instead, the star image <span>undergoes transitions:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer236">
<img alt="Figure 9.5: Target Graphic Example in the Chapter9 scene" src="image/Figure_09.05_B18327.jpg" class="calibre233"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.5: Target Graphic Example in the Chapter9 scene</p>
<p class="calibre3">It’s important to note that these colors will tint the <strong class="bold">Target Graphic</strong>’s image. So, it essentially puts a color overlay on top of the <strong class="bold">Target Graphic</strong>. If the image of the <strong class="bold">Target Graphic</strong> is black, these tints will not appear to have any effect on the image. Note that the default <strong class="bold">Normal Color</strong> is white. Putting a white tint on an image does not change the color of <span>the image.</span></p>
<p class="calibre3">The <strong class="bold">Color Multiplier</strong> property allows <a id="_idIndexMarker448" class="pcalibre pcalibre1 calibre6"/>you to brighten up the colors or increase the alpha of the graphic. So, if the graphic has an alpha value that is less than <strong class="source-inline">1</strong>, this property will increase the alpha of the graphic. This applies to all (including the <span>normal) states.</span></p>
<p class="calibre3">The <strong class="bold">Fade Duration</strong> property is the time (in seconds) it takes to fade between the <span>state colo<a id="_idTextAnchor222" class="pcalibre pcalibre1 calibre6"/>rs.</span></p>
<h3 class="calibre9">Sprite Swap</h3>
<p class="calibre3">The <strong class="bold">Sprite Swap</strong> transition type will make the button change to different images for <span>different states.</span></p>
<p class="calibre3">You’ll note that there is no <a id="_idIndexMarker449" class="pcalibre pcalibre1 calibre6"/>property to assign a sprite for the normal state. This is because the normal state will just use the sprite assigned to the <span><strong class="bold">Image</strong></span><span> component.</span></p>
<p class="calibre3">The sprite sheet we imported in <a href="B18327_06.xhtml#_idTextAnchor085" class="pcalibre pcalibre1 calibre6"><span><em class="italic">Chapter 6</em></span></a>, has four button images that will be helpful in demonstrating the Sprite Swap Transition: the images labeled <strong class="source-inline">uiElements_39</strong>, <strong class="source-inline">uiElements_40</strong>, <strong class="source-inline">uiElements_41</strong>, and <strong class="source-inline">uiElements_42</strong> (as shown in the <span>following screenshot):</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer237">
<img alt="Figure 9.6: The sprites we will use to demonstrate button Sprite Swap" src="image/Figure_09.06_B18327.jpg" class="calibre234"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.6: The sprites we will use to demonstrate button Sprite Swap</p>
<p class="calibre3">To have the button take on these images at the appropriate states, we simply need to assign <strong class="source-inline">uiElements_39</strong> to the <strong class="bold">Source Image</strong> on the <strong class="bold">Image</strong> component, <strong class="source-inline">uiElements_40</strong> to the <strong class="bold">Highlighted Sprite</strong>, <strong class="source-inline">uiElements_41</strong> to the <strong class="bold">Pressed Sprite</strong>, <strong class="source-inline">uiElements_39</strong> to the <strong class="bold">Selected Sprite</strong>, and <strong class="source-inline">uiElements_42</strong> to the <strong class="bold">Disabled Sprite</strong>. We also need to delete the child <strong class="bold">Text</strong> object from <span>the button:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer238">
<img alt="Figure 9.7: Sprite Swap Example in the Chapter9 scene" src="image/Figure_09.07_B18327.jpg" class="calibre235"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.7: Sprite Swap Example in the Chapter9 scene</p>
<p class="calibre3">Remember, you can view<a id="_idIndexMarker450" class="pcalibre pcalibre1 calibre6"/> the <strong class="bold">Disabled Sprite</strong> by <span>deselecting </span><span><strong class="bold">Interactable</strong></span><span>.</span></p>
<p class="calibre3">A nice sprite swap animation that I always find appealing is applying an image of a button that appears down-pressed to the pressed image. For example, I took the button on the left and slightly edited it to create the button on the right. The change is slight, but I changed it by slightly moving down the top part of the button to make it <span>look pressed:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer239">
<img alt="Figure 9.8: The indented button animation sheet" src="image/Figure_09.08_B18327.jpg" class="calibre236"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.8: The indented button animation sheet</p>
<p class="calibre3">It doesn’t look like much of a difference when viewed side by side. However, when the left-hand image is used for <strong class="bold">Source Image</strong>, <strong class="bold">Highlighted Sprite</strong>, <strong class="bold">Selected Sprite</strong>, and <strong class="bold">Disabled Sprite</strong>, and the right-hand image is used for <strong class="bold">Pressed Sprite</strong>, the button transitions to show a very nice <span>button-pressing animation:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer240">
<img alt="Figure 9.9: Pressed Button Example in the Chapter9 scene" src="image/Figure_09.09_B18327.jpg" class="calibre237"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.9: Pressed Button Example in the Chapter9 scene</p>
<p class="calibre3">To see this in action, view <strong class="source-inline">Pressed Button Example Canvas</strong> in <strong class="source-inline">Chapter9Scene</strong>; it really<a id="_idIndexMarker451" class="pcalibre pcalibre1 calibre6"/> is quite satisfying <span>to click.</span></p>
<p class="calibre3">In <a href="B18327_11.xhtml#_idTextAnchor292" class="pcalibre pcalibre1 calibre6"><span><em class="italic">Chapter 11</em></span></a>, we will explore how to create an image swap without the button transition property, for something like a <span>mute/unmute butto<a id="_idTextAnchor223" class="pcalibre pcalibre1 calibre6"/>n.</span></p>
<h3 class="calibre9">Animation</h3>
<p class="calibre3">The <strong class="bold">Animation</strong> transition allows the button to animate in its <span>various states.</span></p>
<p class="calibre3">Animation transition types require an <strong class="bold">Animator</strong> component attached to the Button. It can add a preexisting set of animations to a Button by dragging it onto the Button’s Inspector, or you can make a whole new Animator Controller by selecting <strong class="bold">Auto Generate Animation</strong>. If you use a<a id="_idIndexMarker452" class="pcalibre pcalibre1 calibre6"/> preexisting Animator Controller, you can simply assign the Animations to the individual states. However, if you generate a new Animator Controller, you can select the state from the list of Clips in the <strong class="bold">Animation</strong> window and edit them from that window. An example of making a Button with animated transitions is provided in the <em class="italic">Examples</em> section of <span>this chapt<a id="_idTextAnchor224" class="pcalibre pcalibre1 calibre6"/>er.</span></p>
<h2 id="_idParaDest-156" class="calibre7"><a id="_idTextAnchor225" class="pcalibre pcalibre1 calibre6"/>Navigation</h2>
<p class="calibre3">Buttons have a <strong class="bold">Navigation</strong> property that determines<a id="_idIndexMarker453" class="pcalibre pcalibre1 calibre6"/> the order in which they will be highlighted via keyboard or <span>controller inputs:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer241">
<img alt="Figure 9.10: The Navigation property on the Button component" src="image/Figure_09.10_B18327.jpg" class="calibre238"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.10: The Navigation property on the Button component</p>
<p class="calibre3">Each Button within the scene must have this property set if you want to navigate to all the Buttons. If you recall from <a href="B18327_08.xhtml#_idTextAnchor147" class="pcalibre pcalibre1 calibre6"><span><em class="italic">Chapter 8</em></span></a>, we discussed the <strong class="bold">First Selected</strong> property of the <strong class="bold">Event System</strong> component. If you have a Button assigned to <strong class="bold">First Selected</strong>, that Button will be highlighted when you load the scene. If you then navigate through the Buttons with the keyboard, the navigation will begin at the Button with the <strong class="bold">First Selected</strong> property. However, if you do not have a Button assigned as <strong class="bold">First Selected</strong>, navigation will not start until a button has been selected with the mouse. The next button selected is determined by the navigation option you have selected for <span>the buttons.</span></p>
<p class="calibre3">There are five <strong class="bold">Navigation</strong> options: <strong class="bold">None</strong>, <strong class="bold">Horizontal</strong>, <strong class="bold">Vertical</strong>, <strong class="bold">Automatic</strong>, <span>and </span><span><strong class="bold">Explicit</strong></span><span>.</span></p>
<p class="calibre3">Selecting <strong class="bold">None</strong> will disable all keyboard navigation to the specified Button. Remember that this is for the individual button, so if you want to disable all keyboard navigation, you must select <strong class="bold">None</strong> for <span>all Buttons.</span></p>
<p class="calibre3"><strong class="bold">Horizontal</strong> and <strong class="bold">Vertical</strong> are pretty self-explanatory. If a Button has its <strong class="bold">Navigation</strong> property set to <strong class="bold">Horizontal</strong>, when it is selected, the next button selected will be chosen horizontally, meaning with the right and left arrows. <strong class="bold">Vertical</strong> works similarly; this represents the navigation <em class="italic">away</em> from that button, not <em class="italic">to</em> that button. So, if a button that has <strong class="bold">Horizontal</strong> set has its navigation property, you can still access that button from another with a <span>vertical button.</span></p>
<p class="calibre3"><strong class="bold">Automatic</strong> will allow the <strong class="bold">Button</strong> to navigate both Horizontally and Vertically, as determined automatically by its position relative to the <span>other buttons.</span></p>
<p class="calibre3">The <strong class="bold">Visualize</strong> button allows you to see a visual representation of the navigation setup. Each Button will be connected, with arrows demonstrating which Button will be selected after it. Each arrow begins on the side of the button to symbolize the directional arrow pressed, and it points at the next button that will be highlighted if that arrow is pressed. For<a id="_idIndexMarker454" class="pcalibre pcalibre1 calibre6"/> example, if an arrow begins on a Button’s right, that arrow symbolizes what Button will be selected next if the player presses right on the keyboard. The following example shows the visualization of five Buttons, all with their <strong class="bold">Navigation</strong> property set <span>to </span><span><strong class="bold">Automatic</strong></span><span>:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer242">
<img alt="Figure 9.11: Navigation Example in the Chapter9 scene" src="image/Figure_09.11_B18327.jpg" class="calibre239"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.11: Navigation Example in the Chapter9 scene</p>
<p class="calibre3">In the preceding example, each Button has a <strong class="bold">Color Tint Transition</strong> property with the <strong class="bold">Highlighted Color</strong> and <strong class="bold">Selected Color</strong> assigned to green. The Button labeled <strong class="bold">1</strong> has been assigned as <strong class="bold">First Selected</strong> in the <span><strong class="bold">Event System</strong></span><span>:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer243">
<img alt="Figure 9.12: Event System with Button 1 assigned to First Selected" src="image/Figure_09.12_B18327.jpg" class="calibre240"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.12: Event System with Button 1 assigned to First Selected</p>
<p class="calibre3">Therefore, when the scene<a id="_idIndexMarker455" class="pcalibre pcalibre1 calibre6"/> begins playing, it will automatically be highlighted. Based on the visualized graph, if the right arrow key is selected on the keyboard after the scene loads, the <strong class="bold">Button</strong> labeled <strong class="bold">2</strong> will <span>be selected:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer244">
<img alt="Figure 9.13: Navigation Example in the Chapter9 scene" src="image/Figure_09.13_B18327.jpg" class="calibre241"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.13: Navigation Example in the Chapter9 scene</p>
<p class="calibre3">The last <strong class="bold">Navigation</strong> type is <strong class="bold">Explicit</strong> and allows for significantly better control. With this, you can explicitly define which button will be accessed with each individual <span>keyboard press.</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer245">
<img alt="Figure 9.14: The properties of the Explicit Navigation type" src="image/Figure_09.14_B18327.jpg" class="calibre242"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.14: The properties of the Explicit Navigation type</p>
<p class="calibre3">Let’s say that you wanted the player to cycle through the buttons in the order 1-2-3-4-5 and then loop back to 1. You want this to happen with either the up button or the right button. None of the previously mentioned navigation methods will allow that. However, you can achieve that with the <strong class="bold">Explicit</strong> Navigation type. The first step-by-step example of this chapter covers how to <a id="_idIndexMarker456" class="pcalibre pcalibre1 calibre6"/>create an explicit button <span>navigation map<a id="_idTextAnchor226" class="pcalibre pcalibre1 calibre6"/>.</span></p>
<h1 id="_idParaDest-157" class="calibre5"><a id="_idTextAnchor227" class="pcalibre pcalibre1 calibre6"/>Invisible button zones</h1>
<p class="calibre3">In <a href="B18327_02.xhtml#_idTextAnchor024" class="pcalibre pcalibre1 calibre6"><span><em class="italic">Chapter 2</em></span></a>, we discussed tapping zones on the screen. Often, in mobile games, tapping anywhere on the screen will cause an <a id="_idIndexMarker457" class="pcalibre pcalibre1 calibre6"/>event. For example, many times when you select outside of a pop-up window, it will close. Other examples are when you can tap on the left or right side of the screen to move a character back and forth. Tapping on areas of the screen may not seem like a button implementation, but it actually is! The buttons are <span>just invisible.</span></p>
<p class="calibre3">Let’s explore the first scenario. If you review the <strong class="source-inline">Close Panel Example</strong> GameObject of the <strong class="source-inline">Chapter9</strong> scene, you will see a Panel that appears when an info button is pressed, closes when the close button is pressed, and also closes when the area outside of the Panel is pressed. This is accomplished by putting a large, invisible button behind the Panel. For it to work appropriately, it needs to be in front of the info button (blocking raycast <span>to it).</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer246">
<img alt="Figure 9.15: Close Panel Example in the Chapter9 scene" src="image/Figure_09.15_B18327.jpg" class="calibre243"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.15: Close Panel Example in the Chapter9 scene</p>
<p class="calibre3">It’s a good design choice to include the close button, even if the background area will dismiss the Panel. Many people do not intuitively consider tapping outside a Panel to be an action that will close it and <a id="_idIndexMarker458" class="pcalibre pcalibre1 calibre6"/>will spend time looking for the close button if you do not <span>provide it.</span></p>
<p class="calibre3">Now let’s explore the second scenario, where the two sides of the screen cause different actions. In the <strong class="source-inline">Tap Zone Example GameObject</strong>, tapping the left side moves the candy cane to the left, and tapping the right side moves the candy cane to the right. Once again, large invisible buttons are <span>being utilized.</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer247">
<img alt="Figure 9.16: Tap Zone Example in the Chapter9 scene" src="image/Figure_09.16_B18327.jpg" class="calibre244"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.16: Tap Zone Example in the Chapter9 scene</p>
<p class="calibre3">When using these large<a id="_idIndexMarker459" class="pcalibre pcalibre1 calibre6"/> invisible buttons, it is very important that you consider how raycast will be affected by them, even though they are invisible. They will block things <span>behind them!</span></p>
<h1 id="_idParaDest-158" class="calibre5"><a id="_idTextAnchor228" class="pcalibre pcalibre1 calibre6"/>Examples</h1>
<p class="calibre3">For the first three examples in this chapter, we will momentarily step away from the scene we have been working on to build a new scene that will allow us to experiment with button navigation and scene loading. We’ll then pick up where we left off with our scene from <a href="B18327_08.xhtml#_idTextAnchor147" class="pcalibre pcalibre1 calibre6"><span><em class="italic">Chapter 8</em></span></a>, to add some buttons to <span>our sce<a id="_idTextAnchor229" class="pcalibre pcalibre1 calibre6"/>ne.</span></p>
<h2 id="_idParaDest-159" class="calibre7"><a id="_idTextAnchor230" class="pcalibre pcalibre1 calibre6"/>Navigating through Buttons and using First Selected</h2>
<p class="calibre3">We’ll build out a faux start screen that <a id="_idIndexMarker460" class="pcalibre pcalibre1 calibre6"/>appears <span>as follows:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer248">
<img alt="Figure 9.17: The start screen scene we will build" src="image/Figure_09.17_B18327.jpg" class="calibre245"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.17: The start screen scene we will build</p>
<p class="calibre3">Most of these buttons will be dummy buttons, but we will set up the <strong class="bold">Play</strong> button in the next example to load the scene we have been <span>working on.</span></p>
<p class="calibre3">To give us the ability to experiment with<a id="_idIndexMarker461" class="pcalibre pcalibre1 calibre6"/> button navigation, we’ll assign an <strong class="bold">Explicit</strong> navigation scheme to it so that we can cycle through the buttons with the <span>following pattern:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer249">
<img alt="Figure 9.18: The button navigation map" src="image/Figure_09.18_B18327.jpg" class="calibre246"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.18: The button navigation map</p>
<p class="calibre3">First, the <strong class="bold">Play</strong> button will be<a id="_idIndexMarker462" class="pcalibre pcalibre1 calibre6"/> selected. Pressing the <em class="italic">down</em> key on the keyboard continuously will result in the following <span>selection path:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer250">
<img alt="Figure 9.19: The button navigation flow with the down arrow" src="image/Figure_09.19_B18327.jpg" class="calibre247"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.19: The button navigation flow with the down arrow</p>
<p class="calibre3">Pressing<a id="_idIndexMarker463" class="pcalibre pcalibre1 calibre6"/> the <em class="italic">up</em> button continuously<a id="_idIndexMarker464" class="pcalibre pcalibre1 calibre6"/> will result in the <span>following path:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer251">
<img alt="Figure 9.20: The button navigation flow with the up arrow" src="image/Figure_09.20_B18327.jpg" class="calibre248"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.20: The button navigation flow with the up arrow</p>
<p class="calibre3">Next, we’ll learn how to lay out <a id="_idIndexMarker465" class="pcalibre pcalibre1 calibre6"/><span>the butt<a id="_idTextAnchor231" class="pcalibre pcalibre1 calibre6"/>ons.</span></p>
<h3 class="calibre9">Laying out the Buttons</h3>
<p class="calibre3">Let’s start by creating a new scene and laying<a id="_idIndexMarker466" class="pcalibre pcalibre1 calibre6"/> out <span>the buttons.</span></p>
<p class="calibre3">To make a faux start screen as shown in <span><em class="italic">Figure 9</em></span><em class="italic">.17</em>, complete the <span>following steps:</span></p>
<ol class="calibre13">
<li class="calibre14">Create a new empty scene and name it <strong class="source-inline">Chapter9-Examples-StartScreen</strong>. Open the <span>new scene.</span></li>
<li class="calibre14">To give this scene the same background as the scenes we’ve made in the last few chapters, we can create another <strong class="bold">Background Canvas</strong>, but it will be easier to just copy it from one of the other scenes. We’ll do this by having our new scene and one of our old scenes open in the Hierarchy at the <span>same time.</span><p class="calibre3">From the <strong class="bold">Project</strong> folder view, drag the <strong class="source-inline">Chapter8-Examples</strong> scene to the <strong class="bold">Hierarchy</strong>. You should now see <span>the following:</span></p></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer252">
<img alt="Figure 9.21: Loading the two scenes simultaneously" src="image/Figure_09.21_B18327.jpg" class="calibre249"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.21: Loading the two scenes simultaneously</p>
<ol class="calibre13">
<li value="3" class="calibre14">Select <strong class="source-inline">Background Canvas</strong> and<a id="_idIndexMarker467" class="pcalibre pcalibre1 calibre6"/> press <em class="italic">Ctrl</em> + <em class="italic">D</em> to duplicate it. Now, drag the duplicate, labeled <strong class="bold">Background Canvas (1)</strong>, to the <span><strong class="source-inline">Chapter9-Examples-StartScreen</strong></span><span> scene:</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer253">
<img alt="Figure 9.22: Duplicating Background Canvas" src="image/Figure_09.22_B18327.jpg" class="calibre250"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.22: Duplicating Background Canvas</p>
<ol class="calibre13">
<li value="4" class="calibre14">We can now close the <strong class="source-inline">Chapter8-Examples</strong> scene, as we no longer need it. To do so, select the three dots on the<a id="_idIndexMarker468" class="pcalibre pcalibre1 calibre6"/> right of the <strong class="source-inline">Chapter8-Examples</strong> scene, and select <strong class="bold">Remove Scene</strong>. Just in case you accidentally deleted something, select <strong class="bold">Don’t Save</strong> <span>when prompted:</span>
<div class="calibre2">
<div class="img---figure" id="_idContainer254">
<img alt="Figure 9.23: Removing the Scene" src="image/Figure_09.23_B18327.jpg" class="calibre251"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.23: Removing the Scene</p>
<p class="calibre3">You should now have only <strong class="source-inline">Chapter9-Examples-StartScreen</strong> in the <strong class="bold">Hierarchy</strong>, and the <strong class="source-inline">Background Canvas</strong> should be visible in <span>the scene.</span></p></li>
</ol>
<ol class="calibre13">
<li value="5" class="calibre14">Rename <strong class="source-inline">Background Canvas (1)</strong> to <strong class="source-inline">Background Canvas</strong> and save <span>the scene.</span></li>
</ol>
<p class="callout-heading">Note</p>
<p class="callout">You’ll note that by doing this, we have a <strong class="source-inline1">Canvas</strong> in the scene without an <strong class="source-inline1">Event System</strong>. That’s okay, though; once we add new UI elements, an Event System will be added in <span>for us.</span></p>
<ol class="calibre13">
<li value="6" class="calibre14">Before we can proceed, we should take care of a warning message that pops up in the Console. Since we copied <strong class="source-inline">Background Canvas</strong> from another scene, it is trying to access the camera from the other scene and can’t <span>find it.</span><p class="calibre3">A warning message will<a id="_idIndexMarker469" class="pcalibre pcalibre1 calibre6"/> also appear on the <strong class="bold">Canvas</strong> component of the <span><strong class="source-inline">Background Canvas</strong></span><span>:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer255">
<img alt="Figure 9.24: The Canvas component error message" src="image/B18327_09_24.jpg" class="calibre252"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.24: The Canvas component error message</p>
<p class="calibre3">To fix this, simply drag the <strong class="source-inline">Main Camera</strong> from the current scene to the <strong class="bold">Render Camera</strong> slot and set the <strong class="bold">Sorting Layer</strong> <span>to </span><span><strong class="bold">Background</strong></span><span>.</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer256">
<img alt="Figure 9.25: The Canvas component with the Main Camera assigned" src="image/Figure_09.25_B18327.jpg" class="calibre253"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.25: The Canvas component with the Main Camera assigned</p>
</li>
</ol> <ol class="calibre13">
<li value="7" class="calibre14">Now, let’s add the <strong class="bold">Play</strong> button. Create a new UI Canvas to place our Buttons on and name it <strong class="source-inline">Button Canvas</strong>. Note that once you create the <strong class="source-inline">Button Canvas</strong>, an <strong class="source-inline">Event System</strong> GameObject will be created <span>for you.</span></li>
<li class="calibre14">Create a new UI <a id="_idIndexMarker470" class="pcalibre pcalibre1 calibre6"/>Button (<strong class="bold">+</strong> | <strong class="bold">UI</strong> | <strong class="bold">Button</strong>) as a child of <strong class="source-inline">Button Canvas</strong> and give it the following <strong class="bold">Rect Transform</strong> and <strong class="bold">Image</strong> <span>component properties:</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer257">
<img alt="Figure 9.26: The properties on the Play Button" src="image/Figure_09.26_B18327.jpg" class="calibre254"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.26: The properties on the Play Button</p>
<ol class="calibre13">
<li value="9" class="calibre14">Now, select the child <strong class="bold">Text</strong> object of the <strong class="source-inline">Play Button</strong> and set its <strong class="bold">Rect Transform</strong> and <strong class="bold">Text</strong> component properties <span>as such:</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer258">
<img alt="Figure 9.27: The properties on the Play Button’s text" src="image/Figure_09.27_B18327.jpg" class="calibre255"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.27: The properties on the Play Button’s text</p>
<ol class="calibre13">
<li value="10" class="calibre14">Now, let’s <a id="_idIndexMarker471" class="pcalibre pcalibre1 calibre6"/>create an <strong class="source-inline">Achievement Button</strong>, a <strong class="source-inline">Leaderboard Button</strong>, and an <strong class="source-inline">Info Button</strong> so they appear <span>as follows:</span>
<div class="calibre2">
<div class="img---figure" id="_idContainer259">
<img alt="Figure 9.28: The layout of the start screen buttons" src="image/Figure_09.28_B18327.jpg" class="calibre256"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.28: The layout of the start screen buttons</p>
<p class="calibre3">To achieve the preceding layout, use <a id="_idIndexMarker472" class="pcalibre pcalibre1 calibre6"/>the following properties and make sure to remove their child <span><strong class="source-inline">Text</strong></span><span> objects:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer260">
<img alt="Figure 9.29: The properties of the three buttons" src="image/Figure_09.29_B18327.jpg" class="calibre257"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.29: The properties of the three buttons</p></li>
</ol>
<ol class="calibre13">
<li value="11" class="calibre14">Now all that is left to do to set up our scene’s layout is to create the <strong class="source-inline">Facebook Button</strong> and <strong class="source-inline">Twitter Button</strong> in the bottom-right corner of the scene. (Ignore the fact that the logos are extremely outdated.) To achieve the layout in <span><em class="italic">Figure 9</em></span><em class="italic">.26</em>, create two buttons with the <span>following properties:</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer261">
<img alt="Figure 9.30: The properties on the two buttons" src="image/Figure_09.30_B18327.jpg" class="calibre258"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.30: The properties on the two buttons</p>
<p class="calibre3">Your scene should be correctly<a id="_idIndexMarker473" class="pcalibre pcalibre1 calibre6"/> laid out now, so let’s work on setting up <span>the navigati<a id="_idTextAnchor232" class="pcalibre pcalibre1 calibre6"/>on.</span></p>
<h3 class="calibre9">Setting the explicit navigation and First Selected</h3>
<p class="calibre3">If you select the <strong class="bold">Visualize</strong> button on any<a id="_idIndexMarker474" class="pcalibre pcalibre1 calibre6"/> of your Button’s <strong class="bold">Button</strong> components, you should see the following <span>navigation path:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer262">
<img alt="Figure 9.31: The automatic button navigation visualization" src="image/Figure_09.31_B18327.jpg" class="calibre259"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.31: The automatic button navigation visualization</p>
<p class="calibre3">This navigation setup allows significantly more navigation range than the setup I described at the beginning of this<a id="_idIndexMarker475" class="pcalibre pcalibre1 calibre6"/> example. This is because each button has its navigation set to <strong class="bold">Automatic</strong> by default, and <strong class="bold">Automatic</strong> allows multidirectional navigation. Let’s make our navigation a bit more linear and make our <strong class="source-inline">Play Button</strong> the <strong class="bold">First Selected</strong> Button in our <span><strong class="bold">Event System</strong></span><span>.</span></p>
<p class="calibre3">To set up the navigation described at the beginning of this example, complete the <span>following steps:</span></p>
<ol class="calibre13">
<li class="calibre14">Select the <strong class="bold">Event System</strong> in the Hierarchy and assign the <strong class="source-inline">Play Button</strong> to the <strong class="bold">First Selected</strong> slot by drag <span>and drop:</span>
<div class="calibre2">
<div class="img---figure" id="_idContainer263">
<img alt="Figure 9.32: The Event System with the Play Button as First Selected" src="image/Figure_09.32_B18327.jpg" class="calibre260"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.32: The Event System with the Play Button as First Selected</p>
<p class="calibre3">Now, when we start cycling through our buttons, our navigation will begin at the <strong class="source-inline">Play Button</strong>. Also, if we were to hit the <em class="italic">Enter</em> key when this scene loads, the <strong class="source-inline">Play Button</strong> will automatically <span>be executed.</span></p></li>
</ol>
<ol class="calibre13">
<li value="2" class="calibre14">Now, let’s set all the <a id="_idIndexMarker476" class="pcalibre pcalibre1 calibre6"/>Buttons to have an <strong class="bold">Explicit Navigation</strong> type. Select all six of the buttons in the <span><strong class="bold">Hierarchy</strong></span><span> list.</span></li>
<li class="calibre14">With all selected, change the <strong class="bold">Navigation</strong> type to <strong class="bold">Explicit</strong> from the dropdown menu. Now, each Button should have the following settings in its <span><strong class="bold">Button</strong></span><span> component.</span></li>
<li class="calibre14">To make it easier to see our navigation, let’s change the <strong class="bold">Selected Colors</strong> property on each of our Buttons. With all the Buttons still selected, set <strong class="bold">Selected Color</strong> to dark red. It’s not very attractive, but it will make it easier for us to see whether our buttons are being selected. The <strong class="bold">Button</strong> component on all of your buttons should now look <span>as follows:</span>
<div class="calibre2">
<div class="img---figure" id="_idContainer264">
<img alt="Figure 9.33: The Button component with Color Tint transitions" src="image/Figure_09.33_B18327.jpg" class="calibre261"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.33: The Button component with Color Tint transitions</p>
<p class="calibre3"> If you play the game, you <a id="_idIndexMarker477" class="pcalibre pcalibre1 calibre6"/>should see the <strong class="source-inline">Play Button</strong> colored red, symbolizing that it is selected (since we set it as <strong class="bold">First Selected</strong> in <span>Step 1):</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer265">
<img alt="Figure 9.34: Play Button selected and colored red" src="image/Figure_09.34_B18327.jpg" class="calibre262"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.34: Play Button selected and colored red</p></li>
</ol>
<ol class="calibre13">
<li value="5" class="calibre14">Now, we can explicitly (hence the name) set the Buttons that each individual Button is to navigate to by dragging and dropping them into the appropriate slots. Let’s set the <strong class="bold">Navigation</strong> for the <strong class="source-inline">Play Button</strong> first since it will be the first <span>button selected.</span><p class="calibre3">According to <em class="italic">Figures 9.18</em> through <em class="italic">9.20</em>, the <strong class="source-inline">Play Button</strong> should navigate to <strong class="source-inline">Twitter Button</strong> when the <em class="italic">up</em> key is pressed and <strong class="source-inline">Achievements Button</strong> when the <em class="italic">down</em> key is pressed. So, drag and drop those Buttons into the slots labeled <strong class="bold">Select On Up</strong> and <strong class="bold">Select On Down</strong>, respectively, from <span>the </span><span><strong class="bold">Hierarchy</strong></span><span>.</span></p><p class="calibre3">If you have the <strong class="bold">Visualize</strong> button<a id="_idIndexMarker478" class="pcalibre pcalibre1 calibre6"/> selected, as you are dragging the Buttons into their slots, you should see the navigation visualization starting to <span>build out.</span></p></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer266">
<img alt="Figure 9.35: The Navigation properties of the Play Button" src="image/Figure_09.35_B18327.jpg" class="calibre263"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.35: The Navigation properties of the Play Button</p>
<p class="callout-heading">Note</p>
<p class="callout">Remember that if an arrow begins on top of a Button, that arrow symbolizes where navigation will go if the <em class="italic">up</em> key is pressed, and if the arrow begins on the bottom of a Button, it symbolizes where navigation will go if the <em class="italic">down</em> key <span>is pressed.</span></p>
<ol class="calibre13">
<li value="6" class="calibre14">Play the game to check and see whether it works. Press the <em class="italic">up</em> key and you should see the <strong class="source-inline">Twitter Button</strong> turn red, indicating it <span>is selected.</span><p class="calibre3">To see the <strong class="source-inline">Achievement Button</strong> become selected, you actually have to stop playing the game and replay, because we have not set up the navigation for the <strong class="source-inline">Twitter Button</strong> to go back to the <strong class="source-inline">Play Button</strong>. So, stop the game, press Play again, then press the <em class="italic">down</em> key, and you should see the <strong class="source-inline">Achievement Button</strong> <span>highlight red.</span></p></li>
</ol>
<p class="callout-heading">Note</p>
<p class="callout">Instead of restarting the game, you can also highlight the Play Button with your mouse so that you can then navigate to the <span>Achievement Button.</span></p>
<ol class="calibre13">
<li value="7" class="calibre14">Once you set up the<a id="_idIndexMarker479" class="pcalibre pcalibre1 calibre6"/> navigation for one Button, the rest aren’t too difficult, albeit tedious. Use the following chart to help you set up the rest of <span>the Buttons:</span></li>
</ol>
<table class="no-table-style" id="table001-3">
<colgroup class="calibre10">
<col class="calibre11"/>
<col class="calibre11"/>
<col class="calibre11"/>
</colgroup>
<tbody class="calibre12">
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="bold">Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><strong class="bold">Select </strong><span><strong class="bold">On Up</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><strong class="bold">Select </strong><span><strong class="bold">On Down</strong></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Play Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Twitter Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Achievement Button</strong></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Achievement Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Play Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Leaderboard Button</strong></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Leaderboard Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Achievement Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Info Button</strong></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Info Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">LeaderBoard Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Facebook Button</strong></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Facebook Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Info Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Twitter Button</strong></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Twitter Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Facebook Button</strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline">Play Button</strong></span></p>
</td>
</tr>
</tbody>
</table>
<p class="img---caption" lang="en-US" xml:lang="en-US">Table 9.1: The Select On Up and Select On Down assignments for each Button</p>
<p class="calibre3">When you are done, your navigation visualization should look like <span>the following:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer267">
<img alt="Figure 9.36: The finalized Navigation flow visualization" src="image/Figure_09.36_B18327.jpg" class="calibre264"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.36: The finalized Navigation flow visualization</p>
<p class="calibre3">If you play your game, you should be able to easily cycle through the Buttons using the <span>arrow keys.</span></p>
<p class="calibre3">I recommend setting all the buttons <a id="_idIndexMarker480" class="pcalibre pcalibre1 calibre6"/>to have <strong class="bold">Horizontal</strong> or <strong class="bold">Vertical</strong> <strong class="bold">Navigation</strong> patterns and seeing how they differ from what we have created so that you can see that this pattern is not attainable with a predefined pattern applied to all <span>the Buttons.</span></p>
<h2 id="_idParaDest-160" class="calibre7"><a id="_idTextAnchor233" class="pcalibre pcalibre1 calibre6"/>Loading scenes with Button presses</h2>
<p class="calibre3">Now that we have our start screen laid<a id="_idIndexMarker481" class="pcalibre pcalibre1 calibre6"/> out, let’s hook up the <strong class="source-inline">Play Button</strong> to play our game. First, duplicate the scene you created in <a href="B18327_08.xhtml#_idTextAnchor147" class="pcalibre pcalibre1 calibre6"><span><em class="italic">Chapter 8</em></span></a>, called <strong class="source-inline">Chapter8-Examples</strong>, using <em class="italic">Ctrl</em> + <em class="italic">D</em>. The new scene should be called <strong class="source-inline">Chapter9-Examples</strong>. Our goal is to have the <strong class="source-inline">Play Button</strong> in <strong class="source-inline">Chapter9-Examples-StartScreen</strong> load the <span><strong class="source-inline">Chapter9-Examples</strong></span><span> scene.</span></p>
<p class="calibre3">To make the <strong class="source-inline">Play Button</strong> in the <strong class="source-inline">Chapter9-Examples-StartScreen</strong> scene, load up the <strong class="source-inline">Chapter9-Examples</strong> scene and complete the <span>following steps:</span></p>
<ol class="calibre13">
<li class="calibre14">To transition between <a id="_idIndexMarker482" class="pcalibre pcalibre1 calibre6"/>scenes within Unity, you must first ensure that they are each listed within the <strong class="bold">Scenes In Build</strong> list in the <strong class="bold">Build Settings</strong>. Select <strong class="bold">File</strong> | <strong class="bold">Build Settings</strong> (or <em class="italic">Ctrl</em> + <em class="italic">Shift</em> + <em class="italic">B</em>). The following should <span>be visible:</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer268">
<img alt="Figure 9.37: The Build Settings with no scenes in the build" src="image/Figure_09.37_B18327.jpg" class="calibre265"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.37: The Build Settings with no scenes in the build</p>
<ol class="calibre13">
<li value="2" class="calibre14">From the <strong class="bold">Project</strong> folder, drag and drop the <strong class="source-inline">Chapter9-Examples-StartScreen</strong> and <strong class="source-inline">Chapter9-Examples</strong> scenes into <span>the list:</span>
<div class="calibre2">
<div class="img---figure" id="_idContainer269">
<img alt="Figure 9.38: Adding the scenes to the build" src="image/Figure_09.38_B18327.jpg" class="calibre266"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.38: Adding the scenes to the build</p>
<p class="calibre3">The order in which scenes appear in this list does not matter, except for the first scene (the one listed as scene <strong class="bold">0</strong>). The first scene in the list should be the scene you want to load when the game loads. Therefore, it makes sense for us to put <strong class="source-inline">Chapter9-Examples-StartScreen</strong> in <span>position </span><span><strong class="bold">0</strong></span><span>.</span></p></li>
</ol>
<ol class="calibre13">
<li value="3" class="calibre14">Now that our scenes<a id="_idIndexMarker483" class="pcalibre pcalibre1 calibre6"/> are in the <strong class="bold">Build Settings</strong>, we can write a script that will allow us to navigate between them. Right-click on the <strong class="source-inline">Scripts</strong> folder in your <strong class="bold">Project</strong> view and select <strong class="bold">Create</strong> | <strong class="bold">C# Script</strong>. Name the new script <strong class="source-inline">LevelLoader</strong>. Open the new <strong class="source-inline">LevelLoader</strong> script and replace the code with <span>the following:</span><pre class="source-code">
using UnityEngine;
using UnityEngine.SceneManagement;
 
public class LevelLoader : MonoBehaviour {
 
    public string sceneToLoad = "";
 
    public void LoadTheLevel() {
        SceneManager.LoadScene(sceneToLoad);
    }
}</pre><p class="calibre3">The preceding code contains a single function—<strong class="source-inline">LoadTheLevel()</strong>. This function calls the <strong class="source-inline">LoadScene</strong> method in the <strong class="source-inline">SceneManager</strong> class. We will load the <strong class="source-inline">sceneToLoad</strong>, which is a string we will specify in the <strong class="bold">Inspector</strong>. Note that the <strong class="source-inline">UnityEngine.SceneManagement</strong> namespace must be included with the following line at the top of <span>the script:</span></p><pre class="source-code">using UnityEngine.SceneManagement;</pre></li> <li class="calibre14">If you still do not have the <strong class="source-inline">Chapter9-Examples-StartScreen</strong> scene open, open it again. Select the <strong class="source-inline">Play Button</strong> and drag and drop the <strong class="source-inline">LevelLoader</strong> script onto <span>its </span><span><strong class="bold">Inspector</strong></span><span>.</span></li>
<li class="calibre14">Now, within the <strong class="bold">Scene To Load</strong> slot, type <strong class="source-inline">Chapter9-Examples</strong>. You don’t need to put it in quotes; since the <strong class="source-inline">sceneToLoad</strong> variable is a string, <strong class="source-inline">Chapter9-Examples</strong> is assumed to be a string without you needing to put it <span>in quotes:</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer270">
<img alt="Figure 9.39: The LevelLoader.cs script component" src="image/Figure_09.39_B18327.jpg" class="calibre267"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.39: The LevelLoader.cs script component</p>
<ol class="calibre13">
<li value="6" class="calibre14">Now all that is left is to hook up the Button’s click event. Select the <strong class="bold">+</strong> sign at the bottom of the <strong class="bold">OnClick()</strong> Event list of the <strong class="bold">Button</strong> component to add a new event. The script we want to access, <strong class="source-inline">LevelLoader.cs</strong>, is on the <strong class="source-inline">Play Button</strong>, so drag the <strong class="source-inline">Play Button</strong> into the object slot. Now, from the function dropdown <a id="_idIndexMarker484" class="pcalibre pcalibre1 calibre6"/>menu, select <strong class="bold">LevelLoader</strong> | <span><strong class="bold">LoadTheLevel</strong></span><span>.</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer271">
<img alt="Figure 9.40: The OnClick event hooked up" src="image/Figure_09.40_B18327.jpg" class="calibre268"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.40: The OnClick event hooked up</p>
<p class="calibre3">That’s it! Your <strong class="source-inline">Play Button</strong> should now navigate to the <strong class="source-inline">Chapter9-Examples</strong> scene when clicked on or when you press <em class="italic">Enter</em> when it is highlighted (as it is at the beginning or with your <span>keyboard navigation).</span></p>
<h2 id="_idParaDest-161" class="calibre7"><a id="_idTextAnchor234" class="pcalibre pcalibre1 calibre6"/>Button Animation Transitions</h2>
<p class="calibre3">Often buttons are animated as a way to draw your attention to them. Let’s give the <strong class="source-inline">Play Button</strong> an Animation Transition so that when it is in its normal state it will pulsate to draw the attention of the player <span>to it.</span></p>
<p class="calibre3">To add button Animation<a id="_idIndexMarker485" class="pcalibre pcalibre1 calibre6"/> Transition on the <strong class="source-inline">Play Button</strong>, complete the <span>following steps:</span></p>
<ol class="calibre13">
<li class="calibre14">Select the <strong class="source-inline">Play Button</strong> and change its <strong class="bold">Transition</strong> type <span>to </span><span><strong class="bold">Animation</strong></span><span>.</span></li>
<li class="calibre14">We do not have an Animator Controller prebuilt, so select <strong class="bold">Auto Generate Animation</strong> to create a <span>new one.</span></li>
<li class="calibre14">A window will pop up asking you to save the newly created Animator Controller. Create a new folder in the <strong class="source-inline">Assets</strong> folder, called <strong class="source-inline">Animations</strong>, and save the new Animator Controller as <strong class="source-inline">Play Button</strong> to <span>the folder.</span><p class="calibre3">You should now see the new Animator Controller in the new <span><strong class="source-inline">Animations</strong></span><span> folder:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer272">
<img alt="Figure 9.41: The Play Button animator in the Project" src="image/Figure_09.41_B18327.jpg" class="calibre269"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.41: The Play Button animator in the Project</p>
<p class="calibre3">You will also see the new <strong class="bold">Animator</strong> component on the <span><strong class="source-inline">Play Button</strong></span><span>:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer273">
<img alt="Figure 9.42: The Play Button Animator component" src="image/Figure_09.42_B18327.jpg" class="calibre270"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.42: The Play Button Animator component</p></li>
</ol>
<ol class="calibre13">
<li value="4" class="calibre14">Open the <strong class="bold">Animation</strong> window by selecting <strong class="bold">Window</strong> | <strong class="bold">Animation</strong>. If you want to dock this new window, dock it <a id="_idIndexMarker486" class="pcalibre pcalibre1 calibre6"/>somewhere so that you can still see the Scene and Game views when it <span>is up.</span></li>
<li class="calibre14">Select the <strong class="source-inline">Play Button</strong> and open the <strong class="bold">Animation</strong> window. The various animation clips associated with the transition states will be visible in the animation clip <span>dropdown menu:</span>
<div class="calibre2">
<div class="img---figure" id="_idContainer274">
<img alt="Figure 9.43: The various animations on the Play Button" src="image/Figure_09.43_B18327.jpg" class="calibre271"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.43: The various animations on the Play Button</p>
<p class="calibre3">We want to edit the animation for the <strong class="bold">Normal</strong> transition state, so make sure it is selected (<strong class="bold">Normal</strong> is the animation selected <span>by default).</span></p></li>
</ol>
<ol class="calibre13">
<li value="6" class="calibre14">To make the button look like its pulsating, we want to affect its scale. Select <strong class="bold">Add Property</strong> | <strong class="bold">Rect Transform</strong> and then hit the <strong class="bold">+</strong> icon next <span>to </span><span><strong class="bold">Scale</strong></span><span>:</span>
<div class="calibre2">
<div class="img---figure" id="_idContainer275">
<img alt="Figure 9.44: Adding the Scale property to the Play Button" src="image/Figure_09.44_B18327.jpg" class="calibre272"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.44: Adding the Scale property to the Play Button</p>
<p class="calibre3">The <strong class="bold">Scale</strong> property<a id="_idIndexMarker487" class="pcalibre pcalibre1 calibre6"/> should now be showing up in the <span><strong class="bold">Animation</strong></span><span> timeline:</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer276">
<img alt="Figure 9.45: The Play Button Scale timeline" src="image/Figure_09.45_B18327.jpg" class="calibre273"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.45: The Play Button Scale timeline</p></li>
</ol>
<ol class="calibre13">
<li value="7" class="calibre14">To achieve the pulsation with scaling, we want the button to start at its normal size, get big, and then go back to its normal size. The diamonds that appear on the timeline are known as keyframes. To <a id="_idIndexMarker488" class="pcalibre pcalibre1 calibre6"/>do what I just described, we need one more keyframe, right in the center of the timeline. Click on the top of the timeline (where the numbers appear) to move the timeline to the <strong class="bold">0:30</strong> mark. Then, select the <strong class="bold">Add keyframe</strong> button to add a <span>new keyframe:</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer277">
<img alt="Figure 9.46: Adding an extra keyframe to the timeline" src="image/Figure_09.46_B18327.jpg" class="calibre274"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.46: Adding an extra keyframe to the timeline</p>
<ol class="calibre13">
<li value="8" class="calibre14">Expand the <strong class="bold">Scale</strong> property by selecting the arrow to its left. You will see that if you select any of the keyframes, the number <strong class="bold">1</strong> appears next to all three scaling directions. This indicates<a id="_idIndexMarker489" class="pcalibre pcalibre1 calibre6"/> that the scale at that frame is 100% (or its <span>normal scale):</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer278">
<img alt="Figure 9.47: Expanding the Scale property of the Play Button" src="image/Figure_09.47_B18327.jpg" class="calibre275"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.47: Expanding the Scale property of the Play Button</p>
<ol class="calibre13">
<li value="9" class="calibre14">Select the keyframe in the center. Change the number <strong class="bold">1</strong> on <strong class="bold">Scale.x</strong> and <strong class="bold">Scale.y</strong> to <strong class="source-inline">1.2</strong> by clicking on the number <strong class="bold">1</strong> and typing the new value. You can press the Play button in the animation window to preview your animation. You will see that the button now pulsates in <span>the scene.</span><p class="calibre3">Your button should now pulsate when you play the game (and will not turn red any longer). Note that it does not pulsate immediately, because the button will only pulsate when it is in its normal state. Since we have it set to <strong class="bold">First Selected</strong>, it is selected on start. To remove the selection, simply click anywhere in your scene outside of the button or navigate away using your keyboard. Once the button is no longer selected, it should <span>begin pulsating.</span></p></li>
<li class="calibre14">Let’s bring back the red selection since it made it easy to tell when the button was selected (even if it was <a id="_idIndexMarker490" class="pcalibre pcalibre1 calibre6"/>unattractive). From the animation list dropdown menu, select the <span><strong class="bold">Selected</strong></span><span> animation.</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer279">
<img alt="Figure 9.48: Selecting the Selected animation for the Play Button" src="image/Figure_09.48_B18327.jpg" class="calibre276"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.48: Selecting the Selected animation for the Play Button</p>
<ol class="calibre13">
<li value="11" class="calibre14">Select the <strong class="bold">Add Property</strong> button, then select <strong class="bold">Image</strong> | <span><strong class="bold">Color</strong></span><span>.</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer280">
<img alt="Figure 9.49: Adding the Color property to the Play Button timeline" src="image/Figure_09.49_B18327.jpg" class="calibre277"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.49: Adding the Color property to the Play Button timeline</p>
<ol class="calibre13">
<li value="12" class="calibre14">Delete the second keyframe by selecting it and hitting the <span><em class="italic">Delete</em></span><span> key.</span></li>
<li class="calibre14">Change the <strong class="bold">r</strong>, <strong class="bold">g</strong>, <strong class="bold">b</strong>, and <strong class="bold">a</strong> properties to <strong class="source-inline">1</strong>, <strong class="source-inline">0</strong>, <strong class="source-inline">0</strong>, and <strong class="source-inline">1</strong>, respectively, on the <span>remaining keyframe.</span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer281">
<img alt="Figure 9.50: Adjusting the Color property of the Play Button" src="image/Figure_09.50_B18327.jpg" class="calibre278"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 9.50: Adjusting the Color property of the Play Button</p>
<p class="calibre3">Now when you play the <a id="_idIndexMarker491" class="pcalibre pcalibre1 calibre6"/>game, the <strong class="source-inline">Play Button</strong> should pulsate when it is not selected and change to red when <span>it is.</span></p>
<p class="calibre3">That marks the end of the examples concerning Buttons, but we will continue to use them in <span>future chapters.</span></p>
<h1 id="_idParaDest-162" class="calibre5">Sum<a id="_idTextAnchor235" class="pcalibre pcalibre1 calibre6"/>mary</h1>
<p class="calibre3">Once you learn how to work with the Event System, working with buttons is an easy extension. Buttons are the most common interactive UI element, so having a good grasp on them is essential to effective UI development. Setting them up so that they function when clicked on is only half the process, though. You want to also ensure that you have your button navigation set up properly if you will be developing for PC, Mac, <span>or console.</span></p>
<p class="calibre3">We’re not done with Buttons! We’ll be working with them throughout this book. Once we explore the Image component more thoroughly, we will cover more interesting button implementations <span>and transitions.</span></p>
<p class="calibre3">In the next chapter, we’ll cover the UI <span>Text component!</span></p>
</div>
</div></body></html>