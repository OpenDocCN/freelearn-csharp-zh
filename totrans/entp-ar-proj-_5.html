<html><head></head><body>
        

                            
                    <h1 class="header-title">AR for Marketing with EasyAR</h1>
                
            
            
                
<p>This chapter will introduce you to EasyAR, an easy and intuitive AR SDK with multiple functionalities that can be used alone or, like in this chapter, integrated into Unity 3D. You will learn what image-based AR is and how it works with EasyAR by using your own images as markers. You will also learn how to import a custom 3D model into Unity to display it using AR over an image marker. Finally, you will create an augmented catalog where your furniture will come to life.</p>
<p>This chapter has two main goals: to learn EasyAR and its features and to understand the possibilities of AR as a marketing tool. Nowadays, EasyAR is, along with Vuforia, one of the most versatile AR SDKs that can be used for many purposes. By the end of this chapter, you will have the basic skills to continue improving the current project or create new and improved ones by exploring the rest of the functionalities EasyAR has to offer. As you will see, AR is a very powerful marketing tool for different purposes, such as impacting the user, presenting the product in a more visual and appealing way, and offering discounts and prizes that are integrated into the AR experience. The idea of this chapter is that, by the end of it, you will understand the basic use of AR in this field so that you can explore its possibilities afterward.</p>
<p>Important! In this chapter, we will be using Unity 3D, so if you haven't done it already, we recommend that you read <a href="54a1260e-a741-4eb5-9c98-01350fcba94b.xhtml">Chapter 2</a>, <em>Introduction to Unity for AR Development</em>, first to familiarize yourself with its layout, nomenclature, and features.</p>
<p>In this chapter, we will be covering the following topics:</p>
<ul>
<li>Using AR for marketing</li>
<li>Understanding EasyAR</li>
<li>Building image-based AR</li>
<li>Working with custom 3D models</li>
<li>Creating an AR catalog</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Technical requirements</h1>
                
            
            
                
<p>The technical requirements for this chapter are as follows:</p>
<ul>
<li>A Unity 3D-supporting computer (see the latest requirements here: <a href="https://unity3d.com/es/unity/system-requirements">https://unity3d.com/es/unity/system-requirements</a>). This chapter's example project has been developed on a Windows 10 x 64 computer.</li>
<li>Unity 3D (2019.1.2f1 in this book).</li>
<li>Microsoft Visual Studio Community 2017 (included in the Unity installation).</li>
<li>EasyAR SDK (3.0.1 in this book).</li>
<li>A mobile device with Android 4.2 and above, or iOS 8.0 and above (EasyAR requirements: <a href="https://www.easyar.com/doc/EasyAR%20SDK/Getting%20Started/3.0/Platform-Requirements.html">https://www.easyar.com/doc/EasyAR%20SDK/Getting%20Started/3.0/Platform-Requirements.html</a>). The project has been tested on a Samsung Galaxy A5 (2017) and a Pocophone F1.</li>
</ul>
<p>The resources and code files for this chapter can be found here: <a href="https://github.com/PacktPublishing/Enterprise-Augmented-Reality-Projects/tree/master/Chapter05">https://github.com/PacktPublishing/Enterprise-Augmented-Reality-Projects/tree/master/Chapter05</a>.</p>
<p>The project in this chapter has been tested using a Windows 10 PC, and a Samsung Galaxy A5 (2017) and Pocophone F1 Android devices. For iOS development, you will also need to develop using an Apple computer because Unity will build an Xcode project.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Using AR for marketing</h1>
                
            
            
                
<p>Marketing is one of the first fields where AR landed when it first began. The visual impact of this technology makes it very attractive to potential customers, and it can be used from generating a <em>wow effect</em> to explaining the qualities of the products.</p>
<p>When it began, AR was mainly used to impact users. A new technology, close to the concept of holography, that let us see ourselves and others surrounded by virtual elements and characters, was a good enticement. Big brands started using it in commercial centers where people could see themselves on a big screen next to virtual animals, dinosaurs, or famous characters. With mobile devices being widespread, AR marketing techniques have changed: the user is now in charge of the experience and can interact with it. Brands could now go beyond the <em>wow</em> effect and create functional experiences to promote and sell their products. Examples of this include augmented catalogs that show the products in 3D over their flat images, virtual mirrors where you can buy the glasses that you are trying on in AR, packages that come to life to explain the elements inside the fabrication process, and so on.</p>
<p>The main idea behind AR's marketing success is that it has to be meaningful and engaging to make sure that users will want to download the app and use it and, after the experience, they will remember your brand, will return to you, or will have purchased from you.</p>
<p>In this chapter, we are going to use AR to create a furniture catalog where chairs will come to life from its pages. We will also give users the possibility to change these chairs' colors.</p>
<p>When focusing on using mobile devices to view the catalog's pages, we want our potential customers to see the product from all its angles so that they can get a better idea of what they are buying and feel more attached to the product. The possibility of customizing certain aspects of the product, such as its color, in real-time can help spark an interest in it.</p>
<p>For our project, we will be using the real catalog pages and 3D models from the company Euro Seating (<a href="https://www.euroseating.com/en/">https://www.euroseating.com/en/</a>), a seating manufacturer that's present in more than 100 countries all over the world. Using their high-quality 3D models and real catalog will help us visualize this project as a real-life AR application that can be used in any other marketing context.</p>
<p>The models and images that will be used in this chapter have been released by the company for their use in the context of this book.</p>
<p>Before we start working on this project, let's have a quick look at what EasyAR is and how to integrate it into Unity.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Understanding EasyAR</h1>
                
            
            
                
<p>EasyAR is a multiplatform augmented reality SDK for Android, iOS, UWP, Windows, Mac, and Unity editor. An AR engine allows us to create AR solutions in an easy way and offers multiple AR features, including the following:</p>
<ul>
<li><strong>Planar image tracking</strong>: A technology that recognizes and tracks the position, rotation, and scale of a previously selected image in the real world, such as a book cover, photograph, or a business card.</li>
<li><strong>Surface tracking (SLAM)</strong>: A technology to detect surfaces and keep track of the objects within it.</li>
<li><strong>3D object tracking</strong>: A technology to localize and track the position and orientation of real 3D objects instead of flat images.</li>
<li><strong>Screen recording</strong>: A feature that allows us to take videos of the AR scene while we are playing it.</li>
</ul>
<p>Some of the main features of EasyAR are as follows:</p>
<ul>
<li>It has an intuitive target management interface so that targets can be generated at runtime without us having to upload or download anything from their website, such as other tools.</li>
<li>It supports both local and cloud recognition.</li>
<li>It supports multitracking (simultaneous multiple target tracking) of different targets and the same targets.</li>
<li>It supports 3D tracking to detect and track 3D objects with rich textures in real environments.</li>
</ul>
<p>EasyAR has a web-based platform through which users can register their projects and obtain the licenses that they need in order to test and release their applications. EasyAR SDK is available in two different kinds of editions:</p>
<ul>
<li>EasyAR SDK Basic is free for commercial use without any kind of limitations or watermarks. It offers AR capacities based on image targets, it can load and recognize up to 1,000 offline targets, and it supports multi-target tracking, surface recognition, transparent and streaming video playback, and QR recognition. We need to make it known that the app has been developed with EasyAR.</li>
<li>EasyAR SDK Pro includes all the features of the Basic edition, plus 3D object tracking, multi-type target detection, and screen recording. The Pro edition costs $499.00 per license key, but offers a free trial version with limited uses (up to 100 per day). A feature comparison, pricing, and payment details are listed on the EasyAR SDK product page <a href="https://www.easyar.com/view/sdk.html">https://www.easyar.com/view/sdk.html</a>.</li>
</ul>
<p>For our project, the functionalities from the basic license will be enough. Let's get started with EasyAR.</p>
<p>Before we start using EasyAR SDK, we need to integrate it into Unity (take a look at <a href="54a1260e-a741-4eb5-9c98-01350fcba94b.xhtml">Chapter 2</a>, <em>Introduction to Unity for AR Development</em>, <em>Preparing your system for Unity</em> section to learn how to install and use Unity for the first time).</p>
<p>In order to download and import EasyAR SDK into Unity, follow these steps:</p>
<ol>
<li>Create an account by navigating to EasyAR's web page at <a href="https://www.easyar.com/view/signUp.html">https://www.easyar.com/view/signUp.html</a>. You will need to accept the developer agreement to create one. </li>
<li>After creating your account, you will receive a confirmation email so that you can activate it and log in.</li>
<li>Once you're logged in, go to the EasyAR download page (<a href="https://www.easyar.com/view/download.html">https://www.easyar.com/view/download.html</a>) and, in the right-hand column, in the Unity Packages section, select EasyARSense_3.0.1-final_Basic_Unity.zip to download it. This package contains the engine and the basic examples for the different uses of the tool. Unzip it to obtain the <kbd>.unitypackage</kbd> file.</li>
<li>Now, we can create the Unity project. Open the Unity Hub and, from the top bar, click on NEW:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1803 image-border" src="img/546df083-c1ad-4a74-b857-0145b74ede9e.png" style="width:73.92em;height:28.33em;"/></p>
<p>Opening Unity Hub to create a new project</p>
<ol start="5">
<li>Give the project a Name and a Location and click on CREATE:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1804 image-border" src="img/647581e8-eb46-4b3d-8151-3ac4e8bba705.png" style="width:60.67em;height:37.33em;"/></p>
<p>Giving the project a name and location</p>
<ol start="6">
<li>Once the project has been created, import the EasyAR package into Unity. To do so, once you've unzipped the compressed file, you can either double-click on the resultant <kbd>.unitypackage</kbd> file (the quickest way) or, from inside Unity, you can click on Assets|Import Package|Custom Package... and select the <kbd>.unitypackage</kbd> file.</li>
</ol>
<ol start="7">
<li>A new window will appear with all the files inside the EasyAR package. Click on Import:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1559 image-border" src="img/f680ba2a-dbd5-40c1-893b-3b8b419a1ec3.png" style="width:90.75em;height:72.58em;"/></div>
<p>Importing EasyAR SDK into Unity</p>
<ol start="8">
<li>As you will see, four new folders will appear on your Project window: EasyAR and Plugins, which include the main resources and code to build EasyAR for different platforms, and Samples and StreamingAssets, which contain the sample resources and code:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1560 image-border" src="img/8a9d3cba-5468-4922-9551-9a273418fd4c.png" style="width:18.92em;height:12.75em;"/></div>
<p>Four new folders have been added to the project</p>
<p>At this point, we have a new clean project with the EasyAR engine and samples included. In the next section, we will learn how to use it to build an app that detects a real image and displays a virtual cube on it.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building image-based AR</h1>
                
            
            
                
<p>You can build AR using different techniques; the most common one is image-based AR, which consists of tracking a previously selected image (target) and superposing the virtual content to it while taking into account the image's position, rotation, and size. This kind of tracking requires the use of different algorithms that differentiate images one from another through characteristic points of the design, and position the image in three dimensions on the camera feed. Don't worry—EasyAR will do this work for you. All you will need to do is decide which images will act as the targets and what virtual content will go on top of them. </p>
<p>To create this project, we will use EasyAR's ImageTarget sample project as a reference since it already has all the components we need for our app. But before we start with the AR elements, we will set up our project folders:</p>
<ol>
<li class="mce-root">The first thing we are going to do is create our personal <kbd>Assets</kbd> folder, <kbd>@MyAssets</kbd>, to differentiate it from the rest of the assets we've imported into Unity. Here, we will add all the external resources, such as marker images and 3D models. For that, right-click on the Project window and select Create|Folder. Name it <kbd>@MyAssets</kbd>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1561 image-border" src="img/7ebc128e-cb27-40e2-be32-afff6c5c28f5.png" style="width:57.83em;height:62.58em;"/></p>
<p>Create a new folder under the main Assets folder and call it @MyAssets</p>
<ol start="2">
<li class="mce-root">Inside this, create three other folders called <kbd>Images</kbd>, <kbd>Models</kbd>, and <kbd>Scripts</kbd>:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1562 image-border" src="img/684d9859-15d8-4541-9820-b68a13f362d8.png" style="width:26.08em;height:20.08em;"/></div>
<p>@MyAssets folder with the three folders inside it</p>
<p>Note: This project currently has six folders under the <kbd>Assets</kbd> folder. As you can see, projects tend to increase in size quickly and before we realize it, our resources are lost in the chaos of folders and files. Taking a couple of minutes to create a basic structure for our project folders is always good practice.</p>
<ol start="3">
<li>Now, we can create our AR scene. As we mentioned earlier, we will use EasyAR's sample scene as a reference. To do that, from the Project window, double-click on the HelloAR_ImageTarget scene located at Assets|Samples|Scenes to open it:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1563 image-border" src="img/2e6487aa-aac0-408f-994b-050f7267160a.png" style="width:126.25em;height:74.33em;"/></p>
<p>The HelloAR_ImageTarget sample scene</p>
<p style="padding-left: 60px">Here, we have all the elements we need to replicate our own AR project. </p>
<ol start="4">
<li>Now, click on File|Save As... and save the scene inside the Assets|Scenes folder with the name <kbd>ARScene</kbd>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1564 image-border" src="img/6b673900-3aac-4055-a0f7-94c165d30f8b.png" style="width:15.83em;height:11.00em;"/></p>
<p>Saving the scene with another name</p>
<p>By doing this, we've created a duplicate of the sample scene. If anything happens to our scene, we can always go back to the original one.</p>
<p>Now that we have the initial scene, we can take a look at each component and customize them for our needs.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Understanding our AR scene</h1>
                
            
            
                
<p>An AR scene has two main components that are common to any image-based AR SDK:</p>
<ul>
<li><strong>The ARCamera</strong>: The camera object that will receive the feed from the camera device and process those frames in search of the selected image (target).</li>
<li><strong>The ImageTarget</strong>: The representation of the real image where we will put the virtual elements. When the camera finds this ImageTarget in the real world, it shows the virtual elements attached to it.</li>
</ul>
<p>In EasyAR, we have three main elements (apart from the Directional Light):</p>
<ul>
<li>The Main Camera, which is the element that will render the image coming from our mobile device.</li>
<li>EasyAR_Setup, which is in charge of the main operations of the app, such as initializing and handling the EasyAR engine, attaching the physical camera device to the Main Camera element of the scene, or implementing the image target detection and tracking through the ImageTracker:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1565 image-border" src="img/edc5513f-49fb-456d-8600-6a001f9df4e5.png" style="width:13.00em;height:11.83em;"/></p>
<p>The EasyAR_Setup element and its elements</p>
<ul>
<li>ImageTarget, which is the representation of the image we want to recognize. It contains the virtual elements that will appear and disappear when the image is detected/lost in the real world. In this case, the ImageTarget already comes with two children: a Quad, which represents the image we will track, and a Cube, which we will use to initially test the scene. The values of the image to recognize appear in the Inspector window in the Image Target Controller, as shown in the following screenshot:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1566 image-border" src="img/fb508f0f-c89e-4172-9f69-fb16572479cd.png" style="width:48.42em;height:23.92em;"/></p>
<p>ImageTarget with its children on the left and the component values on the right</p>
<p>The parameters in the Image Target Controller are as follows: </p>
<ul>
<li>Target Name: The target's name. This doesn't have to be the image's name. </li>
<li>Target Path: This is the full path to the image we want to use as a target. It's directly related to the Type option.</li>
<li>Target Size: Size of the target. We will usually leave it at <kbd>1</kbd>.</li>
<li>Type: Whether the image of the target will be stored inside the assets of the project (specifically, the <kbd>StreamingAssets</kbd> folder, which we already have in our Project window) or if the Target Path is absolute.</li>
<li>Image Tracker: This is the ImageTracker that will search for this ImageTarget in the camera feed.</li>
<li>Target Type: Here, we will be using the first option, Local Image, since our image will be included locally inside the project.</li>
</ul>
<p>Now that we have seen the main elements of the scene, the next thing we need to do is create our own target. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Preparing the target</h1>
                
            
            
                
<p>Let's create our target. We'll start by adding the necessary images and resources to our project. Follow these steps to do so:</p>
<ol>
<li>Drag the <kbd>Target_Maia.jpg</kbd> image located in the <kbd>Images</kbd> folder from the project resources provided to the <kbd>StreamingAssets</kbd> folder, and the <kbd>Target_Maia_texture.jpg</kbd> image to our<kbd>@MyAssets/Images</kbd> folder, as shown in the following screenshot:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1567 image-border" src="img/5346fd8d-a2d6-487d-a10e-1e00c026d635.png" style="width:31.58em;height:8.92em;"/></p>
<p>Target_Maia.jpg and Target_Maia_texture.jpg images in their respective folders</p>
<p style="padding-left: 60px">The first image will be our target. We will use the second image, which is smaller than the first one, to guide us on the target's size in the editor. </p>
<p>We can't reuse the image from the <kbd>StreamingAssets</kbd> folder because the files in this folder are not processed by the Unity editor, so they can't be used inside the scene directly like regular files.</p>
<ol start="2">
<li>In the Hierarchy window, select the ImageTarget and change the Name and Path values in the Inspector window, as shown in the following screenshot:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1568 image-border" src="img/1181f49f-436f-4c7f-86e5-2ed936290923.png" style="width:18.42em;height:13.50em;"/> </p>
<p>Image Target Behaviour parameters</p>
<p style="padding-left: 60px">With these parameters, we are telling ImageTracker to find the target called <kbd>Target_Maia.jpg</kbd> inside the streaming assets of the project.</p>
<p>Note: You can use the folders inside the <kbd>StreamingAssets</kbd> folder to organize your targets. In that case, you will have to add the folder to the Target Path property (for example, <kbd>MyFolder/Target_Maia.jpg</kbd>).</p>
<ol start="3">
<li>The ImageTarget doesn't have an image associated with it, meaning that we can't actually see it in the editor. To visualize how our target will look, and especially to see how the virtual content will look over the real image (size, position), we will use the Quad element we already have as a child of the ImageTarget. By the end of the project, when we no longer need it, we will delete this Quad element. Drag the <kbd>@MyAssets/Images/Target_Maia_texture</kbd> image from the Project window to the Quad to make it its texture:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1569 image-border" src="img/d3edb798-81ec-4c2d-bdd3-fd881800b87c.png" style="width:28.50em;height:29.33em;"/> </div>
<p>Target_Maia_texture being dragged to the Quad</p>
<ol start="4">
<li>Now, we have to adjust the aspect ratio of the Quad so that it matches our image's aspect ratio. We'll do that by setting the Y scale to <kbd>0.7</kbd>, as shown in the following screenshot:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1570 image-border" src="img/23f61534-7e0a-43e2-87d9-89a84944fa1e.png" style="width:35.17em;height:13.50em;"/> </div>
<p>The Quad's Transform component and its values</p>
<p>Our scene is ready. We have the Main Camera, the EasyAR_Setup, our ImageTarget has the path to the image we want to recognize in it, and the Quad and a Cube are children so that they will appear when the marker is recognized. The next thing we need to do is get the EasyAR key to test the scene.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Obtaining the key</h1>
                
            
            
                
<p>To test the current scene, we need to add the key to the EasyAR GameObject. This key is generated by EasyAR to license the app:</p>
<ol>
<li>Go to the EasyAR develop center (<a href="https://www.easyar.com/view/developCenter.html#license">https://www.easyar.com/view/developCenter.html#license</a>), log in if you aren't already, and click on Add SDK License Key.</li>
<li>There, select EasyAR SDK Basic and provide the following details:</li>
</ol>
<ul>
<li style="padding-left: 30px">App Name: <kbd>AR Catalogue</kbd></li>
<li style="padding-left: 30px">Bundle ID (iOS): <kbd>com.banana.arcatalogue</kbd> (you only need to fill this in if you are going to build your app on iOS)</li>
<li style="padding-left: 30px">Package Name (Android): <kbd>com.banana.arcatalogue</kbd> (you only need to fill this in if you are going to build your app on Android)</li>
</ul>
<p>These names correspond to the app name and bundles (<em>com.companyname.productname</em>) in Unity. <br/>
<br/>
If you want to change these names in the future, you will have to make sure to change them in the key generation panel and copy/paste the resulting key into Unity again.</p>
<ol start="3">
<li>Select the created key in the panel and copy the SDK License Key (valid for EasyAR SDK 3.x) into the Easy AR Key element located in Assets|EasyAR|Common|Resources:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1571 image-border" src="img/02201c86-3071-426a-8a91-bb036b0df763.png" style="width:64.67em;height:29.00em;"/></div>
<p>EasyARKey settings script</p>
<p>Once we have the key, we are ready to test the scene.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Testing the scene</h1>
                
            
            
                
<p>Now, let's test the scene: press <em>Ctrl</em> + <em>S</em> to save everything again, make sure you have a webcam connected to your computer and hit the play button at the top of the Toolbar. The system should launch the webcam automatically. If you point at the marker (either printed or displayed in the screen), you should see the quad in the background and the cube popping from it in the Game view:</p>
<p>To view the scene in full-screen mode, you can press Maximize on Play in the top right of the Game view before pressing play.</p>
<div><img class="aligncenter size-full wp-image-1805 image-border" src="img/4889b53e-6ea7-4868-9637-b753ac862afb.png" style="width:41.25em;height:26.92em;"/></div>
<p>The Game window maximized, showing the cube appearing in AR over the target</p>
<p>Hit the play button again to stop the simulation.</p>
<div><strong>Important!</strong> Remember that to hit the play button to stop the simulation or any changes that are made in the scene afterward while you're still in simulation mode won't be saved.</div>


            

            
        
    

        

                            
                    <h1 class="header-title">Troubleshooting</h1>
                
            
            
                
<p>If you can't see the AR scene correctly, you can go to the Console tab (it's in the bottom bar or the tab next to the Game view) and look at the information there.</p>
<p>If everything worked correctly, it should show only information messages, namely the successful initialization of EasyAR, its version, and so on. However, if there is an error message of 404 Not Found, this means that the target has not been set up properly. Please review all the steps, especially the Path parameter in the ImageTarget to make sure it's pointing to the correct file. In the following screenshot, the target name is <kbd>Target_Maia2.jpg</kbd> instead of <kbd>Target_Maia.jpg</kbd>:</p>
<div><img class="aligncenter size-full wp-image-1806 image-border" src="img/45350b9c-c471-4d95-bf2d-7a2937ba699f.png" style="width:57.42em;height:28.25em;"/></div>
<p>The console showing common information messages and an error</p>
<p>In any case, you can try to troubleshoot the errors either in the Unity forums (<a href="https://forum.unity.com/">https://forum.unity.com/</a>) or in the EasyAR forums (<a href="https://forum-test.easyar.com/">https://forum-test.easyar.com/</a>).</p>
<p>This step of testing the scene is not necessary, although it's highly recommended. Building an app into a device takes time, so it's advisable to test it first and make sure it works as you want it to.</p>
<p>Now, let's build the app.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building the app</h1>
                
            
            
                
<p>To build a new Android app, there are some steps you will always have to follow:</p>
<ol>
<li>The first thing you need to do is select the platform. For that, click on File|Build Settings.</li>
<li>Click on Add Open Scenes to add our current scene to the (empty) list of scenes that will be built in the app.</li>
<li>Under Platform, select Android and click on Switch Platform. Wait until Unity recompiles the resources for the selected platform:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1807 image-border" src="img/00344579-73e2-4330-ab0d-bc617b599db0.png" style="width:52.17em;height:41.33em;"/></div>
<p>The Build Settings window with the current scene added and the Android platform selected</p>
<ol start="4">
<li>Then, click on Player Settings... to configure the app settings. In the pop-up window, we are going to change a few things for the time being:</li>
</ol>
<ul>
<li style="padding-left: 30px">Company Name: <kbd>Banana</kbd></li>
<li style="padding-left: 30px">Product Name: <kbd>AR Catalogue</kbd></li>
</ul>
<p>These names are the same ones we used in the generation of the EasyAR key code.</p>
<p style="padding-left: 60px">The following image shows the Project Settings window with the newly added Company Name and Product Name fields:</p>
<div><img src="img/d4378309-a5cd-40c0-8221-6f819e827595.png" style="width:35.33em;height:21.25em;"/></div>
<p>Filling in the company and product names in Project Settings</p>
<ol start="5">
<li>Then, on Other Settings|Identification, set the following:</li>
</ol>
<ul>
<li style="padding-left: 30px">Package name: <kbd>com.banana.arcatalogue</kbd> (make sure it matches the name from the EasyAR key generation, otherwise the app will launch an error on its initialization saying the package name doesn't match the key)</li>
<li style="padding-left: 30px">Version: <kbd>1.0</kbd></li>
<li style="padding-left: 30px">Minimum API Level: <kbd>Android 5.0 'Lollipop' (API level 21)</kbd></li>
<li style="padding-left: 30px">Target API Level: <kbd>Automatic (highest installed):</kbd></li>
</ul>
<p>According to EasyAR's documentation, the SDK is compatible with Android 4.2 and above, but for performance reasons, and in order to have a fluid AR experience on users' devices, we recommend setting the minimum API level to 5.0.</p>
<div><img class="aligncenter size-full wp-image-1602 image-border" src="img/50277197-413b-4e50-a372-2fa284426ea4.png" style="width:25.42em;height:7.42em;"/></div>
<p>Identification section inside the Other Settings tab</p>
<ol start="6">
<li class="mce-root">In case you have Android SDK installed outside Unity, before opening the Player Settings, Unity will most likely tell you it found an Android SDK and whether you want to use it. If that's the case, click Yes:</li>
</ol>
<div><img src="img/70cf358f-00ee-43b5-a7c6-f1646b4cf6d1.png" style="width:22.33em;height:8.92em;"/></div>
<p>Using the installed SDK if we already have it installed</p>
<ol start="7">
<li>Close the Player Settings window, connect your mobile device to the computer with a USB cable, and make sure your device has USB debugging activated in order to deploy the app directly into it from Unity. To activate this option, the general steps are as follows:</li>
</ol>
<ul>
<li style="padding-left: 30px">Enable Developer Mode by going to Settings|About Device.</li>
<li style="padding-left: 30px">Then, tap seven times on the build number until a notification appears stating that the Developer Options are available.</li>
<li style="padding-left: 30px">Go to the Developer Options and activate USB Debugging to allow the computer to install and start the app on it.</li>
</ul>
<div><strong>Important!</strong> As we mentioned earlier, these steps are general. If you have any doubts, please try to find the specific case for your device as the names of the options may vary from one manufacturer to another.</div>
<ul>
<li>Now, click on Build And Run in the Build Settings window, call your APK <kbd>arcatalogue.apk</kbd>, and hit Save. Unity will immediately start the compilation by looking for the Android SDK <em>(</em>if it doesn't detect it, it will ask you to select the folder where it's installed<em>)</em> and searching for a suitable device (if the device isn't plugged in correctly or USB Debugging isn't activated, it will tell you it can't find the device). Then, it will start the building process until it copies the APK into the device and launches it.</li>
<li>Once the app has launched, point the camera to the target in order to see the cube:</li>
</ul>
<div><img class="aligncenter size-full wp-image-1574 image-border" src="img/ca8a9d00-c772-4f0c-a530-61f0701208fa.png" style="width:30.00em;height:20.42em;"/></div>
<p>Screenshot of the cube over the target on a mobile device</p>
<p>If for any reason, you don't want/can't build the APK into the mobile device, you can use Build instead of Build And Run to create the APK without installing it.<br/>
<br/>
When the compilation process finishes, you will have to manually copy the resulting APK into your device and install it.</p>
<p>Note: This process is for Android devices only. To compile the app on an iOS device, you have to build and run the Unity project from an Apple computer and, when the building process finishes, it will automatically launch Xcode where the building will end up (you will have to assign your Apple ID in order to play the app on an iOS device, just like you need to with any other iOS app developed in Xcode).</p>
<p>In this section, you have learned how to use EasyAR to detect an image and display a virtual cube on it. Now, we will substitute the test cube for an external 3D model we will import into our project.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Working with custom 3D models</h1>
                
            
            
                
<p class="mce-root">In the previous section, we learned how to create a simple AR app with EasyAR to display a cube. In this section, we are going to import our own 3D model into Unity to visualize over the target and play with its materials and textures.</p>
<p class="mce-root">For this project, we are going to work with <kbd>fbx</kbd>, an exported format that allows us to include materials, textures, and animations. To see a list of all the exported and native 3D formats Unity accepts, please visit <a href="https://docs.unity3d.com/Manual/3D-formats.html">https://docs.unity3d.com/Manual/3D-formats.html</a>.</p>
<p>Before including the models in our project, we will make a few changes to our scene to improve it:</p>
<ol>
<li>Select Directional Light in the Hierarchy window. Then, in the Inspector window, set the Shadow Type to No Shadows. Shadows are quite resource-consuming  and, in this case, the AR experience will benefit from not having shadows:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1575 image-border" src="img/b1f4166a-3e06-4ed8-9d30-652a141d1f92.png" style="width:22.17em;height:22.83em;"/></p>
<p>Directional Light properties in the Inspector window</p>
<p class="mce-root"/>
<ol start="2">
<li>Now, select ImageTarget and change its Transform values so it rotates on the x axis. This way, in the scene, the objects will appear to be popping up from the ground:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1576 image-border" src="img/503818a1-c5f2-45c8-b015-5b17070e6254.png" style="width:30.67em;height:7.25em;"/></p>
<p>ImageTarget Transform values</p>
<ol start="3">
<li>Finally, select Main Camera and rotate and move it so that it's pointing at the target:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1577 image-border" src="img/89e3c519-631f-409c-8b6f-c4205535a693.png" style="width:31.25em;height:7.42em;"/></p>
<p>Main Camera Transform values</p>
<p>Now, it's time to include the 3D models. Let's get started:</p>
<ol>
<li class="mce-root">Delete the Cube from inside ImageTarget in the Hierarchy window by right-clicking on it and selecting Delete, or just by selecting it and pressing <em>Delete</em> on your keyboard:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1603 image-border" src="img/0346646c-90bc-43bf-b231-81eff556c250.png" style="width:13.50em;height:13.42em;"/></p>
<p>Deleting the Cube model</p>
<ol start="2">
<li class="mce-root">Drag the <kbd>Models/Maia</kbd> folder from the code resources provided into the Project window on <kbd>@MyAssets/Models</kbd>. This will import the <kbd>.fbx</kbd> mesh object and its texture files inside the <kbd>textures</kbd> folder, as shown in the following screenshot. </li>
<li class="mce-root">Drag the <kbd>maia.fbx</kbd> file inside ImageTarget. Remember to make sure it's inside ImageTarget so that it appears/disappears when the target does. Move, rotate, and scale the model until it looks good over the target:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1604 image-border" src="img/27013ab8-85e0-43d6-af18-e5ed143ccfd2.png" style="width:123.92em;height:71.50em;"/></div>
<p>The maia model inside the target</p>
<ol start="4">
<li>Now, hit the play button at the top of the Toolbar to test the current scene. The moment the target is detected, the seat will appear:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1809 image-border" src="img/3ade5339-d007-4126-ae38-b243d3ed9f31.png" style="width:120.17em;height:74.42em;"/></div>
<p>The seat appears when the target is detected</p>
<ol start="5">
<li>Hit the play button once more to stop the simulation and then save the scene (<em>Ctrl</em> + <em>S</em>). Connect the mobile device to your computer and press <em>Ctrl</em> + <em>B</em>, or go to File|Build Settings|Build And Run, to build the app into your device.</li>
</ol>
<p>Now that we have our basic AR scene, in the next section, we will create our AR catalog by adding another chair and creating the UI to allow users to interact with our furniture.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating an AR catalog</h1>
                
            
            
                
<p>Now that we have created the basic scene, we will create a small AR catalog:</p>
<ul>
<li>We will use two ImageTargets to show two different chairs.</li>
<li>We will allow users to change the color of the chairs while they are looking at them.</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Modifying the AR scene</h1>
                
            
            
                
<p>In this section, we are going to modify the current AR scene by adding a new ImageTarget. To do this, we will follow the same steps that we followed in the previous section:</p>
<ol>
<li>From the resources of the project, drag the <kbd>Target_Prince.jpg</kbd> image into the <kbd>Assets/StreamingAssets</kbd> folder.</li>
<li>Then, drag the <kbd>Target_Prince_texture.jpg</kbd> image into the <kbd>Assets/@MyAssets/Images</kbd> folder:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1579 image-border" src="img/8b300b54-127d-4ee8-9207-ad98d9999abc.png" style="width:62.50em;height:18.92em;"/></p>
<p>Target_Prince and Target_Prince_texture in their respective folders</p>
<ol start="3">
<li>Then, drag the <kbd>Prince</kbd> folder, which contains the model, into <kbd>Assets/@MyAssets/Models</kbd>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1580 image-border" src="img/d8f05a51-3720-49ce-955e-d7a0c49cc1a1.png" style="width:30.00em;height:14.50em;"/></p>
<p>The prince model</p>
<ol start="4">
<li>Right-click the ImageTarget and select Duplicate so that we can use it as template for the new ImageTarget:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1581 image-border" src="img/cb18f1ae-ed52-4350-946d-96402a4551bb.png" style="width:18.50em;height:14.17em;"/></p>
<p>Duplicating the ImageTarget</p>
<ol start="5">
<li>Rename the first ImageTarget to <kbd>ImageTargetMaia</kbd> and the current one to <kbd>ImageTargetPrince</kbd> so that you can distinguish between them. Move them on the scene so that they don't overlap.</li>
<li>Copy the following Target Name and Path parameters into the Image Target Controller of our ImageTargetPrince in the Inspector window:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1582 image-border" src="img/f7873427-c8f0-4ca2-903d-d700e781c817.png" style="width:25.67em;height:18.58em;"/> </div>
<p>Image Target Controller parameters</p>
<ol start="7">
<li>Drag the <kbd>Target_Prince_texture.jpg</kbd> image from the <kbd>Assets/@MyAssets/Images</kbd> folder onto the Project window to the Quad of ImageTargetPrince in the Hierarchy window in order to apply it as a texture.</li>
<li>Remove the maia model from ImageTargetPrince (right-click and Delete) and drag the prince model there instead.</li>
<li>Move, rotate, and scale the prince model until it's in the middle of the marker and looks good.</li>
</ol>
<p>The following screenshot shows our scene with the two ImageTargets and their respective seats:</p>
<div><img class="aligncenter size-full wp-image-1583 image-border" src="img/75853f8e-0e7a-4017-980b-c00cff999ccd.png" style="width:124.00em;height:69.67em;"/></div>
<p>The scene with the two targets and models</p>
<ol start="10">
<li>Before testing our scene, let's hide the Quad objects so that they don't appear in AR and we only see the chairs. For that, select both Quad GameObjects (<em>Ctrl </em>+<em> </em>left click for multiple selection) and uncheck their Mesh Renderer components:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1584 image-border" src="img/06fb0be6-e507-4416-aea6-a9438a8ce752.png" style="width:45.17em;height:15.83em;"/></p>
<p>Hiding the Quad GameObjects</p>
<ol start="11">
<li>Now, hit play to test that everything is set up correctly. Point with the camera to one of the targets and then to the other to see the chairs.</li>
<li>Hit play again to stop the simulation and continue making changes.</li>
<li>At the moment, ImageTracker of the EasyAR_Setup GameObject has been set to detect only one marker at a time. Let's increase this value to <kbd>2</kbd> so that our users can see both chairs together:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1585 image-border" src="img/75c3f7ed-b9bf-44be-8383-6717b9f8006c.png" style="width:51.17em;height:17.25em;"/></div>
<p>Changing the number of simultaneous targets</p>
<p>Now, test this out—you should see both chairs appear at the same time.</p>
<p>The next thing we need to do is create the script that will let the user change the textures of the seats.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating the controller script</h1>
                
            
            
                
<p>In this section, we are going to create a script that will control the scene and allow our users to change the textures of the seats. Let's get started:</p>
<ol>
<li>In @MyAssets|Scripts, create a new C# script by right-clicking and selecting Create|New C# Script. Call it <kbd>MainController</kbd> and double-click on it to open it in Visual Studio:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1810 image-border" src="img/8368436e-b918-4df8-b93b-e0fff782e303.png" style="width:52.00em;height:45.58em;"/></div>
<p>Creating a new C# Script in the @MyAssets/Scripts folder</p>
<ol start="2">
<li>If you installed Unity by following the steps in <a href="54a1260e-a741-4eb5-9c98-01350fcba94b.xhtml">Chapter 2</a>, <em>Introduction to Unity for AR Development</em>, you will already have Visual Studio installed and configured, and it will open the script with the default code, as shown in the following screenshot:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1587 image-border" src="img/a97b27f0-f8e0-4f09-a9b5-ac875a3d9d83.png" style="width:77.42em;height:53.67em;"/></p>
<p>MainController script in Visual Studio</p>
<ol start="3">
<li>If you installed Visual Studio prior to Unity or used another program such as MonoDevelop, you can configure Unity to open scripts with it by clicking on Edit|Preferences|External Tools|External Script Editor, as shown in the following screenshot:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1811 image-border" src="img/c00fba1d-773d-4505-bf86-8ed2d6f6cf71.png" style="width:93.42em;height:57.25em;"/></p>
<p>Preferences window with Visual Studio assigned as the External Script Editor</p>
<ol start="4">
<li>In the script, start by adding the following lines after the class declaration:</li>
</ol>
<pre style="padding-left: 60px">public class MainController : MonoBehaviour<br/>{<br/>    public Material[] materials; <br/> public Texture2D[] textures; <br/>... </pre>
<p style="padding-left: 60px">Here, we are declaring the <kbd>materials</kbd> array, which is where we will store the materials of both chairs. We will use it to change those materials' texture properties. The <kbd>textures</kbd> array will contain the actual images (red and blue) that we will apply to those materials. Both variables are public because we will initialize them from the Unity editor.</p>
<ol start="5">
<li>Inside the <kbd>Start()</kbd> method, add the following loop:</li>
</ol>
<pre style="padding-left: 60px">foreach (Material material in materials)<br/>{<br/>    material.mainTexture = textures[0];<br/>}</pre>
<p style="padding-left: 60px">With this loop, we are assigning each material inside the <kbd>materials</kbd> array to the first image of the <kbd>textures</kbd> array.</p>
<ol start="6">
<li>After the <kbd>Update()</kbd> method, we are going to create a new method:</li>
</ol>
<pre style="padding-left: 60px">public void ChangeColor()<br/>{<br/>    foreach (Material material in materials)<br/>    {<br/>        if (material.mainTexture == textures[0])<br/>            material.mainTexture = textures[1];<br/>        else<br/>            material.mainTexture = textures[0];<br/>    }<br/>}</pre>
<p style="padding-left: 60px">This method changes the texture (red or blue) of the materials of the chairs. It checks which texture is selected and assigns the other one to both chairs.</p>
<ol start="7">
<li>Now, go back to the Unity editor and drag the script to the EasyAR_Setup GameObject so that the script will affect the current scene. <br/></li>
</ol>
<p>Remember that a script will only be executed if it's attached to one GameObject (or more) of the scene. Otherwise, it will only exist in the Projects window but not in the actual scene.<br/>
<br/> Since this script doesn't make direct reference to the element it's attached to, it could go on any element that is active in the scene all the time (so it's always available). We have put it in EasyAR_Setup because it's a root element that fulfills this rule.</p>
<ol start="8">
<li>Unfold the two variables of the script, that is, Materials and Textures, and, in Materials, set Size to <kbd>2</kbd> and select tela and Material #5. These are the materials that correspond to the fabric in each model:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1588 image-border" src="img/d12450a8-01ca-4493-8049-6b986ed1772c.png" style="width:82.25em;height:53.33em;"/></p>
<p>Assigning the materials to the variables</p>
<ol start="9">
<li>In Textures, set Size to <kbd>2</kbd> and select the red and the blue elements, that is, Acapulco 3011 and Acapulco PANTONE 2935 C:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1589 image-border" src="img/029cd049-d80b-4809-a93a-714bf5a8fe1c.png" style="width:33.00em;height:25.33em;"/> </div>
<p>Assigning the textures to the variables</p>
<p>The Controller script is ready. Now, we have to create the user interface and the button that will trigger the color change through the <kbd>ChangeColor()</kbd> method we have just created.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating the interface</h1>
                
            
            
                
<p>Let's create a simple interface to allow our users to change the features of the AR objects they are seeing. Let's get started:</p>
<ol>
<li>First, right-click on the Hierarchy window and select UI|Canvas. The Canvas element is the main element on the Unity interface and contains all the other elements:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1590 image-border" src="img/fec51d15-663b-43bf-9a39-32b4780fb0f2.png" style="width:21.92em;height:40.75em;"/> </div>
<p>Creating a Canvas element on the scene</p>
<ol start="2">
<li>By default, the Canvas is located in the (0,0) point, facing back, overlaying the whole 3D scene, and with the current screen size. Double-click on its name in the Hierarchy window so that the scene focuses on it.</li>
<li>In the Inspector window, include the following values for Canvas Scaler:</li>
</ol>
<ul>
<li style="padding-left: 30px">UI Scale Mode: Scale With Screen Size. With this parameter, we are telling the canvas to adapt itself to the different screen sizes (useful when compiling for different mobile devices).</li>
<li style="padding-left: 30px">For Reference Resolution, we will use <kbd>1280</kbd> x <kbd>720</kbd>.</li>
<li style="padding-left: 30px">Screen Match Mode allows us to adapt the UI elements to the width and/or height of the screen. A value of <kbd>0.5</kbd> tells it to adapt to both:</li>
</ul>
<div><img class="aligncenter size-full wp-image-1591 image-border" src="img/2cf66ef6-f684-4ebd-a239-6b6dafaa8929.png" style="width:33.17em;height:19.33em;"/> </div>
<p>Canvas Scaler values on the Inspector window</p>
<p style="padding-left: 90px" class="CDPAlignLeft CDPAlign">To manipulate the UI elements (move, scale, and so on), select their specific tool in the toolbar:</p>
<p style="padding-left: 90px" class="CDPAlignCenter CDPAlign"><img src="img/3c51c2b7-b993-4d5e-ae82-452a53d4e3ef.png"/></p>
<ol start="4">
<li>We are going to use an icon for our color button. For that, import the <kbd>circle_icon.png</kbd> image into <kbd>Assets/@MyAssets/Images</kbd>. Select it in the Project window. Then, in the Inspector window, modify its Texture Type so that it's Sprite (2D and UI) in order to use it in the UI. Then press Apply to save this change:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1592 image-border" src="img/a12b98da-01de-4613-9c26-fc90666bbd29.png" style="width:64.83em;height:44.75em;"/></div>
<p>Converting circle_icon into a sprite image</p>
<ol start="5">
<li>Now, right-click on Canvas in the Hierarchy window and select UI/Button:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1812 image-border" src="img/29595d2f-5fc3-40a9-9849-e317fbb0d271.png" style="width:39.25em;height:49.58em;"/></div>
<p>Creating a button inside the canvas element</p>
<ol start="6">
<li>We don't need the text component that comes with the Button, so right-click on it and Delete it:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1594 image-border" src="img/4b02d15e-62a6-459c-a0f5-9d6eb551bcd6.png" style="width:17.25em;height:18.33em;"/> </div>
<p>Deleting the text component of the button</p>
<ol start="7">
<li>Change the button's name to <kbd>Color_button</kbd> and assign the icon we previously imported into its Image component to Source Image. Click on the Preserve Aspect checkbox to make sure it's always round:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1595 image-border" src="img/1f01c16b-e9b8-438e-9463-5f610fc46714.png" style="width:24.00em;height:18.83em;"/> </div>
<p>The Color_button image component in the Inspector window</p>
<ol start="8">
<li>Now, let's place the button in the top-right corner of the screen. For the Rect Transform component, click on the square and select the top-right option to move the button's anchors:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1596 image-border" src="img/b08afc56-276f-4671-a3b0-e590a0cd7969.png" style="width:31.33em;height:37.00em;"/> </div>
<p>Selecting the top-right anchor for the button</p>
<ol start="9">
<li>Then, change the PosX, PosY, Width, and Height values to adjust the button's position and scale, as follows:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1597 image-border" src="img/ee2401cb-7b7e-4d72-aef9-671e0dd857df.png" style="width:19.67em;height:14.33em;"/>  </div>
<p>The button's new Rect Transform values</p>
<ol start="10">
<li>Now, with the button selected, under the Button component on the Inspector window, go to the <kbd>On Click ()</kbd> method and press the + symbol to create a new action:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1598 image-border" src="img/8ff41c9a-10aa-4c62-8795-e2f6d7898095.png" style="width:20.00em;height:25.42em;"/></p>
<p>Creating a new action in the On Click() method</p>
<ol start="11">
<li>Drag the EasyAR_Setup element from the Hierarchy window to the None (Object) box and, from the drop-down menu on the right, select MainController|ChangeColor. With this, we are telling the UI that whenever the Color_button is pressed, the <kbd>ChangeColor()</kbd> method from the <kbd>MainController</kbd> class that's attached to the EasyAR_Setup GameObject will be executed:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1599 image-border" src="img/dd26cb74-1cc4-4e0d-af5d-67a415f5cc51.png" style="width:26.42em;height:21.00em;"/></div>
<p>Selecting the ChangeColor() method for the Color_button</p>
<ol start="12">
<li>Play the scene to test it. You will see that when you click on Color_button, the texture of the chairs changes. However, there is still a small detail: the button is not intuitive because it doesn't change its own color. To solve this, we are going to add a few lines to our code in Visual Studio.</li>
<li>Go back to Visual Studio and in the <kbd>MainController</kbd> script import the <kbd>UnityEngine</kbd> <kbd>UI</kbd> library at the beginning of the file: </li>
</ol>
<pre style="padding-left: 60px">using UnityEngine.UI;</pre>
<ol start="14">
<li>Add the following variables <em>before</em> the <kbd>Start()</kbd> method:</li>
</ol>
<pre style="padding-left: 60px">public Image color_button;<br/>private Color32 red = new Color32(159, 40, 40, 255);<br/>private Color32 blue = new Color32(40, 74, 159, 255);</pre>
<p style="padding-left: 60px">We'll use the first one to assign the button in Unity editor (that's why it's <kbd>public</kbd>) and the two colors as reference.</p>
<ol start="15">
<li>Add the following line inside the <kbd>Start()</kbd> method, after the loop segment, to initialize the button to <kbd>red</kbd>:</li>
</ol>
<pre style="padding-left: 60px">color_button.color = red;</pre>
<ol start="16">
<li>Add the following lines <em>inside</em> the <kbd>ChangeColor()</kbd> method:</li>
</ol>
<pre style="padding-left: 60px">if (color_button.color == red)<br/> color_button.color = blue;<br/>else<br/> color_button.color = red;</pre>
<p style="padding-left: 60px">Here, we are telling the button to evaluate the current color and, if it's <kbd>red</kbd>, to change it to <kbd>blue</kbd> and vice versa. This way, the button will change its color at the same time as the textures of the seats do.</p>
<ol start="17">
<li>Finally, in the Unity editor, drag the Color_button GameObject to the Color_button variable on the <kbd>EasyAR_Setup</kbd> GameObject to assign it:</li>
</ol>
<div><img class="aligncenter size-full wp-image-1600 image-border" src="img/0566cae6-2bd5-499e-bc09-3784bbf0d2d7.png" style="width:37.17em;height:20.08em;"/></div>
<p>The Color_button GameObject dragged to the last variable of the Main Controller</p>
<ol start="18">
<li>
<p>Save and test the scene in the editor to see how the button changes color initially and whenever it's pressed.</p>
</li>
</ol>
<ol start="19">
<li>Now, Build And Run the app in your mobile device and enjoy seeing how the seats come to life in AR:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-1601 image-border" src="img/1af10cc5-713d-4bd7-809b-78abf4b16a82.png" style="width:28.58em;height:14.83em;"/></p>
<p>Mobile phone screenshot with both seats in red</p>
<p>You can move the camera around the seats, get close to them, or move the targets to see them in detail. You can press the color button to switch their texture color. Now that the app is complete, you can even delete the Quad planes from the scene since they are no longer needed. With this, your project is ready.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<p>In this chapter, you learned how to create an AR catalog using the EasyAR SDK. You learned how to import the SDK into Unity and create a scene showing a cube on an ImageTarget. Then, you learned how to import models from outside Unity and modify some of their features, such as materials and textures. Then, you merged the models into the initial scene to make a seat come to life from its catalog. Finally, you added a script and UI elements to control the color of the models.</p>
<p>By the end of this chapter, you have acquired the basic skills to continue developing with EasyAR and try out some of its other features. For that, we recommend opening the rest of the sample scenes located at Assets | Samples | Scenes and try them out to understand how they work. You have also acquired an understanding of how AR can be used to create a catalog, magazine, or similar product for marketing. You can now improve this project in order to, for example, link the products with e-commerce, offering the consumer the full experience and attracting them to buy your products. You can now use basic tools to create your own AR experiences in marketing.</p>
<p>In the next chapter, you will learn how to use another SDK, Vuforia, to place the same seat models in a real environment, instead of using ImageTargets. You will learn how to use Vuforia's Ground Plane features to place and manipulate 3D models on flat surfaces, such as tables or on the ground, to create an interactive retail experience.</p>


            

            
        
    </body></html>