<html><head></head><body>
<div><div><h1 class="chapter-number" id="_idParaDest-207"><a id="_idTextAnchor328" class="pcalibre pcalibre1 calibre6"/>12</h1>
<h1 id="_idParaDest-208" class="calibre5"><a id="_idTextAnchor329" class="pcalibre pcalibre1 calibre6"/>Using Masks, Scrollbars, and Scroll Views</h1>
<p class="calibre3">We’ve learned how to make UI that has all of its components visible on the screen at once, but often you will have UI elements that are off-screen or off-menu and not visible until you navigate to them or reveal them.</p>
<p class="calibre3">In this chapter, we will discuss the following topics:</p>
<ul class="calibre16">
<li class="calibre14">How to use masks to hide portions of UI Images</li>
<li class="calibre14">Using Scrollbars and accessing their properties via code</li>
<li class="calibre14">Utilizing the UI Scroll View to create scrollable menus</li>
<li class="calibre14">Creating a settings menu with a mask and scrolling text</li>
</ul>
<p class="callout-heading"><a id="_idTextAnchor330" class="pcalibre pcalibre1 calibre6"/>Note</p>
<p class="callout">All the examples shown in this chapter can be found within the Unity project provided in the code bundle. They can be found within the scene labeled <strong class="source-inline1">Chapter12</strong>.</p>
<p class="callout">Each example image has a caption stating the example number within the scene.</p>
<p class="callout">In the scene, each example is on its own Canvas, and some of the Canvases are deactivated. To view an example on a deactivated Canvas, simply select the checkbox next to the Canvas’ name in the <strong class="bold">Inspector</strong>. Each Canvas is also given its own Event System. This will cause errors if you have more than one Canvas activated at a time.</p>
<h1 id="_idParaDest-209" class="calibre5"><a id="_idTextAnchor331" class="pcalibre pcalibre1 calibre6"/>Technical requirements</h1>
<p class="calibre3">You can find the relevant codes and asset files of this chapter here: <a href="https://github.com/PacktPublishing/Mastering-UI-Development-with-Unity-2nd-Edition/tree/main/Chapter%2012" class="pcalibre pcalibre1 calibre6">https://github.com/PacktPublishing/Mastering-UI-Development-with-Unity-2nd-Edition/tree/main/Chapter%2012</a></p>
<h1 id="_idParaDest-210" class="calibre5"><a id="_idTextAnchor332" class="pcalibre pcalibre1 calibre6"/>Using masks</h1>
<p class="calibre3">Masks affect the<a id="_idIndexMarker688" class="pcalibre pcalibre1 calibre6"/> visibility of objects within their shape. If an object is affected by a mask, any part of it outside the mask’s restricted area will be invisible. The visible area of a mask can either be determined by an Image with the <strong class="bold">Mask</strong> component or a Rect Transform with the <strong class="bold">Rect Mask </strong><strong class="bold">2D</strong> component.</p>
<p class="calibre3">With UI, masking can be used for scrolling menus, so items that exist outside of the menu’s area will not be visible. It is also used to <em class="italic">cut out</em> images. For example, the following image shows a cat’s image being cut out by a circular mask:</p>
<div><div><img alt="Figure 12.1: Circular Mask Example in the Chapter12 scene" src="img/B18327_12_01.jpg" class="calibre395"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.1: Circular Mask Example in the Chapter12 scene</p>
<p class="calibre3">You may note that the edges of the cat with the mask don’t look great. To avoid this, ensure that you use sprites with appropriate image resolutions and try different filtering modes on the Sprite’s <strong class="bold">Import Settings</strong>.</p>
<h2 id="_idParaDest-211" class="calibre7"><a id="_idTextAnchor333" class="pcalibre pcalibre1 calibre6"/>The Mask component</h2>
<p class="calibre3">The <strong class="bold">Mask</strong> component<a id="_idIndexMarker689" class="pcalibre pcalibre1 calibre6"/> can be added to any UI object with an <strong class="bold">Image</strong> component. If it is added to a UI object that doesn’t have an <strong class="bold">Image</strong> component, it won’t function since it needs an <strong class="bold">Image</strong> to determine the restricted area.</p>
<p class="calibre3">The <strong class="bold">Mask</strong> component can be added to a UI object by selecting <strong class="bold">Add Component</strong> | <strong class="bold">UI</strong> | <strong class="bold">Mask</strong> within the <strong class="bold">Inspector</strong>:</p>
<div><div><img alt="Figure 12.2: The Mask component" src="img/B18327_12_02.jpg" class="calibre396"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.2: The Mask component</p>
<p class="calibre3">Any children of the UI object containing the <strong class="bold">Mask</strong> component will then have their visibility restricted to only the area within the opaque area of the <strong class="bold">Source Image</strong> on its <strong class="bold">Image</strong> component.</p>
<p class="calibre3">In the following image, the object named <code>Mask</code> is a UI Image with a <strong class="bold">Mask</strong> component added to it. As you can see, the purple triangle on the left of the Panel is only partially visible, while the green triangle on the right is fully visible. The green triangle is fully visible because it is not a child of the UI Image that contains a <strong class="bold">Mask</strong> component:</p>
<div><div><img alt="Figure 12.3: The Mask Component Example in the Chapter12 scene" src="img/B18327_12_03.jpg" class="calibre397"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.3: The Mask Component Example in the Chapter12 scene</p>
<p class="calibre3">You have the option to hide the <strong class="bold">Source Image</strong> that defines the <strong class="bold">Mask</strong> component’s visibility area. If you deselect <strong class="bold">Show Mask Graphic</strong>, the parent’s <strong class="bold">Source Image</strong> will not be visible. It’s importan<a id="_idIndexMarker690" class="pcalibre pcalibre1 calibre6"/>t to note that changing the opacity on the <strong class="bold">Source Image</strong> does not affect the <strong class="bold">Mask</strong> component’s functionality.</p>
<h2 id="_idParaDest-212" class="calibre7"><a id="_idTextAnchor334" class="pcalibre pcalibre1 calibre6"/>Rect Mask 2D component</h2>
<p class="calibre3">Using the <strong class="bold">Mask</strong> component<a id="_idIndexMarker691" class="pcalibre pcalibre1 calibre6"/> allows you to restrict the visible area to a non-rectangular shape. However, if you want to restrict the visible area to a rectangular shape and don’t want to use an image to restrict the visible area, you can use a <strong class="bold">Rect Mask </strong><strong class="bold">2D</strong> component.</p>
<p class="calibre3">The Rect Mask 2D component can be added to a UI Object by selecting <strong class="bold">Add Component</strong> | <strong class="bold">UI</strong> | <strong class="bold">Rect Mask 2D</strong> within the <strong class="bold">Inspector</strong>, as shown in the following:</p>
<div><div><img alt="Figure 12.4: A Rect Mask 2D component" src="img/B18327_12_04.jpg" class="calibre398"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.4: A Rect Mask 2D component</p>
<p class="calibre3">Notice that the component allows you to adjust <strong class="bold">Padding</strong> and <strong class="bold">Softness</strong>.</p>
<p class="calibre3">When a <strong class="bold">Rect Mask 2D</strong> component is added to a GameObject, the visibility of its children will be affected by the shape of its Rect Transform. An <strong class="bold">Image</strong> component is not required on the parent object for the <strong class="bold">Rect Mask 2D</strong> component to function properly.</p>
<p class="calibre3">In the following <a id="_idIndexMarker692" class="pcalibre pcalibre1 calibre6"/>image, an <code>Empty</code> UI GameObject is created and a <strong class="bold">Rect Mask 2D</strong> component is added to it. It is then given a child UI Image. As you can see, the triangle is masked by the Rect Transform area:</p>
<div><div><img alt="Figure 12.5: A Rect Mask 2D Component Example in the Chapter12 scene" src="img/B18327_12_05.jpg" class="calibre399"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.5: A Rect Mask 2D Component Example in the Chapter12 scene</p>
<p class="calibre3">If you want to apply a mask to a rectangular shape, I highly recommend that you use the <strong class="bold">Rect Mask 2D</strong> component rather than the standard <strong class="bold">Mask</strong> component, as it is more performant.</p>
<p class="calibre3">It’s important to note that, as implied by the name <strong class="bold">Rect Mask 2D</strong>, this mask will only work on 2D objects. You can read more about its limitations at <a href="https://docs.unity3d.com/Manual/script-RectMask2D.xhtml" class="pcalibre pcalibre1 calibre6">https://docs.unity3d.com/Manual/script-RectMask2D.xhtml</a>.</p>
<p class="calibre3"><a id="_idTextAnchor335" class="pcalibre pcalibre1 calibre6"/>As I stated earlier, one common use for a mask is to create a menu with objects that <em class="italic">spill out</em> of the visible<a id="_idIndexMarker693" class="pcalibre pcalibre1 calibre6"/> area. Creating these types of menus requires scrollbars and scroll views, so let’s look at those components now.</p>
<h1 id="_idParaDest-213" class="calibre5"><a id="_idTextAnchor336" class="pcalibre pcalibre1 calibre6"/>Implementing UI Scrollbars</h1>
<p class="calibre3">The <strong class="bold">UI Scrollbar</strong> object <a id="_idIndexMarker694" class="pcalibre pcalibre1 calibre6"/>allows the user to drag a handle along a path. The position of the handle on the path affects the position of an image or object within a usable area.</p>
<p class="calibre3">If you’re having trouble seeing what a scroll bar is from the preceding description, here’s an easier explanation with context. It is most commonly used in video games with menus that have a lot of information within a viewable area that is smaller than the area that all the information takes up.</p>
<p class="calibre3">To create a UI Scrollbar, select <code>Sliding Area</code>. The <code>Sliding Area</code> also has a child named <code>Handle</code>.</p>
<p class="calibre3">The <code>Sliding Area</code> child is an empty GameObject. Its purpose is to ensure that its child, the <code>Handle</code>, is correctly positioned and aligned. The <code>Handle</code> is a UI Image. It represents the interactable area of the Scrollbar.</p>
<p class="calibre3">If you want to change the appearance of the Scrollbar’s background and <code>Handle</code>, you need to change the <code>Handle</code> child, respectively<a id="_idTextAnchor337" class="pcalibre pcalibre1 calibre6"/>.</p>
<h2 id="_idParaDest-214" class="calibre7"><a id="_idTextAnchor338" class="pcalibre pcalibre1 calibre6"/>The Scrollbar component</h2>
<p class="calibre3">The parent<a id="_idIndexMarker695" class="pcalibre pcalibre1 calibre6"/> Scrollbar object has a <strong class="bold">Scrollbar</strong> component. It has all the properties common to the interactable UI objects, along with a few that are exclusive to Scrollbars:</p>
<div><div><img alt="Figure 12.6: The properties of the Scrollbar component" src="img/B18327_12_06.jpg" class="calibre400"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.6: The properties of the Scrollbar componen<a id="_idTextAnchor339" class="pcalibre pcalibre1 calibre6"/>t</p>
<p class="calibre3">A Scrollbar’s <code>0</code> and <code>1</code>. Scrollbars are used to move objects that take<a id="_idIndexMarker696" class="pcalibre pcalibre1 calibre6"/> up more room than the viewable space. Due to this, the Scrollbar’s position should easily translate to a percentage or a value between <code>0</code> and <code>1</code>.</p>
<p class="calibre3">The <code>Handle</code> is assigned to this property. You›ll note that the Rect Transform component on the <code>Handle</code> GameObject has the <code>Handle</code> is affected by the Scrollbar. The position of the Scrollbar’s <code>Handle</code> is tied to the <strong class="bold">Value</strong> property of the <strong class="bold">Scrollbar</strong> component.</p>
<div><div><img alt="Figure 12.7: The Rect Transform component on the Handle GameObject" src="img/B18327_12_07.jpg" class="calibre401"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.7: The Rect Transform component on the Handle GameObject</p>
<p class="calibre3">The <strong class="bold">Direction</strong> property allows you to select the orientation of the Scrollbar. The available options are the same as with a Slider and translate accordingly: <strong class="bold">Left To Right</strong>, <strong class="bold">Right To Left</strong>, <strong class="bold">Bottom To Top</strong>, and <strong class="bold">Top </strong><strong class="bold">To Bottom</strong>.</p>
<p class="calibre3">The <code>Sliding Area</code> taken up by the Scrollbar’s <code>Handle</code>. This can be any <code>float</code> value from <code>0</code> to <code>1</code>. I recommend that you choose a value relative to the size of the objects being scrolled so that the Scrollbar’s movement feels more intuitive. This means that the larger the scrollable area is, the smaller the Scrollbar <code>Handle</code> becomes.</p>
<p class="calibre3">The <strong class="bold">Number of Of Steps</strong> property is used if you want the Scrollbar to have staggered, discrete steps and don’t want it to have continuously controlled movement. This is used if you want your scrollbar to move the scrolling objects to specific locations.</p>
<p class="calibre3">Often, you will see a scroll area represented by dots (like the dots that identify which home screen you are viewing on an iOS device). This can be achieved using a <code>0</code>. Setting this value to <code>0</code> will allow for continuously controlled movement<a id="_idIndexMarker697" class="pcalibre pcalibre1 calibre6"/> rather than staggered discrete steps.</p>
<p class="calibre3">Examples of creating continuous and discrete Scrollbars are provided in the <em class="italic">Examples</em> section at the end of this chapte<a id="_idTextAnchor340" class="pcalibre pcalibre1 calibre6"/>r.</p>
<h3 class="calibre9">Scrollbar default event – On Value Changed (Single)</h3>
<p class="calibre3">The <code>Handle</code> is moved. It can accept a <code>float</code> argument.</p>
<p class="calibre3">When a public function has a <code>float</code> parameter, it will appear twice within the function’s dropdown list of <strong class="bold">On Value Changed (Single)</strong> events: once within a <strong class="bold">Static Parameters</strong> list and again within the <strong class="bold">Dynamic float</strong> list, as shown in the following screenshot:</p>
<div><div><img alt="Figure 12.8: Static Parameters and Dynamic float methods" src="img/B18327_12_08.jpg" class="calibre402"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.8: Static Parameters and Dynamic float methods</p>
<p class="calibre3">If the function is<a id="_idIndexMarker699" class="pcalibre pcalibre1 calibre6"/> selected from the <code>float</code> as an argument within the event. The event will then only send the value within that box. In the example shown in the following screenshot, the only value that will ever be sent to the <code>ScrollbarWithParameter()</code> function will be <code>0</code>.</p>
<div><div><img alt="Figure 12.9: Example of a Static Parameters method in the Inspector" src="img/B18327_12_09.jpg" class="calibre403"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.9: Example of a Static Parameters method in the Inspect<a id="_idTextAnchor341" class="pcalibre pcalibre1 calibre6"/>or</p>
<p class="calibre3">If you want the Scrollbar’s value to be sent as an argument to a function that has a parameter, you must select the function from the <strong class="bold">Dynamic </strong><strong class="bold">float</strong> list.</p>
<p class="calibre3">The following functions and image represent the Scrollbar example found in the <code>Chapter12</code> scene that triggers events that call functions with and without parameters:</p>
<pre class="source-code">
public void ScrollbarWithoutParameter(){
    Debug.Log("changed");
}
public void ScrollbarWithParameter(float value){
    Debug.Log(value);
}</pre> <p class="calibre3">In the following<a id="_idIndexMarker700" class="pcalibre pcalibre1 calibre6"/> screenshot, the third option shows the function chosen from the <strong class="bold">Dynamic float</strong> list and will send the value of the <strong class="bold">Value</strong> property as an argument to the function:</p>
<div><div><img alt="Figure 12.10: Events on Scrollbar Example in the Chapter12 scene" src="img/B18327_12_10.jpg" class="calibre404"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.10: Events on Scrollbar Example in the Chapter12 scene</p>
<p class="calibre3">Now that we’ve <a id="_idIndexMarker701" class="pcalibre pcalibre1 calibre6"/>reviewed how to implement a UI Scrollbar in Unity, let’s look at UI Scroll Views.</p>
<h1 id="_idParaDest-215" class="calibre5"><a id="_idTextAnchor342" class="pcalibre pcalibre1 calibre6"/>Implementing UI Scroll View</h1>
<p class="calibre3">The <strong class="bold">UI Scroll View</strong> object <a id="_idIndexMarker702" class="pcalibre pcalibre1 calibre6"/>creates a scrollable area along with two child UI Scrollbars. The scrollable area can be scrolled using the scrollbars, by dragging the area within the Scroll View, or using the scroll wheel on the mouse.</p>
<p class="calibre3">To create a UI Scroll View, select <code>Viewport</code>, <code>Scrollbar Horizontal</code>, and <code>Scrollbar Vertical</code>. The <code>Viewport</code> object also has a child named <code>Content</code>. The <code>Scrollbar Horizontal</code> and <code>Scrollbar Vertical</code> children have the same parent/child relationship as default UI Scrollbars, as discussed in the previous section.</p>
<p class="calibre3">Even though the UI Scroll View comes with two <code>Scrollbar</code> children by default, you don’t have to use both Scrollbars with your <code>Scroll View</code>. In fact, you don’t have to use Scrollbars at all! Refer to the <em class="italic">Scroll Rect component</em> section for further details.</p>
<p class="calibre3">The <code>Viewport</code> child object is a UI Image with a <code>Viewport</code> has the <code>Viewport</code> applies a mask to an area within the <code>Scroll View</code>:</p>
<div><div><img alt="" role="presentation" src="img/B18327_12_11.jpg" class="calibre405"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.11: A UI Scroll View Viewport</p>
<p class="calibre3">This will make the<a id="_idIndexMarker703" class="pcalibre pcalibre1 calibre6"/> items within the <code>Scroll View</code> only viewable within the defined area (between the Scrollbars). You cannot change most of the <code>Viewport</code>, because this area is set based on how you have the settings of your <code>Scroll View</code> set in its <strong class="bold">Scroll Rect</strong> component (refer to the <em class="italic">Implementing UI Scrollbar</em> section for more details).</p>
<p class="calibre3">The child of <code>Viewport</code> is an empty <code>Rect Transform</code> named <code>Content</code>. This will act as the holder of all the items you wish to place within <code>Scroll View</code>. You can think of the <code>Content</code> as the things that will be moving around within the <code>Scroll View</code>. As you can see from the following image, the Rect Transform of <code>Content</code> is larger than the viewable area defined by <code>Viewport</code>, since the objective of a <code>Scroll View</code> is to have items outside of the viewable area.</p>
<div><div><img alt="Figure 12.12: A UI Scroll View Content" src="img/B18327_12_12.jpg" class="calibre406"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.12: A UI Scroll View Content</p>
<p class="calibre3">To add items to<a id="_idIndexMarker704" class="pcalibre pcalibre1 calibre6"/> the <code>Scroll View</code>, you simply add children to the <code>Content</code> object. Since <code>Content</code> is a child of <code>Viewport</code>, any of its children will also be affected by the <code>Viewport</code>.</p>
<p class="calibre3">The following example shows four images added as children of <code>Content</code>. <code>Content</code> has also been given a <strong class="bold">Vertical Layout </strong><strong class="bold">Group</strong> component:</p>
<div><div><img alt="Figure 12.13: A Scroll View example in the Chapter13 scene" src="img/B18327_12_13.jpg" class="calibre407"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.13: A Scroll View example in the Chapter13 scene</p>
<p class="calibre3">In the preceding<a id="_idIndexMarker705" class="pcalibre pcalibre1 calibre6"/> image, you can see that when the <code>Viewport</code>, all items are visible. When you are setting up your <code>Scroll View</code>, I highly recommend that you disable the <code>Viewport</code> so that you can see the general layout of the items you are placing and re-enable it when you are done laying out all the items.</p>
<p class="calibre3">You should also adjust the Rect Transform area of <code>Content</code> to enclose all of its child items or use a <code>Content</code> does not fully encompass all the items, scrolling the <code>Scroll View</code> may not show the items outside of its viewable area.</p>
<p class="calibre3"><code>Scroll View</code> contains an <code>Scroll View</code> (the gray rectangle that encapsulates everything), change the <code>Scroll View</code>. You can change the appearance of the Scrollbars by adjusting the appearance of the <code>Scrollbar Horizontal</code> and <code>Scrollbar Vertical</code> children, as described in the <em class="italic">Implementing UI </em><em class="italic">Scrollbar</em> section.</p>
<p class="calibre3">Now that we <a id="_idIndexMarker706" class="pcalibre pcalibre1 calibre6"/>understand the intent and setup of a Scroll Rect, let’s look at the individual properties of the Scroll Rect compo<a id="_idTextAnchor343" class="pcalibre pcalibre1 calibre6"/>nent.</p>
<h2 id="_idParaDest-216" class="calibre7"><a id="_idTextAnchor344" class="pcalibre pcalibre1 calibre6"/>Scroll Rect component</h2>
<p class="calibre3">The behavior<a id="_idIndexMarker707" class="pcalibre pcalibre1 calibre6"/> of the <code>Scroll View</code> is determined<a id="_idIndexMarker708" class="pcalibre pcalibre1 calibre6"/> by the Scroll Rect component on the Scroll View parent object:</p>
<div><div><img alt="Figure 12.14: The Scroll Rect component" src="img/B18327_12_14.jpg" class="calibre408"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.14: The Scroll Rect component</p>
<p class="calibre3">Note that the<a id="_idIndexMarker709" class="pcalibre pcalibre1 calibre6"/> Scroll <a id="_idIndexMarker710" class="pcalibre pcalibre1 calibre6"/>Rect component doesn’t have the <strong class="bold">Interactable</strong>, <strong class="bold">Transition</strong>, or <strong class="bold">Navigation</strong> properties that all the other UI components in this chapter (and previous chapters) have!</p>
<p class="calibre3">I’ll discuss the properties slightly out of order to make them easier to discuss.</p>
<p class="calibre3">The <code>Content</code> by default. The <code>Viewport</code> by default.</p>
<p class="calibre3">If you are creating a scrollable area without using the UI Scroll View, the <strong class="bold">Viewport</strong> and <strong class="bold">Content</strong> properties must be assigned and the Rect Transform assigned to <strong class="bold">Viewport</strong> must be a parent of the<a id="_idIndexMarker711" class="pcalibre pcalibre1 calibre6"/> Rect <a id="_idIndexMarker712" class="pcalibre pcalibre1 calibre6"/>Transform assigned to <strong class="bold">Content</strong>, for the <strong class="bold">Scroll Rect</strong> component to function <a id="_idTextAnchor345" class="pcalibre pcalibre1 calibre6"/>property.</p>
<h3 class="calibre9">Movement properties</h3>
<p class="calibre3">There are three<a id="_idIndexMarker713" class="pcalibre pcalibre1 calibre6"/> properties related to how the <code>Content</code> in the <code>Scroll View</code> will move. The <code>Scroll View</code> moves at its boundaries.</p>
<p class="calibre3">There are three <code>Content</code>.</p>
<p class="calibre3">When <code>Content</code>. The <code>Content</code> once the edges of Rect Transform of <code>Content</code> have been reached. However, when <code>Content</code>.</p>
<p class="calibre3">When <code>Content</code> is dragged past its boundary, it will bounce into place once the player stops dragging. This will also bounce if the scroll wheel is used. When <strong class="bold">Elastic</strong> is selected, the subproperty <strong class="bold">Elasticity</strong> becomes accessible. The <strong class="bold">Elasticity</strong> property determines the intensity of the bounce.</p>
<p class="calibre3">When <strong class="bold">Clamped</strong> is selected as the <strong class="bold">Movement Type</strong>, the Content will not be draggable past its boundary and no bounce <a id="_idTextAnchor346" class="pcalibre pcalibre1 calibre6"/>will occur.</p>
<h3 class="calibre9">Properties concerning scrolling speed</h3>
<p class="calibre3">Selecting the <code>Content</code> continue to move after the player has stopped dragging. <code>Content</code> movement initialized by the Scrollbars or mouse scroll wheel. When <code>Content</code> will stop moving after the player has ceased dragging. A <code>0</code> will stop the <code>Content</code> the instant the player stops dragging, and a <code>1</code> will never stop. By default, <code>0.135</code>.</p>
<p class="calibre3">The <strong class="bold">Scroll Sensitivity</strong> property determines how far the Content will move with each turn of the scroll wheel. The higher the number, the further the content will move with a turn, making it<a id="_idIndexMarker714" class="pcalibre pcalibre1 calibre6"/> appear to move more quickly.</p>
<p class="calibre3">If you want to disable the use of the mouse scroll wheel for the Scroll View, set <code>0</code>.</p>
<h3 class="calibre9">Properties of the Scrollbars</h3>
<p class="calibre3">You can set <a id="_idIndexMarker715" class="pcalibre pcalibre1 calibre6"/>properties for the way your horizontal and vertical scrollbars react separately. The <code>Scrollbar Horizontal</code> child and <code>Scrollbar Vertical</code> child, respectively.</p>
<p class="calibre3">If you only want to use drag on the Scroll View area and don’t want scrollbars, you can simply set the <code>None</code> or delete the <code>Scrollbar Horizontal</code> and <code>Scrollbar Vertical</code> objects from the scene.</p>
<p class="calibre3">Under each Scrollbar assignment, you can set the <strong class="bold">Visibility</strong> and <strong class="bold">Spacing</strong> properties of the respective Scrollbar.</p>
<p class="calibre3">The <strong class="bold">Visibility</strong> property has three options: <strong class="bold">Permanent</strong>, <strong class="bold">Auto Hide</strong>, and <strong class="bold">Auto Hide And Expand Viewport</strong>. When <strong class="bold">Permanent</strong> is selected for the <strong class="bold">Visibility</strong> property, the respective Scrollbar will remain visible, even if it is not needed, if its corresponding movement is allowed. For example, as shown in the following screenshot, if <strong class="bold">Horizontal</strong> movement is allowed, and the <strong class="bold">Horizontal Scrollbar</strong>’s <strong class="bold">Visibility</strong> is set to <strong class="bold">Permanent</strong>, the respective scrollbar will be visible, even though it is not necessary (no horizontal movement can be achieved):</p>
<div><div><img alt="Figure 12.15: Adjusting the Scrollbars in the Scroll Rect" src="img/B18327_12_15.jpg" class="calibre409"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.15: Adjusting the Scrollbars in the Scroll Rect</p>
<p class="calibre3">However, referencing<a id="_idIndexMarker716" class="pcalibre pcalibre1 calibre6"/> the same image, you can see that if <strong class="bold">Horizontal</strong> movement is deactivated, setting the <strong class="bold">Horizontal Scrollbar</strong>’s <strong class="bold">Visibility</strong> to <strong class="bold">Permanent</strong> removes it from the Scroll View entirely. It is also deactivated in the <strong class="bold">Hierarchy</strong>.</p>
<p class="calibre3">When <strong class="bold">Auto Hide</strong> is selected for the <strong class="bold">Visibility</strong> property, the respective Scrollbar will become invisible and deactivate in the <strong class="bold">Hierarchy</strong> when the game is played if it is not needed (meaning that there is no movement in that direction required) or if the respective axis movement is disabled.</p>
<p class="calibre3">The <code>Viewport</code> object has a <strong class="bold">Mask</strong> component, this will cause the mask’s area to expand to cover the area that was initially being taken up by the Scrollbar.</p>
<p class="calibre3">The <code>-3</code>, which means the two Rect Transforms overlap slightly. If you want to change the position of the <strong class="bold">Viewport</strong>, you have to do so with this property, since the properties related to the <strong class="bold">Viewport</strong>’s position <a id="_idIndexMarker717" class="pcalibre pcalibre1 calibre6"/>are disabled in its Rect Transf<a id="_idTextAnchor348" class="pcalibre pcalibre1 calibre6"/>orm component.</p>
<h3 class="calibre9">Scroll Rect default event – On Value Changed (Vector2)</h3>
<p class="calibre3">The Scroll Rect<a id="_idIndexMarker718" class="pcalibre pcalibre1 calibre6"/> component’s default event is the <code>Content</code> area of the <code>Scroll View</code> is moved by dragging, scrolling with the mouse scroll wheel, or scrolling with one of the Scrollbars. It accepts a <code>Vector2</code> position as an argument and, as with the other events discussed in this chapter, you can choose to pass no argument, a static argument, or a dynamic argument.</p>
<p class="calibre3">If you want to send the <code>Vector2</code> position of <code>Content</code> to a function, you’d send it to a function with a <code>Vector2</code> parameter from the <code>1.0</code> in the corresponding coordinate and the last position having a value of <code>0.0</code> in the corresponding coordinate.</p>
<p class="calibre3">Let’s consider the following function:</p>
<pre class="source-code">
public void ScrollViewWithParameter(Vector2 value)
{
    Debug.Log(value);
}</pre> <p class="calibre3">If the previous function is selected from the <code>Vector2</code> values printed in the <strong class="bold">Console</strong>:</p>
<div><div><img alt="Figure 12.16: Values of the Scroll Rect based on position" src="img/B18327_12_16.jpg" class="calibre410"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.16: Values of the Scroll Rect based on position</p>
<p class="calibre3">Now that we’ve <a id="_idIndexMarker719" class="pcalibre pcalibre1 calibre6"/>looked at the various UI elements, let’s look at some examples of imp<a id="_idTextAnchor349" class="pcalibre pcalibre1 calibre6"/>lementing them.</p>
<h1 id="_idParaDest-217" class="calibre5"><a id="_idTextAnchor350" class="pcalibre pcalibre1 calibre6"/>Examples</h1>
<p class="calibre3">I mentioned earlier <a id="_idIndexMarker720" class="pcalibre pcalibre1 calibre6"/>in this chapter that a common usage of masks and scroll views is a menu with multiple items in it. So, for this chapter, we’ll only create one example, a scroll view from a pre-existing menu, by mimicking the layout of the Scroll<a id="_idTextAnchor351" class="pcalibre pcalibre1 calibre6"/> View UI object.</p>
<h2 id="_idParaDest-218" class="calibre7"><a id="_idTextAnchor352" class="pcalibre pcalibre1 calibre6"/>Making a scroll view from a pre-existing menu</h2>
<p class="calibre3">To help organize<a id="_idIndexMarker721" class="pcalibre pcalibre1 calibre6"/> the project, duplicate the <code>Chapter11-Examples</code> scene that you created in the last chapter; rename it <code>Chapter12-Examples</code>. Open <code>Chapter12-Examples</code> and complete the following example within that scene.</p>
<p class="calibre3">I want to be able to add more items to my <code>Inventory Panel</code> and allow the player to scroll through the items. I could create a new UI Scroll View item and update it to look like my current <code>Inventory Panel</code>, but that would be more hassle than it’s worth. So, instead, I will convert the current <code>Inventory Panel</code> to a scrollable view. After it is complete, it will look like the following figure:</p>
<div><div><img alt="Figure 12.17: The scrollable menu we will build" src="img/B18327_12_17.jpg" class="calibre411"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.17: The scrollable menu we will build</p>
<p class="calibre3">This Panel can have its view adjusted by dragging the area beside the food items. I could have added a vertical scrollbar to control the movement, but I wanted to show you how simple it is to make a draggable area without one. It also just looks a little nicer without a scrollbar.</p>
<p class="calibre3">To make the <code>Inventory Panel</code> scrollable, complete the following steps:</p>
<ol class="calibre13">
<li class="calibre14">Right now, the <code>Pause Panel</code> is in the way. Let’s disable it by deselecting the checkbox in its <code>Inventory Panel</code> more easily.</li>
<li class="calibre14">For the scrollable <a id="_idIndexMarker722" class="pcalibre pcalibre1 calibre6"/>view to really work, we need more items in our inventory. Select all the children of <code>Inventory Holder</code> named <code>Item Holder</code> and duplicate them with <em class="italic">Ctrl</em> + <em class="italic">D</em>. Now, with all the duplicates selected, rename them <code>Item Holder</code>, so we don’t have the numbered suffix added to each of them. You should now have twice as many items in your <code>Inventory Holder</code>, and you should see the following:</li>
</ol>
<div><div><img alt="Figure 12.18: The result after Step 2" src="img/B18327_12_18.jpg" class="calibre412"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.18: The result after Step 2</p>
<ol class="calibre13">
<li value="3" class="calibre14">To get a scrollable<a id="_idIndexMarker723" class="pcalibre pcalibre1 calibre6"/> view, we need to add a few more items to the scene that can be parents of the content we want to scroll. There is a very specific parent/child relationship you want to follow with each item having the specific components to create a scrollable view, as demonstrated in the following diagram:
<div><div><img alt="Figure 12.19: The Hierarchy layout to create a scrollable menu" src="img/B18327_12_19.jpg" class="calibre413"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.19: The Hierarchy layout to create a scrollable menu</p>
<p class="calibre3">Let’s start with the<a id="_idIndexMarker724" class="pcalibre pcalibre1 calibre6"/> object that will hold the <code>Inventory Panel</code>, right-click, and select <code>Inventory Panel</code>.</p></li>
</ol>
<ol class="calibre13">
<li value="4" class="calibre14">Rename the new item <code>Scroll Rect</code> and reposition it in the <code>Inventory Banner</code>.</li>
<li class="calibre14">Give the <code>Scroll Rect</code> GameObject the <strong class="bold">Scroll Rect</strong> component, with <strong class="bold">Add Component</strong> | <strong class="bold">UI</strong> | <strong class="bold">Scroll Rect</strong> in its Inspector.</li>
<li class="calibre14">Now, let’s create the item that will hold the <code>Scroll Rect</code> and select <code>Scroll Rect</code>.</li>
<li class="calibre14">Rename the new Image <code>Viewport</code>.</li>
<li class="calibre14"><code>Inventory Holder</code> is visually in the way right now, so disable it momentarily.</li>
<li class="calibre14">Add the <code>uiElements_38</code> image to the <code>Viewport</code>.</li>
<li class="calibre14">Adjust the Rect Transform of <code>Scroll Rect</code> so that it stretches to fill its parent’s Rect<a id="_idIndexMarker725" class="pcalibre pcalibre1 calibre6"/> Transform.</li>
</ol>
<div><div><img alt="Figure 12.20: The Rect Transform of the Scroll Rect object" src="img/B18327_12_20.jpg" class="calibre414"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.20: The Rect Transform of the Scroll Rect object</p>
<ol class="calibre13">
<li value="11" class="calibre14">Adjust the Rect Transform properties of <code>Viewport</code>, as follows:</li>
</ol>
<div><div><img alt="Figure 12.21: The Rect Transform of the Scroll Rect object" src="img/B18327_12_21.jpg" class="calibre415"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.21: The Rect Transform of the Scroll Rect object</p>
<ol class="calibre13">
<li value="12" class="calibre14">Give <code>Viewport</code> the <strong class="bold">Mask</strong> component, with <strong class="bold">Add Component</strong> | <strong class="bold">UI</strong> | <strong class="bold">Mask</strong>.</li>
<li class="calibre14">Re-enable <code>Inventory Holder</code> and <a id="_idIndexMarker726" class="pcalibre pcalibre1 calibre6"/>rename it <code>Content</code>.</li>
<li class="calibre14">Set the alpha of the <code>Content</code> to <code>0</code> so that the background is invisible. You should see the following:</li>
</ol>
<div><div><img alt="Figure 12.22: The results of Step 11" src="img/B18327_12_22.jpg" class="calibre416"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.22: The results of Step 11</p>
<ol class="calibre13">
<li value="15" class="calibre14">Now, drag <code>Content</code> in<a id="_idIndexMarker727" class="pcalibre pcalibre1 calibre6"/> the <code>Viewport</code>. Doing so should make the mask instantly apply to all of the children of <code>Content</code>:</li>
</ol>
<div><div><img alt="Figure 12.23: The results of Step 12" src="img/B18327_12_23.jpg" class="calibre417"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.23: The results of Step 12</p>
<ol class="calibre13">
<li value="16" class="calibre14">Position <code>Content</code> so that<a id="_idIndexMarker728" class="pcalibre pcalibre1 calibre6"/> the food at the top of the list appears fully within the Mask area:</li>
</ol>
<div><div><img alt="Figure 12.24: How to position the Content" src="img/B18327_12_24.jpg" class="calibre418"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.24: How to position the Content</p>
<ol class="calibre13">
<li value="17" class="calibre14">Now, all that is<a id="_idIndexMarker729" class="pcalibre pcalibre1 calibre6"/> left to do is to have a properly functioning scrollable area to set up the properties on the <code>Scroll Rect</code> and drag <code>Content</code> and <code>Viewport</code> into their appropriate slots on the <code>Scroll </code><code>Rect</code> component.</li>
<li class="calibre14">Disable <strong class="bold">Horizontal</strong> movement because we only want the menu to move vertically. Set <strong class="bold">Movement Type</strong> to <strong class="bold">Clamped</strong> so that the menu doesn’t stretch and bounce and stays within the appropriate bounds. Your <strong class="bold">Scroll Rect</strong> component should now look as follows:</li>
</ol>
<div><div><img alt="Figure 12.25: Assigning the Content and Viewport" src="img/B18327_12_25.jpg" class="calibre419"/>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 12.25: Assigning the Content and Viewport</p>
<ol class="calibre13">
<li value="19" class="calibre14">Re-enable the <code>Pause Menu</code> object so that our <code>Pause Menu</code> will function in the game.</li>
</ol>
<p class="calibre3">If you play the game, the <code>Inventory Panel</code> should now have items that scroll when you drag beside them. Remember that you bring up the <code>Inventory Panel</code> by pressing the <em class="italic">I</em> key <a id="_idIndexMarker730" class="pcalibre pcalibre1 calibre6"/>on your keyboard. As we have drag and drop functionality on our individual items, to scroll, we have to drag the area of <code>Content</code> that does not have a<a id="_idTextAnchor353" class="pcalibre pcalibre1 calibre6"/> food item on it.</p>
<h1 id="_idParaDest-219" class="calibre5"><a id="_idTextAnchor354" class="pcalibre pcalibre1 calibre6"/>Summary</h1>
<p class="calibre3">This chapter covered how to hide the visibility of UI elements as well as use Scroll Views to create containers that hold more items than the screen can hold at one time. There are still quite a few more interactable UI elements, however. In the next chapter, we will look at the remaining interactive UI elements provided by the Unity UI system.</p>
</div>
</div></body></html>