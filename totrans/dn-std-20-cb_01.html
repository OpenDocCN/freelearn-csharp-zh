<html><head></head><body>
        

                            
                    <h1 class="header-title">Back to Basics</h1>
                
            
            
                
<p class="mce-root">In this chapter, we will cover the following recipes:</p>
<ul>
<li>Creating a C#-based console application</li>
<li>Creating a C# class library</li>
<li>Creating a classic Windows application to use the library</li>
<li>Creating a WPF-based application to use the library </li>
<li>Hello Universe – My first .NET Standard class library</li>
<li>Creating a Windows console-based application to use the library</li>
<li>Creating a ASP.NET Core-based web application to use the library</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Technical requirements</h1>
                
            
            
                
<p>Readers should have a basic knowledge of C#. They should also have a basic knowledge of using Visual Studio, installing packages using NuGet, and referencing libraries within projects from other projects.</p>
<p class="mce-root">The code files for this chapter can be found on GitHub:<br/>
<a href="https://github.com/PacktPublishing/DotNET-Standard-2-Cookbook/tree/master/Chapter01">https://github.com/PacktPublishing/DotNET-Standard-2-Cookbook/tree/master/Chapter01</a></p>
<p class="mce-root">Check out the following video to see the code in action:<br/>
<a href="https://goo.gl/PoR4HM">https://goo.gl/PoR4HM</a></p>


            

            
        
    

        

                            
                    <h1 class="header-title">Introduction </h1>
                
            
            
                
<p>Microsoft .NET is a general-purpose development platform with support for multiple programming languages, which is a key feature. Other key features include asynchronous and concurrent programming models and native interoperability. The .NET Framework supports multiple programming languages, such as C#, VB.NET, and F#, which are actively developed and supported by Microsoft. In this book, we are going to look at C#. </p>
<p>C# is a modern, object-oriented, type-safe programming language that helps developers build robust, secure applications using the .NET Framework. C# was introduced with .NET Framework 1.0 in 2002. Since that time, C# has evolved and matured. At the time of writing, the current version of C# is 7.0 and .NET has various flavors to use with the following: </p>
<ul>
<li><strong>.NET Framework</strong>: The full flavor of .NET that is distributed with Windows. Used by developers to build ASP.NET 4.5/4.6 under Windows or desktop Windows applications.</li>
<li><strong>.NET Core</strong>: Another flavor of .NET that runs under Windows, Mac, and Linux. Used by developers to build cross-platform .NET-based applications including cross-platform web applications, using ASP.NET Core.</li>
<li><strong>Xamarin</strong>: A mono-based framework used for mobile applications for iOS, Android, and Windows phone devices. macOS desktop applications are supported with this flavor.</li>
<li><strong>.NET Standard</strong>: A replacement for <strong>Portable Class Libraries</strong> (<strong>PCL</strong>) used by developers to share code among all platforms, but supported with APIs in the latest version, 2.0. Also, you should note that .NET Standard 2.0 is supported in .NET Core 2.0, .NET Framework 4.6.1, and later versions, as well as in Visual Studio 2017 (version 15.3).</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating a C#-based console application</h1>
                
            
            
                
<p>Let's get started with a simple C#-based console application. This console application will introduce some basic C# code and get things up and running for the library we are going to build in the next recipe. Our main focus is to get to the C# coding and prepare ourselves for all the excitement we are going to have later. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>To step through this recipe, you will need a running copy of Visual Studio 2017 with the latest version of .NET Framework. If you don't have a copy of Visual Studio 2017, you can download it from <a href="https://www.visualstudio.com/">https://www.visualstudio.com/</a>.</p>
<p>This will take you to Microsoft's Visual Studio website. Follow the instructions on the site to get a copy of Visual Studio and get things started. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<ol>
<li>Open Visual Studio 2017.</li>
<li>Click File | New | Project  and, in the New Project template dialog box, select Visual C# in the left-hand pane and Console App (.NET Framework) in the right-hand pane:</li>
</ol>
<div><img src="img/2a15fddd-58fa-41b7-a100-dc0f6bc39ead.png"/></div>
<ol start="3">
<li>In the Name: text box, type a name for your application. In this case, type <kbd>HelloCSharp</kbd>. Select a preferred location in the Location: drop-down list or click the Browse... button and select a location. Leave the defaults as they are:</li>
</ol>
<div><img src="img/3701bbaa-a33b-4f50-b730-97b78648a41f.png"/></div>
<ol start="4">
<li>Now Click OK.</li>
<li>You will be presented with a default code template for a C# console application. Let's hit <em>F5</em> to give it a test run. If everything is fine, a console will pop up and close. </li>
<li>At the end of the <kbd>Main</kbd> method, type the following code snippet: </li>
</ol>
<pre>      private static string SayHello(string yourName)<br/>      {<br/>          return $"Hello, {yourName}";<br/>      }</pre>
<ol start="7">
<li>Now, inside your <kbd>Main</kbd> method, type the code that calls the previous method we just created: </li>
</ol>
<pre class="mce-root">      var message = SayHello("Fiqri Ismail");<br/>      Console.WriteLine(message);<br/>      Console.ReadLine();</pre>
<ol start="8">
<li>Now we have written our first C# code. The code of the console app should look like the following after you are done coding: </li>
</ol>
<pre class="mce-root">      static void Main(string[] args)<br/>      {<br/>     <strong>   var message = SayHello("Fiqri Ismail");</strong><br/><strong>        Console.WriteLine(message);</strong><br/><strong>        Console.ReadLine();</strong><br/>      }<br/><br/>      private static string SayHello(string yourName)<br/>      {<br/>      <strong>  return $"Hello, {yourName}";</strong><br/>      }</pre>
<ol start="9">
<li>Let's hit <em>F5</em> and test the application. If everything is OK, you should see the following screen. Press <em>Enter </em>to exit: </li>
</ol>
<div><img class="alignnone size-full wp-image-547 image-border" src="img/2687305b-c0d6-467f-b78c-cdfe06d75dbc.png" style="width:32.50em;height:7.00em;"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p class="mce-root">Let us take a quick look at what we did in the previous recipe. In steps 1 to 4, we created a C#-based console application. The skeleton for a console application already comes with Visual Studio as a template. Giving a proper name to your project and a location is a good habit. These things will help you to track down your project easily for future use. In step 5, we just make sure the default console application template works fine and that there are no surprises waiting for us before doing any actual coding. </p>
<p>In step 6, we created a static method that takes a <kbd>string</kbd> parameter and returns a message with that parameter; this is called <strong>String Interpolation</strong>. It's a new feature introduced in C# 6.0 and can be used instead of the traditional <kbd>string.format()</kbd> method. Step 7 uses that method inside the main method. As in a normal console application, <kbd>Console.ReadLine()</kbd> will wait till any key is pressed before exiting. Finally, in step 9, we debug the code to check that everything works fine and as expected. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">See also</h1>
                
            
            
                
<ul>
<li class="mce-root">C# fundamentals  (<a href="b314c115-b9be-49b2-9826-8f78b3fcc8a6.xhtml">Chapter 2</a>, <em>Primitives, Collections, LINQ, and More</em>)</li>
<li>Creating Windows-based applications using C# (Creating a classic Windows-based application to use the Library—<a href="c123d601-050b-4a65-bd1b-719915e42c77.xhtml">Chapter 1</a>, <em>Back to Basics</em>)</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating a C# class library </h1>
                
            
            
                
<p class="mce-root">In this recipe, we are going to build a simple C# class library. This library will have a simple public method that takes a parameter and returns a string. Also, we will be creating a blank Visual Studio solution and adding the library project. This solution will be used in later recipes. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>Make sure you have installed a flavor of Visual Studio 2017 and its latest updates. At the time of writing, the latest Visual Studio 2017 version is 15.3.5.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<ol>
<li>Open Visual Studio 2017.</li>
<li>Click File | New | Project and, in the New Project template dialog box, select Visual Studio Solutions under the Other Project Types node in the left-hand pane, and select Blank Solution in the right-hand pane:</li>
</ol>
<div><img src="img/4620e531-f162-460a-9a2c-0795ab6c90ae.png"/></div>
<ol start="3">
<li>In the Name: textbox, type a name for your application. In this case, type <kbd>Chapter1.Library</kbd>. Select a preferred location under the Location: drop-down list or click the Browse... button and select a location. Leave the defaults as they are:</li>
</ol>
<div><img src="img/67bf27d2-1d2a-4dfc-8bba-0b644df81f44.png" style="width:49.67em;height:8.50em;"/></div>
<ol start="4">
<li>Now you have a blank solution. Let's add a C# class library project to the solution. Click Project | Add New Item... or you can right-click on the <kbd>Chapter1.Library</kbd> solution label in the Solution Explorer, and select Add | New Project....</li>
<li>In the Add New Project template dialog box, select Visual C# in the left side, pane and select Class Library (.NET Framework) in the right-hand pane:</li>
</ol>
<div><img src="img/0b385330-0683-4b7f-9d44-19827772025d.png" style="width:42.58em;height:29.50em;"/></div>
<ol start="6">
<li>In the Name: textbox, type a name for your class library. In this case, type <kbd>Chapter1.Library.HelloLib</kbd> as the name of the project. Leave the current location under the Location: drop-down list and click OK to create the project:</li>
</ol>
<div><img src="img/23975efa-4664-4f6f-9d83-34383f271c20.png"/></div>
<ol start="7">
<li>Now we have a brand new .NET Framework-based class library. In the Solution Explorer (press <em>Ctrl</em> + <em>Alt</em> + <em>L</em> if you don't see the Solution Explorer), the default structure should look like this: </li>
</ol>
<div><img class="alignnone size-full wp-image-548 image-border" src="img/0ed371c3-af50-4983-b5ce-80439d7828ea.png" style="width:25.67em;height:13.25em;"/></div>
<ol start="8">
<li>Now we have a default template for a class library project. Let's rename <kbd>Class1.cs</kbd> to something more meaningful. Rename it <kbd>HelloWorld.cs</kbd>. You can simply soft click on the label of the file in the Solution Explorer and type the new name (or click on the filename label and press <em>F2</em>). Click Yes in the confirmation box to confirm the renaming. </li>
<li>Type the following code snippet in the <kbd>HelloWorld</kbd> class body: </li>
</ol>
<pre class="mce-root">      public string SayHello(string name) <br/>      { <br/>          return $"Hello {name}, congratulations !!!, <br/>          this message is from the class library you created."; <br/>      }</pre>
<ol start="10">
<li>Let's build our code to check that everything is fine. Click Build | Build Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>B</em>, and the solution should build successfully. Let's test our class library in the next recipe. </li>
<li>Click File | Save All, or press <em>Ctrl</em> + <em>Shift</em> + <em>S</em>, to save the solution and the class library project. </li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>Let's see what we have done so far in this recipe and how it works. In steps 1 to 3, you have created a blank solution. Blank solutions are a very good starting point for any size of project. It gives you a whole new solution to start with. Later on, you can add more bits and pieces to your solution. Even though this is a simple introduction to class libraries, it is good practice to stick with proper naming conventions. It's not a must, but good practice. As you can see, we have given a name <kbd>Chapter1.Library</kbd>, so the name is meaningful and it says what our solution is about. </p>
<p>In the next steps, from 4 to 8, we have added a class library project to our blank solution. Now you have an idea how a solution will grow over time, from start to end. The template we have chosen is a full .NET Framework class library. We renamed the default <kbd>Class1.cs</kbd> template provided by Visual Studio. It's good practice to give a meaningful name to classes and the files we work with. </p>
<p>In steps 9 and 10, we added code to our class and checked all the syntax was correct by building the solution. It is also good practice to check for typos and other errors in syntax once in a while.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating a classic Windows-based application to use the library</h1>
                
            
            
                
<p>So far, from the previous recipe, we have created a blank solution and a class library that uses the full .NET Framework. In this recipe, let's create a classic Windows Forms application that uses the class library created in the previous recipe. We are going to build a Windows form that takes a name using a text box and a button, and that triggers the public method we have created in the class library. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, you will require the solution and the class you built in the previous recipe. Open Visual Studio 2017 and prepare for the project. Click Build | Build Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>B</em>, and the solution should build successfully. Everything's ready for testing our class library. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<ol>
<li>Open Visual Studio 2017.</li>
<li>Now open the solution from the previous recipe. Click File | Open | Project/Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>O</em>, and select the <kbd>Chapter1.Library</kbd> solution. </li>
<li>Now click on the <kbd>Chapter1.Library</kbd> solution label. Click File | Add | New Project....</li>
<li>In the Add New Project template dialog box, expand the Visual C# node in the left-hand pane. </li>
<li>Select Windows Classic Desktop and select Windows Forms App (.NET Framework) in the right template pane:</li>
</ol>
<div><img src="img/14bfcadb-58c4-4f98-a01a-b2ba4b3f2986.png"/></div>
<ol start="6">
<li>Now, in the Name: textbox, type a name for the new project. Let's type <kbd>Chapter1.Library.HelloWindowsForms</kbd> and leave the Location: textbox as it is and the defaults as well. Click OK to create the new project.</li>
</ol>
<div><img src="img/eb1ed34e-4d78-478e-b2ba-d8e2b780cf93.png"/></div>
<ol start="7">
<li>The new project will be added to the Solution Explorer and it should look like this: </li>
</ol>
<div><img class="alignnone size-full wp-image-549 image-border" src="img/b9173688-c125-43dd-b7b7-1b8d41ea7c4e.png" style="width:23.25em;height:20.08em;"/></div>
<ol start="8">
<li>Now let's do some cleaning of the names. Change <kbd>Form1.cs</kbd> to <kbd>MainForm.cs</kbd>. Remember, giving a meaningful name to your files is very important and a very good practice. </li>
<li>Select the Form in the MainForm [Design] tab and go to the Properties window (or press <em>F4</em>). Now change the Text property to <kbd>Hello World</kbd>. </li>
</ol>
<ol start="10">
<li>Let's add some UI components to the form. Go to the tool box window (or press <em>Ctrl</em> + <em>Alt</em> + <em>X</em> ) and drag and drop a Label, a TextBox, and a Button to the form. Arrange them as per the following screenshot: </li>
</ol>
<div><img class="alignnone size-full wp-image-550 image-border" src="img/b5f3575d-acae-49aa-89c0-ac060840419c.png" style="width:13.75em;height:13.75em;"/></div>
<ol start="11">
<li>Let's change some properties of the components we just dropped on the form. Go to the Properties window and change the defaults to the following:</li>
</ol>
<table>
<tbody>
<tr>
<td><strong>Component</strong></td>
<td><strong>Property</strong></td>
<td><strong>Value</strong></td>
</tr>
<tr>
<td>Label</td>
<td>Name</td>
<td><kbd>NameLabel</kbd></td>
</tr>
<tr>
<td>Label</td>
<td>Text</td>
<td><kbd>Type your name</kbd></td>
</tr>
<tr>
<td>TextBox</td>
<td>Name</td>
<td><kbd>NameTextBox</kbd></td>
</tr>
<tr>
<td>Button</td>
<td>Name</td>
<td><kbd>HelloButton</kbd></td>
</tr>
<tr>
<td>Button</td>
<td>Text</td>
<td><kbd>Say Hello</kbd></td>
</tr>
</tbody>
</table>
<p> </p>
<p style="padding-left: 60px">After the changes, the Windows form designer should look like this: </p>
<div><img class="alignnone size-full wp-image-551 image-border" src="img/a38f4d45-5168-442c-9194-bfd3f23359f0.png" style="width:13.67em;height:13.58em;"/></div>
<ol start="12">
<li>Let's add our library to the Windows Forms project. To do this, expand References under the <kbd>Chaper1.Library.HelloWindowsForms</kbd> project. Right-click on the References label and select Add Reference....</li>
<li>Under the Reference Manager dialog box, click on the Projects label in the left-hand pane. In the middle pane, check the <kbd>Chapter1.Library.HelloLib</kbd> project: </li>
</ol>
<div><img class="alignnone size-full wp-image-922 image-border" src="img/d8822cef-f3e1-4800-9b11-486c1833aea3.png" style="width:81.67em;height:33.75em;"/></div>
<ol start="14">
<li>Click OK.</li>
<li>Now double-click on the Say Hello button to open the code window. </li>
<li>In the code window, scroll to the top and type the following code, at the end of  the very last line of <kbd>using</kbd> directive:</li>
</ol>
<pre class="mce-root">      using Chapter1.Library.HelloLib;</pre>
<ol start="17">
<li>Now scroll down to the <kbd>HelloButton_Click</kbd> method. In between the curly brackets, type the following code: </li>
</ol>
<pre class="mce-root">      var helloMessage = new HelloWorld();<br/>      var yourName = NameTextBox.Text;<br/>      MessageBox.Show(helloMessage.SayHello(yourName));</pre>
<ol start="18">
<li>Time to test our classic Windows application with the class library created in the previous recipe. Hit <em>F5</em> to debug the code. Now you should see the Windows form created. </li>
</ol>
<ol start="19">
<li>Type your name in the text box and hit the Say Hello button. A message box will appear with a message from the class library: </li>
</ol>
<div><img class="alignnone size-full wp-image-923 image-border" src="img/b46ee683-bc60-4e33-a07f-7cbcb82a919c.png" style="width:45.42em;height:19.00em;"/></div>
<ol start="20">
<li>Congratulations!!! You have just used a class library from a classic Windows application. </li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p class="mce-root">If you have a closer look at the recipe we just completed, we have used a solution created from a previous recipe. In a real-world application, this is a day-to-day process. From steps 1 to 7, we opened an existing solution that contained the class library from the previous recipe and added a Classic Windows Forms application to the solution. </p>
<p>In steps 8 to 11, we prepared the Windows Form projects. Proper naming of the components and files is good practice. Even though this is a small application, proper naming is a good discipline. Steps 12 to 14 are the most important steps in this recipe. In these steps, we have added our class library to the Windows project as a reference. Now you can access all the public methods given by the class library from your Windows application. </p>
<p>In steps 15 to 17, we have added code to the button click event of <kbd>HelloButton</kbd>. Double-clicking on a component will get you to the C# code of the Windows form. Visual Studio will generate the code for you. In this case, it's the button click event. The default event of a component will vary depending on the component you have selected. In step 17, we created a variable to hold the instance of the <kbd>HelloWorld</kbd> class from the class library created. Then, we created another variable to hold the user input to the text box. The last line of code will call the <kbd>HelloWorld.SayHello(string name)</kbd> method with the string parameter supplied from the variable created in the previous line of code. Finally, a default message box will display the <kbd>string</kbd> returned from the <kbd>SayHello(string name)</kbd> method from the <kbd>HelloWorld</kbd> class. </p>
<p>Step 19 will execute the default project, in this case, our Windows-based application. Sometimes, if the class library project is selected as the default project, Visual Studio will complain that you cannot execute this sort of project. So make sure you have selected the Windows project as the default startup project.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating a WPF-based application to use the library </h1>
                
            
            
                
<p>Now, in this recipe, let's add a <strong>Windows Presentation Foundation</strong> (<strong>WPF</strong>)-based application to the solution and use the class library created in a previous recipe. WPF is the shortened name for Windows Presentation Foundation. The purpose of this recipe is to demonstrate how to share a library within the different .NET-based applications. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, you will require the solution and the class library you built in the previous recipe. Open Visual Studio 2017 and prepare for the project. Click Build | Build Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>B</em>, and the solution should build successfully. Everything's ready for testing our class library. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<ol>
<li>Open Visual Studio 2017.</li>
<li>Now open the solution from the previous recipe. Click File | Open | Open Project/Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>O</em>, and select the <kbd>Chapter1.Library</kbd> solution. </li>
<li>Now click on the <kbd>Chapter1.Library</kbd> solution label. Click File | Add | New Project.</li>
<li>In the Add New Project template dialog box, expand the Visual C# node in the left-hand pane.</li>
<li>Select Windows Classic Desktop and select WPF App (.NET Framework) in the right template pane. </li>
</ol>
<div><img src="img/c6f7bf2c-738a-458c-bfd8-1eee6d9e88e4.png"/></div>
<ol start="6">
<li>Now, in the Name: text box, type a name for the new project. Let's type <kbd>Chapter1.Library.HelloWPF</kbd> and leave the Location: as it is and the defaults as well. Click OK to create the new project.</li>
</ol>
<div><img src="img/c511bf42-140c-4c68-affc-1c44f196562e.png"/></div>
<ol start="7">
<li>Now the Solution Explorer (if it's not visible, press <em>Ctrl + Alt + L</em>) should look like this: </li>
</ol>
<div><img src="img/ca220998-2682-4430-b3fc-2cbc15ef7869.png" style="width:23.67em;height:33.50em;"/></div>
<ol start="8">
<li>Now click on the <kbd>MainWindow.xaml</kbd> tab and make sure you are in the Design mode. </li>
<li>Now, drag and drop a Button and a TextBlock from the tool box (to view the tool box, press <em>Ctrl</em> + <em>Alt</em> + <em>X</em>). You can find these components under Common WPF Controls. </li>
<li>The main window should look like this:</li>
</ol>
<div><img src="img/193bfeb4-1514-445c-84b1-fa2c2f9be117.png"/></div>
<ol start="11">
<li>Let's name our controls and change some properties as follows: <br/>
<table>
<tbody>
<tr>
<td><strong>Control</strong></td>
<td><strong>Property</strong></td>
<td><strong>Value</strong></td>
</tr>
<tr>
<td>TextBlock</td>
<td>Name</td>
<td><kbd>MessageLabel</kbd></td>
</tr>
<tr>
<td>TextBlock</td>
<td>Layout | Width</td>
<td><kbd>498</kbd></td>
</tr>
<tr>
<td>TextBlock</td>
<td>Layout | Height</td>
<td><kbd>93</kbd></td>
</tr>
<tr>
<td>TextBlock</td>
<td>Text | Font</td>
<td><kbd>Bold</kbd></td>
</tr>
<tr>
<td>TextBlock</td>
<td>Text | Font</td>
<td><kbd>Size 14</kbd></td>
</tr>
<tr>
<td>TextBlock</td>
<td>Common | Text</td>
<td><kbd>Press the button to see the message</kbd></td>
</tr>
<tr>
<td>Button</td>
<td>Name</td>
<td><kbd>HelloButton</kbd></td>
</tr>
<tr>
<td>Button</td>
<td>Layout | Width</td>
<td><kbd>276</kbd></td>
</tr>
<tr>
<td>Button</td>
<td>Layout | Height</td>
<td><kbd>60</kbd></td>
</tr>
<tr>
<td>Button</td>
<td>Common | Content</td>
<td><kbd>Say Hello</kbd></td>
</tr>
</tbody>
</table>
</li>
</ol>
<ol start="12">
<li>Let's add our class library as a reference to the WPF project we have just created. Expand the <kbd>Chapter1.Library.HelloWPF</kbd> project node and expand the References node in the Solution Explorer (if you don't see the Solution Explorer press <em>Ctrl</em> + <em>Alt</em> + <em>L</em>).</li>
<li>Right-click on the References label and select Add Reference....</li>
<li>Under the Reference Manager dialog box, click on the Projects label in the left-hand pane. In the middle pane, check the <kbd>Chapter1.Library.HelloLib</kbd> project:</li>
</ol>
<div><img class="alignnone size-full wp-image-552 image-border" src="img/ea9114d3-555d-4dd3-8787-e06cc64bc14c.png" style="width:81.75em;height:31.83em;"/></div>
<ol start="15">
<li>Click OK.</li>
<li>In the <kbd>MainWindow.xaml</kbd> tab, double-click on the <kbd>SayHello</kbd> button. </li>
<li>In the <kbd>MainWindow.xamal.cs</kbd> tab, scroll up till you see the <kbd>using</kbd> code block. Add this code as the last line of the <kbd>using</kbd> code block: </li>
</ol>
<pre class="mce-root">      using Chapter1.Library.HelloLib;</pre>
<ol start="18">
<li>Now scroll down till you reach the <kbd>HelloButton_Click</kbd> method. Type the following code block in between the curly brackets of the <kbd>HelloButton_Click</kbd> method:</li>
</ol>
<pre class="mce-root">      var yourName = "Fiqri Ismail";<br/>      var helloMessage = new HelloWorld();<br/><br/>      MessageLabel.Text = helloMessage.SayHello(yourName);</pre>
<ol start="19">
<li>Now we are ready to test. Press <em>F5</em> to debug our code: </li>
</ol>
<div><img class="alignnone size-full wp-image-553 image-border" src="img/936f3bda-3c1b-4bd7-9088-0ba9dcac140e.png" style="width:36.00em;height:16.08em;"/></div>
<ol start="20">
<li>Click on the Say Hello button to see the message from the class library:</li>
</ol>
<div><img class="alignnone size-full wp-image-554 image-border" src="img/608efc49-5d61-47a0-918c-87febd29a26c.png" style="width:34.42em;height:13.83em;"/></div>
<ol start="21">
<li>Congratulations!!! You have just used a library created with a WPF application. </li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>Let's have a look at the bits and pieces and how they are bound together. From steps 1 to 7, we have opened an existing solution and added a WPF project to that solution. In steps 8 to 10, we added a control to the WPF main form, from the toolbox. Since this is a WPF application, we went through an additional element; setting up the UI. In step 11, we have set up the UI elements using the properties window. </p>
<p>In steps 12 to 15, we added a reference to the WPF project. Referencing the library we have created is the most important part. Without referencing, the WPF project is totally unaware of the library.  After referencing the library only, it will available to the WPF project. Step 17 tells the compiler to use the namespace of the library. Now we don't have to call the full namespace of the class inside the library. In step 18, we created a simple variable and stored a name. The next line creates an instance of the <kbd>HelloWorld</kbd> class inside the library. Finally, we used the Text property of the WPF TextBlock control to store the value from the <kbd>SayHello(string name)</kbd> method.  </p>
<p>In the final steps – 19 to 20, we have executed the code and tested it. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Hello Universe – My first .NET Standard class library</h1>
                
            
            
                
<p>Now it's time to move on and take a look at the Microsoft .NET Standard. In this recipe, we will be looking at version 2.0 of the .NET Standard library. At the start, we will be building a small .NET Standard class library and using it with different .NET-based applications. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>Let's make sure we have downloaded and installed one of the flavors of Visual Studio 2017. If you are running on Windows, you have the option of choosing Visual Studio 2017 Community Edition, Professional Edition, or Enterprise Edition. If you are running on a mac, you have the choice of Visual Studio 2017 for macOS. Also, Visual Studio Code is available for all Windows, Mac, and Linux platforms. Visit <a href="http://www.visualstudio.com">http://www.visualstudio.com</a> and follow the instructions to download the Visual Studio of your choosing. </p>
<p>In the next step, we will be required to download and install .NET Core 2.0. Again, simply visit <a href="http://www.dot.net/core">http://www.dot.net/core</a> and download the latest version, in this case, version 2.0 of .NET Core. The site has a very simple and informative set of instructions on how to install .NET Core 2.0 on your system. </p>
<div><img class="alignnone size-full wp-image-924 image-border" src="img/09cf52f5-d238-48e2-9798-2776bba74533.png" style="width:160.00em;height:79.00em;"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<ol>
<li>Open Visual Studio 2017.</li>
<li>Click File | New | Project.</li>
<li>Now, in the New Project dialog box, expand the Visual C# node in the left-hand pane and select Class Library .NET Standard, and in the right-hand pane, select Class Library (.NET Standard): </li>
</ol>
<div><img src="img/23128d3d-7844-42d4-b69c-f6232748f0b1.png"/></div>
<ol start="4">
<li>In the Name: text box, type a name for your class library. Let's type <kbd>Chapter1.StandardLib.HelloUniverse</kbd> and select a preferred location under the Location: drop-down list, or click the Browse... button and select a location. Leave the defaults as they are. Finally, in the Solution name: text box, type <kbd>Chapter1.StandardLib</kbd>. </li>
</ol>
<div><img src="img/0d84c557-ae40-4ede-9940-db2eb594926b.png"/></div>
<ol start="5">
<li>Click OK.</li>
</ol>
<ol start="6">
<li>In the Solution Explorer (press <em>Ctrl</em> + <em>Alt</em> + <em>L</em>) , click on Class1.cs, press <em>F2,</em> and rename it <kbd>HelloUniverse.cs</kbd>. Confirm the renaming by selecting Yes in the confirmation box.  </li>
<li>Change the namespace from <kbd>Chapter1.StandardLib.HelloUniverse</kbd> to <kbd>Chapter1.StandardLib</kbd>.</li>
<li>Now, in between the curly brackets of the <kbd>HelloUniverse</kbd> class, type the following code: </li>
</ol>
<pre class="mce-root">      public string SayHello(string name)<br/>      {<br/>          return $"Hello {name}, <br/>          welcome to a whole new Universe of .NET Standard 2.0";<br/>      }</pre>
<ol start="9">
<li>Press <em>Ctrl</em> + <em>S</em> to save the changes and press <em>Ctrl</em> + <em>Shift</em> + <em>B</em> to build the code. If the build completes without any errors, we are good to go with the next recipe on how to use this class library.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>.NET Standard 2.0 is the latest release of its kind. .NET Standard is all about sharing code. Unlike .NET Framework class libraries, .NET Standard class library code can be shared across almost all of the .NET ecosystem. The latest version of .NET Standard is 2.0. At the time of writing, it can be shared across NET Framework 4.6.1, .NET Core 2.0, Mono 5.4, Xamarin.iOS 10.14, Xamarin.Mac 3.8, Xamarin.Android 7.5, and the upcoming version of <strong>Universal Windows Platform</strong> (<strong>UWP</strong>). It also replaces <strong>Portable Class Libraries</strong> (<strong>PCLs</strong>) as the tool for building .NET libraries that work everywhere.</p>
<p>In steps 1 to 5, we have created a new .NET Standard 2.0-based class library project. In step 4, we have given a proper name to the class library as well as to the solution. It is good practice to give a meaningful name to the project and to the solution. In step 6, we have changed the name of the default class to <kbd>HelloUniverse.cs</kbd>, and it automatically changed the class name thanks to refactoring features in Visual Studio. If you look at the layout of the .NET Standard 2.0 library template, you will see a Dependencies node. In a normal .NET Framework class library, we had References. The Dependencies node will list all the dependent components for that class library. </p>
<p>In step 8, we added a simple public method that takes a string parameter and returns a message with the parameter sent to the method. Finally, we checked for syntax errors and typos by building the solution. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating a Windows console-based application to use the library</h1>
                
            
            
                
<p>We have created a .NET Standard 2.0-based class library in the previous recipe. In this recipe, we will be creating a Windows console-based application to use the library. The console-based application will be using the full .NET Framework under Windows, the current version of .NET Framework  is 4.6.1. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>Let's get ready to create the Windows console application to use the .NET Standard library we have built in the previous recipe. If you haven't followed the previous recipe, make sure you have completed it. We are going to use that solution and add the Windows console application to it. Open Visual Studio 2017 and open the solution we saved from the previous recipe. Click Build | Build Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>B</em>, and the solution should build successfully. Everything's ready for testing our class library. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<ol>
<li>Open Visual Studio 2017.</li>
<li>Now, open the solution from the previous recipe. Click File | Open | Open Project/Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>O</em>, and select the <kbd>Chapter1.StandardLib</kbd> solution. </li>
<li>Now, click on the <kbd>Chapter1.Library</kbd> solution label. Click File | Add | New Project.</li>
</ol>
<ol start="4">
<li>In the Add New Project template dialog box, expand the Visual C# node in the left-hand pane. Select Windows Classic Desktop and select Console App (.NET Framework) from the right-hand pane. </li>
</ol>
<div><img src="img/5aa95cf8-969e-41a1-84c3-2d7faddca4a4.png"/></div>
<ol start="5">
<li>Now, in the Name: text box, type <kbd>Chapter1.Standard.HelloConsole</kbd> and leave the Location: text box as it is. </li>
</ol>
<div><img src="img/88c89e83-f80b-4440-9770-b5453102f273.png"/></div>
<ol start="6">
<li>Click OK.</li>
<li>Now, the Solution Explorer (if not visible, press <em>Ctrl</em> + <em>Alt</em> + <em>L</em>) should look like this: </li>
</ol>
<div><img class="alignnone size-full wp-image-555 image-border" src="img/e3502983-4db0-4b48-a334-4ecc08f0cbc6.png" style="width:22.92em;height:20.33em;"/></div>
<ol start="8">
<li>In the <kbd>Chapter1.StandardLib.HelloConsole</kbd> project tree, right-click on the References label and select Add Reference....  </li>
<li>Under the Reference Manager dialog box, click on the Projects label in the left-hand pane. In the middle pane, check the <kbd>Chapter1.StandardLib.HelloUniverse</kbd> project. </li>
</ol>
<div><img class="alignnone size-full wp-image-556 image-border" src="img/df239563-91a4-4ece-abb7-0673d9a2d03a.png" style="width:47.17em;height:19.83em;"/></div>
<ol start="10">
<li>Click OK.</li>
<li>In the Solution Explorer, double-click on the <kbd>Program.cs</kbd> filename under the <kbd>Chapter1.StandardLib.HelloConsole</kbd><strong> </strong>project. </li>
<li>Scroll up till you reach the <kbd>using</kbd> directive part of the code and add the following code as the last line of that section:</li>
</ol>
<pre class="mce-root">      using Chapter1.StandardLib;</pre>
<ol start="13">
<li>Now, in between the curly brackets of the <kbd>Main()</kbd> method, type the following code: </li>
</ol>
<pre class="mce-root">      var myName = "Fiqri Ismail";<br/>      var helloMessage = new HelloUniverse();<br/>      Console.WriteLine(helloMessage.SayHello(myName));<br/>      Console.ReadLine();</pre>
<ol start="14">
<li>Hit <em>F5</em> and see the code running: </li>
</ol>
<div><img class="alignnone size-full wp-image-557 image-border" src="img/c4f121af-053d-4e28-9231-2e324be7def2.png" style="width:49.42em;height:16.50em;"/></div>
<ol start="15">
<li>Press <em>Enter</em> to exit from the Command Prompt. </li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p class="mce-root">OK, let's dive behind the scenes of the stuff we just completed. From steps 1 to 7, we opened an existing project and added a new Windows console application. This project is a full .NET Framework project and its version is .NET Framework version 4.6.1. In steps 9 and 10, we added the reference to a .NET Standard class library project from the Windows console application. This is required to test the class library. Then, we can reference it and use it from the application, as we did in step 12. </p>
<p>In step 13, we created a variable to store the name (keep in mind, hardcoding is not a good practice). And then we have created an instance of the <kbd>HelloUniverse</kbd> class that we created in the .NET Standard 2.0 class library. To display the output of the <kbd>SayHello()</kbd> method to the console window, we have directly used the <kbd>Console.WriteLine()</kbd> method. Finally, we waited until the user presses a key to exit from the console by using the <kbd>Console.ReadLine()</kbd> method, or else the end user wouldn't be able to see any output in the console. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating an ASP.NET Core-based web application to use the library</h1>
                
            
            
                
<p>So far, we have tested the .NET Standard 2.0 class library with a Windows console application that runs under full .NET Framework version 4.6.1. In this recipe, we are going to create an ASP.NET Core 2.0 application. ASP.NET Core uses .NET Core, which is an open source, cross-platform supported .NET flavor. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>Let's get ready to create the ASP.NET Core application to use the .NET Standard library we have built in the previous recipe when we created the .NET Standard library. If you haven't followed that recipe, make sure you have completed it. We are going to use that solution and add the ASP.NET Core application to it. Also, make sure you have downloaded and installed the latest version of .NET Core Framework, which is available at <a href="http://www.dot.net/core">http://www.dot.net/core</a>. </p>
<p>Open Visual Studio 2017 and open the solution we saved from the previous recipe. Click Build | Build Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>B</em>, and the solution should build successfully. Everything's ready for testing our class library. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<ol>
<li>Open Visual Studio 2017.</li>
<li>Now, open the solution from the previous recipe. Click File | Open | Open Project/Solution, or press <em>Ctrl</em> + <em>Shift</em> + <em>O</em>, and select the <kbd>Chapter1.StandardLib</kbd> solution. </li>
</ol>
<ol start="3">
<li>Now click on the <kbd>Chapter1.Library</kbd> solution label. Click File | Add | New Project.</li>
<li>In the Add New Project template dialog box, expand the Visual C# node in the left-hand pane. Select Web and select ASP.NET Core Web Application from the right-hand pane:</li>
</ol>
<div><img src="img/88f8986b-2a25-4660-a732-df63b06f9b7b.png"/></div>
<ol start="5">
<li>In the Name: text box, type <kbd>Chapter1.StandardLib.AspNetCore</kbd> as the name of the project and leave the Location: as it is:</li>
</ol>
<div><img src="img/60c80a23-f0f5-43b5-a16d-e24f2cda325f.png"/></div>
<ol start="6">
<li>Click OK.</li>
</ol>
<ol start="7">
<li>Now, in the New ASP.NET Core Web Application dialog box, select .NET Core from the first drop-down list and ASP.NET Core 2.0 from the second drop-down list. Finally, select Web Application (Model-View-Controller) from the templates list:</li>
</ol>
<div><img src="img/ddf55d46-bd32-466d-8499-5e9616d6df57.png"/></div>
<ol start="8">
<li>Leave the defaults as they are and Click OK.</li>
</ol>
<ol start="9">
<li>Now, the Solution Explorer should look like this: </li>
</ol>
<div><img class="alignnone size-full wp-image-558 image-border" src="img/1ec12a05-882b-406f-bfc1-7148659a96d5.png" style="width:29.25em;height:34.25em;"/></div>
<ol start="10">
<li>Select the <kbd>Chapter1.StandardLib.AspNetCore</kbd> project, right-click, and select Set as Startup Project. </li>
</ol>
<ol start="11">
<li>Now hit <em>F5</em> for a test run. If everything is running smoothly, you should see this default ASP.NET Core template running on your default browser:</li>
</ol>
<div><img class="alignnone size-full wp-image-925 image-border" src="img/718c81c3-8985-4c40-9705-0ba38a452529.png" style="width:53.08em;height:27.33em;"/></div>
<p>Default ASP.NET Core template running on your default browser</p>
<ol start="12">
<li>Let's close the browser and add our .NET Standard class library as a reference. To do this, expand the <kbd>Chapter1.StandardLib.AspNetCore</kbd> project tree and select Dependencies.</li>
<li>Right-click on the Dependencies label and select Add Reference. </li>
</ol>
<ol start="14">
<li>Under the Reference Manager dialog box, click on the Projects label in the left-hand pane. In the middle pane, check the <kbd>Chapter1.StandardLib.HelloUniverse</kbd> project and click OK.</li>
</ol>
<div><img class="alignnone size-full wp-image-559 image-border" src="img/7dce502b-4f20-4ca4-8f14-60fde015ce3b.png" style="width:81.58em;height:34.75em;"/></div>
<ol start="15">
<li>Let's expand the Controllers folder and double-click <kbd>HomeController.cs</kbd>.</li>
<li>In <kbd>HomeController.cs</kbd>, add this code right next to the last line of the <kbd>using</kbd> directive block:</li>
</ol>
<pre class="mce-root">      using Chapter1.StandardLib;</pre>
<ol start="17">
<li>Now, inside the <kbd>About()</kbd> action, add the following code block after the <kbd>ViewData["Message"]</kbd> line (by default, this is after line 21 in the default template): </li>
</ol>
<pre class="mce-root">      var myName = "Fiqri Ismail"; <br/>      var helloMessage = new HelloUniverse();<br/>      ViewData["HelloMessage"] = helloMessage.SayHello(myName);</pre>
<ol start="18">
<li>Now expand the <kbd>Views</kbd> folder. Again, expand the <kbd>Home</kbd> folder as well.</li>
<li>Double-click on <kbd>About.cshtml</kbd>.</li>
<li>At the end of <kbd>About.cshtml</kbd>, add the following code:</li>
</ol>
<pre class="mce-root">      &lt;p&gt;@ViewData["HelloMessage"]&lt;/p&gt;</pre>
<ol start="21">
<li>Now press <em>F5</em> to see it in action.</li>
</ol>
<ol start="22">
<li>You will see the default ASP.NET Core template in the browser. Now click About to view the <kbd>About.cshtml</kbd> page: </li>
</ol>
<div><img class="alignnone size-full wp-image-927 image-border" src="img/a16a3103-69ee-4863-a948-352762cc34c7.png" style="width:35.17em;height:21.08em;"/></div>
<p>About.cshtml page</p>
<ol start="23">
<li>Excellent, now you have used a .NET Standard 2.0 library with an ASP.NET Core 2.0 web application. </li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>Let's have a look what we did just now. From steps 1 to 9, we opened and previously built an existing solution containing .NET Standard 2.0 library code. Then, we added an ASP.NET Core project to that solution. In step 10, we told Visual Studio to execute the ASP.NET Core project when we hit F5 or started debugging. In step 11, we tested the default template of ASP.NET Core in a default browser. </p>
<p>In steps 12 to 14, we added the reference to our ASP.NET Core application from the .NET Standard 2.0 class library. This allows you to access the library from an ASP.NET Core 2.0 web application. In step 16, we referenced the class library using the <kbd>using</kbd> directive. In step 17, we created a variable to hold the name and created an instance of the <kbd>HelloUniverse</kbd> class. </p>
<p>Finally, we have stored the message from the <kbd>SayHello()</kbd> method in the <kbd>ViewData</kbd> collection. The <kbd>ViewData</kbd> collection allows you to transfer data from Controllers to Views. In steps 19 and 20, we opened the relevant view for the <kbd>About()</kbd> action, which is <kbd>About.cshtml</kbd>. Finally, in step 20, we added simple HTML code to display the stored value in <kbd>ViewData</kbd> in the <kbd>HomeController</kbd> class. As a last step, we executed the web application and tested it. </p>


            

            
        
    </body></html>