- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Not so long ago, a typical personal computer CPU had only one computing core,
    and the power consumption was enough to cook fried eggs on it. In 2005, Intel
    introduced its first multiple-core CPU, and since then, computers started developing
    in a different direction. Low-power consumption and a number of computing cores
    became more important than a row computing core performance. This lead to programming
    paradigm changes as well. Now, we need to learn how to use all CPU cores effectively
    to achieve the best performance, and at the same time, we need to save battery
    power by running only the programs that we need at a particular time. Besides
    that, we need to program server applications in a way to use multiple CPU cores
    or even multiple computers as efficiently as possible to support as many users
    as we can.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 不久以前，典型的个人计算机CPU只有一个计算核心，其功耗足以在上面煎鸡蛋。2005年，英特尔推出了其首款多核CPU，从那时起，计算机开始向不同方向发展。低功耗和多个计算核心比单个计算核心的性能更重要。这导致了编程范式的变化。现在，我们需要学习如何有效地使用所有CPU核心以实现最佳性能，同时，我们还需要通过仅运行特定时间所需的程序来节省电池电量。除此之外，我们还需要以尽可能高效的方式编写服务器应用程序，使用多个CPU核心甚至多台计算机，以支持尽可能多的用户。
- en: To be able to create such applications, you have to learn to use multiple CPU
    cores in your programs effectively. If you use the Microsoft .NET development
    platform and C#, this book will be a perfect starting point for you to program
    fast and responsive applications.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 要能够创建这样的应用程序，你必须学会在程序中有效地使用多个CPU核心。如果你使用的是Microsoft .NET开发平台和C#，这本书将是你编写快速响应应用程序的完美起点。
- en: The purpose of this book is to provide you with a step-by-step guide for multithreading
    and parallel programming in C#. We will start with the basic concepts, going through
    more and more advanced topics based on the information from previous chapters,
    and we will end with real-world parallel programming patterns, Universal Windows
    applications, and cross-platform applications samples.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的目的是为你提供C#中多线程和并行编程的逐步指南。我们将从基本概念开始，根据前几章的信息，逐步深入更高级的主题，并以实际世界的并行编程模式、通用Windows应用程序和跨平台应用程序示例结束。
- en: What this book covers
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](ch01.html "Chapter 1. Threading Basics"), *Threading Basics*, introduces
    the basic operations with threads in C#. It explains what a thread is, the pros
    and cons of using threads, and other important thread aspects.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](ch01.html "第1章。线程基础")，*线程基础*，介绍了C#中线程的基本操作。它解释了什么是线程，使用线程的优缺点，以及其他重要的线程方面。'
- en: '[Chapter 2](ch02.html "Chapter 2. Thread Synchronization"), *Thread Synchronization*,
    describes thread interaction details. You will learn why we need to coordinate
    threads together and the different ways of organizing thread coordination.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](ch02.html "第2章。线程同步")，*线程同步*，描述了线程交互的细节。你将了解为什么我们需要协调线程，以及组织线程协调的不同方式。'
- en: '[Chapter 3](ch03.html "Chapter 3. Using a Thread Pool"), *Using a Thread Pool*,
    explains the thread pool concept. It shows how to use a thread pool, how to work
    with asynchronous operations, and the good and bad practices of using a thread
    pool.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](ch03.html "第3章。使用线程池")，*使用线程池*，解释了线程池的概念。它展示了如何使用线程池，如何处理异步操作，以及使用线程池的优缺点。'
- en: '[Chapter 4](ch04.html "Chapter 4. Using the Task Parallel Library"), *Using
    the Task Parallel Library*, is a deep dive into the Task Parallel Library (TPL)
    framework. This chapter outlines every important aspect of TPL, including task
    combination, exception management, and operation cancelation.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](ch04.html "第4章。使用任务并行库")，*使用任务并行库*，深入探讨了任务并行库（TPL）框架。本章概述了TPL的每个重要方面，包括任务组合、异常管理和操作取消。'
- en: '[Chapter 5](ch05.html "Chapter 5. Using C# 6.0"), *Using C# 6.0*, explains
    in detail the recently introduced C# feature—asynchronous methods. You will find
    out what the `async` and `await` keywords mean, how to use them in different scenarios,
    and how `await` works under the hood.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ch05.html "第5章。使用C# 6.0")，*使用C# 6.0*，详细介绍了最近引入的C#特性——异步方法。你将了解`async`和`await`关键字的意义，如何在不同的场景中使用它们，以及`await`是如何在底层工作的。'
- en: '[Chapter 6](ch06.html "Chapter 6. Using Concurrent Collections"), *Using Concurrent
    Collections*, describes the standard data structures for parallel algorithms included
    in .NET Framework. It goes through sample programming scenarios for each data
    structure.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](ch06.html "第6章。使用并发集合"), *使用并发集合*描述了.NET Framework中包含的并行算法的标准数据结构。它为每个数据结构提供了示例编程场景。'
- en: '[Chapter 7](ch07.html "Chapter 7. Using PLINQ"), *Using PLINQ*, is a deep dive
    into the Parallel LINQ infrastructure. The chapter describes task and data parallelism,
    parallelizing a LINQ query, tweaking parallelism options, partitioning a query,
    and aggregating the parallel query result.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ch07.html "第7章。使用PLINQ"), *使用PLINQ*深入探讨了Parallel LINQ基础设施。本章描述了任务并行和数据并行，并行化LINQ查询，调整并行选项，分区查询以及聚合并行查询的结果。'
- en: '[Chapter 8](ch08.html "Chapter 8. Reactive Extensions"), *Reactive Extensions*,
    explains how and when to use the Reactive Extensions framework. You will learn
    how to compose events and how to perform a LINQ query against an event sequence.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](ch08.html "第8章。响应式扩展"), *响应式扩展*解释了何时以及如何使用响应式扩展框架。你将学习如何组合事件以及如何对事件序列执行LINQ查询。'
- en: '[Chapter 9](ch09.html "Chapter 9. Using Asynchronous I/O"), *Using Asynchronous
    I/O*, covers in detail the asynchronous I/O process, including files, networks,
    and database scenarios.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](ch09.html "第9章。使用异步I/O"), *使用异步I/O*详细介绍了异步I/O过程，包括文件、网络和数据库场景。'
- en: '[Chapter 10](ch10.html "Chapter 10. Parallel Programming Patterns"), *Parallel
    Programming Patterns*, outlines the solutions to common parallel programming problems.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](ch10.html "第10章。并行编程模式"), *并行编程模式*概述了常见并行编程问题的解决方案。'
- en: '[Chapter 11](ch11.html "Chapter 11. There''s More"), *There''s More*, covers
    the aspects of programming asynchronous applications for Windows 10, OS X, and
    Linux. You will learn how to work with Windows 10 asynchronous APIs and how to
    perform the background work in Universal Windows applications. Also, you will
    get familiar with cross-platform .NET development tools and components.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第11章](ch11.html "第11章。更多内容"），*更多内容*涵盖了为Windows 10、OS X和Linux编程异步应用程序的各个方面。你将学习如何使用Windows
    10异步API以及如何在通用Windows应用程序中执行后台工作。此外，你将熟悉跨平台.NET开发工具和组件。'
- en: What you need for this book
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你需要这本书的内容
- en: For most of the recipes, you will need Microsoft Visual Studio Community 2015\.
    The recipes in [Chapter 11](ch11.html "Chapter 11. There's More"), *There's more*,
    for OS X and Linux will optionally require the Visual Studio Code editor. However,
    you can use any specific editor you are familiar with.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数食谱，你需要Microsoft Visual Studio Community 2015。第11章（ch11.html "第11章。更多内容"）中的食谱，*更多内容*，针对OS
    X和Linux将可选地需要Visual Studio Code编辑器。然而，你可以使用你熟悉的任何特定编辑器。
- en: Who this book is for
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书面向的对象
- en: This book is written for existing C# developers with little or no background
    in multithreading and asynchronous and parallel programming. The book covers these
    topics from basic concepts to complicated programming patterns and algorithms
    using the C# and .NET ecosystem.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书是为那些在多线程和异步以及并行编程方面几乎没有背景的现有C#开发者所写。本书从基本概念到复杂的编程模式和使用C#和.NET生态系统的算法涵盖了这些主题。
- en: Conventions
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of styles of text that distinguish between
    different kinds of information. Here are some examples of these styles, and an
    explanation of their meaning.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，你会发现许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。
- en: 'Code words in text are shown as follows: "When the program is run, it creates
    a thread that will execute a code in the `PrintNumbersWithDelay` method."'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码单词如下所示："当程序运行时，它会在`PrintNumbersWithDelay`方法中创建一个线程来执行代码。"
- en: 'A block of code is set as follows:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都如下所示：
- en: '[PRE1]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, in menus or dialog boxes for example, appear in the text like this:
    "Right-click on the **References** folder in the project, and select the **Manage
    NuGet Packages…** menu option".'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下："在项目的**引用**文件夹上右键单击，并选择**管理NuGet包…**菜单选项"。'
- en: Note
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要注意事项如下所示。
- en: Tip
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Tips and tricks appear like this.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 小技巧和窍门如下所示。
- en: Reader feedback
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or may have disliked. Reader feedback is important for
    us to develop titles that you really get the most out of.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者的反馈对我们开发您真正能从中获得最大收益的标题非常重要。
- en: To send us general feedback, simply send an e-mail to `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book title via the subject of your message.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 要发送给我们一般反馈，只需发送电子邮件到`<feedback@packtpub.com>`，并在您的邮件主题中提及书名。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide on [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在某个主题上具有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您是Packt书籍的骄傲拥有者，我们有多种方式可以帮助您从您的购买中获得最大收益。
- en: Downloading the example code
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载示例代码
- en: You can download the example code files for this book from your account at [http://www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[http://www.packtpub.com](http://www.packtpub.com)的账户下载本书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。
- en: 'You can download the code files by following these steps:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过以下步骤下载代码文件：
- en: Log in or register to our website using your e-mail address and password.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您的电子邮件地址和密码登录或注册我们的网站。
- en: Hover the mouse pointer on the **SUPPORT** tab at the top.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鼠标指针悬停在顶部的**支持**标签上。
- en: Click on **Code Downloads & Errata**.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**代码下载 & 错误清单**。
- en: Enter the name of the book in the **Search** box.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**搜索**框中输入书籍的名称。
- en: Select the book for which you're looking to download the code files.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您想要下载代码文件的书籍。
- en: Choose from the drop-down menu where you purchased this book from.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下拉菜单中选择您购买这本书的地方。
- en: Click on **Code Download**.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**代码下载**。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 下载文件后，请确保您使用最新版本解压缩或提取文件夹：
- en: WinRAR / 7-Zip for Windows
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WinRAR / 7-Zip for Windows
- en: Zipeg / iZip / UnRarX for Mac
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zipeg / iZip / UnRarX for Mac
- en: 7-Zip / PeaZip for Linux
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7-Zip / PeaZip for Linux
- en: Errata
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 错误清单
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you would report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **errata** **submission** **form** link,
    and entering the details of your errata. Once your errata are verified, your submission
    will be accepted and the errata will be uploaded on our website, or added to any
    list of existing errata, under the Errata section of that title. Any existing
    errata can be viewed by selecting your title from [http://www.packtpub.com/support](http://www.packtpub.com/support).
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然会发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何错误清单，请通过访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**错误清单提交表单**链接，并输入您的错误清单详情来报告它们。一旦您的错误清单得到验证，您的提交将被接受，错误清单将被上传到我们的网站，或添加到该标题的错误清单部分。您可以通过从[http://www.packtpub.com/support](http://www.packtpub.com/support)选择您的标题来查看现有的错误清单。
- en: Piracy
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 侵权
- en: Piracy of copyright material on the Internet is an ongoing problem across all
    media. At Packt, we take the protection of our copyright and licenses very seriously.
    If you come across any illegal copies of our works, in any form, on the Internet,
    please provide us with the location address or website name immediately so that
    we can pursue a remedy.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在互联网上侵犯版权材料是一个跨所有媒体持续存在的问题。在Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以追究补救措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 请通过 `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>` 联系我们，并提供涉嫌盗版材料的链接。
- en: We appreciate your help in protecting our authors, and our ability to bring
    you valuable content.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您在保护我们作者以及为我们提供有价值内容方面的帮助。
- en: Questions
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题
- en: You can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    if you are having a problem with any aspect of the book, and we will do our best
    to address it.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在本书的任何方面遇到问题，可以通过 `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    联系我们，我们将尽力解决。
