<html><head></head><body>
		<div id="_idContainer137">
			<h1 id="_idParaDest-221" class="chapter-number"><a id="_idTextAnchor330"/>11</h1>
			<h1 id="_idParaDest-222"><a id="_idTextAnchor331"/>Debugging WinUI Applications with Visual Studio</h1>
			<p>Good debugging skills are essential for developers. While .NET developers need to know how to use features including breakpoints and the <strong class="bold">Output</strong> and <strong class="bold">Immediate</strong> windows, WinUI project debugging adds another set of tools and techniques to master. There are issues that can arise in the UI layer with data binding, layout, and resources. You will learn how to use <strong class="bold">Live Visual Tree</strong> and <strong class="bold">Live Property Explorer</strong> and how to discover data binding errors with Visual Studio’s <strong class="bold">XAML Binding </strong><span class="No-Break"><strong class="bold">Failures</strong></span><span class="No-Break"> window.</span></p>
			<p>In this chapter, we will cover the <span class="No-Break">following topics:</span></p>
			<ul>
				<li>How to debug WinUI applications and work with breakpoints in ViewModels and <span class="No-Break">service classes</span></li>
				<li>How to debug data binding failures by leveraging the <strong class="bold">XAML Binding Failures</strong> window in Visual Studio and avoid common problems when binding <span class="No-Break">to collections</span></li>
				<li>Explore the <strong class="bold">Live Visual Tree</strong> window in Visual Studio to find layout problems in <span class="No-Break">your XAML</span></li>
				<li>Discover and use <strong class="bold">Live Property Explorer</strong> to get and set data in your XAML elements <span class="No-Break">at runtime</span></li>
			</ul>
			<p>By the end of this chapter, you will be comfortable with debugging common problems typically encountered by WinUI developers while developing applications. You’ll be able to use these skills while building applications with other XAML frameworks, such as .NET MAUI, WPF, and <span class="No-Break">UWP, too.</span></p>
			<h1 id="_idParaDest-223"><a id="_idTextAnchor332"/>Technical requirements</h1>
			<p>To follow along with the examples in this chapter, the following software <span class="No-Break">is required:</span></p>
			<ul>
				<li>Windows 10 version 1809 (build 17763) or newer or <span class="No-Break">Windows 11</span></li>
				<li>Visual Studio 2022 or later with the .NET Desktop Development workload configured for Windows App <span class="No-Break">SDK development</span></li>
			</ul>
			<p>The source code for this chapter is available on GitHub at this <span class="No-Break">URL: </span><a href="https://github.com/PacktPublishing/Learn-WinUI-3-Second-Edition/tree/master/Chapter11"><span class="No-Break">https://github.com/PacktPublishing/Learn-WinUI-3-Second-Edition/tree/master/Chapter11</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-224"><a id="_idTextAnchor333"/><a id="_idTextAnchor334"/>Debugging in Visual Studio</h1>
			<p>There are <a id="_idTextAnchor335"/>several fundamental areas of debugging WinUI applications that <a id="_idTextAnchor336"/>we will be covering in this section. Some of these techniques are applicable to debugging other types of .NET applications, whereas others are specific to XAML and WinUI development. Throughout the book, we’ve run our projects with Visual Studio, which is an example of a local debugging<a id="_idIndexMarker789"/> session. We will explore other ways to debug local applications as well as <span class="No-Break">remote applications.</span></p>
			<p>Simple mistakes in XAML markup are not always apparent when we’re writing it, and this kind of problem is not detected by the compiler. In this section, we will see how to detect and avoid XAML markup issues and how to adhere to <span class="No-Break">best practices.</span></p>
			<p>Let’s get started by taking a closer look at debugging <span class="No-Break">local applications.</span><a id="_idTextAnchor337"/><a id="_idTextAnchor338"/></p>
			<h2 id="_idParaDest-225"><a id="_idTextAnchor339"/>Debugging local applications</h2>
			<p>Open the <strong class="bold">Ch11-MyMediaCollection</strong> project<a id="_idTextAnchor340"/> from GitHub and compile it to make sure you have<a id="_idIndexMarker790"/> downloaded all the referenced NuGet packages. This is the <a id="_idIndexMarker791"/>WinUI 3 project that we’ve been building throughout the previous chapters. Run the application to make sure everything works <span class="No-Break">as expected.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">If you have experience in developing and debugging WPF or UWP applications, you’re probably familiar<a id="_idIndexMarker792"/> with <strong class="bold">XAML Designer</strong> in Visual Studio. There is no designer support for WinUI 3 applications at this time. It’s unclear if or when this feature will be added. There is some discussion on GitHub about this topic here: <a href="https://github.com/microsoft/microsoft-ui-xaml/issues/5917">https://github.com/microsoft/microsoft-ui-xaml/issues/5917</a>. As one of the comments in the issue suggests, you can try to work around this limitation by leveraging <strong class="bold">XAML Hot Reload</strong> in <a id="_idIndexMarker793"/>Visual Studio to make changes to the XAML file while debugging. While there are some limitations to this approach (see <a href="https://github.com/microsoft/microsoft-ui-xaml/issues/7043">https://github.com/microsoft/microsoft-ui-xaml/issues/7043</a>), most simple XAML changes will be reflected in the running app when saving. For more information about XAML Hot Reload, see the <a id="_idIndexMarker794"/>Microsoft Learn <span class="No-Break">documentation: </span><a href="https://learn.microsoft.com/visualstudio/xaml-tools/xaml-hot-reload"><span class="No-Break">https://learn.microsoft.com/visualstudio/xaml-tools/xaml-hot-reload</span></a><span class="No-Break">.</span></p>
			<p>For our <a id="_idTextAnchor341"/>first walk-through, let’s look at how to debug a local application installed on <span class="No-Break">your PC.</span></p>
			<h3>Debugging a locally installed application</h3>
			<p>We have been runnin<a id="_idTextAnchor342"/>g and <a id="_idIndexMarker795"/>debugging our Visual Studio solutions <a id="_idIndexMarker796"/>throughout this book. Now we will see how you can debug an application that you have already installed <span class="No-Break">in Windows.</span></p>
			<p>You have previously run several projects while reading this book. Unless you uninstalled them, each should appear as an installed app package that you can debug. Let’s start with <span class="No-Break">the steps:</span></p>
			<ol>
				<li>Start by selecting <strong class="bold">Debug</strong> | <strong class="bold">Other Debug Targets</strong> | <strong class="bold">Debug Installed App Package</strong> in Visual Studio. The <strong class="bold">Debug Installed App Package</strong> window <span class="No-Break">will appear:</span></li>
			</ol>
			<div>
				<div id="_idContainer120" class="IMG---Figure">
					<img src="image/B20908_11_01.jpg" alt="Figure 11.1 – The Debug Installed App Package window"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.1 – The Debug Installed App Package window</p>
			<p class="list-inset">This <a id="_idIndexMarker797"/>wind<a id="_idTextAnchor343"/>ow will show all the installed<a id="_idIndexMarker798"/> packages on your Windows PC. Some names will be familiar, such as <strong class="bold">Microsoft.WindowsTerminal</strong>, <strong class="bold">Fluent XAML Theme Editor</strong>, or <strong class="bold">Microsoft Defender</strong>. Others will only be listed by their application ID. You can select some of these other applications to debug, but without debug symbols, you won’t be able to hit any breakpoints or step through the code. Let’s find one of <span class="No-Break">our applications.</span></p>
			<ol>
				<li value="2">If you have debugged the <strong class="bold">MyMediaCollection</strong> app on your machine, it will appear in the list. So, let’s search for <strong class="source-inline">MyMediaCollection</strong>. The <strong class="bold">MyMediaCollection</strong> application will appear in the search results. If you do not see it, make sure you have run the application from Visual Studio at least once. This step is necessary to package and deploy the application <span class="No-Break">to Windows.</span></li>
				<li>Select it and click <strong class="bold">Start</strong>. The application will run, and Visual Studio will <span class="No-Break">start debugging.</span><p class="list-inset">If you don’t want<a id="_idIndexMarker799"/> to start debugging <a id="_idIndexMarker800"/>immediately, you can select the <strong class="bold">Do not launch, but debug my code when it starts</strong> checkbox. Now, Visual Studio <a id="_idTextAnchor344"/>will start debugging when you start the application from the <strong class="bold">Start</strong> menu or any <span class="No-Break">other method.</span></p></li>
			</ol>
			<p>Another way to start debugging an installed local application is by attaching it to a <span class="No-Break">running application:</span></p>
			<ol>
				<li>First, run the app from the <strong class="bold">Start</strong> menu, and in Visual Studio, go to <strong class="bold">Debug</strong> |<strong class="bold"> Attach </strong><span class="No-Break"><strong class="bold">to Process</strong></span><span class="No-Break">.</span></li>
				<li>In the <strong class="bold">Attach to Process</strong> window, find the <strong class="source-inline">ApplicationFrameHost.exe</strong> process with the title that matches the application you want to debug. This is the process that hosts every packaged WinUI and UWP application <span class="No-Break">on<a id="_idTextAnchor345"/> Windows:</span></li>
			</ol>
			<div>
				<div id="_idContainer121" class="IMG---Figure">
					<img src="image/B20908_11_02.jpg" alt="Figure 11.2 – Attaching to a running process to debug a packaged application"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.2 – Attaching to a running process to debug a packaged application</p>
			<ol>
				<li value="3">Click <strong class="bold">Attach</strong> <a id="_idTextAnchor346"/>and <a id="_idIndexMarker801"/>begin<a id="_idIndexMarker802"/> debugging <span class="No-Break">as usual.</span></li>
			</ol>
			<p>These are different ways to start a debugging session on a local application, but what if you want to debug your application running on another machine? Let’s examine those <span class="No-Break">op<a id="_idTextAnchor347"/><a id="_idTextAnchor348"/>tions next.</span></p>
			<h2 id="_idParaDest-226"><a id="_idTextAnchor349"/>Debugging remote applications</h2>
			<p>The<a id="_idTextAnchor350"/>re are many reasons <a id="_idIndexMarker803"/>why you might want to debug an application on a<a id="_idIndexMarker804"/> remote machine. Sometimes you can only reproduce an error on one device. Perhaps there is an issue that only occurs on a specific device type or screen size. If you were working with a UWP project, there are some devices, such as Xbox, where you have to use <span class="No-Break">remote debugging.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">Before starting any remote debugging session, ensure that the target device has <strong class="bold">developer mode</strong> enabled. For more information about activating developer mode, you can read t<a id="_idTextAnchor351"/>his Microsoft Docs <span class="No-Break">article: </span><a href="https://learn.microsoft.com/windows/apps/get-started/enable-your-device-for-development"><span class="No-Break">https://learn.microsoft.com/windows/apps/get-started/enable-your-device-for-development</span></a><span class="No-Break">.</span></p>
			<p>To debug a <a id="_idIndexMarker805"/>remote installed application, you will use Visual <a id="_idIndexMarker806"/>Studio’s <strong class="bold">Debug Installed App Package</strong> <span class="No-Break">window <a id="_idTextAnchor352"/>again:</span></p>
			<ol>
				<li>Open the window from <strong class="bold">Debug</strong> | <strong class="bold">Other Debug Targets</strong> | <strong class="bold">Debug Installed </strong><span class="No-Break"><strong class="bold">App Package</strong></span><span class="No-Break">.</span></li>
				<li>Change <strong class="bold">Connection Type</strong> to <span class="No-Break"><strong class="bold">R<a id="_idTextAnchor353"/>emote Machine</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer122" class="IMG---Figure">
					<img src="image/B20908_11_03.jpg" alt="Figure 11.3 – Debugging an application package on a remote machine"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.3 – Debugging an application package on a remote machine</p>
			<ol>
				<li value="3">Click <a id="_idIndexMarker807"/>the <strong class="bold">Change</strong> button in the <strong class="bold">Connection Type</strong> section to<a id="_idIndexMarker808"/> open the <strong class="bold">Remote </strong><span class="No-Break"><strong class="bold">Connections</strong></span><span class="No-Break"> window.</span></li>
				<li>Visual Studio will attempt to discover other Windows devices and list them in the <strong class="bold">Auto Detected</strong> section. If you see the device you want, select it to continu<a id="_idTextAnchor354"/>e. If the device you want to debug isn’t shown, enter its IP address in the <strong class="bold">Address</strong> field in the <strong class="bold">Manual Configuration</strong> section an<a id="_idTextAnchor355"/>d <span class="No-Break">click </span><span class="No-Break"><strong class="bold">Select</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer123" class="IMG---Figure">
					<img src="image/B20908_11_04.jpg" alt="Figure 11.4 – Enter a manually configured remote connection for debugging"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.4 – Enter a manually configured remote connection for debugging</p>
			<ol>
				<li value="5">When you<a id="_idIndexMarker809"/> return to the previous window, you can select <a id="_idIndexMarker810"/>the application to debug from the list of installed app packages on the <span class="No-Break">selected device.</span></li>
				<li>Click <strong class="bold">Start</strong> to begin debugging, just as we did with the locally installed application in the <span class="No-Break">previous section.</span></li>
			</ol>
			<p>These<a id="_idIndexMarker811"/> techniques will allow you to connect to other <a id="_idIndexMarker812"/>Windows machines. For UWP applications, this includes other device types, such as Xbox, HoloLens, Surface Hub, and Windows IoT devices. Debugging options and resources can also be accessed from the <strong class="bold">Debug</strong> tab of the project’s <strong class="bold">Properties</strong> page. Select <strong class="bold">Open debug launch profiles UI</strong> to open the <strong class="bold">Launch </strong><span class="No-Break"><strong class="bold">Profiles</strong></span><span class="No-Break"> window:</span></p>
			<div>
				<div id="_idContainer124" class="IMG---Figure">
					<img src="image/B20908_11_05.jpg" alt="Figure 11.5 – The Launch Profiles window in Visual Studio"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.5 – The Launch Profiles window in Visual Studio</p>
			<p>Let’s shift gears and examine some common mistakes that can cause rendering issues in your<a id="_idTextAnchor356"/> <span class="No-Break">application’s UI.</span></p>
			<h2 id="_idParaDest-227"><a id="_idTextAnchor357"/>Common XAML layout mistakes</h2>
			<p>There<a id="_idTextAnchor358"/> are many kinds of <a id="_idIndexMarker813"/>mistakes that XAML developers can make while coding the UI. Some of them won’t be caught by the compiler. If you have a syntax error or an invalid <strong class="source-inline">x:Bind</strong> expression, these will fail while compiling, but many other issues <span class="No-Break">will not.</span></p>
			<p>The first source of common XAML layout mistakes we will explore is the <span class="No-Break"><strong class="source-inline">Grid</strong></span><span class="No-Break"> control.</span></p>
			<h3>Grid layout issues</h3>
			<p>Some mistakes <a id="_idIndexMarker814"/>related to the <strong class="source-inline">Grid</strong> control revolve around its rows and columns. Forgetting to set <strong class="source-inline">Grid.Row</strong> or <strong class="source-inline">Grid.Column</strong> on chi<a id="_idTextAnchor359"/>ld controls leads to overlapping or obscured elements at runtime. Similar issues can be seen when setting these values incorrectly or when working with <strong class="source-inline">Grid.RowSpan</strong> and <strong class="source-inline">Grid.ColumnSpan</strong>. One mistake that’s not always immediately apparent is setting <strong class="source-inline">Grid.Row</strong> or <strong class="source-inline">Grid.Column</strong> to a value that’s beyond the defined number of rows <span class="No-Break">or columns.</span></p>
			<p>Open <strong class="bold">MainPage.xaml</strong> in the <strong class="bold">MyMediaCollection</strong> project and remove the <strong class="source-inline">Grid.Row</strong> attribute from the <strong class="source-inline">Border</strong> control containing the <strong class="source-inline">Button</strong> controls at the bottom of the page. If you run the application, you will see the buttons move to the top of the page and overlap the controls in the <span class="No-Break">header area.</span></p>
			<p>Now restore the <strong class="source-inline">Grid.Row</strong> attribute but change the value to <strong class="source-inline">5</strong>. If this were the last row in the grid, everything would look fine even though <strong class="source-inline">Grid</strong> only has four rows. Since <strong class="source-inline">5</strong> is greater than the number of available rows, the control is added to the last row in <strong class="source-inline">Grid</strong>. However, because we have <strong class="source-inline">InfoBar</strong> below the buttons in the fourth row, the buttons and the <span class="No-Break"><strong class="source-inline">InfoBar</strong></span><span class="No-Break"> overlap.</span></p>
			<h3>Problems when applying style</h3>
			<p><a id="_idTextAnchor360"/>XAML <strong class="source-inline">Style</strong> resources<a id="_idIndexMarker815"/> are another common source of unintentional UI changes. When creating <strong class="source-inline">Style</strong> in <strong class="source-inline">Resource</strong>, you should be aware of how it will be applied to controls within the scope of <span class="No-Break">that </span><span class="No-Break"><strong class="source-inline">Resource</strong></span><span class="No-Break">.</span></p>
			<p>Open <strong class="bold">ItemDetailsPage.xaml</strong> and review the <strong class="source-inline">Page.Resources</strong> section. This is where we created three <strong class="source-inline">Style</strong> elements for the current page. Each has a different <strong class="source-inline">Target</strong> type: <strong class="source-inline">TextBlock</strong>, <strong class="source-inline">TextBox</strong>, and <strong class="source-inline">ComboBox</strong>. However, they won’t be applied to every control of those types on the <strong class="source-inline">Page</strong> because we also gave each <strong class="source-inline">Style</strong> an <strong class="source-inline">x:Key</strong>. That means that <strong class="source-inline">Style</strong> will only be applied to elements of that type when the <strong class="source-inline">Style</strong> property is explici<a id="_idTextAnchor361"/>tly set to that named resource. These are referred to as <span class="No-Break"><em class="italic">explicit styles</em></span><span class="No-Break">:</span></p>
			<pre class="source-code">
&lt;TextBlock Text="Name:" Style="{StaticResource
  AttributeTitleStyle}"/&gt;</pre>			<p>If you remove <strong class="source-inline">x:Key</strong> from <strong class="source-inline">Style</strong> in <strong class="source-inline">Page.Resources</strong>, that <em class="italic">implici<a id="_idTextAnchor362"/>t style</em> will apply to every control of the specified <strong class="source-inline">Target</strong> type on the <strong class="source-inline">Page</strong>, unless those controls have another explicit <strong class="source-inline">Style</strong> set. In a large application with styles declared at different scopes (<strong class="source-inline">Application</strong>, <strong class="source-inline">Page</strong>, or control), it can sometimes be difficult to determine which style has been applied to a control. We will see how to do this later in the chapter when discussing Visual Studio’s <strong class="bold">Live Property Explorer</strong> window. It’s a best practice to have implicit styles always inherit from an explicit style. This enables develop<a id="_idTextAnchor363"/>ers to inherit from a default style <a id="_idIndexMarker816"/>and reduces repeated implicit style attributes <span class="No-Break">across elements.</span></p>
			<p>Next, we will look at a third-party extension that can help find common XAML problems through<a id="_idTextAnchor364"/><a id="_idTextAnchor365"/> <strong class="bold">static </strong><span class="No-Break"><strong class="bold">code analysis</strong></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-228">Improving your XAML with static <a id="_idTextAnchor366"/>code analysis</h2>
			<p>There <a id="_idTextAnchor367"/>is a free, open<a id="_idIndexMarker817"/> source extension for Visual Studio that, among <a id="_idIndexMarker818"/>other things, adds support for static code analysis to XAML files. <strong class="bold">Rapid XAML Toolkit</strong> (<a href="https://rapidxaml.dev/">https://rapidxaml.dev/</a>) provides XAML<a id="_idIndexMarker819"/> analyzers and code fixes for common issues and provides <a id="_idIndexMarker820"/>support for adding your own custom <span class="No-Break">XAML analyzers.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">At the time of writing, Rapid XAML Toolkit for Visual Studio 2022 has not yet been released. It is being developed and should be available by the time you read this book. The current example illustrates how to use the extension currently available for Visual <span class="No-Break">Studio 2019.</span></p>
			<p>Let’s install the tool in Visual Studio and see what kind of issues it can identify in a <span class="No-Break">WinUI project:</span></p>
			<ol>
				<li>In Visual Studio, go to <strong class="bold">Extensions</strong> | <span class="No-Break"><strong class="bold">Manage Extensions</strong></span><span class="No-Break">.</span></li>
				<li>The <strong class="bold">Manage Extensions</strong> window will <a id="_idIndexMarker821"/>appear. Ensure <strong class="bold">Visual Studio Marketplace</strong> is <a id="_idIndexMarker822"/>selected<a id="_idTextAnchor368"/> and search for <span class="No-Break"><strong class="source-inline">rapid xaml</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer125" class="IMG---Figure">
					<img src="image/B20908_11_06.jpg" alt="Figure 11.6 – Installing Rapid XAM﻿L Toolkit"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.6 – Installing Rapid XAM<a id="_idTextAnchor369"/>L Toolkit</p>
			<ol>
				<li value="3">Click <strong class="bold">Download</strong> to queue the extension<a id="_idTextAnchor370"/> for installation. When the download completes, you can close the <strong class="bold">Manage Extensions</strong> window and restart Visual Studio to complete <span class="No-Break">the installation.</span></li>
				<li>Now, when you view the <strong class="bold">Error List</strong> window in Visual Studio, there are a handful of warnings fr<a id="_idTextAnchor371"/>om Rapid <span class="No-Break">XAML’s analyzers:</span></li>
			</ol>
			<div>
				<div id="_idContainer126" class="IMG---Figure">
					<img src="image/B20908_11_07.jpg" alt="Figure 11.7 – Viewing the new warnings from Rapid XAML Toolkit"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.7 – Viewing the new warnings from Rapid XAML Toolkit</p>
			<ol>
				<li value="5">Open <strong class="bold">ItemDetailPage.xaml</strong>, place your cursor over one of the green squiggles created by the code analyzer, and <a id="_idTextAnchor372"/>click the <span class="No-Break">lightbulb icon:</span></li>
			</ol>
			<div>
				<div id="_idContainer127" class="IMG---Figure">
					<img src="image/B20908_11_08.jpg" alt="Figure 11.8 – View the quick fix for a code analyzer warning"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.8 – View the quick fix for a code analyzer warning</p>
			<p>Alternatively, you<a id="_idIndexMarker823"/> can right-click on the XAML and <a id="_idIndexMarker824"/>select <strong class="bold">Rapid XAML</strong> | <strong class="bold">Move hard-coded string to resource file.</strong> to fix all warni<a id="_idTextAnchor373"/>ngs of <span class="No-Break">this type.</span></p>
			<p>This is a l<a id="_idTextAnchor374"/>ist <a id="_idTextAnchor375"/>of other analyzers that are provided by <span class="No-Break">the toolkit:</span></p>
			<ul>
				<li><strong class="bold">RXT101</strong>: Use of a <strong class="source-inline">Grid.Row</strong> value without a <span class="No-Break">corresponding </span><span class="No-Break"><strong class="source-inline">RowDefinition</strong></span></li>
				<li><strong class="bold">RXT102</strong>: Use of a <strong class="source-inline">Grid.Column</strong> value without a <span class="No-Break">corresponding </span><span class="No-Break"><strong class="source-inline">ColumnDefinition</strong></span></li>
				<li><strong class="bold">RXT103</strong>: Use of a <strong class="source-inline">Grid.RowSpan</strong> value without a <span class="No-Break">corresponding </span><span class="No-Break"><strong class="source-inline">ColumnDefinition</strong></span></li>
				<li><strong class="bold">RXT104</strong>: Use of a <strong class="source-inline">Grid.ColumnSpan</strong> value without a <span class="No-Break">corresponding </span><span class="No-Break"><strong class="source-inline">ColumnDefinition</strong></span></li>
				<li><strong class="bold">RXT150</strong>: <strong class="source-inline">TextBox</strong> does not have <span class="No-Break"><strong class="source-inline">InputScope</strong></span><span class="No-Break"> specified</span></li>
				<li><strong class="bold">RXT160</strong>: The <strong class="source-inline">SelectedItem</strong> binding should probably <span class="No-Break">be </span><span class="No-Break"><strong class="source-inline">TwoWay</strong></span></li>
				<li><strong class="bold">RXT200</strong>: The hardcoded string value that should be <span class="No-Break">a resource</span></li>
				<li><strong class="bold">RXT300</strong>: <strong class="source-inline">Entry</strong> does not have a <span class="No-Break"><strong class="source-inline">Keyboard</strong></span><span class="No-Break"> specified</span></li>
				<li><strong class="bold">RXT300</strong>: Password entry does not have a <span class="No-Break"><strong class="source-inline">MaxLength</strong></span><span class="No-Break"> specified</span></li>
				<li><strong class="bold">RXT300</strong>: <strong class="source-inline">Image</strong> lacks <span class="No-Break">accessibility consideration</span></li>
				<li><strong class="bold">RXT300</strong>: <strong class="source-inline">ImageButton</strong> lacks <span class="No-Break">accessibility consideration</span></li>
				<li><strong class="bold">RXT401</strong>: Handle both <strong class="source-inline">Checked</strong> and <strong class="source-inline">Unchecked</strong> events for <span class="No-Break">a </span><span class="No-Break"><strong class="source-inline">CheckBox</strong></span></li>
				<li><strong class="bold">RXT402</strong>: Use <strong class="source-inline">MediaPlayerElement</strong> in place <span class="No-Break">of </span><span class="No-Break"><strong class="source-inline">MediaElement</strong></span><strong class="source-inline"><a id="_idTextAnchor376"/></strong></li>
				<li><strong class="bold">RXT451</strong>: <strong class="source-inline">x:Uid</strong> should begin with an <span class="No-Break">uppercase character</span></li>
				<li><strong class="bold">RXT452</strong>: <strong class="source-inline">Name</strong> should begin with an <span class="No-Break">uppercase character</span></li>
				<li><strong class="bold">RXT999</strong>: Unknown<a id="_idIndexMarker825"/> error – something went wrong<a id="_idIndexMarker826"/> when parsing<a id="_idTextAnchor377"/> the <span class="No-Break">XAML document</span></li>
			</ul>
			<p>Rapid XAML To<a id="_idTextAnchor378"/>olkit<a id="_idIndexMarker827"/> has many other features outside of analyzers and code fixes, and new features and analyzers are being added frequently. To see a list of upcoming features and fixes being considered, you can view the issues on <span class="No-Break">GitHub: </span><a href="https://github.com/mrlacey/Rapid-XAML-Toolkit/issues"><span class="No-Break">https://github.com/mrlacey/Rapid-XAML-Toolkit/issues</span></a><span class="No-Break">.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">Community-driven projects like this are always looking for contributors. It’s a great way to get started with the open <span class="No-Break">source community.</span></p>
			<p>Another related topic that can be a common source of developer angst is debugging data binding. Let’s see how we can avoid some common<a id="_idTextAnchor379"/> pitfalls in the <span class="No-Break">next section.</span></p>
			<h1 id="_idParaDest-229">Pinpointi<a id="_idTextAnchor380"/>ng data binding failures</h1>
			<p>While debugging data binding problems is not as difficult in WinUI and UWP as it is in WPF (if you use <strong class="source-inline">x:Bind</strong>-compiled bindings), there are still some <em class="italic">gotchas</em> to avoid. In this section, we will look at what can go wrong in views and ViewModels and how you can <a id="_idTextAnchor381"/><a id="_idTextAnchor382"/>diagnose and fix <span class="No-Break">the problems.</span></p>
			<h2 id="_idParaDest-230"><a id="_idTextAnchor383"/>Common mistakes in data binding</h2>
			<p>If you use <strong class="source-inline">x:Bi<a id="_idTextAnchor384"/>nd</strong>, the <a id="_idIndexMarker828"/>compiler will evaluate whether you’re binding to a valid source and can give you the peace of mind of knowing that your views and ViewModels are hooked up correctly, but there is still a lot that can go wrong. Let’s review a few of the most <span class="No-Break">common mistakes.</span></p>
			<h3>Selecting the best binding mode</h3>
			<p>We have seen in previous chapters that the default mode for most controls wi<a id="_idTextAnchor385"/>th <strong class="source-inline">x:Bind</strong> is <strong class="source-inline">OneTime</strong>, while the default for <strong class="source-inline">Binding</strong> is <strong class="source-inline">OneWay</strong>. Defaulting to <strong class="source-inline">OneTime</strong> helps with performance as many read-only properties are only ever set when the view is first created. However, if you forget to change this for controls bound to data that changes as the user is interacting with the page, you may not immediately realize why the data in the UI <span class="No-Break">isn’t updating.</span></p>
			<p>When you’re binding controls that need data to flow in both directions, remember to set <strong class="source-inline">Mode</strong> to <strong class="source-inline">TwoWay</strong>. We used this in the <strong class="bold">MyMediaCollection</strong> project with the <strong class="source-inline">ComboBox.SelectedItem</strong> property to filter the collection by <span class="No-Break">media type.</span></p>
			<h3>Triggering PropertyChanged notifications</h3>
			<p>By bindi<a id="_idTextAnchor386"/>ng to a <a id="_idIndexMarker829"/>ViewModel that properly implements <strong class="source-inline">INotifyPropertyChanged</strong> for all its public properties, issues related to <strong class="source-inline">PropertyChanged</strong> are not common. Using MVVM Toolkit makes it even simpler. Problems can still arise if ViewModel code outside of one of these properties updates the property’s value by setting the <strong class="source-inline">private</strong> backing variable. This will update the property’s value without notifying the view. If you are using MVVM Toolkit, it will call out this issue when it generates its code in the hidden partial class. You can avoid this by always using the <strong class="source-inline">public</strong> property to update the value. If there is a good reason for not updating the property directly, then a <strong class="source-inline">PropertyChanged</strong> event should be manually triggered for that property after updating the value. It is a best practice to use the <strong class="source-inline">nameof</strong> method in C# to ensure you use a property name that exists. Misspelled property names will be caught at compile time and highlighted in the editor. You can also use <strong class="source-inline">CallerMemberNameAttribute</strong> in .NET: <a href="https://learn.microsoft.com/dotnet/api/system.runtime.compilerservices.callermembernameattribute">https://learn.microsoft.com/dotnet/api/system.runtime.compilerservices.callermembernameattribute</a>. An exception will be raised if your application tries to raise a property change <a id="_idIndexMarker830"/>notification for a property that does <span class="No-Break">not exist.</span></p>
			<h3>Working with ObservableCollection&lt;T&gt;</h3>
			<p><strong class="source-inline">ObservableCollection&lt;T&gt;</strong> serves an<a id="_idIndexMarker831"/> important role. Lists in the view will stay<a id="_idTextAnchor387"/> synchronized wit<a id="_idTextAnchor388"/>h the collections if they are used correctly. There are a few practices to avoid when using <span class="No-Break">observable collections.</span></p>
			<p>Do not replace the entire value of an observable collection. The element on the view bound to the property will still be bound to the original collection. Any subsequent changes to the collection will not be reflected in <a id="_idTextAnchor389"/>the view. While you can work around this by triggering a <strong class="source-inline">PropertyChanged</strong> notification, this can have performance implications with larger collections. It can also be jarring to the user, as most controls will reset the current view to the beginning of the list. Set ViewModel properties that use <strong class="source-inline">ObservableCollection&lt;T&gt;</strong> to be read-only to avoid accidentally resetting the entire collection. The one exception to this is if you know the collection will be completely repopulated. Removing and re-adding a large number of items individually in a list can result in a poor <span class="No-Break">user experience.</span></p>
			<p>Do not use LINQ to modify observable collections. LINQ expressions do not operate by calling the <strong class="source-inline">Add</strong> and <strong class="source-inline">Remove</strong> methods on the observable collections. They do not even return <strong class="source-inline">ObservableCollection&lt;T&gt;</strong>. If you use LINQ and convert the results back to <strong class="source-inline">ObservableCollection&lt;T&gt;</strong>, you will be back to replace the entire collection, which was <span class="No-Break">just discussed.</span></p>
			<p>Here is an example using LINQ. This will <a id="_idIndexMarker832"/>cause the view to stop receiving <strong class="source-inline">CollectionChanged</strong> notifications because LINQ does not return <span class="No-Break">an </span><span class="No-Break"><strong class="source-inline">ObservableCollection</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
_entryList = <strong class="bold">from</strong> entry <strong class="bold">in</strong> _entryList
             <strong class="bold">where</strong> entry.Lastname.StartsWith(<strong class="bold">"J"</strong>)
             <strong class="bold">select</strong> entry;</pre>			<p>This example does the same thing. It removes any entries with a <strong class="source-inline">Lastname</strong> starting with J. By using the <strong class="source-inline">Remove</strong> method and not changing the entire collection, the <strong class="source-inline">CollectionChanged</strong> events <span class="No-Break">are preserved:</span></p>
			<pre class="source-code">
<strong class="bold">for</strong> (<strong class="bold">int</strong> i = _entryList.Count - 1; i &gt;= 0; i--)
{
    Entry entry = _entryList[i];
    <strong class="bold">if</strong> (!entry.Lastname.StartsWith(<strong class="bold">"J"</strong>))
    {
        _entryList.Remove(entry);
  <a id="_idTextAnchor390"/>  }
}</pre>			<p>Final<a id="_idTextAnchor391"/>ly, it’s best<a id="_idIndexMarker833"/> not to use observable collections for lists that do not change. The extra overhead they bring is not needed for static data. Bind <a id="_idIndexMarker834"/>to an <strong class="source-inline">IList&lt;T&gt;</strong>, <strong class="source-inline">IEnumerable&lt;T&gt;</strong>, or better yet, a traditional array of items instead. Check out this <em class="italic">C# 101</em> video to learn when to leverage arrays, lists, and collections in .<span class="No-Break">NET: </span><a href="https://learn.microsoft.com/shows/csharp-101/csharp-arrays-list-and-collections"><span class="No-Break">https://learn.microsoft.com/shows/csharp-101/csharp-arrays-list-and-collections</span></a><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-231">Using the XAML Bindi<a id="_idTextAnchor392"/>ng Failures window</h2>
			<p>Visual Studio 2019 version 16.7 introduced the new <strong class="bold">XAML Binding Failures</strong> window and a <strong class="bold">Binding failures</strong> indicator<a id="_idIndexMarker835"/> on the in-app toolbar. These are for failures in <strong class="source-inline">Binding</strong>, not <strong class="source-inline">x:Bind</strong>, as those issues are checked and caught by the compiler. Clicking the red indicator will take you to the <strong class="bold">XAML Binding Failures</strong> window while debugging. Binding failures were always available in the <strong class="bold">Output</strong> window while debugging, but they could be difficult to find. The new, dedicated window provides sorting and searching. Similar failures are also grouped to make it ea<a id="_idTextAnchor393"/>sy to address related <span class="No-Break">items together:</span></p>
			<div>
				<div id="_idContainer128" class="IMG---Figure">
					<img src="image/B20908_11_09.jpg" alt="Figure 11.9 – Checking the in-app toolbar﻿ for binding failures"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.9 – Checking the in-app toolbar<a id="_idTextAnchor394"/> for binding failures</p>
			<p>Let’s give it a try. Open the <strong class="bold">XamlDebugging</strong> solution from the GitHub repository for this chapter and <a id="_idIndexMarker836"/>follow along with <span class="No-Break">these steps:</span></p>
			<ol>
				<li>Open <strong class="bold">MainWindow.xaml</strong> and review the XAML. <strong class="source-inline">Window</strong> contains a <strong class="source-inline">StackPanel</strong> with two <strong class="source-inline">TextBox</strong> <span class="No-Break">child elements:</span><pre class="source-code">
&lt;StackPanel DataContext="Test" Background="LightGray"&gt;
    &lt;TextBox x:Name="Text1"
             Text="{Binding Path=SomeText,
               Mode=TwoWay}"/&gt;
    &lt;TextBox Text="{Binding ElementName=Text1,
      Path=Text, Mode=OneWay}"/&gt;
&lt;/StackPanel&gt;</pre><p class="list-inset"><strong class="source-inline">DataContext</strong> does not exist, so what do you think will be reported in the binding failures? Let’s <span class="No-Break">find out!</span></p></li>				<li>Run the application and look at the in-app toolbar. There is an indication that we h<a id="_idTextAnchor395"/>ave one <span class="No-Break">binding failure.</span></li>
				<li>Click the red indicator on the toolbar to open the <strong class="bold">XAML Bind<a id="_idTextAnchor396"/>ing Failures</strong> window in <span class="No-Break">Visual Studio:</span></li>
			</ol>
			<div>
				<div id="_idContainer129" class="IMG---Figure">
					<img src="image/B20908_11_010.jpg" alt="Figure 11.10 – The XAML Binding Failures window"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.10 – The XAML Binding Failures window</p>
			<p class="list-inset">The <strong class="bold">Description</strong> text in the window tells us <strong class="bold">BindingExpression path error: ‘SomeText’ property not found on ‘Windows.Foundation.IReference`1&lt;String&gt;’</strong>. This is useful information. It would be more useful if there was something telling us directly that the data context itself is not valid. However, if you had a dozen controls using this data context, and all the bindings were failing, it would become clear that there is a problem with the data context and not the <span class="No-Break">individual bindings.</span></p>
			<ol>
				<li value="4">Let’s make<a id="_idIndexMarker837"/> sure the other binding is working correctly. En<a id="_idTextAnchor397"/>ter some text into the <span class="No-Break">first </span><span class="No-Break"><strong class="source-inline">TextBox</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer130" class="IMG---Figure">
					<img src="image/B20908_11_011.jpg" alt="Figure 11.11 – Binding Te﻿xtBoxes with ElementName"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.11 – Binding Te<a id="_idTextAnchor398"/>xtBoxes with ElementName</p>
			<p>The text you enter should be duplicated in the second <strong class="source-inline">TextBox</strong> as your type. Our binding to <strong class="source-inline">ElementName</strong> is working <span class="No-Break">as expected.</span></p>
			<p>I will leave fixing the data source as an exercise for you. Add a valid data source to the code behind it and see whether the binding error is <span class="No-Break">cleared up.</span></p>
			<p>Now, let’s explore a few other XAML debugging too<a id="_idTextAnchor399"/>ls available from the <span class="No-Break">in-app toolbar.</span></p>
			<h1 id="_idParaDest-232">Debugging live data with Live Visual <a id="_idTextAnchor400"/>Tree and Live Property Explorer</h1>
			<p>While th<a id="_idTextAnchor401"/>e <strong class="bold">XAML Binding Failures</strong> window is new to Visual Studio, the in-app toolbar has been available to <a id="_idIndexMarker838"/>XAML developers since 2015. The toolbar floats over the active window in your application while you are debugging. There are several parts to <span class="No-Break">the toolbar:</span></p>
			<ul>
				<li><strong class="bold">Go to Live Visual Tree</strong>: Opens the <strong class="bold">Live Visual </strong><span class="No-Break"><strong class="bold">Tree</strong></span><span class="No-Break"> window.</span></li>
				<li><strong class="bold">Show in XAML Live Preview</strong>: This opens the <strong class="bold">XAML Live Preview</strong> window in <span class="No-Break">Visual Studio.</span></li>
				<li><strong class="bold">Select Element</strong>: Allows you to select an element in <strong class="bold">Live Visual Tree</strong> by clicking on it in the <span class="No-Break">active window.</span></li>
				<li><strong class="bold">Display Layout Adorners</strong>: This will highlight the element in the UI that is currently selected in <strong class="bold">Live </strong><span class="No-Break"><strong class="bold">Visual Tree</strong></span><span class="No-Break">.</span></li>
				<li><strong class="bold">Track Focused Element</strong>: While the <strong class="bold">Liv<a id="_idTextAnchor402"/>e Visual Tree</strong> window i<a id="_idTextAnchor403"/>s open, toggling this on will indicate in <strong class="bold">Live Visual Tree</strong> which element currently has focus on <span class="No-Break">the UI.</span></li>
				<li><strong class="bold">Binding failures</strong>: Indicates the number of current binding failures and opens the <strong class="bold">XAML Binding Failures</strong> window <span class="No-Break">when clicked.</span></li>
				<li><strong class="bold">Scan for Accessibility Issues</strong>: This opens the <strong class="bold">Accessibility Checker</strong> window and runs an accessibility check on the UI elements <span class="No-Break">cu<a id="_idTextAnchor404"/>rrently visible.</span></li>
				<li><strong class="bold">Hot Reload</strong>: Indicates whether <strong class="bold">XAML Hot Reload</strong> is currently available. Clicking it will open the<a id="_idIndexMarker839"/> documentation on <span class="No-Break">Microsoft Learn.</span></li>
			</ul>
			<p>Let’s explore a few of the most commonly used debugging tools. If you wish to get more informatio<a id="_idTextAnchor405"/>n on the remaining tools, you can visit this page about XAML tools on Microsoft Learn: <a href="https://learn.microsoft.com/visualstudio/xaml-tools/">https://learn.microsoft.com/visualstudio/xaml-tools/</a>. Or, view this <em class="italic">Visual Studio Toolbox</em> episode about using the XAML tools in Visual Studio: <a href="https://learn.microsoft.com/shows/visual-studio-toolbox/new-xaml-features-in-visual-studio">https://learn.microsoft.com/shows/visual-studio-toolbox/new-xaml-features-in-visual-st<span id="_idTextAnchor406"/><span id="_idTextAnchor407"/>udio</a>. We’ll start with XAML <span class="No-Break">Hot Reloa<a id="_idTextAnchor408"/>d.</span></p>
			<h2 id="_idParaDest-233"><a id="_idTextAnchor409"/>Coding with XAML Hot Reload</h2>
			<p>XAML Hot Reload is a sim<a id="_idTextAnchor410"/>ple<a id="_idIndexMarker840"/> but powerful feature. Before Visual Studio 16.2, it w<a id="_idTextAnchor411"/>as known as <strong class="bold">XAML C# Edit &amp; Continue</strong>. Hot reload has been available to web developers for a while longer, and the name change for XAML helps to clear up some confusion for developers familiar with the concept in web development. The idea of hot reload is that you can make changes to your UI and the changes are reflected in the running application without having to stop debugging and recompile. Let’s try it with the <span class="No-Break"><strong class="bold">XamlDebugging</strong></span><span class="No-Break"> solution:</span></p>
			<ol>
				<li>Start by running the application again. Make sure that the <strong class="bold">Hot Reload</strong> indicator in the toolbar shows that it is enabled. It should only be disabled if you are runnin<a id="_idTextAnchor412"/>g an unsupported <span class="No-Break">project type.</span></li>
				<li>Now let’s <a id="_idIndexMarker841"/>make<a id="_idTextAnchor413"/> a change to <strong class="bold">MainWindow.xaml</strong>. We’re going to change the <strong class="source-inline">Background</strong> color of <strong class="source-inline">StackPanel</strong> <span class="No-Break">to </span><span class="No-Break"><strong class="source-inline">LightGray</strong></span><span class="No-Break">:</span><pre class="source-code">
&lt;StackPanel DataContext="Test"
            Background="LightGray"&gt;
    &lt;TextBox x:Name="Text1"
             Text="{Binding Path=SomeText,
               Mode=TwoWay}"/&gt;
    &lt;TextBox Text="{Binding ElementName=Text1,
      Path=Text, Mode=OneWay}"/&gt;
&lt;/StackPanel&gt;</pre></li>				<li>Save the f<a id="_idTextAnchor414"/>ile and look at the <span class="No-Break">running application:</span></li>
			</ol>
			<div>
				<div id="_idContainer131" class="IMG---Figure">
					<img src="image/B20908_11_012.jpg" alt="Figure 11.12 – Changing the UI without restarting the application"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.12 – Changing the UI without restarting the application</p>
			<p>The background of the <a id="_idTextAnchor415"/>window is now <span class="No-Break">light gray.</span></p>
			<p>This is a huge <a id="_idIndexMarker842"/>time-saver wh<a id="_idTextAnchor416"/>en building a new UI. For a list of known limitations, see this Microsoft Learn <span class="No-Break">article: </span><a href="https://learn.microsoft.com/troubleshoot/developer/visualstudio/tools-utilities/xaml-hot-reload-troubleshooting#known-limitations"><span class="No-Break">https://learn.microsoft.com/troubleshoot/developer/visualstudio/tools-utilities/xaml-hot-reload-troubleshooting#known-limitations</span></a><span class="No-Break">.</span></p>
			<p>Now let’s look at another powerful deb<a id="_idTextAnchor417"/><a id="_idTextAnchor418"/>ugging tool, the <strong class="bold">Live Visual </strong><span class="No-Break"><strong class="bold">Tree</strong></span><span class="No-Break"> window.</span></p>
			<h2 id="_idParaDest-234">Debugging with Live Visual Tree and Live Prop<a id="_idTextAnchor419"/>erty Explorer</h2>
			<p>The <strong class="bold">Live Visual Tre<a id="_idTextAnchor420"/>e</strong> window <a id="_idIndexMarker843"/>allows developers to <a id="_idTextAnchor421"/>explore the elements in the current window of an appli<a id="_idTextAnchor422"/>cation’s XAML <strong class="bold">visual tree</strong>. It is <a id="_idIndexMarker844"/>available to UWP and WinUI applications and other XAML frameworks. Let’s step through using <strong class="bold">Live Visual Tree</strong> and related XAML <span class="No-Break">debugging tools:</span></p>
			<ol>
				<li>While debugging the <strong class="bold">XAMLDebugging</strong> project, open the <strong class="bold">Live Visual Tree</strong> window. The visual tree contains the hierarchy of controls in the window with the <strong class="bold">Show Just My XAML</strong> button selected by default<a id="_idTextAnchor423"/> in the <strong class="bold">Live Visual Tree</strong> <span class="No-Break">window’s toolbar:</span></li>
			</ol>
			<div>
				<div id="_idContainer132" class="IMG---Figure">
					<img src="image/B20908_11_013.jpg" alt="Figure 11.13 – Viewing Live Visual Tree for the XamlDebugging p﻿roject (Show Just﻿ My XAML selected)"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.13 – Viewing Live Visual Tree for the XamlDebugging p<a id="_idTextAnchor424"/>roject (Show Just<a id="_idTextAnchor425"/> My XAML selected)</p>
			<ol>
				<li value="2"><a id="_idTextAnchor426"/>If you want to view<a id="_idIndexMarker845"/> the entire visual tree for your<a id="_idTextAnchor427"/> window, de-select <strong class="bold">Show Just My XAML<a id="_idTextAnchor428"/></strong> on the toolbar and the tree <span class="No-Break">will refresh:</span></li>
			</ol>
			<div>
				<div id="_idContainer133" class="IMG---Figure">
					<img src="image/B20908_11_014.jpg" alt="Figure 11.14 – Viewing Live Visual Tree for the XamlDebugging project (all XAML)"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.14 – Viewing Live Visual Tree for the XamlDebugging project (all XAML)</p>
			<p class="list-inset">There’s a lot <a id="_idIndexMarker846"/>more going on here. With <strong class="bold">Show Just My XAML</strong> de-selected, you can see the elements that make up each control. These are the contents of <a id="_idIndexMarker847"/>the <strong class="bold">control templates</strong>. A <strong class="source-inline">TextBox</strong> is made up of 17 child elements with a <strong class="source-inline">Grid</strong> at the root of its template. This is a great way to learn how the controls we use are composed. Working with and modifying these templates is beyond the scope of this chapter, but I encourage you to explore them on your own. <a href="B20908_07.xhtml#_idTextAnchor152"><span class="No-Break"><em class="italic">Chapter 7</em></span></a>, <em class="italic">Fluent<a id="_idTextAnchor429"/> Design System for Windows<a id="_idTextAnchor430"/> Applications</em>, has additional information on using default styles and theme resources. This Mic<a id="_idTextAnchor431"/>rosoft Learn a<a id="_idTextAnchor432"/>rticle on control templates is another great place to start: <a href="https://learn.microsoft.com/windows/apps/design/style/xaml-control-templates">https://learn.microsoft.com/windows/apps/design/style/xaml-control-templates</a>. For now, let’s switch back to the <strong class="bold">Show Just My </strong><span class="No-Break"><strong class="bold">XAML</strong></span><span class="No-Break"> view.</span></p>
			<ol>
				<li value="3">From <strong class="bold">Live Visual Tree</strong>, right-click on a node to navigate to the XAML markup for the selected item by selecting <span class="No-Break"><strong class="bold">View Source</strong></span><span class="No-Break">.</span></li>
				<li>Next, right-click a node and select <strong class="bold">Show Properties</strong> to show the <strong class="bold">Live Property Explorer</strong> window, where<a id="_idIndexMarker848"/> you can inspect the current properties of the selected element. You can see how the properties are grouped based on where they have been set. Here, some are set by <strong class="bold">Local</strong> changes and others are set based on the <strong class="bold">Style</strong> for a <strong class="bold">TextBox</strong>. If you had multiple levels of inherited explicit styles and an impl<a id="_idTextAnchor433"/>icit style, those would all be <span class="No-Break">grouped here:</span></li>
			</ol>
			<div>
				<div id="_idContainer134" class="IMG---Figure">
					<img src="image/B20908_11_015.jpg" alt="Figure 11.15 – Viewing the Live Property Explorer window for the Text1 TextBox"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.15 – Viewing the Live Property Explorer window for the Text1 TextBox</p>
			<ol>
				<li value="5">Look <a id="_idIndexMarker849"/>at the <strong class="bold">Text</strong> property of <strong class="bold">Text1</strong>. The value is <strong class="bold">Binding</strong>, meaning that the value is set to a <strong class="source-inline">Binding</strong> markup extension. Expand the <strong class="bold">Text</strong> prope<a id="_idTextAnchor434"/>rty node to view the details of <span class="No-Break">the binding:</span></li>
			</ol>
			<div>
				<div id="_idContainer135" class="IMG---Figure">
					<img src="image/B20908_11_016.jpg" alt="Figure 11.16 – View the binding details for the Text property of Text1"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.16 – View the binding details for the Text property of Text1</p>
			<p class="list-inset">There is some very helpful information here. We can see the <strong class="bold">Path</strong> and <strong class="bold">Mode</strong> that were set in the XAML, the ones we did not set, and yet others that ar<a id="_idTextAnchor435"/>e read-only. <strong class="bold">IsB<a id="_idTextAnchor436"/>indingValid</strong> is <strong class="bold">False</strong> in this project, but it may be <strong class="bold">True</strong> if you fixed your <a id="_idTextAnchor437"/>data context from the previous section. When the binding is valid, <strong class="bold">Evalu<a id="_idTextAnchor438"/>atedValue</strong> will contain the current value for the <span class="No-Break"><strong class="bold">Text</strong></span><span class="No-Break"> property.</span></p>
			<ol>
				<li value="6">Select the second <strong class="source-inline">TextBox</strong> element in the tree and view the <strong class="bold">Live Property Explorer</strong> window. You can see that the default value for <strong class="bold">Background</strong> <span class="No-Break">is </span><span class="No-Break"><strong class="bold">SolidColorBrush</strong></span><span class="No-Break">.</span></li>
				<li>Expand the <strong class="bold">Ba<a id="_idTextAnchor439"/>ckground</strong> node to view the <span class="No-Break">resource details:</span></li>
			</ol>
			<div>
				<div id="_idContainer136" class="IMG---Figure">
					<img src="image/B20908_11_017.jpg" alt="Figure 11.17 – Viewing the property details of Page.Background"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 11.17 – Viewing the property details of Page.Background</p>
			<ol>
				<li value="8">Try changing the <strong class="bold">Color</strong> property to white and see what happens in the XAML code and to the running application. The UI in the app should update, but the XAML file will <span class="No-Break">remain unchanged.</span></li>
				<li>Next, try <a id="_idIndexMarker850"/>adding markup to <strong class="source-inline">MainWindow</strong> to set the <strong class="source-inline">MaxWidth</strong> property of the second <strong class="source-inline">TextBox</strong> to <strong class="source-inline">100</strong>. What happens in <strong class="bold">Live Property Explorer</strong>? Can you find this property and value? Try using the search field. You can remove the <strong class="source-inline">MaxWidth</strong> when <span class="No-Break">you’re finished.</span></li>
				<li>Returning to <strong class="bold">Live Visual Tree</strong>, you can view the depth of the visual tree to the right of each node’s name. Remember that this number is not the true depth of the visual tree when <strong class="bold">Show Just My XAM<a id="_idTextAnchor440"/>L</strong> is enabled. I<a id="_idTextAnchor441"/>t is the depth of the visible nodes. This is important to <a id="_idTextAnchor442"/>note because the depth <a id="_idTextAnchor443"/>and complexity of the visual tree impact the performance of the UI rendering. <strong class="source-inline">Grid</strong> is more complex than <strong class="source-inline">StackPanel</strong>. <strong class="source-inline">StackPanel</strong> is preferred for layout if you are simply laying out a few elements horizontally or vertically. This unidirectional layout is what <strong class="source-inline">StackPanel</strong> was built to handle. As a rule of thumb, you should use the right control for the job and always keep performance <span class="No-Break">in mind.</span></li>
				<li>Now select the active node from the tree in your XAML file and enable <strong class="bold">Select Element in the Running Application</strong> from the toolbar. The <strong class="bold">Track Focused Element</strong> button on the toolbar will highlight the current tree node in the application’s window at runtime. This option is also available from the <span class="No-Break">in-app toolbar.</span></li>
				<li>To toggle the in-app toolbar on/off, you can use the <strong class="bold">Enable in-app Toolbar</strong> button <a id="_idTextAnchor444"/><a id="_idIndexMarker851"/>on the <strong class="bold">Live Visual </strong><span class="No-Break"><strong class="bold">Tree</strong></span><span class="No-Break"> toolbar<a id="_idTextAnchor445"/>.</span></li>
			</ol>
			<p>I encourage you<a id="_idTextAnchor446"/> to spend some time in <a id="_idTextAnchor447"/>these windows the next time you are debugging your application. Use them to help find issues with binding, resources, or custom <span class="No-Break">control templates.</span></p>
			<p>Now let’s wrap <a id="_idTextAnchor448"/><a id="_idTextAnchor449"/>up the chapter and review what <span class="No-Break">we’ve learned.</span></p>
			<h1 id="_idParaDest-235"><a id="_idTextAnchor450"/>Summary</h1>
			<p>In this chapter, we have covered some essential tools and techniques for debugging your XAML applications. We learned how to debug installed applications on a local or remote PC. If you are developing WPF or UWP applications, tools such as <strong class="bold">Live Visual Tree</strong>, <strong class="bold">Live Property Explorer</strong>, and <strong class="bold">Rapid XAML Toolkit</strong> will all work for those projects as well. Leveraging these tools will shorten the time you spend debugging and help you deliver <span class="No-Break">higher-quality software.</span></p>
			<p>In the next chapter, we will explore the <strong class="source-inline">WebView2</strong> browser control. You will learn how to use <strong class="source-inline">WebView2</strong> to embed an ASP.NET Core Blazor <strong class="bold">single-page applicatio<a id="_idTextAnchor451"/><a id="_idTextAnchor452"/>n</strong> (<strong class="bold">SPA</strong>) inside a WinUI 3 <span class="No-Break">desktop application.</span></p>
			<h1 id="_idParaDest-236"><a id="_idTextAnchor453"/>Questions</h1>
			<ol>
				<li>How can you debug a UWP application that is running on <span class="No-Break">an Xbox?</span></li>
				<li>How can you debug an application that is currently running on <span class="No-Break">your machine?</span></li>
				<li>How can you launch an application package installed on a remote machine <span class="No-Break">for debugging?</span></li>
				<li>What feature in Visual Studio allows you to change XAML properties at runtime and see them reflected in the <span class="No-Break">running application?</span></li>
				<li>Which window will show a hierarchy of the elements in the <span class="No-Break">current window?</span></li>
				<li>What is the default binding mode for most control properties <span class="No-Break">with </span><span class="No-Break"><strong class="source-inline">x:Bind</strong></span><span class="No-Break">?</span></li>
				<li>Where can you view the runtime properties for the control currently selected in <strong class="bold">Live </strong><span class="No-Break"><strong class="bold">Visual Tree</strong></span><span class="No-Break">?</span></li>
			</ol>
		</div>
	</body></html>