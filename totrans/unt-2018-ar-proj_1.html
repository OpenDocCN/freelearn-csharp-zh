<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">What AR is and How to Get Set up</h1>
                </header>
            
            <article>
                
<p>This book begins with some introductory information and theory regarding <strong><span>Augmented Reality</span></strong> (<strong>AR</strong>). Unfortunately, we can't just jump right into programming without first properly tackling the fundamentals. Without knowing the fundamentals and theory behind how AR projects work, we would not be able to fully understand how the technology works or how to take advantage of some of the more abstract features of the technology. This doesn't mean that you wouldn't be able to use the technology, just that there are many underlying features that would be difficult to grasp at more advanced levels.</p>
<p>This book and its code files are set up with the experienced programmer in mind. There are optimization strategies employed and esoteric language constructs used that beginner programmers may not immediately understand. If you have not been studying programming for at least two years and have not used C# extensively during that period, I suggest having a reference manual or two at hand in order to clarify any programming terms or syntax usage that you are unfamiliar with. Some of the best sources for really diving into the C# language are the C# Language Specification (<a href="https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-334.pdf">https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-334.pdf</a>) and <em>Learning C# By Developing Games with Unity 2017</em> (<a href="https://www.packtpub.com/game-development/learning-c-7-developing-games-unity-2017-third-edition">https://www.packtpub.com/game-development/learning-c-7-developing-games-unity-2017-third-edition</a>).</p>
<p>Please be aware that at least two projects in this book will require the use of Xcode and will require a macOS and iOS device to compile and run properly. If you do not have, at the bare minimum, a 2011 model or later macOS, you should skip implementing the examples in the chapters and sections that deal with ARKit entirely, as you will not be able to follow along with the book. Feel free to read the sections, though, as there is always something to learn, even if you can't follow the examples.</p>
<p class="mce-root"/>
<p>The version of Unity3D we will be using for this book is Unity 2017.2.0f3 (64-bit) for both Windows 10 and macOS. We will be using Windows 10 version 1703 build number 15063.726 to build for Android, and macOS High Sierra (version 10.13) for building for iOS, as these are the latest versions of both operating systems at the time of writing this book.</p>
<p>The core information we will go over is as follows:</p>
<ul>
<li>Which AR toolkits are available for usage</li>
<li>How to get started with each toolkit</li>
<li>What the pros and cons of each toolkit are</li>
<li>Reasons for developing AR applications and games</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Available AR packages </h1>
                </header>
            
            <article>
                
<p>Unity3D has several options readily available via plugins for creating AR applications and games:</p>
<ul>
<li>Vuforia AR Starter Kit</li>
<li>ARCore (Tango)</li>
<li>ARToolKit</li>
<li>ARKit</li>
</ul>
<p> It should be noted that Vuforia Starter Kit has been fully integrated into Unity3D and is quite easy to jump right into creating projects with. ARKit and ARCore, however, are slightly different. Because they are still in the experimental and early developmental phases, Apple and Google have not released full and proper SDKs for Unity Technologies to incorporate into the engine.<br/>
<br/>
There is a plugin that exists for both of them that you will have to compile to get it to work with your project for Apple and Android devices, and we will go into how to compile and integrate into Unity3D to get it to work appropriately later in this chapter. For now, it is good to know that there is a little bit more setup involved with getting AR to work with iOS and Android.</p>
<p>With the introduction out of the way, we can finally begin to really talk about AR, what it is exactly, and how to set up Unity3D to take advantage of the SDKs available to create your own AR games and applications. Without further ado, let's define what AR actually is.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Defining AR</h1>
                </header>
            
            <article>
                
<p>AR is augmented reality. Augmented reality is taking some form of reality and changing it in a specific way to enhance the experience. What augmented reality typically refers to is as follows:</p>
<ol>
<li>Sound:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="assets/96fb24bc-8ff9-4f95-a150-34c0fc7ecc28.png" style="width:38.17em;height:31.17em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref"><span>Sound perception</span></div>
<ol start="2">
<li>Video:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="assets/cf81cab4-6b43-4f2c-9108-45d30769ecd1.png" style="width:38.17em;height:14.83em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref"><span>The text in this image is not important. We are just showcasing the video perception overlay</span></div>
<ol start="3">
<li>Graphics:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="assets/849c7abc-735f-4321-b04d-96b7cc32c5fd.png" style="width:36.58em;height:29.17em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref"><span>The text in this image is not important. We are just showcasing the Graphic perception overlay</span></div>
<ol start="4">
<li>Haptics:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="assets/1ea208f7-4d11-4c87-92c9-be14c5f44aa1.png" style="width:13.17em;height:10.08em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Haptic perception</div>
<ol start="5">
<li>GPS data:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="assets/0fc552b5-7eec-4dfa-8bd7-7ee3ee4d4ffe.jpg" style="width:18.75em;height:33.33em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref"><span>GPS perception</span></div>
<p>This means that we could boost visual graphics of an object and view it in a different perspective than what we are accustomed to, or we could add something that isn't there. The video is a little bit different, as it requires the software to interface with specialized hardware, such as glasses, cell phones, HUDs, and other devices.</p>
<p>We could boost the auditory aspect of the world around us. We could take words we see in one language and have it say those words in another, or we could pick up those faint sounds that we always hear and tune out, then amplify them and really bring them to the forefront.</p>
<p>Haptic perception is a little more difficult, but it could be achieved with sensors that emulate touch. We could make something vibrate softly or harshly to simulate various effects, or we could make the game or application entirely touch- or motion-sensor-based. There are many other things we could use for haptic perception in applications or games. It is a field that is constantly being researched and expanded upon.</p>
<p>For GPS data, we can use the user's location to know where the user is in the app or game world. Another use for GPS data would be to know if something of interest to the user should be shown to them.</p>
<p>Because Unity3D loves to take care of most of the finer details of implementation for us, we don't have to worry too much about incorporating DLLs (dynamic-link libraries) or writing the wrapper classes to work with the majority of the popular AR and VR devices. There are exceptions to this rule, depending on the platform and whether the engine has been updated to specifically work with those devices.</p>
<p>Android and iOS are the most popular devices for applications and games to have AR incorporated into them, however, the various tech giants have been working hard to add more and more devices into the mix, with varying amounts of success. Some of these will obviously not have implementation with Unity3D, although you can write wrapper classes as previously mentioned, however, that is outside the scope of this book.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">An incomplete list of AR devices</h1>
                </header>
            
            <article>
                
<p>Let's take a quick look at some AR-capable devices. This should give us a slightly better idea of the different types of devices we can use and deploy to:</p>
<ul>
<li>The <strong>Meta 2</strong> is a head-mounted display headset that uses a sensory array for hand interactions and positional tracking, it has a visual field view of 90 degrees, and a resolution of 2560 x 1440:</li>
</ul>
<div class="CDPAlignCenter CDPAlign packt_figref"><img src="assets/6956d511-e8e6-4216-9186-822a5b45a92b.jpg" style="width:16.83em;height:13.00em;"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Meta 2</div>
<ul>
<li>AR displays can be rendered on devices resembling eyeglasses, such as the <strong>Google Glass</strong>:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="assets/1964ae84-2b2c-45b5-bee9-a6d87a0a9a4e.jpg" style="width:16.25em;height:16.25em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref"><span>Google Glass</span></div>
<ul>
<li>Another such device is the HoloLens:</li>
</ul>
<div class="CDPAlignCenter CDPAlign"><img src="assets/c8de6845-b156-46e4-abe9-310f8fa3e13d.jpg" style="width:28.00em;height:11.25em;"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">HoloLens</div>
<ul>
<li>There is something called a <strong>head-up display</strong>, which is commonly referred to as a <strong>HUD</strong>. It is an alternate implementation of AR displays:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="assets/4e252c51-b4e7-4e8c-b601-778c56f8e469.jpg" style="width:24.83em;height:22.83em;"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">HUD</div>
<ul>
<li>There are many new devices being researched on and created all the time. Augmented reality is still in its infancy.</li>
</ul>
<p>All throughout this book, we will create applications and games that are inspired by the definition of AR. Since there are four main aspects of AR, we will use those four aspects and create a specific application or game for that chapter. Since we have a finite number of sensors that are available for Android and iOS devices, some sensors will be utilized in multiple projects.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Advantages and disadvantages of the different AR toolkits available</h1>
                </header>
            
            <article>
                
<p>In this section, we will discuss the advantages and disadvantages of ARCore, Vuforia, ARToolKit, and ARKit.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">ARCore</h1>
                </header>
            
            <article>
                
<p>ARCore is a platform for building augmented reality apps for Android devices. ARCore uses three key technologies to integrate virtual content with the world through the camera. It uses motion tracking, environmental understanding, and light estimation. ARCore works by tracking the position of the device as it moves and builds its own understanding of the real world. It is able to identify interesting points and readings from the phone's sensors and has the ability to determine both the position and the orientation of the phone as it moves. ARCore only has a few supported devices at the present time, which are as follows:</p>
<ul>
<li>Google Pixel</li>
<li>Pixel XL</li>
<li>Pixel 2</li>
<li>Pixel 2 XL</li>
<li>Samsung Galaxy S8</li>
</ul>
<p>If you don't own one of these devices, you are stuck using the Android Emulator for testing purposes. This is a very obvious downside, since not everyone owns one of these specific phones; additionally, the Android Emulator is an experimental piece of software and is subject to change often. The upside is that ARCore works with Unity3D and Unreal Engine as well as native to Android devices using the Java programming language.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">ARKit</h1>
                </header>
            
            <article>
                
<p>ARKit, which was introduced in iOS 11, is a framework for easily creating augmented reality projects for the iPhone and iPad. ARKit's features include:</p>
<ul>
<li>TrueDepth Camera</li>
<li>Visual Inertial Odometry</li>
<li>Scene Understanding</li>
<li>Lighting Estimation</li>
<li>Rendering Optimizations</li>
</ul>
<p> The downsides to ARKit are that it is an experimental software and subject to change often, and that it requires the use of the Apple iPhone X to take full advantage of the TrueDepth Camera. You cannot compile this on Windows for Mac, so it is a requirement to have a macOS to even test the code properly. The pros, however, are that ARKit works with Unity3D and Unreal Engine and can utilize the A9, A10, and A11 Apple processors. In other words, it works with the iPhone 6S and beyond.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Vuforia</h1>
                </header>
            
            <article>
                
<p>Vuforia is one of the most popular platforms to help you work with augmented reality development. It supports the following:</p>
<ul>
<li>Android</li>
<li>iOS</li>
<li>UWP</li>
<li>Unity3D Editor</li>
</ul>
<p>Vuforia is able to do many different things, such as recognition of different types of visual objects (such as boxes, cylinders, and planes), text and environment recognition, and VuMark, which is a combination of picture and QR code. Also, using the Vuforia Object Scanner, you can scan and create object targets. The recognition process can be implemented using the database (local or cloud storage). The Unity plugin is simple to integrate and very powerful. All plugins and functionalities of the platform are free to use but include the Vuforia watermarks.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The limitations just relate to the number of VuMarks and the amount of Cloud recognition:</p>
<ul>
<li>Paid plan without watermarks</li>
<li>1,000 Cloud recognitions</li>
<li>100,000 targets</li>
<li>Costs $99 per month</li>
</ul>
<p>The obvious downside is that this is not 100% free software, although they do have a developer tier with 1,000 cloud recognitions and 1,000 targets for free per month.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">ARToolKit</h1>
                </header>
            
            <article>
                
<p>ARToolKit is an open source tracking library for AR projects. It is supported on Android, iOS, Linux, and macOS. ARToolKit has the functionality to utilize the following:</p>
<ul>
<li>Single or stereo camera for position/orientation tracking</li>
<li>Tracking of simple black squares</li>
<li>Tracking of planar images</li>
<li>Camera calibration</li>
<li>Optical stereo calibration</li>
<li>Optical head-mounted display support</li>
</ul>
<p>It is fast enough for real-time AR applications. It is also free and open source software, with plugins for Unity and OpenSceneGraph. The downside to this software is that it has a huge variety of functions, so it is difficult to integrate the library, and it takes more time to explore all the available options and settings.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Building our first AR applications</h1>
                </header>
            
            <article>
                
<p>This section will define all the main points of each of the different SDKs available to us, and we will build our first program with them. This will be in a step-by-step and very in-depth tutorial design sort of way, since this is a lot of information to package and condense into a small section without needing to reiterate the information in later chapters.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up Vuforia</h1>
                </header>
            
            <article>
                
<p>It is now time to set up a Unity3D project for each of the different SDKs that will serve as the basis for later chapters when we use each of them to build an application or a game. Let's start with Vuforia, since it is the simplest one to set up:</p>
<ol>
<li>We now need to register with Vuforia. Navigate to <a href="https://developer.vuforia.com/vui/user/register">https://developer.vuforia.com/vui/user/register</a> in order to go to the registration landing page. If you live in a country in which Google is blocked, you should use a VPN, because the registration page uses the Google-powered reCAPTCHA and you can't continue without it:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/42ef57f4-6936-45af-99a2-8835027edf52.png" style="width:29.67em;height:37.17em;"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Registering on Vuforia</div>
<ol start="2">
<li>Once you can log in, navigate to the <span class="packt_screen">Develop</span> tab; alternatively, follow this link: <a href="https://developer.vuforia.com/targetmanager/licenseManager/licenseListing">https://developer.vuforia.com/targetmanager/licenseManager/licenseListing</a>.</li>
<li>You will see two main items, <span class="packt_screen">License Manager</span> and <span class="packt_screen">Target Manager</span>. The License Manager will allow you to create a free Development Key or purchase a Development Key. We want to create a free one. Click on <span class="packt_screen">Get Development Key</span>. Enter a name for the app, which you can change at any time. I shall call mine <kbd>VuforiaIntro</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/d5348c09-268f-40d4-aca4-c3b1c7e42fc4.png" style="width:41.42em;height:40.42em;"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Adding a Vuforia key</div>
<ol start="4">
<li class="mce-root">Now, we have our key with Vuforia. In order to see the license key, we need to click on the name of our app:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/9f14c744-5628-440b-bcb1-7cae4163f781.png"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Vuforia key info</div>
<ol start="5">
<li>This next page gives us two very important pieces of information: <span class="packt_screen">License Key</span> and <span class="packt_screen">Usage</span> details. The <span class="packt_screen">Usage</span> details tells us how many Cloud recognitions, Cloud databases, Recognitions used, Cloud targets used, VuMarks generated, VuMark databases, VuMark templates, and VuMarks we have used or currently have remaining:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/a2f8d584-ccc2-48aa-a8e0-8026eb04dccd.png"/></div>
<ol start="6">
<li>The <span class="packt_screen">License Key</span> details tell us our key (which is easy to copy to the clipboard), the type of key it is, the status of the key, the date it was created, and the history of the key.</li>
</ol>
<p>Now, we are ready to set up Vuforia and get the demo project working appropriately.</p>
<p>As stated previously, Vuforia is fully integrated into Unity3D as of 2017.2, and is a dream to work with once you learn the basics of the SDK. Vuforia is made to strictly deal with the graphics portion of AR. It can recognize images and objects, and it has the ability to interact with the real world, because it uses computer vision. Since Vuforia is built into Unity3D, we will do the installation of Unity with Vuforia all in one go.</p>
<p>If you don't have Unity3D installed on your computer now, let's go ahead and do that:</p>
<ol>
<li>Navigate to <a href="http://www.Unity3D.com">http://www.Unity3D.com</a> and download the latest Personal edition (or one of the others, if you are a high roller) installer for Unity:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/427eebe8-abe7-4fca-8bd7-8cfe4eba6fe4.png"/></div>
<ol start="2">
<li>When you get to the components section of the installer, make sure to select all the platforms you want to support. I typically select <span class="packt_screen">Android Build Support</span>, <span class="packt_screen">Linux Build Support</span>, <span class="packt_screen">SamsungTV Build Support</span>, <span class="packt_screen">Tizen Build Support</span>, <span class="packt_screen">WebGL Build Support</span>, and <span class="packt_screen">UWP (Universal Windows Platform) Build Support</span>. There is one additional one you need to make sure you select, and that is <span class="packt_screen">Vuforia Augmented Reality Support</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/5e13d0f1-b6ab-4f09-9747-79e26e33775f.png"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Vuforia Unity installation</div>
<p>Now that Unity3D has been installed, let's create a brand new Unity project:</p>
<ol>
<li>Vuforia recommends that you use a 3D project setup for their AR apps, so, with that in mind, I will keep it as a 3D project with Enable Unity Analytics disabled, and the name of the project shall be <kbd>VuforiaIntro</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/097c1e9b-7582-40fe-a104-05647ea4d036.png"/></div>
<ol start="2">
<li>Once the project has loaded, we can take a look at some of the additional editor items we have access to now. In the toolbar at the top of the Unity Editor, we will see <span class="packt_screen">File</span>, <span class="packt_screen">Edit</span>, <span class="packt_screen">Assets</span>, <span class="packt_screen">GameObject</span>, <span class="packt_screen">Component</span>, <span class="packt_screen">Window</span>, and <span class="packt_screen">Help</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/87806eac-3350-404a-b6d7-9a710d06c191.png"/></div>
<ol start="3">
<li><span class="packt_screen">GameObject</span>, <span class="packt_screen">Component</span>, <span class="packt_screen">Window</span>, and <span class="packt_screen">Help</span> have additional items added to them. Looking at <span class="packt_screen">GameObject</span>, we can see that the additional item is <span class="packt_screen">Vuforia</span>. Inside the <span class="packt_screen">Vuforia</span> item, we have <span class="packt_screen">AR Camera</span>, <span class="packt_screen">Image</span>, <span class="packt_screen">Multi Image</span>, <span class="packt_screen">Cylindrical Image</span>, <span class="packt_screen">Cloud Image</span>, <span class="packt_screen">Camera Image</span>, <span class="packt_screen">VuMark</span>, and <span class="packt_screen">3D Scan</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/153a0985-9590-493f-967d-e084f5ec7c9d.png"/></div>
<ol start="4">
<li><span class="packt_screen">Cloud Image</span> has some additional items, so let's take a look at that. We have <span class="packt_screen">Cloud Provider</span> and <span class="packt_screen">Cloud Image</span> <span class="packt_screen">Target</span> available to us:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/b4d76e26-6a62-481a-a92c-9a0d452c2f6c.png"/></div>
<div><br/></div>
<p class="mce-root"/>
<ol start="5">
<li><span class="packt_screen">Camera Image</span> also has some additional items, so we should also be familiar with those options. The options available are <span class="packt_screen">Camera Image Builder</span> and <span class="packt_screen">Camera Image Targe</span><span class="packt_screen">t</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/d753d3b8-c918-4172-ad29-1e8ce625d59d.png"/></div>
<div>
<p class="mceNonEditable"><span>Before we go any further, we should know exactly what these options do and how they look when added to the project prior to the license being applied.</span></p>
</div>
<p>AR Camera replaces the standard camera, as it has the base camera component and <span class="packt_screen">Audio Listener</span> components. We also see that it has two scripts attached, <span class="packt_screen">Vuforia Behavior</span> and <span class="packt_screen">Default Initialization Error Handler</span>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/94a1ced0-7f64-4e3d-9852-e6c5210ec383.png" style="width:36.00em;height:50.92em;"/></div>
<ul>
<li><span class="packt_screen">Image</span> is what allows you to add a trackable object into your AR project and serves as the basis for allowing you to have a mount point for bringing models into the camera feed.</li>
<li><span class="packt_screen">Multi Image</span> allows you to add multiple trackable objects into your AR project and serves as the anchor for bringing models into the camera feed in real time.</li>
<li><span class="packt_screen">Cylindrical Image</span> is an anchor for images wrapped onto objects that are cylindrical in shape.</li>
<li><span class="packt_screen">VuMark</span> is a custom barcode made by the Vuforia team. It allows you to encode data into it as well as act as an AR target like the Image, Multi Image, and Cylindrical Image.</li>
<li><span class="packt_screen">Cloud Provider</span> is a direct link to your cloud database for specialized AR-designed branding. It is supposed to be used for publications (catalogs, magazines, newspapers, and so on), retailers (product visualization and in-store traffic generation), advertisers (multi-branded content, coupons, and promotions), and product recognition (wine labels/ bottles, cereal boxes, and so on).</li>
<li><span class="packt_screen">Cloud Image Target</span> is what allows you to add a trackable object into the AR project and serves as the anchor for the app to send the recognized data to the cloud database to retrieve the information and display it as you wish.</li>
<li><span class="packt_screen">Camera Image Builder</span> is what allows you to define a target image to be stored in a database for retrieval and usage in an AR application.</li>
<li><span class="packt_screen">Camera Image Target</span> serves as the anchor for which to use the self-defined target image to display what you want on screen when recognized.</li>
</ul>
<p>The next set of items to talk about is in the <span class="packt_screen">Component</span> toolbar. The special components lie within the <span class="packt_screen">AR</span>, <span class="packt_screen">Scripts</span>, and <span class="packt_screen">XR</span> portions of the <span class="packt_screen">Component</span> window, as marked in the following screenshot for reference. In order to use them, you have to have a <span class="packt_screen">GameObject</span> in the scene and add the component from the toolbar to it. We have <span class="packt_screen">World Anchor</span>, <span class="packt_screen">Tracked Pose Driver</span>, <span class="packt_screen">Spatial Mapping Collider</span>, and <span class="packt_screen">Spatial Mapping Renderer</span> available. We should do a deep dive in so that we can know exactly what these items do:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/0f518a8d-3c6f-4e7f-a4ac-d3be6035f706.png"/></div>
<ul>
<li><span class="packt_screen">World Anchor</span> is a component that represents a link between an exact point in the physical world and the parent GameObject of the World Anchor. Once added, a GameObject with a World Anchor component remains locked in place to locations in the real world.</li>
<li><span class="packt_screen">Tracked Pose Driver</span> is a component that applies the current Pose value of a tracked device to the transform of the Game Object.</li>
<li><span class="packt_screen">Spatial Mapping Collider</span> allows for holographic content (or character) interaction, such as physics, with the spatial mapping mesh.</li>
<li><span class="packt_screen">Spatial Mapping Renderer</span> is a component that gives a visual representation of Spatial Mapping surfaces. This is useful for visually debugging surfaces and adding visual effects to the environment.</li>
</ul>
<p>It should be noted that there are items related to Vuforia in the <span class="packt_screen">Scripts</span> section, however, we will not cover those here. But, just for the sake of making sure that the items are listed, they are as follows:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/86b579d2-222a-4af3-88c1-02c0853d7b6b.png" style="width:39.25em;height:47.58em;"/></div>
<ul>
<li><span class="packt_screen">Background Plane Behaviour</span></li>
<li><span class="packt_screen">Cloud Reco Behaviour</span></li>
<li><span class="packt_screen">Cylinder Target Behaviour</span></li>
<li><span class="packt_screen">GL Error Handler</span></li>
<li><span class="packt_screen">Image Target Behaviour</span></li>
<li><span class="packt_screen">Mask Out Behaviour</span></li>
<li><span class="packt_screen">Multi Target Behaviour</span></li>
<li><span class="packt_screen">Object Target Behaviour</span></li>
<li><span class="packt_screen">Prop Behaviour</span></li>
<li><span class="packt_screen">Reconstruction Behaviour</span></li>
<li><span class="packt_screen">Reconstruction From Target Behaviour</span></li>
<li><span class="packt_screen">Surface Behaviour</span></li>
<li><span class="packt_screen">Text Reco Behaviour</span></li>
<li><span class="packt_screen">Turn Off Behaviour</span></li>
<li><span class="packt_screen">Turn off Word Behaviour</span></li>
<li><span class="packt_screen">User Defined Target Building Behaviour</span></li>
<li><span class="packt_screen">Video Background Behaviour</span></li>
<li><span class="packt_screen">Virtual Button Behaviour</span></li>
<li><span class="packt_screen">Vuforia Behaviour</span></li>
<li><span class="packt_screen">Vuforia Deinit Behaviour</span></li>
<li><span class="packt_screen">Vu Mark Behaviour</span></li>
<li><span class="packt_screen">Wireframe Behaviour</span></li>
<li><span class="packt_screen">Wireframe Trackable Event Handler</span></li>
<li><span class="packt_screen">Word Behaviour</span></li>
</ul>
<p>In the <span class="packt_screen">Inspector</span> pane, we have Vuforia Configuration. The following is a screenshot of it; next, we will define what it does:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/47d00b0a-4e6a-45dd-ad49-111fdf64371d.png" style="width:30.58em;height:55.25em;"/></div>
<p>Vuforia Configuration allows you to enter your License Key. Clicking on <span class="packt_screen">Add License</span> will load the Vuforia Developer landing page. It also allows you to specify what you want Vuforia to be configured to work for, such as a HUD, smartglasses, a webcam, or a smartphone.</p>
<div class="packt_infobox">I also want to note that Smart Terrain Tracker has been deprecated and will be removed in the next release of Vuforia. If you are reading this book and that screenshot does not look the same, you now know why and should not be worried.</div>
<p>Since we are here, let's go ahead and add our app key to Vuforia (see Vuforia Add License for its location):</p>
<ol>
<li>You should create your own app key, since my app key will not be valid by the time of the release of this book. After copying and pasting your key into the license key box, just press the <em>Return</em>/<em>Enter</em> key and you are done:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/e872ac45-8076-49d8-a532-f5658dffdf3a.png" style="width:36.17em;height:50.25em;"/></div>
<ol start="2">
<li>Since we are testing on PC and if you have a webcam that works for said PC, make sure that the <span class="packt_screen">Camera Device</span> selects the proper webcam for usage:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/b82e4567-c824-497c-92d0-bd3eee7c6106.png" style="width:22.50em;height:54.08em;"/></div>
<ol start="3">
<li>Next, we need to go into the Unity Player Settings and fix some options. Navigate to <span class="packt_screen">File</span> and click on <span class="packt_screen">Build Settings</span>. The <span class="packt_screen">Build Settings</span> box should appear. Make sure you change the project type to build to <span class="packt_screen">Android</span>, and then click on <span class="packt_screen">Player Settings</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/9806882d-c6b9-4892-8221-37167940367b.png"/></div>
<ol start="4">
<li>Vuforia does not support <span class="packt_screen">FAT device filter</span> or <span class="packt_screen">Android TV</span>, so we need to change those two options. <span class="packt_screen">Device Filter</span>, which is located in <span class="packt_screen">Other Settings</span>, needs to be changed to <span class="packt_screen">ARMv7</span>, and <span class="packt_screen">Android TV Compatibility</span> needs to be unchecked.</li>
<li>Now, we can finally build our "Hello World" AR application for testing to make sure Vuforia and Unity3D are working well together. If you haven't done so already, remove the regular camera component from the <span class="packt_screen">Hierarchy</span> Pane and replace it with the <span class="packt_screen">ARCamera</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/d834ac02-5ca4-4c53-8ad9-935b0dea81a8.png" style="width:22.58em;height:9.67em;"/></div>
<ol start="6">
<li>The next step is to add the Vuforia Image to the scene, which is also known as the <span class="packt_screen">ImageTarget</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/2eea5ee4-a9e6-4cef-8f15-a13b02c178d1.png" style="width:19.50em;height:10.33em;"/></div>
<ol start="7">
<li>We now need to download and add a 3D model to the scene. So, let's go with the easy route and just add a sphere to the scene with the <em>x</em>, <em>y</em>, and <em>z</em> scale set to <kbd>0.3</kbd>. Take extra special care to make sure that the sphere is a child of the <span class="packt_screen">ImageTarget</span>. <em>This is very important</em>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/41ff3c37-203b-4822-82ad-63c8c992c19a.png" style="width:53.25em;height:22.83em;"/></div>
<ol start="8">
<li>The next step is to navigate to <span class="packt_screen">Editor |</span> <span class="packt_screen">Vuforia</span> | <span class="packt_screen">ForPrint</span> | <span class="packt_screen">ImageTargets</span>, and print out on a piece of paper <kbd>target_images_A4</kbd> or <kbd>target_images_USLetter</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/4b57d8ba-9bd2-4472-935f-68c90d96b536.png"/></div>
<ol start="9">
<li>Once you have it printed, we can begin the final portion of the test, which is to run the program and hold the printout of the drone in front of the webcam:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/017131ff-49f0-4855-b513-2a565087ef72.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">The text in this screenshot is not important. It shows a sphere that appears on the camera feed when the image is recognized.</div>
<ol start="10">
<li>Vuforia has now been properly configured and tested appropriately, so we can move on to the next SDK to set up and configure.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up ARToolKit</h1>
                </header>
            
            <article>
                
<div>ARToolKit is a bit more difficult to set up and get started with.</div>
<div class="packt_infobox"><br/>
ARToolKit has been depreciated and is now part of the Daqri Vos API. which you can view at <a href="https://developer.daqri.com/#!/content/develop">https://developer.daqri.com/#!/content/develop<br/></a>This section has been kept in for incase you want to utilize ARToolkit from the github link <a href="https://github.com/artoolkit/arunity5">https://github.com/artoolkit/arunity5</a></div>
<p>There are two different ways you can get ARToolKit in a project and ready to develop with. The first option is the easiest, and that is through the Asset Store: <a href="https://assetstore.unity.com/packages/tools/artoolkit-6-unitypackage-94863">https://assetstore.unity.com/packages/tools/artoolkit-6-unitypackage-94863</a>. This is the latest version of ARToolKit in the Asset Store and it will be imported directly into Unity for you. The other option is to go to the main website of ARToolKit: <a href="https://github.com/artoolkit/artoolkit5">https://github.com/artoolkit/artoolkit5</a>. This allows you to get additional tools and the actual SDK, along with the Unity Package.</p>
<p class="mce-root"/>
<p>For installation into Unity3D, we will go with the second option, since it is less intuitive than the first option:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/d709223b-b1f8-437c-9f72-48f71ba776d5.png" style="width:48.92em;height:21.00em;"/></div>
<ol>
<li>Navigate to the main website for ARToolKit and click on <span class="packt_screen">DOWNLOAD SDK</span>. The macOS, Windows, iOS, Android, Linux, Windows 8.1, and Source Dependencies don't need to be downloaded, but they can be if you want to go deeper into how ARToolKit works under the hood or if you want to use it in a non-Unity capacity. Instead, head toward the bottom of the page and click on the <span class="packt_screen">DOWNLOAD UNITY PACKAGE</span> button:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/edaadbbf-a509-4305-9adf-f212a60700ad.png" style="width:49.25em;height:20.33em;"/></div>
<div class="packt_infobox">Unless you are doing something more involved, you don't need the additional Unity tools at the present time if you are on a macOS, but if you are on a PC, I suggest getting the Windows Tools, since ARToolKit needs them to debug on PC without using the Android Emulator or testing on Linux.</div>
<ol start="2">
<li>Now that the package has been downloaded, we need to open Unity3D and create a new project. I will call mine <kbd>ARToolKitIntro</kbd>. Keep the settings as default for simplicity's sake:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/08d97be7-c52e-4d55-bce6-b5adf40d3f9f.png" style="width:49.50em;height:28.83em;"/></div>
<ol start="3">
<li>Now, we need to import the Unity Package into Unity. This is pretty straightforward. Right-click the <kbd>Assets</kbd> folder, highlight <span class="packt_screen">Import Package</span>, and select <span class="packt_screen">Custom Package</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/bf186f82-bc85-40c2-883f-2bc81d12bb81.png"/></div>
<ol start="4">
<li>Navigate to the folder that houses the downloaded Unity Package, click on it, and select <span class="packt_screen">Open</span>. You should see a dialog box with checkboxes inside. Click on <span class="packt_screen">All</span> and then click on <span class="packt_screen">Import</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/f3f48703-e106-4dca-81d6-cc616436db90.png" style="width:30.00em;height:44.17em;"/></div>
<ol start="5">
<li>You will see three folders after the import is complete (<kbd>ARToolKit5-Unity</kbd>, <kbd>Plugins</kbd>, and <kbd>StreamingAssets</kbd>):</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/1d90b7e9-875c-4578-9a0d-8ea218d8c857.png"/></div>
<p>Inside the <kbd>ARToolKit5-Unity</kbd> folder, there are the <kbd>Example Scenes</kbd>, <kbd>Examples</kbd>, <kbd>Materials</kbd>, <kbd>Resources</kbd>, <kbd>Scripts</kbd>, <kbd>Changelog</kbd>, and <kbd>Readme</kbd> files and folders:</p>
<ul>
<li>Inside <kbd>Scripts</kbd>, we have an <kbd>Editor</kbd> folder with the features shown in the following screenshot:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="assets/4c9ea14e-a1b1-4f10-a956-a58f7c2c14e1.png"/></p>
<ul>
<li>Inside the <kbd>Editor</kbd> folder, we have the following:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="assets/fe4afda0-b719-4760-8101-023eab765ed3.png"/></p>
<ul>
<li>Next up is the <kbd>Plugins</kbd> folder. It has folders listed as follows:</li>
</ul>
<div class="CDPAlignCenter CDPAlign"><img src="assets/8f6c3434-1803-4e77-8348-98a3317c977b.png"/></div>
<ul>
<li>If you look at the menu bar at the top of the Unity Editor, you will see an additional toolbar item: <span class="packt_screen">ARToolKit</span>. The drop-down menu shows several options: <span class="packt_screen">ARToolKit for Unity Version 5.3.2</span>, <span class="packt_screen">Download Tools</span>, <span class="packt_screen">Build</span>, <span class="packt_screen">Support</span>, and <span class="packt_screen">Source Code</span>:</li>
</ul>
<div class="CDPAlignCenter CDPAlign"><img src="assets/c41b9582-5808-4e48-8565-367a60e3809f.png"/></div>
<ul>
<li><span class="packt_screen">Support</span> has <span class="packt_screen">Home Page</span>, <span class="packt_screen">Documentation</span>, and <span class="packt_screen">Community Forums</span>:</li>
</ul>
<div class="CDPAlignCenter CDPAlign"><img src="assets/b2b8d760-6bc3-4f9b-8594-52910b0762c4.png"/></div>
<ul>
<li><span class="packt_screen">Source Code</span> has <span class="packt_screen">View ARToolKit Source</span> and <span class="packt_screen">View Unity Plugin Source</span>:</li>
</ul>
<div class="CDPAlignCenter CDPAlign"><img src="assets/7b496bc3-c529-478c-9e6d-78da16c9b79c.png"/></div>
<p>The basics are out of the way, so we can begin building our "Hello World" with ARToolKit:</p>
<ol>
<li>The first thing we need to do is create an empty game object in the <span class="packt_screen">Hierarchy</span> pane and rename it <kbd>ARToolKit</kbd>.</li>
<li>The next step is to add the <kbd>ARController</kbd> script to the game object and delete the Camera:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/96f4b489-3f87-455f-91dc-94603db0280c.png"/></div>
<ol start="3">
<li>The <kbd>ARController</kbd> script handles the creation and management of AR tracking. It automatically adds a camera at runtime and is controlled by the user layers that we provide.</li>
<li>With this latest version of ARToolKit, the basic user layers are provided for you already: <kbd>AR background</kbd>, <kbd>AR background 2</kbd>, and <kbd>AR foreground</kbd> for <span class="packt_screen">User Layer 8</span>, <span class="packt_screen"><span>User Layer</span> 9</span>, and <span class="packt_screen"><span>User Layer</span> 10</span>, respectively:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/ddc63854-e8c8-4305-ba0b-814a91a2cc89.png" style="width:26.92em;height:51.42em;"/></div>
<ol start="5">
<li>The <span class="packt_screen">AR Controller</span> script has a <span class="packt_screen">Video Options</span> drop-down menu:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/0ee00050-1788-443f-b966-0812347dee1a.png"/></div>
<ol start="6">
<li>Since we have so many different options for video, we need to set it up properly:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/1406686a-b73f-4dd7-86cc-e1f31819dfc1.png"/></div>
<ol start="7">
<li>If you get errors in the console of the Unity Editor, then you don't have the latest version of ARToolKit with the version of Unity we are using in this book.</li>
</ol>
<p>Since I am building for Windows, I will go to the first option of Video config and input the following:</p>
<pre> &lt;?xml version="1.0" encoding="utf-8"?&gt;<br/> &lt;dsvl_input&gt;<br/> &lt;camera show_format_dialog="false" frame_width="1280" frame_height="720" frame_rate="29.97"&gt;<br/> &lt;pixel_format&gt;<br/> &lt;RGB32 flip_v="true"/&gt;<br/> &lt;/pixel_format&gt;<br/> &lt;/camera&gt;<br/> &lt;/dsvl_input&gt;</pre>
<p>Now, since my computer does not presently have a webcam attached to it, I get an in-game error message, but the code compiles and runs as expected. If you have a webcam attached and it is recognized appropriately, you should have a direct feed from your webcam.</p>
<p>This concludes the Hello World for ARToolKit; we will be revisiting this one later on for more in-depth and fun usage of this SDK.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up ARCore</h1>
                </header>
            
            <article>
                
<p>ARCore and ARKit are fundamentally very similar, but you can't compile ARKit on a Windows environment, which is what I'm presently using. Not to worry; when we get to ARKit, I will be using a macOS to give you a proper view and feel of how things are when using it.</p>
<p>That being said, it is now time to take a deeper look at ARCore.</p>
<p>ARCore was made by Google and is currently in the early preview stages; it hasn't even reached release 1.0 yet, so there are bound to be many changes, some of which could be extremely damaging to existing apps or games.</p>
<p>There are two ways to get the SDK preview for Unity. The first is through a Unity Package file (<a href="https://developers.google.com/ar/develop/unity/quickstart-android">https://developers.google.com/ar/develop/unity/quickstart-android</a>) and the other is through GitHub (<a href="https://github.com/google-ar/arcore-unity-sdk">https://github.com/google-ar/arcore-unity-sdk</a>). Now, since I have been having an issue with downloading from Amazon Web Services lately, I will use the second link:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/7c948f4e-8581-4f83-8b47-dc9720b032b6.png" style="width:49.33em;height:28.25em;"/></div>
<p>It is key to remember that, if you don't have a Samsung Galaxy 8 or a Google Pixel phone, you will not be able to run proper tests on your device. However, if you also install Android Studio, you do get access to the Android Emulator:</p>
<ol>
<li>To begin, create a new project in Unity and call it <kbd>ARCoreTutorial</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/e6458da9-0c13-4874-9676-993cff72a989.png" style="width:55.50em;height:25.42em;"/></div>
<ol start="2">
<li>We need to change the <span class="packt_screen">Build Settings</span> to <span class="packt_screen">Android</span> before doing anything else:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/ad527667-325b-4418-baa0-d47b963d7a7e.png"/></div>
<ol start="3">
<li>Next up, we need to change the <span class="packt_screen">Player Settings</span>. The main settings we need to change are within the <span class="packt_screen">Other Settings</span> tab, so let's take a look at what needs to be changed.</li>
</ol>
<p> </p>
<p class="mce-root"/>
<ol start="4">
<li>Other Settings: We want <span class="packt_screen">Multithreaded Rendering</span> unchecked; <span class="packt_screen">Minimum API Level</span> should be <span class="packt_screen">Android 7.0 ‘Nougat' API level 24</span>; and <span class="packt_screen">Target API Level</span> should be <span class="packt_screen">Android 7.0 ‘Nougat' API level 24</span> or <span class="packt_screen">Android 7.1 ‘Nougat' API level 25</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/3cd5530e-792e-432e-bac4-9d7dd54cab45.png"/></div>
<p>               <br/>
                  5. <span class="packt_screen">XR Settings</span>: We want <span class="packt_screen">ARCore Supported</span> to be checked:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/3dbe4f63-b3db-4e6e-9096-47290aa3d33b.png"/></div>
<p>               <br/>
               6. Next up, we want to unzip the SDK or import the package into Unity3D:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/35d4f040-e69e-4ed4-8075-29f8e447d78e.png"/></div>
<p>Right away, we should see a <span class="packt_screen">DLLNotFoundException</span> for <kbd>tango_client_api2</kbd>. This is normal and is well-known by the community. It should not cause any errors at runtime, though; it should be fixed in a later release.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up ARKit</h1>
                </header>
            
            <article>
                
<p>ARKit requires the usage of macOS High Sierra, because of the XCode 9 and above requirement for compiling and making changes to the API itself. So, I would highly suggest having a macOS from late 2011 or newer. I am utilizing a Mac Mini 2011 model with 8 GB of RAM, although the standard 4 GB should be plenty. Unity3D does utilize OpenCL/OpenGL extensively, which requires a GFX card capable of utilizing Metal. 2011 and earlier macOSs do not have this ability natively; this could be circumvented by having an external GPU (Radeon RX 480 is currently the only GPU supported officially for this).</p>
<p>With that out of the way, we can begin with installing and configuring ARKit for Unity3D on our macOS.</p>
<p class="mce-root"/>
<p>There are a couple of ways you can install ARKit:</p>
<ol>
<li>We can navigate to the plugin page on the Asset Store (<a href="https://www.assetstore.unity3d.com/en/#!/content/92515">https://www.assetstore.unity3d.com/en/#!/content/92515</a>):<a href="https://www.assetstore.unity3d.com/en/#!/content/92515"/></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/e41fe61f-88e4-45c8-a1a9-77184326328e.png" style="width:53.25em;height:32.33em;"/></div>
<ol start="2">
<li>Or we can download the plugin directly from the Bitbucket repository (<a href="https://bitbucket.org/Unity-Technologies/unity-arkit-plugin/overview">https://bitbucket.org/Unity-Technologies/unity-arkit-plugin/overview</a>):<a href="https://bitbucket.org/Unity-Technologies/unity-arkit-plugin/overview"/></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="assets/9e1c37ed-a2cc-45d0-ab1f-7ca3d4b7a624.png"/></p>
<p class="mce-root"/>
<ol start="3">
<li class="mce-root CDPAlignLeft CDPAlign">If we go the first route and install from the Asset Store, we don't have to worry about copying the files into our project ourselves, but either way it is simple enough to do, so take your pick on the method you want to go with and create a new project called <kbd>ARKitTutorial</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/eb3ae1f0-ff4b-4b82-b769-fda7386cbf48.png" style="width:52.92em;height:30.33em;"/></div>
<p><span>Next up, we have quite a bit to unpack regarding what is actually in this package:</span></p>
<ul>
<li><kbd>/Assets/Plugins/iOs/UnityARKit/NativeInterface/ARsessionNative.mm</kbd> – This is the Objective-C code that is the actual interfaces with the ARKit SDK.</li>
<li><kbd>/Assets/Plugins/iOS/UnityARKit/NativeInterface/UnityARSessionNativeInterface.cs</kbd> – This is the scripting API that glues the native code to ARKit.</li>
<li><kbd>/Assets/Plugins/iOS/UnityARKit/NativeInterface/AR*.cs</kbd> – These are the equivalents of the data structures exposed by ARKit.</li>
<li><kbd>/Assets/Plugins/iOS/UnityARKit/Utility/UnityARAnchorManager.cs</kbd> – This is a utility script that tracks the anchor updates from ARKit and can create the proper corresponding GameObjects in Unity for them.</li>
<li><kbd>/Assets/Plugins/iOS/UnityARKit/Editor/UnityARBuildPostprocessor.cs</kbd> – This is an editor script that runs at build time on iOS.</li>
<li><kbd>/Assets/Plugins/iOS/UnityARKit/UnityARCameraManager.cs</kbd> – This is the component that should be placed on a GameObject in the scene that references the camera that you want to control. It will position and rotate the camera as well as provide the correct projection matrix based on updates from ARKit. This component also initializes as ARKit Session.</li>
<li><kbd>/Assets/Plugins/iOS/UnityARKit/UnityARVideo.cs</kbd> – This is the component that should be placed on the camera and grabs the textures needed for rendering the video. It sets the material needed for blitting to the backbuffer and sets up the command buffer for blitting.</li>
<li><kbd>/Assets/Plugins/iOS/UnityARKit/UnityARUserAnchorComponent.cs</kbd> – This is the component that adds and removes Anchors from ARKit based on the life cycle of the GameObject it is added to.</li>
</ul>
<p>Before we build our own "Hello World" example, we should build the <kbd>UnityARKitScene.unity</kbd> to iOS to get a taste of what ARKit is capable of, as it demonstrates all of the basic functionality of ARKit in that scene.</p>
<p><kbd>UnityARKitScene</kbd> is included in the plugin as well as a couple of other example projects. We will compile the <kbd>UnityARKitScene</kbd> as our Hello World application.</p>
<p>However, before we do that, we need to talk about the file structure, because those who are not well-versed with compiling to iOS will have some serious issues compiling without further clarification. You may have noticed quite a few items that we have not mentioned that are in the plugin, so let's go ahead and discuss what all of them do before moving on.</p>
<p><kbd>\UnityARKitPlugin</kbd> main directory files:</p>
<ul>
<li><kbd>ARKitRemote</kbd> – Allows you to send remote commands from your device to the Unity3D editor</li>
<li><kbd>Examples</kbd> – This directory houses example scripts and scenes to showcase various things you can do with ARKit and this plugin</li>
<li><kbd>Plugins</kbd> – Houses the directories required to run ARKit</li>
<li><kbd>Resources</kbd> – Houses the resource files required for ARKit</li>
</ul>
<p><kbd>Plugins\iOS\UnityARKit\NativeInterface</kbd> cs files:</p>
<ul>
<li><kbd>ARAnchor</kbd> – Anchors an object to a location in the world from the camera feed.</li>
<li><kbd>ARCamera</kbd> – Tracks the camera's position.</li>
<li><kbd>ARErrorCode</kbd> – Error codes.</li>
<li><kbd>ARFaceAnchor</kbd> – Face tracking anchor.</li>
<li><kbd>ARFrame</kbd> – Returns data about the camera, anchors, and light estimates.</li>
<li><kbd>ARHitTestResult</kbd> –Returns any collision results.</li>
<li><kbd>ARHitTestResultType</kbd> – Enumeration for the hit test types available.</li>
<li><kbd>ARLightEstimate</kbd> – Calculates how much luminosity is in the image or video.</li>
<li><kbd>ARPlaneAnchor</kbd> – Anchors a plane to a specific 4x4 matrix.</li>
<li><kbd>ARPlaneAnchorAlignment</kbd> – Aligns the anchor horizontally with respect to gravity.</li>
<li><kbd>ARPoint</kbd> – A point struct for x and y values as a double.</li>
<li><kbd>ARRect</kbd> – A struct that takes <kbd>ARPoint</kbd> as the origin and <kbd>ARSize</kbd> as the size.</li>
<li><kbd>ARSessionNative</kbd> – Native plugin used to specify framework dependencies and the platforms the plugin should work for.</li>
<li><kbd>ARSize</kbd> –A struct that takes a width and height value as a double.</li>
<li><kbd>ARTextureHandles</kbd> – A native Metal texture handler for the camera buffer which takes an <kbd>IntPtr</kbd>  (<kbd>int pointer</kbd>) for both <kbd>textureY</kbd> and <kbd>textureCbCr</kbd> values.</li>
<li><kbd>ARTrackingQuality</kbd> – Enumeration for tracking qualities available.</li>
<li><kbd>ARTrackingState</kbd> –Enumeration for tracking states. <span class="packt_screen">Limited</span>, <span class="packt_screen">Normal</span>, and <span class="packt_screen">NoAvailable</span> are the options.</li>
<li><kbd>ARTrackingStateReason</kbd> – Enumeration for the state reasons. Options are <span class="packt_screen">Excessive Motion</span>, <span class="packt_screen">Insufficient Features</span>, and <span class="packt_screen">Initializing</span>.</li>
<li><kbd>ARUserAnchor</kbd> – Defines this anchor's transformation matrix for rotation, translation, and scale in world coordinates.</li>
<li><kbd>UnityARSessionNativeInterface</kbd> – Native plugin wrapper code.</li>
</ul>
<p><kbd>\Plugins\iOS\UnityARKit\Helpers</kbd> cs files:</p>
<ul>
<li><kbd>AR3DOFCameraManager</kbd> – A helper class for 3D objects with the AR Camera</li>
<li><kbd>ARPlaneAnchorGameObject</kbd> – A class that attaches a GameObject with the <kbd>ARPlaneAnchor</kbd></li>
<li><kbd>DontDestroyOnLoad</kbd> – Makes sure the GameObject doesn't get destroyed on load</li>
<li><kbd>PointCloudParticleExample</kbd> – Creates a point cloud particle system</li>
<li><kbd>UnityARAmbient</kbd> – A helper function for ambient lighting</li>
<li><kbd>UnityARAnchorManager</kbd> – A manager for <kbd>ARPlaneAnchorGameObjects</kbd></li>
<li><kbd>UnityARCameraManager</kbd> – A helper class for the <kbd><kbd>ARCamera</kbd></kbd></li>
<li><kbd>UnityARCameraNearFar</kbd> – Sets the Near Far distance of the camera appropriately</li>
<li><kbd>UnityARGeneratePlane</kbd> – Creates an <kbd>ARPlaneAnchorGameObject</kbd></li>
<li><kbd>UnityARHitTestExample</kbd> – Tests collisions with various amounts of planes, from few to infinite</li>
<li><kbd>UnityARKitControl</kbd> – A helper class designed for creating a test <kbd>ARSession</kbd></li>
<li><kbd>UnityARKitLightManager</kbd> – A helper class for managing the various lighting possibilities</li>
<li><kbd>UnityARMatrixOps</kbd> – A class for converting a 4x4 matrix to Euclidean space for quaternion rotation</li>
<li><kbd>UnityARUserAnchorComponent</kbd> – A helper class for creating Anchor added and removed events</li>
<li><kbd>UnityARUtility</kbd> – A helper class to do coordinate conversions from ARKit to Unity</li>
<li><kbd>UnityARVideo</kbd> – A helper function to render the video texture to the scene</li>
<li><kbd>UnityPointCloudExamples</kbd> – A helper function to draw a point cloud using particle effects</li>
</ul>
<p><kbd>\Plugins\iOS\UnityARKit\Shaders</kbd> shader files:</p>
<ul>
<li><kbd>YUVShader</kbd> – A gamma Unlit Shader for rendering Textures</li>
<li><kbd>YUVShaderLinear</kbd> – A linear Unlit Shader for rendering Textures</li>
</ul>
<p><kbd>\UnityARKitPlugin\Resources</kbd> file:</p>
<ul>
<li><kbd>UnityARKitPluginSettings.cs</kbd> – Is a scriptable object that toggles whether ARKit is required for the app and toggles Facetracking for the iPhone X.</li>
</ul>
<p><kbd>UnityARKitPlugin\ARKitRemote</kbd> files:</p>
<ul>
<li><kbd>ARKitRemote.txt</kbd> – A text file that explains how to set up and use ARKitRemote</li>
<li><kbd>EditorTestScene.unity</kbd> – Test scene that should run when running <kbd>ARKitRemote</kbd></li>
<li><kbd>UnityARKitRemote.unity</kbd> – Scene that should be compiled and installed on an applicable device</li>
<li><kbd>ARKitRemoteConnection.cs</kbd> – Used to send data from the device to the UnityEditor</li>
<li><kbd>ConnectionMessageIds</kbd> – GUIDs for the Editor Session Message</li>
<li><kbd>ConnectToEditor.cs</kbd> – Creates a network connection between the editor and the device</li>
<li><kbd>EditorHitTest</kbd> – Returns collision data from device to editor</li>
<li><kbd>ObjectSerializationExtension.cs</kbd> – An extension to convert an object to a byte array</li>
<li><kbd>SerializableObjects.cs</kbd> – Serializes Vector 4 data and a 4x4 matrix</li>
<li><kbd>UnityRemoteVideo.cs</kbd> – Connects to the editor and transfers a video feed from the device to the editor</li>
</ul>
<p><kbd>UnityARKitPlugin\Examples</kbd> files:</p>
<ul>
<li><kbd>AddRemoveAnchorExample</kbd> – An example program to add and remove anchors</li>
<li><kbd>Common</kbd> – Has common materials, models, prefabs, shaders, and textures that are used in various projects</li>
<li><kbd>FaceTracking</kbd> – Face tracking example application</li>
<li><kbd>FocusSquare</kbd> – An example scene where it finds a specific anchor</li>
<li><kbd>UnityARBallz</kbd> – An example scene where you play a game with balls</li>
<li><kbd>UnityARKitScene</kbd> – A basic scene with minimal scripts attached to test if ARKit works appropriately</li>
<li><kbd>UnityAROcclusion</kbd> – An example project that showcases various lighting conditions</li>
<li><kbd>UnityARShadows</kbd> – An example project that handles low lighting conditions</li>
<li><kbd>UnityParticlePainter</kbd> – An example project that lets you paint with particles</li>
</ul>
<p>Now that we have a fundamental understanding of everything inside this package, let's build our Hello World with ARKit.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Building Hello World in ARKit</h1>
                </header>
            
            <article>
                
<p>The first thing we need to do after we open the UnityARKitScene is to set up the build settings:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/c796f255-e848-4868-901d-400e50a6ea56.png"/></div>
<ol>
<li>Click on <span class="packt_screen">Build Settings</span> and select <span class="packt_screen">Player Settings</span>.</li>
<li>We want to scroll down to <span class="packt_screen">Identification</span>. The <span class="packt_screen">Bundle Identifier</span> should be set to <kbd>com.unity.ARKitHelloTutorial</kbd>, <span class="packt_screen">Version</span> to <kbd>0.1</kbd><span class="packt_screen">, and Build</span> to <kbd>10.1</kbd>. The <span class="packt_screen">Automatically Sign</span> checkbox should be checked. Leave the <span class="packt_screen"><span>Automatic Signing </span>Team ID</span> settings blank:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/7ce47936-e44a-4789-8c1e-44a6b6694b95.png"/></div>
<ol start="3">
<li>Build the <kbd>UnityARKitScene</kbd> for iOS only. Run Xcode in <span class="packt_screen">Debug</span> mode.</li>
<li>Only the <span class="packt_screen">Development Build</span> checkbox should be checked; everything else should be left as default.</li>
<li>Click <span class="packt_screen">Build</span>. I will save the file as <kbd>iOSTest</kbd> in my data drive within a folder called <kbd>iOS</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/38c5dcf3-bde3-4dee-8268-8dd48b753997.png" style="width:23.75em;height:11.25em;"/></div>
<ol start="6">
<li>Building should not take very long at all, perhaps around two minutes for a first build.</li>
<li>The next thing we want to do is open the folder we saved the project in and open the <kbd>.xcodeproj</kbd> file in Xcode:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/e6694395-d086-41f5-835c-535953fbf81b.png" style="width:41.50em;height:27.75em;"/></div>
<ol start="8">
<li>Let's take a look at the Base project you will see in Xcode:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="assets/b3447925-d649-4d2f-9d84-76c6237e5f27.png"/></p>
<ol start="9">
<li>The first thing we want to check is the <span class="packt_screen">Identity</span> tab to make sure that these settings are the same as in Unity3D:</li>
</ol>
<div class="CDPAlignCenter packt_figref CDPAlign"><img src="assets/c10deef1-0f4a-4d08-92b3-65eec326bd75.png" style="width:48.08em;height:33.67em;"/></div>
<ol start="10">
<li>Now, we need to look at the <span class="packt_screen">Signing</span> subsection:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/23b01e02-0038-4703-b98d-5112fbeb94e7.png"/></div>
<ol start="11">
<li>We need to make sure to add our Personal Team name to it, which you can get by signing in to your Apple Developer account and clicking on the arrow for the team you want to use:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/ffe0a41b-5f2d-4096-82a6-a17a23a06261.png"/></div>
<ol start="12">
<li><span class="packt_screen">Deployment Info</span> is next. The <span class="packt_screen">Deployment Target</span> needs to be changed to <kbd>11.2</kbd>. Devices should be set to <span class="packt_screen">iPhone</span> only. The <span class="packt_screen">Main Interface</span> is <kbd>LaunchScreen-iPhone.xib</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/5ed9d47b-3096-4a57-879d-12e83f7bc9c7.png"/></div>
<ol start="13">
<li>Click on <span class="packt_screen">Build Settings</span> at the top, as there are a few settings we need to change here as well.</li>
<li>In <span class="packt_screen">Architectures</span>, <span class="packt_screen">ARCHS</span> for iPhone should be set to <span class="packt_screen">Standard</span>. <span class="packt_screen">SDKROOT</span> should be <span class="packt_screen">Latest iOS (iOS 11.2)</span>. <span class="packt_screen">SUPPORTED_PLATFORMS</span> should be <span class="packt_screen">iOS</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/0d3ed973-b87f-4768-b67e-64ccda3099bf.png"/></div>
<ol start="15">
<li>Next up, scroll down to look at signing, and the values should be already set to the correct ones:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/46da1605-6d20-4344-95e7-179124c130a7.png" style="width:50.17em;height:19.08em;"/></div>
<ol start="16">
<li>Now, click on <span class="packt_screen">Product</span> and <span class="packt_screen">Build</span>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/07508ad8-52bb-4298-9bf2-fa3e11310a57.png"/></div>
<ol start="17">
<li>The build should have completed successfully with roughly 47 warnings, which is normal:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/6a16962a-3078-4c83-babe-1c1f97bdf320.png"/></div>
<ol start="18">
<li>Now, we can build and test in the simulator. What we want to do is change from the iPhone to one of the simulators in the list, so click on the device list next to your iPhone or whatever device you have:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/d4d37cb8-72ef-48e3-8d91-90a0e52f20dd.png"/></div>
<ol start="19">
<li>You will see a big list of devices you want to use. This will range from simulations of devices to the iOS device you have connected to your macOS:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/6dde950c-a669-4df6-b021-caa4506d4d6d.png"/></div>
<ol start="20">
<li> Click on the simulation you want to u<span>se, and then build and run the application.</span></li>
</ol>
<p><span> Congratulations! </span>We have completed this Hello World application.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>We learned the basics of the four main AR SDKs made available to us from many companies. We installed and compiled a working example in each one of the SDKs with minimal effort, and we can now move on to utilizing these SDKs to their full potential, as they currently stand in their respective stages of development.</p>
<p>We can see that all four SDKs are simple enough to use and are relatively easy to install. In my opinion, the best SDK to use at the moment is Vuforia. It has the most robust API and is extremely well-documented for usage and further learning.</p>
<p>In the next chapter, we will focus on learning the history of GIS and how that history has shaped the way we use GIS in AR applications and games today.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Questions</h1>
                </header>
            
            <article>
                
<ol start="1">
<li> ARView is an SDK that you can use to make AR applications in Unity:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="2">
<li>ARKit is specifically designed for iOS devices only:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="3">
<li>ARCore is specifically designed for Windows devices only:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="4">
<li>Vuforia is designed for iOS, Windows, and Android devices:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="5">
<li>Haptic perception is all about using the sense of touch:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="6">
<li>Sound perception is what you see with your eyes:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="7">
<li>GPS data lets the application specify the user's location by random guessing:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="8">
<li>DLL files are required for Windows and Android plugins with Unity:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="9">
<li>Meta 2, HoloLens, HUD, and Google Glass are all considered AR devices:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>
<ol start="10">
<li>Vuforia is not a free SDK to use:</li>
</ol>
<p style="padding-left: 90px"><span>A.) True</span><br/>
<span>B.) False</span></p>


            </article>

            
        </section>
    </body></html>