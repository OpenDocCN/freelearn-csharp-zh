# 前言

Unity 是世界上最受欢迎的游戏引擎之一，服务于业余爱好者、专业 AAA 工作室和电影制作公司。虽然 Unity 因其作为 3D 工具的使用而闻名，但它有一系列专门的功能，支持从 2D 游戏和虚拟现实到后期制作和跨平台发布的所有内容。

开发者喜欢它的拖放界面和内置功能，但真正让 Unity 更进一步的是能够编写自定义 C#脚本以实现行为和游戏机制的能力。对于有其他语言经验的资深程序员来说，学习编写 C#代码可能不是巨大的障碍，但对于没有编程经验的你来说，可能会感到有些令人畏惧。这正是本书的用武之地，因为我将带你从头开始学习编程和 C#语言的基础，同时在 Unity 中构建一个有趣且可玩的游戏原型。

# 本书面向对象

本书是为那些对编程或 C#的基本原则没有任何经验的你而写的。然而，如果你是一个来自其他语言（甚至 C#）的熟练新手或资深专业人士，或者需要亲自动手在 Unity 中进行游戏开发，这里仍然是你的首选之地。

# 本书涵盖内容

*第一章*，*了解你的环境*，从 Unity 的安装过程开始，介绍编辑器的主要功能，以及查找 C#和 Unity 特定主题的文档。我们还将通过 Unity 内部创建 C#脚本，并查看所有代码编辑都发生的应用程序 Visual Studio。

*第二章*，*编程的基本元素*，首先介绍了编程的原子级概念，给你机会将变量、方法和类与日常生活中的情况联系起来。从那里，我们继续探讨简单的调试技术、适当的格式化和注释，以及 Unity 如何将 C#脚本转换为组件。

*第三章*，*深入变量、类型和方法*，对第二章中的构建块进行了更深入的探讨。这包括 C#数据类型、命名约定、访问修饰符以及程序基础所需的一切。我们还将介绍如何编写方法、添加参数和使用返回类型，最后概述属于`MonoBehaviour`类的标准 Unity 方法。

*第四章*，*控制流和集合类型*，介绍了在代码中做出决策的常见方法，包括`if-else`和`switch`语句。从那里，我们继续探讨如何使用数组、列表和字典，以及使用迭代语句遍历集合类型。本章结束时，我们将探讨条件循环语句和一种特殊的 C#数据类型，称为枚举。

*第五章*，*使用类、结构体和面向对象编程*，详细介绍了我们第一次接触构建和实例化类和结构体的过程。我们将介绍创建构造函数、添加变量和方法以及子类化和继承的基本步骤。本章将以面向对象编程的全面解释和其在 C#中的应用结束。

*第六章*，*用 Unity 动手实践*，标志着我们从 C#语法进入游戏设计、关卡构建和 Unity 特色工具的世界。我们将从介绍游戏设计文档的基本知识开始，然后转向绘制关卡几何形状，添加光照和简单的粒子系统。

*第七章*，*移动、相机控制和碰撞*，解释了移动玩家对象和设置第三人称相机的不同方法。我们将讨论如何将 Unity 物理引擎应用于更逼真的运动效果，以及如何与碰撞组件协同工作并捕捉场景中的交互。

*第八章*，*脚本化游戏机制*，介绍了游戏机制的概念以及如何有效地实现它们。我们将从添加简单的跳跃动作开始，创建射击机制，并通过在之前的章节代码中添加处理物品收集的逻辑来构建。

*第九章*，*基本人工智能和敌人行为*，首先简要概述了游戏中的人工智能以及我们将应用于《英雄降生》的概念。本章涵盖的主题包括 Unity 中的导航、使用关卡几何形状和导航网格、智能代理以及自动敌人移动。

*第十章*，*重新审视类型、方法和类*，更深入地探讨了数据类型、中间方法特性和可用于更复杂类的附加行为。本章将使你对 C#语言的灵活性和广泛性有更深入的理解。

*第十一章*，*介绍栈、队列和哈希集*，深入探讨了中间集合类型及其特性。本章涵盖的主题包括使用栈、队列和哈希集以及每个集合类型独特适合的开发场景。

*第十二章*，*保存、加载和序列化数据*，为你处理游戏信息做好准备。本章涵盖的主题包括与文件系统协同工作、创建、删除和更新文件。我们还将涵盖不同的数据类型，包括 XML、JSON 和二进制数据，并以将 C#对象直接序列化为数据格式的实际讨论结束。

*第十三章*，*探索泛型、委托以及其他*，详细介绍了 C#语言的中间特性以及如何在实际、现实场景中应用它们。我们将从泛型编程的概述开始，逐步深入到委托、事件和异常处理等概念。

*第十四章*，*旅程继续*，回顾了本书中您学到的主要内容，并为您提供了 C#和 Unity 进一步学习的资源。这些资源包括在线阅读材料、认证信息和一系列我最喜欢的视频教程频道。

# 要充分利用本书

要从即将到来的 C#和 Unity 冒险中获得最大收益，您需要一颗好奇心和学习的意愿。话虽如此，如果您希望巩固所学的知识，完成所有代码练习、英雄试炼和测验部分是必须的。最后，在继续前进之前，回顾主题和整个章节以刷新或巩固您的理解总是一个好主意。在不稳定的基础上建造房屋是没有意义的。

您还需要在计算机上安装当前版本的 Unity——建议使用 2021 版或更高版本。所有代码示例都已使用 Unity 2021.1 进行测试，并且应该与未来的版本兼容，没有问题。

| 本书涵盖的软件/硬件 |
| --- |
| Unity 2021.1 或更高版本 |
| Visual Studio 2019 或更高版本 |
| C# 8.0 或更高版本 |

在开始之前，请检查您的计算机配置是否符合 Unity 的系统要求，网址为[`docs.unity3d.com/2021.1/Documentation/Manual/system-requirements.html`](https://docs.unity3d.com/2021.1/Documentation/Manual/system-requirements.html)。

# 下载示例代码文件

本书代码包托管在 GitHub 上，网址为[`github.com/PacktPublishing/Learning-C-by-Developing-Games-with-Unity-Sixth-Edition`](https://github.com/PacktPublishing/Learning-C-by-Developing-Games-with-Unity-Sixth-Edition)。我们还有其他丰富的图书和视频代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

## 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表彩色图像的 PDF 文件。您可以从这里下载：[`static.packt-cdn.com/downloads/9781801813945_ColorImages.pdf`](https://static.packt-cdn.com/downloads/9781801813945_ColorImages.pdf)。

## 使用的约定

本书使用了多种文本约定。

`CodeInText`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 账号。例如：“选择**材质**文件夹。”

代码块设置如下：

```cs
public string firstName = "Harrison"; 
```

当我们希望您注意代码块中的特定部分时，相关的行或项目会被突出显示：

```cs
accessModifier returnType UniqueName(**parameterType parameterName**) 
{
    method body
} 
```

**粗体**：表示新术语、重要单词或您在屏幕上看到的单词，例如在菜单或对话框中。例如：“从**层次**面板中点击**创建** | **3D 对象** | **胶囊**。”

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**: 发送电子邮件至`feedback@packtpub.com`，并在邮件主题中提及书籍的标题。如果你对这本书的任何方面有疑问，请通过`questions@packtpub.com`给我们发送电子邮件。

**勘误**: 尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，我们将不胜感激，如果你能向我们报告这个错误。请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择你的书籍，点击勘误提交表单链接，并输入详细信息。

**盗版**: 如果你在网上任何形式下发现了我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过`copyright@packtpub.com`与我们联系，并附上材料的链接。

**如果你有兴趣成为作者**: 如果你有一个你擅长的主题，并且你感兴趣于撰写或为书籍做出贡献，请访问[`authors.packtpub.com`](http://authors.packtpub.com)。

# 分享你的想法

一旦你阅读了*《通过 Unity 2021 开发游戏学习 C# 第六版》*，我们很乐意听听你的想法！请[点击此处直接跳转到亚马逊评论](https://packt.link/r/1801813949)页面，并分享你的反馈。

你的评论对我们和科技社区都非常重要，这将帮助我们确保提供高质量的内容。
