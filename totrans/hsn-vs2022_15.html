<html><head></head><body>
		<div id="_idContainer284">
			<h1 id="_idParaDest-142"><a id="_idTextAnchor142"/>Chapter 12: Sharing Code with Live Share </h1>
			<p>Collaboration tools are a new way to work remotely and make it easier for a group to achieve one common goal. It's amazing to see how we can edit the same document, record, or share resources in real time with other users. If we want to collaborate on coding or perform <strong class="bold">pair programming</strong>, which is a technique where two programmers work together on the same code, we need to be working in the same place, on the same machine, or use a tool to use a video call to perform these activities. </p>
			<p><strong class="bold">Visual Studio</strong> (<strong class="bold">VS</strong>) Live Share or just Live Share is a new tool included in VS by default that helps us to share our code with other programmers that use VS and VS Code.</p>
			<p>We will review the following topics in this chapter:</p>
			<ul>
				<li>Understanding VS Live Share</li>
				<li>Using Live Share</li>
				<li>Performing live editing</li>
				<li>Sharing a terminal with other collaborators </li>
			</ul>
			<p>First, we need to review Live Share in general and know how to find it.</p>
			<h1 id="_idParaDest-143"><a id="_idTextAnchor143"/>Technical requirements</h1>
			<p>To use VS Live Share in VS 2022, you must have previously installed VS 2022 with the web development workload, as shown in <a href="B17873_01_ePub.xhtml#_idTextAnchor013"><em class="italic">Chapter 1</em></a>, <em class="italic">Getting Started with Visual Studio 2022</em>. It's also important to have the SPA base project created in <a href="B17873_04_ePub.xhtml#_idTextAnchor052"><em class="italic">Chapter 4</em></a>, <em class="italic">Creating Projects and Templates</em>.</p>
			<p>You can check the changes made to the project in this chapter at the following link: <a href="https://github.com/PacktPublishing/Hands-On-Visual-Studio-2022/tree/main/Chapter12">https://github.com/PacktPublishing/Hands-On-Visual-Studio-2022/tree/main/Chapter12</a>.</p>
			<h1 id="_idParaDest-144"><a id="_idTextAnchor144"/>Understanding VS Live Share</h1>
			<p>VS Live Share is a real-time collaboration<a id="_idIndexMarker486"/> tool for programmers that use VS and VS Code. Live Share was launched as an extension for VS 2017, with some trial features available at that time. In VS 2022, it is included by default and contains all the features.</p>
			<p>Live Share is completely free and can also be used in VS Code by installing an extension that you can find at this link: <a href="https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare">https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare</a>.</p>
			<p>Live Share has tools to edit, debug, share terminals, and execute projects for remote developers. We don't need to clone the repository or install additional extensions to see code and interact with it.</p>
			<p>To complement the information provided during this chapter and the functionalities that you will review<a id="_idIndexMarker487"/> in the next section, you can read the documentation at this URL: <a href="https://docs.microsoft.com/visualstudio/liveshare/">https://docs.microsoft.com/visualstudio/liveshare/</a>.</p>
			<p>These kinds of collaboration tools are not new. Other IDEs have extensions and components to share code and work in real time. You can try the following tools and compare them with Live Share:</p>
			<ul>
				<li><strong class="bold">Teletype for Atom</strong> (<a href="https://teletype.atom.io/">https://teletype.atom.io/</a>): A collaboration<a id="_idIndexMarker488"/> tool to create shared workspaces<a id="_idIndexMarker489"/> between developers</li>
				<li><strong class="bold">Duckly</strong> (<a href="https://duckly.com/">https://duckly.com/</a>): A real-time collaboration<a id="_idIndexMarker490"/> tool with video calls and other features<a id="_idIndexMarker491"/> compatible with many IDEs</li>
				<li><strong class="bold">CodeTogether</strong> (<a href="https://www.codetogether.com/">https://www.codetogether.com/</a>): A tool to create shared<a id="_idIndexMarker492"/> coding sessions<a id="_idIndexMarker493"/> that supports VS Code, IntelliJ IDEA, and Eclipse<p class="callout-heading">Important Note</p><p class="callout">There are no other free collaboration tools for VS. Live Share is supported by Microsoft and the community.</p></li>
			</ul>
			<p>In this section, we provided<a id="_idIndexMarker494"/> a brief overview about VS Live share, its history, and alternative tools that perform similar tasks. Now, let's start to use Live Share.</p>
			<h1 id="_idParaDest-145"><a id="_idTextAnchor145"/>Using Live Share</h1>
			<p>To start using Live Share, we can go<a id="_idIndexMarker495"/> to the icon located at the top right in the main window in VS, as shown in <em class="italic">Figure 12.1</em>:</p>
			<div>
				<div id="_idContainer265" class="IMG---Figure">
					<img src="image/Figure_12.01_B17873.jpg" alt="Figure 12.1 – The Live Share button in the main window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.1 – The Live Share button in the main window</p>
			<p>After clicking on this icon, you will see a new window, where you can select the account to use to create a new live share session. This account is required, and the account used in VS is selected by default. Also, we can see a <strong class="bold">Sharing…</strong> message where the <strong class="bold">Live Share</strong> button is located (see <em class="italic">Figure 12.2</em>):</p>
			<div>
				<div id="_idContainer266" class="IMG---Figure">
					<img src="image/Figure_12.02_B17873.jpg" alt="Figure 12.2 – The Live share account window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.2 – The Live share account window</p>
			<p>You can select the account<a id="_idIndexMarker496"/> that you want to use and then click on <strong class="bold">Select</strong>. Then, you will get a confirmation message, and the link to share the session is automatically added to the clipboard. The live share button displays <strong class="bold">Sharing…</strong>, which confirms that the session is live (see <em class="italic">Figure 12.3</em>):</p>
			<div>
				<div id="_idContainer267" class="IMG---Figure">
					<img src="image/Figure_12.03_B17873.jpg" alt="Figure 12.3 – VS with a live session in Live Share&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.3 – VS with a live session in Live Share</p>
			<p>You can share the invitation<a id="_idIndexMarker497"/> link with other developers, coworkers, or friends to try this tool. This is an example of a link generated by VS Live Share: <a href="https://prod.liveshare.vsengsaas.visualstudio.com/join?7E72234CE1703CF92015D01564C560706AE1">https://prod.liveshare.vsengsaas.visualstudio.com/join?7E72234CE1703CF92015D01564C560706AE1</a>.</p>
			<p>When someone opens the link in a browser, they are going to see <strong class="bold">Visual Code for the web</strong>. This is a version of the VS Code editor<a id="_idIndexMarker498"/> that runs as a web page with no dependencies on the operating system or additional requirements. To read<a id="_idIndexMarker499"/> more information, visit this link: <a href="https://code.visualstudio.com/docs/editor/vscode-web">https://code.visualstudio.com/docs/editor/vscode-web</a>. In VS Code for the web, you have the option to continue as anonymous or sign in using a GitHub account:</p>
			<div>
				<div id="_idContainer268" class="IMG---Figure">
					<img src="image/Figure_12.4_B17873.jpg" alt="Figure 12.4 – A session opened in the browser &#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.4 – A session opened in the browser </p>
			<p>We can use <strong class="bold">Continue as anonymous</strong> to continue and join<a id="_idIndexMarker500"/> the session. Three options will be shown that we can choose to edit and navigate in the code (see <em class="italic">Figure 12.5</em>):</p>
			<div>
				<div id="_idContainer269" class="IMG---Figure">
					<img src="image/Figure_12.5_B17873.jpg" alt="Figure 12.5 – Options to open the session with the link&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.5 – Options to open the session with the link</p>
			<p>Let's review<a id="_idIndexMarker501"/> these three options further: </p>
			<ul>
				<li><strong class="bold">Continue in Web</strong>: With this option, you will continue using VS Code in the browser.</li>
				<li><strong class="bold">Open in Visual Studio Code</strong>: This option will open VS Code on your computer and you will be able to edit the code there.</li>
				<li><strong class="bold">Open in Visual Studio</strong>: This option will execute VS on your local machine and you will be able to edit the code there.</li>
			</ul>
			<p>You can use <strong class="bold">Continue in Web</strong> to join in a session using the browser. The user that created the session will see a new notification message, where you can see the collaborators that are trying to join the session. You can accept the new collaborator and continue with the session (see <em class="italic">Figure 12.6</em>):</p>
			<div>
				<div id="_idContainer270" class="IMG---Figure">
					<img src="image/Figure_12.06_B17873.jpg" alt="Figure 12.6 – A notification from Live Share to accept a new collaborator&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.6 – A notification from Live Share to accept a new collaborator</p>
			<p>After accepting the guest user, Live Share will share the code and show the changes in real time. In this case, the guest user can see the moves in code performed by <em class="italic">Miguel Teheran</em>, who created the session. See the <strong class="bold">Following Miguel Teheran</strong> message in yellow in <em class="italic">Figure 12.7</em>, which also shows<a id="_idIndexMarker502"/> the option to open the session in VS Code and VS:</p>
			<div>
				<div id="_idContainer271" class="IMG---Figure">
					<img src="image/Figure_12.07_B17873.jpg" alt="Figure 12.7 – The option to open the session in VS&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.7 – The option to open the session in VS</p>
			<p>In VS, there is a menu with different options that we can use during the session:</p>
			<div>
				<div id="_idContainer272" class="IMG---Figure">
					<img src="image/Figure_12.08_B17873.jpg" alt="Figure 12.8 – The Live Share menu during a live session&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.8 – The Live Share menu during a live session</p>
			<p>Let's review these options and functionalities further:</p>
			<ul>
				<li><strong class="bold">View Live Share Window</strong>: View the session status, including the session details and collaborators in the session.</li>
				<li><strong class="bold">Copy Link</strong>: Copy the link in the clipboard<a id="_idIndexMarker503"/> to share it with others.</li>
				<li><strong class="bold">Manage Shared Servers</strong>: Open a new window where we can share our local server with other users in the session.</li>
				<li><strong class="bold">Share Terminal (Read-Only)</strong>: Share the terminal in read-only mode to share the console log and the results with others. Collaborators cannot execute any commands in the terminal.</li>
				<li><strong class="bold">Share Terminal (Read/Write)</strong>: Share the terminal with others in the session, with the possibility to execute commands remotely.</li>
				<li><strong class="bold">End Live Share session</strong>: End the session for all the users connected.</li>
			</ul>
			<p>Let's click <strong class="bold">View Live Share Window</strong> to see the session status. It will show a new window in the right panel, as we can see in <em class="italic">Figure 12.9</em>:</p>
			<div>
				<div id="_idContainer273" class="IMG---Figure">
					<img src="image/Figure_12.09_B17873.jpg" alt="Figure 12.9 – Live Share windows during a session&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.9 – Live Share windows during a session</p>
			<p>In the <strong class="bold">Participants</strong> section, we can see the guest <a id="_idIndexMarker504"/>user who is watching the code in <strong class="source-inline">Program.cs</strong>. We can also see the shared terminals and servers. With the red square, we can end the session at any time for all the participants.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">Guest users join the session in read-only mode, which means that they cannot modify or update the code. This is a security<a id="_idIndexMarker505"/> requirement. To read more about security in Live Share, visit <a href="https://docs.microsoft.com/en-us/visualstudio/liveshare/reference/security">https://docs.microsoft.com/en-us/visualstudio/liveshare/reference/security</a>.</p>
			<p>It's quite simple to create and share a session using Live Share. We can see the collaborators connect and end the session at any time. Let's see how to edit or update the code in real time.</p>
			<h1 id="_idParaDest-146"><a id="_idTextAnchor146"/>Performing live editing</h1>
			<p>We can share a Live Share<a id="_idIndexMarker506"/> session with others, but those users can only join in either edit or read-only mode. By default, all guest users are in read-only mode, so let's join the session with VS using a logged user. </p>
			<p>After selecting <strong class="bold">Open in Visual Studio</strong>, as shown in <em class="italic">Figure 12.5</em>, VS will load the project and show a loading message to finally show the code with the active session. We will have a menu where the live share button is located to manage the session as a collaborator (see <em class="italic">Figure 12.10</em>):</p>
			<div>
				<div id="_idContainer274" class="IMG---Figure">
					<img src="image/Figure_12.10_B17873.jpg" alt="Figure 12.10 – VS when a collaborator joins in a session&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.10 – VS when a collaborator joins in a session</p>
			<p>In the preceding figure, we can also see some icons on the left, representing the active collaborators in the session. We can click on <strong class="bold">Joined</strong> to see the options that we have as a collaborator in an active session (see <em class="italic">Figure 12.11</em>):</p>
			<div>
				<div id="_idContainer275" class="IMG---Figure">
					<img src="image/Figure_12.11_B17873.jpg" alt="Figure 12.11 – The Live Share menu for collaborators&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.11 – The Live Share menu for collaborators</p>
			<p>Let's review each option<a id="_idIndexMarker507"/> in this menu:</p>
			<ul>
				<li><strong class="bold">View Live Share Window</strong>: This option allows you to view the session status, including the session details and collaborators in the session.</li>
				<li><strong class="bold">Session Chat</strong>: This opens a new window where you can type and share messages with other collaborators.</li>
				<li><strong class="bold">View Shared Servers</strong>: With this option, you can visualize the shared servers in the current session. </li>
				<li><strong class="bold">Show Shared Terminals</strong>: This option opens a new window where you can see the currently shared terminals.</li>
				<li><strong class="bold">Focus Participants</strong>: With this option, you will keep the focus on what other collaborators are doing or editing.</li>
				<li><strong class="bold">Leave Live Share Session</strong>: With this option, you will leave the current session, while other collaborators can continue in the session. <p class="callout-heading">Important Note</p><p class="callout">The host is the only participant that can end the session. All the collaborators in the session will receive<a id="_idIndexMarker508"/> a notification when the session ends. For more information, visit <a href="https://docs.microsoft.com/visualstudio/liveshare/use/share-project-join-session-visual-studio">https://docs.microsoft.com/visualstudio/liveshare/use/share-project-join-session-visual-studio</a>.</p></li>
			</ul>
			<p>Now, you can edit any part of the code<a id="_idIndexMarker509"/> and see how Live Share works. For example, in line seven of the <strong class="source-inline">Program.cs</strong> file, we can add a comment for the <strong class="source-inline">build</strong> method (see <em class="italic">Figure 12.12</em>):</p>
			<div>
				<div id="_idContainer276" class="IMG---Figure">
					<img src="image/Figure_12.12_B17873.jpg" alt="Figure 12.12 – Adding a comment during a Live Share session&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.12 – Adding a comment during a Live Share session</p>
			<p>Once the collaborator starts typing, the host and other users in the session can see the changes in the file in real time. The collaborator's name will be displayed in the specific line, highlighted with a random color (see <em class="italic">Figure 12.13</em>):</p>
			<div>
				<div id="_idContainer277" class="IMG---Figure">
					<img src="image/Figure_12.13_B17873.jpg" alt="Figure 12.13 – The host watching changes in real time made by a collaborator&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.13 – The host watching changes in real time made by a collaborator</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">Live Share will assign a color for each new collaborator randomly to easily identify each user during the session.</p>
			<p>You can edit the file to perform<a id="_idIndexMarker510"/> a suggestion, but you can also save the file using the <strong class="bold">File</strong> | <strong class="bold">Save Selected Items</strong> menu or the <em class="italic">Ctrl</em> + <em class="italic">S</em> shortcut.</p>
			<p>Now that we know how Live Share works and some of the features that we can use during a shared session, we are ready to review an option to share a terminal with other collaborators during a session. </p>
			<h1 id="_idParaDest-147"><a id="_idTextAnchor147"/>Sharing a terminal with other collaborators</h1>
			<p>In Live Share, we can also share<a id="_idIndexMarker511"/> a terminal with other developers. By sharing the terminal, we allow other developers to see more details of a project using the command line. After creating a new session, we can use the <strong class="bold">Share Terminal</strong> options to allow others to use our terminal (see <em class="italic">Figure 12.14</em>):</p>
			<div>
				<div id="_idContainer278" class="IMG---Figure">
					<img src="image/Figure_12.14_B17873.jpg" alt="Figure 12.14 – The Share Terminal options in the Live Share menu&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.14 – The Share Terminal options in the Live Share menu</p>
			<p>After clicking on <strong class="bold">Share Terminal (Read/Write)</strong>, we will see a new terminal in a window with a mark<a id="_idIndexMarker512"/> that indicates that the terminal is shared. In <em class="italic">Figure 12.15</em>, we can see the new terminal added in VS in the bottom panel:</p>
			<p class="figure-caption"> </p>
			<div>
				<div id="_idContainer279" class="IMG---Figure">
					<img src="image/Figure_12.15_B17873.jpg" alt="Figure 12.15 – A terminal shared during a Live Share session&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.15 – A terminal shared during a Live Share session</p>
			<p>Other collaborators will see this shared<a id="_idIndexMarker513"/> terminal automatically when they join the session (see <em class="italic">Figure 12.16</em>):</p>
			<div>
				<div id="_idContainer280" class="IMG---Figure">
					<img src="image/Figure_12.16_B17873.jpg" alt="Figure 12.16 – A terminal shared during a Live Share session&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.16 – A terminal shared during a Live Share session</p>
			<p>The collaborator in the session can execute any command in the project to get more details or add information using the windows<a id="_idIndexMarker514"/> commands. In this case, we can use the .NET <strong class="bold">command-line interface</strong> (<strong class="bold">CLI</strong>), which is a tool included in .NET, where we can compile, restore, run, and deploy .NET-based projects using simple commands in the terminal. To interact with the project, you can compile it using the <strong class="source-inline">dotnet build</strong> command. To learn more about the .NET CLI, you can<a id="_idIndexMarker515"/> check out the documentation at the following link: <a href="https://docs.microsoft.com/dotnet/core/tools/">https://docs.microsoft.com/dotnet/core/tools/</a>.</p>
			<p>We will see warnings and errors during the compilation process in the terminal (see <em class="italic">Figure 12.17</em>):</p>
			<div>
				<div id="_idContainer281" class="IMG---Figure">
					<img src="image/Figure_12.17_B17873.jpg" alt="Figure 12.17 – A collaborator executes the dotnet build command in the shared terminal&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.17 – A collaborator executes the dotnet build command in the shared terminal</p>
			<p>The host and other collaborators<a id="_idIndexMarker516"/> in the session can see all the commands executed and the results in the terminal. The command is executed in the host's environment, which means the user that created the session (see <em class="italic">Figure 12.18</em>):</p>
			<div>
				<div id="_idContainer282" class="IMG---Figure">
					<img src="image/Figure_12.18_B17873.jpg" alt="Figure 12.18 – The host of the session watches the results of the dotnet build command&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.18 – The host of the session watches the results of the dotnet build command</p>
			<p>If the terminal is not displayed by default<a id="_idIndexMarker517"/> or you want to see which other terminals are shared in the session, you can go to the <strong class="bold">Live Share</strong> window and see the status of the current session, including the shared terminals and the permissions for them (see<em class="italic"> Figure 12.19</em>):</p>
			<div>
				<div id="_idContainer283" class="IMG---Figure">
					<img src="image/Figure_12.19_B17873.jpg" alt="Figure 12.19 – The Live Share window with a shared terminal&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.19 – The Live Share window with a shared terminal</p>
			<p>Now that you know<a id="_idIndexMarker518"/> how to use Live Share in VS 2022 as a host and collaborator, you can invite others to collaborate on your project and share a terminal when it's required.</p>
			<h1 id="_idParaDest-148"><a id="_idTextAnchor148"/>Summary</h1>
			<p>Live Share is an amazing tool to collaborate with others in real time. With globalization, this tool is now more important than ever, considering that a global development team can include developers working around the world in different time zones and with different tools.</p>
			<p>You have learned how to use Live Share to work as a team and collaborate with other developers on the same project. You know how to load a Live Share session in VS, see the participants in the session, share a terminal, and end the session whenever you want. Also, you reviewed some alternatives to Live Share with other IDEs and editors. </p>
			<p>In <a href="B17873_13_ePub.xhtml#_idTextAnchor149"><em class="italic">Chapter 13</em></a>, <em class="italic">Working with Extensions in Visual Studio</em>, you will study how to increase the tools and functionalities included by default in VS using extensions. You will learn how to search, install, and set up extensions in VS and how to take advantage of them to increase your productivity.</p>
		</div>
	</body></html>