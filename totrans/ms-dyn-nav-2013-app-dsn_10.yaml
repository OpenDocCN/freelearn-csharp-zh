- en: Chapter 10. Application Design
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第10章 应用程序设计
- en: In Microsoft Dynamics NAV, technology and functionality go hand in hand. It
    is impossible to design a good change or enhancement to the application without
    thorough knowledge of how the standard pieces fit together. With this knowledge
    now available, we can start designing our own applications.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV中，技术和功能是相辅相成的。如果不了解标准组件如何组合在一起，就不可能设计出好的变更或增强应用程序。有了这些知识，我们现在可以开始设计自己的应用程序。
- en: In this book, we talked about application design for Microsoft Dynamics NAV.
    We discussed the design patterns, how it works, and why it works that way. We
    designed several small and large changes to the system both in detailed examples
    and on a conceptual level.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们讨论了Microsoft Dynamics NAV的应用程序设计。我们讨论了设计模式、它是如何工作的以及为什么它会以这种方式工作。我们在详细示例和概念层面上对系统进行了几个小和大变更的设计。
- en: For this chapter, we will fit all the pieces together that we have learned in
    this book and turn them into concepts for good application design.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这一章，我们将把我们在本书中学到的所有内容整合起来，转化为良好的应用程序设计概念。
- en: We will also discuss how to approach a Microsoft Dynamics NAV implementation
    project and how to maintain the application. This requires a different approach
    depending on the level of customization the project contains.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还将讨论如何处理Microsoft Dynamics NAV实施项目以及如何维护应用程序。这需要根据项目包含的定制程度采取不同的方法。
- en: Application life cycle
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用程序生命周期
- en: Designing an application is more than just analyzing processes and developing
    new objects. These phases are just the tip of the iceberg.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 设计应用程序不仅仅是分析流程和开发新对象。这些阶段只是冰山一角。
- en: 'Once your application has been designed and developed, it is most likely that
    one or more companies will start using it. When this happens, your software will
    start a new phase in its life cycle. Let''s have a look at the life cycle of a
    Microsoft Dynamics NAV application:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的应用程序被设计和开发，很可能会有一家或多家公司开始使用它。当这种情况发生时，您的软件将开始其生命周期中的新阶段。让我们看看Microsoft Dynamics
    NAV应用程序的生命周期：
- en: '![Application life cycle](img/0365EN_10_01.jpg)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![应用程序生命周期](img/0365EN_10_01.jpg)'
- en: The **Development** phase of the application starts with the **Fit/Gap** analysis,
    followed by the **Design** and **Build** steps we did in the earlier chapters.
    When that is completed, the **Maintenance** phase of your application will start.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序的**开发**阶段从**适合/差距**分析开始，然后是我们在前面章节中进行的**设计**和**构建**步骤。当这一切完成时，您的应用程序的**维护**阶段就开始了。
- en: The **Maintenance** phase starts with the implementation and taking the software
    into **Production**. The first time this will happen, it will be the Microsoft
    Dynamics NAV implementation in your company. Once this is done, your system will
    enter the real life cycle where constant improvements will be made to the application.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**维护**阶段从实施和将软件投入**生产**开始。第一次发生这种情况，将是贵公司中的Microsoft Dynamics NAV实施。一旦完成，您的系统将进入实际的生命周期，其中将对应用程序进行持续的改进。'
- en: With the flexibility of the Microsoft Dynamics NAV product, this is a very special
    procedure where it is easy to encounter the many pitfalls there are along the
    way.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Microsoft Dynamics NAV产品的灵活性，这是一个非常特别的程序，在这个过程中很容易遇到许多陷阱。
- en: 'We will discuss some guidelines that are important to follow. There are six
    categories: Design to use, Maintain, Support, Upgrade, Perform, and Analyze.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将讨论一些重要的指导原则。共有六个类别：设计以使用、维护、支持、升级、性能和分析。
- en: Design to use
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设计以使用
- en: Designing software is not a goal, it's a way to support companies doing their
    business. This makes usability one of the most important focus areas when designing
    your application.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 设计软件不是一个目标，而是一种支持公司开展业务的方式。这使得可用性成为设计应用程序时最重要的关注领域之一。
- en: The first thing that pops in mind when talking about usability is the user interface.
    Microsoft Dynamics NAV 2013 has two interfaces that are commonly used, the Windows
    Client and the new Web Client.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 当谈到可用性时，首先想到的是用户界面。Microsoft Dynamics NAV 2013有两个常用的界面，即Windows客户端和新的Web客户端。
- en: Pages
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 页面
- en: 'Page objects are used to define the user interface. They are very strict in
    how they are displayed. However, they have a lot of advantages. Let''s go through
    some of the design options:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 页面对象用于定义用户界面。它们在显示方式上非常严格。然而，它们有很多优点。让我们看看一些设计选项：
- en: '**Tabs**: Pages have vertical tabs that can be opened at the same time, making
    it less desirable to move fields to the first tab.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选项卡**：页面有可以同时打开的垂直选项卡，这使得将字段移动到第一个选项卡变得不那么理想。'
- en: '**Embedded Lists**: Another advantage of pages is that the users always get
    to see an embedded list page first and then continue to the card, which opens
    in a new Windows control after selecting a record.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**嵌入式列表**：页面的另一个优点是用户总是首先看到嵌入式列表页面，然后继续到卡片，选择记录后在新窗口控件中打开。'
- en: '**Importance**: On pages, it is possible to promote controls to be displayed
    when the tab is closed or made additional so the end users have to specifically
    make them visible. Use this functionality carefully when designing your application.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重要性**：在页面上，可以将控件提升为在选项卡关闭时显示或作为附加控件，以便最终用户必须特别使它们可见。在设计应用程序时，请谨慎使用此功能。'
- en: '**Personalization**: If not restricted, all pages can be personalized by the
    end users, even card pages. This makes it easier to customize pages during an
    implementation for a company, department, or end user. Personalization does not
    change the object definition and does not require a developer.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**个性化**：如果没有限制，所有页面都可以由最终用户个性化，甚至卡片页面。这使得在为公司、部门或最终用户实施时定制页面变得更加容易。个性化不会改变对象定义，也不需要开发者。'
- en: 'Let''s walk through the elements of a page as shown in the following screenshot
    taken from the example add-on solution in [Chapter 7](ch07.html "Chapter 7. Storage
    and Logistics"), *Storage and Logistics*:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们根据以下截图中的元素进行浏览，该截图来自[第7章](ch07.html "第7章。存储和物流")，“存储和物流”中的示例附加解决方案：
- en: '![Pages](img/0365EN_10_03.jpg)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![页面](img/0365EN_10_03.jpg)'
- en: 'Let''s have a look at the fields in more detail:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看字段：
- en: '**Actions**: All transactions that can be performed on a page are actions.
    Some actions are generated by the system while other actions are defined by the
    developer. Users can select which actions they want to emphasize, making it easier
    for them to get started with the application.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**操作**：可以在页面上执行的所有交易都是操作。一些操作由系统生成，而其他操作由开发者定义。用户可以选择他们想要强调的操作，这使得他们更容易开始使用应用程序。'
- en: '**Fact Boxes**: Each page can have an unlimited number of fact boxes attached.
    Fact boxes can be used to show detailed information about a record. The **Route**
    page in [Chapter 7](ch07.html "Chapter 7. Storage and Logistics"), *Storage and
    Logistics*, is a good example where we can see the route in Bing maps and the
    details of the stops.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**事实框**：每个页面都可以附上无限数量的事实框。事实框可以用来显示关于记录的详细信息。在[第7章](ch07.html "第7章。存储和物流")，“存储和物流”中，**路线**页面是一个很好的例子，我们可以看到在Bing地图中的路线和停靠点的详细信息。'
- en: '**Emphasis**: A control on a page can be emphasized to a limited combination
    of colors, bold, and italics.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**强调**：页面上的控件可以被强调为有限的颜色组合、粗体和斜体。'
- en: '**Client extensibility**: A control on a page can be taken over by a `.net
    dll`. The .NET control will use the content of the `.dll` and render the information.
    We discussed Client extensibility in [Chapter 9](ch09.html "Chapter 9. Interfacing"),
    *Interfacing*.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**客户端扩展性**：页面上的控件可以被`.net dll`接管。.NET控件将使用`.dll`的内容并渲染信息。我们在[第9章](ch09.html
    "第9章。接口")，“接口”中讨论了客户端扩展性。'
- en: '**Web Services**: All pages can be exposed as a web service. This makes it
    possible to create your own user interface in Visual Studio, Borland Delphi, or
    another development tool that can consume web services.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web服务**：所有页面都可以公开为Web服务。这使得在Visual Studio、Borland Delphi或其他可以消费Web服务的开发工具中创建自己的用户界面成为可能。'
- en: Role centers
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 角色中心
- en: When it comes to usability in Microsoft Dynamics NAV 2013, the Role Centers
    are the heart of the application. The Role Center is the place where the end users
    starts their working day and returns to regularly. Let's discuss the Role Centers
    we created in this book.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 当谈到Microsoft Dynamics NAV 2013的可用性时，角色中心是应用程序的核心。角色中心是最终用户开始他们工作日并定期返回的地方。让我们讨论本书中创建的角色中心。
- en: Squash application
  id: totrans-32
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Squash应用程序
- en: 'The Squash Court Role Center was created in [Chapter 2](ch02.html "Chapter 2. A
    Sample Application"), *A Sample Application*, and looks like this:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: Squash Court Role Center是在[第2章](ch02.html "第2章。一个示例应用程序")，“一个示例应用程序”中创建的，看起来是这样的：
- en: '![Squash application](img/0365EN_10_04.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![Squash应用程序](img/0365EN_10_04.jpg)'
- en: The purpose of the screenshot is to just familiarize with the different sections
    in an application
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 截图的目的是熟悉应用程序中的不同部分
- en: The **Application** screen has two sections, the **Menu** section and the **Role
    Center** section.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '**应用**屏幕分为两个部分，**菜单**部分和**角色中心**部分。'
- en: The **Menu** section is created by merging actions from the Role Center with
    the main menu. By clicking on **Departments** in the left-hand side corner, an
    end user can access the entire application depending on the security setup.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**菜单**部分是通过将角色中心与主菜单中的操作合并而创建的。通过点击左侧角落的**部门**，最终用户可以根据安全设置访问整个应用程序。'
- en: Note
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: More information about the home items can be found on the blog at [https://markbrummel.wordpress.com/2014/07/02/tip-26-grouping-in-the-homeitems/](https://markbrummel.wordpress.com/2014/07/02/tip-26-grouping-in-the-homeitems/).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 更多关于主页项的信息可以在博客[https://markbrummel.wordpress.com/2014/07/02/tip-26-grouping-in-the-homeitems/](https://markbrummel.wordpress.com/2014/07/02/tip-26-grouping-in-the-homeitems/)上找到。
- en: The Role Center has a left and right part. The left part usually contains the
    activities and a shortcut to Microsoft Outlook. The right part contains shortlists
    to the **My List** pages that show frequently used records and notes. An end user
    can customize the Role Center and move the parts around.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 角色中心分为左右两部分。左侧通常包含活动和Microsoft Outlook的快捷方式。右侧包含指向**我的列表**页面的快捷方式，显示常用记录和笔记。最终用户可以自定义角色中心并移动部分。
- en: Storage and Logistics
  id: totrans-41
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 存储和物流
- en: This application has four different Role Centers. We will discuss the Storage
    Role Center (123.456.726). Other Role Centers are Logistics Role Center (123.456.700),
    Manager Log. and St. Role Center (123.456.756) Income and Expenses Role Center
    (123.456.761).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 此应用程序有四个不同的角色中心。我们将讨论存储角色中心（123.456.726）。其他角色中心包括物流角色中心（123.456.700）、经理日志和存储角色中心（123.456.756）以及收入和支出角色中心（123.456.761）。
- en: '![Storage and Logistics](img/0365EN_10_05.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![存储和物流](img/0365EN_10_05.jpg)'
- en: On the **Activities Storage** page, employees can directly go to the documents
    filtered on dates from the stacks. From the **Menu** options, users can create
    new documents or open worksheets and journals.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在**活动存储**页面上，员工可以直接访问从堆栈中按日期筛选的文档。从**菜单**选项中，用户可以创建新文档或打开工作表和日志。
- en: 'We have designed two shortlist pages, **My Products** and **My Regions**. **My
    Products** can be changed by the user by clicking on the small lightning button
    and select **Manage List**, as shown in the following screenshot:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 我们设计了两个简短列表页面，**我的产品**和**我的区域**。**我的产品**可以通过点击小闪电按钮并选择**管理列表**来更改，如图所示：
- en: '![Storage and Logistics](img/0365EN_10_06.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![存储和物流](img/0365EN_10_06.jpg)'
- en: The **My Region** page is built on the Region table. Users cannot change this
    list. The page uses the `SourceTableTemporary` property and `ShowAsTree`. This
    allows users to expand and collapse warehouses.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**我的区域**页面基于区域表构建。用户不能更改此列表。页面使用`SourceTableTemporary`属性和`ShowAsTree`。这允许用户展开和折叠仓库。'
- en: Reports
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 报告
- en: The reports in the standard Microsoft Dynamics NAV application are typical ERP
    reports that show the required information and that's it.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 标准的Microsoft Dynamics NAV应用程序中的报告是典型的ERP报告，显示所需的信息，仅此而已。
- en: Designing reports requires special skills and is not as easy as it seems. When
    changing a report layout from the standard application, it is best practice to
    leave the original report as it is and modify the saved copy.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 设计报告需要特殊技能，并不像看起来那么简单。当从标准应用程序更改报告布局时，最佳实践是保留原始报告不变，并修改保存的副本。
- en: We will discuss more about reports in the *Design to analyze* section.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在**设计以分析**部分进一步讨论报告。
- en: Design to Maintain
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设计以维护
- en: It seldom happens that software is designed and developed, never to be changed.
    The objects created are usually changed many times in the lifetime of the application.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 软件被设计和开发出来，却从未改变的情况很少发生。创建的对象通常在应用程序的生命周期中会多次更改。
- en: The changes to an existing object may be done quite a while after the object's
    original development. At this time, even if the changes are done by the original
    developer, it will be difficult to remember how and why some changes are done.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 对现有对象的更改可能是在对象原始开发之后相当长一段时间内进行的。这时，即使更改是由原始开发者进行的，也很难记住某些更改是如何和为什么进行的。
- en: Hence, it is important to develop in a unified way. This will make it easier
    for developers to read each other's code or to understand their own code after
    months or years.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，以统一的方式开发非常重要。这将使开发者更容易阅读彼此的代码，或者在数月或数年后理解自己的代码。
- en: Written external documentation is a no brainer at this point but we should realize
    that this is not always done and focus on more obvious and easier ways. A well
    designed and built application should be self-documenting. This is done by following
    some simple guidelines.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，编写外部文档是显而易见的，但我们应该意识到这并不总是这样做，并关注更明显、更简单的方法。一个设计良好、构建良好的应用程序应该是自我文档化的。这是通过遵循一些简单的指南来实现的。
- en: Naming
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 命名
- en: While creating new objects, it is important to follow the naming guidelines
    of the product. Field and variable names should explain themselves.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建新对象时，遵循产品的命名指南非常重要。字段和变量名应该能够自我解释。
- en: Tip
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: This MSDN article at [http://msdn.microsoft.com/en-us/library/ee414213.aspx](http://msdn.microsoft.com/en-us/library/ee414213.aspx)
    describes more details on naming conventions in Microsoft Dynamics NAV.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在[http://msdn.microsoft.com/en-us/library/ee414213.aspx](http://msdn.microsoft.com/en-us/library/ee414213.aspx)上的这篇MSDN文章描述了Microsoft
    Dynamics NAV中命名约定的更多细节。
- en: Singular and plural
  id: totrans-61
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 单数和复数
- en: 'Table names should be singular. This will make the C/AL `TABLECAPTION` command
    return a usable value. Let''s look at an example in the Item table (27):'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 表名应该是单数。这将使C/AL `TABLECAPTION`命令返回一个可用的值。让我们看看项目表（27）的例子：
- en: '[PRE0]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The preceding command will generate the following error message with the table
    caption singular:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的命令将生成以下错误消息，表标题为单数：
- en: '![Singular and plural](img/0365EN_10_07.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![单数和复数](img/0365EN_10_07.jpg)'
- en: List pages should be plural as they contain more than one record while card
    pages are singular.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 列表页面应该是复数，因为它们包含多个记录，而卡片页面是单数。
- en: Reserved words
  id: totrans-67
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 保留词
- en: Reserved words should not be used in objects as name for fields, variables,
    and functions.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 不应在对象中作为字段、变量和函数的名称使用保留词。
- en: Note
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Microsoft has published a list of reserved words at [http://msdn.microsoft.com/en-us/library/ee414230.aspx](http://msdn.microsoft.com/en-us/library/ee414230.aspx).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 微软在[http://msdn.microsoft.com/en-us/library/ee414230.aspx](http://msdn.microsoft.com/en-us/library/ee414230.aspx)上发布了一份保留词列表。
- en: One very important reserved word, which is missing in that list is **Action**.
    This is reserved for using `IF Page.RUNMODAL = ACTION::OK then`.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 列表中缺少一个非常重要的保留词，那就是**Action**。这个保留词用于`IF Page.RUNMODAL = ACTION::OK then`。
- en: Names and abbreviations
  id: totrans-72
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 名称和缩写
- en: Using standard naming and abbreviations is one of the strong points of the application
    that makes it easy to learn for new developers.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 使用标准命名和缩写是应用程序的强项之一，这使得新开发者容易学习。
- en: 'Here are some examples:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些例子：
- en: '**<<Table name>> No.**: This is the standard reference to a field in a table
    relation. If the field has a relation with the customer, the field is called **Customer
    No.** and if the relation is with vendor, we use **Vendor No**. In our example
    application, we have used **Product No.**, **Squash Player No.**, and so on.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**<<表名>>编号**：这是对表关系中字段的标准化引用。如果字段与客户有关，该字段称为**客户编号**；如果与供应商有关，我们使用**供应商编号**。在我们的示例应用程序中，我们使用了**产品编号**、**Squash
    Player编号**等。'
- en: '**Line No.**: This fieldname is always used in the popular Header/Line and
    Journal constructions. This field always uses the auto split key property in pages.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**行号**：这个字段名总是在流行的Header/Line和Journal构造中使用。这个字段始终使用页面中的自动拆分键属性。'
- en: '**Entry No.**: This fieldname is always used for entry and register tables
    such as G/L Entry and Customer Ledger Entry.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**条目编号**：这个字段名总是用于条目和登记表，如G/L条目和客户账簿条目。'
- en: '**Name and Description**: This is the standard naming for persons or products.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称和描述**：这是个人或产品的标准命名。'
- en: '**Quantity/Qty.**: This is the standard name and abbreviation to measure quantity.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数量/数量**：这是衡量数量的标准名称和缩写。'
- en: '**(LCY)**: This is the abbreviation for Local Currency.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**(LCY)**：这是本地货币的缩写。'
- en: '**Duty Due %**: When the field represents a percentage, this sign should be
    in the field name.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**应缴税额百分比**：当字段表示百分比时，这个符号应该在字段名中。'
- en: Note
  id: totrans-82
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: A list of naming conventions can be found on MSDN at [http://msdn.microsoft.com/en-us/library/ee414213.aspx](http://msdn.microsoft.com/en-us/library/ee414213.aspx).
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一份命名约定列表可以在MSDN上找到[http://msdn.microsoft.com/en-us/library/ee414213.aspx](http://msdn.microsoft.com/en-us/library/ee414213.aspx)。
- en: Quantity versus quality
  id: totrans-84
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 数量与质量
- en: There is a general rule that can be applied to the quantity and quality of software
    that says that when more functionality is added to the product, it is difficult
    to maintain a certain level of quality.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 有一个可以应用于软件数量和质量的一般规则，即当向产品添加更多功能时，很难保持一定水平的质量。
- en: '![Quantity versus quality](img/0365EN_10_08.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![数量与质量](img/0365EN_10_08.jpg)'
- en: To avoid this in your solution, make sure you don't just add all the requirements
    from your prospects into the product in one release and instead use a release
    policy that ensures small pieces of functionality to be developed, tested, and
    implemented each time.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: Loosely coupled
  id: totrans-88
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: When developing an add-on product, it is important to divide it into smaller
    parts. This will make it easier to have several developers work on the application
    and release parts of the application. Each part of the add-on has its own framework
    that interacts with other pieces of the add-on or the standard product.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: 'This is exactly what we did in the storage and logistics example add-on application.
    The add-on has three main functional areas: Storage, Logistics, and Income and
    Expenses. These three areas share the same master data.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: Each area interacts with other parts of the application using mini interfaces.
    Using this concept will also have great benefits when upgrading to newer versions,
    which we will discuss in the *Design to upgrade* section.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: Design to support
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are different levels of providing support. First-level support is usually
    done by someone at the customer site that works in the IT department or someone
    that has a feeling for IT. The general first line support questions are about
    filters, missing data, and so on.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: Second-level support is usually a small bug in the software or something missing
    in the setup or master data. Depending on the customer, this will be solved by
    the internal IT department or escalated to the partner.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: As a developer, you will most likely employ third-line support where something
    needs to be debugged or reverse engineered in order to find the bug.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: So before a bug reaches the developer, other people have already spent time
    in analyzing the issue without success. The development of the software should
    be done in such a way that third-line support makes a minimum change or occurrence.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: When the guidelines discussed in the *Design to use* and *Design to maintain*
    sections are used, it will already be easier for the second-level support to analyze
    the issue.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: Second-level support
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Most problems in support occur in the second level. The first-level support
    engineers are often very familiar with the system and the third-level support
    engineers are often the original developers of the software.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: Second-level support people need to be able to go in a database and analyze
    the issue without having to change their way of thinking.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s briefly summarize the general guidelines for this specific topic:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: '**Shortcuts**: Use standard shortcuts as much as possible. For example, use
    *F9* for posting and registering, and *Ctrl* + *F7* for ledger entries. Avoid
    using reserved shortcuts such as *F8* (copy previous) and *Alt*+ *F3* (filter
    to this value).'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Screen Layout**: Avoid screen layouts that are too creative. Too much information
    on a screen is often an indication of a bad design and will be difficult to support.
    Typical examples are multiple subpages and hiding elements based on business logic
    subpages.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**屏幕布局**：避免过于创意的屏幕布局。屏幕上过多的信息通常表明设计不佳，并且难以支持。典型的例子是多个子页面和基于业务逻辑子页面的元素隐藏。'
- en: '**Variable Naming**: As discussed in the *Design to maintain* section, good
    naming will make a huge difference when looking at someone else''s design. This
    starts with trying to use Microsoft''s naming conventions for the standard application.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**变量命名**：如“设计以维护”部分所述，良好的命名在查看他人的设计时会产生巨大差异。这始于尝试使用微软的标准应用程序命名约定。'
- en: '**C/AL Placement**: Microsoft Dynamics NAV is very flexible when it comes to
    placing C/AL code in objects. Pages support using C/AL code to the extent that
    it is possible to write an entire posting routine there. C/AL coding should be
    done in tables or codeunits unless this is not possible.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**C/AL位置**：在将C/AL代码放置在对象中时，Microsoft Dynamics NAV非常灵活。页面支持使用C/AL代码，以至于可以在那里编写整个过账程序。除非不可能，否则C/AL编码应在表或代码单元中进行。'
- en: '**Using Functions**: When your C/AL code exceeds the size of your screen, it
    is best practice to create a function. This will make the original code more readable
    for others. Use a name for your function that makes sense so the code will document
    itself. An example for this can be found in the codeunit Register Time Sheet (75000)
    we discussed in [Chapter 8](ch08.html "Chapter 8. Consulting"), *Consulting*.'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用函数**：当您的C/AL代码超出屏幕大小，最佳实践是创建一个函数。这将使原始代码对他人更易读。为您的函数使用一个有意义的名称，这样代码就会自我文档化。一个例子可以在我们讨论的代码单元“登记时间表”（75000）中找到，即[第8章](ch08.html
    "第8章。咨询")，“咨询”。'
- en: '**Global versus Local Variables**: Variables can be both global and local in
    C/AL. Microsoft does not have strict guidelines on which to use when. The general
    rule when looking at the standard application is to use global variables unless
    the variable is only used in a function—then it can be local.'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**全局变量与局部变量**：在C/AL中，变量可以是全局的也可以是局部的。微软没有严格的指导方针说明何时使用哪种。在查看标准应用程序时的一般规则是使用全局变量，除非变量仅在函数中使用——那么它可以是局部的。'
- en: Tip
  id: totrans-108
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: The compiler does not give a warning when using a local variable with the same
    name as the global variable. The system will always use the local variable first.
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当使用与全局变量同名的地方变量时，编译器不会给出警告。系统将始终首先使用局部变量。
- en: Design to upgrade
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设计以升级
- en: It might not be the first thing to realize when designing your application but
    there will come a time when it needs to be upgraded to a newer version.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 在设计您的应用程序时，这可能不是您首先意识到的事情，但总会有需要将其升级到新版本的时候。
- en: When upgrading your application, we can split this task into two parts. Part
    one is the part of the add-on that is written on top of the standard application,
    that is, new tables, pages, and codeunits that are loosely coupled with the standard
    application. This part is often easily upgraded. The other part is the changes
    done in the base application. These changes are often more difficult to move to
    a newer version.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 当升级您的应用程序时，我们可以将这项任务分为两部分。第一部分是建立在标准应用程序之上的附加组件部分，即与标准应用程序松散耦合的新表、页面和代码单元。这部分通常很容易升级。另一部分是在基础应用程序中进行的更改。这些更改通常更难迁移到新版本。
- en: Has Microsoft changed my (referenced) object
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 微软是否更改了我的（引用的）对象
- en: Whether or not Microsoft has changed your referenced objects is the question
    it comes down to when analyzing the upgrade task. If the object you modified has
    not been changed by Microsoft, the upgrade is easy. If Microsoft has changed the
    object slightly, we might need to analyze the changes to see whether we need to
    change something as well.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 当分析升级任务时，微软是否更改了您的引用对象是关键问题。如果您修改的对象没有被微软更改，升级将很容易。如果微软稍微更改了对象，我们可能需要分析这些更改以确定我们是否需要做出相应的更改。
- en: With each release, Microsoft tends to redesign a part of the application. If
    your solution is integrated with the part Microsoft has redesigned, it will be
    a bigger task to bring the add-on forward.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 每次发布，微软都倾向于重新设计应用程序的一部分。如果您的解决方案与微软重新设计的部分集成，那么将附加组件向前推进将是一项更大的任务。
- en: Tip
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: To see the design changes made by Microsoft in a new release, analyze the upgrade
    toolkit objects to see what it hits.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看微软在新版本中做出的设计更改，分析升级工具对象以了解其影响。
- en: Here are a few examples of some common redesigns.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些常见重新设计的例子。
- en: CRM (Version 2.0)
  id: totrans-119
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: CRM（版本2.0）
- en: In Version 2.0, Navision introduced the current CRM application we discussed
    in [Chapter 4](ch04.html "Chapter 4. Relationship Management"), *Relationship
    Management*. The most important change was to merge company contacts and persons
    into one table while implementing new functionality.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在2.0版本中，Navision引入了我们在[第4章](ch04.html "第4章。关系管理")*关系管理*中讨论的当前CRM应用程序。最重要的变化是在实现新功能的同时，将公司联系人和个人合并到一个表中。
- en: Dimensions (Version 3.x)
  id: totrans-121
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 维度（版本3.x）
- en: In Version 3.0, Navision introduced the dimension solution that we know today.
    Before this, the current Global Dimensions 1 and 2 were called **Department Code**
    and **Project Code**.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在3.0版本中，Navision引入了我们现在所知道的维度解决方案。在此之前，当前的全球维度1和2被称为**部门代码**和**项目代码**。
- en: Bin code (Version 3.x)
  id: totrans-123
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 货位码（版本3.x）
- en: With the introduction of WMS, the usage of the Bin Code field changed. The Bin
    Code used to be a field in the Item Ledger Entry table (32) and moved to the Warehouse
    Entries.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 随着WMS的引入，货位码字段的用法发生了变化。货位码曾经是项目总账条目表（32）中的一个字段，现在移动到了仓库条目。
- en: Inventory valuation (Version 3.x)
  id: totrans-125
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 库存估值（版本3.x）
- en: No single piece of code in Microsoft Dynamics NAV has changed as many times
    as the inventory valuation solution. Try to avoid changing this in your add-on
    application.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV中，没有哪段代码像库存估值解决方案那样变化得如此频繁。尽量在你的附加应用程序中避免更改这一点。
- en: Item tracking (Version 3.6 and 4.0)
  id: totrans-127
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 项目跟踪（版本3.6和4.0）
- en: As with inventory valuation, item tracking has been changed many times. Where
    older versions had Item Tracking Entries and Item Ledger Entries, they are merged
    into one table in newer versions as discussed in [Chapter 6](ch06.html "Chapter 6. Trade"),
    *Trade*.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 与库存估值一样，项目跟踪也经历了多次变更。在旧版本中，有项目跟踪条目和项目总账条目，而在新版本中，它们被合并到一个表中，正如在[第6章](ch06.html
    "第6章。贸易")*贸易*中讨论的那样。
- en: MenuSuite (Version 4.0)
  id: totrans-129
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: MenuSuite（版本4.0）
- en: Although it is not a functional change, the introduction of MenuSuite in Version
    4.0 caused a lot of work to upgrade to.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这不是一个功能性的变更，但4.0版本中MenuSuite的引入导致了大量的升级工作。
- en: MenuSuite do not support C/AL code. This means that all Journals need to be
    changed for this version.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: MenuSuite不支持C/AL代码。这意味着所有日记账都需要为此版本进行更改。
- en: Jobs (Version 5.0)
  id: totrans-132
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 作业（版本5.0）
- en: As discussed in [Chapter 7](ch07.html "Chapter 7. Storage and Logistics"), *Storage
    and Logistics*, the Jobs functionality has been changed in Version 5.0\. The budgeting
    in the previous version was done differently using Budget Entries and Phase, Task,
    and Step tables.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 如[第7章](ch07.html "第7章。仓储和物流")*仓储和物流*中所述，在5.0版本中，作业功能已经发生了变化。在先前的版本中，预算是通过预算条目和阶段、任务和步骤表来完成的。
- en: The Job Journal Line and Job Ledger entries have not changed, but the new Job
    Task table has become a mandatory field when posting on a job.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 作业日记账行和作业总账条目没有变化，但在作业过账时，新的作业任务表已成为必填字段。
- en: When there is no other way, it is possible to take out the Job Objects and renumber
    them to be customized tables. This allows you to upgrade to a newer version with
    minimum impact. After the upgrade, a new project can be started to move to the
    new Job functionality completely.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '当没有其他方法时，可以取出作业对象并重新编号为自定义表。这允许您以最小的影响升级到新版本。升级后，可以开始一个新的项目，以完全迁移到新的作业功能。 '
- en: Dimensions (Version 2013)
  id: totrans-136
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 维度（版本2013）
- en: Version 2013 introduced a new design pattern for storing dimensions. Although
    the design is a much better one, it requires a lot of redesign to implement this
    new pattern.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 2013版本引入了存储维度的新的设计模式。虽然设计要好得多，但实现这个新模式需要大量的重新设计。
- en: Item costing (almost all versions)
  id: totrans-138
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 项目成本（几乎所有版本）
- en: The item costing has been improved in almost every new version of Microsoft
    Dynamics NAV. Changes in item costing is difficult to upgrade to newer versions
    and almost always need to be redesigned.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV的几乎每个新版本中，项目成本都得到了改进。项目成本的变化升级到新版本很困难，几乎总是需要重新设计。
- en: Documentation
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 文档
- en: While many parts of the application will have no issue in the upgrade, it is
    useful to have external documentation when there is a need to redesign.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然应用程序的许多部分在升级时不会有问题，但在需要重新设计时，拥有外部文档是有用的。
- en: This documentation should contain information about the business reason for
    implementing the feature. With that information, it is possible to do a new fit/gap
    analysis.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 本文档应包含实施该功能的业务原因信息。有了这些信息，就可以进行新的适配/差距分析。
- en: Tip
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: External documentation such as Microsoft Word and Visio files can be linked
    to C/Side objects. This way it is easy to find the documentation when a developer
    needs it.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 可以将Microsoft Word和Visio文件等外部文档链接到C/Side对象。这样，当开发者需要时，很容易找到文档。
- en: Split operational and financial information
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分离运营和财务信息
- en: In the Storage and Logistics application, we chose a data and transaction model
    that can be easily upgraded to a newer version of Microsoft Dynamics NAV.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在存储和物流应用程序中，我们选择了一个可以轻松升级到Microsoft Dynamics NAV新版本的数数据和交易模型。
- en: This is achieved by creating separate modules that move data to each other.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 这是通过创建独立的模块，将数据相互移动来实现的。
- en: Design to perform
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设计以执行
- en: All good applications are useless if the performance is not adequate. Performance
    is very important to keep in mind when designing your application.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 如果性能不足，所有好的应用程序都是无用的。在设计应用程序时，性能是非常重要的。
- en: When talking about performance, there are two typical issues. The first issue
    is an application with an overall slow performance, and the latter is an application
    with good performance but where users block each other or create deadlocks.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 当谈到性能时，有两个典型的问题。第一个问题是应用程序整体性能慢，后者是性能良好的应用程序，但用户相互阻塞或创建死锁。
- en: Both issues have their own approach to be analyzed and solved. We will not talk
    in detail about this process but rather explain how to avoid these situations
    in general.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个问题都有它们自己的分析和解决方法。我们不会详细讨论这个过程，而是解释如何一般性地避免这些情况。
- en: OLTP versus OLAP
  id: totrans-152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: OLTP与OLAP
- en: In any ERP system, it is important to balance **Online Transaction Processing**
    (**OLTP**) with **Online Analytical Processing** (**OLAP**). This is especially
    important when working with Microsoft Dynamics NAV. The reason for this is its
    unique data and posting model, which creates the analytical data while processing
    the transaction.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何ERP系统中，平衡**在线事务处理**（**OLTP**）与**在线分析处理**（**OLAP**）都很重要。当使用Microsoft Dynamics
    NAV时，这一点尤为重要。原因是它的独特数据过账模型，在处理交易的同时创建分析数据。
- en: Creating this analytical information in real time can have advantages, but when
    posting the transactions take too much time, it might not be worth it.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 在实时创建这种分析信息可能具有优势，但当过账交易花费太多时间时，可能并不值得。
- en: Examples of analytical information are dimension information and analysis view
    entries, but also VAT Entries and Value Entries. Although they give us important
    information about the business, we do not always need them instantly when processing
    the transaction.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 分析信息的例子包括维度信息和分析视图条目，但还包括增值税分录和价值分录。尽管它们提供了关于业务的重要信息，但我们处理交易时并不总是需要它们立即出现。
- en: Other examples of analytical information are secondary keys and `SumIndexFields`.
    All this information will be created when creating the master record. If a Ledger
    Entry table has 32 secondary keys and 15 `SumIndexFields`, it will take a considerable
    amount of time to write this information to the database.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 其他分析信息的例子包括二级键和`SumIndexFields`。所有这些信息将在创建主记录时创建。如果一个总账分录表有32个二级键和15个`SumIndexFields`，将需要相当长的时间将这些信息写入数据库。
- en: Fast transaction posting
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 快速过账交易
- en: 'Good performance starts with fast transactions. There are several ways to achieve
    this. The major ones being: cleanup unused indexes and application setup.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 良好的性能始于快速的交易。有几种方法可以实现这一点。主要的方法包括：清理未使用的索引和应用程序设置。
- en: Cleanup unused indexes
  id: totrans-159
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 清理未使用的索引
- en: Each secondary `SumIndexFields` field in the database needs to be maintained
    whether it is used or not. Microsoft Dynamics NAV allows end users to create their
    own schedule to maintain this.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库中每个二级`SumIndexFields`字段都需要维护，无论是否使用。Microsoft Dynamics NAV允许最终用户创建自己的计划来维护这一点。
- en: Creating such an index schedule is quite a complex task and so should be done
    by experienced functional developers.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 创建这样的索引计划是一项相当复杂的工作，因此应该由经验丰富的功能开发者来完成。
- en: Note
  id: totrans-162
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: In versions prior to Microsoft Dynamics 5 SP 1, the overhead of unused `SumIndexFields`
    was substantially higher compared to newer versions.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics 5 SP 1之前的版本中，未使用`SumIndexFields`的开销与较新版本相比显著更高。
- en: Application setup
  id: totrans-164
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 应用程序设置
- en: It all starts with a solid application setup. Some setup features in Microsoft
    Dynamics NAV will cause the system to create more analytical information when
    posting transactions.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这一切都始于一个稳固的应用程序设置。在Microsoft Dynamics NAV中，一些设置功能会在过账交易时导致系统创建更多的分析信息。
- en: An example is **Update On Posting** for **Analysis** Views. This feature will
    update the Analysis View Entries at the same time as the General Ledger Entries
    are created.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，**更新在过账时**用于**分析视图**。此功能将在创建总账过账条目时同时更新分析视图条目。
- en: '![Application setup](img/0365EN_10_09.jpg)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![应用程序设置](img/0365EN_10_09.jpg)'
- en: Other examples are the **Automatic Cost** options in the inventory setup. When
    they are activated, the cost is adjusted each time an Item Ledger Entry is created.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 其他例子是库存设置中的**自动成本**选项。当它们被激活时，每次创建项目账簿条目时，成本都会进行调整。
- en: '![Application setup](img/0365EN_10_10.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![应用程序设置](img/0365EN_10_10.jpg)'
- en: Job Queue
  id: totrans-170
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 作业队列
- en: Microsoft Dynamics NAV is shipped with an excellent multithreaded Job Queue
    system. This process is called an Application Server and can execute C/AL code
    in report and codeunit objects.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 微软Dynamics NAV附带一个出色的多线程作业队列系统。这个过程被称为应用程序服务器，可以在报表和代码单元对象中执行C/AL代码。
- en: Examples of Job Queue tasks are creating the Analysis View Entries, Posting
    the Adjust Cost for Inventory Valuation or even Posting Sales, and Purchase documents.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 作业队列任务的例子包括创建分析视图条目、过账库存评估的调整成本，甚至过账销售和采购文件。
- en: Background posting
  id: totrans-173
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 背景过账
- en: Background posting was introduced in Microsoft Dynamics NAV 2013 and allows
    you to post documents using a Job Queue. This means that the user who starts the
    posting routine does not need to wait until this process has been completed before
    starting a new task.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 背景过账是在微软Dynamics NAV 2013中引入的，允许您使用作业队列过账文档。这意味着启动过账例程的用户不需要等待此过程完成后再开始新任务。
- en: Date compressing and cleanup
  id: totrans-175
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 日期压缩和清理
- en: When the number of records in a table exceeds normal proportions, it might be
    useful to start thinking about doing data maintenance. This is a normal procedure
    in all ERP systems, and Microsoft Dynamics NAV has the capability to do that.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个表中的记录数量超过正常比例时，开始考虑进行数据维护可能是有用的。这是所有ERP系统中的正常程序，微软Dynamics NAV具有执行此操作的能力。
- en: Date compression
  id: totrans-177
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 日期压缩
- en: Most Entry tables in Microsoft Dynamics NAV can be compressed by date. This
    means that all entries with the same values will be replaced by one new entry.
    The detailed information is lost afterwards.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 微软Dynamics NAV中的大多数条目表都可以按日期压缩。这意味着所有具有相同值的条目将被替换为一个新条目。之后，详细信息将丢失。
- en: '![Date compression](img/0365EN_10_11.jpg)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![日期压缩](img/0365EN_10_11.jpg)'
- en: Data compression
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 数据压缩
- en: Saving the detailed information can be easily implemented by changing the compression
    report. The detailed information can be saved in a copy of the original table.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 通过更改压缩报告，可以轻松实现保存详细信息的操作。详细信息可以保存在原始表的副本中。
- en: Tip
  id: totrans-182
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: The total size of the database has minimal impact on the performance. More important
    is the size of the tables we are writing to during a transaction.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库的总大小对性能的影响最小。更重要的是，我们在事务中写入的表的大小。
- en: Data cleanup
  id: totrans-184
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 数据清理
- en: Microsoft Dynamics NAV allows most data to be deleted when the fiscal year it
    was created is closed.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 微软Dynamics NAV允许在创建它的财政年度关闭时删除大部分数据。
- en: Examples of data that can be deleted are Sales Shipments and Purchase Receipts.
    They can be either deleted or moved to copy tables.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 可以删除的数据示例包括销售发货和采购收据。它们可以被删除或移动到副本表中。
- en: Cleaning up data will prevent the transactions to be slower when your company
    uses Microsoft Dynamics NAV for a longer time. Data cleanup generally starts after
    using the product for 5 years and when the database exceeds 100 gigabytes in size.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 清理数据可以防止当您的公司在使用微软Dynamics NAV一段时间后，交易变得缓慢。数据清理通常在产品使用5年后，以及数据库大小超过100吉字节时开始。
- en: Locks, blocks, and deadlocks
  id: totrans-188
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 锁定、块和死锁
- en: The Microsoft Dynamics NAV product is very sensitive for blocking and deadlocks.
    This has everything to do with the posting model, the inheritance of the Native
    database, and the numbering used in entry tables.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 微软Dynamics NAV产品对阻塞和死锁非常敏感。这与过账模型、本地数据库的继承以及条目表中使用的编号都有关系。
- en: Blocks and Deadlocks are caused primarily by Locks in the database. Locking
    is a mechanism databases use to ensure consistency of the data.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 块和死锁主要由数据库中的锁引起。锁定是数据库用来确保数据一致性的机制。
- en: Native server versus SQL Server
  id: totrans-191
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 本地服务器与SQL Server
- en: Originally, Microsoft Dynamics NAV had a proprietary (Native) database. This
    database did not support row-level locking, only table locking.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 最初，微软Dynamics NAV有一个专有的（本地）数据库。这个数据库不支持行级锁定，只支持表锁定。
- en: Microsoft Dynamics NAV 2013 no longer supports this database and only runs on
    SQL Server, which does support row-level locks. However, the current data and
    transaction model is designed for table locking.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV 2013不再支持此数据库，并且仅在支持行级锁的SQL Server上运行。然而，当前的数据和事务模型是为表锁定设计的。
- en: The benefit of row-level locking on SQL Server is best experienced in systems
    with many users creating documents in the same database. Most posting transactions
    in the database are isolated, meaning only one user at a time can post a document
    from anywhere in the application.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在SQL Server上使用行级锁的好处最好在有许多用户在相同数据库中创建文档的系统上体验。数据库中的大多数过账事务都是隔离的，这意味着一次只有一个用户可以从应用程序的任何位置过账文档。
- en: Locking is always done for a single company; unless tables are shared as explained
    in [Chapter 4](ch04.html "Chapter 4. Relationship Management"), *Relationship
    Management*, a user from company A cannot lock a user in company B.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 锁定始终针对单个公司执行；除非如[第4章](ch04.html "第4章。关系管理")中所述共享表，*关系管理*，来自公司A的用户无法锁定公司B的用户。
- en: Locking principles
  id: totrans-196
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 锁定原则
- en: In Microsoft Dynamics NAV, locking starts with the `LOCKTABLE` command. Using
    this command will generate the T-SQL statements that are generated by the application
    to issue a `UPDLOCK` hint where without the statement, `READUNCOMMITED` is issued.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV中，锁定从`LOCKTABLE`命令开始。使用此命令将生成应用程序生成的T-SQL语句，以发出`UPDLOCK`提示，如果没有此语句，则发出`READUNCOMMITTED`。
- en: Let's create an example that shows how locking is done.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个示例来展示如何进行锁定。
- en: 'For this example, we create a new codeunit Locking A (60000). The codeunit
    has a global variable Cust of type Record 18:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这个例子，我们创建一个新的代码单元锁定A（60000）。该代码单元有一个全局变量Cust，类型为Record 18：
- en: '[PRE1]'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: We start this codeunit and leave the confirmation window open.![Locking principles](img/0365EN_10_12.jpg)
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们启动这个代码单元并保持确认窗口开启。![锁定原则](img/0365EN_10_12.jpg)
- en: Now, we go to the Windows client, open the **Customer Card** for customer **10000**
    and try to change the name. After 10 seconds, we will get the following message:![Locking
    principles](img/0365EN_10_13.jpg)
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们转到Windows客户端，打开客户**10000**的**客户卡片**并尝试更改名称。10秒后，我们将收到以下消息：![锁定原则](img/0365EN_10_13.jpg)
- en: The reason for this error message to pop up is that the other user issued an
    exclusive lock on the record. If we move to customer **20000**, which is the next
    record in the database, we can safely change the name. This record is not locked.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 出现此错误消息的原因是其他用户对记录执行了独占锁定。如果我们移动到客户**20000**，这是数据库中的下一个记录，我们可以安全地更改名称。此记录未锁定。
- en: Deadlocks
  id: totrans-204
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 死锁
- en: Let's take this example one step further and simulate a deadlock. Deadlocks
    happen if users try to lock each other's record in a different order.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们进一步分析这个例子并模拟一个死锁。如果用户尝试以不同的顺序锁定彼此的记录，就会发生死锁。
- en: '![Deadlocks](img/0365EN_10_14.jpg)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![死锁](img/0365EN_10_14.jpg)'
- en: 'Let''s see this in more detail:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看：
- en: User A reads and locks Customer 10000
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户A读取并锁定客户10000
- en: User B reads and locks Customer 20000
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户B读取并锁定客户20000
- en: User A tries to read and lock Customer 20000, a blocking event starts
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户A尝试读取并锁定客户20000，一个阻塞事件开始
- en: When user B now tries to lock Customer 10000, a deadlock occurs
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当用户B现在尝试锁定客户10000时，发生死锁
- en: 'To demonstrate a deadlock, we have created two Codeunits Deadlock A (60001)
    and Deadlock B (60002). We need two sessions on the same SQL Server database to
    do this. Start Deadlock A on one client:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示死锁，我们创建了两个代码单元死锁A（60001）和死锁B（60002）。我们需要在同一个SQL Server数据库上有两个会话来完成此操作。在一个客户端启动死锁A：
- en: '[PRE2]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Start Deadlock B on the other:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 在另一个客户端启动死锁B：
- en: '[PRE3]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Then, select **Yes** on both the confirmation boxes. One of the clients should
    now deadlock.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在两个确认框中选择**是**。现在，其中一个客户端应该会死锁。
- en: Tip
  id: totrans-217
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: SQL Server checks for deadlocks every 5 seconds and kills the transaction that
    has the lowest roll back impact on the database. This is why users will experience
    deadlocks as slow sometimes and fast other times.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: SQL Server每5秒检查一次死锁，并终止对数据库影响最小的回滚事务。这就是为什么用户有时会体验到死锁速度慢，有时又快的原因。
- en: '![Deadlocks](img/0365EN_10_15.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![死锁](img/0365EN_10_15.jpg)'
- en: The error message is confusing since it lets us to believe we have locked the
    entire table, which is not true.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 错误消息令人困惑，因为它让我们相信我们已经锁定了整个表，这并不正确。
- en: The `LockOtherCust` function reads a record from the customer table with another
    variable. This new variable `Cust2` does not explicitly issues a `LOCKTABLE` command.
    This proves that `LOCKTABLE` is a transaction command that is valid for all variables
    of this type.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '`LockOtherCust`函数从客户表中读取一个记录，并使用另一个变量。这个新变量`Cust2`并没有明确发出`LOCKTABLE`命令。这证明了`LOCKTABLE`是一个对所有此类变量都有效的交易命令。'
- en: Blocking and deadlocks in Microsoft Dynamics NAV
  id: totrans-222
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV中的阻塞和死锁
- en: The standard application has several built-in blocking events by design. This
    is to ensure the database integrity and to avoid deadlocks.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 标准应用程序设计了几种内置的阻塞事件。这是为了确保数据库的完整性，并避免死锁。
- en: The two main isolating tables in Microsoft Dynamics NAV are the G/L Entry table
    (17) and the Item Ledger Entry table (32).
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV中的两个主要隔离表是G/L分录表（17）和项目分录表（32）。
- en: 'Codeunit 12 shows these lines of code before creating G/L Entries:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: Codeunit 12在创建G/L分录之前显示了这些代码行：
- en: '[PRE4]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Both Codeunit Sales-Post 80 and Purch.-Post 90 that we discussed earlier have
    optional isolation on the G/L Entry table.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 我们之前讨论过的Codeunit Sales-Post 80和Purch.-Post 90都有G/L分录表上的可选隔离。
- en: '[PRE5]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In real life, this means that no one in a company can post to the general ledger
    at the same time. The same applies to the item ledger.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在现实生活中，这意味着公司中没有人可以同时过账到总账。同样的情况也适用于项目账。
- en: Note
  id: totrans-230
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: This blog entry at [https://blogs.msdn.com/b/nav/archive/2012/10/17/g-l-entry-table-locking-redesign-in-microsoft-dynamics-nav-2013.aspx](https://blogs.msdn.com/b/nav/archive/2012/10/17/g-l-entry-table-locking-redesign-in-microsoft-dynamics-nav-2013.aspx)
    explains the usage of the optional G/L locking while posting documents.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 在[https://blogs.msdn.com/b/nav/archive/2012/10/17/g-l-entry-table-locking-redesign-in-microsoft-dynamics-nav-2013.aspx](https://blogs.msdn.com/b/nav/archive/2012/10/17/g-l-entry-table-locking-redesign-in-microsoft-dynamics-nav-2013.aspx)的博客条目中解释了在过账文档时使用可选的G/L锁定功能。
- en: This emphasizes the importance of fast transactions and generating analysis
    data in separate batches.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 这强调了快速交易和生成分析数据在单独批次中的重要性。
- en: Impact on development
  id: totrans-233
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 对开发的影响
- en: If we summarize the impact of all this knowledge on your development, it emphasizes
    the importance of designing your own application structures that interface with
    the standard application.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将所有这些知识对您开发的影响进行总结，它强调了设计您自己的应用程序结构以与标准应用程序接口的重要性。
- en: When changing and implementing the standard application, try to reduce the overhead
    during posting as much as possible.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 当更改和实施标准应用程序时，尽量减少过账过程中的开销。
- en: Create compression routines and allow end users to periodically clean up records.
    In the next section, we will talk about how to design to analyze and allow end
    users to generate analysis data in batches separate from the posting transactions.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 创建压缩程序，并允许最终用户定期清理记录。在下一节中，我们将讨论如何设计以分析，并允许最终用户在过账交易之外批量生成分析数据。
- en: Design to analyze
  id: totrans-237
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设计以分析
- en: Analysis in Microsoft Dynamics NAV should always be done on (ledger) entry records.
    There are many types of entry records that are either created during a transaction
    or in batches.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV中进行分析应始终在（总账）分录记录上进行。有许多类型的分录记录是在交易期间或批量创建的。
- en: Avoid building analysis on document tables. It should always be possible to
    delete old data in the database without losing the essential information for data
    analysis.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 避免在文档表上构建分析。在数据库中删除旧数据时，应该始终能够删除而不丢失数据分析的基本信息。
- en: Report design
  id: totrans-240
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 报告设计
- en: Designing a report in Microsoft Dynamics NAV starts with generating a Data Set.
    This is built using table relations and can get quite complex.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV中设计报告是从生成数据集开始的。这是通过表关系构建的，可能会变得相当复杂。
- en: '![Report design](img/0365EN_10_16.jpg)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![报告设计](img/0365EN_10_16.jpg)'
- en: When the Data Set is defined, the second step is to define the layout. Creating
    report layouts is beyond the scope of this book.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 当数据集被定义后，第二步是定义布局。创建报告布局超出了本书的范围。
- en: Reports with a large Data Set are complex to maintain and have a risk of being
    slow in performance since the database engine needs to read all the information
    before combining the information into a view.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集大的报告难以维护，并且由于数据库引擎需要在将信息组合到视图中之前读取所有信息，因此存在性能缓慢的风险。
- en: This can be solved by preparing the data first and running the report afterwards.
    This approach is quite common in data warehousing. The preparation of the data
    can be done in scheduled batches running in the Job Queue.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过先准备数据然后运行报告来解决。这种方法在数据仓库中相当常见。数据准备可以在作业队列中运行的计划批次中完成。
- en: Version and object management
  id: totrans-246
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 版本和对象管理
- en: When doing software development, discussing version management is unavoidable.
    Microsoft Dynamics NAV is flexible in this and allows developers to make their
    own decisions on this subject rather than forcing them to one way of versioning.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行软件开发时，讨论版本管理是不可避免的。Microsoft Dynamics NAV 在这方面很灵活，允许开发者就这个问题做出自己的决定，而不是强迫他们采用一种版本管理方式。
- en: What is a version
  id: totrans-248
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 什么是版本
- en: In Microsoft Dynamics NAV, there are two ways of determining what a version
    is. The first and easiest approach is to change the version of an object each
    time it changes. The initial released Version is 1.00 and each change increments
    to 1.01, 1.02, and so on. A big change will lead to Version 2.00.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Microsoft Dynamics NAV 中，有两种确定版本的方法。第一种也是最简单的方法是在对象每次更改时更改其版本。初始发布的版本是 1.00，每次更改都会递增到
    1.01、1.02，依此类推。重大更改将导致版本 2.00。
- en: Another more common approach in Microsoft Dynamics NAV is to group version numbers
    in releases of a group of objects together. When this is applied, the application
    gets a version number that is incremented each time we release. This means that
    an object with version number 1.01 can jump to 1.04 if it was not changed in releases
    1.02 and 1.03.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Microsoft Dynamics NAV 中，另一种更常见的方法是将一组对象的版本号分组在一起。当这样做时，应用程序在每次发布时都会增加版本号。这意味着如果一个对象的版本号为
    1.01，如果它在 1.02 和 1.03 版本中没有更改，它可以跳到 1.04。
- en: Version numbering
  id: totrans-251
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 版本编号
- en: There are rules in Microsoft Dynamics NAV for version numbering, although the
    rules have changed over the years.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Microsoft Dynamics NAV 中存在版本编号的规则，尽管这些规则在多年中已经发生了变化。
- en: The current version principle allows us to use letters and digits. The letters
    indicate the product and country code, the digits the version, subversion, and
    service pack number.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 当前版本原则允许我们使用字母和数字。字母表示产品和国家代码，数字表示版本、子版本和服务包编号。
- en: 'Let''s look at an example object to clarify this. Codeunit Whse.-Printed (5779):'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个示例对象来澄清这一点。代码单元 Whse.-Printed (5779)：
- en: '| NAV | W1 | 3. | 70. | 01 |'
  id: totrans-255
  prefs: []
  type: TYPE_TB
  zh: '| NAV | W1 | 3. | 70. | 01 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-256
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '|   |   |   |   | The last service pack this object was changed |'
  id: totrans-257
  prefs: []
  type: TYPE_TB
  zh: '|    |    |    |    | 该对象最后更改的服务包 |'
- en: '|   |   |   | The last subversion this object was changed |'
  id: totrans-258
  prefs: []
  type: TYPE_TB
  zh: '|    |    |    |    | 该对象最后更改的子版本 |'
- en: '|   |   | The last version this object was changed |'
  id: totrans-259
  prefs: []
  type: TYPE_TB
  zh: '|    |    | 该对象最后更改的版本 |'
- en: '|   | The Localization Version |'
  id: totrans-260
  prefs: []
  type: TYPE_TB
  zh: '|    | 本地化版本 |'
- en: '| The Product Name |'
  id: totrans-261
  prefs: []
  type: TYPE_TB
  zh: '| 产品名称 |'
- en: If Microsoft change this object in Service pack 1 for 2013, the new version
    number would be NAVW17.00.01.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 Microsoft 在 2013 年的服务包 1 中更改此对象，新的版本号将是 NAVW17.00.01。
- en: Combining versions
  id: totrans-263
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 合并版本
- en: An object can have multiple versions, but only one version for each product
    or country. A localized object gets version NAVW13.70.01, NAVNL6.00.01\. This
    means that although the global product team has not changed the object, it has
    been changed by the Dutch localization team.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 一个对象可以有多个版本，但每个产品或国家只能有一个版本。本地化对象获得版本 NAVW13.70.01，NAVNL6.00.01。这意味着尽管全球产品团队没有更改对象，但它已被荷兰本地化团队更改。
- en: Creating a version
  id: totrans-265
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建版本
- en: Versioning in Microsoft Dynamics NAV is done manually. The version number is
    an editable field in the Object table (2000000001) that can be freely changed.
    Developing a tool to do this is easy and has been done by many partners in the
    channel.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV 中的版本管理是手动进行的。版本号是对象表（2000000001）中的一个可编辑字段，可以自由更改。开发一个工具来做这件事很容易，许多合作伙伴已经在渠道中做到了这一点。
- en: 'The Data and Transaction model of such a solution should look something like
    this:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 该解决方案的数据和事务模型应该看起来像这样：
- en: '![Creating a version](img/0365EN_10_17.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![创建版本](img/0365EN_10_17.jpg)'
- en: The process starts with a change request. This can be fixing a small bug or
    creating a new functionality. For this change request, objects need to be modified.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 流程从更改请求开始。这可能包括修复一个小错误或创建一个新功能。对于这个更改请求，需要修改对象。
- en: Each modified object is attached to the change request. We can release several
    change requests at the same time. All objects in the release will get the version
    number from the release, which can be automatically updated in the object table.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 每个修改过的对象都附带了更改请求。我们可以同时发布多个更改请求。发布中的所有对象都将从发布中获得版本号，这可以在对象表中自动更新。
- en: By saving the change request and release information in the database, we will
    also generate documentation that will help future developers to find information
    on why objects were changed.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在数据库中保存更改请求和发布信息，我们还将生成文档，这将帮助未来的开发者找到关于对象更改原因的信息。
- en: Tracking object changes
  id: totrans-272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 跟踪对象更改
- en: Object changes can be tracked using triggers in SQL Server. All the C/Side objects
    are stored in the Object table (2000000001).
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用 SQL Server 中的触发器跟踪对象更改。所有 C/Side 对象都存储在对象表（2000000001）中。
- en: To connect an object change to a change request, the developer should tell the
    system the request they are currently working on. This will enable us to have
    a failsafe tracking mechanism to perform version management.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 要将对象更改与更改请求关联起来，开发者应向系统告知他们目前正在处理的请求。这将使我们能够有一个安全可靠的跟踪机制来执行版本管理。
- en: Note
  id: totrans-275
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: To view the complete solution for tracking object changes visit [http://dynamicsuser.net/blogs/stryk/archive/2009/05/18/object-auditing.aspx](http://dynamicsuser.net/blogs/stryk/archive/2009/05/18/object-auditing.aspx).
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看跟踪对象更改的完整解决方案，请访问 [http://dynamicsuser.net/blogs/stryk/archive/2009/05/18/object-auditing.aspx](http://dynamicsuser.net/blogs/stryk/archive/2009/05/18/object-auditing.aspx)。
- en: Saving older versions
  id: totrans-277
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 保存旧版本
- en: In order to look at the changes, saving a copy of a version can be very useful.
    Besides the obvious possibility of saving the files on a disk, we can also use
    an external tool. One of these tools is Microsoft Team Foundation Server. This
    is a part of the Visual Studio family and from Version 2013, it is available in
    the cloud, making it very easy to set up and use in combination with Microsoft
    Dynamics NAV.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 为了查看更改，保存版本副本非常有用。除了将文件保存到磁盘上的明显可能性之外，我们还可以使用外部工具。这些工具之一是 Microsoft Team Foundation
    Server。这是 Visual Studio 家族的一部分，从 2013 版本开始，它可在云端使用，这使得与 Microsoft Dynamics NAV
    结合使用非常容易。
- en: '![Saving older versions](img/0365EN_10_02.jpg)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![保存旧版本](img/0365EN_10_02.jpg)'
- en: Note
  id: totrans-280
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The video blog at [https://www.youtube.com/user/SorenKlemmensen/video](https://www.youtube.com/user/SorenKlemmensen/video)
    demonstrates how to start using Visual Studio online combined with Microsoft Dynamics
    NAV.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 视频博客在 [https://www.youtube.com/user/SorenKlemmensen/video](https://www.youtube.com/user/SorenKlemmensen/video)
    中演示了如何开始使用 Visual Studio 在线结合 Microsoft Dynamics NAV。
- en: Development methodology
  id: totrans-282
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开发方法
- en: To develop software, there are many methodologies such as Prince2, Extreme Programming,
    or the Microsoft Solutions Framework.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 开发软件时，有许多方法，如 Prince2、极限编程或微软解决方案框架。
- en: Most of these methodologies are suitable to be applied to Microsoft Dynamics
    NAV but they should be used properly. Because of the flexibility of the product,
    it is easy to leave out steps in the process that should be there.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数这些方法都适用于 Microsoft Dynamics NAV，但它们应该被正确使用。由于产品的灵活性，很容易省略过程中应该有的步骤。
- en: In Microsoft Dynamics NAV, it is easy to quickly create and modify business
    software. This is by far the strongest selling point for the solution, but also
    the biggest pitfall.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Microsoft Dynamics NAV 中，快速创建和修改商业软件非常容易。这是该解决方案最强大的卖点，但也是最大的陷阱。
- en: A sample approach
  id: totrans-286
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一个示例方法
- en: When an end user requests a change to the application, it is tempting for most
    experienced developers to go into the application and create it, preferably in
    the production database without documentation. This is not the desired way of
    doing software development.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 当最终用户请求对应用程序进行更改时，大多数经验丰富的开发者会倾向于直接进入应用程序并创建它，最好是生产数据库中，而不需要文档。这不是软件开发所期望的方式。
- en: However, Microsoft Dynamics NAV is a very suitable design environment for prototyping
    and Rapid Application Design. All the example applications in this book are first
    built with prototyping and later finalized using testing.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，Microsoft Dynamics NAV 是一个非常适合原型设计和快速应用程序设计的开发环境。本书中的所有示例应用程序最初都是通过原型设计构建的，然后通过测试最终完成。
- en: If we design a suitable development methodology for Microsoft Dynamics NAV,
    we can see that the application life cycle perfectly fits our methodology.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们为 Microsoft Dynamics NAV 设计一个合适的发展方法，我们会发现应用程序生命周期完美地符合我们的方法。
- en: When implementing Microsoft Dynamics NAV, it is very important to involve the
    end users in each step of the development process.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 在实施微软Dynamics NAV时，在开发过程的每一步都让最终用户参与是非常重要的。
- en: '![A sample approach](img/0365EN_10_18.jpg)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
  zh: '![一个示例方法](img/0365EN_10_18.jpg)'
- en: Fit/gap analysis
  id: totrans-292
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 适应性/差距分析
- en: At the fit/gap phase, usually a quick specification is enough to describe what
    the user would like the system to do and a possible solution is generated in the
    application. This document should not count more than two or three pages. During
    the prototyping phase, it is very normal to come across advanced understanding.
    It would be a waste of valuable time to find this during the initial analysis
    with the risk of not finding them anyway.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 在适应性/差距阶段，通常快速规范就足以描述用户希望系统执行的操作，并在应用程序中生成可能的解决方案。这份文档不应超过两到三页。在原型设计阶段，遇到高级理解是很正常的。如果在初始分析中找到这些，可能会浪费宝贵的时间，而且无论如何都找不到它们。
- en: Prototyping
  id: totrans-294
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 原型设计
- en: With the **Quick Spec**, a developer creates the solution as a draft without
    going into too much detail. This should be enough to show the end user what the
    solution will look like when it is finished. Very often, this will lead to new
    questions and ideas that should be carefully considered and put into the full
    specification, or a new prototype should be built first.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 使用**快速规范**，开发者可以创建一个草案解决方案，而不必过于详细。这应该足以展示解决方案完成后的样子。这通常会导致新的问题和想法，这些应该被仔细考虑并纳入完整规范，或者首先构建一个新的原型。
- en: Development
  id: totrans-296
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 开发
- en: Depending on the amount of changes after the prototype, development can often
    start with the work done already. At this stage, all the details should be worked
    out and tested.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 根据原型后的更改量，开发通常可以从已经完成的工作开始。在这个阶段，所有细节都应该被处理并测试。
- en: 'There is no complete checklist for developers to use when developing in Microsoft
    Dynamics NAV, but let''s try to create one with the following fields:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 在微软Dynamics NAV中开发时，没有为开发者准备的完整清单，但我们可以尝试根据以下字段创建一个：
- en: '**Captions/Translations**: Make sure all objects have the required captions
    and translations populated.'
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标题/翻译**：确保所有对象都填写了所需的标题和翻译。'
- en: '**Table Relations**: Make sure all Table Relations are in place, and check
    the Ledger Entry and Line tables as well since they are frequently forgotten.'
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**表关系**：确保所有表关系都已设置妥当，并且也要检查总账分录和行表，因为它们经常被遗忘。'
- en: '**Modify And Delete Triggers**: What happens if a user modifies or deletes
    the record. Make sure that everything is nicely handled in the `OnModify` and
    On Delete C/AL triggers. `OnRename` should be automatically handled by C/Side.
    Renaming a table with many table relations may cause severe locking in the database.
    If users should not rename a record, this can be blocked by placing an `ERROR`
    command in the `OnRename` trigger.'
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**修改和删除触发器**：如果用户修改或删除记录会发生什么。确保在`OnModify`和`On Delete C/AL`触发器中妥善处理所有内容。`OnRename`应该由C/Side自动处理。重命名具有许多表关系的表可能会导致数据库严重锁定。如果用户不应重命名记录，这可以通过在`OnRename`触发器中放置一个`ERROR`命令来阻止。'
- en: '**LookupPageID** and **DrillDownPageID**: Even when running the Windows client,
    it is important to assign a Lookup and Drilldown page ID. Lookup pages are used
    for table relations and Drilldown pages are used when drilling down from a SUM
    flow field.'
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**LookupPageID**和**DrillDownPageID**：即使在运行Windows客户端时，分配查找和钻取页面ID也很重要。查找页面用于表关系，而钻取页面用于从SUM流字段钻取时使用。'
- en: '**CardPageID**: The Windows client always starts a list page when a user selects
    a menu item or a cue. Double-clicking a row will open the associated card page.
    This is controlled by the **CardPageID** property on a list page.'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**CardPageID**：当用户选择菜单项或提示时，Windows客户端总是启动一个列表页面。双击一行将打开相关的卡片页面。这由列表页面上的**CardPageID**属性控制。'
- en: '**Field Groups**: To show records from a table relation when entering values,
    the Windows client does not directly use **LookupPageID** but first shows a **DropDown**
    list. The fields in this list are defined in the associated tables **Field Groups**.
    Each table can only have one **Field Group** called **DropDown**, as shown in
    the following screenshot:![Development](img/0365EN_10_19.jpg)'
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字段组**：在输入值时显示表关系记录，Windows客户端不会直接使用**LookupPageID**，而是首先显示一个**下拉列表**。列表中的字段定义在相关的表**字段组**中。每个表只能有一个名为**DropDown**的**字段组**，如下截图所示：![开发](img/0365EN_10_19.jpg)'
- en: '**Actions**: Actions should make sense to end users. Make sure you use logical
    names and avoid creating menu buttons and actions that are solely for super users
    and just confuse end users. Actions should be placed in the correct container.
    Only promote actions that will be frequently used by all end users.'
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**操作**：操作应该对最终用户有意义。请确保您使用逻辑名称，并避免创建仅针对超级用户且会混淆最终用户的菜单按钮和操作。操作应放置在正确的容器中。仅推广所有最终用户都将频繁使用的操作。'
- en: '**Shortcuts**: Always assign ampersand (&) shortcuts and avoid double shortcuts.
    When using function keys such as *F3* and *F9*, follow the Microsoft standard
    conventions.'
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**快捷键**：始终分配带符号的(&)快捷键，并避免双重快捷键。在使用功能键如*F3*和*F9*时，请遵循Microsoft标准约定。'
- en: '**Compression** and **Posting**: If your solution will generate a potentially
    large amount of data, be sure to provide compression, posting, or cleaning up
    routines so end users can periodically maintain the data.'
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**压缩**和**过账**：如果您的解决方案将生成大量潜在数据，请确保提供压缩、过账或清理例程，以便最终用户可以定期维护数据。'
- en: '**Permissions**: Does your solution require additional permissions to be set
    up in the system? Make sure to document this when delivering the solution.'
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**权限**：您的解决方案是否需要在系统中设置额外的权限？在交付解决方案时，请确保记录这一点。'
- en: '**Unused Variables**: Make sure you don''t leave unused variables in the C/AL
    objects. Although they won''t break the functionality, it will make future maintenance
    of the software more complex.'
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**未使用变量**：确保在C/AL对象中不要留下未使用的变量。虽然它们不会破坏功能，但会使软件未来的维护变得更加复杂。'
- en: '**FIND Commands** and **Locking**: Double check the usage of the correct find
    commands before you ship the software. Using the wrong commands and leaving locking
    to the database engine may cause extra performance overhead.'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**查找命令**和**锁定**：在发布软件之前，请务必检查正确查找命令的使用。使用错误的命令并将锁定留给数据库引擎可能会导致额外的性能开销。'
- en: More detailed information about these features is explained in the book *Programming
    Microsoft Dynamics NAV 2013*, *David A. Studebaker*, *Christopher D. Studebaker*,
    *Packt Publishing*.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 关于这些功能的更详细信息在书籍《Programming Microsoft Dynamics NAV 2013》中有解释，作者是David A. Studebaker、Christopher
    D. Studebaker，由Packt Publishing出版。
- en: Testing
  id: totrans-312
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 测试
- en: Testing is probably one of the most important but undervalued tasks of application
    design.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 测试可能是应用程序设计中最重要的但被低估的任务之一。
- en: 'Testing involves the following three conditions:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 测试涉及以下三个条件：
- en: Does the software meet the original requirements? If this is not the case, it
    does not make sense to continue testing.
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 软件是否符合原始要求？如果不满足，继续测试就没有意义了。
- en: Does it work as expected? This includes trying to deliberately break the solution.
    If the software is not monkey proof, things will certainly go wrong when using
    it. Here Murphy's Law is applicable, "What can go wrong, will go wrong."
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它是否按预期工作？这包括故意尝试破坏解决方案。如果软件不是“猴子测试”过的，那么在使用时肯定会出错。这里适用墨菲定律：“可能出错的事情，一定会出错。”
- en: Does it fit the rest of the application? Is the software usable and intuitive?
    A solution that is bug free but difficult to use will be expensive to maintain.
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它是否适合应用程序的其他部分？软件是否易于使用且直观？一个无错误但难以使用的解决方案将非常昂贵来维护。
- en: Testing should be automated using the Testability Framework. This allows developers
    to rerun complete application tests each time they make a change.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 应使用测试性框架自动进行测试。这允许开发者在每次进行更改时重新运行完整的应用程序测试。
- en: Note
  id: totrans-319
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The blog at [http://blogs.msdn.com/b/nav/archive/2012/11/07/application-test-toolset-for-microsoft-dynamics-nav-2013.aspx](http://blogs.msdn.com/b/nav/archive/2012/11/07/application-test-toolset-for-microsoft-dynamics-nav-2013.aspx)
    explains how to install and use the Testability Framework for Microsoft Dynamics
    NAV 2013.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 博客[http://blogs.msdn.com/b/nav/archive/2012/11/07/application-test-toolset-for-microsoft-dynamics-nav-2013.aspx](http://blogs.msdn.com/b/nav/archive/2012/11/07/application-test-toolset-for-microsoft-dynamics-nav-2013.aspx)解释了如何安装和使用Microsoft
    Dynamics NAV 2013的测试性框架。
- en: The testing should be also done manually, performed by someone who likes doing
    it and has the available time. If someone is asked to test the software who is
    buried in normal work, the chance of bugs slipping in is quite high.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 测试也应手动进行，由喜欢做这项工作且有时间的人来完成。如果有人被要求测试软件，而他正忙于正常工作，那么错误滑过的可能性相当高。
- en: Note
  id: totrans-322
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Testing using the Testability Framework is a mandatory part of the Certified
    for Microsoft Dynamics process.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 使用测试性框架进行测试是获得Microsoft Dynamics认证过程的一个强制性部分。
- en: The cost of fixing a bug increases as the software evolves. The sooner a bug
    is fixed, the better.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
- en: '![Testing](img/0365EN_10_20.jpg)'
  id: totrans-325
  prefs: []
  type: TYPE_IMG
- en: Implementation
  id: totrans-326
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: When the changes are developed and tested, the documentation should be finalized.
    This can be either a manual for end users or a technical reference for future
    developers and support engineers.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
- en: The end users should be trained to use the software.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
- en: Maintenance and support
  id: totrans-329
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: After the software is implemented and users are trained, the solution goes into
    the maintenance and support stage. During this stage, the application manager
    needs to take care of the data generated by the solution, analyze it, and clean
    up the data periodically.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
- en: If the end users request a change on the solution, the cycle starts again.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
- en: The project
  id: totrans-332
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Implementing an ERP product like Microsoft Dynamics NAV is not just installing
    a software package and starting to use it. Each part of your company will have
    to make decisions how to integrate their work with the software. This very often
    leads to an interesting new look with respect to your company's way of work.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
- en: Standard, customized, or both
  id: totrans-334
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are several ways of implementing Dynamics NAV. It is highly important
    to make a decision what kind of implementation you want and adjust the implementation
    accordingly.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
- en: '![Standard, customized, or both](img/0365EN_10_21.jpg)'
  id: totrans-336
  prefs: []
  type: TYPE_IMG
- en: Compared to when it was introduced in 1995, Microsoft Dynamics NAV 2013 is a
    mature ERP package with all the built-in functionalities we discussed in this
    book. On top of this standard product, resellers have built horizontal and vertical
    solutions called add-on products. These two combined offer powerful solutions
    for companies that cannot work with the standard product but are flexible enough
    to use a vertical solution.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
- en: Add-on products
  id: totrans-338
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Vertical solutions have started years ago as a customized solution for a company
    who decided to implement Microsoft Dynamics NAV. Together with the implementation
    partner, these companies have customized the product to meet their requirements.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
- en: Many of these add-on products are now grown up software solutions that fit a
    vertical industry.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
- en: 'When buying an add-on solution, it is good to ask the reseller some questions:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
- en: What is the release procedure? A solid add-on solution has a release procedure.
    Most resellers have periodical release every half year or maybe sooner. If a bug
    is found in the software, there should be a hot fix. Most resellers have releases
    they support. Make sure to know what versions are still supported.
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How do I upgrade to a new version of the vertical solution? If a new version
    of the vertical solutions is released, there should be an upgrade procedure. This
    should be clearly documented and tested by the reseller.
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Am I allowed to make changes to the software? Most add-on resellers do not recommend
    their customers to change the software. The reason for this is the increased complexity
    of bug fixing and upgrading.
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What if I do change the software? If an add-on solution is customized anyway,
    it is basically downgraded from being a supported add-on solution to a customized
    database. For most resellers, it is difficult to support these customized solutions.
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果我改变软件怎么办？如果附加解决方案无论如何都进行了定制，它基本上是从受支持的附加解决方案降级为定制数据库。对于大多数经销商来说，支持这些定制解决方案是困难的。
- en: Customizing
  id: totrans-346
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 定制
- en: Although customizing an add-on solution is not always recommended, customizing
    Microsoft Dynamics NAV should not be considered a bad practice.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然不建议总是定制附加解决方案，但定制微软Dynamics NAV不应被视为不良实践。
- en: The impact of customization in Microsoft Dynamics NAV can make a difference
    that can be compared to a suit that is confection or tailored to fit. The benefits
    of having an ERP package that exactly fits the organization can be more important
    than the increased cost of ownership of the solution.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 在微软Dynamics NAV中的定制影响可能产生的差异，可以与定制或量身定做的西装相提并论。拥有一个完全符合组织的ERP软件包的好处可能比解决方案拥有成本的增加更重要。
- en: Total cost of ownership
  id: totrans-349
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 总拥有成本
- en: The total cost of ownership of Microsoft Dynamics NAV depends highly on the
    level of customizations. A non-customized implementation with one or two good
    add-on products done by experienced consultants will have a low impact on your
    company and will be easy to maintain and support.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 微软Dynamics NAV的总拥有成本高度依赖于定制的程度。由经验丰富的顾问完成的一个或两个优秀的附加产品，非定制实施将对您的公司影响较小，并且易于维护和支持。
- en: The higher the level of customizations, the more it will cost to keep the application
    running. This is not a bad thing per se. If your company has a unique way of doing
    business, it might need an ERP package that supports this uniqueness.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 定制的程度越高，保持应用程序运行的成本就越高。这本身并不是坏事。如果您的公司有独特的方式做生意，它可能需要一个支持这种独特性的ERP软件包。
- en: The Road to Repeatability program
  id: totrans-352
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 可重复性之路程序
- en: The **Road to Repeatability** (**R2R**) was introduced by Microsoft to help
    partners to be more repeatable. Although the program is primarily marketing-focused,
    it illustrates the trend of reselling the same Microsoft Dynamics NAV package
    to multiple customers.
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: '**可重复性之路**（**R2R**）是由微软引入，以帮助合作伙伴提高可重复性。尽管该计划主要侧重于市场营销，但它说明了将相同的微软Dynamics
    NAV软件包重新销售给多个客户的趋势。'
- en: Roadmap to success
  id: totrans-354
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 成功路线图
- en: Designing a solid application in Microsoft Dynamics NAV starts with a thorough
    knowledge of the standard application functionality and its design philosophy.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 在微软Dynamics NAV中设计一个稳固的应用程序，始于对标准应用程序功能及其设计理念的深入了解。
- en: Secondly, we need to carefully analyze the business process we want to support
    and implement new functionality step by step to ensure good quality, as the solution
    grows bigger and mature.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，我们需要仔细分析我们想要支持的业务流程，并逐步实施新功能以确保良好的质量，因为解决方案变得更大、更成熟。
- en: Use data and posting models that are similar to Microsoft Dynamics NAV and try
    to maintain a similar user interface. This will make it easier for end users to
    adopt your solution and more likely for the software to be easy to maintain and
    support.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 使用与微软Dynamics NAV类似的数据和发布模型，并尝试保持类似的用户界面。这将使最终用户更容易采用您的解决方案，并且软件更容易维护和支持。
- en: Last but not least, carry out good housekeeping in your database. Compress and
    clean up data periodically to guarantee a stable performance of the system now
    and in the future.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 最后但同样重要的是，在您的数据库中执行良好的维护。定期压缩和清理数据，以确保系统现在和未来的稳定性能。
- en: Summary
  id: totrans-359
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this book, we have covered functional and technical design of both standard
    Microsoft Dynamics and how to extend the application to succeed.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们介绍了标准微软Dynamics的功能和技术设计，以及如何扩展应用程序以取得成功。
- en: This book is not finished. After the publication, we will periodically write
    articles, tips, and tricks based on the information in this book on [http://www.brummelds.com](http://www.brummelds.com).
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书尚未完成。出版后，我们将定期撰写基于本书信息的文章、技巧和窍门，发布在[http://www.brummelds.com](http://www.brummelds.com)。
- en: Any questions or comments regarding the information published in this book can
    be posted and discussed there as well.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 关于本书中发布的信息有任何问题或评论，也可以在那里发布和讨论。
