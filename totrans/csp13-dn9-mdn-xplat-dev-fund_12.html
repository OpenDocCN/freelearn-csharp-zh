<html><head></head><body><div><div><div><h1 class="chapterNumber">12</h1>
    <h1 id="_idParaDest-701" class="chapterTitle">Introducing Modern Web Development Using .NET</h1>
    <p class="normal">The third and final part of this book is about modern web development using .NET, which means ASP.NET Core, Blazor, and Minimal APIs. You will learn how to build cross-platform projects such as websites and web services.</p>
    <p class="normal">Microsoft call platforms for building applications <strong class="keyWord">app models</strong> or <strong class="keyWord">workloads</strong>.</p>
    <p class="normal">I recommend that you work through this and subsequent chapters sequentially because later chapters will reference projects in earlier chapters, and you will build up sufficient knowledge and skills to tackle the trickier problems in later chapters.</p>
    <p class="normal">In this chapter, we will cover the following topics:</p>
    <ul>
      <li class="bulletList">Understanding ASP.NET Core</li>
      <li class="bulletList">New features in ASP.NET Core</li>
      <li class="bulletList">Structuring projects</li>
      <li class="bulletList">Building an entity model for use in the rest of the book</li>
      <li class="bulletList">Understanding web development</li>
    </ul>
    <h1 id="_idParaDest-702" class="heading-1">Understanding ASP.NET Core</h1>
    <p class="normal">Since this book is about C# and .NET, we will learn about app models that are used to <a id="_idIndexMarker1807"/>build the practical applications that we will encounter in the remaining chapters of this book.</p>
    <div><p class="normal"><strong class="keyWord">More Information</strong>: Microsoft has extensive guidance for implementing app models <a id="_idIndexMarker1808"/>in its <em class="italic">.NET Architecture Guides</em> documentation, which you can read at the following link: <a href="https://dotnet.microsoft.com/en-us/learn/dotnet/architecture-guides">https://dotnet.microsoft.com/en-us/learn/dotnet/architecture-guides</a>.</p>
    </div>
    <p class="normal">ASP.NET Core is part of a history of evolving Microsoft technologies used to build websites and services that work with data:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">ActiveX Data Objects (ADO)</strong> was released in 1996 and was Microsoft’s <a id="_idIndexMarker1809"/>attempt to provide <a id="_idIndexMarker1810"/>a single set of <strong class="keyWord">Component Object Model</strong> (<strong class="keyWord">COM</strong>) components to work with data. With the <a id="_idIndexMarker1811"/>release of .NET, an equivalent was created named <strong class="keyWord">ADO.NET</strong>, which is still the faster method to work with data in .NET, with <a id="_idIndexMarker1812"/>its core classes, <code class="inlineCode">DbConnection</code>, <code class="inlineCode">DbCommand</code>, and <code class="inlineCode">DbDataReader</code>. <strong class="keyWord">ORMs (Object-Relational Mappers)</strong> like EF Core use ADO.NET internally.</li>
      <li class="bulletList"><strong class="keyWord">Active Server Pages</strong> (<strong class="keyWord">ASP</strong>) was released in 1996 and was Microsoft’s first <a id="_idIndexMarker1813"/>attempt at a platform for dynamic <a id="_idIndexMarker1814"/>server-side execution of website code. ASP files contain a mix of HTML and code that executes on the server, written in the VBScript language.</li>
      <li class="bulletList"><strong class="keyWord">ASP.NET Web Forms</strong> was released in 2002 with the .NET Framework and <a id="_idIndexMarker1815"/>was designed to enable <a id="_idIndexMarker1816"/>non-web developers, such as those familiar with Visual Basic, to quickly create websites by dragging and dropping visual components and writing event-driven code in Visual Basic or C#. Web Forms should be avoided in new .NET Framework web projects in favor of ASP.NET MVC.</li>
      <li class="bulletList"><strong class="keyWord">Windows Communication Foundation</strong> (<strong class="keyWord">WCF</strong>) was released in 2006 and <a id="_idIndexMarker1817"/>enables developers <a id="_idIndexMarker1818"/>to build SOAP and REST services. SOAP is powerful but complex, so it should be avoided unless you need advanced features, such as distributed transactions and complex messaging topologies.</li>
      <li class="bulletList"><strong class="keyWord">ASP.NET MVC</strong> was released in 2009 to cleanly separate the concerns of web <a id="_idIndexMarker1819"/>developers between <strong class="keyWord">models</strong>, which <a id="_idIndexMarker1820"/>temporarily store the data; <strong class="keyWord">views</strong>, which present data using various formats in the UI; and <strong class="keyWord">controllers</strong>, which fetch a model and pass it to a view. This separation enables improved reuse and unit testing.</li>
      <li class="bulletList"><strong class="keyWord">ASP.NET Web API</strong> was released in 2012 and enables developers to create <a id="_idIndexMarker1821"/>HTTP services (aka REST services) that are <a id="_idIndexMarker1822"/>simpler and more scalable than SOAP services.</li>
      <li class="bulletList"><strong class="keyWord">ASP.NET SignalR</strong> was released in 2013 and enables real-time communication for websites by abstracting underlying technologies and <a id="_idIndexMarker1823"/>techniques, such as WebSockets and <a id="_idIndexMarker1824"/>long polling. This enables website features, such as live chat, and updates to time-sensitive data, such as stock prices, across a wide variety of web browsers, even when they do not support an underlying technology, such as WebSockets.</li>
      <li class="bulletList"><strong class="keyWord">ASP.NET Core</strong> was <a id="_idIndexMarker1825"/>released in 2016 and combines modern implementations of .NET Framework technologies, such as MVC, Web API, and SignalR, with alternative technologies, such as Razor Pages, gRPC, and Blazor, all running on modern .NET. Therefore, ASP.NET Core can execute across platforms. ASP.NET Core has many project templates to get you started with its supported technologies.<div><p class="normal"><strong class="keyWord">Good Practice</strong>: Choose ASP.NET Core to develop websites and web services because it includes web-related technologies that are modern and cross-platform.</p>
        </div>
      </li>
    </ul>
    <h2 id="_idParaDest-703" class="heading-2">Classic ASP.NET versus modern ASP.NET Core</h2>
    <p class="normal">Until <a id="_idIndexMarker1826"/>modern .NET, ASP.NET <a id="_idIndexMarker1827"/>was built on top of a large assembly in .NET Framework, named <code class="inlineCode">System.Web.dll</code>, and it was tightly <a id="_idIndexMarker1828"/>coupled to Microsoft’s Windows-only web server, named <strong class="keyWord">Internet Information Services</strong> (<strong class="keyWord">IIS</strong>). Over the years, this assembly has accumulated a lot of features, many of which are not suitable for modern cross-platform development.</p>
    <p class="normal">ASP.NET Core is a major redesign of ASP.NET. It removes the dependency on the <code class="inlineCode">System.Web.dll</code> assembly and IIS and is composed of modular lightweight packages, just like the rest of modern .NET. Using IIS as the web server is still supported by ASP.NET Core, but there is a better option.</p>
    <p class="normal">You can develop and run ASP.NET Core applications across platforms on Windows, macOS, and Linux. Microsoft has even created a cross-platform, super-performant web server, named <strong class="keyWord">Kestrel</strong>, and <a id="_idIndexMarker1829"/>the entire stack is open source.</p>
    <p class="normal">ASP.NET Core 2.2 or later projects default to the new in-process hosting model. This gives a 400% performance improvement when hosting in Microsoft IIS, but Microsoft still recommends using Kestrel for even better performance.</p>
    <h2 id="_idParaDest-704" class="heading-2">Building websites using ASP.NET Core</h2>
    <p class="normal">Websites are made up of multiple web pages, loaded statically from the filesystem <a id="_idIndexMarker1830"/>or generated dynamically by a server-side technology, such as ASP.NET Core. A web browser makes <code class="inlineCode">GET</code> requests using <strong class="keyWord">Unique Resource Locators</strong> (<strong class="keyWord">URLs</strong>) that identify each page and <a id="_idIndexMarker1831"/>can manipulate data stored on the server, using <code class="inlineCode">POST</code>, <code class="inlineCode">PUT</code>, and <code class="inlineCode">DELETE</code> requests.</p>
    <p class="normal">With many websites, the web browser is treated as a presentation layer, with almost all the processing performed on the server side. Some JavaScript might be used on the client side to implement form validation warnings and some presentation features, such as carousels.</p>
    <p class="normal">ASP.NET Core provides multiple technologies to build the user interface for websites:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">ASP.NET Core Razor Pages</strong> is a simple way to dynamically generate HTML <a id="_idIndexMarker1832"/>for simple websites. I recommend considering this as a legacy technology and using Blazor instead.</li>
      <li class="bulletList"><strong class="keyWord">ASP.NET Core MVC</strong> is an <a id="_idIndexMarker1833"/>implementation of the <strong class="keyWord">Model-View-Controller</strong> (<strong class="keyWord">MVC</strong>) design pattern that is popular for <a id="_idIndexMarker1834"/>developing complex websites.</li>
      <li class="bulletList"><strong class="keyWord">Blazor</strong> lets you <a id="_idIndexMarker1835"/>build user interface components using C# and .NET instead of a JavaScript-based UI framework, like Angular, React, and Vue. Early <a id="_idIndexMarker1836"/>versions of Blazor required a developer to choose a <strong class="keyWord">hosting model</strong>. The <strong class="keyWord">Blazor WebAssembly</strong> hosting model runs your code in the browser like a JavaScript-based <a id="_idIndexMarker1837"/>framework would. The <strong class="keyWord">Blazor Server</strong> hosting model runs your code on the server and updates the web page dynamically. .NET 8 introduced a unified, full-stack hosting model that allows individual components to execute either on the server or client side, or even adapt dynamically at runtime. You will learn about Blazor in detail in <em class="chapterRef">Chapter 14</em>, <em class="italic">Building Interactive Web Components Using Blazor</em>.</li>
    </ul>
    <p class="normal">So, which should you choose?</p>
    <blockquote class="packt_quote">
      <p class="quote">“Blazor is now our recommended approach for building web UI with ASP.NET Core, but neither MVC nor Razor Pages are now obsolete. Both MVC &amp; Razor Pages are mature, fully supported, and widely used frameworks that we plan to support for the foreseeable future. There is also no requirement or guidance to migrate existing MVC or Razor Pages apps to Blazor. For existing, well-established MVC-based projects, continuing to develop with MVC is a perfectly valid and reasonable approach.”</p>
      <p class="cite">– Dan Roth</p>
    </blockquote>
    <p class="normal">You can <a id="_idIndexMarker1838"/>see Dan’s original comment post at the following link: <a href="https://github.com/dotnet/aspnetcore/issues/51834#issuecomment-1913282747">https://github.com/dotnet/aspnetcore/issues/51834#issuecomment-1913282747</a>.</p>
    <div><p class="normal">Dan Roth is the principal product manager at ASP.NET, so he knows the future of ASP.NET Core better than anyone else: <a href="https://devblogs.microsoft.com/dotnet/author/danroth27/">https://devblogs.microsoft.com/dotnet/author/danroth27/</a>.</p>
    </div>
    <p class="normal">I agree with the quote by Dan Roth. For me, there are two main choices for web development:</p>
    <ul>
      <li class="bulletList">For websites or web services using modern web development: Choose Blazor for the web user interface and Minimal APIs for the web service. These technologies are covered in this book and its companion book, <em class="italic">Apps and Services with .NET 8</em>.</li>
      <li class="bulletList">For websites or web services using mature and proven web development: Choose controller-based ASP.NET Core MVC for the web user interface and Web API for the web service. For even more productivity, you can add third-party platforms on top of those, for example, a .NET CMS like Umbraco. These technologies are covered in my new companion book, <em class="italic">Real-World Web Development with .NET 9</em>.</li>
    </ul>
    <p class="normal">Much <a id="_idIndexMarker1839"/>of ASP.NET Core is shared across all these choices anyway, so you will only need to learn those shared components once, as shown in <em class="italic">Figure 12.1</em>:</p>
    <figure class="mediaobject"><img src="img/B22322_12_01.png" alt="" width="825" height="409"/></figure>
    <p class="packt_figref">Figure 12.1: Modern or controller-based and shared ASP.NET Core components</p>
    <h2 id="_idParaDest-705" class="heading-2">Comparison of file types used in ASP.NET Core</h2>
    <p class="normal">It is useful to summarize the file types used by these technologies because they are similar <a id="_idIndexMarker1840"/>but different. If you do not understand some subtle but important differences, it can cause much confusion when trying to implement your own projects. Please note the differences in <em class="italic">Table 12.1</em>:</p>
    <table id="table001-11" class="table-container">
      <tbody>
        <tr>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">Technology</strong></p>
          </td>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">Special filename</strong></p>
          </td>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">File extension</strong></p>
          </td>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">Directive</strong></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Razor Component (Blazor)</p>
          </td>
          <td class="table-cell"/>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">.razor</code></p>
          </td>
          <td class="table-cell"/>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Razor Component (Blazor with page routing)</p>
          </td>
          <td class="table-cell"/>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">.razor</code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">@page "&lt;path&gt;"</code></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Razor Component Imports (Blazor)</p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">_Imports</code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">.razor</code></p>
          </td>
          <td class="table-cell"/>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Razor Page</p>
          </td>
          <td class="table-cell"/>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">.cshtml</code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">@page</code></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Razor View (MVC)</p>
          </td>
          <td class="table-cell"/>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">.cshtml</code></p>
          </td>
          <td class="table-cell"/>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Razor Layout</p>
          </td>
          <td class="table-cell"/>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">.cshtml</code></p>
          </td>
          <td class="table-cell"/>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Razor View Start</p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">_ViewStart</code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">.cshtml</code></p>
          </td>
          <td class="table-cell"/>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Razor View Imports</p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">_ViewImports</code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">.cshtml</code></p>
          </td>
          <td class="table-cell"/>
        </tr>
      </tbody>
    </table>
    <p class="packt_figref">Table 12.1: Comparison of file types used in ASP.NET Core</p>
    <p class="normal">Directives like <code class="inlineCode">@page</code> are added to the top of a file’s contents.</p>
    <p class="normal">If a file does <a id="_idIndexMarker1841"/>not have a special filename, then it can be named anything. For example, you might create a Razor component for use in a Blazor project, named <code class="inlineCode">Customer.razor</code>, or you might create a Razor layout for use in an MVC or Razor Pages project, named <code class="inlineCode">_MobileLayout.cshtml</code>.</p>
    <div><p class="normal">The naming convention for shared Razor files, like layouts and partial views, is to prefix with an underscore, <code class="inlineCode">_</code>. For example, <code class="inlineCode">_ViewStart.cshtml</code>, <code class="inlineCode">_Layout.cshtml</code>, or <code class="inlineCode">_Product.cshtml</code> (this might be a partial view for rendering a product).</p>
    </div>
    <p class="normal">A Razor layout file like <code class="inlineCode">_MyCustomLayout.cshtml</code> is identical to a Razor view. What makes the file a layout is being set as the <code class="inlineCode">Layout</code> property of another Razor file, as shown in the following code:</p>
    <pre class="programlisting code"><code class="hljs-code">@{
  Layout = "_MyCustomLayout"; // File extension is not needed.
}
</code></pre>
    <div><p class="normal"><strong class="keyWord">Warning!</strong> Be careful to use the correct file extension and directive at the top of the file; otherwise, you will get unexpected behavior.</p>
    </div>
    <h2 id="_idParaDest-706" class="heading-2">Building websites using a content management system</h2>
    <p class="normal">Most websites have a lot of content, and if developers had to be involved every time <a id="_idIndexMarker1842"/>some content needed to be changed, that would not scale well.</p>
    <p class="normal">A <strong class="keyWord">Content Management System</strong> (<strong class="keyWord">CMS</strong>) enables developers to define content structure <a id="_idIndexMarker1843"/>and templates to provide consistency and good design, while making it easy for a non-technical content owner to manage the actual content. They can create new pages or blocks of content and update existing content, knowing that it will look great for visitors with minimal effort.</p>
    <p class="normal">There are a multitude of CMSs available for all web platforms, like WordPress for PHP or Django for Python. CMSs that support modern .NET include Optimizely Content Cloud, Umbraco, Piranha, and Orchard Core.</p>
    <p class="normal">The key benefit of using a CMS is that it provides a friendly content management user interface. Content owners log in to the website and manage the content themselves. The content is then rendered and returned to visitors using ASP.NET Core MVC controllers and views, or via web service endpoints, known as a <strong class="keyWord">headless CMS</strong>, to provide <a id="_idIndexMarker1844"/>that content to “heads” implemented as mobile or desktop apps, in-store touchpoints, or clients built with JavaScript frameworks or Blazor.</p>
    <p class="normal">This book does not cover .NET CMSs, so I have included links where you can learn more about them in the GitHub repository: <a href="https://github.com/markjprice/cs13net9/blob/main/docs/book-links.md#net-content-management-systems">https://github.com/markjprice/cs13net9/blob/main/docs/book-links.md#net-content-management-systems</a>. I also cover Umbraco CMS in my new book, <em class="italic">Real-World Web Development with .NET 9</em>.</p>
    <h2 id="_idParaDest-707" class="heading-2">Building web applications using SPA frameworks</h2>
    <p class="normal">Web applications <a id="_idIndexMarker1845"/>are often built <a id="_idIndexMarker1846"/>using technologies known as <strong class="keyWord">Single-Page Application</strong> (<strong class="keyWord">SPA</strong>) frameworks, such as Blazor, Angular, React, Vue, or a <a id="_idIndexMarker1847"/>proprietary JavaScript library. </p>
    <p class="normal">They can make requests to a backend web service to get more data when needed and post updated data using common serialization formats, such as XML and JSON. The canonical examples are Google web apps, like Gmail, Maps, and Docs.</p>
    <p class="normal">With a web application, the client side uses JavaScript frameworks or Blazor to implement sophisticated user interactions, but most of the important processing and data access still happens on the server side, as the web browser has limited access to local system resources.</p>
    <p class="normal">JavaScript is loosely typed and not designed for complex projects, so most JavaScript libraries these days use TypeScript, which adds strong typing to JavaScript and is designed with many modern language features to handle complex implementations.</p>
    <p class="normal">The .NET SDK has project templates for JavaScript and TypeScript-based SPAs, but we will not spend any time learning how to build JavaScript and TypeScript-based SPAs in this book. Even though these SPAs are commonly used with ASP.NET Core as the backend, the focus of this book is on C# and not on other languages.</p>
    <p class="normal">In summary, C# and .NET can be used on both the server side and the client side to build websites, as shown in <em class="italic">Figure 12.2</em>:</p>
    <figure class="mediaobject"><img src="img/B22322_12_02.png" alt="" width="825" height="280"/></figure>
    <p class="packt_figref">Figure 12.2: The use of C# and .NET to build websites on both the server side and client side</p>
    <h2 id="_idParaDest-708" class="heading-2">Building web and other services</h2>
    <p class="normal">Although we will not learn about JavaScript and TypeScript-based SPAs, we will learn how <a id="_idIndexMarker1848"/>to build a web service using <strong class="keyWord">ASP.NET Core Minimal API</strong>, and then <a id="_idIndexMarker1849"/>we will call that web service from Blazor components.</p>
    <p class="normal">There are no formal definitions, but services are sometimes described based on their complexity:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">Service</strong>: All functionality needed by a client app in one monolithic service.</li>
      <li class="bulletList"><strong class="keyWord">Microservice</strong>: Multiple services that each focus on a smaller set of functionalities.</li>
      <li class="bulletList"><strong class="keyWord">Nanoservice</strong>: A single function provided as a service. Unlike services and microservices that are hosted 24/7/365, nanoservices are often inactive until called upon to reduce resources and costs.</li>
    </ul>
    <p class="normal">At the start of the first part of this book, we briefly reviewed C# language features and in which versions they were introduced. At the start of the second part of this book, we briefly reviewed .NET library features and in which versions they were introduced. Now, in the third and final part of this book, we will briefly review ASP.NET Core features and in which versions they were introduced.</p>
    <p class="normal">You can read this information in the GitHub repository at the following link: <a href="https://github.com/markjprice/cs13net9/blob/main/docs/ch12-features.md">https://github.com/markjprice/cs13net9/blob/main/docs/ch12-features.md</a>.</p>
    <p class="normal">To summarize <a id="_idIndexMarker1850"/>what’s new in ASP.NET Core 9, let’s end this section with another quote from Dan Roth:</p>
    <blockquote class="packt_quote">
      <p class="quote">“We’re optimizing how the .NET runtime on WebAssembly initializes so that you start up faster and we’re making Blazor’s initialization logic more efficient by leveraging source generation for JSON serialization. We’re also optimizing how static web assets are handled for all ASP.NET Core apps so that your files are pre-compressed as part of publishing your app. For API developers we’re providing built-in support for OpenAPI document generation.”</p>
      <p class="cite">– Dan Roth</p>
    </blockquote>
    <h2 id="_idParaDest-709" class="heading-2">Building desktop and mobile apps</h2>
    <p class="normal">Since this book is about modern cross-platform development using C# and .NET, it does <a id="_idIndexMarker1851"/>not include coverage of building desktop apps <a id="_idIndexMarker1852"/>using <strong class="keyWord">Windows Forms</strong>, <strong class="keyWord">Windows Presentation Foundation (WPF)</strong>, or <strong class="keyWord">WinUI 3 </strong>apps because they are Windows-only.</p>
    <p class="normal">If you <a id="_idIndexMarker1853"/>need to build apps for Windows, then the following <a id="_idIndexMarker1854"/>links will be helpful:</p>
    <ul>
      <li class="bulletList">Official <a id="_idIndexMarker1855"/>documentation to get started building apps for Windows: <a href="https://learn.microsoft.com/en-us/windows/apps/get-started/">https://learn.microsoft.com/en-us/windows/apps/get-started/</a></li>
      <li class="bulletList">Is WPF Dead?: <a href="https://avaloniaui.net/Blog/is-wpf-dead">https://avaloniaui.net/Blog/is-wpf-dead</a></li>
      <li class="bulletList">How popular is WPF compared to WinUI , MAUI in 2024?: <a href="https://twitter.com/DrAndrewBT/status/1759557538805108860">https://twitter.com/DrAndrewBT/status/1759557538805108860</a></li>
      <li class="bulletList">WinForms in a 64-Bit world – our strategy going forward: <a href="https://devblogs.microsoft.com/dotnet/winforms-designer-64-bit-path-forward/">https://devblogs.microsoft.com/dotnet/winforms-designer-64-bit-path-forward/</a></li>
    </ul>
    <h3 id="_idParaDest-710" class="heading-3">Mobile app platforms</h3>
    <p class="normal">There are two major mobile platforms, Apple’s iOS and Google’s Android, each with its <a id="_idIndexMarker1856"/>own programming languages and platform APIs. There are also two major desktop platforms, Apple’s macOS and Microsoft’s Windows, each with its own programming languages and platform APIs, as shown in the following list:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">iOS</strong>: Objective C or Swift and UIKit</li>
      <li class="bulletList"><strong class="keyWord">Android</strong>: Java or Kotlin and Android API</li>
      <li class="bulletList"><strong class="keyWord">macOS</strong>: Objective C or Swift and AppKit or Catalyst</li>
      <li class="bulletList"><strong class="keyWord">Windows</strong>: C, C++, or many other languages, and Win32 API or Windows App SDK</li>
    </ul>
    <p class="normal">Since there are so many combinations to learn to do native mobile development, it would be useful if there were a single technology that could target all those mobile platforms.</p>
    <h3 id="_idParaDest-711" class="heading-3">.NET MAUI</h3>
    <p class="normal">Cross-platform <a id="_idIndexMarker1857"/>mobile and desktop apps can be built once for the <strong class="keyWord">.NET Multi-platform App User Interfaces (MAUI)</strong> platform, and then they can run <a id="_idIndexMarker1858"/>on many mobile and desktop platforms.</p>
    <p class="normal">.NET MAUI makes it easy to develop those apps by sharing user interface components as well as business logic. They can target the same .NET APIs as used by console apps, websites, and web services. The apps will be executed by the Mono runtime on mobile devices and the CoreCLR runtime on desktop devices. The Mono runtime is better optimized for mobile devices compared to the normal .NET CoreCLR runtime. Blazor WebAssembly also uses the Mono runtime because, like a mobile app, it is resource-constrained.</p>
    <p class="normal">The apps can exist on their own, but they usually call services to provide an experience that spans all your computing devices, from servers and laptops to phones and gaming systems.</p>
    <p class="normal">I introduce .NET MAUI in my companion book, <em class="italic">Apps and Services with .NET 8</em>, and Packt has many other books that go much deeper into .NET MAUI, so if you’re <a id="_idIndexMarker1859"/>serious about learning MAUI, please take a look at the following Packt books:</p>
    <ul>
      <li class="bulletList level-2"><em class="italic">.NET MAUI Cross-Platform Application Development</em>: <a href="https://www.packtpub.com/en-us/product/net-maui-cross-platform-application-development-9781835080597">https://www.packtpub.com/en-us/product/net-maui-cross-platform-application-development-9781835080597</a></li>
      <li class="bulletList level-2"><em class="italic">The MVVM Pattern in .NET MAUI</em>: <a href="https://www.packtpub.com/en-us/product/the-mvvm-pattern-in-net-maui-9781805125006">https://www.packtpub.com/en-us/product/the-mvvm-pattern-in-net-maui-9781805125006</a></li>
      <li class="bulletList level-2"><em class="italic">.NET MAUI Projects</em>: <a href="https://www.packtpub.com/en-us/product/net-maui-projects-9781837634910">https://www.packtpub.com/en-us/product/net-maui-projects-9781837634910</a></li>
    </ul>
    <p class="normal">Before Microsoft created .NET MAUI, third parties created open source initiatives to enable .NET developers to build cross-platform apps using XAML, named <strong class="keyWord">Uno</strong> and <strong class="keyWord">Avalonia</strong>.</p>
    <div><p class="normal"><strong class="keyWord">Warning!</strong> I have not tried Uno or Avalonia myself for any real-world projects, so I cannot give an evidence-based recommendation for either of them. I mention them in this book just to make you aware of them.</p>
    </div>
    <h3 id="_idParaDest-712" class="heading-3">Uno platform</h3>
    <p class="normal">Uno is an <em class="italic">“Open-source platform for building single codebase native mobile, web, desktop and embedded apps quickly”</em>, as stated on their website, found at the following link: <a href="https://platform.uno/">https://platform.uno/</a>.</p>
    <p class="normal">Developers <a id="_idIndexMarker1860"/>can reuse 99% of the business logic and UI layer across native mobile, web, and desktop.</p>
    <p class="normal">The Uno platform uses the Xamarin native platform but <em class="italic">not</em> Xamarin.Forms. For WebAssembly, Uno uses the Mono-WASM runtime. For Linux, Uno uses Skia to draw the user interface on canvas.</p>
    <h3 id="_idParaDest-713" class="heading-3">Avalonia</h3>
    <p class="normal">Avalonia is an <em class="italic">“open source framework for building beautiful, cross-platform applications from a single .NET codebase”</em>, as stated on their website, found at the <a id="_idIndexMarker1861"/>following link: <a href="https://avaloniaui.net/">https://avaloniaui.net/</a>.</p>
    <p class="normal">You can <a id="_idIndexMarker1862"/>think of Avalonia as a spiritual successor to WPF. WPF, Silverlight, and UWP developers familiar with WPF can continue to benefit from their years of pre-existing knowledge and skills.</p>
    <p class="normal">It was used by JetBrains to modernize their WPF-based tools and make them cross-platform.</p>
    <p class="normal">The Avalonia extension for Visual Studio and deep integration with Rider make development easier and more productive.</p>
    <h1 id="_idParaDest-714" class="heading-1">Structuring projects</h1>
    <p class="normal">How should you structure your projects? So far, we have mostly built small individual <a id="_idIndexMarker1863"/>console apps to illustrate language or library features, with the occasional class library and unit test project to support them. In the rest of this book, we will build multiple projects using different technologies that work together to provide a single solution.</p>
    <p class="normal">With large, complex solutions, it can be difficult to navigate through all the code. So the primary reason to structure your projects is to make it easier to find components. It is good to have an overall name for your solution that reflects the application or solution.</p>
    <p class="normal">We will build multiple projects for a fictional company named <strong class="keyWord">Northwind</strong>. We will name the solution <code class="inlineCode">ModernWeb</code> and use the name <code class="inlineCode">Northwind</code> as a prefix for all the project names.</p>
    <p class="normal">There are many ways to structure and name projects and solutions, for example, using a folder hierarchy as well as a naming convention. If you work in a team, make sure you know how your team does it.</p>
    <h2 id="_idParaDest-715" class="heading-2">Structuring projects in a solution</h2>
    <p class="normal">It is good to have a naming convention for your projects in a solution so that any developer <a id="_idIndexMarker1864"/>can tell what each one does instantly. A common choice is to use the type of project, for example, class library, console app, website, and so on.</p>
    <p class="normal">Since you might want to run multiple web projects at the same time and they will be hosted on a local web server, we need to differentiate each project by assigning different port numbers for their endpoints, for both HTTP and HTTPS.</p>
    <p class="normal">Commonly assigned local port numbers are <code class="inlineCode">5000</code> for HTTP and <code class="inlineCode">5001</code> for HTTPS. We will use a numbering convention of <code class="inlineCode">5&lt;chapter&gt;0</code> for HTTP and <code class="inlineCode">5&lt;chapter&gt;1</code> for HTTPS. For example, for a website project we will create in <em class="chapterRef">Chapter 13</em>, we will assign <code class="inlineCode">5130</code> to HTTP and <code class="inlineCode">5131</code> to HTTPS.</p>
    <p class="normal">We will, therefore, use the following project names and port numbers, as shown in <em class="italic">Table 12.2</em>:</p>
    <table id="table002-11" class="table-container">
      <tbody>
        <tr>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">Name</strong></p>
          </td>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">Ports</strong></p>
          </td>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">Description</strong></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">Northwind.Common</code></p>
          </td>
          <td class="table-cell">
            <p class="normal">N/A</p>
          </td>
          <td class="table-cell">
            <p class="normal">A class library project for common types, like interfaces, enums, classes, records, and structs, used across multiple projects.</p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">Northwind.EntityModels</code></p>
          </td>
          <td class="table-cell">
            <p class="normal">N/A</p>
          </td>
          <td class="table-cell">
            <p class="normal">A class library project for common EF Core entity models. Entity models are often used on both the server side and client side, so it is best to separate dependencies on specific database providers.</p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">Northwind.DataContext</code></p>
          </td>
          <td class="table-cell">
            <p class="normal">N/A</p>
          </td>
          <td class="table-cell">
            <p class="normal">A class library project for the EF Core database context, with dependencies on specific database providers.</p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">Northwind.UnitTests</code></p>
          </td>
          <td class="table-cell">
            <p class="normal">N/A</p>
          </td>
          <td class="table-cell">
            <p class="normal">An xUnit test project for the solution.</p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">Northwind.Web</code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">http</code> <code class="inlineCode">5130</code> and</p>
            <p class="normal"><code class="inlineCode">https</code> <code class="inlineCode">5131</code></p>
          </td>
          <td class="table-cell">
            <p class="normal">An ASP.NET Core project for a simple website that uses a mixture of static HTML files and Blazor Static <strong class="keyWord">Server-Side Rendering</strong> (<strong class="keyWord">SSR</strong>).</p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">Northwind.Blazor</code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">http</code> <code class="inlineCode">5140</code> and</p>
            <p class="normal"><code class="inlineCode">https</code> <code class="inlineCode">5141</code></p>
          </td>
          <td class="table-cell">
            <p class="normal">An ASP.NET Core Blazor project.</p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">Northwind.WebApi</code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode">http</code> <code class="inlineCode">5150</code> and</p>
            <p class="normal"><code class="inlineCode">https</code> <code class="inlineCode">5151</code></p>
          </td>
          <td class="table-cell">
            <p class="normal">An ASP.NET Core project for a web API, aka an HTTP service. A good choice for integrating with websites because it can use any JavaScript library or Blazor to interact with the service.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="packt_figref">Table 12.2: Example project names for various project types</p>
    <h2 id="_idParaDest-716" class="heading-2">Central package management</h2>
    <p class="normal">In all previous projects in this book, if we needed to reference a NuGet package, we <a id="_idIndexMarker1865"/>included the reference <a id="_idIndexMarker1866"/>to the package name and version directly in the project file.</p>
    <p class="normal"><strong class="keyWord">Central Package Management (CPM)</strong> is a feature that simplifies the management of NuGet package versions across multiple projects within a solution. This is particularly useful for large solutions with many projects, where managing package versions individually can become cumbersome and error-prone.</p>
    <p class="normal">The key <a id="_idIndexMarker1867"/>features and benefits of CPM include:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">Centralized Control</strong>: CPM allows you to define package versions in a single file, typically <code class="inlineCode">Directory.Packages.props</code>, which is placed in the root directory of your solution. This file centralizes the version information for all NuGet packages used across the projects in your solution.</li>
      <li class="bulletList"><strong class="keyWord">Consistency</strong>: It ensures consistent package versions across multiple projects. By having a single source of truth for package versions, CPM eliminates discrepancies that can occur when different projects specify different versions of the same package.</li>
      <li class="bulletList"><strong class="keyWord">Simplified Updates</strong>: Updating a package version in a large solution becomes straightforward. You update the version in the central file, and all <a id="_idIndexMarker1868"/>projects referencing that package automatically use the updated version. This significantly reduces the maintenance overhead.</li>
      <li class="bulletList"><strong class="keyWord">Reduced Redundancy</strong>: It removes the need to specify package versions in individual project files (<code class="inlineCode">.csproj</code>). This makes project files cleaner and easier to manage, as they no longer contain repetitive version information.</li>
    </ul>
    <p class="normal">Let’s set up CPM for a solution that we will use throughout the rest of the chapters in this book:</p>
    <ol>
      <li class="numberedList" value="1">In the <code class="inlineCode">cs13net9</code> folder, create a new folder named <code class="inlineCode">ModernWeb</code>.</li>
      <li class="numberedList">In the <code class="inlineCode">ModernWeb</code> folder, create a new file named <code class="inlineCode">Directory.Packages.props</code>.</li>
      <li class="numberedList">In <code class="inlineCode">Directory.Packages.props</code>, modify its contents, as shown in the following markup:
        <pre class="programlisting code-one"><code class="hljs-code">&lt;Project&gt;
  &lt;PropertyGroup&gt;
    &lt;ManagePackageVersionsCentrally&gt;true&lt;/Man
agePackageVersionsCentrally&gt;
  &lt;/PropertyGroup&gt;
  &lt;ItemGroup Label="For EF Core 9." &gt;
    &lt;PackageVersion
      Include="Microsoft.EntityFrameworkCore.Sqlite"
      Version="9.0.0" /&gt;
    &lt;PackageVersion
      Include="Microsoft.EntityFrameworkCore.Design"
      Version="9.0.0" /&gt;
  &lt;/ItemGroup&gt;
  &lt;ItemGroup Label="For unit testing."&gt;
    &lt;PackageVersion Include="coverlet.collector"
      Version="6.0.2" /&gt;
    &lt;PackageVersion Include="Microsoft.NET.Test.Sdk"
      Version="17.12.0" /&gt;
    &lt;PackageVersion Include="xunit"
      Version="2.9.0" /&gt;
    &lt;PackageVersion
      Include="xunit.runner.visualstudio"
      Version="3.0.0" /&gt;
  &lt;/ItemGroup&gt;
  &lt;ItemGroup Label="For Blazor."&gt;
    &lt;PackageVersion Include=
      "Microsoft.AspNetCore.Components.WebAssembly.Server"
      Version="9.0.0" /&gt;
    &lt;PackageVersion Include=
      "Microsoft.AspNetCore.Components.WebAssembly"
      Version="9.0.0" /&gt;
    &lt;PackageVersion Include=
"Microsoft.AspNetCore.Components.WebAssembly.DevServer"
      Version="9.0.0" /&gt;
  &lt;/ItemGroup&gt;
  &lt;ItemGroup Label="For web services."&gt;
    &lt;PackageVersion
      Include="Microsoft.AspNetCore.OpenApi"
      Version="9.0.0" /&gt;
    &lt;PackageVersion
      Include="Microsoft.Extensions.Caching.Hybrid"
      Version="9.0.0" /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</code></pre>
      </li>
    </ol>
    <div><p class="normal"><strong class="keyWord">Warning!</strong> The <code class="inlineCode">&lt;ManagePackageVersionsCentrally&gt;</code> element and its <code class="inlineCode">true</code> value must go all on one line. Also, you cannot use floating wildcard version numbers, like <code class="inlineCode">10.0-*</code>, as you can in an individual project, to always get the latest patch version of EF Core 10 during previews automatically.</p>
    </div>
    <p class="normal">For any projects that we add underneath the folder containing this file, we can reference <a id="_idIndexMarker1869"/>the packages without explicitly <a id="_idIndexMarker1870"/>specifying the version, as shown in the following markup:</p>
    <pre class="programlisting code"><code class="hljs-code">&lt;ItemGroup&gt;
  &lt;PackageReference Include="Microsoft.EntityFrameworkCore.Sqlite" /&gt;
  &lt;PackageReference Include="Microsoft.EntityFrameworkCore.Design" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
    <p class="normal">You should regularly review and update the package versions in the <code class="inlineCode">Directory.Packages.props</code> file to ensure that you are using the latest stable releases, with important bug fixes and performance improvements.</p>
    <p class="normal">I recommend that you set a monthly event in your calendar for the second Wednesday of each month. This will occur after the second Tuesday of each month, which is Patch Tuesday, when Microsoft releases bug fixes and patches for .NET and related packages.</p>
    <p class="normal">For example, in mid-December 2024, there are likely to be new versions, so you can go to the NuGet page for all your packages and then update the versions if necessary, as shown in the following markup:</p>
    <pre class="programlisting code"><code class="hljs-code">&lt;ItemGroup&gt;
  &lt;PackageVersion
    Include="Microsoft.EntityFrameworkCore.Sqlite"
    Version="9.0.1" /&gt;
  &lt;PackageVersion
    Include="Microsoft.EntityFrameworkCore.Design"
    Version="9.0.1" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
    <p class="normal">Before updating package versions, check for any breaking changes in the release notes of the packages. Test your solution thoroughly after updating to ensure compatibility.</p>
    <p class="normal">Educate your team, and document the purpose and usage of the <code class="inlineCode">Directory.Packages.props</code> file to ensure that everyone understands how to manage package versions centrally.</p>
    <p class="normal">You <a id="_idIndexMarker1871"/>can override an individual <a id="_idIndexMarker1872"/>package version by using the <code class="inlineCode">VersionOverride</code> attribute on a <code class="inlineCode">&lt;PackageReference /&gt;</code> element, as shown in the following markup:</p>
    <pre class="programlisting code"><code class="hljs-code">&lt;ItemGroup&gt;
  &lt;PackageReference Include="Microsoft.EntityFrameworkCore.Sqlite" /&gt;
  &lt;PackageReference Include="Microsoft.EntityFrameworkCore.Design"
    VersionOverride="9.0.0" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
    <p class="normal">This can be useful if a newer version introduces a regression bug.</p>
    <div><p class="normal"><strong class="keyWord">More Information</strong>: You <a id="_idIndexMarker1873"/>can learn more about CPM at the following link: <a href="https://learn.microsoft.com/en-us/nuget/consume-packages/central-package-management">https://learn.microsoft.com/en-us/nuget/consume-packages/central-package-management</a>.</p>
    </div>
    <h1 id="_idParaDest-717" class="heading-1">Building an entity model for use in the rest of the book</h1>
    <p class="normal">Websites <a id="_idIndexMarker1874"/>and web services usually need to work with data in a relational database or another data store. In this section, we will define an entity data model for the Northwind database stored in SQL Server or SQLite. It will be used in most of the apps that we create in subsequent chapters.</p>
    <h2 id="_idParaDest-718" class="heading-2">Creating the Northwind database</h2>
    <p class="normal">The script files to create the Northwind database for SQLite and SQL Server are different. The <a id="_idIndexMarker1875"/>script for SQL Server creates 13 tables as well as related views and stored procedures. The script for SQLite is a simplified version that only creates 10 tables because SQLite does not support as many features. The main projects in this book only need those 10 tables, so you can complete every task in this book with either database.</p>
    <p class="normal">The SQL scripts are found at the following link: <a href="https://github.com/markjprice/cs13net9/tree/main/scripts/sql-scripts">https://github.com/markjprice/cs13net9/tree/main/scripts/sql-scripts</a>.</p>
    <p class="normal">There are multiple SQL scripts to choose from, as described in the following list:</p>
    <ul>
      <li class="bulletList"><code class="inlineCode">Northwind4Sqlite.sql</code> script: To use SQLite on a local Windows, macOS, or Linux computer. This script could probably also be used for other SQL systems, like PostgreSQL or MySQL, but has not been tested for use with those!</li>
      <li class="bulletList"><code class="inlineCode">Northwind4SqlServer.sql</code> script: To use SQL Server on a local Windows computer. The script checks if the Northwind database already exists, and if the database does exists, then it drops (aka deletes) the database before recreating it.</li>
      <li class="bulletList"><code class="inlineCode">Northwind4AzureSqlDatabaseCloud.sql</code> script: To use SQL Server with an Azure SQL Database resource created in the Azure cloud. These resources cost money as long as they exist! The script does not drop or create the Northwind database because you should manually create the Northwind database using the Azure portal user interface.</li>
      <li class="bulletList"><code class="inlineCode">Northwind4AzureSqlEdgeDocker.sql</code> script: To use SQL Server on a local computer in Docker. The script creates the Northwind database. It does not drop it if it already exists because the Docker container should be empty anyway, as a fresh one will be spun up each time.</li>
    </ul>
    <p class="normal">Instructions to install SQLite can be found in <em class="chapterRef">Chapter 10</em>, <em class="italic">Working with Data Using Entity Framework Core</em>. In that chapter, you will also find instructions for installing the <code class="inlineCode">dotnet-ef</code> tool, which you will use to scaffold an entity model from an existing database.</p>
    <p class="normal">Instructions to install SQL Server Developer Edition (free) on your local Windows computer can be found in the GitHub repository for this book at the following link: <a href="https://github.com/markjprice/cs13net9/blob/main/docs/sql-server/README.md">https://github.com/markjprice/cs13net9/blob/main/docs/sql-server/README.md</a>.</p>
    <p class="normal">Instructions <a id="_idIndexMarker1876"/>to set up Azure SQL Edge in Docker for Windows, macOS, or Linux can be found in the GitHub repository for this book at the following link: <a href="https://github.com/markjprice/cs13net9/blob/main/docs/sql-server/sql-edge.md">https://github.com/markjprice/cs13net9/blob/main/docs/sql-server/sql-edge.md</a>.</p>
    <h2 id="_idParaDest-719" class="heading-2">Creating a class library for entity models using SQLite</h2>
    <p class="normal">You <a id="_idIndexMarker1877"/>will now define entity data models in a class library so that they can be reused in other types of projects, including client-side app models.</p>
    <div><p class="normal"><strong class="keyWord">Good Practice</strong>: You should create a separate class library project for your entity data models from the class library for your data context. This allows easier sharing of the entity models between backend web servers and frontend desktop, mobile, and Blazor clients, and only the backend needs to reference the data context class library.</p>
    </div>
    <p class="normal">We will automatically generate some entity models using the EF Core command-line tool:</p>
    <ol>
      <li class="numberedList" value="1">Use your preferred code editor to create a new project and solution, as defined in the following list:<ul>
          <li class="bulletList level-2">Project template: <strong class="screenText">Class Library</strong> / <code class="inlineCode">classlib</code></li>
          <li class="bulletList level-2">Project file and folder: <code class="inlineCode">Northwind.EntityModels.Sqlite</code></li>
          <li class="bulletList level-2">Solution file and folder: <code class="inlineCode">ModernWeb</code></li>
        </ul>
      </li>
      <li class="numberedList">In the <code class="inlineCode">Northwind.EntityModels.Sqlite</code> project, add package references for the SQLite database provider and EF Core design-time support, as shown in the following markup:
        <pre class="programlisting code-one"><code class="hljs-code">&lt;ItemGroup&gt;
  &lt;PackageReference
    Include="Microsoft.EntityFrameworkCore.Sqlite" /&gt;
  &lt;PackageReference
    Include="Microsoft.EntityFrameworkCore.Design"&gt;
    &lt;PrivateAssets&gt;all&lt;/PrivateAssets&gt;
    &lt;IncludeAssets&gt;runtime; build; native; contentfiles; analyzers; buildtransitive&lt;/IncludeAssets&gt;
  &lt;/PackageReference&gt;
&lt;/ItemGroup&gt;
</code></pre>
      </li>
      <li class="numberedList">Delete the <code class="inlineCode">Class1.cs</code> file.</li>
      <li class="numberedList">Build the <code class="inlineCode">Northwind.EntityModels.Sqlite</code> project to restore packages.</li>
      <li class="numberedList">Copy the <code class="inlineCode">Northwind4Sqlite.sql</code> file into the <code class="inlineCode">ModernWeb</code> solution folder (not the project folder!).</li>
      <li class="numberedList">At a <a id="_idIndexMarker1878"/>command prompt or terminal in the <code class="inlineCode">ModernWeb</code> folder, enter a command to create the <code class="inlineCode">Northwind.db</code> file for SQLite, as shown in the following command:
        <pre class="programlisting con-one"><code class="hljs-con">sqlite3 Northwind.db -init Northwind4SQLite.sql
</code></pre>
      </li>
    </ol>
    <div><p class="normal">Be patient because this command might take a while to create the database structure.</p>
    </div>
    <ol>
      <li class="numberedList" value="7">To exit SQLite command mode, press <em class="keystroke">Ctrl</em> + <em class="keystroke">C</em> twice on Windows or <em class="keystroke">Cmd</em> + <em class="keystroke">D</em> on macOS or Linux.</li>
      <li class="numberedList">At a command prompt or terminal in the <code class="inlineCode">ModernWeb</code> folder, enter a command to list the files in the current directory, as shown in the following command:
        <pre class="programlisting con-one"><code class="hljs-con">dir
</code></pre>
      </li>
      <li class="numberedList">You should see that a new file named <code class="inlineCode">Northwind.db</code> has been created, as shown in the following output:
        <pre class="programlisting con-one"><code class="hljs-con">    Directory: C:\cs13net9\ModernWeb
Length Name
------ ----
       Northwind.EntityModels.Sqlite
   382 Directory.Packages.props
  1193 ModernWeb.sln
557056 Northwind.db
480790 Northwind4SQLite.sql
</code></pre>
      </li>
      <li class="numberedList">Change to the project folder:
        <pre class="programlisting con-one"><code class="hljs-con">cd Northwind.EntityModels.Sqlite
</code></pre>
      </li>
      <li class="numberedList">At a <a id="_idIndexMarker1879"/>command prompt or terminal in the <code class="inlineCode">Northwind.EntityModels.Sqlite</code> project folder (the folder that contains the <code class="inlineCode">.csproj</code> project file), generate entity class models for all tables, as shown in the following command:
        <pre class="programlisting con-one"><code class="hljs-con">dotnet ef dbcontext scaffold "Data Source=../Northwind.db" Microsoft.EntityFrameworkCore.Sqlite --namespace Northwind.EntityModels --data-annotations
</code></pre>
      </li>
    </ol>
    <p class="normal-one">Note the following:</p>
    <ul>
      <li class="bulletList level-2">The command to perform: <code class="inlineCode">dbcontext scaffold</code></li>
      <li class="bulletList level-2">The connection string refers to the database file in the solution folder, which is one folder up from the current project folder: <code class="inlineCode">"Data Source=../Northwind.db"</code></li>
      <li class="bulletList level-2">The database provider: <code class="inlineCode">Microsoft.EntityFrameworkCore.Sqlite</code></li>
      <li class="bulletList level-2">The namespace: <code class="inlineCode">--namespace Northwind.EntityModels</code></li>
      <li class="bulletList level-2">To use data annotations as well as the Fluent API: <code class="inlineCode">--data-annotations</code>
        <div><p class="normal"><strong class="keyWord">Warning!</strong> <code class="inlineCode">dotnet-ef</code> commands must be entered all on one line and in a folder that contains a project; otherwise, you will see the following error: <code class="inlineCode">No project was found. Change the current working directory or use the --project option.</code> Remember that all command lines can be found at and copied from the following link: <a href="https://github.com/markjprice/cs13net9/blob/main/docs/command-lines.md">https://github.com/markjprice/cs13net9/blob/main/docs/command-lines.md</a>.</p>
          <p class="normal">If you <a id="_idIndexMarker1880"/>use SQLite, then you will see warnings about incompatible type mappings between the table columns and properties in the entity class models. For example, <code class="inlineCode">The column 'BirthDate' on table 'Employees' should map to a property of type 'DateOnly', but its values are in an incompatible format. Using a different type</code>. This is due to SQLite using dynamic types. We will fix those issues in the next section.</p>
        </div>
      </li>
    </ul>
    <h2 id="_idParaDest-720" class="heading-2">Creating a class library for a database context using SQLite</h2>
    <p class="normal">You <a id="_idIndexMarker1881"/>will now define a database context class library:</p>
    <ol>
      <li class="numberedList" value="1">Add a new project to the solution, as defined in the following list:<ul>
          <li class="bulletList level-2">Project template: <strong class="screenText">Class Library</strong> / <code class="inlineCode">classlib</code></li>
          <li class="bulletList level-2">Project file and folder: <code class="inlineCode">Northwind.DataContext.Sqlite</code></li>
          <li class="bulletList level-2">Solution file and folder: <code class="inlineCode">ModernWeb</code></li>
        </ul>
      </li>
      <li class="numberedList">In the <code class="inlineCode">Northwind.DataContext.Sqlite</code> project, statically and globally import the <code class="inlineCode">Console</code> class, add a package reference to the EF Core data provider for SQLite, and add a project reference to the <code class="inlineCode">Northwind.EntityModels.Sqlite</code> project, as shown in the following markup:
        <pre class="programlisting code-one"><code class="hljs-code">&lt;ItemGroup Label="To simplify use of WriteLine."&gt;
  &lt;Using Include="System.Console" Static="true" /&gt;
&lt;/ItemGroup&gt;
&lt;ItemGroup Label="Versions are set at solution-level."&gt;
  &lt;PackageReference
    Include="Microsoft.EntityFrameworkCore.Sqlite" /&gt;
&lt;/ItemGroup&gt;
&lt;ItemGroup&gt;
  &lt;ProjectReference Include=
    "..\Northwind.EntityModels.Sqlite
\Northwind.EntityModels.Sqlite.csproj" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
      </li>
    </ol>
    <div><p class="normal"><strong class="keyWord">Warning!</strong> The path to the project reference should not have a line break in your project file.</p>
    </div>
    <ol>
      <li class="numberedList" value="3">In the <code class="inlineCode">Northwind.DataContext.Sqlite</code> project, delete the <code class="inlineCode">Class1.cs</code> file.</li>
      <li class="numberedList">Build the <code class="inlineCode">Northwind.DataContext.Sqlite</code> project to restore packages.</li>
      <li class="numberedList">In the <code class="inlineCode">Northwind.DataContext.Sqlite</code> project, add a class named <code class="inlineCode">NorthwindContextLogger.cs</code>.</li>
      <li class="numberedList">Modify <a id="_idIndexMarker1882"/>its contents to define a static method, named <code class="inlineCode">WriteLine</code>, that appends a string to the end of a text file, named <code class="inlineCode">northwindlog-&lt;date_time&gt;.txt</code>, in a folder named <code class="inlineCode">book-logs</code> on the desktop, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">using static System.Environment;
namespace Northwind.EntityModels;
public class NorthwindContextLogger
{
  public static void WriteLine(string message)
  {
    string folder = Path.Combine(GetFolderPath(
      SpecialFolder.DesktopDirectory), "book-logs");
    if (!Directory.Exists(folder))
      Directory.CreateDirectory(folder);
    string dateTimeStamp = DateTime.Now.ToString(
      "yyyyMMdd_HHmmss");
    string path = Path.Combine(folder,
      $"northwindlog-{dateTimeStamp}.txt");
    StreamWriter textFile = File.AppendText(path);
    textFile.WriteLine(message);
    textFile.Close();
  }
}
</code></pre>
      </li>
      <li class="numberedList">Move <a id="_idIndexMarker1883"/>the <code class="inlineCode">NorthwindContext.cs</code> file from the <code class="inlineCode">Northwind.EntityModels.Sqlite</code> project/folder to the <code class="inlineCode">Northwind.DataContext.Sqlite</code> project/folder.</li>
    </ol>
    <div><p class="normal">In Visual Studio <strong class="screenText">Solution Explorer</strong>, if you drag and drop a file between projects, it will be copied. If you hold down <em class="keystroke">Shift</em> while dragging and dropping, it will be moved. In VS Code <strong class="screenText">EXPLORER</strong>, if you drag and drop a file between projects, it will be moved. If you hold down <em class="keystroke">Ctrl</em> while dragging and dropping, it will be copied.</p>
    </div>
    <ol>
      <li class="numberedList" value="8">In <code class="inlineCode">NorthwindContext.cs</code>, note the second constructor can have <code class="inlineCode">options</code> passed as a parameter, which allows us to override the default database connection string in any projects, such as websites that need to work with the Northwind database, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">public NorthwindContext(DbContextOptions&lt;NorthwindContext&gt; options)
  : base(options)
{
}
</code></pre>
      </li>
      <li class="numberedList">In <code class="inlineCode">NorthwindContext.cs</code>, in the <code class="inlineCode">OnConfiguring</code> method, remove the compiler #warning about the connection string, and then add statements to check the end of the current directory to accommodate when <a id="_idIndexMarker1884"/>running in Visual Studio compared to the command prompt with VS Code, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">protected override void OnConfiguring(
  DbContextOptionsBuilder optionsBuilder)
{
  if (!optionsBuilder.IsConfigured)
  {
    string database = "Northwind.db";
    string dir = Environment.CurrentDirectory;
    string path = string.Empty;
    if (dir.EndsWith("net9.0"))
    {
      // In the &lt;project&gt;\bin\&lt;Debug|Release&gt;\net9.0 directory.
      path = Path.Combine("..", "..", "..", "..", database);
    }
    else
    {
      // In the &lt;project&gt; directory.
      path = Path.Combine("..", database);
    }
    path = Path.GetFullPath(path); // Convert to absolute path.
    try
    {
      NorthwindContextLogger.WriteLine($"Database path: {path}");
    }
    catch (Exception ex)
    {
      WriteLine(ex.Message);
    }
    if (!File.Exists(path))
    {
      throw new FileNotFoundException(
        message: $"{path} not found.", fileName: path);
    }
    optionsBuilder.UseSqlite($"Data Source={path}");
    optionsBuilder.LogTo(NorthwindContextLogger.WriteLine,
      new[] { Microsoft.EntityFrameworkCore
        .Diagnostics.RelationalEventId.CommandExecuting });
  }
}
</code></pre>
      </li>
    </ol>
    <div><p class="normal">The throwing of the exception is important because if the database file is missing, then the SQLite database provider will create an empty database file, and so if you test connecting to it, it works. But if you query it, then you will see an exception related to missing tables because it does not have any tables! After converting the relative path to an absolute path, you can set a breakpoint while debugging to more easily see where the database file is expected to be, or add a statement to log that path.</p>
    </div>
    <h2 id="_idParaDest-721" class="heading-2">Customizing the model and defining an extension method</h2>
    <p class="normal">Now, we will simplify the <code class="inlineCode">OnModelCreating</code> method. I will briefly explain the individual <a id="_idIndexMarker1885"/>steps and then show the complete final <a id="_idIndexMarker1886"/>method. You can either try to perform the individual steps or just use the final method code:</p>
    <ol>
      <li class="numberedList" value="1">In the <code class="inlineCode">OnModelCreating</code> method, remove all Fluent API statements that call the <code class="inlineCode">ValueGeneratedNever</code> method, like the one shown in the following code. This will configure primary key properties, like <code class="inlineCode">CategoryId</code>, to never generate a value automatically:
        <pre class="programlisting code-one"><code class="hljs-code">modelBuilder.Entity&lt;Category&gt;(entity =&gt;
{
  entity.Property(e =&gt; e. CategoryId).ValueGeneratedNever();
});
</code></pre>
      </li>
    </ol>
    <div><p class="normal">If we do not remove the configuration like the statements above, then when we add new suppliers, the <code class="inlineCode">CategoryId</code> value will always be <code class="inlineCode">0</code>, and we will only be able to add one supplier with that value; all other attempts will throw an exception. You can compare your <code class="inlineCode">NorthwindContext.cs</code> to the one in the GitHub repository at the following link: <a href="https://github.com/markjprice/cs13net9/blob/main/code/ModernWeb/Northwind.DataContext.Sqlite/NorthwindContext.cs">https://github.com/markjprice/cs13net9/blob/main/code/ModernWeb/Northwind.DataContext.Sqlite/NorthwindContext.cs</a>.</p>
    </div>
    <ol>
      <li class="numberedList" value="2">In the <code class="inlineCode">OnModelCreating</code> method, for the <code class="inlineCode">Product</code> entity, tell SQLite that the <code class="inlineCode">UnitPrice</code> can <a id="_idIndexMarker1887"/>be converted from <code class="inlineCode">decimal</code> to <code class="inlineCode">double</code>, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">entity.Property(product =&gt; product.UnitPrice)
  .HasConversion&lt;double&gt;();
</code></pre>
      </li>
      <li class="numberedList">In <a id="_idIndexMarker1888"/>the <code class="inlineCode">OnModelCreating</code> method, for the <code class="inlineCode">Order</code> entity, pass a decimal value <code class="inlineCode">0.0M</code> to the <code class="inlineCode">HasDefaultValue</code> method, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">modelBuilder.Entity&lt;Order&gt;(entity =&gt;
{
  entity.Property(e =&gt; e.Freight).HasDefaultValue(0.0M);
});
</code></pre>
      </li>
      <li class="numberedList">In the <code class="inlineCode">OnModelCreating</code> method, for the <code class="inlineCode">Product</code> entity, pass a decimal value <code class="inlineCode">0.0M</code> to the <code class="inlineCode">HasDefaultValue</code> method, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">modelBuilder.Entity&lt;Product&gt;(entity =&gt;
{
  ...
  entity.Property(e =&gt; e.UnitPrice).HasDefaultValue(0.0M);
</code></pre>
      </li>
      <li class="numberedList">The <code class="inlineCode">OnModelCreating</code> method <a id="_idIndexMarker1889"/>should now <a id="_idIndexMarker1890"/>be simpler, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">protected override void OnModelCreating(
  ModelBuilder modelBuilder)
{
  modelBuilder.Entity&lt;Order&gt;(entity =&gt;
  {
    entity.Property(e =&gt; e.Freight).HasDefaultValue(0.0M);
  });
  modelBuilder.Entity&lt;OrderDetail&gt;(entity =&gt;
  {
    entity.Property(e =&gt;
      e.Quantity).HasDefaultValue((short)1);
    entity.HasOne(d =&gt; d.Order)
      .WithMany(p =&gt; p.OrderDetails)
      .OnDelete(DeleteBehavior.ClientSetNull);
    entity.HasOne(d =&gt; d.Product)
      .WithMany(p =&gt; p.OrderDetails)
      .OnDelete(DeleteBehavior.ClientSetNull);
  });
  modelBuilder.Entity&lt;Product&gt;(entity =&gt;
  {
    entity.Property(e =&gt; e.Discontinued)
      .HasDefaultValue((short)0);
    entity.Property(e =&gt; e.ReorderLevel)
      .HasDefaultValue((short)0);
    entity.Property(e =&gt; e.UnitPrice)
      .HasDefaultValue(0.0M);
    entity.Property(e =&gt; e.UnitsInStock)
      .HasDefaultValue((short)0);
    entity.Property(e =&gt; e.UnitsOnOrder)
      .HasDefaultValue((short)0);
    entity.Property(product =&gt; product.UnitPrice)
      .HasConversion&lt;double&gt;();
  });
  OnModelCreatingPartial(modelBuilder);
}
</code></pre>
      </li>
      <li class="numberedList">In the <code class="inlineCode">Northwind.DataContext.Sqlite</code> project, add a class named <code class="inlineCode">NorthwindContextExtensions.cs</code>. Modify its contents to define an extension <a id="_idIndexMarker1891"/>method <a id="_idIndexMarker1892"/>that adds the Northwind database context to a collection of dependency services, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">using Microsoft.EntityFrameworkCore; // To use UseSqlite.
using Microsoft.Extensions.DependencyInjection; // To use IServiceCollection.
namespace Northwind.EntityModels;
public static class NorthwindContextExtensions
{
  /// &lt;summary&gt;
  /// Adds NorthwindContext to the specified IServiceCollection. Uses the Sqlite database provider.
  /// &lt;/summary&gt;
  /// &lt;param name="services"&gt;The service collection.&lt;/param&gt;
  /// &lt;param name="relativePath"&gt;Default is ".."&lt;/param&gt;
  /// &lt;param name="databaseName"&gt;Default is "Northwind.db"&lt;/param&gt;
  /// &lt;returns&gt;An IServiceCollection that can be used to add more services.&lt;/returns&gt;
  public static IServiceCollection AddNorthwindContext(
    this IServiceCollection services, // The type to extend.
    string relativePath = "..",
    string databaseName = "Northwind.db")
  {
    string path = Path.Combine(relativePath, databaseName);
    path = Path.GetFullPath(path);
    NorthwindContextLogger.WriteLine($"Database path: {path}");
    if (!File.Exists(path))
    {
      throw new FileNotFoundException(
        message: $"{path} not found.", fileName: path);
    }
    services.AddDbContext&lt;NorthwindContext&gt;(options =&gt;
    {
      // Data Source is the modern equivalent of Filename.
      options.UseSqlite($"Data Source={path}");
      options.LogTo(NorthwindContextLogger.WriteLine,
        new[] { Microsoft.EntityFrameworkCore
          .Diagnostics.RelationalEventId.CommandExecuting });
    },
    // Register with a transient lifetime to avoid concurrency
    // issues in Blazor server-side projects.
    contextLifetime: ServiceLifetime.Transient,
    optionsLifetime: ServiceLifetime.Transient);
    return services;
  }
}
</code></pre>
      </li>
      <li class="numberedList">Build <a id="_idIndexMarker1893"/>the two class libraries and fix any <a id="_idIndexMarker1894"/>compiler errors.</li>
    </ol>
    <h2 id="_idParaDest-722" class="heading-2">HasDefaultValue and HasDefaultValueSql</h2>
    <p class="normal">What’s <a id="_idIndexMarker1895"/>the difference between <a id="_idIndexMarker1896"/>these two methods?</p>
    <p class="normal">You should use <code class="inlineCode">HasDefaultValue()</code> when you need a constant, static value as a default for a column, and the value does not depend on any conditions or need to be dynamically calculated at the time of insertion. This constant value is set at the model level and is used by EF Core to insert into the database if no other value is provided.</p>
    <p class="normal">For the equivalent to the preceding example, you would use <code class="inlineCode">entity.Property(e =&gt; e.Freight).HasDefaultValue(0M);</code> because <code class="inlineCode">0M</code> uses the decimal suffix <code class="inlineCode">M</code>. Think of it as setting a default value on the client side.</p>
    <p class="normal">You should use <code class="inlineCode">HasDefaultValueSql()</code> when the default value should be calculated by the database at the time of insertion, especially if it involves SQL functions <a id="_idIndexMarker1897"/>or dynamic data that the <a id="_idIndexMarker1898"/>database should evaluate. The default is a string <code class="inlineCode">"0"</code> because it will be concatenated to the SQL statement, as shown in the following code:</p>
    <pre class="programlisting code"><code class="hljs-code"><code class="inlineCode">CREATE TABLE "Orders" ( ... "Freight" "money" NULL CONSTRAINT "DF_Orders_Freight" DEFAULT (0), ... );</code>
</code></pre>
    <p class="normal">Think of this as configuring the database to set a default value on the server side.</p>
    <p class="normal">EF Core 8 and earlier database reverse-engineering for SQLite used <code class="inlineCode">HasDefaultValueSql</code>. EF Core 9 database reverse-engineering uses <code class="inlineCode">HasDefaultValue</code>.</p>
    <h2 id="_idParaDest-723" class="heading-2">Registering the scope of a dependency service</h2>
    <p class="normal">By default, a <code class="inlineCode">DbContext</code> class is registered using the <code class="inlineCode">Scope</code> lifetime, meaning that multiple <a id="_idIndexMarker1899"/>threads can share the same instance. But <code class="inlineCode">DbContext</code> does not support multiple threads. If more than one thread attempts to use the same <code class="inlineCode">NorthwindContext</code> class instance at the same time, then you will see the following runtime exception thrown: <code class="inlineCode">A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of a DbContext, however instance members are not guaranteed to be thread safe</code>.</p>
    <p class="normal">This happens in Blazor projects with components set to run on the server side because, whenever interactions on the client side happen, a SignalR call is made back to <a id="_idIndexMarker1900"/>the server, where a single instance of the database context is shared between multiple clients. This issue does not occur if a component is set to run on the client side.</p>
    <h2 id="_idParaDest-724" class="heading-2">Creating class libraries for entity models using SQL Server</h2>
    <p class="normal">If you <a id="_idIndexMarker1901"/>would like to use SQL Server instead of SQLite, then there are instructions at the following link:</p>
    <p class="normal"><a href="https://github.com/markjprice/cs13net9/blob/main/docs/sql-server/README.md#chapter-12---introducing-web-development-using-aspnet-core">https://github.com/markjprice/cs13net9/blob/main/docs/sql-server/README.md#chapter-12---introducing-web-development-using-aspnet-core</a></p>
    <h2 id="_idParaDest-725" class="heading-2">Improving the class-to-table mapping</h2>
    <p class="normal">The <code class="inlineCode">dotnet-ef</code> command-line tool generates different code for SQL Server and SQLite <a id="_idIndexMarker1902"/>because they support different levels of functionality, and SQLite uses dynamic typing. For example, with EF Core 7, all integer columns in SQLite were mapped to nullable <code class="inlineCode">long</code> properties for maximum flexibility.</p>
    <p class="normal">With EF Core 8 and later, the actual stored values are checked, and if they are all storable in an <code class="inlineCode">int</code>, EF Core 8 and later will declare the mapped property as an <code class="inlineCode">int</code>. If the stored values are all storable in a <code class="inlineCode">short</code>, EF Core 8 and later will declare the mapped property as a <code class="inlineCode">short</code>.</p>
    <p class="normal">In this edition, we need to do less work to improve the mapping. Hooray!</p>
    <p class="normal">As another example, SQL Server text columns can have limits on the number of characters. SQLite does not support this. So <code class="inlineCode">dotnet-ef</code> will generate validation attributes to ensure that <code class="inlineCode">string</code> properties are limited to a specified number of characters for SQL Server but not for SQLite, as shown in the following code:</p>
    <pre class="programlisting code"><code class="hljs-code">// SQLite database provider-generated code.
[Column(TypeName = "nvarchar (15)")]
public string CategoryName { get; set; } = null!;
// SQL Server database provider-generated code.
[StringLength(15)]
public string CategoryName { get; set; } = null!;
</code></pre>
    <p class="normal">We will make some small changes to improve the entity model mapping and validation <a id="_idIndexMarker1903"/>rules for SQLite. Similar ones for SQL Server are in the online-only instructions.</p>
    <div><p class="normal">Remember that all code is available in the GitHub repository for the book. Although you will learn more by typing the code yourself, you never have to. Go to the following link and press <em class="keystroke">.</em> to get a live code editor in your browser: <a href="https://github.com/markjprice/cs13net9">https://github.com/markjprice/cs13net9</a>.</p>
    </div>
    <p class="normal">First, we will add a regular expression to validate that a <code class="inlineCode">CustomerId</code> value is exactly five uppercase letters. Second, we will add string length requirements to validate that multiple properties throughout the entity models know the maximum length allowed for their text values:</p>
    <ol>
      <li class="numberedList" value="1">Activate your code editor’s <strong class="screenText">Find and Replace</strong> feature:<ul>
          <li class="bulletList level-2">In Visual Studio, navigate to <strong class="screenText">Edit</strong> | <strong class="screenText">Find and Replace</strong> | <strong class="screenText">Quick Replace</strong>, and then toggle on <strong class="screenText">Use Regular Expressions</strong>.</li>
        </ul>
      </li>
      <li class="numberedList">Type a regular expression in the <strong class="screenText">Find</strong> box, as shown in <em class="italic">Figure 12.3</em> and the following expression:
        <pre class="programlisting code-one"><code class="hljs-code">\[Column\(TypeName = "(nchar|nvarchar) \((.*)\)"\)\]
</code></pre>
      </li>
      <li class="numberedList">In the <strong class="screenText">Replace </strong>box, type a replacement regular expression, as shown in the following expression:
        <pre class="programlisting code-one"><code class="hljs-code">$0\n    [StringLength($2)]
</code></pre>
      </li>
    </ol>
    <div><p class="normal">After the newline character, <code class="inlineCode">\n</code>, I have included four space characters to indent correctly on my system, which uses two space characters per indentation level. You can insert as many as you wish.</p>
    </div>
    <ol>
      <li class="numberedList" value="4">Set <strong class="screenText">Find and Replace</strong> to search files in the <strong class="screenText">Current project</strong>.</li>
      <li class="numberedList">Execute <strong class="screenText">Find and Replace</strong> to replace all files, as shown in <em class="italic">Figure 12.3</em>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B22322_12_03.png" alt="" width="812" height="421"/></figure>
    <p class="packt_figref">Figure 12.3: Find and replace all matches using regular expressions in Visual Studio</p>
    <ol>
      <li class="numberedList" value="6">Change <a id="_idIndexMarker1904"/>any date/time columns, for example, in <code class="inlineCode">Employee.cs</code>, to use a nullable <code class="inlineCode">DateTime</code> instead of a string, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">// Before:
[Column(TypeName = "datetime")]
public string? BirthDate { get; set; }
// After:
[Column(TypeName = "datetime")]
public DateTime? BirthDate { get; set; }
</code></pre>
        <div><p class="normal">Use your code editor’s <strong class="screenText">Find</strong> feature to search for <code class="inlineCode">"datetime"</code> to find all the properties that need changing. There should be two in <code class="inlineCode">Employee.cs</code> and three in <code class="inlineCode">Order.cs</code>.</p>
        </div>
      </li>
    </ol>
    <ol>
      <li class="numberedList" value="7">Change any <code class="inlineCode">money</code> columns, for example, in <code class="inlineCode">Order.cs</code>, to use a nullable <code class="inlineCode">decimal</code> instead of a <code class="inlineCode">double</code>, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">// Before:
[Column(TypeName =  "money")]
public double? Freight { get; set; }
// After:
[Column(TypeName = "money")]
public decimal? Freight { get; set; }
</code></pre>
      </li>
    </ol>
    <div><p class="normal">Use your code editor’s <strong class="screenText">Find</strong> feature to search for <code class="inlineCode">"money"</code> to find all the properties that need changing. There should be one in <code class="inlineCode">Order.cs</code>, one in <code class="inlineCode">Orderdetail.cs</code>, and one in <code class="inlineCode">Product.cs</code>.</p>
    </div>
    <ol>
      <li class="numberedList" value="8">In <code class="inlineCode">Category.cs</code>, make the <code class="inlineCode">CategoryName</code> property required, as shown highlighted <a id="_idIndexMarker1905"/>in the following code:
        <pre class="programlisting code-one"><code class="hljs-code"><strong class="hljs-slc">[</strong><strong class="hljs-meta-slc">Required</strong><strong class="hljs-slc">]</strong>
[Column(TypeName = "nvarchar (15)")]
[StringLength(15)]
public string CategoryName { get; set; }
</code></pre>
      </li>
      <li class="numberedList">In <code class="inlineCode">Customer.cs</code>, add a regular expression to validate its primary key <code class="inlineCode">CustomerId</code>, only allowing uppercase Western characters and making the <code class="inlineCode">CompanyName</code> property required, as shown highlighted in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">[Key]
[Column(TypeName = "nchar (5)")]
[StringLength(5)]
<strong class="hljs-slc">[</strong><strong class="hljs-meta-slc">RegularExpression(</strong><strong class="hljs-string-slc">"[A-Z]{5}"</strong><strong class="hljs-meta-slc">)</strong><strong class="hljs-slc">]</strong>
public string CustomerId { get; set; } = null!;
<strong class="hljs-slc">[</strong><strong class="hljs-meta-slc">Required</strong><strong class="hljs-slc">]</strong>
[Column(TypeName = "nvarchar (40)")]
[StringLength(40)]
public string CompanyName { get; set; }
</code></pre>
      </li>
      <li class="numberedList">In <code class="inlineCode">Order.cs</code>, decorate the <code class="inlineCode">CustomerId</code> property with a regular expression <a id="_idIndexMarker1906"/>to enforce five uppercase characters.</li>
      <li class="numberedList">In <code class="inlineCode">Employee.cs</code>, make the <code class="inlineCode">FirstName</code> and <code class="inlineCode">LastName</code> properties required.</li>
      <li class="numberedList">In <code class="inlineCode">Product.cs</code>, make the <code class="inlineCode">ProductName</code> property required.</li>
      <li class="numberedList">In <code class="inlineCode">Shipper.cs</code>, make the <code class="inlineCode">CompanyName</code> property required.</li>
      <li class="numberedList">In <code class="inlineCode">Supplier.cs</code>, make the <code class="inlineCode">CompanyName</code> property required.</li>
    </ol>
    <h2 id="_idParaDest-726" class="heading-2">Testing the class libraries</h2>
    <p class="normal">Now, let’s <a id="_idIndexMarker1907"/>build some unit tests to ensure that the class libraries are working correctly.</p>
    <div><p class="normal"><strong class="keyWord">Warning!</strong> If you are using the SQLite database provider, then when you call the <code class="inlineCode">CanConnect</code> method with a wrong or missing database file, the provider creates a <code class="inlineCode">Northwind.db</code> with 0 bytes! This is why it is so important that, in our <code class="inlineCode">NorthwindContext</code> class, we explicitly check if the database file exists and throw an exception when it is instantiated if it does not exist, preventing this behavior.</p>
    </div>
    <p class="normal">Let’s write the tests:</p>
    <ol>
      <li class="numberedList" value="1">Use your preferred coding tool to add a new <strong class="screenText">xUnit Test Project [C#]</strong> / <code class="inlineCode">xunit</code> project, named <code class="inlineCode">Northwind.UnitTests</code>, to the <code class="inlineCode">ModernWeb</code> solution.</li>
      <li class="numberedList">In the <code class="inlineCode">Northwind.UnitTests</code> project, add a project reference to the <code class="inlineCode">Northwind.DataContext</code> project for either SQLite or SQL Server, as shown highlighted in the following configuration:
        <pre class="programlisting code-one"><code class="hljs-code">&lt;ItemGroup&gt;
<strong class="hljs-slc">  &lt;!-- change Sqlite to SqlServer </strong><strong class="hljs-keyword-slc">if</strong><strong class="hljs-slc"> you prefer --&gt;</strong>
<strong class="hljs-slc">  &lt;ProjectReference Include=</strong><strong class="hljs-string-slc">"..\Northwind.DataContext</strong>
<strong class="hljs-string-slc">.Sqlite\Northwind.DataContext.Sqlite.csproj"</strong><strong class="hljs-slc"> /&gt;</strong>
&lt;/ItemGroup&gt;
</code></pre>
      </li>
    </ol>
    <div><p class="normal"><strong class="keyWord">Warning!</strong> The project reference must go all on one line with no line break.</p>
    </div>
    <ol>
      <li class="numberedList" value="3">If necessary, delete the version numbers specified for the testing packages <a id="_idIndexMarker1908"/>in the project file. (Visual Studio and other code editors will give errors if you have projects that should use CPM but specify their own package versions, without using the <code class="inlineCode">VersionOverride</code> attribute.)</li>
      <li class="numberedList">Build the <code class="inlineCode">Northwind.UnitTests</code> project to build referenced projects.</li>
      <li class="numberedList">Rename <code class="inlineCode">UnitTest1.cs</code> to <code class="inlineCode">EntityModelTests.cs</code>.</li>
      <li class="numberedList">Modify the contents of the file to define two tests, the first to connect to the database and the second to confirm that there are eight categories in the database, as shown in the following code:
        <pre class="programlisting code-one"><code class="hljs-code">using Northwind.EntityModels; // To use NorthwindContext.
namespace Northwind.UnitTests
{
  public class EntityModelTests
  {
    [Fact]
    public void DatabaseConnectTest()
    {
      using NorthwindContext db = new();
      Assert.True(db.Database.CanConnect());
    }
    [Fact]
    public void CategoryCountTest()
    {
      using NorthwindContext db = new();
      int expected = 8;
      int actual = db.Categories.Count();
      Assert.Equal(expected, actual);
    }
    [Fact]
    public void ProductId1IsChaiTest()
    {
      using NorthwindContext db = new();
      string expected = "Chai";
      Product? product = db.Products.Find(keyValues: 1);
      string actual = product?.ProductName ?? string.Empty;
      Assert.Equal(expected, actual);
    }
  }
}
</code></pre>
      </li>
      <li class="numberedList">Run <a id="_idIndexMarker1909"/>the unit tests:<ul>
          <li class="bulletList level-2">If you are using Visual Studio, navigate to <strong class="screenText">Test</strong> | <strong class="screenText">Run All Tests</strong>, and then view the results in <strong class="screenText">Test Explorer</strong>.</li>
          <li class="bulletList level-2">If you are using VS Code, in the <code class="inlineCode">Northwind.UnitTests</code> project’s <strong class="screenText">TERMINAL</strong> window, run the tests with the following command: <code class="inlineCode">dotnet test</code>. Alternatively, use the <strong class="screenText">TESTING</strong> window if you have installed C# Dev Kit.</li>
        </ul>
      </li>
      <li class="numberedList">Note that the results should indicate that three tests ran and all passed, as shown in <em class="italic">Figure 12.4</em>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B22322_12_04.png" alt="" width="877" height="407"/></figure>
    <p class="packt_figref">Figure 12.4: Three successful unit tests ran</p>
    <p class="normal">If any of <a id="_idIndexMarker1910"/>the tests fail, then fix the issue. For example, if you use SQLite, then check that the <code class="inlineCode">Northwind.db</code> file is in the solution directory (one up from the project directories). Check the database path in the <code class="inlineCode">northwindlog-&lt;date_time&gt;.txt</code> file in the <code class="inlineCode">book-logs</code> folder on your desktop, which should output the database path it used three times for the three tests, as shown in the following log:</p>
    <pre class="programlisting con-one"><code class="hljs-con">Database path: C:\cs13net9\ModernWeb\Northwind.db
Database path: C:\cs13net9\ModernWeb\Northwind.db
dbug: 18/09/2024 14:20:16.712 RelationalEventId.CommandExecuting[20100] (Microsoft.EntityFrameworkCore.Database.Command)
      Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT "p"."ProductId", "p"."CategoryId", "p"."Discontinued", "p"."ProductName", "p"."QuantityPerUnit", "p"."ReorderLevel", "p"."SupplierId", "p"."UnitPrice", "p"."UnitsInStock", "p"."UnitsOnOrder"
      FROM "Products" AS "p"
      WHERE "p"."ProductId" = @__p_0
      LIMIT 1
Database path: C:\cs13net9\ModernWeb\Northwind.db
dbug: 18/09/2024 14:20:16.832 RelationalEventId.CommandExecuting[20100] (Microsoft.EntityFrameworkCore.Database.Command)
      Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM "Categories" AS "c"
</code></pre>
    <p class="normal">Finally, in this <a id="_idIndexMarker1911"/>chapter, let’s review some key concepts about web development, enabling us to be better prepared to dive into ASP.NET Core Razor Pages in the next chapter.</p>
    <h1 id="_idParaDest-727" class="heading-1">Understanding web development</h1>
    <p class="normal">Developing for the web means developing <a id="_idIndexMarker1912"/>with the <strong class="keyWord">Hypertext Transfer Protocol</strong> (<strong class="keyWord">HTTP</strong>), so we will start by reviewing this important foundational technology.</p>
    <h2 id="_idParaDest-728" class="heading-2">Understanding the Hypertext Transfer Protocol</h2>
    <p class="normal">To communicate <a id="_idIndexMarker1913"/>with a web server, the client, also known as the <strong class="keyWord">user agent</strong>, makes calls over the network using HTTP. As such, HTTP is the technical <a id="_idIndexMarker1914"/>underpinning of the web. So when we talk about websites and web services, we mean that they use HTTP to communicate between a client (often a web browser) and a server.</p>
    <p class="normal">A client <a id="_idIndexMarker1915"/>makes an HTTP request to a resource, such as a page, uniquely identified by a URL, and the server sends back an HTTP response, as shown in <em class="italic">Figure 12.5</em>:</p>
    <figure class="mediaobject"><img src="img/B22322_12_05.png" alt="" width="878" height="384"/></figure>
    <p class="packt_figref">Figure 12.5: An HTTP request and response</p>
    <p class="normal">You can <a id="_idIndexMarker1916"/>use Google Chrome and other browsers to record requests and responses.</p>
    <div><p class="normal"><strong class="keyWord">Good Practice</strong>: Google Chrome is currently used by about two-thirds of website visitors worldwide, and it has powerful, built-in developer tools, so it is a good first choice for trying out your websites. Try out your websites with Chrome and at least two other browsers, for example, Firefox and Safari for macOS and iPhone, respectively. Microsoft Edge switched from using Microsoft’s own rendering engine to using Chromium in 2019, so it is less important to try out with it, although some say Edge has the best developer tools. If Microsoft’s Internet Explorer is used at all, it tends to mostly be inside organizations for intranets.</p>
    </div>
    <h2 id="_idParaDest-729" class="heading-2">Understanding the components of a URL</h2>
    <p class="normal">A <strong class="keyWord">URL</strong> is <a id="_idIndexMarker1917"/>made up of several components:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">Scheme</strong>: <code class="inlineCode">http</code> (clear text) or <code class="inlineCode">https</code> (encrypted).</li>
      <li class="bulletList"><strong class="keyWord">Domain</strong>: For a <a id="_idIndexMarker1918"/>production website or service, the <strong class="keyWord">top-level domain</strong> (<strong class="keyWord">TLD</strong>) might be <code class="inlineCode">example.com</code>. You might have subdomains such as <code class="inlineCode">www</code>, <code class="inlineCode">jobs</code>, or <code class="inlineCode">extranet</code>. During development, you typically use <code class="inlineCode">localhost</code> for all websites and services.</li>
      <li class="bulletList"><strong class="keyWord">Port number</strong>: For a production website or service, use <code class="inlineCode">80</code> for <code class="inlineCode">http</code> and <code class="inlineCode">443</code> for <code class="inlineCode">https</code>. These port numbers are usually inferred from the scheme. During development, other port numbers are commonly used, such as <code class="inlineCode">5000</code>, <code class="inlineCode">5001</code>, and so on, to differentiate between websites and <a id="_idIndexMarker1919"/>services that all use the shared domain <code class="inlineCode">localhost</code>.</li>
      <li class="bulletList"><strong class="keyWord">Path</strong>: A relative path to a resource, for example, <code class="inlineCode">/customers/germany</code>.</li>
      <li class="bulletList"><strong class="keyWord">Query string</strong>: A way to pass parameter values, for example, <code class="inlineCode">?country=Germany&amp;searchtext=shoes</code>.</li>
      <li class="bulletList"><strong class="keyWord">Fragment</strong>: A reference to an element on a web page using its <code class="inlineCode">id</code>, for example, <code class="inlineCode">#toc</code>.</li>
    </ul>
    <div><p class="normal">A URL <a id="_idIndexMarker1920"/>is a subset of a <strong class="keyWord">Uniform Resource Identifier </strong>(<strong class="keyWord">URI</strong>). A URL specifies where a resource is located and how to get it. A URI <a id="_idIndexMarker1921"/>identifies a resource either by the URL or <strong class="keyWord">URN</strong> (<strong class="keyWord">Uniform Resource Name</strong>).</p>
    </div>
    <h2 id="_idParaDest-730" class="heading-2">Using Google Chrome to make HTTP requests</h2>
    <p class="normal">Let’s <a id="_idIndexMarker1922"/>explore how to use Google Chrome to make HTTP requests:</p>
    <ol>
      <li class="numberedList" value="1">Start Google Chrome.</li>
      <li class="numberedList">Navigate to <strong class="screenText">More tools</strong> | <strong class="screenText">Developer tools</strong>.</li>
      <li class="numberedList">Click the <strong class="screenText">Network</strong> tab, and Chrome should immediately start recording the network traffic between your browser and any web servers (note the red circle), as shown in <em class="italic">Figure 12.6</em>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B22322_12_06.png" alt="" width="812" height="419"/></figure>
    <p class="packt_figref">Figure 12.6: Chrome Developer tools recording network traffic</p>
    <ol>
      <li class="numberedList" value="4">In Chrome’s address box, enter the address of Microsoft’s website for learning <a id="_idIndexMarker1923"/>ASP.NET, which is the following URL:</li>
    </ol>
    <p class="normal-one"><a href="https://dotnet.microsoft.com/en-us/learn/aspnet">https://dotnet.microsoft.com/en-us/learn/aspnet</a></p>
    <ol>
      <li class="numberedList" value="5">In <strong class="screenText">Developer Tools</strong>, in the list of recorded requests, scroll to the top and click on the first entry, the row where the <strong class="screenText">Type</strong> is <strong class="screenText">document</strong>, as shown in <em class="italic">Figure 12.7</em>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B22322_12_07.png" alt="" width="812" height="306"/></figure>
    <p class="packt_figref">Figure 12.7: Recorded requests in Developer Tools</p>
    <ol>
      <li class="numberedList" value="6">On the right-hand side, click on the <strong class="screenText">Headers</strong> tab, and you will see details about <strong class="screenText">Request Headers</strong> and <strong class="screenText">Response Headers</strong>, as shown in <em class="italic">Figure 12.8</em>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B22322_12_08.png" alt="" width="812" height="557"/></figure>
    <p class="packt_figref">Figure 12.8: Request and response headers</p>
    <p class="normal-one">Note <a id="_idIndexMarker1924"/>the following aspects:</p>
    <ul>
      <li class="bulletList level-2"><strong class="keyWord">Request Method</strong> is <code class="inlineCode">GET</code>. Other <a id="_idIndexMarker1925"/>HTTP methods that you could see here include <code class="inlineCode">POST</code>, <code class="inlineCode">PUT</code>, <code class="inlineCode">DELETE</code>, <code class="inlineCode">HEAD</code>, and <code class="inlineCode">PATCH</code>.</li>
      <li class="bulletList level-2"><strong class="keyWord">Status Code</strong> is <code class="inlineCode">200</code> OK. This <a id="_idIndexMarker1926"/>means that the server found the resource that the browser requested and has returned it in the body of the response. Other status codes that you might see in response to a <code class="inlineCode">GET</code> request include <code class="inlineCode">301 Moved Permanently</code>, <code class="inlineCode">400 Bad Request</code>, <code class="inlineCode">401 Unauthorized</code>, and <code class="inlineCode">404 Not Found</code>.</li>
      <li class="bulletList level-2"><strong class="keyWord">Request Headers</strong> sent <a id="_idIndexMarker1927"/>by the browser to the web server include:<ul>
          <li class="bulletList level-3"><code class="inlineCode">accept</code>, which lists what formats the browser accepts. In this case, the browser is saying it understands HTML, XHTML, XML, and some image formats, but it will accept all other files (<code class="inlineCode">*/*</code>). Default weightings, also known as quality values, are <code class="inlineCode">1.0</code>. XML is specified with a quality value of <code class="inlineCode">0.9</code>, so it is less preferable than HTML or XHTML. All other file types are given a quality value of <code class="inlineCode">0.8</code> so are least preferred.</li>
          <li class="bulletList level-3"><code class="inlineCode">accept-encoding</code>, which lists what compression algorithms the browser understands – in this case, GZIP, DEFLATE, and Brotli.</li>
          <li class="bulletList level-3"><code class="inlineCode">accept-language</code>, which lists the human languages it would prefer the content to use – in this case, US English, which has a default quality value of <code class="inlineCode">1.0</code>; any dialect of English, which has an explicitly specified quality value of <code class="inlineCode">0.9</code>; and then any dialect of Swedish, which has an explicitly specified quality value of <code class="inlineCode">0.8</code>.</li>
        </ul>
      </li>
      <li class="bulletList level-2"><strong class="keyWord">Response Headers</strong> (<code class="inlineCode">content-encoding)</code>, which tells me that the server <a id="_idIndexMarker1928"/>has sent <a id="_idIndexMarker1929"/>back the HTML web page response compressed using the <code class="inlineCode">gzip</code> algorithm, as it knows that the client can decompress that format. (This is not visible in <em class="italic">Figure 12.8</em> because there is not enough space to expand the <strong class="keyWord">Response Headers</strong> section.)</li>
    </ul>
    <ol>
      <li class="numberedList" value="7">Close Chrome.</li>
    </ol>
    <h2 id="_idParaDest-731" class="heading-2">Understanding client-side web development technologies</h2>
    <p class="normal">When building websites, a developer needs to know more than just C# and .NET. On <a id="_idIndexMarker1930"/>the client (that is, in the web browser), you will use a combination of the following technologies:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">HTML5</strong>: This <a id="_idIndexMarker1931"/>is used for the content and structure of a web page.</li>
      <li class="bulletList"><strong class="keyWord">CSS3</strong>: This <a id="_idIndexMarker1932"/>is used for the styles applied to elements on the web page.</li>
      <li class="bulletList"><strong class="keyWord">JavaScript</strong>: This <a id="_idIndexMarker1933"/>is used to code any business logic needed on the web page, for example, validating form input or making calls to a web service to fetch more data needed by the web page.</li>
    </ul>
    <p class="normal">Although HTML5, CSS3, and JavaScript are the fundamental components of frontend web development, there are many additional technologies that can make frontend web development more productive, including:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">Bootstrap</strong>, the <a id="_idIndexMarker1934"/>world’s most popular frontend open source toolkit</li>
      <li class="bulletList"><strong class="keyWord">SASS</strong> and <strong class="keyWord">LESS</strong>, CSS <a id="_idIndexMarker1935"/>preprocessors <a id="_idIndexMarker1936"/>for styling</li>
      <li class="bulletList">Microsoft’s <strong class="keyWord">TypeScript</strong> language for <a id="_idIndexMarker1937"/>writing <a id="_idIndexMarker1938"/>more robust code</li>
      <li class="bulletList">JavaScript <a id="_idIndexMarker1939"/>libraries <a id="_idIndexMarker1940"/>such as <strong class="keyWord">Angular</strong>, <strong class="keyWord">jQuery</strong>, <strong class="keyWord">React</strong>, and <strong class="keyWord">Vue</strong></li>
    </ul>
    <p class="normal">All these higher-level <a id="_idIndexMarker1941"/>technologies ultimately translate or compile to the underlying three core technologies, so they work across all modern browsers.</p>
    <p class="normal">As part of the build and deploy process, you will likely use technologies such as:</p>
    <ul>
      <li class="bulletList"><strong class="keyWord">Node.js</strong>, a framework <a id="_idIndexMarker1942"/>for server-side development using JavaScript</li>
      <li class="bulletList"><strong class="keyWord">Node Package Manager</strong> (<strong class="keyWord">npm</strong>) and <strong class="keyWord">Yarn</strong>, both <a id="_idIndexMarker1943"/>client-side <a id="_idIndexMarker1944"/>package managers</li>
      <li class="bulletList"><strong class="keyWord">webpack</strong>, a popular <a id="_idIndexMarker1945"/>module bundler and a tool for compiling, transforming, and bundling website source files</li>
    </ul>
    <h1 id="_idParaDest-732" class="heading-1">Practicing and exploring</h1>
    <p class="normal">Test your knowledge and understanding by answering some questions and exploring this chapter’s topics with deeper research.</p>
    <h2 id="_idParaDest-733" class="heading-2">Exercise 12.1 – Online material</h2>
    <p class="normal">Online materials can be extra content written by me for this book, or it can be references to content created by Microsoft or third parties.</p>
    <p class="normal">One of the best sites for learning client-side web development is W3Schools, found at the following link: <a href="https://www.w3schools.com/">https://www.w3schools.com/</a>.</p>
    <p class="normal">A summary of what’s new with ASP.NET Core 9 can be found at the following link:</p>
    <p class="normal"><a href="https://learn.microsoft.com/en-us/aspnet/core/release-notes/aspnetcore-9.0">https://learn.microsoft.com/en-us/aspnet/core/release-notes/aspnetcore-9.0</a></p>
    <p class="normal">Microsoft’s official recommendation for how to choose an ASP.NET Core web UI can be found here:</p>
    <p class="normal"><a href="https://learn.microsoft.com/en-us/aspnet/core/tutorials/choose-web-ui">https://learn.microsoft.com/en-us/aspnet/core/tutorials/choose-web-ui</a></p>
    <p class="normal">Microsoft’s official recommendation for ASP.NET Core best practices can be found here:</p>
    <p class="normal"><a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/best-practices">https://learn.microsoft.com/en-us/aspnet/core/fundamentals/best-practices</a></p>
    <h2 id="_idParaDest-734" class="heading-2">Exercise 12.2 – Practice exercises</h2>
    <p class="normal">Practice exercises go deeper into the topics for this chapter.</p>
    <h3 id="_idParaDest-735" class="heading-3">Troubleshooting web development</h3>
    <p class="normal">It is common to have temporary issues with web development because there are so many moving parts. Sometimes, variations of the classic “turn it off and on again” can fix these!</p>
    <ol>
      <li class="numberedList" value="1">Delete the project’s <code class="inlineCode">bin</code> and <code class="inlineCode">release</code> folders.</li>
      <li class="numberedList">Restart the web server to clear its caches.</li>
      <li class="numberedList">Reboot the computer.</li>
    </ol>
    <h2 id="_idParaDest-736" class="heading-2">Exercise 12.3 – Test your knowledge</h2>
    <p class="normal">Answer the following questions:</p>
    <ol>
      <li class="numberedList" value="1">What was the name of Microsoft’s first dynamic server-side-executed web page technology, and why is it still useful to know this history today?</li>
      <li class="numberedList">What are the names of two Microsoft web servers?</li>
      <li class="numberedList">What are some differences between a microservice and a nanoservice?</li>
      <li class="numberedList">What is Blazor?</li>
      <li class="numberedList">What was the first version of ASP.NET Core that could not be hosted on .NET Framework?</li>
      <li class="numberedList">What is a user agent?</li>
      <li class="numberedList">What impact does the HTTP request-response communication model have on web developers?</li>
      <li class="numberedList">Name and describe four components of a URL.</li>
      <li class="numberedList">What capabilities do developer tools give you?</li>
      <li class="numberedList">What are the three main client-side web development technologies, and what do they do?</li>
    </ol>
    <h3 id="_idParaDest-737" class="heading-3">Know your webbreviations</h3>
    <p class="normal">What do the following web abbreviations stand for, and what do they do?</p>
    <ol>
      <li class="numberedList" value="1">URI</li>
      <li class="numberedList">URL</li>
      <li class="numberedList">WCF</li>
      <li class="numberedList">TLD</li>
      <li class="numberedList">API</li>
      <li class="numberedList">SPA</li>
      <li class="numberedList">CMS</li>
      <li class="numberedList">Wasm</li>
      <li class="numberedList">SASS</li>
      <li class="numberedList">REST</li>
    </ol>
    <h2 id="_idParaDest-738" class="heading-2">Exercise 12.4 – Explore topics</h2>
    <p class="normal">Use the links on the following page to learn more details about the topics covered in this chapter:</p>
    <p class="normal"><a href="https://github.com/markjprice/cs13net9/blob/main/docs/book-links.md#chapter-12---introducing-web-development-using-aspnet-core">https://github.com/markjprice/cs13net9/blob/main/docs/book-links.md#chapter-12---introducing-web-development-using-aspnet-core</a></p>
    <h1 id="_idParaDest-739" class="heading-1">Summary</h1>
    <p class="normal">In this chapter, you have:</p>
    <ul>
      <li class="bulletList">Been introduced to some of the app models that you can use to build websites and web services using C# and .NET</li>
      <li class="bulletList">Created class libraries to define an entity data model for working with the Northwind database, using SQLite, SQL Server, or both</li>
    </ul>
    <p class="normal">In the following chapters, you will learn the details of how to build the following:</p>
    <ul>
      <li class="bulletList">Simple websites using static HTML pages and dynamically generated Blazor static SSR pages</li>
      <li class="bulletList">Blazor user interface components that can be hosted on a web server, in the browser, or on hybrid web-native mobile and desktop apps</li>
      <li class="bulletList">Web services that can be called by any platform that can make an HTTP request, as well as client websites that call those web services</li>
    </ul>
    <h1 class="heading-1">Learn more on Discord</h1>
    <p class="normal">To join the Discord community for this book – where you can share feedback, ask questions to the author, and learn about new releases – follow the QR code below:</p>
    <p class="normal"><a href="https://packt.link/csharp13dotnet9">https://packt.link/csharp13dotnet9</a></p>
    <p class="normal"><img src="img/QR_Code281224304227278796.png" alt="" width="177" height="177"/></p>
    <h1 class="heading-1">Leave a Review!</h1>
    <p class="normal">Thank you for purchasing this book from Packt Publishing—we hope you enjoy it! Your feedback is invaluable and helps us improve and grow. Once you’ve completed reading it, please take a moment to leave an Amazon review; it will only take a minute, but it makes a big difference for readers like you.</p>
    <p class="normal">Scan the QR or visit the link to receive a free ebook of your choice.</p>
    <p class="normal"><a href="https://packt.link/NzOWQ">https://packt.link/NzOWQ</a></p>
    <p class="normal"><img src="img/review1.png" alt="A qr code with black squares  Description automatically generated" width="150" height="150"/></p>
  </div>
</div></div></body></html>