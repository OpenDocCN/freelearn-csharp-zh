<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Know What is Possible – The Cinder Toolset</h1></div></div></div><p>This chapter introduces various basic tasks that can be performed with Cinder through compiling, running, changing, and discussing some of the sample applications.</p><p>We have already tested our setup by compiling and running the QuickTime sample application. Now, we are going to see what is possible with Cinder by compiling other samples and discussing what is so special about them.</p><p>We will go through samples that show most of the functionalities that will be discussed throughout this book. There will be many parts that are not clear and not easy to explain yet, but do not worry, we will try to understand them during the following chapters.</p><p>Here is a list of some of the examples that we are going to discuss. Go to your Cinder samples folder <code class="literal">(/Users/You/cinder/samples/</code> on Mac OS X and <code class="literal">C:\cinder\samples\</code> on Windows, if you have followed the tutorial in the previous chapter).</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">BasicApp (<code class="literal">samples/basicApp</code>)</li><li class="listitem" style="list-style-type: disc">BezierPath (<code class="literal">samples/bezierPath</code>)</li><li class="listitem" style="list-style-type: disc">CairoBasic (<code class="literal">samples/CairoBasic</code>)</li><li class="listitem" style="list-style-type: disc">CaptureTest (<code class="literal">samples/captureTest</code>)</li><li class="listitem" style="list-style-type: disc">EaseGallery (<code class="literal">samples/EaseGallery</code>)</li><li class="listitem" style="list-style-type: disc">TextBox (<code class="literal">samples/TextBox</code>)</li><li class="listitem" style="list-style-type: disc">ArcballDemo (<code class="literal">samples/ArcballDemo</code>)</li><li class="listitem" style="list-style-type: disc">Earthquake (<code class="literal">samples/Earthquake</code>)</li><li class="listitem" style="list-style-type: disc">AudioGenerative (<code class="literal">samples/AudioGenerative</code>)</li></ul></div><div><div><div><div><h1 class="title"><a id="ch02lvl1sec14"/>BasicApp</h1></div></div></div><p>Go to your Cinder <a class="indexterm" id="id48"/>samples folder (<code class="literal">/Users/You/cinder/samples/</code> on MAC and <code class="literal">C:\cinder\samples\</code> on Windows, if you have followed the <a class="indexterm" id="id49"/>tutorial in the previous chapter).</p><p>There will be a folder with the name <code class="literal">BasicApp</code>. Take a look at what's there inside. If you are a Mac OS X user, open the project file at <code class="literal">xcode/basicApp.xcodeproj</code>. Windows users should open the project file from <code class="literal">vc10\basicApp.sln</code>. Compile and run the project.</p><div><img alt="BasicApp" src="img/9781849519564_02_01.jpg"/></div><p>As we can see, a window with a black background appears. It seems that there is nothing there except pure blackness and an infinite void. But that's not true! Grab your mouse and try to fill the void by pointing and clicking-and-dragging anywhere on the black surface of the application window. An Orange line appears. Yes, it is a very basic drawing program that allows you to draw a continuous line. Line is one of the basic 2D geometric shapes that can be created with Cinder.</p><p>Let's try to change the color of the line. Close the window and click on the <code class="literal">basicApp.cpp</code> file<a class="indexterm" id="id50"/> located in the Source directory of the sample project found in the project navigator or project file tree browser of the chosen IDE. Navigate to a place in the code where you can see the following:</p><div><pre class="programlisting">void BasicApp::draw()
{</pre></div><p>This is the place where the actual drawing procedures of the program are defined. Go to the following lines of code:</p><div><pre class="programlisting">// We'll set the color to orange
glColor3f( 1.0f, 0.5f, 0.25f );</pre></div><p>This is <a class="indexterm" id="id51"/>the place <a class="indexterm" id="id52"/>where the color of the line can be changed. It is done by using a function called <code class="literal">glColor3f</code>. From the name of the function it is possible to tell that it uses OpenGL, changes color, and uses three <code class="literal">float</code> values for that. It is known that RGB color values consist of three components that are R (red), G (green), and B (blue). In this function, <code class="literal">0.0</code> is the minimal possible value for each component and <code class="literal">1.0</code> is the maximum.</p><p>Let's change the color of the line to red. We will need to set the red component of the color to maximum (<code class="literal">1.0</code>) and all others to minimum (<code class="literal">0.0</code>). So it will look like the following:</p><div><pre class="programlisting">glColor3f( 1.0f, 0.0f, 0.0f );</pre></div><p>The reason why we use the <em>dot-zero-f</em> notation<a class="indexterm" id="id53"/> is that we want to tell the compiler that we are passing floating-point constants to the function. I will not dig into this here, as there are a lot of online resources about that on the Internet.</p><p>Now save, compile, run, and draw. Well done! You made your first custom line of code with Cinder! Let's continue with another example right away!</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec15"/>BezierPath</h1></div></div></div><p>Now, we are ready <a class="indexterm" id="id54"/>for a little bit more of a complicated example that will allow <a class="indexterm" id="id55"/>you to draw a continuous Bézier curve. Bézier curves are called so because of a french engineer Pierre Bézier who actually patented and made them popular by applying them in designs. Bézier curves are widely used in computer graphics, animations, and other fields. The concept of Bézier curves allows us to create parametric curved lines by using the Cartesian coordinate system and numbers.</p><p>Go to your Cinder samples folder (<code class="literal">/Users/You/cinder/samples/</code> on Mac OS X and <code class="literal">C:\cinder\samples\</code> if you use Windows).</p><p>Go to the folder named <code class="literal">bezierPath</code>. Open <code class="literal">xcode/bezierPath.xcodeproj</code>, if you are a Mac OS X user (<code class="literal">vc10\bezierPath.sln</code>, if you are using Windows). Compile and run the project.</p><div><img alt="BezierPath" src="img/9781849519564_02_02.jpg"/></div><p>Click-and-drag <a class="indexterm" id="id56"/>to place points on the surface of the window. You will start to see the line after the second click. By moving the mouse while you hold it down, you can control the curvature of the line segment that is being drawn. Play around a bit to get a better understanding about how Bézier curves work.</p><p>To add some extra geek-fun to the process, let's change something as we did in the previous example. Close the application window and open the file <code class="literal">bezierPathApp.cpp</code> in the editor. Let's assume that we don't like the circles that are drawn on the screen to indicate the points that <a class="indexterm" id="id57"/>form the path—we want to draw rectangles instead. Navigate to a block of code that looks like the following code snippet:</p><div><pre class="programlisting">// draw the control points
gl::color( Color( 1.0f, 1.0f, 0.0f ) );
for( size_t p = 0; p &lt; mPath.getNumPoints(); ++p )
gl::drawSolidCircle( mPath.getPoint( p ), 2.5f );</pre></div><p>As you can see in the comment in the preceding block, this block is responsible for drawing the control points. It sets the color of the next thing to be drawn (or circle in this case) with the help of the following line:</p><div><pre class="programlisting">gl::color( Color( 1.0f, 1.0f, 0.0f ) );</pre></div><p>This uses a <code class="literal">for</code> loop to iterate through all the data in the <code class="literal">mPath</code> object. Circles are drawn with the help of the following line:</p><div><pre class="programlisting">gl::drawSolidCircle( mPath.getPoint( p ), 2.5f );</pre></div><p>Just by looking at the function name we can tell that it draws circles. <code class="literal">gl::</code> tells us that this function resides in the Cinder OpenGL namespace (Cinder uses namespaces a lot, and that makes its code more readable indeed), <code class="literal">draw</code> tells us that it draws something, <code class="literal">solid</code> means that this function draws something solid, and <code class="literal">circle</code> concludes this by making it clear that with the help of OpenGL a solid circle will be drawn.</p><p>Two parameters are passed to the function. The first one is a point object that holds x and y coordinate values and the other one defines the radius of the circle being drawn in pixels.</p><p>Let's start by<a class="indexterm" id="id58"/> changing the radius of the circle. Change <code class="literal">2.5f</code> to <code class="literal">10.0f</code> so that it looks like the following:</p><div><pre class="programlisting">gl::drawSolidCircle( mPath.getPoint( p ), 10.0f );</pre></div><p>Build and run the project to see the change! Hmm, interesting! It is indeed! But let's not celebrate yet, remember, we wanted to change the circle into a rectangle. We will use a function defined as follows:</p><div><pre class="programlisting">gl::drawSolidRect( const Rectf &amp;rect, bool textureRectangle=false );</pre></div><p>As the name of the <a class="indexterm" id="id59"/>function tells us, this function draws a solid rectangle. We have to provide a parameter to the function though. Just one parameter is required (the other one is optional and set to <code class="literal">false</code> by default) and that has to be of the type <code class="literal">Rectf</code>. A <code class="literal">Rectf</code> consisting of four values. The first two values define the upper-right corner of the rectangle and the other two define the location of the bottom-right corner. It is a bit different in most drawing APIs, as usually this kind of object is defined by passing in the x and y coordinates of the top-left corner and the width and height of the rectangle. Not this time. So we have to pass something like the following:</p><div><pre class="programlisting">Rectf( float x1, float y1, float x2, float y2 )</pre></div><p>Where <code class="literal">x1</code> is the x coordinate of the top-left corner, <code class="literal">y1</code> is the y coordinate of the top-left corner, and <code class="literal">x2</code> and <code class="literal">y2</code> define where the bottom-right corner should be on the screen.</p><div><div><h3 class="title"><a id="note03"/>Note</h3><p>This is just one of the five <code class="literal">Rectf</code> (or <code class="literal">RectT</code>) constructors in Cinder. If you want to see other ones, take a look in the Cinder online reference at <a class="ulink" href="http://libcinder.org/docs/v0.8.4/classcinder_1_1_rect_t.html">http://libcinder.org/docs/v0.8.4/classcinder_1_1_rect_t.html</a>.</p></div></div><p>By analyzing the point drawing function (<code class="literal">gl::drawSolidCircle( mPath.getPoint( p ), 10.0f );</code>), we get a piece of code that represents an object that holds the x and y coordinates of the current control point:</p><div><pre class="programlisting">mPath.getPoint(p)</pre></div><p>We can access the x and y coordinates by writing:</p><div><pre class="programlisting">mPath.getPoint(p).x</pre></div><p>And</p><div><pre class="programlisting">mPath.getPoint(p).y</pre></div><p>Let's construct our rectangle:</p><div><pre class="programlisting">Rectf( mPath.getPoint(p).x, mPath.getPoint(p).y,
  mPath.getPoint(p).x+10.0f, mPath.getPoint(p).y+10.0f )</pre></div><div><img alt="BezierPath" src="img/9781849519564_02_03.jpg"/></div><p>The number <a class="indexterm" id="id60"/>constant <code class="literal">10.0f</code> in the <a class="indexterm" id="id61"/>preceding piece of code represents the width and height of the rectangle. As we want the width and height to be equal, we use equal values here. The following is the final code:</p><div><pre class="programlisting">// draw the control points
gl::color( Color( 1.0f, 1.0f, 0.0f ) );
for( size_t p = 0; p &lt; mPath.getNumPoints(); ++p ) {
  gl::drawSolidRect( Rectf( mPath.getPoint(p).x,
  mPath.getPoint(p).y, mPath.getPoint(p).x+10.0f,
  mPath.getPoint(p).y+10.0f ) );
}</pre></div><p>Build and run the project. What you will see is that rectangles are drawn next to the actual control points, not on them as it should be. Let's fix that:</p><div><pre class="programlisting">for( size_t p = 0; p &lt; mPath.getNumPoints(); ++p ) {
  gl::drawSolidRect( Rectf( mPath.getPoint(p).x-5.0f,
  mPath.getPoint(p).y-5.0f, mPath.getPoint(p).x+5.0f,
  mPath.getPoint(p).y+5.0f ) );
}</pre></div><p>As you can <a class="indexterm" id="id62"/>see, we changed all the <code class="literal">10.0f</code>' values to <code class="literal">5.0f</code> and subtracted <code class="literal">5.0f</code> from <a class="indexterm" id="id63"/>the first two parameters of the rectangle constructor. By doing that we moved the top-left corner of the rectangle to left by the half of its width and up by the half of its height (5 pixels), while keeping the same width and height (10 pixels).</p><p>Build and run the project, and as you can see, now the rectangle is in its right place.</p><p>Maybe this is a bit too complicated in the beginning, but the more you do these kind of adjustments the more you learn. We won't be making any more changes during the rest of this chapter.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec16"/>CairoBasic</h1></div></div></div><p>Have you <a class="indexterm" id="id64"/>ever <a class="indexterm" id="id65"/>dreamt of creating generative print artwork that could be printed in any size without losing quality? Meet Cairo.</p><p>Cairo<a class="indexterm" id="id66"/> is a vector-graphics software library that allows you to draw all the crazy vector stuff that can be done in software, such as Illustrator, and it allows us to save it as a separate vector-graphics file. If you want to know more about Cairo itself, visit it <a class="indexterm" id="id67"/>website (<a class="ulink" href="http://cairographics.org/">http://cairographics.org/</a>).</p><p>Let's try this out! Search for the <code class="literal">CairoBasic</code> folder in the <code class="literal">samples</code> directory. Open <code class="literal">xcode/CairoBasic.xcodeproj</code> (<code class="literal">vc10\CairoBasic.sln</code>, if you're on Windows). Build and run the project. Nothing special seems to be there except a radial gradient background. But try to click on it! A flower. Click again! Random flowers. Try to fill the entire screen with them—you can smell the aroma, right?</p><div><img alt="CairoBasic" src="img/9781849519564_02_04.jpg"/></div><p>Ok, that's<a class="indexterm" id="id68"/> enough. Close the <a class="indexterm" id="id69"/>application window. So, what did just happen? To understand this open the file <code class="literal">CairoBasicApp.cpp</code> <a class="indexterm" id="id70"/>in your code editor. I won't explain it yet, but it is possible to see that there is not very much code in it. Go to a block of code that looks like the following:</p><div><pre class="programlisting">void CairoBasicApp::keyDown( KeyEvent event )
{</pre></div><p>This is a method of the main application class that does something when we press a key on the keyboard. We can see that it is possible to make the application fullscreen, if we press <em>F</em>, and then there is something defined for letters <em>S</em>, <em>E</em>, <em>P</em>, and <em>D</em>—what is it? If you press one of these buttons, you save the ready image in a file, but the file format of this file will be a vector one. As you can see, if you press <em>S</em>, you get a SVG file, for <em>E</em> you get an EPS, for <em>P</em> you get a PS or PostScript file, and for <em>D</em> you get a PDF.</p><p>Try it out! Build and run the application again, create your artwork, and press <em>S</em>, <em>E</em>, <em>P</em>, and <em>D</em> one after another. Then go to your home folder (<code class="literal">/Users/You/</code> on MAC and <code class="literal">C:\Users\You</code> on Windows) and you will see that there are four new files:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">CairoBasicShot.svg</code><a class="indexterm" id="id71"/></li><li class="listitem" style="list-style-type: disc"><code class="literal">CairoBasicShot.eps</code><a class="indexterm" id="id72"/></li><li class="listitem" style="list-style-type: disc"><code class="literal">CairoBasicShot.ps</code><a class="indexterm" id="id73"/></li><li class="listitem" style="list-style-type: disc"><code class="literal">CairoBasicShot.pdf</code><a class="indexterm" id="id74"/></li></ul></div><p>Try to open one of these files with your favorite vector-graphics software.</p><div><div><h3 class="title"><a id="note04"/>Note</h3><p>You can open the <code class="literal">CairoBasicShot.svg</code> file with your web browser as well. That means you do not need to convert vector-graphics to a format such as JPG or PNG, if you want to use it on the web—you can use it in the SVG vector file format right away.</p></div></div><p>Yes, it is true, you can zoom in to<a class="indexterm" id="id75"/> infinity and the details remain crisp and clear. That is the power of vector-graphics! Now you can post-process and print that 1 m x 1 m generative flower poster in 300 dpi without losing any detail. Cool, isn't it? And you can do so much more except just printing your artwork—you can use it as a base for physical <a class="indexterm" id="id76"/>objects to be made with a laser cutter or a CNC mill, for example.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec17"/>CaptureTest</h1></div></div></div><p>In the first chapter, we <a class="indexterm" id="id77"/>saw <a class="indexterm" id="id78"/>that Cinder is capable of loading and playing back video files. So, how about using real-time footage? This sample application shows that it is possible to access video from a webcam that is connected to your computer.</p><p>Go search for a folder called <code class="literal">captureTest</code> (<code class="literal">CaptureBasic</code> in Cinder 0.8.5) in the <code class="literal">samples</code> directory. Open <code class="literal">xcode/captureTest.xcodeproj</code> (<code class="literal">vc10\captureTest.sln</code>, if you're using Windows). Build and run the project. Wait a bit, you should see the moving image from your camera.</p><div><img alt="CaptureTest" src="img/9781849519564_02_05.jpg"/></div><p>There is<a class="indexterm" id="id79"/> nothing <a class="indexterm" id="id80"/>much more about this sample, it just captures and displays the image of the webcam. You can use this real-time data in many different ways later.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec18"/>EaseGallery</h1></div></div></div><p>As we are going to do <a class="indexterm" id="id81"/>some<a class="indexterm" id="id82"/> animation with Cinder, it would be nice to just see some of the possibilities Cinder provides us for that. Go on and open up the folder named <code class="literal">EaseGallery</code> in the <code class="literal">samples</code> directory. Open <code class="literal">xcode/EaseGallery.xcodeproj</code> (<code class="literal">vc10\EaseGallery.sln</code>, if you are a Windows user). Build and run the project.</p><div><img alt="EaseGallery" src="img/9781849519564_02_06.jpg"/></div><p>If you are <a class="indexterm" id="id83"/>familiar with <a class="indexterm" id="id84"/>some kind of animation software or the <a class="indexterm" id="id85"/>TweenLite ActionScript library, you might remember a term called <em>easing</em>. This is what the EaseGallery example is about. Here you can see all the different animation easing algorithms that Cinder provides. We will dig a bit deeper into this later, but for now you just have to remember that there are such functions and you won't have to search for them in the darkest places of the Internet or implement them by yourself.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec19"/>TextBox</h1></div></div></div><p>Cinder has a <a class="indexterm" id="id86"/>very <a class="indexterm" id="id87"/>good text support—even for those whose native language alphabets consist of non-English alphabet characters.</p><div><img alt="TextBox" src="img/9781849519564_02_07.jpg"/></div><p>Let's <a class="indexterm" id="id88"/>search for a <a class="indexterm" id="id89"/>folder named <code class="literal">TextBox</code> in the <code class="literal">samples</code> directory. Open <code class="literal">xcode/TextBox.xcodeproj</code> (<code class="literal">vc10\TextBox.sln</code>, if you are a Windows user). Build and run the project. Click anywhere in the window. When you click-and-drag, the text box changes its width. Even more, the text inside it wraps accordingly. A rectangle that represents the full width and height of the space the text occupies is being drawn behind it.</p><p>Let's close the window and try to make some changes (yes I lied, we are making changes again) to the application. Open <code class="literal">TextBoxApp.cpp</code> and find a block of code that looks like the following:</p><div><pre class="programlisting">void TextBoxApp::render()
{
  string txt = "Here is some text that is larger than can fit 
  naturally inside of 100 pixels.\nAnd here is another line after 
  a hard break.";</pre></div><p>Try to change the text within the quotes (don't be afraid to use unicode characters):</p><div><pre class="programlisting">string txt = "Hi, that's me, Ratman!\nWhere is Mickey Mouse?";</pre></div><p>Save the file, and build and run the project again. If you used unicode characters, you will be positively surprised—all the characters are there!</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec20"/>ArcballDemo</h1></div></div></div><p>This sample <a class="indexterm" id="id90"/>demonstrates <a class="indexterm" id="id91"/>the basic 3D capabilities of Cinder. Go to the <code class="literal">ArcballDemo</code> directory in the <code class="literal">samples</code> folder and open <code class="literal">xcode/ArcballDemo.xcodeproj</code> (<code class="literal">vc10\ArcBallDemo.sln</code>, if you are using Windows).</p><div><img alt="ArcballDemo" src="img/9781849519564_02_08.jpg"/></div><p>A strange image appears within the application window. Don't worry, just click-and-drag. You will notice that it is a 3D cube. I won't explain other things that were meant to demonstrate through this demo, but the important thing to know is that rendering (of the default Open GL render mode) in Cinder is done by using Open GL<a class="indexterm" id="id92"/> and that means that you can render 2D images, as well as 3D space.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec21"/>Earthquake</h1></div></div></div><p>If you open up <a class="indexterm" id="id93"/>this <a class="indexterm" id="id94"/>example, you will see how much detail you can get with real-time 3D graphics in Cinder. Find the <code class="literal">Earthquake</code> directory in the <code class="literal">samples</code> folder, open <code class="literal">xcode/Earthquake.xcodeproj</code> (<code class="literal">vc10\Earthquake.sln</code>, if you are using Windows). Build and run the application.</p><div><img alt="Earthquake" src="img/9781849519564_02_09.jpg"/></div><p>What you<a class="indexterm" id="id95"/> should see is a 3D model of the earth and red cones with numbers on them. You can rotate it by moving your mouse and zooming in and out by using your <a class="indexterm" id="id96"/>mousewheel.</p><p>Real-time interactive 3D application, isn't it awesome?</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec22"/>AudioGenerative</h1></div></div></div><p>Welcome to the <a class="indexterm" id="id97"/>world of generative audio! This application<a class="indexterm" id="id98"/> sample will show you some possibilities of real-time audio-visual world.</p><p>Find the folder named <code class="literal">AudioGenerative</code> in the Cinder <code class="literal">samples</code> directory. Open up the project file <code class="literal">xcode/AudioGenerative.xcodeproj</code> (<code class="literal">vc10\AudioGenerative.sln</code>, if you are using Windows). Build and run the application. Turn up the volume, but don't be afraid! It's just a sine wave. Try to move your mouse up and down above the application window—you will change the frequency of the sound by doing that.</p><div><img alt="AudioGenerative" src="img/9781849519564_02_10.jpg"/></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec23"/>Summary</h1></div></div></div><p>So we went through just a couple of samples that are included in the Cinder samples package. There are more, and one of the best ways you can learn about Cinder is to go through all the examples, try to change some parts of them, and try to understand how that works.</p><p>The discussion about the examples here was meant to be as an intro to the Cinder features that will be discussed in the next chapters. I recommend trying to compile and run all the samples so that you get as broad understanding about Cinder features as possible.</p></div></body></html>