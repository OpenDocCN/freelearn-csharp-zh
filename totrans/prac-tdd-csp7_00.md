# 前言

随着软件项目规模和复杂性的增长，维护它们往往变得更加困难、耗时且昂贵。通过测试驱动开发（TDD），你可以学会开发可测试、可扩展和可维护的软件应用程序。

# 这本书面向谁

这本书面向那些对 TDD 只有初步了解且希望全面了解 TDD 如何为他们和他们的应用程序带来益处的软件开发人员。那些对 C#和.NET 框架有中级理解或对 JavaScript 和 React 有深入理解的软件开发人员可能会跟随书中使用的所有代码示例。

# 这本书涵盖的内容

本书涵盖了从为什么 TDD 很重要到设置测试环境，以及如何开始测试绿色应用程序的所有内容。随着读者的熟悉程度提高，他们将被介绍到更高级的 TDD 主题，如抽象第三方代码、从 TDD 角度解决问题，以及如何处理没有考虑可测试性的遗留代码。

第一章，*为什么 TDD 很重要*，询问什么是 TDD 以及为什么你应该关心？在这一章中，你将了解 TDD 是什么以及为什么它很重要。将提出一个令人信服的 TDD 论点，并展示其好处，更重要的是，展示其执行过程。

第二章，*设置.NET 测试环境*，解释了如何设置你的 IDE 并配置测试框架，以便你能够轻松地在 C#和.NET 中运行测试，包括 Speaker Meet API 的更多细节和更多复杂性的示例。

第三章，*设置 JavaScript 环境*，配置 JavaScript 测试框架，以便你可以在 IDE 中轻松运行测试。它提供了更多细节和更多关于 Speaker Meet React 应用程序增长复杂性的示例。

第四章，*开始之前需要了解的内容*，更深入地探讨了 TDD 的为什么和怎么做。你将学习定义和测试边界以及抽象第三方代码（包括.NET 框架）的重要性，你还将发现更高级的概念，如间谍、模拟和伪造，以及如何避免过程中的陷阱。

第五章，*Tabula Rasa - 带着 TDD 思维接近一个应用程序*，解释了如何开始一个新的应用程序。你将应用之前章节中学到的知识，并以 Speaker Meet 为例，采用同样的方法来处理一个完整规模的应用程序。

第六章，*解决问题的方式*，将整体应用程序的更广泛问题分解成可以独立开发的具有意义的块。你将学习不同的应用程序开发方法，例如从前到后、从后到前和从内到外。

第七章, *测试驱动 C#应用程序*，将需求和相关用户故事组装成工作软件，使用 TDD。它解释了如何利用你迄今为止所掌握的所有技能来测试边界，测试小的、独立的单元。

第八章, *抽象问题*, 探讨了如何抽象第三方库，包括.NET 框架。它涵盖了如何移除对 DateTime 和 Entity Framework 等事物的依赖。它解释了如何将应用程序与其特定实现解耦，不仅使应用程序可测试，而且更加灵活，未来也更容易修改。

第九章, *测试 JavaScript 应用程序*，现在你已经有了一个工作的 API，重点关注使用 React 在 JavaScript 中创建单页应用程序。它关注测试驱动的动作和 reducers 以及应用程序中的任何功能。

第十章，*探索集成*，解释了如何编写集成测试以确保应用程序正常运行。

第十一章, *需求变更*, 关注需求变更时会发生什么。如果发现了一个错误怎么办？没问题，更改一个测试或编写一个新的测试来覆盖新的需求或防御已发现的错误。现在，编写一些新的代码或更改一些现有的代码，以确保所有新的/修改后的测试通过。如果你做得正确，你应该可以放心地做出这些更改，因为你的现有测试套件将防止你引入新的错误。

第十二章，*遗留问题*，解释了现在有很多应用程序没有足够的（任何？）测试覆盖率，而且更少的是以测试优先的方式编写的。你将发现一些没有考虑可测试性的遗留应用程序的主要问题；这些问题将被识别，并且还将讨论最佳恢复方法。

第十三章，*解开混乱*，深入探讨了如何安全地修改没有考虑测试的遗留应用程序。如何在修改现有代码时添加测试以最小化引入新错误的可能性？将使用一个极端的例子来探讨这些主题以及更多内容。

第十四章，“更好的起点”，强调 TDD 是一个个人选择。你不需要任何人的许可来做好的工作。本章将涵盖如何继续 TDD 的成功之旅、如何将 TDD 引入您的团队以及如何作为 TDD 专家重新融入世界。

# 为了充分利用本书

想要跟随书中示例的读者应具备以下条件：

+   具备 C#和/或 JavaScript 的中级理解

+   虽然不是必需的，但之前接触过 React 将有所帮助

+   熟悉 N 层架构

# 下载示例代码文件

您可以从[www.packtpub.com](http://www.packtpub.com)的账户下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

您可以通过以下步骤下载代码文件：

1.  在[www.packtpub.com](http://www.packtpub.com/support)上登录或注册。

1.  选择“支持”标签。

1.  点击“代码下载与勘误”。

1.  在搜索框中输入书籍名称，并遵循屏幕上的说明。

下载文件后，请确保使用最新版本的以下软件解压缩或提取文件夹：

+   Windows 系统上的 WinRAR/7-Zip

+   Mac 系统上的 Zipeg/iZip/UnRarX

+   Linux 系统上的 7-Zip/PeaZip

该书的代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Practical-Test-Driven-Development`](https://github.com/PacktPublishing/Practical-Test-Driven-Development)。我们还有其他来自我们丰富图书和视频目录的代码包可供下载，网址为**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**。请查看它们！

# 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表的彩色图像的 PDF 文件。您可以从这里下载：[`www.packtpub.com/sites/default/files/downloads/PracticalTestDrivenDevelopment_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/PracticalTestDrivenDevelopment_ColorImages.pdf)。

# 使用的约定

本书使用了多种文本约定。

`CodeInText`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“将下载的`WebStorm-10*.dmg`磁盘映像文件作为系统中的另一个磁盘挂载。”

代码块设置如下：

```cs
"babel": {
   "presets": [
     "react-app"
   ]
 },
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```cs
[default]
exten => s,1,Dial(Zap/1|30)
exten => s,2,Voicemail(u100)
exten => s,102,Voicemail(b100)
exten => i,1,Voicemail(s0)
```

任何命令行输入或输出都按以下方式编写：

```cs
>npm install mocha chai sinon enzyme
```

**粗体**：表示新术语、重要单词或您在屏幕上看到的单词。例如，菜单或对话框中的单词在文本中显示如下。以下是一个示例：“从管理面板中选择系统信息。”

警告或重要提示如下所示。

小贴士和技巧看起来像这样。

# 联系我们

我们欢迎读者的反馈。

**总体反馈**：请发送邮件至 `feedback@packtpub.com` 并在邮件主题中提及书籍标题。如果您对本书的任何方面有疑问，请通过 `questions@packtpub.com` 发送邮件给我们。

**勘误**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们将不胜感激，如果您能向我们报告这一点。请访问 [www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击勘误提交表单链接，并输入详细信息。

**盗版**：如果您在互联网上发现我们作品的任何非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过 `copyright@packtpub.com` 发送邮件给我们，并附上材料的链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问 [authors.packtpub.com](http://authors.packtpub.com/).

# 评论

请留下评论。一旦您阅读并使用了本书，为何不在购买该书的网站上留下评论呢？潜在读者可以查看并使用您的客观意见来做出购买决定，Packt 方面可以了解您对我们产品的看法，我们的作者也可以看到他们对本书的反馈。谢谢！

如需更多关于 Packt 的信息，请访问 [packtpub.com](https://www.packtpub.com/).
