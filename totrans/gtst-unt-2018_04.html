<html><head></head><body>
        

                            
                    <h1 class="header-title">Creating Our Terrain</h1>
                
            
            
                
<p class="mce-root">In the last chapter, we designed our game so that we have a plan for our development efforts. We designed all the game's functionality, how to use the player character, what role the non-player character will have, what assets we will use, and what animations we will use in the game. We also mocked-up the main game screen as well as our heads-up display. In addition to this, we made key decisions on our game's difficulty balance. With the design work complete, we are ready to start creating our game. </p>
<p class="mce-root">In this chapter, we will create our game's terrain and perform several actions to customize the terrain based on our design mock-up in <a href="df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml" target="_blank">Chapter 3</a>, <em>Designing the Game</em>. We will use shaping tools and add water and vegetation features to complete our game environment.</p>
<p>Specifically, we will cover the following topics in this chapter:</p>
<ul>
<li>Creating the terrain</li>
<li>Shaping the terrain</li>
<li>Painting the terrain</li>
<li>Adding water</li>
<li>Adding vegetation</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating the terrain</h1>
                
            
            
                
<p>Unity terrain is essentially the ground in your game environment; it is your landscape. Unity has several tools that we can use to create, shape, and customize the terrain.  We will use those tools later in this chapter.</p>
<p>For our game, we will use a terrain that was created from a height map and then edited in Photoshop. If you are interested in learning how to accomplish this, read the <em>Importing the terrain</em> section. Otherwise, you can skip this brief section and resume with the section on importing the terrain.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Working with height maps</h1>
                
            
            
                
<p>You will find a lot of free height maps with a simple internet search. Once you have the one you want, perform the following steps:</p>
<p>This subsection is not required and only provided for informational purposes. The game's terrain file will be provided along with instructions on how to incorporate it in our game.</p>
<ol>
<li>Open PhotoShop and select <strong>File</strong> | <strong>New</strong>. Use the following settings:</li>
</ol>
<table>
<tbody>
<tr>
<td><strong>Component</strong></td>
<td><strong>Setting</strong></td>
</tr>
<tr>
<td>Width</td>
<td>512 pixels</td>
</tr>
<tr>
<td>Height</td>
<td>512 pixels</td>
</tr>
<tr>
<td>Resolution</td>
<td>72 pixels</td>
</tr>
<tr>
<td>Color mode</td>
<td>Grayscale 8bit</td>
</tr>
</tbody>
</table>
<ol start="2">
<li> Drag the height map you downloaded into the new Photoshop image.</li>
<li> Make any necessary placement adjustments and commit the transform. </li>
<li> Select <strong>Image</strong> | <strong>Auto Tone</strong>. Make any brightness and contrast adjustments you feel are necessary.</li>
<li> Save the file as a Photoshop Raw file. </li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">Importing the terrain</h1>
                
            
            
                
<p>Before we import our terrain, we need to set up a new Unity 3D project. To do that, follow these steps:</p>
<ol>
<li>Launch Unity.</li>
<li>Click the <strong>New</strong> icon.</li>
</ol>
<p> </p>
<ol start="3">
<li>Enter a project name and select 3D.</li>
<li>Click the <strong>Create project</strong> button.</li>
<li>Using the top menu, select <strong>GameObject</strong> | <strong>3D Object</strong> | <strong>Terrain</strong>. This creates a default terrain, called <kbd>terrain</kbd>.</li>
<li>With the terrain selected, click the settings cog icon under Terrain in the Inspector panel:</li>
</ol>
<div><img height="75" width="270" src="img/e4358894-10e6-464a-8a54-bd0bf997a433.png"/></div>
<ol start="7">
<li>Change the <strong>Terrain Height</strong> to <kbd>200</kbd>.</li>
<li>Still in the Inspector panel, scroll down until you see the <strong>Import Raw...</strong> button. Click that button and navigate to the Photoshop Raw file you created in the previous section. Alternatively, you can download the <kbd>terrain.raw</kbd> file from the publisher's companion site:</li>
</ol>
<div><img height="41" width="377" src="img/3e347f10-5bf5-4d0f-a06a-4d8ee95ccd39.png"/></div>
<ol start="9">
<li>Select <strong>Mac</strong> for the <strong>Byte Order</strong> in the <strong>Import Heightmap</strong> dialog window and click the <strong>Import</strong> button. It is important to use this option, even if you are on a computer running Windows:</li>
</ol>
<div><img height="208" width="260" src="img/3f03d58f-037b-44b6-9551-61d515f31bc7.png"/></div>
<p>Once you click the <strong>Import</strong> button, watch the lower right-hand corner of the Unity interface. The import process can take several minutes. Watching that section of the interface will indicate your progress. See the example here. Be patient:</p>
<div><img height="26" width="223" src="img/a741e261-f8f1-4dd4-8cbe-2827a910ca3c.png"/></div>
<p>Once the import process is complete, your terrain will reflect the imported height map. As you can see here, it will have some pointed peaks and edges. We will work on those in the next section:</p>
<div><img height="253" width="457" src="img/dd1b5654-985e-4ac5-aca9-d1459553cfe9.png"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Shaping the terrain</h1>
                
            
            
                
<p>In this section, we will take several actions to shape our terrain. We will start with smoothing, and then create our five spawn points.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Smoothing our terrain</h1>
                
            
            
                
<p>As we identified in the previous section, our terrain currently has some bumpy edges and pointed peaks. We will use the smoothing tool, which is available in the Terrain section of the Inspector panel. As you can see here, it is the third icon from the left:</p>
<div><img height="202" width="397" src="img/a6d246db-95b5-4c1e-ab70-3ef811134b41.png"/></div>
<p>When the smoothing tool is selected, you are presented with different brush types and sizes. Once you make those selections, simply use the left-button of the mouse to smooth the terrain. </p>
<p>The following screenshot shows the results of the terrain after significant smoothing has been applied:</p>
<div><img height="322" width="420" src="img/73970f11-b866-4166-81fb-1eed8aa49aa8.png"/></div>
<p>If you are following along with these steps in Unity, your results will vary and that is okay. The exact terrain construction is not required in order to follow along with the remaining steps in this and other chapters.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating our spawn points</h1>
                
            
            
                
<p>Our game design called for five spawn points: one in the center, and one each in four corners. Our game environment is not a perfect square, so we will create a spawn point in the center of our terrain and four additional spawn points throughout the terrain.</p>
<p>We are not scripting the spawning yet; that will take place in <a href="7098e2ac-1871-4cb2-98ba-36f3acdb0515.xhtml" target="_blank">Chapter 11</a>, <em>Scripting Victory and Defeat</em>. For now, we will simply create the areas using terrain-shaping tools. Specifically, we will use the <strong>Paint Height</strong> tool. As you can see here, it is the second icon in the Terrain section of the Inspector panel:</p>
<div><img height="263" width="498" src="img/6f3ac6df-1dcb-41d3-9687-badc12c4b8e4.png"/></div>
<p>Selecting the a Brush Size of <kbd>25</kbd>, we simply click and paint the five areas where we want the spawn points to be. We will use the one in the center as the default starting point at the beginning of the game, and then randomly select one of the five for spawning in-game.</p>
<p>When making the spawn points, we want them to be elevated, but not too high. The following screenshot shows the five spawn points located throughout the terrain:</p>
<div><img height="366" width="365" src="img/b36b34a7-e2e4-4add-bfbd-63a8b802a50b.png"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Painting the terrain</h1>
                
            
            
                
<p>We are now ready to give our terrain some color. We will start by covering the entire terrain with a grass texture. To accomplish this, ensure the Terrain is selected in the Hierarchy panel. Then, in the Inspector panel, select the <strong>Paint Texture</strong> tool. As you can see here, that is the fourth icon in the Terrain section of the Inspector panel:</p>
<div><img height="303" width="406" src="img/8aa38163-f7ad-42a9-8c60-ef2c15c3747a.png"/></div>
<p>As you can see, we do not have any textures defined. We actually do not have any appropriate textures in our project yet, so let's take care of that with a few simple steps:</p>
<ol>
<li>In the Project panel, click the <kbd>Assets</kbd> folder.</li>
<li>In the right section, right-click and select <strong>Create</strong> | <strong>Folder</strong>. Name the folder <kbd>Textures</kbd>.</li>
<li>Download the <kbd>grass_starter_texture.jpg</kbd> file from the publisher's companion site.</li>
<li>Drag the <kbd>grass_starter_texture.jpg</kbd> file from your filesystem to the <kbd>Textures</kbd> folder you created in step 1.</li>
</ol>
<p>Now that you have a grass texture in your Unity project, let's apply it to our terrain. Here are the steps:</p>
<ol>
<li>Select <strong>Terrain</strong> in the Hierarchy panel.</li>
<li>In the Inspector panel, click the <strong>Edit Textures</strong> button, and then <strong>Add Texture</strong>. This will reveal the <strong>Add Terrain Texture</strong> dialog window, depicted here:</li>
</ol>
<div><img height="348" width="220" src="img/5058a2d4-3040-41d3-af1d-5c1cc2c2dec0.png"/></div>
<ol start="3">
<li>Click the left <strong>Select</strong> button to reveal a set of textures. </li>
<li>Double-click the <kbd>grass_starter_texture</kbd>.</li>
<li>Change both the x and y, <strong>Size</strong> from <kbd>15</kbd> to <kbd>2</kbd>.</li>
<li>Click the Add button.</li>
</ol>
<p>You will see that your terrain is now covered with grass. When you zoom in, you can see the quality of the grass increases. </p>
<p>In the next section, we will add water to our terrain.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Adding water</h1>
                
            
            
                
<p>Our next step is to add the water surrounding our island. We do not intend to swim in the water or have objects in it, so we can get by with a simple approach. We will refine our water in <a href="04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml" target="_blank">Chapter 6</a>, <em>Creating and Importing 3D Objects for Our Game</em>.</p>
<p>Perform the following steps to create a material and a water plane, and then apply the material to the plane:</p>
<ol>
<li>In the Project panel, click the <kbd>Assets</kbd> folder.</li>
<li>In the right section, right-click and select <strong>Create</strong> | <strong>Folder</strong>. Name the folder <kbd>Materials</kbd>.</li>
<li>Double-click the <kbd>Materials</kbd> folder you just created.</li>
<li>Right-click in the <kbd>Materials</kbd> folder and select <strong>Create</strong> | <strong>Material</strong>. Name the material <kbd>temp_water</kbd>.</li>
<li>With the <kbd>temp_water</kbd> material selected, click the white color box to the left of the eye dropper icon in the Inspector panel:</li>
</ol>
<div><img height="170" width="313" src="img/ec5008c7-37fd-4f4d-ba69-97d29758f5d1.png"/></div>
<ol start="6">
<li>In the Color dialog window, select a blue color for your water and close the dialog window. You should now see your color selection indicated in both the Project panel and the Inspector panel:</li>
</ol>
<div><img src="img/79647ce5-abc3-4226-a72d-2ebc35a58060.png"/></div>
<p>Now that we have our material ready, let's create a GameObject to simulate our water. Follow these steps:</p>
<ol>
<li>Select <strong>GameObject</strong> | <strong>3D Object</strong> | <strong>Plane</strong> from the top menu.</li>
<li>Using the transform tools, increase the size of the plane to match the size of the entire game world.</li>
<li>Raise or lower the plane until it looks similar to this:</li>
</ol>
<div><img height="301" width="304" src="img/1ae7fa2f-6626-493b-b0ff-a8590d15e561.png"/></div>
<ol start="4">
<li>With the plane selected, click the small circle to the right of <kbd>Default-Material</kbd> in the Mesh Renderer section of the Inspector panel. The following screenshot shows that section:</li>
</ol>
<div><img height="84" width="415" src="img/c578e02b-1518-4f1d-aaca-2ba51b939040.png"/></div>
<ol start="5">
<li>You should now see the Select Material dialog window. Select the <kbd>temp_water</kbd> texture you created and close the dialog window.</li>
<li>In the Hierarchy panel, right-click the Pane object and rename it <kbd>WaterPane</kbd>. This will help us stay organized and enable us to identify our game objects.</li>
</ol>
<p>Your game environment should now look something similar to this:</p>
<div><img height="293" width="293" src="img/f62a67da-b496-495a-b516-7badfc9b5e4b.png"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Saving your work</h1>
                
            
            
                
<p class="mce-root">This is a good time to save your work. In order to remain organized, let's create a <kbd>Scenes</kbd> folder under <kbd>Assets</kbd>. Here are the steps to accomplish that:</p>
<ol>
<li>In the Project panel, click the <kbd>Assets</kbd> folder.</li>
<li>In the right-hand section, right-click and select <strong>Create</strong> | <strong>Folder</strong>. Name the folder <kbd>Scenes</kbd>.</li>
</ol>
<p class="mce-root">Now you are ready to save your work. From the top menu, select File | Save Project. You can use the <strong>File</strong> | <strong>Save Scenes</strong> or <strong>File</strong> | <strong>Save Scene As...</strong> option to save your scene. Also, when you exit without having saved your scene, you will be prompted for a name. Save your scene using any of those options, give your scene the name of <kbd>Main</kbd> and ensure it is saved in the <kbd>Assets</kbd> | <kbd>Scenes</kbd> folder.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Adding vegetation</h1>
                
            
            
                
<p>So far, our game environment only consists of a land mass covered in grass, surrounded by water. As you will remember from <a href="df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml" target="_blank">Chapter 3</a>, <em>Designing the Game</em>, we plan to incorporate the following game objects related to the terrain:</p>
<ul>
<li>Cherry trees</li>
<li>Cucumber patches</li>
<li>Cucumbers</li>
</ul>
<p>We will add those game objects in <a href="04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml" target="_blank">Chapter 6</a>, <em>Creating and Importing 3D Objects for Our Game</em>. For now, we can add some regular trees to start filling in our game environment.</p>
<p>Instead of simply importing trees that others have made, we will go through the steps to create our own trees. Follow these steps to create your first 3D tree in Unity from scratch:</p>
<ol>
<li>Select GameObject | 3D Object | Tree from the top menu. This will create a new tree and place it in your game world at Transform 0, 0, 0. </li>
</ol>
<p>Double-clicking an object in the Hierarchy panel will focus it in the center of the Scene view. It will also provide a zoomed-in view of the object.</p>
<ol start="2">
<li>Using the transform tools, increase the Y axis so the tree is above your water line. It will only consist of a single branch:</li>
</ol>
<div><img height="436" width="273" src="img/9d512a67-d901-4770-8f22-5dd625a900cb.png"/></div>
<p style="padding-left: 60px">With the Tree selected, we turn our focus to the Tree window in the Inspector panel. The following diagram indicates the various buttons that we will be using to continue creating our tree:</p>
<div><img height="267" width="552" src="img/98c77f80-3a3f-4709-8ce6-d903f1bd647d.png"/></div>
<ol start="3">
<li>Select the Branch Group icon in the Tree window. Next, click the Add Branch Group button. You will see a branch has been added to the main Branch, which serves as a tree trunk. As you can see here, there is a Length setting that you can adjust in the Inspector panel:</li>
</ol>
<div><img height="37" width="272" src="img/11ff8296-2b41-40b2-83cc-98bde0c92aea.png"/></div>
<p style="padding-left: 60px">There are three additional tools that can help you make unique trees. The buttons, illustrated as follows, are Move Branch, Rotate Branch, and Free Hand:</p>
<div><img height="40" width="131" src="img/3d04b364-a564-4807-8839-6df5f57ec173.png"/></div>
<ol start="4">
<li>Continue to create branches on your tree trunk until it looks the way you want it to. Remember, you can individually move, resize, and rotate branches. You can also add branches to branches. When you add a new branch, it is added to the currently selected branch.</li>
</ol>
<p>When you first create a new branch, it is best to change the size before moving it. Once you relocate the branch, you might lose the ability to make certain adjustments.</p>
<p style="padding-left: 60px">When you are done adding and configuring branches, your tree will look quite unique. An example is provided in the following screenshot:</p>
<div><img height="217" width="295" src="img/06dd9c4f-9f49-4fc1-8cda-98f9bde3c028.png"/></div>
<p style="padding-left: 60px">As you can see, there is one tree trunk and several branches. We can see, in the Tree window, the hierarchy of branches:</p>
<div><img src="img/0a0ff693-5aa8-4c90-96c4-44723443b422.png"/></div>
<p style="padding-left: 60px">Your next step is to add leaves to your tree. </p>
<ol start="5">
<li>Click on the branch you want to apply leaves to and click the Add Leaf Group button. </li>
<li>In the Distribution section of the Inspector panel, change the Frequency to select how many leaves you want on that branch. This image shows the Frequency slider interface:</li>
</ol>
<div><img height="129" width="469" src="img/edbae2c2-1f0d-4110-871b-b17edfbc35d0.png"/></div>
<ol start="7">
<li>Continue adding leaves to the branches until you have your desired look. When you are done, your tree will look like it has paper for leaves: </li>
</ol>
<div><img height="326" width="498" src="img/e8b9484d-15fe-4e1f-9542-494d301575f2.png"/></div>
<p style="padding-left: 60px">As you can see, there is one tree trunk with several branches and leaf groups. We can see this in the Tree window:</p>
<div><img src="img/418ac1cd-ebe3-48d8-bc47-be82f5c171bc.png"/></div>
<p style="padding-left: 60px">The next step would be to apply materials to the branches and leaves. Since we do not have any of those materials in our game project yet, we will leave the tree as it is. Learning how to create unique trees can contribute to unique gaming environments. There are several quality trees available from Unity Technologies, as well as other content creators. We will explore some of those trees, and actually incorporate them into our game, in <a href="04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml" target="_blank">Chapter 6</a>, <em>Creating and Importing 3D Objects for Our Game</em>.</p>
<ol start="8">
<li>In the Hierarchy panel, rename the <kbd>Tree</kbd> to <kbd>Tree_Special</kbd>.</li>
<li>Using the transform tools, relocate the tree on dry land. It is not important where you put it, as long as it is on dry land and not on a spawn point.</li>
<li>With <kbd>Tree_Special</kbd> selected, change the Scale from <kbd>1, 1, 1</kbd> to <kbd>3, 3, 3.</kbd> That will make our tree more prominent in our game world.</li>
<li>Do not forget to save your Unity project.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<p class="mce-root">In this chapter, we created our game's terrain and made several customizations to the terrain based on our design mock-up in <a href="df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml" target="_blank">Chapter 3</a>, <em>Designing the Game</em>. We used shaping tools, painted the terrain, added water, and even created our own tree from scratch. In addition, we created a material and imported a texture file.</p>
<p class="mce-root">In <a href="101c3b96-a362-4913-925c-f22503f0f8a1.xhtml" target="_blank">Chapter 5</a>, <em>Lights, Cameras, and Shadows</em>, we will explore the different types of lighting and cameras available in Unity. We will use lights and cameras in our <em>Cucumber Beetle</em> game to achieve appropriate light and shadow effects for the game.</p>


            

            
        
    </body></html>