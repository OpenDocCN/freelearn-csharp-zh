- en: Webserver Communication and Online Version-Control
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Web服务器通信和在线版本控制
- en: 'In this chapter, we will cover:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖：
- en: Setting up a leaderboard using PHP and a database
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用PHP和数据库设置排行榜
- en: Unity game communication with a web-server leaderboard
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Unity游戏与Web服务器排行榜的通信
- en: Creating and cloning a GitHub repository
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建和克隆GitHub仓库
- en: Adding a Unity project to a Git repository, and pushing it up to GitHub
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将Unity项目添加到Git仓库，并将其推送到GitHub
- en: Unity project version-control using GitHub for Unity
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用GitHub for Unity进行Unity项目版本控制
- en: Preventing your game from running on unknown servers
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 防止游戏在未知服务器上运行
- en: Introduction
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: A **Server** waits for messages requesting something for a **Client**, and when
    one is received, it attempts to interpret and act upon the message, and send back
    an appropriate response to the **Client**. A **Client** is a computer program
    that can communicate with other **Clients** and/or Servers. **Clients** send **Requests**,
    and receive **Responses**.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**服务器**等待接收请求**客户端**的消息，当收到消息时，它尝试解释并采取行动，然后向**客户端**发送适当的响应。**客户端**是一种可以与其他**客户端**和/或**服务器**通信的计算机程序。**客户端**发送**请求**，并接收**响应**。'
- en: It us useful to keep these concepts of **Client**/**Server**/**Request**/**Response**
    in mind when thinking about and working with **Client**-**Server** achitectures.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在考虑和与**客户端**-**服务器**架构工作时，记住这些**客户端**/**服务器**/**请求**/**响应**的概念是有用的。
- en: The Big Picture
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 整体概念
- en: The world is networked, which involves many different **Clients** communicating
    with other **Clients**, and also with **Servers**.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 世界是网络化的，涉及许多不同的**客户端**相互通信，以及与**服务器**通信。
- en: 'Each of the Unity deployment platforms illustrates an example of a **Client**:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 每个Unity部署平台都展示了**客户端**的一个示例：
- en: WebGL (running in a web browser)
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WebGL（在浏览器中运行）
- en: Windows and Mac applications
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows和Mac应用程序
- en: Nintendo Switch
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任天堂Switch
- en: Microsoft Xbox
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 微软Xbox
- en: Sony Playstation
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 索尼PlayStation
- en: The **Servers** that these games can communicate with include dedicated multiplayer
    **Game Servers**, regular webservers, and online database servers. Multiplayer
    game development is the topic for a whole book of its own.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这些游戏可以与之通信的**服务器**包括专用多人**游戏服务器**、常规Web服务器和在线数据库服务器。多人游戏开发是整本书的主题。
- en: Web and database servers can play many roles with game development and Runtime
    interaction. One form of Unity game interaction with web servers involves a game
    communicating with an online **Server** for data, such as high scores, inventories,
    player profiles, and chat forums.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: Web和数据库服务器在游戏开发和运行时交互中可以扮演许多角色。Unity游戏与Web服务器交互的一种形式是游戏与在线**服务器**通信以获取数据，例如高分、库存、玩家资料和聊天论坛。
- en: Another kind of **Client**-**Server** relationship is for **Distributed Version
    Control Systems** (**DVCS**), where content on a local computer (laptop or desktop)
    can be synchronized with an online server, both for backup and historical change
    purposes, and also to allow the sharing, and collaborative authoring, of code
    projects with other people. Private repositories are used within commercial game
    companies, and public repositories are used for **Open Source** projects, allowing
    anyone access to the contents.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种**客户端**-**服务器**关系是针对**分布式版本控制系统**（**DVCS**），其中本地计算机（笔记本电脑或台式机）上的内容可以与在线服务器同步，用于备份和历史变更目的，同时也允许与他人共享和协作编写代码项目。商业游戏公司内部使用私有仓库，而公共仓库用于**开源**项目，允许任何人访问内容。
- en: The recipes in this chapter explore a range of these **Client-Server** communication
    scenarios in relation to the Unity game development, online Run-Time communication,
    and cloud code version-control and sharing.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中的食谱探讨了与Unity游戏开发、在线运行时通信以及云代码版本控制和共享相关的各种**客户端-服务器**通信场景。
- en: Setting up a leaderboard using PHP and a database
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用PHP和数据库设置排行榜
- en: Games are more fun when there is a leaderboard of high scores that the players
    have achieved. Even single-player games can communicate with a shared web-based
    leaderboard. This recipe creates the web **Server-Side** (PHP) scripts to set
    and get player scores from a SQL database. The recipe after this one then creates
    a Unity game **Client** that can communicate with this web leaderboard **Server**.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 当有玩家达到的高分排行榜时，游戏更有趣。即使是单人游戏也可以与共享的基于Web的排行榜通信。本食谱创建设置和从SQL数据库获取玩家分数的Web **服务器端**（PHP）脚本。接下来的食谱将创建一个可以与这个Web排行榜**服务器**通信的Unity游戏**客户端**。
- en: Getting ready
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: This recipe assumes that you either have your own web hosting, or are running
    a local web server. You could use the built-in PHP web **Server**, or a web **Server**
    such as Apache or Nginx. For the database, you could use a SQL database Server
    such as MySQL or MariaDB, however, we've tried to keep things simple using SQLLite—a
    file-based database system. So all you actually need on your computer is PHP 7,
    since it has a built-in web **Server** and can talk to SQLite databases, which
    is the setup on which this recipe was tested.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这个食谱假设你或者拥有自己的网络托管，或者正在运行一个本地网络服务器。你可以使用内置的PHP网络**服务器**，或者像Apache或Nginx这样的网络**服务器**。对于数据库，你可以使用像MySQL或MariaDB这样的SQL数据库服务器，然而，我们尽量使用SQLite——一个基于文件的数据库系统来简化事情。所以你实际上在电脑上需要的只是PHP
    7，因为它内置了网络**服务器**，并且可以与SQLite数据库通信，这正是这个食谱测试的设置。
- en: All the PHP scripts for this recipe, and the SQLLite database file, can be found
    in the `12_01` folder.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这个食谱的所有PHP脚本和SQLite数据库文件都可以在`12_01`文件夹中找到。
- en: If you do want to install a web server and database server application, a great
    choice is XAMPP. It is a free, cross-platform collection of everything you need
    to set up a database and web server on your local computer. The download page
    also contains FAQs and installation instructions for Windows, Mac, and Linux: [https://www.apachefriends.org/download.html](https://www.apachefriends.org/download.html).
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你确实想安装一个网络服务器和数据库服务器应用程序，XAMPP是一个很好的选择。它是一个免费的、跨平台的集合，包含了你在本地计算机上设置数据库和网络服务器所需的一切。下载页面还包含了Windows、Mac和Linux的常见问题解答和安装说明：[https://www.apachefriends.org/download.html](https://www.apachefriends.org/download.html)。
- en: How to do it...
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'To set up a leaderboard using PHP and a database, do the following:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用PHP和数据库设置排行榜，请执行以下操作：
- en: 'Copy the provided PHP project to where you will be running your webserver:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将提供的PHP项目复制到你将运行你的网络服务器的位置：
- en: '**Live website hosting**: Copy the files to the live web folder on your server
    (often `www` or `httdocs)`'
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**实时网站托管**：将文件复制到服务器上的实时网络文件夹（通常是`www`或`httdocs`）'
- en: '**Running on local machine**: At the comment line, you can use the Composer
    script shortcut to run the PHP built-in web server by typing **composer run:**'
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在本地机器上运行**：在注释行，你可以使用Composer脚本快捷方式通过输入**composer run:**来运行内置的PHP网络服务器。'
- en: '![](img/63c43c18-90f0-48e8-9547-da18b99140d5.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/63c43c18-90f0-48e8-9547-da18b99140d5.png)'
- en: 'Open a web browser to your website location:'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用网络浏览器打开你的网站位置：
- en: '**Live website hosting**: Visit the URL for your hosted domain'
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**实时网站托管**：访问你的托管域名的URL'
- en: '**Running on local machine**: Visit the `localhost:8000` URL:'
  id: totrans-37
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在本地机器上运行**：访问`localhost:8000` URL：'
- en: '![](img/38fc311f-1c1e-48ca-b739-5c14d4594fa9.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/38fc311f-1c1e-48ca-b739-5c14d4594fa9.png)'
- en: 'Create/reset the database by clicking the last bulleted link: reset database.
    You should see a page with message database has been reset, and a link back to
    the home page (click that link).'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击最后一个项目符号链接：重置数据库来创建/重置数据库。你应该会看到一个带有消息“数据库已重置”和返回主页的链接（点击该链接）的页面。
- en: 'To view the leaderboard scores as a web page in your web browser, click the
    second link: list players (HTML):'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在浏览器中以网页的形式查看排行榜分数，请点击第二个链接：列出玩家（HTML）：
- en: '![](img/56f76b73-e922-461d-9860-4e954bba3aef.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/56f76b73-e922-461d-9860-4e954bba3aef.png)'
- en: 'Try the fifth link – list players (TXT) – to retrieve the leaderboard data
    as a text file. Note how it looks different viewed in the web browser (which ignores
    line breaks), than when you view the actual source file returned from the server:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试第五个链接——列出玩家（TXT）——以获取排行榜数据作为文本文件。注意它在浏览器中查看时的外观（浏览器忽略换行符），与在服务器返回的实际源文件中查看时的外观不同：
- en: '![](img/a455da29-6ebc-4653-84b1-01af528919ae.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/a455da29-6ebc-4653-84b1-01af528919ae.png)'
- en: Do the same with the JSON and XML options – to see how our **Server** can return
    the contents of the database wrapped up as HTML, plain text (TXT), XML, or JSON.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用JSON和XML选项做同样的事情——看看我们的**服务器**如何将数据库内容包装成HTML、纯文本（TXT）、XML或JSON返回。
- en: Click the sixth link – create (username = mattilda, score=800). When you next
    retrieve the contents, you'll see that there is a new database record for player
    mattilda with a score of 800\. This shows that our server can receive data and
    change the contents of the database, as a well as just returning values from it.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击第六个链接——创建（用户名 = mattilda，分数=800）。当你下次检索内容时，你会看到有一个新的数据库记录，玩家mattilda的分数为800。这表明我们的服务器可以接收数据并更改数据库的内容，而不仅仅是返回它。
- en: How it works...
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The player's scores are stored in a SQLLite database. Access to the database
    is facilitated through the PHP scripts provided. In our example, all the PHP scripts
    were placed in a folder on our local machine, from which we'll run the Server
    (it can be anywhere when using the PHP built-in server). So, the scripts are accessed
    via `http://localhost:8000`.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 玩家的分数存储在SQLLite数据库中。通过提供的PHP脚本来方便地访问数据库。在我们的例子中，所有PHP脚本都放置在我们本地机器上的一个文件夹中，我们将从这个文件夹中运行服务器（使用PHP内置服务器时，它可以在任何地方）。因此，脚本通过 `http://localhost:8000` 访问。
- en: All the access is through the PHP filem called `index.php`. This is called a
    Front Controller, acting like a receptionist in a building, interpreting Requests
    and asking the appropriate function to execute some actions and return a result
    in **Response** to the **Request**.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 所有访问都通过名为`index.php`的PHP文件进行。这被称为前端控制器，就像大楼里的接待员一样，解释请求并调用适当的函数执行一些操作，并以**响应**的形式返回给**请求**。
- en: 'There are five actions implemented, and each is indicated by adding the action
    name at the end of the URL (this is the GET HTTP method, which is sometimes used
    for web forms. Take a look at the address bar of your browser next time you search
    Google for example). The actions and their parameters (if any) are as follows:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 实现了五个操作，每个操作都通过在URL末尾添加操作名称来指示（这是GET HTTP方法，有时用于网页表单。例如，下次您在Google上搜索时，请查看浏览器的地址栏）。操作及其参数（如果有）如下：
- en: '**action = list & format = HTML / TXT / XML / JSON**: This action asks for
    a listing all player scores to be returned. Depending on the value of second variable
    format (html/txt/xml/json), the list of users and their scores is returned in
    different text file formats.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**action = list & format = HTML / TXT / XML / JSON**：此操作请求返回所有玩家分数的列表。根据第二个变量格式（html/txt/xml/json）的值，用户和他们的分数以不同的文本文件格式返回。'
- en: '**action = reset**: This action asks for a set of default player names and
    score values to replace the current contents of the database table. This action
    takes no argument. It returns some HTML stating that the database has been reset,
    and a link to the homepage.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**action = reset**：此操作请求一组默认玩家名称和分数值来替换数据库表中的当前内容。此操作不需要参数。它返回一些HTML声明数据库已重置，以及一个链接到主页。'
- en: "**action = get & username = & format = HTML / TXT**: This action asks for the\
    \ integer score of the named player that \Lis to be found. It returns the \Lscore\
    \ integer. There are two formats: HTML, for a webpage giving the player's score,\
    \ and TXT, where the numeric value is the only content in the HTTP message returned."
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**action = get & username = & format = HTML / TXT**：此操作请求找到指定玩家的整数分数。它返回分数整数。有两种格式：HTML，用于提供玩家分数的网页，TXT，其中HTTP消息返回的内容只有数值。'
- en: "**action = update & username = <usermame> & score = <score>**: This action\
    \ asks for the provided score of the named player to be stored in the database\
    \ (but only if this new score is greater than the currently-stored score). It\
    \ returns the word success (if the database update was successful), otherwise\
    \ -1 \L(to indicate that no update took place)."
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**action = update & username = <username> & score = <score>**：此操作请求将提供的分数存储在数据库中（但只有当这个新分数大于当前存储的分数时）。如果数据库更新成功，它返回单词success，否则返回-1（表示没有更新发生）。'
- en: There's more...
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Here are some ways to go further with this recipe.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些方法可以进一步使用这个菜谱。
- en: SQLite, PHP, and database servers
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: SQLite、PHP和数据库服务器
- en: The PHP code in this recipe used the PDO data objects functions to communicate
    with a SQLite local file-based database. Learn more about PHP and SQLite at [http://www.sqlitetutorial.net/sqlite-php/](http://www.sqlitetutorial.net/sqlite-php/).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 本菜谱中使用的PHP代码使用了PDO数据对象函数来与SQLite本地文件数据库进行通信。更多关于PHP和SQLite的信息请访问 [http://www.sqlitetutorial.net/sqlite-php/](http://www.sqlitetutorial.net/sqlite-php/)。
- en: When SQLite isn't a solution (not suported by a web-hosting package), you may
    need to develop locally with a SQL Server, such as MySQL Community Edition or
    MariaDB, and then deploy with a live database **Server** from your hosting company.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 当SQLite不是解决方案（不被网络托管包支持）时，您可能需要在本地使用SQL Server进行开发，例如MySQL社区版或MariaDB，然后使用托管公司的实时数据库**服务器**进行部署。
- en: A good solution to try things out on your local machine can be a combined web
    application collection, such as XAMP/WAMP/MAMP. Your web **Server** needs to support
    PHP, and you also need to be able to create the MySQL databases.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 在您的本地机器上尝试事物的良好解决方案可以是XAMP/WAMP/MAMP等组合网络应用程序集合。您的Web **服务器**需要支持PHP，并且您还需要能够创建MySQL数据库。
- en: PHPLiteAdmin
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: PHPLiteAdmin
- en: When writing code that talks to database files and database **Servers**, it
    can be frustrating when things are not working to not be able to see inside the
    database. Therefore, database **Clients** exist to allow you to interact with
    database **Servers** without having to use code.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 当编写与数据库文件和数据库 **服务器** 通信的代码时，如果事情没有按预期工作，无法查看数据库内部，这可能会很令人沮丧。因此，数据库 **客户端**
    存在，允许你与数据库 **服务器** 交互，而无需使用代码。
- en: 'A lightweight (single file!) solution when using PHP and SQLLite is PHPLiteAdmin,
    which is free to use (although you may consider donating if you use it a lot).
    It is included in the `phpLiteAdmin` folder with this recipe''s PHP scripts. It
    can be run using the Composer script shortcut command—**composer dbadmin—**and
    will run locally at `localhost:8001.` Once running, just click on the link for
    the players table to see the data for each player''s score in the database file:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用 PHP 和 SQLite 时，PHPLiteAdmin 是一个轻量级（单文件！）解决方案，它是免费使用的（尽管如果你经常使用它，你可能考虑捐赠）。它包含在这个食谱的
    PHP 脚本中的 `phpLiteAdmin` 文件夹中。可以使用 Composer 脚本快捷命令——**composer dbadmin**——来运行，它将在本地运行在
    `localhost:8001`。一旦运行，只需点击玩家表格的链接，就可以看到数据库文件中每个玩家的分数数据：
- en: '![](img/2f8a200b-1125-4b41-81db-aac4559b85c1.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2f8a200b-1125-4b41-81db-aac4559b85c1.png)'
- en: 'Learn more about PHPLiteAdmin at the project''s GitHub repository and website:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 在项目的 GitHub 仓库和网站上了解更多关于 PHPLiteAdmin 的信息：
- en: '[https://github.com/phpLiteAdmin/pla](https://github.com/phpLiteAdmin/pla)'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/phpLiteAdmin/pla](https://github.com/phpLiteAdmin/pla)'
- en: '[https://www.phpliteadmin.org/](https://www.phpliteadmin.org/)'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://www.phpliteadmin.org/](https://www.phpliteadmin.org/)'
- en: Unity game communication with web-server leaderboard
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Unity 游戏与 web 服务器排行榜的通信
- en: 'In this recipe, we create a Unity game **Client** that can communicate, via
    UI buttons, with our web server leaderboard from the previous recipe:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个食谱中，我们创建了一个 Unity 游戏 **客户端**，可以通过 UI 按钮与之前食谱中的 web 服务器排行榜通信：
- en: '![](img/c95c4897-97eb-476b-a2d0-05220b91c7e5.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c95c4897-97eb-476b-a2d0-05220b91c7e5.png)'
- en: Getting ready
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Since the scene contains several UI elements and the code of the recipe is the
    communication with the PHP scripts and SQL database, in the `12_02` folder, we
    have provided a Unity package called `UnityLeaderboardClient`, containing a scene
    with everything set up for the Unity project.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 由于场景包含多个 UI 元素，而食谱的代码是与 PHP 脚本和 SQL 数据库的通信，在 `12_02` 文件夹中，我们提供了一个名为 `UnityLeaderboardClient`
    的 Unity 包，其中包含一个为 Unity 项目设置好的场景。
- en: How to do it...
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'To create a Unity game that communicates with the web-server leaderboard, do
    the following:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个可以与 web 服务器排行榜通信的 Unity 游戏，请执行以下操作：
- en: Import the provided Unity package, `UnityLeaderboardClient`.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入提供的 Unity 包，`UnityLeaderboardClient`。
- en: Run the provided **Scene**.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行提供的 **场景**。
- en: Ensure your PHP leaderboard is up and running.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保你的 PHP 排行榜正在运行。
- en: 'If you are not running locally (`localhost:8000`), you''ll need to update the
    URL by selecting the **Main Camera** in the Hierarchy, and then editing the **Leader
    Board URL** text for the **Web Leaderboard (Script)** component in the **Inspector**:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你没有在本地运行（`localhost:8000`），你需要通过在 Hierarchy 中选择 **主摄像机**，然后在 **Inspector**
    中编辑 **Web 排行榜（脚本）** 组件的 **排行榜 URL** 文本来更新 URL：
- en: '![](img/b5dc80ae-de0f-4cc5-9995-657d839dd1d7.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b5dc80ae-de0f-4cc5-9995-657d839dd1d7.png)'
- en: Click on the **UI Buttons** to make Unity communicate with the PHP scripts that
    have access to the highscore database.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **UI 按钮**，使 Unity 与可以访问高分数据库的 PHP 脚本通信。
- en: How it works...
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The player's scores are stored in an SQL database. Access to the database is
    facilitated through the PHP scripts provided by the web server project that was
    set up in the previous recipe.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 玩家的分数存储在 SQL 数据库中。通过之前设置的 web 服务器项目提供的 PHP 脚本来方便地访问数据库。
- en: In our example, all the PHP scripts were placed in a web **Server** folder for
    a local webserver. So, the scripts are accessed via `http://localhost:8000/`.
    However, since the URL is a public string variable, this can be set before running
    to the location of your Server and site code.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的例子中，所有的 PHP 脚本都被放置在一个本地 web 服务器上的 **服务器** 文件夹中。因此，脚本通过 `http://localhost:8000/`
    来访问。然而，由于 URL 是一个公共字符串变量，这可以在运行之前设置到你的服务器和网站代码的位置。
- en: "There are buttons in the Unity scene (corresponding to the actions the web\
    \ leaderboard understands) that set up the corresponding action and the parameters\
    \ to be added to the URL, for the next call to the web **Server**, via the `LoadWWW()`\
    \ method. The `OnClick()` actions have been set up for each button \Lto call the\
    \ corresponding methods of the `WebLeaderBoard` C# script of the **Main Camera**."
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: Unity 场景中有按钮（对应于网络排行榜理解的操作），这些按钮设置了相应的动作和要添加到 URL 中的参数，以便通过 `LoadWWW()` 方法对下一个网络
    **Server** 调用进行调用。每个按钮的 `OnClick()` 动作已被设置为调用 **Main Camera** 的 `WebLeaderBoard`
    C# 脚本的相应方法。
- en: There are also several **UI Text** objects. One displays the most recent URL
    string sent to the server. Another displays the integer value that was extracted
    from the response message that was received from the server (or a message as **not
    an integer** if some other data was received).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，还有几个 **UI Text** 对象。一个显示发送到服务器的最新 URL 字符串。另一个显示从服务器接收到的响应消息中提取的整数值（如果收到其他数据，则显示为
    **not an integer** 消息）。
- en: The third **UI Text** object is inside a **UI Panel**, and has been made large
    enough to display a full, multiline text string received from the Server (which
    is stored inside the textFileContents variable).
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 第三个 **UI Text** 对象位于 **UI Panel** 内，并且已经足够大，可以显示从服务器接收到的完整多行文本字符串（该字符串存储在 `textFileContents`
    变量中）。
- en: 'We can see that the contents of the HTTP text Reponse message are simply an
    integer when a random score is set for player Matt, when the Get score for player
    ''matt'' (TXT) button is clicked, and a text file containing `505` is returned:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，当为玩家 Matt 设置随机分数时，HTTP 文本响应消息的内容只是一个整数；当点击“获取玩家 'matt' 的分数（TXT）”按钮时，返回包含
    `505` 的文本文件：
- en: '![](img/65f17bea-2f99-4c8a-b0aa-040e1854cb91.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/65f17bea-2f99-4c8a-b0aa-040e1854cb91.png)'
- en: The **UI Text** objects have been assigned to public variables of the `WebLeaderBoard`
    C# script for the Main Camera. When any of the UI Buttons are clicked, the corresponding
    method of the `WebLeaderBoard` method is called, which builds the URL string with
    parameters, and then calls the `LoadWWW()` method. This method sends the Request
    to the URL, and waits (by virtue of being a coroutine) until a Response is received.
    It then stores the content, received in the `textFileContents` variable, and calls
    the `UpdateUI()` method. There is a prettification of the text received, inserting
    newline characters to make the JSON, HTML, and XML easier to read.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**UI Text** 对象已被分配给主相机的 `WebLeaderBoard` C# 脚本的公共变量。当任何 UI 按钮被点击时，会调用 `WebLeaderBoard`
    方法的相应方法，该方法构建带有参数的 URL 字符串，然后调用 `LoadWWW()` 方法。此方法向 URL 发送请求，并通过协程的特性等待接收响应。然后，它将接收到的内容存储在
    `textFileContents` 变量中，并调用 `UpdateUI()` 方法。对接收到的文本进行了美化，插入换行符以使 JSON、HTML 和 XML
    更易于阅读。'
- en: There's more...
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Here are some ways to go further with this recipe.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些方法可以进一步使用这个食谱。
- en: Extracting the full leaderboard data for display within Unity
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提取完整的排行榜数据以在 Unity 中显示
- en: The XML/JSON text that can be retrieved from the PHP web server provides a useful
    method for allowing a Unity game to retrieve the full set of the leaderboard data
    from the database. Then, the leaderboard can be displayed to the user in the Unity
    game (perhaps, in a nice 3D fashion, or through a game-consistent UI).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 从 PHP 网络服务器检索到的 XML/JSON 文本为 Unity 游戏提供了一种有用的方法，允许游戏从数据库中检索完整的排行榜数据。然后，排行榜可以在
    Unity 游戏中显示给用户（可能以美观的 3D 风格，或通过与游戏一致的 UI 显示）。
- en: See Chapter [Working with Plain Text, XML, and JSON Text Files](https://cdp.packtpub.com/unity_2017_cookbook/wp-admin/post.php?post=490&action=edit)
    in this cookbook to learn how to process data in XML and JSON formats.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅本食谱中的第 [处理纯文本、XML 和 JSON 文本文件](https://cdp.packtpub.com/unity_2017_cookbook/wp-admin/post.php?post=490&action=edit)
    章节以了解如何处理 XML 和 JSON 格式的数据。
- en: Using the secret game codes to secure your leaderboard scripts
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用秘密游戏代码来保护排行榜脚本
- en: The Unity and PHP code that is presented illustrates a simple, unsecured web-based
    leaderboard. To prevent players hacking into the board with false scores, we should
    encode some form of secret game code (or key) into the communications. Only update
    requests that include the correct code will actually cause a change to the database.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 所展示的 Unity 和 PHP 代码演示了一个简单、未受保护的基于网络的排行榜。为了防止玩家使用虚假分数破解排行榜，我们应该将某种形式的秘密游戏代码（或密钥）编码到通信中。只有包含正确代码的更新请求才会实际导致数据库发生变化。
- en: 'The Unity code will combine the secret key (in this example, the **harrypotter **string)
    with something related to the communication – for example, the same MySQL/PHP
    leaderboard may have different database records for different games that are identified
    with a game ID:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: Unity代码将秘密密钥（在本例中为**harrypotter**字符串）与通信相关的内容结合在一起——例如，同一个MySQL/PHP排行榜可能为具有不同游戏ID的不同游戏有不同的数据库记录：
- en: '[PRE0]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: "The server-side PHP code will receive both the encrypted game code, and the\
    \ piece \Lof game data that is used to create that encrypted code. In this example,\
    \ it is the game ID and MD5 hashing function, which is available in both Unity\
    \ and in PHP. You can learn more about MD5 hashing on Wikipedia: [https://en.wikipedia.org/wiki/MD5](https://en.wikipedia.org/wiki/MD5)."
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器端PHP代码将接收加密的游戏代码以及用于创建该加密代码的游戏数据片段。在本例中，是游戏ID和MD5散列函数，这两个函数在Unity和PHP中都是可用的。您可以在维基百科上了解更多关于MD5散列的信息：[https://en.wikipedia.org/wiki/MD5](https://en.wikipedia.org/wiki/MD5)。
- en: 'The secret key (**harrypotter**) is used with the game ID to create an encrypted
    code that can be compared with the code received from the Unity game (or whatever
    user agent or browser is attempting to communicate with the leaderboard **Server**
    scripts). The database actions will only be executed if the game code created
    on the **Server** matches that sent along with the request for a database action:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 秘密密钥（**harrypotter**）与游戏ID结合使用，生成一个加密代码，该代码可以与从Unity游戏（或任何尝试与排行榜**服务器**脚本通信的用户代理或浏览器）接收到的代码进行比较。只有当在**服务器**上创建的游戏代码与随数据库操作请求发送的代码匹配时，数据库操作才会执行：
- en: '[PRE1]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Creating and cloning a GitHub repository
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建和克隆GitHub仓库
- en: '**Distributed Version Control Systems** (**DVCS**) are becoming a bread-and-butter
    everyday tool for software developers. An issue with Unity projects can be the
    many binary files in each project. There are also many files in a local system''s
    Unity project directory that are not needed for archiving/sharing, such as OS-specific
    thumbnail files and trash files. Finally, some Unity project folders themselves
    do not need to be archived, such as Temp and Library.'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '**分布式版本控制系统**（**DVCS**）正成为软件开发人员日常生活中的必备工具。Unity项目的问题可能是每个项目中都有许多二进制文件。在本地系统的Unity项目目录中，也有许多文件不需要存档/共享，例如特定操作系统的缩略图文件和垃圾文件。最后，一些Unity项目文件夹本身不需要存档，例如Temp和Library。'
- en: While Unity provides its own **Unity Teams** online collaboration, many small
    game developers chose not to pay for this extra feature. Also, Git and Mercurial
    (the most common DVCSs) are free, and work with any set of documents that are
    to be maintained (programs in any programming language, text-files, and so on).
    So, it makes sense to learn how to work with a third-party, industry-standard
    DVCS for the Unity projects. In fact, the documents for this very book were all
    archived and version-controlled using a private **GitHub** repository!
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然Unity提供了自己的**Unity Teams**在线协作工具，但许多小型游戏开发者选择不为此额外功能付费。此外，Git和Mercurial（最常见的DVCS）是免费的，并且可以与任何需要维护的文档集（任何编程语言的程序、文本文件等）一起使用。因此，学习如何使用第三方、行业标准DVCS来处理Unity项目是有意义的。实际上，本书的文档都是使用私有**GitHub**仓库存档和版本控制的！
- en: In this project, we'll create a new online project repository using the free
    **GitHub** server, and then clone (duplicate) a copy onto a local computer. The
    recipe that follows will then transfer a Unity project into the local project
    repository, and use the stored link from the cloning to push the changed files
    back up to the **GitHub** online server.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 在本项目中，我们将使用免费的**GitHub**服务器创建一个新的在线项目仓库，然后将副本克隆（复制）到本地计算机上。接下来的食谱将把Unity项目转移到本地项目仓库，并使用克隆存储的链接将更改后的文件推送到**GitHub**在线服务器。
- en: 'NOTE: **All** the projects from this Cookbook have been archived on **GitHub**
    in public repositories for you to read, download, edit, and run on your computer.
    Depsite a hard disk crash during the authoring of this book, no code was lost,
    since the steps of this recipe were being followed for every part of this book.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：**所有**来自本食谱的项目都已存档在**GitHub**的公共仓库中，供您阅读、下载、编辑和在您的计算机上运行。尽管在编写本书期间发生了硬盘故障，但由于遵循了本食谱的步骤，因此没有代码丢失。
- en: 'NOTE: **Git** is a version-control system, **GitHub** is one of several online
    systems that host projects archived in the **Git** format. A popular alternative
    to **GitHub** is **BitBucket**, which can host both **Git** and **Mercurial**
    version-control project formats.'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：**Git**是一个版本控制系统，**GitHub**是几个在线系统之一，用于托管以**Git**格式归档的项目。**GitHub**的一个流行替代品是**BitBucket**，它可以托管**Git**和**Mercurial**版本控制项目格式。
- en: Getting ready
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Since this recipe illustrates hosting code on **GitHub**, you'll need to create
    a (free) **GitHub** account at GitHub.com if you do not already have one.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个菜谱展示了如何在**GitHub**上托管代码，如果你还没有，你需要在GitHub.com上创建一个（免费）的**GitHub**账户。
- en: 'If not already installed, you''ll need to install **Git** on your local computer
    as part of this recipe. Learn how, and download the client from the following
    links:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如果尚未安装，你需要在本地计算机上安装**Git**作为此菜谱的一部分。了解如何操作，并从以下链接下载客户端：[https://git-scm.com/book/en/Getting-Started-Installing-Git](http://git-scm.com/book/en/Getting-Started-Installing-Git)
- en: '[http://git-scm.com/book/en/Getting-Started-Installing-Git](http://git-scm.com/book/en/Getting-Started-Installing-Git)'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://git-scm.com/book/en/Getting-Started-Installing-Git](http://git-scm.com/book/en/Getting-Started-Installing-Git)'
- en: '[http://git-scm.com/downloads/guis](http://git-scm.com/downloads/guis)'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://git-scm.com/downloads/guis](http://git-scm.com/downloads/guis)'
- en: The screenshots for this recipe were created on a Mac. On Windows, you would
    use the Git BASH (see [https://gitforwindows.org/](https://gitforwindows.org/))
    or Powershell (see [https://docs.microsoft.com/en-us/powershell/](https://docs.microsoft.com/en-us/powershell/))
    Terminal windows for command-line Git operations.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 本菜谱的截图是在Mac上创建的。在Windows上，你会使用Git BASH（见[https://gitforwindows.org/](https://gitforwindows.org/)）或Powershell（见[https://docs.microsoft.com/en-us/powershell/](https://docs.microsoft.com/en-us/powershell/)）终端窗口进行命令行Git操作。
- en: How to do it...
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'To create and clone a **GitHub** repository, do the following:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建和克隆一个**GitHub**仓库，请按照以下步骤操作：
- en: 'Install **Git** for the command line on your computer. As usual, it is good
    practice to do a system backup before installing any new application: [https://git-scm.com/book/en/v2/Getting-Started-Installing-Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git).'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的计算机上安装**Git**的命令行版本。像往常一样，在安装任何新应用程序之前进行系统备份是一个好习惯：[https://git-scm.com/book/en/v2/Getting-Started-Installing-Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)。
- en: 'Test that you have **Git** installed, by typing **git** at the command line
    in a terminal window. You should see text help displayed, showing a list of possible
    command options:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在终端窗口的命令行中输入**git**来测试你是否已安装**Git**。你应该会看到显示可能命令选项的文本帮助：
- en: '![](img/0acf7549-4a4b-4a80-8193-ac96380b222f.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![截图](img/0acf7549-4a4b-4a80-8193-ac96380b222f.png)'
- en: 'Open a web browser and nagivate to your **GitHub** repositories page:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个网页浏览器并导航到你的**GitHub**仓库页面：
- en: '![](img/bdd9dc78-c86f-4879-a8e7-3c59d79b1c71.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![截图](img/bdd9dc78-c86f-4879-a8e7-3c59d79b1c71.png)'
- en: 'Click the green button to start creating a new repository (such as my-github-demo):'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击绿色按钮开始创建一个新的仓库（例如**my-github-demo**）：
- en: Enter a name for the new repository, such as **my-github-demo**
  id: totrans-121
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为新仓库输入一个名称，例如**my-github-demo**
- en: Click the option to create a **README** (important, so you can clone the files
    to a local computer)
  id: totrans-122
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击创建**README**（重要，这样你就可以将文件克隆到本地计算机）
- en: 'Add a `.gitignore` file – choose the Unity one:'
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个`.gitignore`文件 - 选择Unity版本：
- en: '![](img/73601e73-1d55-4b9e-b2ca-e71f5e8fadf5.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![截图](img/73601e73-1d55-4b9e-b2ca-e71f5e8fadf5.png)'
- en: The `.gitignore` file is a special file; it tells the version control system
    which files do not need to be archived. For example, we don't need to record the
    Windows or Mac image thumbnail files (`DS_STORE` or `Thumbs.db`).
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '`.gitignore`文件是一个特殊的文件；它告诉版本控制系统哪些文件不需要归档。例如，我们不需要记录Windows或Mac的图像缩略图文件（`DS_STORE`或`Thumbs.db`）。'
- en: With the options selected, click the green Create Repository button.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择好选项后，点击绿色的创建仓库按钮。
- en: 'You should now be taken to the repository contents page. Click the green dropdown
    named Clone or download, and then click the URL copy-to-clipboard tool button.
    This has copied the special **GitHub** URL needed for connecting to GitHub and
    copying the files to your local computer:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在应该被带到仓库内容页面。点击名为“克隆或下载”的绿色下拉菜单，然后点击URL复制到剪贴板的工具按钮。这已经复制了连接到GitHub并将文件复制到本地计算机所需的特殊**GitHub**
    URL：
- en: '![](img/22ee34b0-6bb5-4576-864e-03b9e0e31ec1.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![截图](img/22ee34b0-6bb5-4576-864e-03b9e0e31ec1.png)'
- en: Open a command-line **Terminal** window, and navigate to the location where
    you wish to clone your **GitHub** project repository (such as Desktop or Unity-projects).
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个命令行**终端**窗口，并导航到你希望克隆你的**GitHub**项目仓库的位置（例如桌面或Unity-projects）。
- en: 'At the CLI (Command-Line Interface), type `**git clone**`, and then paste the
    URL from your clipboard, it will be something like [https://github.com/dr-matt-smith/my-unity-github-demo.git](https://github.com/dr-matt-smith/my-unity-github-demo.git):'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行界面（CLI）中，键入 `**git clone**`，然后粘贴您的剪贴板中的 URL，它将类似于 [https://github.com/dr-matt-smith/my-unity-github-demo.git](https://github.com/dr-matt-smith/my-unity-github-demo.git)：
- en: '![](img/cd7109d1-5911-4fb2-8930-199c5c07c249.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cd7109d1-5911-4fb2-8930-199c5c07c249.png)'
- en: Change into your cloned directory, such as `cd my-unity-github-demo`.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 切换到您的克隆目录，例如 `cd my-unity-github-demo`。
- en: 'List the files. You should see your `README.md`, and if you have the option
    to see hidden folders and files, you''ll also see `.git` and `.gitignore`:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 列出文件。您应该看到您的 `README.md` 文件，如果您有查看隐藏文件夹和文件的选项，您还会看到 `.git` 和 `.gitignore`：
- en: '![](img/092753d4-3335-4e26-8d65-038ae7238032.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/092753d4-3335-4e26-8d65-038ae7238032.png)'
- en: 'Use the `git remote -v` command to see the stored link from this copy of the
    project files on your computer, then back up to the GitHub online repository:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `git remote -v` 命令查看从您计算机上的项目文件副本存储的链接，然后将其备份到 GitHub 在线仓库：
- en: '[PRE2]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: How it works...
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: You learned how to create a new empty repository on the **GitHub** web server.
    You then cloned it to your local computer.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 您学习了如何在 **GitHub** 网络服务器上创建一个新的空仓库。然后您将其克隆到您的本地计算机上。
- en: You also checked to see that this clone had a link back to its remote origin.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 您还检查了此克隆是否有一个指向其远程源的反向链接。
- en: If you have simply downloaded and decompressed the ZIP file, you would not have
    the `.git` folder, nor would you have the remote links back to its GitHub origin.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你只是下载并解压了 ZIP 文件，你将没有 `.git` 文件夹，也不会有指向其 GitHub 源的远程链接。
- en: The .git file actually contains the entire history of changes to the project
    repository files – and using different Git commands, you can update the folder
    to re-instance any of the committed snapshots for the project repository contents.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '`.git` 文件实际上包含了项目仓库文件变更的整个历史记录——并且使用不同的 Git 命令，您可以更新文件夹以重新实例化项目仓库内容中提交的任何快照。'
- en: "The special file called `.gitignore` lists all the files and directories that\
    \ are **not** \Lto be archived. At the time of writing, here are the contents\
    \ of files that do not need to be archived (they are either unnecessary or can\
    \ be regenerated when a project is loaded into Unity):"
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 被称为 `.gitignore` 的特殊文件列出了所有不应存档的文件和目录。在撰写本文时，以下是无需存档的文件内容（它们要么是不必要的，要么在将项目加载到
    Unity 时可以重新生成）：
- en: '[PRE3]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: As we can see, folders such as **Library** and **Temp** are not to be archived.
    Note that if you have a project with a lot of resources (such as those using the
    2D or 3D Gamekits), rebuilding the **Library** may take some minutes depending
    on the speed of your computer.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们所见，**Library** 和 **Temp** 等文件夹不应存档。请注意，如果您有一个资源丰富的项目（例如使用 2D 或 3D Gamekits
    的项目），根据您计算机的速度，重新构建 **Library** 可能需要几分钟。
- en: 'Note that the recommended files to ignore for **Git** change from time to time
    as Unity changes its project folder structure. **GitHub** has a master recommended
    `.gitignore` for Unity, and it is recommended you review it from time to time,
    especially when upgrading to a new version of the Unity editor: [https://github.com/github/gitignore/blob/master/Unity.gitignore](https://github.com/github/gitignore/blob/master/Unity.gitignore).'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，推荐的忽略文件对于 **Git** 随着 Unity 项目文件夹结构的更改而不断变化。**GitHub** 为 Unity 提供了一个主推荐的 `.gitignore`
    文件，建议您定期查看它，尤其是在升级到 Unity 编辑器的新版本时：[https://github.com/github/gitignore/blob/master/Unity.gitignore](https://github.com/github/gitignore/blob/master/Unity.gitignore)。
- en: If you are using an older (pre-2018) version of Unity, you may need to look
    up what the appropriate `.gitignore` contents should be. The details given in
    this recipe were up to date for the 2018.2 version of the Unity editor.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是较旧（2018 年之前）的 Unity 版本，您可能需要查找适当的 `.gitignore` 内容。本食谱中给出的详细信息适用于 Unity
    编辑器的 2018.2 版本。
- en: There's more...
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Here are some ways to go further with this recipe.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些使用此食谱进一步发展的方法。
- en: Learn more about DVCS
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解更多关于分布式版本控制系统（DVCS）的信息
- en: 'Here is a short video introduction to DVCS: [http://youtu.be/1BbK9o5fQD4](http://youtu.be/1BbK9o5fQD4).'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个关于 DVCS 的简短视频介绍：[http://youtu.be/1BbK9o5fQD4](http://youtu.be/1BbK9o5fQD4)。
- en: 'Note that the Fogcreek Kiln "harmony" feature now allows seamless work between
    **Git** and **Mercurial** with the same Kiln repository: [http://blog.fogcreek.com/kiln-harmony-internals-the-basics/](http://blog.fogcreek.com/kiln-harmony-internals-the-basics/).'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，Fogcreek Kiln的“和谐”功能现在允许使用相同的Kiln仓库在**Git**和**Mercurial**之间无缝工作：[http://blog.fogcreek.com/kiln-harmony-internals-the-basics/](http://blog.fogcreek.com/kiln-harmony-internals-the-basics/)。
- en: Learn more about Git at the command line
  id: totrans-152
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在命令行中了解更多关于Git的信息
- en: If you are new to working with a **CLI**, it is well worth following up some
    online resources to improve your skills. Any serious software development will
    probably involve some work at a command line at some point.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你刚开始使用**CLI**，跟踪一些在线资源来提高你的技能是非常值得的。任何严肃的软件开发都可能需要在某个时候在命令行中进行一些工作。
- en: 'Since both **Git** and **Mercurial** are open source, there are lots of great,
    free online resources available. The following are some good sources to get you
    started:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 由于**Git**和**Mercurial**都是开源的，因此有很多优秀的免费在线资源可用。以下是一些好的起点资源：
- en: "Learn all about Git, download free GUI clients, and even get free online access\
    \ to \LThe Pro Git book (by Scott Chacon), available through Creative Commons\
    \ license: [http://git-scm.com/book](http://git-scm.com/book)."
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解Git的所有信息，下载免费的图形用户界面客户端，甚至可以通过创意共享许可免费在线访问*The Pro Git*书籍（由Scott Chacon编写）：[http://git-scm.com/book](http://git-scm.com/book)。
- en: 'You will find an online interactive Git command line to practice in: [https://try.github.io/levels/1/challenges/1](https://try.github.io/levels/1/challenges/1).'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你将找到一个在线交互式Git命令行来练习：[https://try.github.io/levels/1/challenges/1](https://try.github.io/levels/1/challenges/1)。
- en: Using Bitbucket and SourceTree visual applications
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Bitbucket和SourceTree可视化应用程序
- en: 'Unity offers a good tutorial on version-control using the Bitbucket website
    and the SourceTree application:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: Unity提供了一个很好的教程，介绍了使用Bitbucket网站和SourceTree应用程序进行版本控制：
- en: '[https://unity3d.com/learn/tutorials/topics/cloud-build/creating-your-first-source-control-repository](https://unity3d.com/learn/tutorials/topics/cloud-build/creating-your-first-source-control-repository)'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://unity3d.com/learn/tutorials/topics/cloud-build/creating-your-first-source-control-repository](https://unity3d.com/learn/tutorials/topics/cloud-build/creating-your-first-source-control-repository)'
- en: 'SourceTree is a free Mercurial and Git GUI client, available at:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: SourceTree是一个免费的Mercurial和Git图形用户界面客户端，可在以下地址获取：
- en: '[http://www.sourcetreeapp.com/](http://www.sourcetreeapp.com/)'
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.sourcetreeapp.com/](http://www.sourcetreeapp.com/)'
- en: Learning about Mercurial rather than Git
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解Mercurial而不是Git
- en: "The main Mercurial website, including free online access to *Mercurial*: \L\
    *The Definitive Guide* *(by Bryan O'Sullivan)* is available through the Open Publication\
    \ License at [http://mercurial.selenic.com/](http://mercurial.selenic.com/)."
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 主Mercurial网站，包括对*Mercurial*的免费在线访问*The Definitive Guide*（由Bryan O'Sullivan编写）可通过开放出版许可在[http://mercurial.selenic.com/](http://mercurial.selenic.com/)获取。
- en: Adding a Unity project to a local Git repository, and pushing files up to GitHub
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将Unity项目添加到本地Git仓库，并将文件推送到GitHub
- en: In the previous recipe, you created a new online project repository using the
    free **GitHub Server**, and then cloned (duplicate) a copy onto a local computer.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一个菜谱中，你使用免费的**GitHub Server**创建了一个新的在线项目仓库，然后将其克隆（复制）到本地计算机上。
- en: In this recipe, we will transfer a Unity project into the local project repository,
    and use the stored link from the cloning to push the changed files back up to
    the Guthub online **Server**.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将把Unity项目转移到本地项目仓库，并使用克隆时存储的链接将更改后的文件推回Guthub在线**服务器**。
- en: Getting ready
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: This recipe follows on from the previous one, so ensure you've completed that
    receipe before beginning this one.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 这个菜谱是基于上一个菜谱的，所以确保你在开始这个菜谱之前已经完成了那个菜谱。
- en: How to do it...
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'To add a Unity project to a **Git** repository, and push it up to **GitHub**,
    do the following:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 要将Unity项目添加到**Git**仓库，并将其推送到**GitHub**，请执行以下操作：
- en: Create a new Unity project (or make use of an old one), save the **Scene**,
    and quit Unity. For example, we created a project named **project-for-version-control**
    that contains the default `SampleScene` and a Material named `m_red`. It is the
    asset files in the Project panel that are the files that are stored on disk, and
    are the ones you'll be version controlling with **Git** and **GitHub**.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的Unity项目（或者使用一个旧项目），保存**场景**，并退出Unity。例如，我们创建了一个名为**project-for-version-control**的项目，其中包含默认的`SampleScene`和一个名为`m_red`的材质。项目面板中的资产文件是存储在磁盘上的文件，也是你将使用**Git**和**GitHub**进行版本控制的文件。
- en: It is important that all work has been saved and the Unity application is not
    running when you are archiving your Unity project, since if Unity is open there
    may be unsaved changes that will not get correctly recorded.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在您存档Unity项目时，非常重要的一点是所有工作都已保存，Unity应用程序没有运行，因为如果Unity是打开的，可能会有未保存的更改，这些更改将无法正确记录。
- en: 'On your computer, copy the following folders into the folder of your cloned
    **GitHub** repository:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的计算机上，将以下文件夹复制到您克隆的**GitHub**仓库的文件夹中：
- en: '[PRE4]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The folder after copying these contents is illustrated below:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制这些内容后的文件夹如下所示：
- en: '![](img/300f8fcf-197e-4d50-ad51-cfcc125c6c6a.png)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/300f8fcf-197e-4d50-ad51-cfcc125c6c6a.png)'
- en: At the **CLI**, type git status to see a list of folders/files that have changed
    and need to be committed to the next snapshot of project contents for out **Git**
    version-control system.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**CLI**中，输入`git status`以查看已更改并需要提交到项目内容下一个快照的文件夹/文件列表。
- en: Add all these files by typing `git add`.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过输入`git add`添加所有这些文件。
- en: 'Commit our new snapshot with the `git commit -m "files added to project"` command:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`git commit -m "files added to project"`命令提交我们的新快照：
- en: '[PRE5]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'We have created a snapshop of the new files and folders, so now we can push
    this new committed snapshot up to the GitHub cloud servers. Type `git push origin
    master`:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们已经创建了新文件和文件夹的快照，因此现在我们可以将这个新提交的快照推送到GitHub云服务器。输入`git push origin master`：
- en: '[PRE6]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'NOTE: The first time you do this, you''ll be asked for your **GitHub** username
    and password.'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：第一次这样做时，您将被要求输入您的**GitHub**用户名和密码。
- en: 'Visit **GitHub**, you should see that there is a new commit, and that your
    Unity files and folders have been uploaded to the **GitHub** online repository:'
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问**GitHub**，您应该会看到有一个新的提交，并且您的Unity文件和文件夹已上传到**GitHub**在线仓库：
- en: '![](img/bbf22bda-2a24-403b-8947-d02d98f1c773.png)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bbf22bda-2a24-403b-8947-d02d98f1c773.png)'
- en: How it works...
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In the previous recipe, you had created a project repository on the **GitHub**
    cloud **Server**, and then cloned it to your local machine. You then added the
    files from a (closed) Unity application to the cloned project repository folder.
    These new files were added and committed to a new **snapshot** of the folder,
    and the updated contents pushed up to the **GitHub Server**.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一个菜谱中，您在**GitHub**云**服务器**上创建了一个项目仓库，然后将其克隆到您的本地机器上。然后，您将来自（关闭的）Unity应用程序的文件添加到克隆的项目仓库文件夹中。这些新文件被添加并提交到一个新的文件夹**快照**中，并将更新的内容推送到**GitHub服务器**。
- en: 'Due to the way Unity works, it creates a new folder when a new project is created.
    Therefore, we had to turn the contents of this the Unity project folder into a
    **Git** repository. There are two ways to do this:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Unity的工作方式，当创建新项目时，它会创建一个新的文件夹。因此，我们必须将Unity项目文件夹的内容转换为**Git**仓库。有两种方法可以做到这一点：
- en: Copy the files from the Unity project to a cloned **GitHub** repository (so
    it has remote links set up for pushing back to the **GitHub** server).
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Unity项目的文件复制到克隆的**GitHub**仓库中（以便设置远程链接以推送到**GitHub**服务器）。
- en: Make the Unity project folder into a **Git** repository, and then either link
    it to a remote **GitHub** repository, or push the folder contents to the **GitHub**
    server and create a new online repository at that point in time
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Unity项目文件夹转换为**Git**仓库，然后将其链接到远程**GitHub**仓库，或者将文件夹内容推送到**GitHub**服务器，并在该点创建一个新的在线仓库
- en: For people new to Git and GitHub, the first procedure, which we followed in
    this recipe, is probably the simplest to understand. Also, it is the easiest to
    fix if something goes wrong – since a new GitHub repo can be created, cloned to
    the local machine, and the Unity project files copied there, and then pushed up
    to GitHub (and the old repo deleted), by pretty much following the same set of
    steps.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Git和GitHub的新手来说，我们在这道菜谱中遵循的第一个步骤可能是最容易理解的。此外，如果出现问题，它也最容易修复——因为可以创建一个新的GitHub仓库，克隆到本地机器上，并将Unity项目文件复制到那里，然后推送到GitHub（并删除旧仓库），基本上遵循相同的步骤集。
- en: Interestingly, the second approach is recommended when using the **Open Source
    GitHub for Unity** package – which is explored in the next recipe.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，当使用**开源GitHub for Unity**包时，建议使用第二种方法——这将在下一个菜谱中探讨。
- en: Unity project version-control using GitHub for Unity
  id: totrans-193
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 GitHub for Unity 进行 Unity 项目版本控制
- en: '**GitHub** has released an **Open Source** tool integrating **Git** and **GitHub**
    into Unity, which we''ll explore in this recipe.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '**GitHub**发布了一个将**Git**和**GitHub**集成到Unity中的**开源**工具，我们将在本菜谱中探讨。'
- en: Getting ready
  id: totrans-195
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'You will need **Git** installed at the command line on your computer:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要在您的计算机的命令行上安装**Git**：
- en: '[https://git-scm.com/book/en/v2/Getting-Started-Installing-Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://git-scm.com/book/en/v2/Getting-Started-Installing-Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)'
- en: 'You may need to install Git LFS (Large File Storage) for the GitHub for Unity
    package to work correctly:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能需要安装Git LFS（大型文件存储）以使GitHub for Unity包正常工作：
- en: '[https://git-lfs.github.com/](https://git-lfs.github.com/)'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://git-lfs.github.com/](https://git-lfs.github.com/)'
- en: You may wish to create a .gitattributes file to specify which files should be
    used with Git **Large File Storage** (**LFS)**. For some guidance, check out Rob
    Reilly's useful article, *How to Git With Unity*: [https://robots.thoughtbot.com/how-to-git-with-unity](https://robots.thoughtbot.com/how-to-git-with-unity).
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能希望创建一个.gitattributes文件来指定哪些文件应该使用Git **大型文件存储** (**LFS**)。为了获得一些指导，请查看Rob
    Reilly的有用文章，*如何使用Git与Unity*：[https://robots.thoughtbot.com/how-to-git-with-unity](https://robots.thoughtbot.com/how-to-git-with-unity)。
- en: How to do it...
  id: totrans-201
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'To manage Unity project version-control using GitHUb for Unity, do the following:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用GitHUb for Unity管理Unity项目的版本控制，请按照以下步骤操作：
- en: Start a new Unity project.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开始一个新的Unity项目。
- en: 'Open the Asset Store panel, choose menu: Window | General | Asset Store.'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开Asset Store面板，选择菜单：窗口 | 通用 | Asset Store。
- en: 'In the Asset Store, search for GitHub for Unity, download and import this into
    your project:'
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Asset Store中搜索GitHub for Unity，下载并将其导入到您的项目中：
- en: '![](img/0b96b117-9240-46e5-8557-9cbd4d0926d2.png)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0b96b117-9240-46e5-8557-9cbd4d0926d2.png)'
- en: If there is a popup about a newer version, accept it and download the newer
    version. This will download as a Unity package (probably in your Downloads folder),
    which you can then import into your Unity project.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果出现有关新版本的弹出窗口，请接受它并下载新版本。这将作为一个Unity包（可能位于您的下载文件夹中）下载，然后您可以将其导入到您的Unity项目中。
- en: 'Once imported, you should see a Plugins | GitHub folder in your Project panel.
    You will also now see two new items on your Window menu, for GitHub and GitHub
    Command Line:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入后，您应该在项目面板中看到一个新的Plugins | GitHub文件夹。您现在也会在窗口菜单中看到两个新的项目，分别是GitHub和GitHub命令行：
- en: '![](img/79ae288e-f6f7-4110-b7cf-b31f544d7342.png)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/79ae288e-f6f7-4110-b7cf-b31f544d7342.png)'
- en: Choosing the Window | GitHub Command Line allows you to use the Git commands
    listed in the previous two recipes (it will open at the directory of your Unity
    project).
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择窗口 | GitHub命令行允许您使用前两个菜谱中列出的Git命令（它将在您的Unity项目目录中打开）。
- en: 'Choosing the Window | GitHub menu item will result in a GitHub panel being
    displayed. Initially this project is not a **Git** repository, so it will need
    to be initialized as a new **Git** project, which can be performed by clicking
    the Initialize as a git repository for this project button:'
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择窗口 | GitHub菜单项将导致显示GitHub面板。最初此项目不是**Git**仓库，因此需要将其初始化为新的**Git**项目，这可以通过点击“为此项目初始化为git仓库”按钮来完成：
- en: '![](img/72052137-e4b6-425b-ac20-bd79eda27d15.png)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/72052137-e4b6-425b-ac20-bd79eda27d15.png)'
- en: 'You will be able to see that there is one commit, for the snapshot for this
    initialization of the Git version-control-tracking for this project:'
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将能够看到有一个提交，这是为此项目的Git版本控制跟踪初始化的快照：
- en: '![](img/b4670f6e-6197-43b0-89f5-2c8629907734.png)'
  id: totrans-214
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b4670f6e-6197-43b0-89f5-2c8629907734.png)'
- en: 'Sign in with your **GitHub** username and password:'
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您的**GitHub**用户名和密码登录：
- en: '![](img/2bdadd82-34f2-4aac-9c67-c1420cd3e117.png)'
  id: totrans-216
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/2bdadd82-34f2-4aac-9c67-c1420cd3e117.png)'
- en: 'Open a web browser, log in to your **GitHub** account, and create a new empty
    repository (with no extra files, that is, no `README`, `.gitignore`, or `Licence`):'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开网页浏览器，登录您的**GitHub**账户，并创建一个新的空仓库（没有额外文件，即没有`README`、`.gitignore`或`Licence`）：
- en: '![](img/75622bc4-371c-4f7e-9d58-b54b988d880a.png)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/75622bc4-371c-4f7e-9d58-b54b988d880a.png)'
- en: 'Copy the URL for the new repository onto your clipboard:'
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新仓库的URL复制到您的剪贴板：
- en: '![](img/88730c9a-09ed-43cd-853e-f95af23dd5eb.png)'
  id: totrans-220
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/88730c9a-09ed-43cd-853e-f95af23dd5eb.png)'
- en: 'Back in Unity, for the **GitHub** panel, click the Settings button, paste the
    URL for the `Remote: origin` property, and click the Save Repository button to
    save this change. Your Unity project is now linked to the remote **GitHub** cloud
    repository:'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Unity中，对于GitHub面板，点击设置按钮，粘贴`远程：origin`属性的URL，然后点击“保存仓库”按钮以保存此更改。您的Unity项目现在已链接到远程**GitHub**云仓库：
- en: '![](img/e2d33ec0-d421-44e5-a526-d2aa31f6bcca.png)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e2d33ec0-d421-44e5-a526-d2aa31f6bcca.png)'
- en: You may now commit and push changes from your Unity project up to **GitHub**.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在可以从Unity项目提交并推送更改到**GitHub**。
- en: 'Add some new assets (such as a new C# script and a **Material** named **m_red**).
    Click the Changes tab in the GitHub panel, ensure the complete `Assets` folder
    is checked (and all its contents), write a brief summary of the changes, and click
    the Commit to [master] button:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一些新的资源（例如一个新的C#脚本和一个名为**m_red**的**Material**）。在GitHub面板中点击“更改”标签页，确保完整的“Assets”文件夹被选中（及其所有内容），简要描述更改，然后点击“提交到[master]”按钮：
- en: '![](img/e1083a39-f50d-43be-aa50-5ab836d1f5bc.png)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e1083a39-f50d-43be-aa50-5ab836d1f5bc.png)'
- en: 'You now have a commited snapshot of the new Unity project contents on your
    computer. Push this new committed snapshot up to the **GitHub** server by clicking
    the Push (1) button. The (1) indicates that there is one new commited snapshot
    locally that has not yet been pushed, that is, the local machine is 1 commit ahead
    of the master on the **GitHub Server**:'
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在已经在你的电脑上有一个提交的新Unity项目内容快照。通过点击“推送到（1）”按钮，将这个新的提交快照推送到**GitHub**服务器。这里的（1）表示本地有一个尚未推送的新提交快照，也就是说，本地机器比**GitHub服务器**上的master领先1个提交：
- en: '![](img/ae7cd615-2616-4ad0-ac0f-bb2869dfc75e.png)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ae7cd615-2616-4ad0-ac0f-bb2869dfc75e.png)'
- en: 'Visit the repository on **GitHub** in your web browser, and you''ll see the
    new committed snapshot of the Unity project contents have been pushed up from
    your computer to the **GitHub** cloud **Servers**:'
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的网络浏览器中访问**GitHub**上的仓库，你会看到Unity项目内容的新提交快照已经从你的电脑推送到**GitHub**云**服务器**：
- en: '![](img/5aef0fb7-796c-48d4-9559-34a0bc770be6.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5aef0fb7-796c-48d4-9559-34a0bc770be6.png)'
- en: How it works...
  id: totrans-230
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理...
- en: 'The **GitHub for Unity** package adds a special panel with functionality for
    the following **Git**/**GitHub** actions:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '**GitHub for Unity**包添加了一个具有以下**Git**/**GitHub**操作功能的特殊面板：'
- en: Initializing a new **Git** project repository for the current Unity Project
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为当前Unity项目初始化一个新的**Git**项目仓库
- en: Signing in with your **GitHub** username and password credentials
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用你的**GitHub**用户名和密码凭证登录
- en: Linking your Unity project's **Git** history to a remote **GitHub** online repository
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将Unity项目的**Git**历史记录链接到远程**GitHub**在线仓库
- en: Committing a snapshot of the changes in the Unity project you wish to record
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将Unity项目中你希望记录的更改快照提交
- en: Pushing committed changes to the remove **GitHub** online repository
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将提交的更改推送到远程**GitHub**在线仓库
- en: There's more...
  id: totrans-237
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Here are some ways to go further with this recipe.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些使用此食谱进一步发展的方法。
- en: Further reading about GitHub for Unity
  id: totrans-239
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 关于GitHub for Unity的进一步阅读
- en: 'Check out the following links for more information:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下链接以获取更多信息：
- en: 'The project website: [https://unity.github.com/](https://unity.github.com/)'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目网站：[https://unity.github.com/](https://unity.github.com/)
- en: 'The Quick Start guide: [https://github.com/github-for-unity/Unity/blob/master/docs/using/quick-guide.md](https://github.com/github-for-unity/Unity/blob/master/docs/using/quick-guide.md)'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 快速入门指南：[https://github.com/github-for-unity/Unity/blob/master/docs/using/quick-guide.md](https://github.com/github-for-unity/Unity/blob/master/docs/using/quick-guide.md)
- en: Pulling down updates from other developers
  id: totrans-243
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从其他开发者那里拉取更新
- en: The **GitHub** plugin also provides the feature of being able to pull down changes
    from the remote **GitHub** repository to your computer (useful if you are working
    on multiple computers, or a fellow game developer is helping add features to your
    game).
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '**GitHub**插件还提供了从远程**GitHub**仓库拉取更改到你的电脑的功能（如果你在多台电脑上工作，或者有其他游戏开发者帮助你添加游戏功能，这很有用）。'
- en: If you are working with other game developers, it is very useful to learn about
    Git branches. Also, before starting work on a new feature, perform a pull to ensure
    you are then working with the most up-to-date version of the project.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你与其他游戏开发者一起工作，了解Git分支非常有用。在开始新功能的工作之前，执行一次pull操作，以确保你正在使用项目最新版本的更新。
- en: Unity Collaborate from Unity Technologies
  id: totrans-246
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Unity Collaborate由Unity Technologies提供
- en: Although **Git** and **GitHub** are used for many Unity projects, they are general-purpose
    version-control technologies. Unity Technologies offers its own online system
    for developers and teams to collaboratively work on the same Unity projects, however
    this is a feature that is no longer in the free Unity licence plan.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然许多Unity项目使用**Git**和**GitHub**，但它们是通用的版本控制技术。Unity Technologies为开发者和团队提供了一个自己的在线系统，以便他们可以协作工作在同一Unity项目上，然而，这个功能已不再包含在免费的Unity许可证计划中。
- en: 'Learn more about **Unity Collaborate** and **Unity Teams** on the Unity website:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 在Unity网站上了解更多关于**Unity Collaborate**和**Unity Teams**的信息：
- en: '[https://unity3d.com/unity/features/collaborate](https://unity3d.com/unity/features/collaborate)'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://unity3d.com/unity/features/collaborate](https://unity3d.com/unity/features/collaborate)'
- en: '[https://unity3d.com/teams](https://unity3d.com/teams)'
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://unity3d.com/teams](https://unity3d.com/teams)'
- en: Preventing your game from running on unknown servers
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 防止你的游戏在未知服务器上运行
- en: After all the hard work you've had to go through to complete your web game project,
    it wouldn't be fair if it ended up generating traffic and income on someone else's
    website. In this recipe, we will create a script that prevents the main game menu
    from showing up unless it's hosted by an authorized **Server**.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在完成你的网页游戏项目所必须经历的艰辛工作之后，如果它最终在别人的网站上产生流量和收入，那就太不公平了。在这个配方中，我们将创建一个脚本，以防止除非由授权
    **服务器** 托管，否则主游戏菜单显示。
- en: Getting ready
  id: totrans-253
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, you will need access to a webspace provider where you can host
    the game. However, you can test locally using a localhost web **Server**, such
    as the built-in PHP one, or an AMP Apache or Nginx web server.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个配方，你需要访问一个可以托管游戏的网络空间提供商。然而，你可以使用本地主机网络 **服务器** 进行测试，例如内置的 PHP 服务器，或者 AMP
    Apache 或 Nginx 网络服务器。
- en: You also will need to have installed the Unity **WebGL** build target.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 你还需要安装 Unity **WebGL** 构建目标。
- en: 'NOTE: At the time of writing (summer 2018), for macOS computers, there is still
    an issue adding the **WebGL** package if it is not included at the time of original
    installation via Unity Hub. The macOS WebGL package requires the Unity application
    to be in the Applications | Unity folder. When installed via Unity Hub, it is
    actually in Applications | Unity | Hub | Editor | 2018.2.2f1\. If you have multiple
    versions, they will each be in the Editor folder. The solution for installing
    WebGL for a particular Unity version is to temporarily move the Applications |
    Unity | Hub folder somewhere else (such as the desktop), and then to copy (or
    temporarily move) the contents of your Unity version folder (for me it was 2018
    .2.2f1) into Applications | Unity. Then you can run the WebGL package installer
    successfully and it will add to the `PlaybackEngines` folder in Applications |
    Unity. Finally, you can move the Unity applications back where they were for **Unity
    Hub** to continue working.'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：在撰写本文时（2018 年夏季），对于 macOS 计算机，如果在通过 Unity Hub 进行原始安装时未包含 **WebGL** 包，则仍然存在添加
    **WebGL** 包的问题。macOS WebGL 包需要 Unity 应用程序位于 Applications | Unity 文件夹中。通过 Unity
    Hub 安装时，它实际上位于 Applications | Unity | Hub | Editor | 2018.2.2f1。如果你有多个版本，它们将各自位于
    Editor 文件夹中。为特定 Unity 版本安装 WebGL 的解决方案是将 Applications | Unity | Hub 文件夹临时移动到其他位置（例如桌面），然后将你的
    Unity 版本文件夹（对我来说是 2018.2.2f1）的内容复制（或临时移动）到 Applications | Unity。然后你可以成功运行 WebGL
    包安装程序，它将在 Applications | Unity 的 `PlaybackEngines` 文件夹中添加。最后，你可以将 Unity 应用程序移回它们原来的位置，以便
    **Unity Hub** 继续工作。
- en: How to do it...
  id: totrans-257
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'To prevent your web game from being pirated, follow these steps:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 要防止你的网页游戏被盗版，请按照以下步骤操作：
- en: 'From the Hierarchy, create a **UI Text** GameObject named Text-loading-warning,
    choosing menu: Create | UI | Text.'
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从层次结构中创建一个名为 Text-loading-warning 的 **UI Text** GameObject，选择菜单：创建 | UI | 文本。
- en: In the Inspector for the **Text** component enter Loading...
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **Text** 组件的检查器中输入 Loading...
- en: Set the properties for the **Text (Script)** component in the **Inspector**
    set the **Horizontal** and **Vertical Overflow** to **Overflow**, and use the
    Rect Transform to align the object in the center of the **Scene**. Make the font
    size nice and big (50).
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **检查器** 中设置 **Text (Script)** 组件的属性，将 **水平** 和 **垂直溢出** 设置为 **溢出**，并使用 Rect
    Transform 将对象对齐到 **场景** 的中心。使字体大小适中（50）。
- en: 'Create a new C# script class named `BlockAccess`, and add an instance object
    as a component to the **Text-loading-warning** GameObject:'
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的 C# 脚本类名为 `BlockAccess`，并将实例对象作为组件添加到 **Text-loading-warning** GameObject：
- en: '[PRE7]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'From the Inspector, leave the Full URL option checked, increase Size of Domain
    List to `1`, and fill out Element 0 with the complete URL for your game. In the
    Warning field, type in "This is not a valid game copy":'
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在检查器中，保留 Full URL 选项选中，将域名列表的大小增加到 `1`，并在元素 0 中填写你游戏的完整 URL。在警告字段中，输入 "这不是一个有效的游戏副本"：
- en: '![](img/c255da69-1d7c-416a-8c5a-b856de5fa159.png)'
  id: totrans-265
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c255da69-1d7c-416a-8c5a-b856de5fa159.png)'
- en: 'Save your Scene as `scene0-loading`. Add this Scene to the Build (menu: File
    | Build Settings...). It should be the first one, with index 0.'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将你的场景保存为 `scene0-loading`。将此场景添加到构建（菜单：文件 | 构建设置...）。它应该是第一个，索引为 0。
- en: Create a new Scene, change its Main Camera background color to black, and add
    a UI Text message saying Game would play now.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的场景，将主相机的背景颜色更改为黑色，并添加一个 UI Text 消息，说明游戏现在将播放。
- en: Save this second Scene as `scene1-gamePlaying`. Add this Scene to the Build –
    it should be the second one, with index 1.
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将这个场景保存为 `scene1-gamePlaying`。将这个场景添加到构建中——它应该是第二个，索引为1。
- en: 'Let''s build our **WebGL** files. Again, open the Build Settings panel, and
    this time ensure that the deployment platform is WebGL. Click the Build button,
    and choose the name and folder to be the location for your built files:'
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们构建我们的 **WebGL** 文件。再次打开构建设置面板，这次确保部署平台是 WebGL。点击构建按钮，并选择构建文件的名称和文件夹位置：
- en: '![](img/1315da9d-4162-4abe-b3ea-df0b2981d554.png)'
  id: totrans-270
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/1315da9d-4162-4abe-b3ea-df0b2981d554.png)'
- en: 'You should now have a folder containing an HTML file (`index.html`) and the `Build`
    and `TemplateData` folders:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你应该有一个包含HTML文件（`index.html`）以及 `Build` 和 `TemplateData` 文件夹的文件夹：
- en: '![](img/cdccb393-a549-4fe7-a2da-4b2f22b63848.png)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/cdccb393-a549-4fe7-a2da-4b2f22b63848.png)'
- en: Copy these folder contents to the public folder on your web **Server**, and
    use the browser to access the web page through the web **Server**.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将这些文件夹内容复制到你的网络 **服务器** 的公共文件夹中，并使用浏览器通过网络 **服务器** 访问网页。
- en: If your URL is in the list, you'll see the game play (possible with a short
    view of the **Loading... Scene message**). If your URL is not in the list, you'll
    see the **This is not a valid game copy** message, and the game will not start
    playing.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你的URL在列表中，你会看到游戏播放（可能伴随着 **加载... 场景** 消息的短暂显示）。如果你的URL不在列表中，你会看到 **这不是有效的游戏副本**
    消息，并且游戏将无法开始播放。
- en: If you try to open the file using your web browser, you will probably get a
    WebGL not working error. You must be visiting the HTML page through a web server
    (such as `localhost:8000` or from your publicly-hosted page).
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你尝试使用你的网络浏览器打开文件，你可能会遇到 WebGL 无法工作错误。你必须通过网络服务器（例如 `localhost:8000` 或从你的公开托管页面）访问HTML页面。
- en: How it works...
  id: totrans-276
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: As soon as the **Scene** starts, the script compares the actual URL of the location
    of the running Unity-generated **WebGL** webpage to the ones listed in the **BlockAccess**
    scripted component. If they don't match, the next level in the build is not loaded
    and a message appears on the screen. If they do match, the next scene from the
    build list will be loaded.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦 **场景** 开始，脚本会将运行中的Unity生成的 **WebGL** 网页的实际URL与 **BlockAccess** 脚本组件中列出的URL进行比较。如果不匹配，构建的下一级将不会加载，并在屏幕上显示消息。如果匹配，构建列表中的下一个场景将被加载。
- en: There's more...
  id: totrans-278
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更多内容...
- en: Here are some ways to go further with this recipe.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些方法可以进一步使用这个食谱。
- en: Enabling WebGL in Google Chrome
  id: totrans-280
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Google Chrome中启用WebGL
- en: 'For this recipe, you''ll need **WebGL** enabled in your web browser. At present,
    our test browser (Google Chrome) has WebGL disabled by default. To enabled **WebGL**
    in Google Chrome, do the following:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个食谱，你需要在你的网络浏览器中启用 **WebGL**。目前，我们的测试浏览器（Google Chrome）默认禁用了WebGL。要在Google
    Chrome中启用 **WebGL**，请执行以下操作：
- en: Open Google Chrome and enter the `chrome://flags` URL.
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开Google Chrome并输入 `chrome://flags` URL。
- en: Locate the **Web GL Draft Extensions** (search for **WebGL**).
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定位到 **Web GL Draft Extensions**（搜索 **WebGL**）。
- en: Use the drop-down menu to change from **Disabled** to **Enabled.**
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用下拉菜单将状态从 **禁用** 切换到 **启用**。
- en: 'Click the **RELAUNCH NOW** button to restart the application with the new settings
    as active:'
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **立即重新启动** 按钮以使用新设置重新启动应用程序：
- en: '![](img/45b908bc-2706-44a3-913c-b7916b7dc7d6.png)'
  id: totrans-286
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/45b908bc-2706-44a3-913c-b7916b7dc7d6.png)'
- en: You should now be able to use web pages with embedded **WebGL** content.
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你应该能够使用嵌入 **WebGL** 内容的网页。
- en: Improving security by using full URLs in your domain list
  id: totrans-288
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过在域名列表中使用完整URL提高安全性
- en: Your game will be more secure if you fill out the domain list with complete
    URLs, such as [http://www.myDomain.com/unitygame/index.html](http://www.myDomain.com/unitygame/index.html),
    rather than just the main domain, such as www.myDomain.com. In fact, it's recommended
    that you leave the Full URL option selected so that your game won't be stolen
    and published under a URL such as www.stolenGames.com/yourgame.html?www.myDomain.com.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在域名列表中填写完整的URL，例如 [http://www.myDomain.com/unitygame/index.html](http://www.myDomain.com/unitygame/index.html)，而不是仅仅填写主域名，例如
    www.myDomain.com，那么你的游戏将更加安全。实际上，建议你选择保留完整URL选项，这样你的游戏就不会被盗用并在类似 www.stolenGames.com/yourgame.html?www.myDomain.com
    这样的URL下发布。
