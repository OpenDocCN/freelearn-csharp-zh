<html><head></head><body>
		<div id="_idContainer104">
			<h1 id="_idParaDest-153" class="chapter-number"><a id="_idTextAnchor160"/>9</h1>
			<h1 id="_idParaDest-154"><a id="_idTextAnchor161"/>Unit Testing</h1>
			<p>Until now, we’ve been focusing on creating the app, but there is danger in going too far without introducing unit testing. In this chapter, we will focus on writing comprehensive and meaningful unit tests using <span class="No-Break">best practices.</span></p>
			<p class="callout-heading">Test-driven development (TDD)</p>
			<p class="callout">Some developers believe that unit tests should come <em class="italic">before</em> the code (TDD), but that is beyond the scope of <span class="No-Break">this book.</span></p>
			<p>Unit testing is <a id="_idIndexMarker357"/>crucial to creating robust applications and knowing that your app works before you ship it. It is also a critical aspect of debugging, telling you right away if something you just changed or added broke some aspect of <span class="No-Break">your app.</span></p>
			<p>To facilitate unit tests, you’ll want to use dependency injection so that you can mock up time-consuming services, such as APIs, databases, and so on. We’ll spend time with mocks, injected into our test classes, to ensure that we are processing data <span class="No-Break">as intended.</span></p>
			<p>The specific topics in this chapter are <span class="No-Break">as follows:</span></p>
			<ul>
				<li>Why create <span class="No-Break">unit tests?</span></li>
				<li>Getting started creating <span class="No-Break">unit tests</span></li>
				<li><span class="No-Break">Mocks</span></li>
				<li><span class="No-Break">Dependency injection</span></li>
				<li><span class="No-Break">NSubstitute</span></li>
			</ul>
			<h1 id="_idParaDest-155"><a id="_idTextAnchor162"/>Technical requirements</h1>
			<p>To follow along with this chapter, you will need Visual Studio. You will also install two NuGet packages, as shown in the chapter itself. If you are going to enter the code as you go, you’ll want to start with the source from the previous <span class="No-Break">chapter: </span><a href="https://github.com/PacktPublishing/.NET-MAUI-for-C-Sharp-Developers/tree/persistence"><span class="No-Break">https://github.com/PacktPublishing/.NET-MAUI-for-C-Sharp-Developers/tree/persistence</span></a><span class="No-Break">.</span></p>
			<p>The source code for this chapter can be found <span class="No-Break">here:<a id="_idTextAnchor163"/> </span><a href="https://github.com/PacktPublishing/.NET-MAUI-for-C-Sharp-Developers/tree/UnitTests"><span class="No-Break">https://github.com/PacktPublishing/.NET-MAUI-for-C-Sharp-Developers/tree/UnitTests</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-156"><a id="_idTextAnchor164"/>Why create unit tests?</h1>
			<p>There<a id="_idIndexMarker358"/> are many types of tests you will want to run on a production app. These include unit tests (testing one small part of an app – typically, a method), integration tests (how well the parts of the program run together), UI tests (making sure that interacting with the UI acts as expected), and end-to-end tests (making sure the entire program works <span class="No-Break">as expected).</span></p>
			<p><strong class="bold">Unit tests</strong> are a<a id="_idIndexMarker359"/> critical part of this process and are created for every method and every unit of logic. In fact, multiple tests are typically created for each unit, so that you can test the happy path, the sad path, and <span class="No-Break">corner conditions.</span></p>
			<p>The <strong class="bold">happy path</strong> is <a id="_idIndexMarker360"/>when the data is as expected. The <strong class="bold">sad path</strong> is when<a id="_idIndexMarker361"/> the data is predictably wrong (for example, the user does not enter a <span class="No-Break">required field).</span></p>
			<p><strong class="bold">Corner conditions</strong> (also called <strong class="bold">edge cases</strong>) are<a id="_idIndexMarker362"/> those situations that are unlikely to <a id="_idIndexMarker363"/>happen but might (for example, the user enters <strong class="source-inline">123</strong> as <span class="No-Break">the username).</span></p>
			<p>A key benefit of unit tests is that they make your code less <em class="italic">brittle</em>. Without unit tests, it is easy to get into a situation where a change over here breaks code over there, and you don’t know about the breakage until either you run the entire program or, worse, your customer <span class="No-Break">finds it.</span></p>
			<p>Key to all of this is that research has shown that it is easier and less expensive to fix a bug found during a unit test than it is to find bugs found later. For example, in the 1990s, Capers Jones analyzed data about bugs from more than 400 software projects and found that the cost of fixing a bug increased by a factor of 6 to 7 for every phase <span class="No-Break">of development.</span></p>
			<p>Furthermore, unit tests act as excellent documentation for your app, describing precisely what you expect to happen under a wide variety of situations. Unlike comments, which rust – that is, become out of sync with the code – unit tests can never depart from the code because they will break when your code changes in ways that make the expected <span class="No-Break">outcome change.</span></p>
			<h2 id="_idParaDest-157"><a id="_idTextAnchor165"/>Vote early and vote often</h2>
			<p>It is important<a id="_idIndexMarker364"/> to run all of your unit tests after every change you make to the code. You want to catch inadvertent and unwanted side effects as quickly as possible. However, for this to work, your unit tests must be <em class="italic">fast</em>. A suite of unit tests that take an appreciable amount of time to run will be used less often. The longer they take to run, the less frequently the programmer will <span class="No-Break">run them.</span></p>
			<p>Good unit tests are not only fast but also <em class="italic">isolated</em> from one another. That means that one unit test does not depend on the outcome or state of another – it should not matter what order they are <span class="No-Break">run in.</span></p>
			<p>You want to be able to look at the outcome of unit tests and immediately identify what went wrong so that you can fix it quickly. To accomplish this, your unit tests should do <span class="No-Break">the following:</span></p>
			<ul>
				<li>Test exactly one thing at <span class="No-Break">a time</span></li>
				<li>Be <span class="No-Break">well named</span></li>
			</ul>
			<p>If you test more than one thing in a unit test and that test fails, you won’t know which of the things was the culprit. Well-named unit tests make it clear at a glance what they are testing and thus what <span class="No-Break">went wrong.</span></p>
			<p>This is an example of a bad unit test <span class="No-Break">name: </span><span class="No-Break"><strong class="source-inline">DoesGetBuddiesWork</strong></span><span class="No-Break">.</span></p>
			<p>This is a good unit test <span class="No-Break">name: </span><span class="No-Break"><strong class="source-inline">GettingBuddiesListDoesNotThrowAnException</strong></span><span class="No-Break">.</span></p>
			<p>If the test fails, a glance at the name of the <em class="italic">good unit test name</em> tells you exactly what <span class="No-Break">went wrong.</span></p>
			<p class="callout-heading">Unit test names</p>
			<p class="callout">Some programmers use very rigid naming schemes for unit tests. For example, some will create the name by the name of the method followed by the condition followed by the expected outcome. So, you might have a name like <span class="No-Break">this: </span><span class="No-Break"><strong class="source-inline">GetBuddiesList_WhenEmpty_ShouldNotThrowAnException</strong></span><span class="No-Break">.</span></p>
			<p class="callout">These can be useful, as glancing at the name of the test gives you a lot <span class="No-Break">of information.</span></p>
			<p>Remember, as the <a id="_idIndexMarker365"/>program grows, so too will your set of unit tests. When you have hundreds (or even thousands), you’ll want to be able to zip through your tests so quickly that you don’t mind running them after each meaningful change, and when one or more fail, you want to know what was tested without having to open up the test <span class="No-Break">and look.</span></p>
			<h1 id="_idParaDest-158"><a id="_idTextAnchor166"/>Creating unit tests</h1>
			<p>To get <a id="_idIndexMarker366"/>started, right-click on the solution and choose <strong class="bold">Add New Project</strong>. In the dialog box, use the dropdown to pick <strong class="bold">UnitTest</strong>. There are a number of unit test frameworks. The two most popular are the older <strong class="bold">NUnit</strong> and the newer <strong class="bold">xUnit</strong>. We’ll choose <strong class="bold">xUnit Test Project</strong>, as shown in <span class="No-Break"><em class="italic">Figure 9</em></span><span class="No-Break"><em class="italic">.1</em></span><span class="No-Break">:</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer090" class="IMG---Figure">
					<img src="image/Figure_9.1_B19723.jpg" alt="Figure 9.1 – Selecting the unit test type&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.1 – Selecting the unit test type</p>
			<ol>
				<li>Click <strong class="bold">Next</strong> and<a id="_idIndexMarker367"/> fill in the name and location of your new project. Typically, the name will be the name of the solution followed by <strong class="source-inline">.Tests</strong>, as shown in the <span class="No-Break">following figure:</span></li>
			</ol>
			<div>
				<div id="_idContainer091" class="IMG---Figure">
					<img src="image/Figure_9.2_B19723.jpg" alt="Figure 9.2 – Naming the test project&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.2 – Naming the test project</p>
			<ol>
				<li value="2">Click <strong class="bold">Next</strong> and select the .NET platform (this book will use .<span class="No-Break">NET 7).</span></li>
			</ol>
			<p>Visual Studio will create<a id="_idIndexMarker368"/> your project as well as the first unit test class and method. Since this is generic, delete that class and create one <span class="No-Break">called </span><span class="No-Break"><strong class="source-inline">PreferencesTests</strong></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-159"><a id="_idTextAnchor167"/>Setting the project reference</h2>
			<p>Before doing <a id="_idIndexMarker369"/>anything else, we need to make <strong class="source-inline">ForgetMeNotDemo.Tests</strong> aware of the <strong class="source-inline">ForgetMeNotDemo</strong> project. To do so, right-click on the test project and select <strong class="bold">Add</strong> | <strong class="bold">ProjectReference</strong>, and check the box next to <strong class="bold">ForgetMeNotDemo</strong>, as shown in <span class="No-Break"><em class="italic">Figure 9</em></span><span class="No-Break"><em class="italic">.3</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer092" class="IMG---Figure">
					<img src="image/Figure_9.3_B19723.jpg" alt="Figure 9.3 – Referencing ForgetMeNotDemo from the unit test project&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.3 – Referencing ForgetMeNotDemo from the unit test project</p>
			<p>With all that set up, we are ready to write our first unit test, designed only to ensure that the <a id="_idIndexMarker370"/>testing structure is in place <span class="No-Break">and working.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">This will not build. Please refer to the <em class="italic">Tweaking the project file</em> section that appears later in <span class="No-Break">the chapter.</span></p>
			<h2 id="_idParaDest-160"><a id="_idTextAnchor168"/>Creating the first unit test</h2>
			<p>To make<a id="_idIndexMarker371"/> sure all is right with the world, open <strong class="source-inline">UnitTest1</strong> and add a test method that <span class="No-Break">must pass:</span></p>
			<pre class="source-code">
namespace ForgetMeNotDemo.Tests
{
  public class UnitTest1
  {
    [Fact]
    public void MustBeTrue()
    {
      Assert.True(true);
    }
  }
}</pre>
			<p>xUnit tests come in <span class="No-Break">two flavors:</span></p>
			<ul>
				<li><strong class="bold">Facts</strong>: These are <a id="_idIndexMarker372"/>invariants – they always take the same data and should <span class="No-Break">always pass</span></li>
				<li><strong class="bold">Theories</strong>: These <a id="_idIndexMarker373"/>are a suite of tests that execute the same code but are given different <span class="No-Break">input arguments</span></li>
			</ul>
			<p>Let’s explore<a id="_idIndexMarker374"/> the theories. The first test we created, <strong class="source-inline">MustBeTrue</strong>, simply asserts that the value true is <strong class="source-inline">true</strong>. This makes a good first test, as it will test that your unit testing is set <span class="No-Break">up correctly.</span></p>
			<p>To run this test, click on the <strong class="bold">Test</strong> | <strong class="bold">Run All Tests</strong> menu item – but be warned, <em class="italic">it </em><span class="No-Break"><em class="italic">won’t work!</em></span></p>
			<p>In order to make this work, there is a bit of tweaking we have to do to the <span class="No-Break">project file.</span></p>
			<h2 id="_idParaDest-161"><a id="_idTextAnchor169"/>Tweaking the project file</h2>
			<p>The problem<a id="_idIndexMarker375"/> is that your .NET MAUI <strong class="source-inline">.csproj</strong> project file lists the <span class="No-Break">following </span><span class="No-Break"><strong class="source-inline">TargetFrameworks</strong></span><span class="No-Break">:</span></p>
			<pre class="console">
&lt;TargetFrameworks&gt;net7.0-android;net7.0-ios;net7.0-
  maccatalyst&lt;/TargetFrameworks&gt;</pre>
			<p>However, the unit test project file looks <span class="No-Break">like this:</span></p>
			<pre class="console">
&lt;TargetFramework&gt;7.0&lt;/TargetFramework&gt;</pre>
			<p>To fix this discrepancy, exit Visual Studio and open your .NET MAUI project <strong class="source-inline">.csproj</strong> file using your favorite text editor (not Word or other programs that add special characters – I like to use Visual Studio Code, but whatever floats your boat). Modify <strong class="source-inline">&lt;TargetFramework&gt;</strong> to <span class="No-Break">include .</span><span class="No-Break"><strong class="source-inline">net7.0</strong></span><span class="No-Break">:</span></p>
			<pre class="console">
&lt;TargetFrameworks&gt;net7.0;net7.0-android;net7.0-ios;net7.0-
  maccatalyst&lt;/TargetFrameworks&gt;</pre>
			<p>You’re halfway there. The next issue is that we need to output the test as a DLL, but the output for the project is an EXE. The best way to fix this is to add a condition – only do the output as an EXE when the target framework is <span class="No-Break">not 7.0:</span></p>
			<pre class="console">
&lt;OutputType Condition="'$(TargetFramework)' !=
  'net7.0'"&gt;Exe&lt;/OutputType&gt;</pre>
			<p>Reopen Visual Studio and open the solution. Your test should <span class="No-Break">work now.</span></p>
			<h2 id="_idParaDest-162"><a id="_idTextAnchor170"/>Running the test</h2>
			<p>First, rename <strong class="source-inline">UnitTest1</strong> to <strong class="source-inline">PreferencesTests</strong>. Next, go to the menu and select <strong class="bold">Test</strong> | <strong class="bold">Test Explorer</strong>. This will open (surprise!) <strong class="bold">Test Explorer</strong>. Click the green <em class="italic">Play</em> button, as<a id="_idIndexMarker376"/> shown in <span class="No-Break"><em class="italic">Figure 9</em></span><span class="No-Break"><em class="italic">.4</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer093" class="IMG---Figure">
					<img src="image/Figure_9.4_B19723.jpg" alt="Figure 9.4 – The Play button&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.4 – The Play button</p>
			<p>Your project will build and Test Explorer will run your test, showing you results as shown in <span class="No-Break"><em class="italic">Figure 9</em></span><span class="No-Break"><em class="italic">.5</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer094" class="IMG---Figure">
					<img src="image/Figure_9.5_B19723.jpg" alt="Figure 9.5 – Test results&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.5 – Test results</p>
			<p>Reading down from the top, it shows that <strong class="source-inline">ForgetMeNotDemo.Tests</strong> has one test, and the green check indicates that all the tests in <strong class="source-inline">ForgetMeNotDemo.Tests</strong> <span class="No-Break">have passed.</span></p>
			<p>Inside <strong class="source-inline">ForgetMeNotDemo.Tests</strong> will be a list of all the test classes – in this case, just the one, <strong class="source-inline">PreferencesTests</strong>, and this too shows that there is one test and that <span class="No-Break">it passed.</span></p>
			<p>Finally, inside <strong class="source-inline">PreferencesTests</strong> will be a list of each individual test, and again, the green check indicates the <span class="No-Break">test passed.</span></p>
			<p>Congratulations, you’ve created your first test, run it, and seen <span class="No-Break">it pass!</span></p>
			<p>Now, let’s settle down to writing some tests <span class="No-Break">for </span><span class="No-Break"><strong class="source-inline">ForgetMeNotDemo</strong></span><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-163"><a id="_idTextAnchor171"/>ForgetMeNotDemo unit tests</h1>
			<p>To get started, we <a id="_idIndexMarker377"/>examine one ViewModel at a time, paying attention to the methods. We do this because what we want to test is the business logic, and if you’ve done it right, most of your business logic will be in a <span class="No-Break"><strong class="source-inline">ViewModel</strong></span><span class="No-Break"> class.</span></p>
			<p>For example, turning our attention to <strong class="source-inline">PreferencesViewModel</strong>, we see the <strong class="source-inline">Init()</strong> method. The job of <strong class="source-inline">Init</strong> is to populate the <strong class="source-inline">PreferenceList</strong> collection. For now, we’ll ignore how it does this and just write a test to ensure that <span class="No-Break">it does.</span></p>
			<h2 id="_idParaDest-164"><a id="_idTextAnchor172"/>Implementing the triple-A pattern</h2>
			<p>Before we <a id="_idIndexMarker378"/>start, create an interface for <strong class="source-inline">PreferenceService</strong>, as described earlier in the book (open <strong class="source-inline">PreferenceService</strong>, right-click on the class name, and choose <span class="No-Break"><strong class="bold">Extract Interface</strong></span><span class="No-Break">).</span></p>
			<p>A classic design pattern for unit tests<a id="_idIndexMarker379"/> is the <strong class="bold">Arrange, Act, Assert</strong> (<strong class="bold">AAA</strong>) pattern. That is, you set up your test (Arrange), then you call a method or two (Act), and then check to make sure you have the expected results (Assert). Let’s see this in action (note, this test has two flaws that will <span class="No-Break">be discussed):</span></p>
			<pre class="source-code">
  [Fact]
  public async void AfterCallingInitPreferencesIsNotEmpty()
  {
    // Arrange
    IPreferenceService service = new PreferenceService();
    preferencesViewModel = new PreferencesViewModel();
    // Act
    await preferencesViewModel.Init();
    // Assert
    Assert.NotEmpty(preferencesViewModel.PreferenceList);
  }</pre>
			<p>Here, we set up <strong class="source-inline">IPreferenceService</strong>, which we’ll need to create <strong class="source-inline">PreferencesViewModel</strong>, and then we create an instance of <span class="No-Break">that </span><span class="No-Break"><strong class="source-inline">ViewModel</strong></span><span class="No-Break">.</span></p>
			<p>With that in place, we can call the <span class="No-Break"><strong class="source-inline">Init()</strong></span><span class="No-Break"> method.</span></p>
			<p>Now, we<a id="_idIndexMarker380"/> will test the results using Assert. Assert has many methods that you can use to test the success of your test. These include, but are not limited to, <span class="No-Break">the following:</span></p>
			<ul>
				<li><span class="No-Break"><strong class="source-inline">Assert.True</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">Assert.False</strong></span></li>
				<li><strong class="source-inline">Assert.Equal&lt;T&gt;(T expected, </strong><span class="No-Break"><strong class="source-inline">T actual)</strong></span></li>
				<li><strong class="source-inline">Assert.InRange&lt;T&gt;(T actual, T low, </strong><span class="No-Break"><strong class="source-inline">T high)</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">Assert.Null</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">Assert.NotNull</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">Assert.IsType&lt;T&gt;(object obj)</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">Assert.Empty(IenumerableCollection)</strong></span></li>
				<li><strong class="source-inline">Assert.Contains&lt;T&gt;(T expected, </strong><span class="No-Break"><strong class="source-inline">Ienumerable&lt;t&gt; collection)</strong></span></li>
			</ul>
			<p>There are many more too. The definitive list can be found at the <strong class="source-inline">xUnit</strong> repository: <a href="https://github.com/xunit/assert.xunit/blob/main/Assert.cs">https://github.com/xunit/assert.xunit/blob/main/Assert.cs</a>. The various Asserts are arranged as classes, each of which has a variety of <strong class="source-inline">Assert</strong> methods. A partial list is shown in <span class="No-Break"><em class="italic">Figure 9</em></span><span class="No-Break"><em class="italic">.6</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer095" class="IMG---Figure">
					<img src="image/Figure_9.6_B19723.jpg" alt="Figure 9.6 – A partial list of Assert classes&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.6 – A partial list of Assert classes</p>
			<p>In our <a id="_idIndexMarker381"/>case, we are asserting that, after running <strong class="source-inline">Init</strong>, <strong class="source-inline">PreferenceList</strong> is not empty. Open <strong class="bold">Test Explorer</strong> and click on the <strong class="bold">Run All Tests In View</strong> button, as <span class="No-Break">shown here:</span></p>
			<div>
				<div id="_idContainer096" class="IMG---Figure">
					<img src="image/Figure_9.7_B19723.jpg" alt="Figure 9.7 – Run All Tests In View button&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.7 – Run All Tests In View button</p>
			<p>The tests run, and Test Explorer gives us the results, as shown in the <span class="No-Break">following figure:</span></p>
			<div>
				<div id="_idContainer097" class="IMG---Figure">
					<img src="image/Figure_9.8_B19723.jpg" alt="Figure 9.8 – Test Explorer results&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.8 – Test Explorer results</p>
			<p>Let us see<a id="_idIndexMarker382"/> what each numbered option in the <span class="No-Break">figure means:</span></p>
			<p>[1] The number <span class="No-Break">of tests</span></p>
			<p>[2] The number of tests <span class="No-Break">that passed</span></p>
			<p>[3] The number of tests <span class="No-Break">that failed</span></p>
			<p>[4] A summary and statement on how long the <span class="No-Break">test took</span></p>
			<p>[5] Each passed test in the context of where the text is located. A green check means that it passed, and a red x indicates that it failed. Notice that the time for each test is listed. Also note that the tests took at most 6 milliseconds, but the entire test suite took 408 ms. The difference is the overhead of beginning the test procedure. This will soon be swamped by the time for all <span class="No-Break">the tests.</span></p>
			<h2 id="_idParaDest-165"><a id="_idTextAnchor173"/>What’s wrong with this test?</h2>
			<p>I mentioned <a id="_idIndexMarker383"/>previously that this test has two significant flaws. The first is that the call to <strong class="source-inline">Init</strong> may not populate <strong class="source-inline">PreferenceList</strong> because the service may return zero records. We’ll need to adjust for that by asserting instead that <strong class="source-inline">PreferenceList</strong> is <span class="No-Break">not null.</span></p>
			<p>The second, more important, problem is that the test depends on running <strong class="source-inline">PreferenceService</strong>. If we examine the code for <strong class="source-inline">PreferenceService</strong>, we see that the call to <strong class="source-inline">GetPreferences</strong> has a <span class="No-Break">significant problem:</span></p>
			<pre class="source-code">
public async Task&lt;List&lt;Preference&gt;&gt; GetPreferences()
{
  return await GetPreferencesMock();
}</pre>
			<p>Right <a id="_idIndexMarker384"/>now, while developing the app, we are calling to <strong class="source-inline">GetPreferencesMock</strong>, which is just a method in <strong class="source-inline">PreferenceService</strong>. But that is not how we’ll finish the app. In <a href="B19723_11.xhtml#_idTextAnchor216"><span class="No-Break"><em class="italic">Chapter 11</em></span></a>, we’ll convert this to make an API call. API calls can take an unpredictably long time, and potentially, can grind our test to <span class="No-Break">a halt.</span></p>
			<p>To solve this, we need a mock <strong class="source-inline">PreferenceService</strong> that both returns quickly and returns a predictable collection (or an empty collection if we want to test <span class="No-Break">that eventuality).</span></p>
			<h1 id="_idParaDest-166"><a id="_idTextAnchor174"/>Mocks</h1>
			<p>Often, when testing, you <a id="_idIndexMarker385"/>need to interact with a method that takes an indeterminate amount of time, such as retrieving data from a database or, worse, retrieving data from an API (that is, over the internet rather than locally from <span class="No-Break">your device).</span></p>
			<p>Calling this kind of method can bring your unit test to a screeching halt, making it almost unusable. To avoid this, we create fake representations of the database or the API using an object called <span class="No-Break">a </span><span class="No-Break"><strong class="bold">mock</strong></span><span class="No-Break">.</span></p>
			<p>Mocks offer two advantages: they respond instantly and, perhaps as importantly, they respond predictably. Once written, they give the same input and mock will always provide the <span class="No-Break">same output.</span></p>
			<p>In order to use mocks, we’ll need to implement dependency injection for some of our classes, so let’s <span class="No-Break">start there.</span></p>
			<h1 id="_idParaDest-167"><a id="_idTextAnchor175"/>Dependency injection</h1>
			<p>Until now, anytime<a id="_idIndexMarker386"/> we needed an object inside a class, we passed in the object or we created it in the body of the class. This creates a <strong class="bold">dependency</strong> (the receiving method is dependent on the object passed in or created.) This approach creates <strong class="bold">tight coupling</strong> – which<a id="_idIndexMarker387"/> just means that both classes are coupled together and changing one risks having to change the other. For example, in <strong class="source-inline">PreferencesViewModel</strong>, we need a <strong class="source-inline">PreferenceService</strong> object. The approach we’ve taken so far is to <em class="italic">new one up</em> in <span class="No-Break">the constructor:</span></p>
			<pre class="source-code">
private readonly PreferenceService service;
public PreferencesViewModel()
{
  service = new();
}</pre>
			<p>Dependency injection<a id="_idIndexMarker388"/> decouples the classes and allows for more powerful unit testing, as we’ll see when we continue the discussion of mocks. Rather than <em class="italic">newing-up</em> a <strong class="source-inline">PreferenceService</strong>, we want to pass in an interface and have .NET MAUI create it for us (that is, no calling function will add the interface to the constructor call – it will be <span class="No-Break">done automatically).</span></p>
			<p class="callout-heading">Not just for testing</p>
			<p class="callout">Dependency injection can be used throughout your project, not only for unit tests. In fact, when combined <a id="_idIndexMarker389"/>with an <strong class="bold">Inversion of Control</strong> (<strong class="bold">IoC</strong>) container, dependency injection creates a powerful pattern for decoupling objects throughout the app. More on IoC <span class="No-Break">containers later.</span></p>
			<h2 id="_idParaDest-168"><a id="_idTextAnchor176"/>Creating an interface</h2>
			<p>To do this, we <a id="_idIndexMarker390"/>first need to create an <span class="No-Break"><strong class="source-inline">IPreferenceService</strong></span><span class="No-Break"> interface.</span></p>
			<p class="callout-heading">Resharper</p>
			<p class="callout">Everything I’m about to show uses <strong class="bold">Resharper</strong>, an<a id="_idIndexMarker391"/> essential tool for serious .NET MAUI programmers, but it is not free. You can certainly do all this by hand; it is just that Resharper makes it much easier. Since I highly recommend buying Resharper, I’ll show you how to do the following with that tool. (Please note, as a Microsoft MVP, I get my copy of Resharper <span class="No-Break">for free.)</span></p>
			<p>First, go<a id="_idIndexMarker392"/> to <strong class="bold">Solution Explorer</strong>, open <strong class="bold">PreferenceService</strong>, and follow <span class="No-Break">these steps:</span></p>
			<ol>
				<li value="1">Right-click on the class name and choose <strong class="bold">Refactor This</strong>. A context menu will appear, as shown in the <span class="No-Break">following figure:</span></li>
			</ol>
			<div>
				<div id="_idContainer098" class="IMG---Figure">
					<img src="image/Figure_9.9_B19723.jpg" alt="Figure 9.9 – Refactor context menu&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.9 – Refactor context menu</p>
			<ol>
				<li value="2">Select <strong class="bold">Extract Interface</strong>, and a dialog box will appear as <span class="No-Break">shown here:</span></li>
			</ol>
			<div>
				<div id="_idContainer099" class="IMG---Figure">
					<img src="image/Figure_9.10_B19723.jpg" alt="Figure 9.10 – Extracting the interface&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.10 – Extracting the interface</p>
			<ol>
				<li value="3">Be sure<a id="_idIndexMarker393"/> to check all the public methods and choose the <strong class="bold">Its own file</strong> radio button for where to move <span class="No-Break">the interface.</span></li>
			</ol>
			<p>Hey, presto! You’ll have an interface file in the same directory (<strong class="source-inline">Services</strong>), as shown in <span class="No-Break"><em class="italic">Figure 9</em></span><span class="No-Break"><em class="italic">.11</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer100" class="IMG---Figure">
					<img src="image/Figure_9.11_B19723.jpg" alt="Figure 9.11 – New interface file in the Services folder&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.11 – New interface file in the Services folder</p>
			<p>Open your new file and you’ll see a typical <span class="No-Break">C# interface:</span></p>
			<pre class="source-code">
public interface IPreferenceService
{
  public Task&lt;List&lt;Preference&gt;&gt; GetPreferences();
  public Task&lt;List&lt;Preference&gt;&gt; GetPreferencesMock();
}</pre>
			<p>Now, check the original <strong class="source-inline">PreferenceService</strong>. Resharper was nice enough to designate that <strong class="source-inline">PreferenceService</strong> <span class="No-Break">implements </span><span class="No-Break"><strong class="source-inline">IPreferenceService</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
public class PreferenceService : IPreferenceService</pre>
			<p>Please make <span class="No-Break"><strong class="source-inline">PreferenceService.GetPreferencesMock</strong></span><span class="No-Break"> public.</span></p>
			<p>With an<a id="_idIndexMarker394"/> interface, we can use constructor injection – that is, we can define that we’re going to pass an instance of the interface into the constructor, and then pass in anything that implements <span class="No-Break">that interface.</span></p>
			<h2 id="_idParaDest-169"><a id="_idTextAnchor177"/>Modifying the class constructor</h2>
			<p>Let’s go <a id="_idIndexMarker395"/>back to <strong class="source-inline">PreferencesViewModel</strong>. Since we know we’re going to use dependency injection to send <strong class="source-inline">PreferenceService</strong> into <strong class="source-inline">ViewModel</strong>, we can modify the declaration of <strong class="source-inline">PreferenceService</strong> and <span class="No-Break">the constructor:</span></p>
			<pre class="source-code">
Private readonly IPreferenceService service;   [1]
public PreferencesViewModel(IPreferenceService service) [2]
{
  this.service = service; [3]
}</pre>
			<p>[1] We change the local service member to <span class="No-Break">an interface.</span></p>
			<p>[2] We pass <strong class="source-inline">IPreferenceService</strong> into <span class="No-Break">the constructor.</span></p>
			<p>[3] We assign the member to the <span class="No-Break">passed-in parameter.</span></p>
			<p>But who calls <strong class="source-inline">PreferencesViewModel</strong> with the <strong class="source-inline">IPreference</strong> service, and where does that method <span class="No-Break">get it?</span></p>
			<p>The answer is that the IoC container is responsible for all <span class="No-Break">of this.</span></p>
			<h2 id="_idParaDest-170"><a id="_idTextAnchor178"/>The .NET MAUI IoC container</h2>
			<p>.NET MAUI has <a id="_idIndexMarker396"/>a built-in IoC container that <a id="_idIndexMarker397"/>we use by registering the interfaces we want to be managed. You do this in the <strong class="source-inline">CreateMauiApp</strong> method <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">MauiProgram.cs</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
public static MauiApp CreateMauiApp()
{
    var builder = MauiApp.CreateBuilder(); [1]
     builder
    .UseMauiApp&lt;App&gt;()
    .UseMauiCommunityToolkit()
    .UseMauiCommunityToolkitMarkup()
    .ConfigureFonts(fonts =&gt;
    {
      fonts.AddFont("OpenSans-Regular.ttf",
        "OpenSansRegular");
      fonts.AddFont("OpenSans-Semibold.ttf",
        "OpenSansSemibold");
    })
    .UseMauiMaps();
if DEBUG
    builder.Logging.AddDebug();
endif
    return builder.Build();
}</pre>
			<p>As seen in <strong class="source-inline">[1]</strong>, the first thing we do is instantiate a <strong class="source-inline">MauiAppBuilder</strong> object. We then tack a<a id="_idIndexMarker398"/> number of other configuration requirements onto <span class="No-Break">the Builder.</span></p>
			<p>We’ll use that to register all the interfaces to all our services. In fact, we’ll also register our views and ViewModels so that we can pass them into methods using <span class="No-Break">dependency injection.</span></p>
			<h2 id="_idParaDest-171"><a id="_idTextAnchor179"/>Registering your interfaces, services, and ViewModels</h2>
			<p>.NET MAUI <a id="_idIndexMarker399"/>provides an IoC container. By registering our interfaces, services, and so on, .NET MAUI will supply what we need when<a id="_idIndexMarker400"/> we need it, without our having to <em class="italic">new-up</em> instances. Beyond that, the IoC container will also fix up all <span class="No-Break">the dependencies.</span></p>
			<p>To register the <strong class="source-inline">IPreferences</strong> interface, we add a call to <strong class="source-inline">Builder.Services.AddTransient</strong>, passing in the interface and the class that implements <span class="No-Break">that interface:</span></p>
			<pre class="source-code">
builder.Services.AddTransient&lt;IPreferenceService,
  PreferenceService&gt;();</pre>
			<p><strong class="source-inline">Builder.Services</strong> offers two ways to register <span class="No-Break">your interface:</span></p>
			<ul>
				<li><span class="No-Break"><strong class="source-inline">AddTransient</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">AddSingleton</strong></span></li>
			</ul>
			<p>You’ll use <strong class="source-inline">AddTransient</strong> when you may or may not instantiate the object (we may never look at the user’s preferences, and thus may never need the service). You use <strong class="source-inline">AddSingleton</strong> when you know you’ll want the object and there is no point in creating more <span class="No-Break">than one.</span></p>
			<p>While we’re here, let’s register all the<a id="_idIndexMarker401"/> ViewModels. We don’t need interfaces for them, as we won’t be passing them anywhere via <span class="No-Break">dependency injection:</span></p>
			<pre class="source-code">
builder.Services.AddTransient&lt;AboutViewModel&gt;();
builder.Services.AddTransient&lt;BuddiesViewModel&gt;();
builder.Services.AddTransient&lt;BuddyDetailsViewModel&gt;();
builder.Services.AddTransient&lt;PreferencesViewModel&gt;();
builder.Services.AddTransient&lt;LoginViewModel&gt;();</pre>
			<p>Putting it <a id="_idIndexMarker402"/>together, this <a id="_idIndexMarker403"/>is what <strong class="source-inline">CreateMauiApp</strong> looks<a id="_idIndexMarker404"/> <span class="No-Break">like now:</span></p>
			<pre class="source-code">
public static MauiApp CreateMauiApp()
{
    var builder = MauiApp.CreateBuilder();
  builder
    .UseMauiApp&lt;App&gt;()
    .UseMauiCommunityToolkit()
    .UseMauiCommunityToolkitMarkup()
    .ConfigureFonts(fonts =&gt;
    {
      fonts.AddFont("OpenSans-Regular.ttf",
         "OpenSansRegular");
      fonts.AddFont("OpenSans-Semibold.ttf",
         "OpenSansSemibold");
    })
    .UseMauiMaps();
if DEBUG
    builder.Logging.AddDebug();
endif
  builder.Services.AddTransient&lt;IPreferenceService,
    PreferenceService&gt;();
  builder.Services.AddTransient&lt;AboutViewModel&gt;();
  builder.Services.AddTransient&lt;BuddyDetailsViewModel&gt;();
  builder.Services.AddTransient&lt;PreferencesViewModel&gt;();
  builder.Services.AddTransient&lt;LoginViewModel&gt;();
  return builder.Build();
}</pre>
			<p>Notice that all the <a id="_idIndexMarker405"/>registration <a id="_idIndexMarker406"/>happens before we return the result of calling <strong class="source-inline">Build</strong> on the <span class="No-Break"><strong class="source-inline">Builder</strong></span><span class="No-Break"> object.</span></p>
			<p>We will be using<a id="_idIndexMarker407"/> dependency injection to inject mock objects where objects that would otherwise take an unpredictable amount of time would normally be used. That is, rather than waiting for a database or API call, we can inject a mock database or a mock service and get back a response instantly <span class="No-Break">and predictably.</span></p>
			<p>Our first decision is which mocking library <span class="No-Break">to use.</span></p>
			<h1 id="_idParaDest-172"><a id="_idTextAnchor180"/>Using the NSubstitute package</h1>
			<p>There are a number of different mocking libraries available to you, some free and some commercial. For this book, we’ll use <strong class="bold">NSubstitute</strong>, an open source and free option available as a <a id="_idIndexMarker408"/><span class="No-Break">NuGet package.</span></p>
			<p>To get started, follow <span class="No-Break">these steps:</span></p>
			<ol>
				<li value="1">Right-click on your solution and <span class="No-Break">choose </span><span class="No-Break"><strong class="bold">ManageNugetPackagesForSolution</strong></span><span class="No-Break">.</span></li>
				<li>Go to the <strong class="bold">Browse</strong> tab and <span class="No-Break">enter </span><span class="No-Break"><strong class="source-inline">NSubstitute</strong></span><span class="No-Break">.</span></li>
			</ol>
			<p>The first package you want is <strong class="bold">NSubstitute</strong> by Anthony Egerton et al., as <span class="No-Break">shown here:</span></p>
			<div>
				<div id="_idContainer101" class="IMG---Figure">
					<img src="image/Figure_9.12_B19723.jpg" alt="Figure 9.12 – NSubstitute NuGet package&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.12 – NSubstitute NuGet package</p>
			<ol>
				<li value="3">On the right, click<a id="_idIndexMarker409"/> on the project you want this added to (<strong class="source-inline">ForgetMeNotDemo.Tests</strong>) and click on <strong class="bold">Install</strong>, as shown in <span class="No-Break"><em class="italic">Figure 9</em></span><span class="No-Break"><em class="italic">.13</em></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer102" class="IMG---Figure">
					<img src="image/Figure_9.13_B19723.jpg" alt="Figure 9.13 – Installing NSubstitute&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.13 – Installing NSubstitute</p>
			<ol>
				<li value="4">Once that installs, install <strong class="bold">NSubstitute.Analyzers.CSharp</strong>, as shown in the <span class="No-Break">following figure:</span></li>
			</ol>
			<div>
				<div id="_idContainer103" class="IMG---Figure">
					<img src="image/Figure_9.14_B19723.jpg" alt="Figure 9.14 – Selecting NSubstitute.Analyzers.CSharp&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 9.14 – Selecting NSubstitute.Analyzers.CSharp</p>
			<p>While not strictly <a id="_idIndexMarker410"/>required, this second library will detect potential mistakes in your use of NSubstitute. Install it into the test project as you <span class="No-Break">did previously.</span></p>
			<h2 id="_idParaDest-173"><a id="_idTextAnchor181"/>Adding NSubstitute to your test fixture</h2>
			<p>To add<a id="_idIndexMarker411"/> NSubstitute to your test fixture, add <strong class="source-inline">using NSubstitute;</strong> to the top of the <span class="No-Break">C# file.</span></p>
			<p>We can now create a substitute <span class="No-Break">for </span><span class="No-Break"><strong class="source-inline">PreferenceService</strong></span><span class="No-Break">.</span></p>
			<p class="callout-heading">Mocks depend on constructor dependency injection</p>
			<p class="callout">Turn to the constructor in <strong class="source-inline">PreferencesViewModel</strong> and notice that the service is injected as <span class="No-Break">an interface:</span></p>
			<p class="callout"><strong class="source-inline">public </strong><span class="No-Break"><strong class="source-inline">PreferencesViewModel(IPreferenceService service)</strong></span></p>
			<p class="callout"><strong class="source-inline"> {</strong></p>
			<p class="callout"><strong class="source-inline">   this.service = </strong><span class="No-Break"><strong class="source-inline">service;</strong></span></p>
			<p class="callout"><strong class="source-inline"> }</strong></p>
			<p class="callout">This is critical. Mocks only work with <span class="No-Break">constructor injection.</span></p>
			<p>Back in our unit test, let’s declare a mock for <span class="No-Break">the service:</span></p>
			<pre class="source-code">
[Fact]
public async void AfterCallingInitPreferencesIsNotEmpty()
{
  // Arrange
  var service = Substitute.For&lt;IPreferenceService&gt;();   [1]
  var = new PreferencesViewModel(service); [2]
  // Act
  await preferencesViewModel.Init();
  // Assert
  Assert.NotEmpty(preferencesViewModel.PreferenceList);
}</pre>
			<p>[1] Declare the mock <span class="No-Break">for </span><span class="No-Break"><strong class="source-inline">IpreferenceService</strong></span><span class="No-Break">.</span></p>
			<p>[2] Pass that mock into the constructor <span class="No-Break">for </span><span class="No-Break"><strong class="source-inline">PreferencesViewModel</strong></span><span class="No-Break">.</span></p>
			<p>Run the<a id="_idIndexMarker412"/> test. It fails with the error that the collection cannot be <span class="No-Break">null. Why?</span></p>
			<p>The original service was returning a list of <strong class="source-inline">Preference</strong> objects, but our new mock is not. We need to teach the mock to return a predictable set of <span class="No-Break"><strong class="source-inline">Preference</strong></span><span class="No-Break"> objects.</span></p>
			<p>Here is the top of the <strong class="source-inline">Arrange</strong> method, in which we create a couple of <strong class="source-inline">Preference</strong> objects and then add them to <span class="No-Break">a list:</span></p>
			<pre class="source-code">
public async void AfterCallingInitPreferencesIsNotEmpty()
{
  // Arrange
  Preference pref1 = new()
  {
    Id = 1,
    PreferencePrompt = "Shirt Size",
    PreferenceValue = "Large"
  };
  Preference pref2 = new()
  {
    PreferencePrompt = "Favorite Music Genre",
    PreferenceValue = "Jazz"
  };
  List&lt;Preference&gt; prefs = new()
  {
    pref1,
    pref2
  };</pre>
			<p>We can <a id="_idIndexMarker413"/>now create <span class="No-Break">our substitute:</span></p>
			<pre class="source-code">
var serviceMock = Substitute.For&lt;IPreferenceService&gt;(); [1]
  serviceMock.GetPreferences() [2]
  .Returns(prefs); [3]</pre>
			<p>[1] Create <span class="No-Break">the mock.</span></p>
			<p>[2] Tell the mock which method it will <span class="No-Break">be mocking.</span></p>
			<p>[3] Tell the mock what to return when that method <span class="No-Break">is invoked.</span></p>
			<p>We use the mock in calling the <strong class="source-inline">PreferencesViewModel</strong> constructor, which you will remember <span class="No-Break">takes </span><span class="No-Break"><strong class="source-inline">IpreferenceService</strong></span><span class="No-Break">:</span></p>
			<pre class="source-code">
preferencesViewModel = new PreferencesViewModel
  (serviceMock);</pre>
			<p>In the <strong class="source-inline">Act</strong> portion of the test, we’ll call <strong class="source-inline">Init</strong> on that <strong class="source-inline">PreferencesViewModel</strong> object and then<a id="_idIndexMarker414"/> assert that the list is not empty. This will work this time because the service it relies on can now be predicted to return a list of <span class="No-Break">two preferences.</span></p>
			<h2 id="_idParaDest-174"><a id="_idTextAnchor182"/>Testing corner cases</h2>
			<p>What <a id="_idIndexMarker415"/>happens if <strong class="source-inline">PreferenceService</strong> returns no records? Will that cause <strong class="source-inline">ViewModel</strong> to blow up? We can <span class="No-Break">test that:</span></p>
			<pre class="source-code">
  [Fact]
  public async void AfterCallingInitPreferencesIsEmptyButNo
    Exception()
  {
    // Arrange
    List&lt;Preference&gt; preferences = new(); [1]
    var serviceMock = Substitute.For&lt;IPreferenceService&gt;();
    serviceMock.GetPreferences()
      .Returns(preferences); [2]
    preferencesViewModel = new PreferencesViewModel
      (serviceMock);
    // Act
    var exception = await Record.ExceptionAsync (async ()
      =&gt; await preferencesViewModel.Init()); [3]
    // Assert
    Assert.Null(exception); [4]
  }</pre>
			<p>[1] Set up <strong class="source-inline">List&lt;Preference&gt;</strong> to <span class="No-Break">be empty.</span></p>
			<p>[2] Have<a id="_idIndexMarker416"/> the service return the empty <span class="No-Break">preferences list.</span></p>
			<p>[3] Use <strong class="source-inline">Record.ExceptionAsync</strong> and pass in the call to <strong class="source-inline">Init</strong>. This will return the exception or null if none <span class="No-Break">was thrown.</span></p>
			<p>[4] Assert that there was no <span class="No-Break">exception thrown.</span></p>
			<p>A complete description of all the uses of NSubstitute is available <span class="No-Break">at </span><a href="https://nsubstitute.github.io/help.html"><span class="No-Break">https://nsubstitute.github.io/help.html</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-175"><a id="_idTextAnchor183"/>Summary</h1>
			<p>In this chapter, we reviewed the critical importance of writing unit tests and comprehensively testing your program. In a nutshell, unit tests allow you to code with confidence, knowing that if you make a change and it breaks something seemingly unrelated, you’ll find out about <span class="No-Break">it immediately.</span></p>
			<p>We saw that, at times, your unit test must interact with slower external systems (APIs, databases, and more) and that you can keep your subsecond response time by using mocks; the mocking library we chose is <strong class="source-inline">NSubstitute</strong>, though there are other free mocking systems as well (a very popular one <span class="No-Break">is </span><span class="No-Break"><strong class="bold">Moq</strong></span><span class="No-Break">).</span></p>
			<p>In order to facilitate using mocks, we looked at dependency injection and briefly reviewed the role of IoC containers. In the next chapter, <em class="italic">Consuming a Rest Service</em>, we will look at getting our data from a cloud-based (Azure) service, rather than mocking <span class="No-Break">the data.</span></p>
			<h1 id="_idParaDest-176"><a id="_idTextAnchor184"/>Quiz</h1>
			<ol>
				<li value="1">Why is it important to write <span class="No-Break">unit tests?</span></li>
				<li>Where is most of the code you <span class="No-Break">will test?</span></li>
				<li>Why do you <span class="No-Break">use mocks?</span></li>
				<li>Why is dependency injection important <span class="No-Break">for mocks?</span></li>
			</ol>
			<h1 id="_idParaDest-177"><a id="_idTextAnchor185"/>You try it</h1>
			<p>Identify a method in the ViewModel or service that interacts with the API or database, and write a unit test that uses <span class="No-Break">a mock.</span></p>
		</div>
		<div>
			<div id="_idContainer105" class="IMG---Figure">
			</div>
		</div>
	

		<div id="_idContainer106" class="Content">
			<h1 id="_idParaDest-178"><a id="_idTextAnchor186"/>Part 3 – Advanced Topics</h1>
			<p>In this final part, we will dive into ninja-level topics, including how to interact with a REST-based service (in our case, Azure) and how to modify the appearance of our app based on the <span class="No-Break">runtime data.</span></p>
			<p>This part has the <span class="No-Break">following chapters:</span></p>
			<ul>
				<li><a href="B19723_10.xhtml#_idTextAnchor187"><em class="italic">Chapter 10</em></a>, <em class="italic">Consuming REST Services</em></li>
				<li><a href="B19723_11.xhtml#_idTextAnchor216"><em class="italic">Chapter 11</em></a>, <em class="italic">Exploring Advanced Topics</em></li>
			</ul>
		</div>
		<div>
			<div id="_idContainer107">
			</div>
		</div>
	</body></html>