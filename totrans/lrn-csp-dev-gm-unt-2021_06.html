<html><head></head><body><div><p>&#13;
    <h1 class="chapterNumber">6</h1>&#13;
    <h1 id="_idParaDest-131" class="chapterTitle">Getting Your Hands Dirty with Unity</h1>&#13;
    <p class="normal">Creating a game involves much more than just simulating actions in code. Design, story, environment, lighting, and animation all play an important part in setting the stage for your players. A game is, first and foremost, an experience, which code alone can't deliver.</p>&#13;
    <p class="normal">Unity has placed itself at the forefront of game development over the past decade by bringing advanced tools to programmers and non-programmers alike. Animation and effects, audio, environment design, and much more are all available directly from the Unity Editor without a single line of code. We'll discuss these topics as we define the requirements, environment, and game mechanics of our game. However, first, we need a topical introduction to game design.</p>&#13;
    <p class="normal">Game design theory is a big area of study and learning all its secrets can consume an entire career. However, we'll only be getting hands-on with the basics; everything else is up to you to explore! This chapter will set us up for the rest of the book and will cover the following topics:</p>&#13;
    <ul>&#13;
      <li class="bullet">A game design primer</li>&#13;
      <li class="bullet">Building a level</li>&#13;
      <li class="bullet">Lighting basics</li>&#13;
      <li class="bullet">Animating in Unity</li>&#13;
    </ul>&#13;
    <h1 id="_idParaDest-132" class="title">A game design primer</h1>&#13;
    <p class="normal">Before jumping<a id="_idIndexMarker318"/> into any game project, it's important to have a blueprint of what you want to build. Sometimes, ideas will start crystal clear in your mind, but the minute you start creating character classes or environments, things seem to drift away from your original intention. This is where the game's design allows you to plan out the following touchpoints:</p>&#13;
    <ul>&#13;
      <li class="bullet"><strong class="keyword">Concept</strong>: The <a id="_idIndexMarker319"/>big-picture idea and design of a game, including its genre and play style.</li>&#13;
      <li class="bullet"><strong class="keyword">Core mechanics</strong>: The <a id="_idIndexMarker320"/>playable features or interactions that a character can take in-game. Common gameplay mechanics include jumping, shooting, puzzle-solving, or driving.</li>&#13;
      <li class="bullet"><strong class="keyword">Control schemes</strong>: A <a id="_idIndexMarker321"/>map of the buttons and/or keys that give players control over their character, environment interactions, and other executable actions.</li>&#13;
      <li class="bullet"><strong class="keyword">Story</strong>: The<a id="_idIndexMarker322"/> underlying narrative that fuels a game, creating empathy and a connection between players and the game world they play in.</li>&#13;
      <li class="bullet"><strong class="keyword">Art style</strong>: The <a id="_idIndexMarker323"/>game's overarching look and feel, consistent across everything from characters and menu art to the levels and environment.</li>&#13;
      <li class="bullet"><strong class="keyword">Win and lose conditions</strong>: The<a id="_idIndexMarker324"/> rules that govern how the game is won or lost, usually consisting of objectives or goals that carry the weight of potential failure.</li>&#13;
    </ul>&#13;
    <p class="normal">These topics are by no means an exhaustive list of what goes into designing a game. However, they're a good place to start fleshing out something called a game design document, which is your next task!</p>&#13;
    <h2 id="_idParaDest-133" class="title">Game design documents</h2>&#13;
    <p class="normal">Googling game design documents will result in a flood of templates, formatting rules, and content guidelines that can leave a new programmer ready to give it all up. The truth is, design documents are tailored to the team or company that creates them, making them much easier to draft than the internet would have you think. </p>&#13;
    <p class="normal">In general, there are three types of design documentation, as follows:</p>&#13;
    <ul>&#13;
      <li class="bullet"><strong class="keyword">Game Design Document</strong> (<strong class="keyword">GDD</strong>): The <a id="_idIndexMarker325"/>GDD houses everything<a id="_idIndexMarker326"/> from how the game is played to its atmosphere, story, and the experience it's trying to create. Depending on the game, this document can be a few pages long or several hundred.</li>&#13;
      <li class="bullet"><strong class="keyword">Technical Design Document</strong> (<strong class="keyword">TDD</strong>): This <a id="_idIndexMarker327"/>document <a id="_idIndexMarker328"/>focuses on all the technical aspects of the game, from the hardware it will run on to how the classes and program architecture need to be built out. Like a GDD, the length will vary based on the project.</li>&#13;
      <li class="bullet"><strong class="keyword">One-page</strong>: Usually<a id="_idIndexMarker329"/> used for marketing or promotional situations, a one-page is <a id="_idIndexMarker330"/>essentially a snapshot of your game. As the name suggests, it should only take up a single page.</li>&#13;
    </ul>&#13;
    <div>&#13;
      <p class="Information-Box--PACKT-">There's no right or wrong way to format a GDD, so it's a good place to let your brand of creativity thrive. Throw in pictures of reference material that inspires you; get creative with the layout—this is your place to define your vision.</p>&#13;
    </p>&#13;
    <p class="normal">The game we'll be working on throughout the rest of this book is fairly simple and won't require anything as detailed as a GDD or TDD. Instead, we'll create a one-page to keep track of our project objectives and some background information.</p>&#13;
    <h2 id="_idParaDest-134" class="title">The Hero Born one-page</h2>&#13;
    <p class="normal">To keep us<a id="_idIndexMarker331"/> on track going forward, I've put together a simple document that lays out the basics of the game prototype. Read through it before moving on, and try to start imagining some of the programming concepts that we've learned so far being put into practice:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_01.png" alt="" width="828" height="440"/></figure>&#13;
    <p class="packt_figref">Figure 6.1: Hero Born one-page document</p>&#13;
    <p class="normal">Now that <a id="_idIndexMarker332"/>you have a high-level view of the bones of our game, you're ready to start building a prototype level to house the game experience.</p>&#13;
    <h1 id="_idParaDest-135" class="title">Building a level</h1>&#13;
    <p class="normal">When <a id="_idIndexMarker333"/>building your game levels, it's always a good idea to try to see things from the <a id="_idIndexMarker334"/>perspective of your players. How do you want them to see the environment, interact with it, and feel while walking around in it? You're literally building the world your game exists in, so be consistent. </p>&#13;
    <p class="normal">With Unity, you have the option of creating outdoor environments using the Terrain tool, blocking out something set indoors with basic shapes and geometry, or a mixture of the two. You can even import 3D models from other programs, such as Blender, to use as objects in your scenes.</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">Unity has a great introduction to <a id="_idIndexMarker335"/>the Terrain tool at <a href="https://docs.unity3d.com/Manual/script-Terrain.html">https://docs.unity3d.com/Manual/script-Terrain.html</a>. If you're going down that route, there's also a wonderful free asset on the Unity Asset Store called <a id="_idIndexMarker336"/>Terrain Toolkit 2017, available at <a href="https://assetstore.unity.com/packages/tools/terrain/terrain-toolkit-2017-83490">https://assetstore.unity.com/packages/tools/terrain/terrain-toolkit-2017-83490</a>. You can <a id="_idIndexMarker337"/>also use tools like Blender to create your game assets, which you can find at <a href="https://www.blender.org/features/modeling/">https://www.blender.org/features/modeling/</a>.</p>&#13;
    </p>&#13;
    <p class="normal">For <em class="italic">Hero Born</em>, we'll stick <a id="_idIndexMarker338"/>with a simple indoor arena-like setting that's easy <a id="_idIndexMarker339"/>to get around, but with a <a id="_idIndexMarker340"/>few corners to hide in. You'll cobble all this together using <strong class="keyword">primitives</strong>—base object shapes provided in Unity—because of how easy they are to create, scale, and position in a scene.</p>&#13;
    <h2 id="_idParaDest-136" class="title">Creating primitives</h2>&#13;
    <p class="normal">Looking at games <a id="_idIndexMarker341"/>you might play regularly, you're probably wondering how you'll ever create models and objects that look so realistic that it seems you could reach through the screen and grab them. Fortunately, Unity has a set of primitive GameObjects that<a id="_idIndexMarker342"/> you can select from to prototype faster. These won't be super fancy or high-definition, but they are a lifesaver when you're learning the ropes or don't have a 3D artist on your development team.</p>&#13;
    <p class="normal">If you open up Unity, you can go into the <strong class="screenText">Hierarchy</strong> panel and click on <strong class="screenText">+</strong> | <strong class="screenText">3D Object</strong>, and you'll see all the available options, but only about half of these are primitives or common shapes, indicated in the following screenshot by a red highlight:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_02.png" alt="" width="827" height="459"/></figure>&#13;
    <p class="packt_figref">Figure 6.2: Unity Hierarchy window with the Create option selected</p>&#13;
    <p class="normal">Other 3D <a id="_idIndexMarker343"/>object options, such as <strong class="screenText">Terrain</strong>, <strong class="screenText">Wind Zone</strong>, and <strong class="screenText">Tree</strong>, are a bit too<a id="_idIndexMarker344"/> advanced for what we need, but feel free to experiment with them if you're interested. </p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">You can find <a id="_idIndexMarker345"/>out more about building Unity environments at <a href="https://docs.unity3d.com/Manual/CreatingEnvironments.html">https://docs.unity3d.com/Manual/CreatingEnvironments.html</a>.</p>&#13;
    </p>&#13;
    <p class="normal">Before we jump too far ahead, it's usually easier to walk around when you've got a floor underneath you, so let's start by creating a ground plane for our arena using the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered">In the <strong class="screenText">Hierarchy</strong> panel, click on <strong class="screenText">+</strong> | <strong class="screenText">3D Object</strong> | <strong class="screenText">Plane</strong></li>&#13;
      <li class="numbered">Ensuring the new object is selected in the <strong class="screenText">Hierarchy</strong> tab, rename the GameObject to <code class="Code-In-Text--PACKT-">Ground</code> in the <strong class="screenText">Inspector</strong> tab</li>&#13;
      <li class="numbered">In the <strong class="screenText">Transform</strong> dropdown, change <strong class="screenText">Scale</strong> to <code class="Code-In-Text--PACKT-">3</code> in the <strong class="screenText">X</strong>, <strong class="screenText">Y</strong>, and <strong class="screenText">Z</strong> axes:<figure class="mediaobject"><img src="img/B17573_06_03.png" alt="" width="748" height="250"/></figure>&#13;
        <p class="packt_figref">Figure 6.3: Unity Editor with a ground plane</p>&#13;
      </li>&#13;
      <li class="numbered">If the lighting in <a id="_idIndexMarker346"/>your scene looks dimmer or different from the <a id="_idIndexMarker347"/>preceding screenshot, select <strong class="screenText">Directional Light</strong> in the <strong class="screenText">Hierarchy</strong> panel, and set the <strong class="screenText">Intensity</strong> value of the <strong class="screenText">Directional Light</strong> component to 1:<figure class="mediaobject"><img src="img/B17573_06_04.png" alt="" width="480" height="320"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 6.4: Directional Light object selected in the Inspector pane</p>&#13;
    <p class="normal">We created a plane GameObject and increased its size to make more room for our future <a id="_idIndexMarker348"/>character to walk around. This plane will act like a 3D object bound by real-life physics, meaning other objects can't just fall through. We'll talk more about the Unity physics system and <a id="_idIndexMarker349"/>how it works in <em class="chapterRef">Chapter 7</em>, <em class="italic">Movement, Camera Controls, and Collisions</em>. Right now, we need to start thinking in 3D.</p>&#13;
    <h2 id="_idParaDest-137" class="title">Thinking in 3D</h2>&#13;
    <p class="normal">Now that we have<a id="_idIndexMarker350"/> our first object in the scene, we can talk about 3D space—specifically, how an object's position, rotation, and scale behave in three dimensions. If you think back to high school geometry, a graph with an <em class="italic">x</em> and <em class="italic">y</em> coordinate system should be familiar. To put a point on the graph, you had to have an <em class="italic">x</em> value and a <em class="italic">y</em> value.</p>&#13;
    <p class="normal">Unity supports both 2D and 3D game development, and if we were making a 2D game, we could leave our explanation there. However, when dealing with 3D space in the Unity Editor, we have an extra axis, called the <em class="italic">z</em> axis. The <em class="italic">z</em> axis maps depth, or perspective, giving our <a id="_idIndexMarker351"/>space and the objects in it their 3D quality.</p>&#13;
    <p class="normal">This might be confusing at first, but Unity has some nice visual aids to help you get your head on straight. In the top right of the <strong class="screenText">Scene</strong> panel, you'll see a geometric-looking icon with the <em class="italic">x</em>, <em class="italic">y</em>, and <em class="italic">z</em> axes marked in red, green, and blue, respectively. All GameObjects in the scene will show their axis arrows when they're selected in the <strong class="screenText">Hierarchy</strong> window:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_05.png" alt="" width="826" height="414"/></figure>&#13;
    <p class="packt_figref">Figure 6.5: Scene view with the orientation gizmo highlighted</p>&#13;
    <p class="normal">This will always show the current orientation of the scene and the objects placed inside it. Clicking <a id="_idIndexMarker352"/>on any of these colored axes will switch the scene orientation to the selected axis. Give this a go by yourself to get comfortable with switching perspectives.</p>&#13;
    <p class="normal">If you take a<a id="_idIndexMarker353"/> look at the <strong class="screenText">Ground</strong> object's <strong class="screenText">Transform</strong> component in the <strong class="screenText">Inspector</strong> pane, you'll see that the position, rotation, and scale are all determined by these three axes.</p>&#13;
    <p class="normal">The position determines where the object is placed in the scene, its rotation governs how it's angled, and its scale takes care of its size. These values can be changed at any time in the <strong class="screenText">Inspector</strong> pane or in a C# script:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_06.png" alt="" width="530" height="174"/></figure>&#13;
    <p class="packt_figref">Figure 6.6: Ground object selected in Hierarchy</p>&#13;
    <p class="normal">Right now, the ground is looking a little boring. Let's change that with a material.</p>&#13;
    <h2 id="_idParaDest-138" class="title">Materials</h2>&#13;
    <p class="normal">Our ground <a id="_idIndexMarker354"/>plane isn't very interesting right now, but we can use <strong class="keyword">materials</strong> to breathe a little life into the level. Materials control how GameObjects are<a id="_idIndexMarker355"/> rendered in the scene, which is determined by the material's Shader. Think of <strong class="keyword">Shaders</strong> as <a id="_idIndexMarker356"/>being responsible for combining lighting and texture data into a representation of how the material looks.</p>&#13;
    <p class="normal">Each GameObject starts with a default <strong class="screenText">Material</strong> and <strong class="screenText">Shader</strong> (pictured here from the <strong class="screenText">Inspector</strong> pane), setting its color to a standard white:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_07.png" alt="" width="715" height="728"/></figure>&#13;
    <p class="packt_figref">Figure 6.7: Default material on an object</p>&#13;
    <p class="normal">To change<a id="_idIndexMarker357"/> an<a id="_idIndexMarker358"/> object's color, we need to create a material and drag it to the object that we want to modify. Remember, everything is an object in Unity—materials are no different. Materials can be reused on as many GameObjects as needed, but any change to a material will also carry through to any objects the material is attached to. If we had several enemy objects in the scene with a material that set them all to red, and we changed that base material color to blue, all our enemies would then be blue.</p>&#13;
    <p class="normal">Blue is eye-catching; let's change the color of the ground plane to match, and create a new material to turn the ground plane from a dull white to a dark and vibrant blue:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a new folder in the <strong class="screenText">Project</strong> panel and name it <code class="Code-In-Text--PACKT-">Materials</code>.</li>&#13;
      <li class="numbered">Inside<a id="_idIndexMarker359"/> the <strong class="screenText">Materials</strong> folder, right-click <strong class="screenText">+</strong> | <strong class="screenText">Material</strong>, and name it <code class="Code-In-Text--PACKT-">Ground_Mat</code>.</li>&#13;
      <li class="numbered">Click on <a id="_idIndexMarker360"/>the color box next to the <strong class="screenText">Albedo</strong> property, select your color from the color picker window that pops up, and then close it.</li>&#13;
      <li class="numbered">Drag the <code class="Code-In-Text--PACKT-">Ground_Mat</code> object from the <strong class="screenText">Project</strong> pane, and drop it onto the <code class="Code-In-Text--PACKT-">Ground</code> GameObject in the <strong class="screenText">Hierarchy</strong> panel:<figure class="mediaobject"><img src="img/B17573_06_08.png" alt="" width="752" height="400"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 6.8: Material color picker</p>&#13;
    <p class="bullet-para">The new material you created is now a project asset. Dragging and dropping <code class="Code-In-Text--PACKT-">Ground_Mat</code> into the <code class="Code-In-Text--PACKT-">Ground</code> GameObject changed the color of the plane, which means any changes to <code class="Code-In-Text--PACKT-">Ground_Mat</code> will be reflected in the <code class="Code-In-Text--PACKT-">Ground</code>:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_09.png" alt="" width="767" height="325"/></figure>&#13;
    <p class="packt_figref">Figure 6.9: Ground plane with the updated color material</p>&#13;
    <p class="normal">The ground<a id="_idIndexMarker361"/> is our <a id="_idIndexMarker362"/>canvas; however, in 3D space, it can support other 3D objects on its surface. It'll be up to you to populate it with fun and interesting obstacles for your future players.</p>&#13;
    <h2 id="_idParaDest-139" class="title">White-boxing</h2>&#13;
    <p class="normal">White-boxing<a id="_idIndexMarker363"/> is a design term for laying out ideas using placeholders, usually with the intent of replacing them with finished assets at a later date. In level<a id="_idIndexMarker364"/> design, the practice of white-boxing is to block out an environment with primitive GameObjects to get a sense of how you want it to look. This is a great way to start things off, especially during the prototyping stages of your game.</p>&#13;
    <p class="normal">Before diving into Unity, I'd like to start with a simple sketch of the basic layout and position of my level. This gives us a bit of direction and will help to get our environment laid out quicker. </p>&#13;
    <p class="normal">In the following drawing, you'll be able to see the arena I have in mind, with a raised platform in the middle that is accessible by ramps, complete with small turrets in each corner:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_10.png" alt="" width="822" height="468"/></figure>&#13;
    <p class="packt_figref">Figure 6.10: Sketch of the Hero Born level arena</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">Don't worry if you're not an artist—neither am I. The important thing is to get your ideas down on paper to solidify them in your mind and work out any kinks before getting busy in Unity.</p>&#13;
    </p>&#13;
    <p class="normal">Before you go ahead<a id="_idIndexMarker365"/> full <a id="_idIndexMarker366"/>steam and put this sketch into production, you'll need to familiarize yourself with a few Unity Editor shortcuts to make white-boxing easier.</p>&#13;
    <h3 id="_idParaDest-140" class="title">Editor tools</h3>&#13;
    <p class="normal">When we <a id="_idIndexMarker367"/>discussed the Unity interface in <em class="chapterRef">Chapter 1</em>, <em class="italic">Getting to Know Your Environment</em>, we<a id="_idIndexMarker368"/> skimmed over some of the Toolbar functionality, which we need to revisit so that we know how to efficiently manipulate GameObjects. You can find these in the upper-left corner of the Unity Editor:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_11.png" alt="" width="346" height="33"/></figure>&#13;
    <p class="packt_figref">Figure 6.11: Unity Editor toolbar</p>&#13;
    <p class="normal">Let's break down the <a id="_idIndexMarker369"/>different tools that are available to us from the toolbar in the preceding screenshot:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1"><strong class="keyword">Hand</strong>: This <a id="_idIndexMarker370"/>allows you to pan and change your position in the scene by clicking and dragging your mouse.</li>&#13;
      <li class="numbered"><strong class="keyword">Move</strong>: This<a id="_idIndexMarker371"/> lets you move objects along the <em class="italic">x</em>, <em class="italic">y</em>, and <em class="italic">z</em> axes by dragging their respective arrows.</li>&#13;
      <li class="numbered"><strong class="keyword">Rotate</strong>: This<a id="_idIndexMarker372"/> lets you adjust an object's rotation by turning or dragging its respective markers.</li>&#13;
      <li class="numbered"><strong class="keyword">Scale</strong>: This<a id="_idIndexMarker373"/> lets you modify an object's scale by dragging it to specific axes.</li>&#13;
      <li class="numbered"><strong class="keyword">Rect Transform</strong>: This <a id="_idIndexMarker374"/>combines the move, rotate, and scale tool functionality into one package.</li>&#13;
      <li class="numbered"><strong class="keyword">Transform</strong>: This <a id="_idIndexMarker375"/>gives you access to the position, rotation, and scale of an object all at once.</li>&#13;
      <li class="numbered"><strong class="keyword">Custom Editor Tools</strong>: This <a id="_idIndexMarker376"/>allows you to access any custom tools you've built for the editor. Don't worry about this one, as it's way beyond our <a id="_idIndexMarker377"/>scope. If you want to know more, please refer to the documentation at <a href="https://docs.unity3d.com/2020.1/Documentation/ScriptReference/EditorTools.EditorTool.html">https://docs.unity3d.com/2020.1/Documentation/ScriptReference/EditorTools.EditorTool.html</a>.</li>&#13;
    </ol>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">You can find more information about <a id="_idIndexMarker378"/>navigating and positioning GameObjects in the <strong class="screenText">Scene</strong> panel at <a href="https://docs.unity3d.com/Manual/PositioningGameObjects.html">https://docs.unity3d.com/Manual/PositioningGameObjects.html</a>. It's also worth noting that you can move, position, and scale objects using the <strong class="screenText">Transform</strong> component, as we discussed earlier in the chapter.</p>&#13;
    </p>&#13;
    <p class="normal">Panning and navigating the Scene can be done with similar tools, although not from the Unity Editor itself:</p>&#13;
    <ul>&#13;
      <li class="bullet">To look around, hold down the right mouse button and drag it to pan the camera around.</li>&#13;
      <li class="bullet">To move <a id="_idIndexMarker379"/>around while using the camera, continue to hold the right mouse button and use the <em class="italic">W</em>, <em class="italic">A</em>, <em class="italic">S</em>, and <em class="italic">D</em> keys to move forward, back, left, and right, respectively.</li>&#13;
      <li class="bullet">Hit the <em class="italic">F</em> key to <a id="_idIndexMarker380"/>zoom in and focus on a GameObject that has been selected in the <strong class="screenText">Hierarchy</strong> panel.</li>&#13;
    </ul>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">This kind of scene navigation is more commonly known as fly-through mode, so when I ask you to focus on or navigate to a particular object or viewpoint, use a combination of these features.</p>&#13;
      <p class="Information-Box--PACKT-">Getting around the Scene view can be a task in itself sometimes, but it all comes down to repeated practice. For a <a id="_idIndexMarker381"/>more detailed list of scene navigation features, visit <a href="https://docs.unity3d.com/Manual/SceneViewNavigation.html">https://docs.unity3d.com/Manual/SceneViewNavigation.html</a>.</p>&#13;
    </p>&#13;
    <p class="normal">Even though the ground plane won't allow our character to fall through it, we could still walk off the edge at this point. Your job is to wall in the arena so that the player has a confined locomotion area.</p>&#13;
    <h3 id="_idParaDest-141" class="title">Hero's trial – putting up drywall</h3>&#13;
    <p class="normal">Using primitive cubes<a id="_idIndexMarker382"/> and the toolbar, position four walls around the level using the <strong class="screenText">Move</strong>, <strong class="screenText">Rotate</strong>, and <strong class="screenText">Scale</strong> tools to section off the main arena:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">In the <strong class="screenText">Hierarchy</strong> panel, select <strong class="screenText">+ </strong>| <strong class="screenText">3D Object</strong> | <strong class="screenText">Cube</strong> to create the first wall and name it <code class="Code-In-Text--PACKT-">Wall_01</code>.</li>&#13;
      <li class="numbered">Set its scale value to 30 for the <em class="italic">x</em> axis, 1.5 for the <em class="italic">y</em> axis, and 0.2 for the <em class="italic">z</em> axis.<p>&#13;
          <p class="Information-Box--PACKT-">Note that planes operate on a scale 10 times larger than objects—so our plane with a length of 3 is the same length as an object of length 30.</p>&#13;
        </p>&#13;
      </li>&#13;
      <li class="numbered">With the <code class="Code-In-Text--PACKT-">Wall_01</code> object selected in the <strong class="screenText">Hierarchy</strong> panel, switch to the position tool in the upper-left corner and use the red, green, and blue arrows to position the wall at the edge of the ground plane.</li>&#13;
      <li class="numbered">Repeat<em class="italic"> steps 1-3</em> until you have four walls surrounding your area:<figure class="mediaobject"><img src="img/B17573_06_12.png" alt="" width="748" height="280"/></figure>&#13;
    <p class="packt_figref">Figure 6.12: Level arena with four walls and a ground plane</p>&#13;
      </li>&#13;
    </ol>&#13;
&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">From this chapter onward, I'll be giving some basic values for wall position, rotation, and scale, but feel free to be adventurous and use your own creativity. I want you to experiment with the Unity Editor tools so you get comfortable faster.</p>&#13;
    </p>&#13;
    <p class="normal">That was a bit of <a id="_idIndexMarker383"/>construction, but the arena is starting to take shape! Before we move on to adding in obstacles and platforms, you'll want to get into the habit of cleaning up your object hierarchy. We'll talk about how that works in the following section.</p>&#13;
    <h3 id="_idParaDest-142" class="title">Keeping the hierarchy clean</h3>&#13;
    <p class="normal">Normally, I would put this sort of advice in a blurb at the end of a section, but making sure your project hierarchy is as organized as possible is so important that it needs its own subsection. Ideally, you'll want all related GameObjects to be under a single <strong class="keyword">parent object</strong><strong class="keyword"><a id="_idIndexMarker384"/></strong>. Right now, it's not a risk because we only have a few objects in the scene; however, when that gets into the hundreds on a big project, you'll be struggling.</p>&#13;
    <p class="normal">The easiest way <a id="_idIndexMarker385"/>to keep your<a id="_idIndexMarker386"/> hierarchy clean is to store related objects in a parent object, just as you would with files inside a folder on your desktop. Our level has a few objects that could use some organization, and Unity makes this easy by letting us create empty GameObjects. An empty object is a perfect container (or folder) for holding related groups of objects because it doesn't come with any components attached—it's a shell. </p>&#13;
    <p class="normal">Let's take our ground plane and four walls and group them all under a common empty GameObject:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Select <strong class="screenText">+</strong> | <strong class="screenText">Create Empty</strong> in the <strong class="screenText">Hierarchy</strong> panel and name the new object <code class="Code-In-Text--PACKT-">Environment</code></li>&#13;
      <li class="numbered">Drag and <a id="_idIndexMarker387"/>drop the ground plane and the four walls into <strong class="screenText">Environment</strong>, making them child objects</li>&#13;
      <li class="numbered">Select the <strong class="screenText">Environment</strong> empty object and check that its <strong class="screenText">X</strong>, <strong class="screenText">Y</strong>, and <strong class="screenText">Z</strong> positions are all set to 0:<figure class="mediaobject"><img src="img/B17573_06_13.png" alt="" width="481" height="249"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 6.13: Hierarchy panel showing the empty GameObject parent</p>&#13;
    <p class="normal">The environment<a id="_idIndexMarker388"/> exists in the <strong class="screenText">Hierarchy</strong> tab as a parent object, with the arena objects as its children. Now we're able to expand or close the <strong class="screenText">Environment</strong> object drop-down list with the arrow icon, making the <strong class="screenText">Hierarchy</strong> panel less cluttered.</p>&#13;
    <p class="normal">It's important to set the <strong class="screenText">Environment</strong> object's <strong class="screenText">X</strong>, <strong class="screenText">Y</strong>, and <strong class="screenText">Z</strong> positions to 0 because the child object positions are now relative to the parent position. This leads to an interesting question: what are the origin points of these positions, rotations, and scales that we're setting? The answer is that they depend on what relative space we're using, which, in Unity, is either <strong class="screenText">World</strong> or <strong class="screenText">Local</strong>:</p>&#13;
    <ul>&#13;
      <li class="bullet"><strong class="keyword">World space</strong> uses <a id="_idIndexMarker389"/>a set origin point in the scene as a constant reference for all GameObjects. In Unity, this origin point is (0, 0, 0), or 0 on the <em class="italic">x</em>, <em class="italic">y</em>, and <em class="italic">z</em> axes.</li>&#13;
      <li class="bullet"><strong class="keyword">Local space</strong> uses<a id="_idIndexMarker390"/> the object's parent <code class="Code-In-Text--PACKT-">Transform</code> component as its origin, essentially changing the perspective of the scene. Unity also sets this local origin to (0, 0, 0). Think of this <a id="_idIndexMarker391"/>as the parent transform being the <a id="_idIndexMarker392"/>center of the universe, with everything else orbiting in relation to it.</li>&#13;
    </ul>&#13;
    <p class="normal">Both of these orientations are useful in different situations, but right now, resetting it at this point starts everyone on an even playing field. </p>&#13;
    <h3 id="_idParaDest-143" class="title">Working with Prefabs</h3>&#13;
    <p class="normal">Prefabs <a id="_idIndexMarker393"/>are one of the most powerful components you'll come across in Unity. They come in handy not only in level building but in scripting as well. Think of Prefabs as GameObjects that can be saved and reused with every child object, component, C# script, and property setting intact. Once created, a Prefab is like a class blueprint; each copy used in a scene is a separate instance of that Prefab. Consequently, any change to the base Prefab will also change all of the active instances in the scene.</p>&#13;
    <p class="normal">The arena looks a little too simple and completely wide open, making it a perfect place to test out creating and editing Prefabs. Since we want four identical turrets in each corner of the arena, they're a perfect case for a Prefab, which we can create with the following steps:</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">Again, I haven't included any precise barrier position, rotation, or scale values because I want you to get up close and personal with the Unity Editor tools.</p>&#13;
      <p class="Information-Box--PACKT-">Going forward, when you see a task ahead of you that doesn't include specific position, rotation, or scale values, I'm expecting you to learn by doing.</p>&#13;
    </p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create an empty parent object inside the <strong class="screenText">Environment</strong> parent object by selecting <strong class="screenText">+</strong> | <strong class="screenText">Create Empty</strong> and naming it <code class="Code-In-Text--PACKT-">Barrier_01</code>.</li>&#13;
      <li class="numbered">Create two cubes by selecting <strong class="screenText">+</strong> | <strong class="screenText">3D Object</strong> | <strong class="screenText">Cube</strong> and position and scale them as a v-shaped base.</li>&#13;
      <li class="numbered">Create two more cube primitives and place them on the ends of the turret base:<figure class="mediaobject"><img src="img/B17573_06_14.png" alt="" width="754" height="251"/></figure>&#13;
        <p class="packt_figref">Figure 6.14: Screenshot of the turret composed of cubes</p>&#13;
      </li>&#13;
      <li class="numbered">Create a <a id="_idIndexMarker394"/>new folder in the <strong class="screenText">Project</strong> panel under <strong class="screenText">Assets</strong> and name it <code class="Code-In-Text--PACKT-">Prefabs</code>. Then, drag <a id="_idIndexMarker395"/>the <strong class="screenText">Barrier_01</strong> GameObject from the <strong class="screenText">Hierarchy</strong> panel to the <strong class="screenText">Prefabs</strong> folder in the project view:<figure class="mediaobject"><img src="img/B17573_06_15.png" alt="" width="554" height="224"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 6.15: Barrier Prefab in the Prefabs folder</p>&#13;
    <p class="normal"><strong class="screenText">Barrier_01</strong>, and all its child objects, are now Prefabs, meaning that we can reuse it by dragging copies from the <code class="Code-In-Text--PACKT-">Prefabs</code> folder or duplicating the one in the scene. <strong class="screenText">Barrier_01</strong> turned blue in the <strong class="screenText">Hierarchy</strong> tab to signify its status change, and also added a row of Prefab function buttons in the <strong class="screenText">Inspector</strong> tab underneath its name:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_16.png" alt="" width="621" height="248"/></figure>&#13;
    <p class="packt_figref">Figure 6.16: Barrier_01 Prefab highlighted in the Inspector pane</p>&#13;
    <p class="normal">Any edits to <a id="_idIndexMarker396"/>the original Prefab object, <strong class="screenText">Barrier_01</strong>, will now affect any copies in the Scene. Since we need a fifth cube to complete the barrier, let's update and save the Prefab to see this in action.</p>&#13;
    <p class="normal">Now our turret has a huge gap in the middle, which isn't ideal for covering our character, so let's update <a id="_idIndexMarker397"/>the <strong class="screenText">Barrier_01</strong> Prefab by adding another cube and applying the change:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a <strong class="screenText">Cube</strong> primitive and place it at the intersection of the turret base.</li>&#13;
      <li class="numbered">The new <strong class="screenText">Cube</strong> primitive will be marked as gray with a little <strong class="screenText">+</strong> icon next to its name in the <strong class="screenText">Hierarchy</strong> tab. This means it's not officially part of the Prefab yet:<figure class="mediaobject"><img src="img/B17573_06_17.png" alt="" width="1056" height="398"/></figure>&#13;
        <p class="packt_figref">Figure 6.17: New Prefab update marked in the Hierarchy window</p>&#13;
      </li>&#13;
      <li class="numbered">Right-click on the new Cube primitive in the <strong class="screenText">Hierarchy</strong> panel and select <strong class="screenText">Added</strong> <strong class="screenText">GameObject</strong> | <strong class="screenText">Apply to Prefab 'Barrier_01'</strong>:<figure class="mediaobject"><img src="img/B17573_06_18.png" alt="" width="754" height="234"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 6.18: Option to apply Prefab changes to the base Prefab</p>&#13;
    <p class="normal">The <strong class="screenText">Barrier_01</strong> Prefab is <a id="_idIndexMarker398"/>now updated to include the new cube, and the entire Prefab hierarchy should be blue again. You now have a turret Prefab that looks like the preceding screenshot or, if you're feeling adventurous, something more creative. However, we want these to be in every corner of the arena. It's going to be your job to add them!</p>&#13;
    <p class="normal">Now that we've got a reusable barrier Prefab, let's build out the rest of the level to match the rough sketch that we had at the beginning of the section:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Duplicate the <strong class="screenText">Barrier_01</strong> Prefab three times and place each one in a different corner of the arena. You can do this by dragging multiple <strong class="screenText">Barrier_01</strong> objects from the <strong class="screenText">Prefabs</strong> folder into the scene, or right-clicking on <strong class="screenText">Barrier_01</strong> in the <strong class="screenText">Hierarchy</strong> and selecting duplicate. </li>&#13;
      <li class="numbered">Create a new empty GameObject inside the <strong class="screenText">Environment</strong> parent object and name it <code class="Code-In-Text--PACKT-">Raised_Platform</code>.</li>&#13;
      <li class="numbered">Create a <strong class="screenText">Cube</strong> and scale it to form a platform as shown in <em class="italic">Figure 6.19</em> below.</li>&#13;
      <li class="numbered">Create a <strong class="screenText">Plane</strong> and scale it into a ramp:<ul>&#13;
          <li class="bullet-l2">Hint: Rotate the plane around the <em class="italic">x</em> or <em class="italic">y</em> axis to create an angled plane</li>&#13;
          <li class="bullet-l2">Then, position it so that it connects the platform to the ground</li>&#13;
        </ul>&#13;
      </li>&#13;
      <li class="numbered">Duplicate the ramp <a id="_idIndexMarker399"/>object by using <kbd class="keyStroke">Cmd</kbd> + <kbd class="keyStroke">D</kbd> on a Mac, or <kbd class="keyStroke">Ctrl</kbd> + <kbd class="keyStroke">D</kbd> on Windows. Then, repeat the rotation and positioning steps.</li>&#13;
      <li class="numbered">Repeat the previous step twice more, until you have four ramps in total leading to the platform:<figure class="mediaobject"><img src="img/B17573_06_19.png" alt="" width="749" height="236"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 6.19: Raised platform parent GameObject</p>&#13;
    <p class="normal">You've now successfully white-boxed your first game level! Don't get too caught up in it yet, though—we're just getting started. All good games have items that players can pick up or interact with. In the following challenge, it's your job to create a health item and make it a Prefab.</p>&#13;
    <h4 class="title">Hero's trial – creating a health pickup</h4>&#13;
    <p class="normal">Putting together <a id="_idIndexMarker400"/>everything we've learned so far in this chapter might take you a few minutes, but it's well worth the time. Create the pickup item as follows:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a <strong class="screenText">Capsule</strong> GameObject by selecting <strong class="screenText">+</strong> | <strong class="screenText">3D Object</strong> | <strong class="screenText">Capsule</strong> and name it <code class="Code-In-Text--PACKT-">Health_Pickup</code>.</li>&#13;
      <li class="numbered">Set the scale to 0.3 for the <em class="italic">x</em>, <em class="italic">y</em>, and <em class="italic">z</em> axes, and then switch to the <strong class="screenText">Move</strong> tool and position it near one of your barriers.</li>&#13;
      <li class="numbered">Create and attach a new yellow-colored <strong class="screenText">Material</strong> to the <strong class="screenText">Health_Pickup</strong> object.</li>&#13;
      <li class="numbered">Drag the <strong class="screenText">Health_Pickup</strong> object from the <strong class="screenText">Hierarchy</strong> pane into the <strong class="screenText">Prefab</strong> folder.</li>&#13;
    </ol>&#13;
    <p class="normal">Refer to the following <a id="_idIndexMarker401"/>screenshot for an example of what the finished product should look like:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_20.png" alt="" width="827" height="419"/></figure>&#13;
    <p class="packt_figref">Figure 6.20: Pickup item and barrier Prefab in Scene</p>&#13;
    <p class="normal">That wraps up our work with level design and layout for now. Next up, you're going to get a crash course in lighting with Unity, and we'll learn about animating our item later on in the chapter.</p>&#13;
    <h1 id="_idParaDest-144" class="title">Lighting basics</h1>&#13;
    <p class="normal">Lighting in Unity<a id="_idIndexMarker402"/> is a <a id="_idIndexMarker403"/>broad topic, but it can be boiled down into two categories: real-time and precomputed. Both types of lights take into account properties such as the color and intensity of the light, as well as the direction it is facing in the scene, which can all be configured in the <strong class="screenText">Inspector</strong> pane. The difference is how the Unity engine computes how the lights act.</p>&#13;
    <p class="normal"><em class="italic">Real-time lighting</em> is computed every frame, meaning that any object that passes in its path will cast realistic shadows and generally behave like a real-world light source. However, this can <a id="_idIndexMarker404"/>significantly slow down your game and cost an exponential amount of computing power, depending on the number of lights in your Scene. <em class="italic">Precomputed lighting</em>, on the other hand, stores the Scene's lighting in a texture called a <strong class="keyword">lightmap</strong>, which <a id="_idIndexMarker405"/>is then applied, or baked, into the scene. While this saves computing power, baked lighting is static. This means that it doesn't react realistically or change when objects move in the scene.</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">There is also a mixed<a id="_idIndexMarker406"/> type of lighting called Precomputed Realtime Global Illumination, which bridges the gap between real-time and precomputed processes. This is an advanced Unity-specific topic, so we won't cover it in this book, but feel free to view the documentation at <a href="https://docs.unity3d.com/Manual/GIIntro.html">https://docs.unity3d.com/Manual/GIIntro.html</a>.</p>&#13;
    </p>&#13;
    <p class="normal">Let's now take a look at how to create light objects in the Unity Scene itself.</p>&#13;
    <h2 id="_idParaDest-145" class="title">Creating lights</h2>&#13;
    <p class="normal">By default, every<a id="_idIndexMarker407"/> Scene comes with a directional light component to act as a main source of illumination, but lights can be created in the hierarchy like any other GameObject. Even though the idea of controlling light sources might be new to you, they are objects in Unity, which means they can be positioned, scaled, and rotated to fit your needs:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_21.png" alt="" width="828" height="307"/></figure>&#13;
    <p class="packt_figref">Figure 6.21: Lighting creation menu option</p>&#13;
    <p class="normal">Let's take a look at some<a id="_idIndexMarker408"/> examples of real-time light objects and their performance:</p>&#13;
    <ul>&#13;
      <li class="bullet"><strong class="screenText">Directional</strong> <strong class="screenText">lights</strong> <a id="_idIndexMarker409"/>are great for simulating natural light, such as sunshine. They don't have an actual position in the scene, but their light hits everything as if it's always pointed in the same direction.</li>&#13;
      <li class="bullet"><strong class="screenText">Point</strong> <strong class="screenText">lights</strong> are<a id="_idIndexMarker410"/> essentially floating globes, sending light rays out from a central point in all directions. These have defined positions and intensities in the scene.</li>&#13;
      <li class="bullet"><strong class="screenText">Spotlights</strong> send<a id="_idIndexMarker411"/> light out in a given direction, but they are locked in by their angle and focused on a specific area of the scene. Think of these as spotlights or floodlights in the real world.</li>&#13;
      <li class="bullet"><strong class="screenText">Area lights</strong> are shaped<a id="_idIndexMarker412"/> like rectangles, sending out light from their surface from a single side of the rectangle.<p>&#13;
          <p class="Information-Box--PACKT-"><strong class="screenText">Reflection Probes</strong> and <strong class="screenText">Light Probe Groups</strong> are <a id="_idIndexMarker413"/>beyond what we need for <em class="italic">Hero Born</em>;<em class="italic"> </em>however, if you're<a id="_idIndexMarker414"/> interested, you can find out more at <a href="https://docs.unity3d.com/Manual/ReflectionProbes.html">https://docs.unity3d.com/Manual/ReflectionProbes.html</a> and <a href="https://docs.unity3d.com/Manual/LightProbes.html">https://docs.unity3d.com/Manual/LightProbes.html</a>.</p>&#13;
        </p>&#13;
      </li>&#13;
    </ul>&#13;
    <p class="normal">Like all GameObjects in Unity, lights have properties that can be adjusted to give a Scene a specific ambiance or theme.</p>&#13;
    <h2 id="_idParaDest-146" class="title">Light component properties</h2>&#13;
    <p class="normal">The<a id="_idIndexMarker415"/> following screenshot shows the <strong class="screenText">Light</strong> component on the directional light in our Scene. All of these properties can be configured to create immersive environments, but the basic ones we need to be aware of are <strong class="screenText">Color</strong>, <strong class="screenText">Mode</strong>, and <strong class="screenText">Intensity</strong>. These properties govern the light's tint, real-time or computed effects, and general strength:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_22.png" alt="" width="645" height="458"/></figure>&#13;
    <p class="packt_figref">Figure 6.22: Light component in the Inspector window</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">Like other Unity components, these properties can be accessed through scripts and<a id="_idIndexMarker416"/> the <code class="Code-In-Text--PACKT-">Light</code> class, which can be found at <a href="https://docs.unity3d.com/ScriptReference/Light.html">https://docs.unity3d.com/ScriptReference/Light.html</a>.</p>&#13;
    </p>&#13;
    <p class="normal">Try this <a id="_idIndexMarker417"/>out for yourself by selecting <strong class="screenText">+</strong> | <strong class="screenText">Light</strong> | <strong class="screenText">Point Light</strong> and seeing how it affects the area lighting. After you've played around with the settings, delete the point light by right-clicking on it in the <strong class="screenText">Hierarchy</strong> panel and choosing <strong class="screenText">Delete</strong>.</p>&#13;
    <p class="normal">Now that we know a little more about what goes into lighting up a game scene, let's turn our attention to adding some animations!</p>&#13;
    <h1 id="_idParaDest-147" class="title">Animating in Unity</h1>&#13;
    <p class="normal">Animating objects<a id="_idIndexMarker418"/> in Unity can range from a simple rotation effect to complex character movements and actions. You can create animations in code or with the Animation and <a id="_idIndexMarker419"/>Animator windows:</p>&#13;
    <ul>&#13;
      <li class="bullet">The <strong class="screenText">Animation</strong> window is where animation segments, called clips, are created and managed using a timeline. Object properties are recorded along this timeline and are then played back to create an animated effect.</li>&#13;
      <li class="bullet">The <strong class="screenText">Animator</strong> window manages these clips and their transitions using objects called animation controllers.</li>&#13;
    </ul>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">You can find more<a id="_idIndexMarker420"/> information about the Animator window and its controllers at <a href="https://docs.unity3d.com/Manual/AnimatorControllers.html">https://docs.unity3d.com/Manual/AnimatorControllers.html</a>. </p>&#13;
    </p>&#13;
    <p class="normal">Creating and manipulating your target objects in clips will have your game moving in no time. For our short trip into Unity animations, we'll create the same rotation effect in code and using the Animator.</p>&#13;
    <h2 id="_idParaDest-148" class="title">Creating animations in code</h2>&#13;
    <p class="normal">To start, we're<a id="_idIndexMarker421"/> going to create an animation in code to rotate our health item pickup. Since all GameObjects have a <code class="Code-In-Text--PACKT-">Transform</code> component, we can grab our item's <code class="Code-In-Text--PACKT-">Transform</code> component and rotate it indefinitely.</p>&#13;
    <p class="normal">To create an animation in code, you need to perform the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a new script inside the <code class="Code-In-Text--PACKT-">Scripts</code> folder, name it <code class="Code-In-Text--PACKT-">ItemRotation</code>, and open it in Visual Studio Code.</li>&#13;
      <li class="numbered">At the top of the new script and inside the class, add in an <code class="Code-In-Text--PACKT-">int</code> variable containing the value <code class="Code-In-Text--PACKT-">100</code> called <code class="Code-In-Text--PACKT-">RotationSpeed</code>, and a <code class="Code-In-Text--PACKT-">Transform</code> variable called <code class="Code-In-Text--PACKT-">ItemTransform:</code>&#13;
        <pre class="programlisting code"><code class="hljs-code">public int RotationSpeed = 100;&#13;
Transform ItemTransform;&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">Inside the <code class="Code-In-Text--PACKT-">Start()</code> method body, grab the GameObject's <code class="Code-In-Text--PACKT-">Transform </code>component and assign it to <code class="Code-In-Text--PACKT-">ItemTransform:</code>&#13;
        <pre class="programlisting code"><code class="hljs-code">ItemTransform = this.GetComponent&lt;Transform&gt;();&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">Inside the <code class="Code-In-Text--PACKT-">Update()</code> method body, call <code class="Code-In-Text--PACKT-">ItemTransform.Rotate</code>. This <code class="Code-In-Text--PACKT-">Transform</code> class method takes in three axes, one for the <em class="italic">X</em>, <em class="italic">Y</em>, and <em class="italic">Z</em> rotations you want to execute. Since <a id="_idIndexMarker422"/>we want the item to rotate end over end, we'll use the <em class="italic">x</em> axis and leave the others set to <code class="Code-In-Text--PACKT-">0</code>:&#13;
        <pre class="programlisting code"><code class="hljs-code">ItemTransform.Rotate(RotationSpeed * Time.deltaTime, 0, 0);&#13;
</code></pre>&#13;
        <p>&#13;
          <p class="Information-Box--PACKT-">You'll notice that we're multiplying our <code class="Code-In-Text--PACKT-">RotationSpeed</code> by something called <code class="Code-In-Text--PACKT-">Time.deltaTime</code>. This is the standard way of normalizing movement effects in Unity so that they look smooth no matter how fast or slow the player's computer is running. In general, you should always multiply your movement or rotation speeds by <code class="Code-In-Text--PACKT-">Time.deltaTime</code>.</p>&#13;
        </p>&#13;
      </li>&#13;
      <li class="numbered">Back in Unity, select the <code class="Code-In-Text--PACKT-">Health_Pickup</code> object in the <code class="Code-In-Text--PACKT-">Prefabs</code> folder in the <strong class="screenText">Projects</strong> pane and scroll down to the bottom of the <strong class="screenText">Inspector</strong> window. Click <strong class="screenText">Add Component</strong>, search for the <code class="Code-In-Text--PACKT-">ItemRotation</code> script, and then press <kbd class="keyStroke">Enter</kbd>:<figure class="mediaobject"><img src="img/B17573_06_23.png" alt="" width="555" height="137"/></figure>&#13;
        <p class="packt_figref">Figure 6.23: Add Component button in the Inspector panel</p>&#13;
      </li>&#13;
      <li class="numbered">Now that our Prefab is updated, move the <strong class="screenText">Main Camera</strong> so that you can see the <code class="Code-In-Text--PACKT-">Health_Pickup</code> object and click on play!<figure class="mediaobject"><img src="img/B17573_06_24.png" alt="" width="751" height="200"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 6.24: Screenshot of the camera focused on the health item</p>&#13;
    <p class="normal">As you can <a id="_idIndexMarker423"/>see, the health pickup now spins around its <em class="italic">x</em> axis in a continuous and smooth animation! Now that you've animated the item in code, we'll duplicate our animation using Unity's built-in animation system.</p>&#13;
    <h2 id="_idParaDest-149" class="title">Creating animations in the Unity Animation window</h2>&#13;
    <p class="normal">Any GameObject<a id="_idIndexMarker424"/> that you want to apply an animation clip to needs to be attached to an Animator component with an <strong class="keyword">Animation Controller</strong> set. If there is no controller in the project when a new clip is created, Unity will create one and save it in the project panel, which you can then use to manage your clips. Your next challenge is to create a new animation clip for the pickup item.</p>&#13;
    <p class="normal">We're going to start animating the <code class="Code-In-Text--PACKT-">Health_Pickup</code> Prefab by creating a new animation clip, which will spin the object around in an infinite loop. To create a new animation clip, we need to perform the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Navigate to <strong class="screenText">Window</strong> | <strong class="screenText">Animation</strong> | <strong class="screenText">Animation</strong> to open up the <strong class="screenText">Animation</strong> panel and drag and drop the <strong class="screenText">Animation</strong> tab next to the <strong class="screenText">Console</strong>.</li>&#13;
      <li class="numbered">Make sure the <code class="Code-In-Text--PACKT-">Health_Pickup</code> item is selected in <strong class="screenText">Hierarchy</strong> and then click on <strong class="screenText">Create</strong> in the <strong class="screenText">Animation</strong> panel:<figure class="mediaobject"><img src="img/B17573_06_25.png" alt="" width="753" height="256"/></figure>&#13;
        <p class="packt_figref">Figure 6.25: Screenshot of the Unity Animation window</p>&#13;
      </li>&#13;
      <li class="numbered">Create a new folder from the following drop-down list, name it <code class="Code-In-Text--PACKT-">Animations</code>, and then name the new clip <code class="Code-In-Text--PACKT-">Pickup_Spin</code>:<figure class="mediaobject"><img src="img/B17573_06_26.png" alt="" width="752" height="401"/></figure>&#13;
        <p class="packt_figref">Figure 6.26: Screenshot of the Create New Animation window</p>&#13;
      </li>&#13;
      <li class="numbered">Make sure the <a id="_idIndexMarker425"/>new clip shows up in the <strong class="screenText">Animation</strong> panel:<figure class="mediaobject"><img src="img/B17573_06_27.png" alt="" width="748" height="267"/></figure>&#13;
        <p class="packt_figref">Figure 6.27: Screenshot of the Animation window with a clip selected</p>&#13;
      </li>&#13;
      <li class="numbered">Since we didn't have any <strong class="screenText">Animator</strong> controllers, Unity created one for us in the <code class="Code-In-Text--PACKT-">Animation</code> folder called <strong class="screenText">Health_Pickup</strong>. With <strong class="screenText">Health_Pickup</strong> selected, note in the <strong class="screenText">Inspector</strong> pane that when we created the clip, an <strong class="screenText">Animator</strong> component was also added to the Prefab for us but hasn't been officially saved to the Prefab yet with the <strong class="screenText">Health_Pickup</strong> controller set.</li>&#13;
      <li class="numbered">Notice <a id="_idIndexMarker426"/>that the <strong class="screenText">+</strong> icon is showing in the top left of the <strong class="screenText">Animator</strong> component, meaning it's not yet part of the <strong class="screenText">Health_Pickup</strong> Prefab:<figure class="mediaobject"><img src="img/B17573_06_28.png" alt="" width="481" height="220"/></figure>&#13;
        <p class="packt_figref">Figure 6.28: Animator component in the Inspector panel</p>&#13;
      </li>&#13;
      <li class="numbered">Select the three-vertical-dots icon at the top right and choose <strong class="screenText">Added Component</strong> | <strong class="screenText">Apply to Prefab 'Health_Pickup'</strong>:<figure class="mediaobject"> <img src="img/B17573_06_29.png" alt="" width="622" height="426"/></figure>&#13;
    <p class="packt_figref">Figure 6.29: Screenshot of a new component being applied to the Prefab</p>&#13;
      </li>&#13;
    </ol>&#13;
&#13;
    <p class="normal">Now that<a id="_idIndexMarker427"/> you've created and added an Animator component to the <strong class="screenText">Health_Pickup</strong><strong class="keyword"> </strong>Prefab, it's time to start recording some animation frames. When you think of motion clips, as in movies, you may think of frames. As the clip moves through its frames, the animation advances, giving the effect of movement. It's no different in Unity; we need to record our target object in different positions throughout different frames so that Unity can play the clip.</p>&#13;
    <h2 id="_idParaDest-150" class="title">Recording keyframes</h2>&#13;
    <p class="normal">Now that <a id="_idIndexMarker428"/>we have a clip to work with, you'll see a blank timeline in the <strong class="screenText">Animation</strong> window. Essentially, when we modify our <strong class="screenText">Health_Pickup</strong> Prefab's <em class="italic">z</em> rotation, or any other property that can be animated, the timeline will record those changes as keyframes. Unity then assembles those keyframes into your complete animation, similar to how individual frames on analog film play together into a moving picture.</p>&#13;
    <p class="normal">Take a look at the following screenshot and remember the locations of the record button and the timeline:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_30.png" alt="" width="831" height="249"/></figure>&#13;
    <p class="packt_figref">Figure 6.30: Screenshot of the Animation window and keyframe timeline</p>&#13;
    <p class="normal">Now, let's get <a id="_idIndexMarker429"/>our item spinning. For the spinning animation, we want the <strong class="screenText">Health_Pickup</strong> Prefab to make a complete 360-degree rotation on its <em class="italic">z</em> axis every second, which can be done by setting three keyframes and letting Unity take care of the rest:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Select the <strong class="screenText">Health_Pickup</strong> object in the <strong class="screenText">Hierarchy</strong> window, choose <strong class="screenText">Add Property</strong> | <strong class="screenText">Transform</strong>, and then click on the <strong class="screenText">+</strong> sign next to <strong class="screenText">Rotation</strong>:<figure class="mediaobject"><img src="img/B17573_06_31.png" alt="" width="594" height="245"/></figure>&#13;
        <p class="packt_figref">Figure 6.31: Screenshot of adding a Transform property for animation</p>&#13;
      </li>&#13;
      <li class="numbered">Click on <a id="_idIndexMarker430"/>the record button to start the animation:<ul>&#13;
          <li class="bullet-l2">Place your cursor at <strong class="screenText">0:00</strong> on the timeline but leave the <strong class="screenText">Health_Pickup</strong> Prefab's <em class="italic">z</em> rotation at 0</li>&#13;
          <li class="bullet-l2">Place your cursor at <strong class="screenText">0:30</strong> on the timeline and set the <em class="italic">z</em> rotation to <strong class="screenText">180</strong></li>&#13;
          <li class="bullet-l2">Place your cursor at <strong class="screenText">1:00</strong> on the timeline and set the <em class="italic">z</em> rotation to <strong class="screenText">360</strong></li>&#13;
        </ul>&#13;
        <figure class="mediaobject"><img src="img/B17573_06_32.png" alt="" width="748" height="199"/></figure>&#13;
        <p class="packt_figref">Figure 6.32: Screenshot of Animation keyframes being recorded</p>&#13;
      </li>&#13;
      <li class="numbered">Click on the record button to finish the animation</li>&#13;
      <li class="numbered">Click on the play button to the right of the record button to see the animation loop</li>&#13;
    </ol>&#13;
    <p class="normal">You'll notice that our <strong class="screenText">Animator</strong> animation overrides the one we wrote in code earlier. Don't worry; this is expected behavior. You can click the small checkbox to the right of any component in the <strong class="screenText">Inspector</strong> panel to activate or deactivate it. If you deactivate the <strong class="screenText">Animator</strong> component, <strong class="screenText">Health_Pickup</strong> will rotate around the <em class="italic">x</em> axis again using our code.</p>&#13;
    <p class="normal">The <strong class="screenText">Health_Pickup</strong> object now rotates on the <em class="italic">z</em> axis between 0, 180, and 360 degrees every second, creating the looping spin animation. If you play the game now, the animation will run indefinitely until the game is stopped:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_33.png" alt="" width="827" height="495"/></figure>&#13;
    <p class="packt_figref">Figure 6.33: Screenshot of an animation playing in the Animation window</p>&#13;
    <p class="normal">All <a id="_idIndexMarker431"/>animations have curves, which determine specific properties of how an animation executes. We won't be doing too much with these, but it's important to understand the basics. We'll get into them in the following section.</p>&#13;
    <h2 id="_idParaDest-151" class="title">Curves and tangents</h2>&#13;
    <p class="normal">In addition <a id="_idIndexMarker432"/>to animating an object property, Unity lets us manage how the animation plays out over time with animation curves. So far, we've been in <a id="_idIndexMarker433"/><strong class="keyword">Dopesheet</strong> mode, which you can change at the bottom of the Animation window. If you click on<a id="_idIndexMarker434"/> the <strong class="keyword">Curves</strong> view (pictured in the following screenshot), you'll see a different graph with accent points in place of our recorded keyframes. </p>&#13;
    <p class="normal">We want the spinning animation to be smooth—what we call linear—so we'll leave everything as is. However, speeding up, slowing down, or altering the animation at any point in its run can be done by dragging or adjusting the points on the curve graph in any direction:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_34.png" alt="" width="822" height="301"/></figure>&#13;
    <p class="packt_figref">Figure 6.34: Screenshot of the Curves timeline in the Animation window</p>&#13;
    <p class="normal">With animation curves <a id="_idIndexMarker435"/>handling how properties act over time, we still need a way to fix the stutter that occurs every time the <strong class="screenText">Health_Pickup</strong> animation repeats. For that, we need to change the animation's tangent, which manages how keyframes blend from one into another.</p>&#13;
    <p class="normal">These options <a id="_idIndexMarker436"/>can be accessed by right-clicking on any keyframe on the timeline in <strong class="keyword">Dopesheet</strong> mode, which you can see here:</p>&#13;
    <figure class="mediaobject"><img src="img/B17573_06_35.png" alt="" width="826" height="333"/></figure>&#13;
    <p class="packt_figref">Figure 6.35: Screenshot of keyframe smoothing options</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">Both curves and tangents are intermediate/advanced, so we won't be delving too deeply into them. If you're interested, you can take a look at the documentation on <a id="_idIndexMarker437"/>animation curves and tangent options at <a href="https://docs.unity3d.com/Manual/animeditor-AnimationCurves.html">https://docs.unity3d.com/Manual/animeditor-AnimationCurves.html</a>.</p>&#13;
    </p>&#13;
    <p class="normal">If you play the spinning animation as it is now, there's a slight pause between when the item completes its full rotation and starts a new one. Your job is to smooth that out, which is the subject of the next challenge.</p>&#13;
    <p class="normal">Let's <a id="_idIndexMarker438"/>adjust the<a id="_idIndexMarker439"/> tangents on the first and last frames of the animation so that the spinning animation blends seamlessly together when it repeats:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Right-click on the first and last keyframes' diamond icons on the animation timeline and select <strong class="screenText">Auto</strong>:<figure class="mediaobject"><img src="img/B17573_06_36.png" alt="" width="647" height="245"/></figure>&#13;
        <p class="packt_figref">Figure 6.36: Changing keyframe smoothing options</p>&#13;
      </li>&#13;
      <li class="numbered">If you haven't already done so, move the <strong class="screenText">Main Camera</strong> so that you can see the <code class="Code-In-Text--PACKT-">Health_Pickup</code> object and click on play:<figure class="mediaobject"><img src="img/B17573_06_37.png" alt="" width="1378" height="439"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 6.37: Screenshot of the final smoothed animation playing</p>&#13;
    <p class="normal">Changing the first<a id="_idIndexMarker440"/> and <a id="_idIndexMarker441"/>last keyframe tangents to <strong class="screenText">Auto</strong> tells Unity to make their transitions smooth, which eliminates the jerky stop/start motion when the animation loops.</p>&#13;
    <p class="normal">That's all the animation you'll need for this book, but I'd encourage you to check out the full toolbox that Unity offers in this area. Your games will be more engaging and your players will thank you! </p>&#13;
    <h1 id="_idParaDest-152" class="title">Summary</h1>&#13;
    <p class="normal">We made it to the end of another chapter that had a lot of moving parts, which might especially be a lot for those of you who are new to Unity. </p>&#13;
    <p class="normal">Even though this book is focused on the C# language and its implementation in Unity, we still need to take time to get an overview of game development, documentation, and the non-scripting features of the engine. While we didn't have time for in-depth coverage of the lighting and animation, it's worth getting to know them if you're thinking about continuing to create Unity projects.</p>&#13;
    <p class="normal">In the next chapter, we'll be switching our focus back to programming <em class="italic">Hero Born</em>'s core mechanics, starting with setting up a moveable player object, controlling the camera, and understanding how Unity's physics system governs the game world.</p>&#13;
    <h1 id="_idParaDest-153" class="title">Pop quiz – basic Unity features</h1>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Cubes, capsules, and spheres are examples of what kind of GameObject?</li>&#13;
      <li class="numbered">What axis does Unity use to represent depth, which gives scenes their 3D appearance?</li>&#13;
      <li class="numbered">How do you turn a GameObject into a reusable Prefab?</li>&#13;
      <li class="numbered">What unit of measurement does the Unity animation system use to record object animations?</li>&#13;
    </ol>&#13;
    <h1 class="heading-1">JOIN us on Discord!</h1>&#13;
    <p class="normal">Read this book alongside other users, Unity/C# experts, and Harrison Ferrone. Ask questions, provide solutions to other readers, chat with the author via <em class="italic">Ask Me Anything sessions</em> and much more.</p>&#13;
<p class="normal">Join Now! </p>&#13;
    <p class="normal"><a href="https://packt.link/csharpunity2021">https://packt.link/csharpunity2021</a></p>&#13;
    <p class="normal"><img style="height: 8em; width: auto;" src="img/QR_Code_9781801813945.png" alt="" width="354" height="354"/></p>&#13;
  </div>&#13;
</div></body></html>