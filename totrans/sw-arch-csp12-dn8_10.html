<html><head></head><body>
<div><h1 class="chapterNumber">10</h1>
<h1 class="chapterTitle" id="_idParaDest-200">Deciding on the Best Cloud-Based Solution</h1>
<p class="normal">When designing your application to make it cloud-based, you must understand different architectural designs – from the simplest to the most sophisticated. In fact, cloud technology not only enables cost optimization but also significantly reduces the time it takes to launch your solution to the market. Also, it effectively enhances your application’s ability to tolerate faults and scale. However, optimizing for cost, speed, resilience, and scalability often involves trade-offs in terms of constraints and flexibility, so you must choose the right compromise for your needs.</p>
<p class="normal">This chapter discusses different software architecture models and teaches you how to take advantage of the opportunities offered by the cloud in your solutions. This chapter will also discuss the different types of cloud service that we can consider while developing our infrastructure, what the ideal scenarios are, and where we can use each of them.</p>
<p class="normal">The following topics will be covered in this chapter:</p>
<ul>
<li class="bulletList">Infrastructure as a Service solutions</li>
<li class="bulletList">Platform as a Service solutions</li>
<li class="bulletList">Software as a Service solutions</li>
<li class="bulletList">Serverless solutions</li>
<li class="bulletList">How to use hybrid solutions and why they are so useful</li>
</ul>
<p class="normal">It is worth mentioning that the choice to be made between these options depends on different aspects of the project scenario, such as the need for flexibility and/or highly customized solutions versus simplicity, low maintenance costs, and low time-to-market. These trade-offs will be discussed throughout the whole chapter.</p>
<h1 class="heading-1" id="_idParaDest-201">Technical requirements</h1>
<p class="normal">For the practical content in this chapter, you must create or use an Azure account. We can find the detailed procedure for creating an Azure account in <em class="chapterRef">Chapter 1</em>, <em class="italic">Understanding the Importance of Software Architecture</em>, in the <em class="italic">Creating an Azure account</em> section.</p>
<h1 class="heading-1" id="_idParaDest-202">Different software deployment models</h1>
<p class="normal">Let’s begin our exploration with <strong class="keyWord">Infrastructure as a Service </strong>(<strong class="keyWord">IaaS</strong>), the foundational layer<a id="_idIndexMarker690"/> of cloud computing. IaaS<a id="_idIndexMarker691"/> offers a flexible and scalable infrastructure, which is crucial for businesses with specific hardware requirements or those transitioning from on-premises solutions to the cloud.</p>
<p class="normal">In companies where you have infrastructure engineers, you will probably find more people working with<strong class="keyWord"> IaaS</strong>. On the other hand, in companies where IT is not the core business, you<a id="_idIndexMarker692"/> will find a bunch of <strong class="keyWord">Software as a Service</strong> (<strong class="keyWord">SaaS</strong>) systems. It is common for developers to decide to use the <strong class="keyWord">Platform as a Service</strong> (<strong class="keyWord">PaaS</strong>) option or to go serverless, as they <a id="_idIndexMarker693"/>have no need to deliver infrastructures in this scenario.</p>
<p class="normal">As a software architect, you must cope with this environment and be sure that you are optimizing the cost and work factors, not only during the initial development of the solution but also during its maintenance. Also, as an architect, you must understand the needs of your system and work hard to connect those needs to best-in-class peripheral solutions, speeding up delivery and keeping the solution as close as possible to the customer’s specifications.</p>
<h2 class="heading-2" id="_idParaDest-203">IaaS and Azure opportunities</h2>
<p class="normal">IaaS was the first generation<a id="_idIndexMarker694"/> of cloud services<a id="_idIndexMarker695"/> provided by many different cloud players. Its definition is easily found in many places, but we can summarize it as “your computing infrastructure delivered on the internet, hosted somewhere that you do not manage.” In the same way that we have virtualization of services in a local data center, IaaS will also give you virtualized components, such as servers, storage, and firewalls, in the cloud.</p>
<p class="normal">In a few words, all the hardware you need is hosted in the cloud and maintained by the cloud provider instead of being hosted in your private data center. This includes servers delivered as virtual machines, possibly connected to private networks, disk storage, and also firewalls. You don’t buy the hardware but pay for its usage, and you can scale to a more powerful configuration at zero cost.</p>
<p class="normal">You can access your cloud hardware as if it were hosted in your private data center, but hardware maintenance is taken care of by the cloud provider. Moreover, you can scale your hardware gradually as your application traffic increases without installation and purchase costs and without migrating data to new hardware. Scaling is performed with simple configuration instructions. </p>
<p class="normal">Among the various cloud providers, Azure is the one with the most complete and varied offer, so you can easily find a perfect match with any hardware need. Most Azure <strong class="keyWord">IaaS</strong> solutions are paid for, and you should pay attention to this when it comes to testing. It is worth mentioning that this book does not set out to describe all IaaS services that Azure provides in detail. However, as a software architect, you do need to understand that you will find services such as the following:</p>
<ul>
<li class="bulletList"><strong class="keyWord">Virtual machines</strong>: Windows Server, Linux, Oracle, data science, and machine learning</li>
<li class="bulletList"><strong class="keyWord">Network</strong>: Virtual networks, load balancers, and DNS zones</li>
<li class="bulletList"><strong class="keyWord">Storage</strong>: Files, tables, databases, and Redis</li>
</ul>
<p class="normal">Obviously, these are not the only ones available as IaaS models, so the first step is to look at the service options available in Azure. To create any service in Azure, you must find the service that best fits your needs and then create a resource. The following screenshot shows a Windows Server virtual machine being configured.</p>
<figure class="mediaobject"><img alt="" role="presentation" src="img/B19820_10_01.png"/></figure>
<p class="packt_figref">Figure 10.1: Creating a virtual machine in Azure</p>
<p class="normal">Following the wizard provided<a id="_idIndexMarker696"/> by Azure to set up<a id="_idIndexMarker697"/> your virtual machine, you will<a id="_idIndexMarker698"/> be able to connect to it by using <strong class="keyWord">Remote Desktop Protocol</strong> (<strong class="keyWord">RDP</strong>). The next screenshot presents some of the hardware options you have for deploying a virtual machine. It is interesting to consider the vast array of hardware options at our disposal for deploying a virtual machine, especially when considering that these can be accessed just by clicking on the <strong class="screenText">Select</strong> button.</p>
<figure class="mediaobject"><img alt="" role="presentation" src="img/B19820_10_02.png"/></figure>
<p class="packt_figref">Figure 10.2: Virtual machine sizes available in Azure</p>
<p class="normal">If you compare the on-premises velocity to deliver hardware with the cloud velocity, you will realize that there is nothing better than the cloud when it comes to time-to-market. For instance, there are machines with 64 CPUs, 256 GB of RAM, and temporary storage of 512 GB. This is something you probably will not find in an on-premises data center, for instance, if you have a temporary workload, or it will take you a lot to deliver if you have a brand-new business idea that needs this computing power. Besides, in the temporary workload scenario, this machine will be underutilized, so it would be impossible to justify its purchase in an on-premises scenario.</p>
<p class="normal">IaaS can be adopted when you want full control<a id="_idIndexMarker699"/> over your infrastructure while still benefiting<a id="_idIndexMarker700"/> from cloud computing advantages like redundancy and scalability. However, the time-to-market for IaaS solutions is similar to that for on-premises solutions. Therefore, it is convenient to start with options that allow for a quicker launch in the short run and consider transitioning to IaaS for long-term objectives.</p>
<h3 class="heading-3" id="_idParaDest-204">Security responsibility in IaaS</h3>
<p class="normal">Security is an essential aspect<a id="_idIndexMarker701"/> of all hardware solutions because hacker attacks might cause both service interruptions and leaks or loss of important business data.</p>
<p class="normal">Security responsibility is another important thing to know about an IaaS platform. Many people think that once you decide to go on the cloud, all the security is done by the provider. However, this is not true, as you can see in the following screenshot:</p>
<figure class="mediaobject"><img alt="Diagram  Description automatically generated" src="img/B19820_10_03.png"/></figure>
<p class="packt_figref">Figure 10.3: Managing security in cloud computing</p>
<p class="normal">IaaS will force you to take care of security from the operating system to the application. In some cases, this is inevitable, but you must understand that this will increase your system cost.</p>
<p class="normal">IaaS can be a good option if you just want to move an already existing on-premises structure to the cloud. This enables scalability due to the tools that Azure gives you, along with all the other services. However, if you are planning to develop an application from scratch, you should also consider other options available on Azure.</p>
<p class="normal">Shifting our focus to <strong class="keyWord">PaaS</strong>, we enter a realm<a id="_idIndexMarker702"/> where speed<a id="_idIndexMarker703"/> and efficiency in software development take center stage. PaaS provides an environment where businesses can develop, run, and manage applications without the complexity of building and maintaining the infrastructure.</p>
<h2 class="heading-2" id="_idParaDest-205">PaaS – a world of opportunities for developers</h2>
<p class="normal">If you are studying or have studied<a id="_idIndexMarker704"/> software architectures, you will probably perfectly understand the meaning of the next sentence. The world demands high speed when it comes to software development! This demand for speed is precisely where <strong class="keyWord">PaaS</strong> becomes invaluable, offering rapid development and deployment capabilities.</p>
<p class="normal">As you can see in the preceding screenshot, PaaS allows you to worry about security only in terms of aspects that are closer to your business: your data and applications. For developers, this represents freedom from having to implement a bunch of configurations that make your solution work safely.</p>
<p class="normal">Security handling is not the only advantage of PaaS. As a software architect, you can introduce these services as an opportunity to deliver richer solutions faster. Time-to-market can surely justify the cost of many applications that run on a PaaS basis.</p>
<p class="normal">PaaS solutions free you from managing all details involved in your solution deployment without creating an excessive dependency on the PaaS supplier. In fact, your software need not depend too much on the chosen PaaS and small dependencies can be isolated in adequately designed drivers. In other words, it is always easy to move to a different PaaS solution or an IaaS solution if the software is designed with driver-based architecture, like the Onions architecture we described in the <em class="italic">Layers and the Onion architecture</em> section of <em class="chapterRef">Chapter 7</em>, <em class="italic">Understanding the Different Domains in Software Solutions</em>. Therefore, PaaS may be a good choice to reduce time-to-market also when one plans to move to IaaS in the long run.</p>
<p class="normal">Delving deeper into PaaS, let’s examine how Azure implements this model through its diverse range of services. Azure’s PaaS offerings are designed to cater to various development needs, from web applications to complex data processing.</p>
<p class="normal">There are lots of services delivered as PaaS nowadays in Azure, and the array of available services is continuously expanding, reflecting the evolving needs of developers and businesses.</p>
<p class="normal">Again, it is not the purpose of this book to list all of them. However, some do need to be mentioned. The list keeps growing, and the recommendation here is to use and test these services as much as you can! Make sure that you will deliver better-designed solutions with this thought in mind.</p>
<p class="normal">On the other hand, it is worth mentioning that, with PaaS solutions, you will not have full control of the operating system. In fact, in many situations, you do not even have to have a way to connect to it. This is fine most of the time, but in some debugging situations, you may miss this feature. The good thing is that PaaS components are evolving every single day, and one of Microsoft’s biggest concerns is making them widely visible.</p>
<p class="normal">The following subsections introduce the most common PaaS components delivered by Microsoft for .NET web apps, that is, Azure Web Apps and Azure SQL Server. We also describe Azure Cognitive Services, a very powerful PaaS platform that demonstrates how wonderful development is in the PaaS world. We will explore some of them in greater depth in the remainder of this book.</p>
<p class="normal">Of the many PaaS services, web apps stand<a id="_idIndexMarker705"/> out for their versatility and ease of use. Azure’s web app service simplifies the deployment of various types of applications, demonstrating the practicality and accessibility of PaaS solutions.</p>
<h3 class="heading-3" id="_idParaDest-206">Web apps</h3>
<p class="normal">A web app is a PaaS option<a id="_idIndexMarker706"/> you can use to deploy<a id="_idIndexMarker707"/> your web app. You can deploy different types of applications, such as .NET, .NET Core, Java, PHP, Node.js, and Python. An example of this was presented in <em class="italic">Chapter 1</em>, <em class="italic">Understanding the Importance of Software Architecture</em>.</p>
<p class="normal">The good thing is that creating a web app does not require any structure and/or IIS web server setup. In some cases, where you are using Linux to host your .NET application, you do not have IIS at all. Web apps’ flexibility in hosting options, such as not requiring IIS for Linux-based deployments, underscores their adaptability to various development and deployment environments.</p>
<p class="normal">Moreover, web apps have a plan option where you do not need to pay for usage. Of course, there are limitations, such as only running 32-bit apps and failing to enable scalability. This free tier is ideal for learning and initial application prototyping, offering essential features without the financial commitment.</p>
<h3 class="heading-3" id="_idParaDest-207">SQL databases</h3>
<p class="normal">Imagine how quickly<a id="_idIndexMarker708"/> you can deploy<a id="_idIndexMarker709"/> a solution if you have the complete power of an SQL server without needing to pay for a big server to deploy this database. This applies to SQL databases. With them, you can use Microsoft SQL Server for what you need the most – storage and data processing. In this scenario, Azure assumes responsibility for backing up the database.</p>
<p class="normal">Here, we will discuss briefly the advantages of having your databases in the cloud. Databases are discussed in detail in both <em class="chapterRef">Chapter 12</em>, <em class="italic">Choosing Your Data Storage in the Cloud</em>, and <em class="chapterRef">Chapter 13</em>, <em class="italic">Interacting with Data in C# – Entity Framework Core</em>.</p>
<p class="normal">Say you are starting a new business application, and say, initially, your data storage and traffic requirements are quite low, but you need advanced features such as data replication to safeguard your data and offer high performance to geographically distributed users. Without Azure SQL databases, you would be forced to buy several SQL licenses since the SQL Server free edition doesn’t cover similar scenarios.</p>
<p class="normal">With Azure SQL databases, instead, you can have the top features of the SQL Server Enterprise edition without paying for an expensive license, paying instead just for your initially small storage and traffic needs.</p>
<p class="normal">The SQL database even gives you the option to manage performance by itself. This is called automatic tuning – that is, your traffic requirements<a id="_idIndexMarker710"/> are automatically scaled to keep response time acceptable as requests increase. This means that your costs might automatically increase, but you can also define maximum expense limits.</p>
<p class="normal">Again, with PaaS components, you will be able to focus on what is important to your business: a very fast time-to-market.</p>
<p class="normal">The steps to create a SQL database for testing are quite simple, like what we have seen with other components. However, there are two things you need to pay attention to: the creation of the server and how you will be charged. In fact, understanding the various configurations and their costs is essential to finding the best trade-off between your application and maximum cost requirements.</p>
<p class="normal">When you create a resource, you can search for <code class="inlineCode">SQL Database</code>, and you will find this wizard to help you:</p>
<figure class="mediaobject"><img alt="" role="presentation" src="img/B19820_10_04.png"/></figure>
<p class="packt_figref">Figure 10.4: Creating a SQL database in Azure</p>
<p class="normal">The SQL database depends<a id="_idIndexMarker711"/> on an SQL server<a id="_idIndexMarker712"/> to host it. For this reason, as you can see, you must create (at least for the first database) a <code class="inlineCode">database.windows.net</code> server, where your databases will be hosted. This server will provide all the parameters you need to access the SQL server database using current tools, such as Visual Studio, SQL Server Management Studio, and Azure Data Studio. It is worth mentioning that you have a bunch of security features, such as Transparent Data Encryption and IP firewalls.</p>
<p class="normal">As soon as you decide on the name of your database server, you will be able to choose the pricing tier on which your system will be charged. Especially in SQL databases, there are several different pricing options, as you can see in the following screenshot. You should study each of them carefully because, depending on your scenario, you can save money by optimizing a pricing tier:</p>
<figure class="mediaobject"><img alt="Graphical user interface, text, application  Description automatically generated" src="img/B19820_10_05.png"/></figure>
<p class="packt_figref">Figure 10.5: Configuring the Azure SQL Database Pricing Tier</p>
<p class="normal">For more information<a id="_idIndexMarker713"/> about SQL configuration, you can use this link: <a href="https://azure.microsoft.com/en-us/services/sql-database/">https://azure.microsoft.com/en-us/services/sql-database/</a>.</p>
<p class="normal">More details on database solutions are discussed in <em class="chapterRef">Chapter 12</em>, <em class="italic">Choosing Your Data Storage in the Cloud</em>, and <em class="italic">Chapter 13</em>, <em class="italic">Interacting with Data in C# - Entity Framework Core</em>.</p>
<p class="normal">Once you have completed<a id="_idIndexMarker714"/> the configuration, you will be able to connect to this server database <a id="_idIndexMarker715"/>in the same way you did when your SQL server was installed on-premises. The only detail that you must pay attention to is the configuration of the Azure SQL Server firewall, but this is quite simple to set up and a good demonstration of how safe the PaaS service is.</p>
<h3 class="heading-3" id="_idParaDest-208">Azure Cognitive Services</h3>
<p class="normal"><strong class="keyWord">Artificial Intelligence</strong> (<strong class="keyWord">AI</strong>) is one of the most frequently<a id="_idIndexMarker716"/> discussed<a id="_idIndexMarker717"/> topics in software<a id="_idIndexMarker718"/> architecture. We are a step away from a really great world where AI will be everywhere.</p>
<p class="normal">For instance, AI is gaining ever more importance in the field of automatic help centers, data analysis to drive business decisions, and user interfaces based on natural language. The economic value added to these areas by AI is enormous, both in the decrease of service costs and in the increase in profit due to optimized decision-making. </p>
<p class="normal">To realize this, as a software architect, you cannot think about AI as software you need to invent from scratch all the time.</p>
<p class="normal">Azure Cognitive Services can help you with this. These APIs empower developers to create advanced features, like voice recognition in apps or language translation in customer service tools, with relative ease.</p>
<p class="normal">The great thing about PaaS is evident from this scenario. The cost of developing an in-house AI solution would require both enormous investments and hard-to-find competencies. With Azure Cognitive Services’ PaaS, instead, you just don’t need to worry about AI techniques. Instead, you may remain focused on what really matters to you as a software architect: the solution to your business problem.</p>
<p class="normal">Setting up Azure Cognitive Services<a id="_idIndexMarker719"/> in your Azure account<a id="_idIndexMarker720"/> is also quite simple. First, you will need to add Cognitive Services like any other Azure component. You can choose a specific cognitive service or a multi-service account that will enable you to access all cognitive services. In the screenshot below, we have chosen a multi-service account:</p>
<figure class="mediaobject"><img alt="" role="presentation" src="img/B19820_10_06.png"/></figure>
<p class="packt_figref">Figure 10.6: Creating a Cognitive Services API account in Azure</p>
<p class="normal">As soon as you have done this, you will<a id="_idIndexMarker721"/> be able to use the APIs provided by the server. You will find two important features<a id="_idIndexMarker722"/> in the service that you have created: endpoints and access keys. They are going to be used in your code to access APIs.</p>
<p class="normal">The following code sample shows how you can use the Cognitive Services API to translate sentences. The main concept underlying this translation service is that you can post the sentence you want to translate according to the key and region where the service was set. The following code enables you to post a request to the service API:</p>
<pre class="programlisting code"><code class="hljs-code">private static async Task&lt;string&gt; CSTranslate(string api, string key, string region, string textToTranslate)
{
    using var client = new HttpClient();
    client.DefaultRequestHeaders.Add("Ocp-Apim-Subscription-Key", key);
    client.DefaultRequestHeaders.Add("Ocp-Apim-Subscription-Region", region);
    client.Timeout = TimeSpan.FromSeconds(5);
    var body = new[] { new { Text = textToTranslate } };
    var requestBody = JsonConvert.SerializeObject(body);
    var content = new StringContent(requestBody, Encoding.UTF8, "application/json");
    var response = await client.PostAsync(api, content);
    response.EnsureSuccessStatusCode();
    return await response.Content.ReadAsStringAsync();
}
</code></pre>
<p class="normal">It is worth mentioning that the preceding code<a id="_idIndexMarker723"/> will allow you to post requests to translate any text<a id="_idIndexMarker724"/> into any language, provided you define it in the parameters. The following is the main program that calls the previous method:</p>
<pre class="programlisting code"><code class="hljs-code">static async Task Main()
{
    var host = "https://api.cognitive.microsofttranslator.com";
    var route = "/translate?api-version=3.0&amp;to=es";
    var subscriptionKey = "[YOUR KEY HERE]";
    var region = "[YOUR REGION HERE]";
    if (subscriptionKey == "[YOUR KEY HERE]")
    {
        Console.WriteLine("Please, enter your key: ");
        subscriptionKey = Console.ReadLine();
    }
    if (region  == "[YOUR REGION HERE]")
    {
        Console.WriteLine("Please, enter your region: ");
        region = Console.ReadLine();
    }
    var translatedSentence = await PostAPI(host + route, subscriptionKey, region, "Hello World!");
    Console.WriteLine(translatedSentence);
    Console.WriteLine("Press any key to continue...");
    Console.ReadKey();
}
</code></pre>
<p class="normal">For further information, visit <a href="https://docs.microsoft.com/en-us/azure/cognitive-services/translator/reference/v3-0-languages">https://docs.microsoft.com/en-us/azure/cognitive-services/translator/reference/v3-0-languages</a>.</p>
<p class="normal">This is a perfect example of how easily and quickly you can use services such as this to architect your projects. This ease of use not only accelerates project development but also opens up new possibilities for innovation<a id="_idIndexMarker725"/> and enhanced<a id="_idIndexMarker726"/> user experiences.</p>
<h2 class="heading-2" id="_idParaDest-209">SaaS — just sign in and get started!</h2>
<p class="normal">SaaS is probably the easiest way to use cloud-based<a id="_idIndexMarker727"/> services. The application you need is already available on the cloud, and you need just to configure and use it! Cloud players provide many good options that solve common problems for their end users in a company. From email services to comprehensive business management tools, SaaS offers a wide array of applications that you can tailor to your various business needs.</p>
<p class="normal">A good example of this type of service is Office 365. The key point with these platforms is that you do not need to worry about application maintenance. This is particularly convenient in scenarios where your team is totally focused on developing the core business of the application. For example, if your solution needs to deliver good reports, maybe you can design them using Power BI (which is included in Office 365). Thus, integrating Office 365 into your solution allows for seamless data analysis and reporting, immediately enhancing the overall efficiency and productivity of your business operations.</p>
<p class="normal">A SaaS solution can be customized in various ways. The most powerful technique is the addition of custom plugins. For instance, you can customize your Office 365 tenant by adding various kinds of plugins that are available in public repositories and/or by developing your own custom plugins.</p>
<p class="normal">It is also worth pointing out that if you decide to invest in custom plugins, you already have, say, 90% of the application running and stable, so both the initial investment and the time to market are incredibly reduced.</p>
<p class="normal">In summary, on the one hand, SaaS offers immediately sophisticated and proven solutions, but on the other hand, SaaS offers<a id="_idIndexMarker728"/> very limited customization options. So, how do you decide whether to use a SaaS solution?</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1"><strong class="keyWord">Evaluate existing solutions</strong>: First of all, you need to verify if a SaaS that matches your needs already exists.</li>
<li class="numberedList"><strong class="keyWord">Consider customization and integration</strong>: Then, you need to verify if the selected options can be adapted to your needs and the investment required to adapt them.</li>
<li class="numberedList"><strong class="keyWord">Analyze cost implications</strong>: At this point, you must analyze the impact of the inevitable compromises you will be forced to accept, as well as the overall cost implied by each candidate SaaS adoption, which includes the overall cost of the impact it has on your organization.</li>
<li class="numberedList"><strong class="keyWord">Review security and compliance</strong>: You also need to verify that the users/security model used by the SaaS is compatible with your needs and that, in general, the application fulfills all constraints required by your organization.</li>
<li class="numberedList"><strong class="keyWord">Assess vendor reliability and support</strong>: The impact of having a strong dependency on the SaaS supplier is a key factor in your final decision. Keep in mind that once you incorporate a SaaS solution into your business, it might be very difficult to move to a different solution – that is, the contractual power of your supplier might rise over time to unacceptable levels. For the same reason, an unreliable supplier (for instance, a young start-up) or a supplier that can’t offer adequate product support might cause unacceptable damage.</li>
<li class="numberedList"><strong class="keyWord">Plan for scalability and future growth</strong>: You must also consider the future of your organization. Thus, you must also verify if the candidate options are scalable and can be adapted to your growing needs and traffic.</li>
<li class="numberedList"><strong class="keyWord">Test the solution</strong>: Finally, you need to test the chosen solution in practice in a staging environment, verifying that your overall analysis<a id="_idIndexMarker729"/> and predictions are correct.</li>
</ol>
<p class="normal">Another pretty good example of a SaaS platform is Azure DevOps. As a software architect, before Azure DevOps, you<a id="_idIndexMarker730"/> needed to install and configure <strong class="keyWord">Team Foundation Server</strong> (<strong class="keyWord">TFS</strong>) (or even older tools like Microsoft Visual SourceSafe) for your team to work with a common repository and an application life cycle management tool.</p>
<p class="normal">We used to spend a lot of time just working either on preparing the server for TFS installation or upgrading and continuously maintaining the TFS already installed. This is no longer needed due to the simplicity of SaaS Azure DevOps.</p>
<h2 class="heading-2" id="_idParaDest-210">Understanding what serverless means</h2>
<p class="normal">A serverless solution is a solution where the focus<a id="_idIndexMarker731"/> is not on where the code runs. Even in a “serverless” solution, there is always a server. The thing is that you just do not know or care which server your code executes on. The main advantage of serverless is that you have zero fixed monthly costs, and you are billed just for your traffic.</p>
<p class="normal">However, there are also other advantages. For instance, in a serverless solution, you have a very fast, simple, and agile application life cycle since almost all serverless code is stateless and loosely coupled with the remainder<a id="_idIndexMarker732"/> of the system. Some authors refer to this as <strong class="keyWord">Function as a Service</strong> (<strong class="keyWord">FaaS</strong>).</p>
<p class="normal">Of course, the server runs somewhere. The key point here is that you do not need to worry about this or even scalability. This will enable you to focus completely on your app’s business logic. Again, the world needs fast development and good customer experiences at the same time. The more you focus on customer needs, the better!</p>
<p class="normal">FaaS offers the shortest time-to-market and the lowest cost threshold, together with large scalability possibilities. So, they are convenient in situations where it is extremely difficult to forecast the application workload or when the application workload has a high and difficult-to-forecast variance. </p>
<p class="normal">Suppose, for instance, you are looking for a solution for mass email sending to connect to your application. If your applications also handle marketing campaigns, there would be traffic peaks that might also be 100 times your average traffic. A FaaS solution might be able to easily cover these huge peaks without impacting the average costs you have outside of them.</p>
<p class="normal">Conversely, in a similar situation, PaaS or IaaS would force you to move to a higher price tier if you don’t need it during your average periods, just during your marketing campaign peaks.</p>
<p class="normal">If the workload becomes more stable, and it is easier to draw reliable lower and higher bounds, FaaS becomes less convenient due to its higher cost on higher workloads. As an example, Amazon Prime recently publicized its savings by switching from FaaS to IaaS. </p>
<p class="normal">Unluckily, moving from FaaS to PaaS or IaaS is not easy since FaaS code is strictly tied to the chosen FaaS solution.</p>
<p class="normal">This issue can be partially mitigated by avoiding overly fragmented FaaS code made of small functions and, instead, using a few functions that trigger the execution of bigger conventional software modules enclosed inside the FaaS solution. This way, moving to a different FaaS, or to IaaS/PaaS, would require just rewriting a few FaaS mains while keeping the bigger software modules they call unchanged. Unfortunately, the performance penalty of waking up an inactive function is incompatible with the usage of complex frameworks inside each function, so fragmentation is unavoidable.</p>
<p class="normal">In my experience, FaaS proves to be useful either<a id="_idIndexMarker733"/> in the early stages of a presumably high-traffic but low-complexity application or for low-complexity applications like our previous email-sending application, which are specifically designed to handle high and difficult-to-forecast peaks. In fact, in these applications, near-complete code rewrites are acceptable since the investment for the code development is low compared with the savings implied by an almost immediate time-to-market and by efficacious handling of big and hard-to-forecast traffic peeks.</p>
<p class="normal">In <em class="italic">Chapter 16</em>, <em class="italic">Working with Serverless – Azure Functions</em>, you will explore one of the best serverless implementations that Microsoft provides in Azure – Azure Functions. There, we will focus on how you can develop serverless solutions and learn about their advantages and disadvantages.</p>
<p class="normal">The following subsections compare IaaS, PaaS, SaaS, and FaaS along several axes.</p>
<h2 class="heading-2" id="_idParaDest-211">Comparing IaaS, PaaS, SaaS, and FaaS</h2>
<p class="normal">In the previous sections, we described<a id="_idIndexMarker734"/> various types of solutions<a id="_idIndexMarker735"/> offered by<a id="_idIndexMarker736"/> all main cloud providers, with<a id="_idIndexMarker737"/> their <a id="_idIndexMarker738"/>advantages and disadvantages. The table<a id="_idIndexMarker739"/> below<a id="_idIndexMarker740"/> summarizes<a id="_idIndexMarker741"/> the main<a id="_idIndexMarker742"/> advantages<a id="_idIndexMarker743"/> offered by<a id="_idIndexMarker744"/> each of them, assigning<a id="_idIndexMarker745"/> a note between 1 (less good) and 4 (very good) to five axes.</p>
<table class="table-container" id="table001-1">
<tbody>
<tr>
<td class="table-cell"/>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Time-to-Market</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Customization possibility</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Maintenance effort</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Scalability</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Cost</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">IaaS</p>
</td>
<td class="table-cell">
<p class="normal">1</p>
</td>
<td class="table-cell">
<p class="normal">4</p>
</td>
<td class="table-cell">
<p class="normal">1</p>
</td>
<td class="table-cell">
<p class="normal">1</p>
</td>
<td class="table-cell">
<p class="normal">4</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">PaaS</p>
</td>
<td class="table-cell">
<p class="normal">2</p>
</td>
<td class="table-cell">
<p class="normal">3</p>
</td>
<td class="table-cell">
<p class="normal">2</p>
</td>
<td class="table-cell">
<p class="normal">2</p>
</td>
<td class="table-cell">
<p class="normal">3</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">SaaS</p>
</td>
<td class="table-cell">
<p class="normal">4</p>
</td>
<td class="table-cell">
<p class="normal">1</p>
</td>
<td class="table-cell">
<p class="normal">4</p>
</td>
<td class="table-cell">
<p class="normal">Depends on application</p>
</td>
<td class="table-cell">
<p class="normal">1</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">FaaS</p>
</td>
<td class="table-cell">
<p class="normal">3</p>
</td>
<td class="table-cell">
<p class="normal">2</p>
</td>
<td class="table-cell">
<p class="normal">3</p>
</td>
<td class="table-cell">
<p class="normal">4</p>
</td>
<td class="table-cell">
<p class="normal">2</p>
</td>
</tr>
</tbody>
</table>
<h1 class="heading-1" id="_idParaDest-212">Why are hybrid applications so useful in many cases?</h1>
<p class="normal">In its general meaning, the word <em class="italic">hybrid</em> means something<a id="_idIndexMarker746"/> whose parts do not share a uniform architectural choice; each part makes a different architectural choice. However, in the case of cloud solutions, the word <em class="italic">hybrid</em> refers mainly to solutions that mix cloud subsystems with on-premises subsystems. However, it can also refer to mixing web subsystems with device-specific subsystems, such as mobiles or any other device that runs code.</p>
<p class="normal">Due to the number of services Azure can provide and the number of design architectures that can be implemented, hybrid applications are probably the best answer to the main question addressed in this chapter: how to use the opportunities offered by the cloud in your projects.</p>
<p class="normal">Nowadays, many current projects are moving from an on-premises solution to a cloud architecture, and depending on where you are going to deliver these projects, you will still find many bad preconceptions regarding moving to the cloud. Most of them are related to cost, security, and service availability.</p>
<p class="normal">You need to understand that there is some truth in these preconceptions, but not in the way people think. For sure, you, as a software architect, cannot ignore them. Especially when you develop a critical system, you must decide whether everything can go on the cloud or whether it is better to deliver part of the system on the edge. Therefore, understanding these factors is key to navigating the hybrid landscape, which ensures that you balance cost, security, and availability according to your specific needs.</p>
<p class="normal">It is worth mentioning a real-life example that might clarify the need for hybrid solutions. Recently, several customers of a SaaS solution we offer objected to the fact that they couldn’t move reserved and business-critical documents to the cloud. Our solution was equipping our SaaS with file-handling drivers capable of retrieving files from an in-house document server located in the customer’s private intranet.</p>
<p class="normal">A completely different kind of hybrid solution is the edge computing paradigm. According to this paradigm, parts of the system must be deployed on machines or devices close to the location where they are needed. This helps to reduce response times and bandwidth.</p>
<p class="normal">Mobile solutions can be considered another classic<a id="_idIndexMarker747"/> example of hybrid applications since they mix a web-based architecture with a device-based architecture to offer a better user experience. There are lots of scenarios where you can replace a mobile application with a responsive website. However, when it comes to interface quality and performance, maybe a responsive website will not give the end user what they really need.</p>
<h1 class="heading-1" id="_idParaDest-213">Summary</h1>
<p class="normal">In this chapter, you learned how to take advantage of the services offered by the cloud in your solutions, as well as the various options you can choose from.</p>
<p class="normal">This chapter covered different ways to deliver the same application in a cloud-based structure. We also noted how rapidly Microsoft is delivering all these options to its customers, as you can experience all of these options in actual applications and choose the one that best fits your needs, since there is no <em class="italic">silver bullet</em> that works in all situations. As a software architect, you need to analyze your environment and your team, and then decide on the best cloud architecture to implement in your solution.</p>
<p class="normal">The next chapter is dedicated to building a flexible architecture comprising small, scalable software modules called microservices.</p>
<h1 class="heading-1" id="_idParaDest-214">Questions</h1>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">Why should you use IaaS in your solution?</li>
<li class="numberedList">Why should you use PaaS in your solution?</li>
<li class="numberedList">Why should you use SaaS in your solution?</li>
<li class="numberedList">Why should you use serverless in your solution?</li>
<li class="numberedList">What is the advantage of using an Azure SQL Server database?</li>
<li class="numberedList">How can you accelerate AI in your application with Azure?</li>
<li class="numberedList">How can hybrid architectures help you to design a better solution?</li>
</ol>
<h1 class="heading-1" id="_idParaDest-215">Further reading</h1>
<p class="normal">You can check out these web links to study the topics covered in this chapter in greater depth:</p>
<ul>
<li class="bulletList"><a href="https://visualstudio.microsoft.com/xamarin/">https://visualstudio.microsoft.com/xamarin/</a></li>
<li class="bulletList"><a href="https://www.packtpub.com/application-development/xamarin-cross-platform-application-development">https://www.packtpub.com/application-development/xamarin-cross-platform-application-development</a></li>
<li class="bulletList"><a href="https://www.packtpub.com/virtualization-and-cloud/learning-azure-functions">https://www.packtpub.com/virtualization-and-cloud/learning-azure-functions</a></li>
<li class="bulletList"><a href="https://azure.microsoft.com/overview/what-is-iaas/">https://azure.microsoft.com/overview/what-is-iaas/</a></li>
<li class="bulletList"><a href="https://docs.microsoft.com/en-us/azure/security/azure-security-iaas">https://docs.microsoft.com/en-us/azure/security/azure-security-iaas</a></li>
<li class="bulletList"><a href="https://azure.microsoft.com/services/app-service/web/">https://azure.microsoft.com/services/app-service/web/</a></li>
<li class="bulletList"><a href="https://azure.microsoft.com/services/sql-database/">https://azure.microsoft.com/services/sql-database/</a></li>
<li class="bulletList"><a href="https://azure.microsoft.com/en-us/services/virtual-machines/data-science-virtual-machines/">https://azure.microsoft.com/en-us/services/virtual-machines/data-science-virtual-machines/</a></li>
<li class="bulletList"><a href="https://docs.microsoft.com/azure/sql-database/sql-database-automatic-tuning">https://docs.microsoft.com/azure/sql-database/sql-database-automatic-tuning</a></li>
<li class="bulletList"><a href="https://azure.microsoft.com/en-us/services/cognitive-services/">https://azure.microsoft.com/en-us/services/cognitive-services/</a></li>
<li class="bulletList"><a href="https://docs.microsoft.com/en-us/azure/architecture/">https://docs.microsoft.com/en-us/azure/architecture/</a></li>
<li class="bulletList"><a href="https://powerbi.microsoft.com/">https://powerbi.microsoft.com/</a></li>
<li class="bulletList"><a href="https://office.com">https://office.com</a></li>
<li class="bulletList"><a href="https://azure.microsoft.com/en-us/overview/what-is-serverless-computing/">https://azure.microsoft.com/en-us/overview/what-is-serverless-computing/</a></li>
<li class="bulletList"><a href="https://azure.microsoft.com/en-us/pricing/details/sql-database/">https://azure.microsoft.com/en-us/pricing/details/sql-database/</a></li>
<li class="bulletList"><a href="https://www.packtpub.com/virtualization-and-cloud/professional-azure-sql-database-administration ">https://www.packtpub.com/virtualization-and-cloud/professional-azure-sql-database-administration</a></li>
</ul>
<h1 class="heading-1">Learn more on Discord</h1>
<p class="normal">To join the Discord community for this book – where you can share feedback, ask questions to the authors, and learn about new releases – follow the QR code below:</p>
<p class="normal"><a href="https://packt.link/SoftwareArchitectureCSharp12Dotnet8">https://packt.link/SoftwareArchitectureCSharp12Dotnet8</a></p>
<p class="normal"><img alt="" role="presentation" src="img/QR_Code175081751210902046.png"/></p>
</div>
</body></html>