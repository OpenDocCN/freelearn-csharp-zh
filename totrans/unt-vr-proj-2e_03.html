<html><head></head><body>
        

                            
                    <h1 class="header-title">VR Build and Run</h1>
                
            
            
                
<p class="calibre3"><em class="calibre14">Yeah well, this is cool and everything, but where's my VR? I WANT MY VR!</em></p>
<p class="calibre3">Hold on kid, we're getting there.</p>
<p class="calibre3">In this chapter, we are going to set up your system and configure your project to build and run with a virtual reality <strong class="calibre5">head-mounted display</strong> (<strong class="calibre5">HMD</strong>). We will be discussing the following topics:</p>
<ul class="calibre11">
<li class="calibre12">The levels of VR device integration software</li>
<li class="calibre12">Enabling virtual reality for your platform</li>
<li class="calibre12">Using device-specific camera rigs in your project</li>
<li class="calibre12">Setting up your development machine to build and run VR projects from Unity</li>
</ul>
<p class="calibre3">This chapter is very nuts and bolts. Although Unity aims to provide a unified platform for <em class="calibre14">create once, build many</em>, you are always going to need to do some system setup, project configuration, and include object components for your specific target devices. After the first couple of topics in this chapter, you can jump to the section(s) that most concern you and your target devices. This chapter includes cookbook instructions for the following:</p>
<ul class="calibre11">
<li class="calibre12">Building for SteamVR</li>
<li class="calibre12">Building for Oculus Rift</li>
<li class="calibre12">Building for Windows immersive MR</li>
<li class="calibre12">Setting up for Android devices</li>
<li class="calibre12">Building for GearVR and Oculus Go</li>
<li class="calibre12">Building for Google VR</li>
<li class="calibre12">Setting up for iOS devices</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Unity VR Support and Toolkits</h1>
                
            
            
                
<p class="calibre3">Generally, as a developer, you spend your time working on your project scene. As we did for the diorama in the previous chapter, you'll add objects, attach materials, write scripts, and so on. When you build and run your project, the scene is rendered on a VR device and responds in real time to head and hand motions. The following diagram summarizes this Unity system VR architecture:</p>
<div><img src="img/b7b252dc-9367-455d-8e69-b77970004120.png" class="calibre35"/></div>
<p class="calibre3">Within your scene, you may include a camera rig and other higher-level toolkit prefabs and components. All device manufacturers provide toolkits that are tuned to their specific devices. At a minimum, this includes the Unity Camera component for rendering the VR scene. It probably also includes a whole suite of prefabs and components, some required and some optional, which really help you create interactive, responsive, and comfortable VR experiences. We will go into detail throughout this chapter on how to set up your scene with these specific devices.</p>
<p class="calibre3">Unity has a growing library of built-in classes and components to support VR—what they call <em class="calibre14">XR</em>—and also to include augmented reality. Some are platform specific. But some are device independent. These include stereo rendering, input tracking, and audio spatializers, to name a few. For details, see the Unity Manual pages for <kbd class="calibre13">UnityEngine.XR</kbd> and <kbd class="calibre13">UnityEngine.SpatialTracking</kbd> (<a href="https://docs.unity3d.com/ScriptReference/30_search.html?q=xr" class="calibre10">https://docs.unity3d.com/ScriptReference/30_search.html?q=xr</a>).</p>
<p class="calibre3">At the lower level, any Unity project that runs on VR must set up the <strong class="calibre5">XR Player Settings</strong> with <strong class="calibre5">Virtual Reality Supported</strong>, and identify the specific low-level SDK the application should be used to drive the VR device. We will go into detail throughout this chapter on how to set up your project for specific devices.</p>
<p class="calibre3">So, as you can see, Unity is sandwiched between the app-level toolkit components and the device-level SDK. It provides a device-independent glue between device-specific API, tools, and optimizations.</p>
<p>Strategically, the team at Unity Technologies is dedicated to delivering a unified development platform for 2D, 3D, VR, and AR games and apps. Important new components are under development at Unity (and may already be available by the time you read this book) including the VR Foundation Toolkit and new input system. These are not covered in this book.</p>
<p class="calibre3">Before jumping in, let's understand the possible ways to integrate our Unity project with virtual reality devices. Software for the integration of applications with VR hardware spans a spectrum, from built-in support and device-specific interfaces to device-independent and platform- independent ones. So, let's consider your options.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Unity's built-in VR support</h1>
                
            
            
                
<p class="calibre3">In general, your Unity project must include a camera object that can render stereoscopic views, one for each eye on the VR headset. Since Unity 5.1, support for VR headsets has been built into Unity for various devices across several platforms.</p>
<p class="calibre3">You can simply use a standard camera component, like the one attached to the default <kbd class="calibre13">Main Camera</kbd> when you create a new scene. As we'll see, you can have Virtual Reality Supported enabled in XR Player Settings for Unity to render stereoscopic camera views and run your project on a VR headset (HMD). In Player Settings, you then choose which specific virtual reality SDK(s) to use when the project is built. The SDK talks to the device runtime drivers and underlying hardware. Unity's support for VR devices is collected in the XR class, and is documented as follows:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">XR Settings</strong>: Global XR-related settings including a list of supported devices in the build, and eye textures for the loaded device. See <a href="https://docs.unity3d.com/ScriptReference/XR.XRSettings.html" class="calibre10">https://docs.unity3d.com/ScriptReference/XR.XRSettings.html</a>.</li>
<li class="calibre12"><strong class="calibre1">XR Device</strong>: Query the capabilities of the current device such as the refresh rate and tracking space type. See <a href="https://docs.unity3d.com/ScriptReference/XR.XRDevice.html" class="calibre10">https://docs.unity3d.com/ScriptReference/XR.XRDevice.html</a>.</li>
<li class="calibre12"><strong class="calibre1">XR Input Tracking</strong>: Access the VR positional tracking data including the position and rotation of individual <em class="calibre2">nodes</em>. See <a href="https://docs.unity3d.com/ScriptReference/XR.InputTracking.html" class="calibre10">https://docs.unity3d.com/ScriptReference/XR.InputTracking.html</a>.</li>
</ul>
<p class="calibre3">Input controller buttons, triggers, touchpads, and thumbsticks can also map generically to Unity's Input system. For example, the OpenVR hand controller mappings can be found here: <a href="https://docs.unity3d.com/Manual/OpenVRControllers.html" class="calibre10">https://docs.unity3d.com/Manual/OpenVRControllers.html</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Device-specific toolkits</h1>
                
            
            
                
<p class="calibre3">While built-in VR support may be sufficient to get started, you are advised to also install the device-specific Unity package provided by the manufacturer. The device-specific interface will provide prefab objects, lots of useful custom scripts, shaders, and other important optimizations that directly take advantage of the features of the underlying runtime and hardware. The toolkits ordinarily include example scenes, prefabs, components, and documentation to guide you. Toolkits include:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">SteamVR Plugin</strong>: Steam's SteamVR toolkit (<a href="https://assetstore.unity.com/packages/tools/steamvr-plugin-32647" class="calibre10">https://assetstore.unity.com/packages/tools/steamvr-plugin-32647</a>) was originally released for HTC VIVE only. It now has support for several VR devices and runtimes that have positional-tracked left and right-hand controllers. This includes Oculus Rift and Windows Immersive MR. You build your project using the OpenVR SDK and the final executable program will decide at runtime which type of hardware you have attached to your PC and run that app on that device. This way, you don't need different versions of your app for VIVE, Rift, and IMR devices.</li>
<li class="calibre12"><strong class="calibre1">Oculus Integration Toolkit</strong>: The Oculus Integration plugin for Unity (<a href="https://assetstore.unity.com/packages/tools/integration/oculus-integration-82022" class="calibre10">https://assetstore.unity.com/packages/tools/integration/oculus-integration-82022</a>) supports Oculus VR devices including Rift, GearVR, and GO. In addition to the Touch hand controllers, it supports Oculus Avatar, Spatial Audio, and network Rooms SDK.</li>
<li class="calibre12"><strong class="calibre1">Windows Mixed Reality Toolkit</strong>: The Windows MRTK plugin (<a href="https://github.com/Microsoft/MixedRealityToolkit-Unity" class="calibre10">https://github.com/Microsoft/MixedRealityToolkit-Unity</a>) supports VR and AR devices in the Windows 10 UWP Mixed Reality family, including immersive HMD (like those from Acer, HP, and others) as well as the wearable HoloLens augmented reality headset.</li>
<li class="calibre12"><strong class="calibre1">Google VR SDK for Unity</strong>: The GVR SDK for Unity plugin (<a href="https://github.com/googlevr/gvr-unity-sdk/releases" class="calibre10">https://github.com/googlevr/gvr-unity-sdk/releases</a>) provides support for user input, controllers, and rendering for both Google Daydream and simpler Google Cardboard environments.</li>
</ul>
<p class="calibre3">When you set up your VR projects in Unity, you will probably install one or more of these toolkits. We walk you through this later in this chapter.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Application toolkits</h1>
                
            
            
                
<p class="calibre3">If you require more device independence plus higher-level interactive features, consider the open source <strong class="calibre5">Virtual Reality ToolKit</strong> (<strong class="calibre5">VRTK</strong>) at <a href="https://assetstore.unity.com/packages/tools/vrtk-virtual-reality-toolkit-vr-toolkit-64131" class="calibre10">https://assetstore.unity.com/packages/tools/vrtk-virtual-reality-toolkit-vr-toolkit-64131</a> and <strong class="calibre5">NewtonVR</strong> (<a href="https://github.com/TomorrowTodayLabs/NewtonVR" class="calibre10">https://github.com/TomorrowTodayLabs/NewtonVR</a>). These Unity plugins provide a framework for developing VR applications with support for multiple platforms, locomotion, interactions, and UI controls. NewtonVR focuses mostly on <em class="calibre14">physics interactions</em>. VRTK is built on top of the Unity built-in VR support plus the device-specific prefabs, so it's not <em class="calibre14">instead of</em> but is a wrapper on top of those SDKs.</p>
<p class="calibre3">It is worth mentioning at this point that Unity is working on its own toolkit, the <strong class="calibre5">XR Foundation Toolkit</strong> (<strong class="calibre5">XRFT</strong>) at <a href="https://blogs.unity3d.com/2017/02/28/updates-from-unitys-gdc-2017-keynote/)" class="calibre10">https://blogs.unity3d.com/2017/02/28/updates-from-unitys-gdc-2017-keynote/</a> which will include:</p>
<ul class="calibre11">
<li class="calibre12">Cross-platform controller input</li>
<li class="calibre12">Customizable physics systems</li>
<li class="calibre12">AR/VR-specific shaders and camera fades</li>
<li class="calibre12">Object snapping and building systems</li>
<li class="calibre12">Developer debugging and profiling tools</li>
<li class="calibre12">All major AR and VR hardware systems</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Web and JavaScript-based VR</h1>
                
            
            
                
<div><p class="calibre3">Important JavaScript APIs are being built directly into major web browsers, including special builds of Firefox, Chrome, Microsoft Edge, and other browsers like those from Oculus and Samsung for GearVR.</p>
<p class="calibre3">WebVR, for example, is like <strong class="calibre5">WebGL</strong> (the 2D and 3D graphics markup API for the web), adding VR rendering and hardware support. While Unity presently has support for WebGL, it does not support building VR apps for WebVR (yet). But we hope to see this happen one day soon.</p>
<p class="calibre3">The promise of Internet-based WebVR is exciting. The internet is the greatest content distribution system in the history of the world. The ability to build and distribute VR content just as easily as web pages will be revolutionary.</p>
<p class="calibre3">As we know, browsers run on just about any platform. So, if you target your game to WebVR or similar framework, you don't even need to know the user's operating system, let alone which VR hardware they're using! That's the idea anyway. Some of the tools and frameworks to watch include:</p>
</div>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">WebVR</strong> (<a href="http://webvr.info/" class="calibre10">http://webvr.info/</a>)</li>
<li class="calibre12"><strong class="calibre1">A-Frame</strong> (<a href="https://aframe.io/" class="calibre10">https://aframe.io/</a>)</li>
<li class="calibre12"><strong class="calibre1">Primrose</strong> (<a href="https://www.primrosevr.com/" class="calibre10">https://www.primrosevr.com/</a>)</li>
<li class="calibre12"><strong class="calibre1">ReactVR</strong> (<a href="https://facebook.github.io/react-vr/" class="calibre10">https://facebook.github.io/react-vr/</a>)</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">3D worlds</h1>
                
            
            
                
<p class="calibre3">There are a number of third-party 3D world platforms that provide multi-user social experiences in shared virtual spaces. You can chat with other players, move between rooms through <em class="calibre14">portals</em>, and even build complex interactions and games without having to be an expert. For examples of 3D virtual worlds, check out the following:</p>
<ul class="calibre11">
<li class="calibre12"><strong class="calibre1">VRChat</strong>: <a href="http://vrchat.net/" class="calibre10">http://vrchat.net/</a></li>
<li class="calibre12"><strong class="calibre1">AltspaceVR</strong>: <a href="http://altvr.com/" class="calibre10">http://altvr.com/</a></li>
<li class="calibre12"><strong class="calibre1">High Fidelity</strong>: <a href="https://highfidelity.com/" class="calibre10">https://highfidelity.com/</a></li>
</ul>
<p class="calibre3">While these platforms may have their own tools for building rooms and interactions, in particular, VRChat lets you develop 3D spaces and avatars in Unity. Then you export them using their SDK and load them into VRChat for you and others to share the virtual spaces you created over the internet in a real-time social VR experience. We will explore this in <a href="721ca227-9208-4342-b6ac-a12799adbb2b.xhtml" target="_blank" class="calibre10">Chapter 13</a>, <em class="calibre14">Social VR Metaverse</em>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Enabling Virtual Reality for your platform</h1>
                
            
            
                
<p class="calibre3">The diorama scene we created in the previous chapter was a 3D scene using the Unity default <kbd class="calibre13">Main Camera</kbd>. As we saw, when you pressed Play in the Unity Editor you had the scene running in the Game window on your 2D computer monitor. The steps for setting up your project to run in VR include:</p>
<ul class="calibre11">
<li class="calibre12">Set the target platform for your project builds</li>
<li class="calibre12">Enable Virtual Reality in the XR Player Settings in Unity and set the VR SDK</li>
<li class="calibre12">Import the device toolkit for your target device into your project (optional but recommended) and use the prescribed prefabs instead of the default <kbd class="calibre13">Main Camera</kbd></li>
<li class="calibre12">Install the system tool required to build your target device </li>
<li class="calibre12">Ensure your device's operating system is enabled for development</li>
<li class="calibre12">Ensure your device's VR runtime is set up and running</li>
</ul>
<p class="calibre3">If you are not sure, use the table to determine the target platform, virtual reality SDK, and Unity package to use for your VR device:</p>
<table border="1" class="calibre36">
<tbody class="calibre37">
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Device</strong></p>
</td>
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Target Platform</strong></p>
</td>
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">VR SDK</strong></p>
</td>
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Unity Package</strong></p>
</td>
</tr>
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">HTC Vive</strong></p>
</td>
<td class="calibre39">
<p class="calibre3">Standalone</p>
</td>
<td class="calibre39">
<p class="calibre3">OpenVR</p>
</td>
<td class="calibre39">
<p class="calibre3">SteamVR Plugin</p>
</td>
</tr>
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Oculus Rift</strong></p>
</td>
<td class="calibre39">
<p class="calibre3">Standalone</p>
</td>
<td class="calibre39">
<p class="calibre3">OpenVR</p>
</td>
<td class="calibre39">
<p class="calibre3">SteamVR Plugin</p>
</td>
</tr>
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Oculus Rift</strong></p>
</td>
<td class="calibre39">
<p class="calibre3">Standalone</p>
</td>
<td class="calibre39">
<p class="calibre3">Oculus</p>
</td>
<td class="calibre39">
<p class="calibre3">Oculus Integration</p>
</td>
</tr>
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Windows IMR</strong></p>
</td>
<td class="calibre39">
<p class="calibre3">Universal Windows Platform</p>
</td>
<td class="calibre39">
<p class="calibre3">Windows Mixed Reality</p>
</td>
<td class="calibre39">
<p class="calibre3">Mixed Reality Toolkit Unity</p>
</td>
</tr>
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">GearVR/GO</strong></p>
</td>
<td class="calibre39">
<p class="calibre3">Android</p>
</td>
<td class="calibre39">
<p class="calibre3">Oculus</p>
</td>
<td class="calibre39">
<p class="calibre3">Oculus Integration</p>
</td>
</tr>
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Daydream</strong></p>
</td>
<td class="calibre39">
<p class="calibre3">Android</p>
</td>
<td class="calibre39">
<p class="calibre3">Daydream</p>
</td>
<td class="calibre39">
<p class="calibre3">Google VR SDK for Unity<br class="calibre7"/>
and Daydream Elements</p>
</td>
</tr>
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Cardboard</strong></p>
</td>
<td class="calibre39">
<p class="calibre3">Android</p>
</td>
<td class="calibre39">
<p class="calibre3">Cardboard</p>
</td>
<td class="calibre39">
<p class="calibre3">Google VR SDK for Unity</p>
</td>
</tr>
<tr class="calibre38">
<td class="calibre39">
<p class="calibre3"><strong class="calibre5">Cardboard</strong></p>
</td>
<td class="calibre39">
<p class="calibre3">iOS</p>
</td>
<td class="calibre39">
<p class="calibre3">Cardboard</p>
</td>
<td class="calibre39">
<p class="calibre3">Google VR SDK for Unity</p>
</td>
</tr>
</tbody>
</table>
<p class="calibre3"> </p>
<p class="calibre3">Links to the Unity packages for various integration toolkits are listed as follows:</p>
<ul class="calibre11">
<li class="calibre12">SteamVR Plugin: <a href="https://assetstore.unity.com/packages/tools/steamvr-plugin-32647" class="calibre10">https://assetstore.unity.com/packages/tools/steamvr-plugin-32647</a></li>
<li class="calibre12">Oculus Integration: <a href="https://assetstore.unity.com/packages/tools/integration/oculus-integration-82022" class="calibre10">https://assetstore.unity.com/packages/tools/integration/oculus-integration-82022</a></li>
<li class="calibre12">MixedRealityToolkit-Unity: <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity" class="calibre10">https://github.com/Microsoft/MixedRealityToolkit-Unity</a></li>
<li class="calibre12">Google VR SDK for Unity: <a href="https://github.com/googlevr/gvr-unity-sdk/releases" class="calibre10">https://github.com/googlevr/gvr-unity-sdk/releases</a></li>
<li class="calibre12">Google Daydream Elements: <a href="https://github.com/googlevr/daydream-elements/releases" class="calibre10">https://github.com/googlevr/daydream-elements/releases</a></li>
</ul>
<p class="calibre3">Now, let's configure the project for your specific VR headset.</p>
<p>As you know, installation and setup details are subject to change. We recommend you double-check with the current Unity manual and your device's Unity interface documentation for the latest instructions and links.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Setting your target platform</h1>
                
            
            
                
<p class="calibre3">New Unity projects normally default to targeting standalone desktop platforms. If this works for you, you do not need to change anything. Let's see:</p>
<ol class="calibre15">
<li class="calibre12">Open the Build Settings window (File | Build Settings…) and review the Platform list</li>
<li class="calibre12">Choose your target platform. For example:<br class="title-page-name"/>
<ul class="calibre40">
<li class="calibre12">If you're building for Oculus Rift or HTC VIVE, for example, choose PC, Mac &amp; Linux Standalone</li>
<li class="calibre12">If you're building for Windows MR, choose <strong class="calibre1">U</strong>niversal Windows Platform</li>
<li class="calibre12">If you are building for Google Daydream on Android, choose <strong class="calibre1">Android</strong></li>
<li class="calibre12">If you are building for Google Cardboard on iOS, choose iOS</li>
</ul>
</li>
<li class="calibre12">Then press Switch Platform</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">Setting your XR SDK</h1>
                
            
            
                
<p class="calibre3">When your project is built with <strong class="calibre5">Virtual Reality Supported</strong> enabled in <strong class="calibre5">Player Settings</strong>, it renders stereoscopic camera views and runs on an HMD:</p>
<ol class="calibre15">
<li class="calibre12">Go into Player Settings (Edit | Project Settings | Player).</li>
<li class="calibre12">In the Inspector window, find the XR Settings at the bottom and check the Virtual Reality Supported checkbox.</li>
<li class="calibre12">Choose the Virtual Reality SDK you will require for your target device. Refer to the previous table.</li>
</ol>
<p class="calibre3">Depending on the target platform you are using, the Virtual Reality SDKs available in your Unity installation will vary. If your target VR is shown, then you're good to go. You can add others by pressing the ( + ) button in the list, and remove ones pressing the ( - ) button.</p>
<p class="calibre3">For example, the following screenshot shows the Virtual Reality SDKs selected for the Standalone platform. With Virtual Reality Supported enabled, the app will use Oculus SDK if it can. If the app cannot initialize the Oculus SDK at runtime, it will then try the OpenVR SDK.</p>
<p class="calibre3">At this point, by pressing Play in the Unity Editor you may be able to preview your scene in VR. Different platforms support Play mode in different ways. Some do not support Editor previews at all.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Installing your device toolkit</h1>
                
            
            
                
<p class="calibre3">Next, install your device-specific Unity package. If the toolkit is available in the Unity Asset Store, use the following steps:</p>
<ol class="calibre15">
<li class="calibre12">Within Unity, open the Asset Store window (Window | Asset Store)</li>
<li class="calibre12">Search for the package you want to install</li>
<li class="calibre12">On the asset's page, press Download, and then click on Install to install the files in your <kbd class="calibre13">Project Assets/</kbd> folder</li>
</ol>
<p class="calibre3">If you downloaded the package from the web separately, use the following steps:</p>
<ol class="calibre15">
<li class="calibre12">Within Unity, select Assets | Import Package | Custom Package</li>
<li class="calibre12">Navigate to the folder containing the <kbd class="calibre13">.unitypackage</kbd> file you downloaded</li>
<li class="calibre12">Press Open and then click on Install to install the files into your <kbd class="calibre13">Project <em class="calibre2">Assets/</em></kbd> folder</li>
</ol>
<p class="calibre3">Feel free to explore the package contents files. Try opening and trying out any sample scenes included. And become familiar with any prefab objects (in a <kbd class="calibre13">Prefabs/</kbd> folder) that might be useful to you later in the book.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating the MeMyselfEye player prefab</h1>
                
            
            
                
<p class="calibre3">Most VR toolkits provide a preconfigured player camera rig as a prefab that you can insert into your scene. This rig replaces the default <kbd class="calibre13">Main Camera</kbd>. For this book, since we do not know which particular devices and platforms you are targeting, we will make our own camera rig. Let's called it <kbd class="calibre13">MeMyselfEye</kbd> (hey, this is VR!). This will be helpful later on, and it will simplify our conversations in this book, since different VR devices may use different camera assets. <em class="calibre14">Like an empty vessel for your VR soul...</em></p>
<p>We will reuse this <kbd class="calibre26">MeMyselfEye</kbd> prefab in chapters throughout the book as a convenient generic VR camera asset in our projects.</p>
<p class="calibre3">A <strong class="calibre5">prefab</strong> is a reusable (prefabricated) object retained in your project's Assets folder that can be added one or more times into project scenes. Let's create the object using the following steps:</p>
<ol class="calibre15">
<li class="calibre12">Open Unity and the project from the last chapter. Then, open the diorama scene by navigating to File | Open Scene (or double-click on the scene object in the Project panel, under Assets).</li>
<li class="calibre12">From the main menu bar, navigate to GameObject | Create Empty.</li>
<li class="calibre12">Rename the object <kbd class="calibre13">MeMyselfEye</kbd>.</li>
<li class="calibre12">Ensure it has a reset transform (in its Inspector window's Transform pane, choose the gear icon in upper-right and select Reset).</li>
<li class="calibre12">In the Hierarchy panel, drag the <kbd class="calibre13">Main Camera</kbd> object into <kbd class="calibre13">MeMyselfEye</kbd> so that it's a child object.</li>
<li class="calibre12">With the <kbd class="calibre13">Main Camera</kbd> object selected, reset its transform values (in the Transform panel, in the upper-right section, click on the <em class="calibre2">gear icon</em> and select Reset).</li>
<li class="calibre12">Then position yourself near the middle of the scene. Select <kbd class="calibre13">MeMyselfEye</kbd> again and set its Position (<kbd class="calibre13">0</kbd>, <kbd class="calibre13">0</kbd>, <kbd class="calibre13">-1.5</kbd>).</li>
<li class="calibre12">On some VR devices, the player height is determined by the device calibration and sensors, that is, your height in real life, so leave the <kbd class="calibre13">Main Camera</kbd>'s Y-Position at <kbd class="calibre13">0</kbd>.</li>
<li class="calibre12">On other VR devices, especially ones with no positional tracking, you need to specify the camera height. Select the <kbd class="calibre13">Main Camera</kbd> (or more specifically, the game object that has the Camera component on it) and set its Position (<kbd class="calibre13">0</kbd>, <kbd class="calibre13">1.4</kbd>, <kbd class="calibre13">0</kbd>)</li>
</ol>
<p class="calibre3">The Game view should show that we're inside the scene. If you recall the Ethan experiment that we did earlier, I picked a Y-position of <kbd class="calibre13">1.4</kbd> so that we'll be at about the eye level with Ethan.</p>
<p class="calibre3">Now, let's save this as a reusable prefabricated object, or <em class="calibre14">prefab</em>, in the Project panel, under Assets so that we can use it again in the other scenes in the other chapters of this book:</p>
<ol class="calibre15">
<li class="calibre12">In Project panel, under Assets, select the top-level <kbd class="calibre13">Assets</kbd> folder, right-click and navigate to Create | Folder. Rename the folder <kbd class="calibre13">Prefabs</kbd>.</li>
<li class="calibre12">Drag the <kbd class="calibre13">MeMyselfEye</kbd> prefab into the Project panel, under the <kbd class="calibre13">Assets/Prefabs</kbd> folder to create a prefab.</li>
</ol>
<p class="calibre3">Your hierarchy with the prefab is shown here:</p>
<div><img src="img/7cf68b49-49ad-4c21-9664-8d016486f8af.png" class="calibre24"/></div>
<p class="calibre3">Now we will continue the discussion on how to build your project, on a per-platform basis. Please skip to the topic appropriate for your setup.</p>
<p>If you want to try your projects on multiple platforms, say VIVE (Windows) and Daydream (Android), consider making separate prefabs for each target device, for example, <kbd class="calibre26">MeMyselfEye-SteamVR</kbd>, <kbd class="calibre26">MeMyselfEye-GVR</kbd>, and so on and then swap them in and out as needed.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building for SteamVR</h1>
                
            
            
                
<p class="calibre3">To target your app to use <em class="calibre14">HTC VIVE</em> you will use the <em class="calibre14">OpenVR SDK</em>. This SDK also supports Oculus Rift with Touch controllers, and <strong class="calibre5">Windows Immersive Mixed Reality</strong> (<strong class="calibre5">IMR</strong>) devices:</p>
<ol class="calibre15">
<li class="calibre12">Configure your Unity Build Settings to target the Standalone platform.</li>
<li class="calibre12">In Player Settings, under XR Settings, set Virtual Reality to Enabled</li>
<li class="calibre12">Ensure OpenVR is at the top of the Virtual Reality SDKs list.</li>
<li class="calibre12">Download and Install the SteamVR Plugin from the Asset Store, as instructed previously.</li>
</ol>
<p class="calibre3"> </p>
<ol start="5" class="calibre15">
<li class="calibre12">When you install SteamVR you may be prompted to accept recommended changes to your project settings. Unless you know better, we recommend you accept them.</li>
</ol>
<p class="calibre3">Now we will add the SteamVR camera rig to the <kbd class="calibre13">MeMyselfEye</kbd> object in our scene:</p>
<ol start="1" class="calibre15">
<li class="calibre12">Look in your Project window; under the <kbd class="calibre13">Assets</kbd> folder, you should have a folder named <kbd class="calibre13">SteamVR</kbd>.</li>
<li class="calibre12">Within that is a subfolder called <kbd class="calibre13">Prefabs</kbd>. Drag the prefab named <kbd class="calibre13">[CameraRig]</kbd> from the <kbd class="calibre13">Assets/SteamVR/Prefabs/</kbd> folder into your hierarchy. Place it as a child object of <kbd class="calibre13">MeMyselfEy<em class="calibre2">e</em></kbd>.</li>
<li class="calibre12">If necessary, reset its Transform to Position (<kbd class="calibre13">0</kbd>, <kbd class="calibre13">0</kbd>, <kbd class="calibre13">0</kbd>).</li>
<li class="calibre12">Disable the <kbd class="calibre13">Main Camera</kbd> object, also under <kbd class="calibre13">MeMyselfEye</kbd>; you can disable objects by unchecking the enable checkbox in the top-left of its Inspector window. Alternatively, you can just delete the <kbd class="calibre13">Main Camera</kbd> object.</li>
<li class="calibre12">Save the prefab by selecting <kbd class="calibre13">MeMyselfEye</kbd> in Hierarchy, then press its Apply button in the Inspector.</li>
</ol>
<p class="calibre3">Note that the SteamVR camera rig Y position should be set to 0 as it will use the real-life height of the player to set the camera height in real time.</p>
<p class="calibre3">To test it out, make sure that the VR device is properly connected and turned on. You should have the SteamVR app opened on the Windows desktop. Click on the game Play button at the top-center of the Unity Editor. Put on the headset, and it should be awesome! Within VR, you can look all around—left, right, up, down, and behind you. You can lean over and lean in. Using the hand controller's thumb pad, you can make Ethan walk, run, and jump just like we did earlier.</p>
<p class="calibre3">Now you can build your game as a separate executable app using the following steps. Most likely, you've done this before, at least for non-VR apps. It's pretty much the same:</p>
<ol class="calibre15">
<li class="calibre12">From the main menu bar, navigate to File | Build Settings...</li>
<li class="calibre12">If the current scene is not already in the Scenes to Build list, press Add Open Scenes.</li>
<li class="calibre12">Click on Build and set its name to <kbd class="calibre13">Diorama</kbd>.</li>
<li class="calibre12">I like to keep my builds in a subdirectory named <kbd class="calibre13">Build</kbd>; create one if you want to.</li>
<li class="calibre12">Click on Save.</li>
</ol>
<p class="calibre3">An executable will be created in your Build folder. Run <kbd class="calibre13">Diorama</kbd> as you would do for any executable application: double-click on it.</p>
<p>For more information on Unity support for OpenVR, see <a href="https://docs.unity3d.com/Manual/VRDevices-OpenVR.html" class="calibre20">https://docs.unity3d.com/Manual/VRDevices-OpenVR.html</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building for Oculus Rift</h1>
                
            
            
                
<p class="calibre3">To build for Oculus Rift you can use OpenVR. But if you plan to publish in the Oculus Store and/or use Oculus-specific SDK for other high-value features offered in the Oculus ecosystem, you will need to build to the Oculus SDK, as follows:</p>
<ol start="1" class="calibre15">
<li class="calibre12">Configure your Unity Build Settings to target the Standalone platform</li>
<li class="calibre12">In <strong class="calibre1">Player Settings</strong>, under XR Settings, set <strong class="calibre1">Virtual Reality Enabled</strong></li>
<li class="calibre12">Ensure <strong class="calibre1">Oculus</strong> is at the top of the <strong class="calibre1">Virtual Reality SDKs</strong> list.</li>
<li class="calibre12">Download and <strong class="calibre1">Install</strong> the Oculus Integration package from the Asset Store, as instructed previously</li>
</ol>
<p class="calibre3">Now we will add the OVR camera rig to the <kbd class="calibre13">MeMyselfEye</kbd> object in our scene:</p>
<ol class="calibre15">
<li class="calibre12">Look in your Project window, under the <em class="calibre2">Assets</em> folder you should have a folder named <em class="calibre2">OVR</em>.</li>
<li class="calibre12">Within that is a subfolder called <kbd class="calibre13">Prefabs</kbd>. Drag the prefab named <kbd class="calibre13">OVRCameraRig</kbd> from the <kbd class="calibre13">Assets/OVR/Prefabs/</kbd> folder into your Hierarchy. Place it as a child object of <kbd class="calibre13">MeMyselfEye</kbd>.</li>
<li class="calibre12">Set its Y position to 1.6 by setting its Transform to Position to (<kbd class="calibre13">0</kbd>, <kbd class="calibre13">1.6</kbd>, <kbd class="calibre13">0</kbd>).</li>
<li class="calibre12">Disable the <kbd class="calibre13">Main Camera</kbd> object, also under <kbd class="calibre13">MeMyselfEye</kbd>. You can disable objects by unchecking the enable checkbox in the top-left of its Inspector window. Alternatively, you can just delete the <kbd class="calibre13">Main Camera</kbd> object.</li>
<li class="calibre12">Save the prefab by selecting <kbd class="calibre13">MeMyselfEye</kbd> in Hierarchy, then press its <strong class="calibre1">Apply</strong> button in the Inspector.</li>
</ol>
<p class="calibre3">Note that the OVR camera rig should be set to your desired height (1.6 in this case), which will be accommodated at runtime based on the height you configured in the Oculus runtime device configuration.</p>
<p class="calibre3">To test it out, make sure that the VR device is properly connected and turned on. You should have the Oculus runtime app opened on the Windows desktop. Click on the game Play button at the top-center of the Unity Editor. Put on the headset, and it should be awesome! Within VR, you can look all around—left, right, up, down, and behind you. You can lean over and lean in. Using the hand controller’s thumbstick, you can make Ethan walk, run, and jump just like we did earlier.</p>
<p class="calibre3">Note that the Oculus package installs helpful menu items on the Unity Editor menu bar. We won't go into details here, and they are subject to change. We encourage you to explore the options and shortcuts they provide. See the screenshot:</p>
<div><img src="img/26814764-08c4-45c6-8f1b-faae20685751.png" class="calibre24"/></div>
<p class="calibre3">To include Oculus Dash support, you must use Oculus OVR version 1.19 or later (included with Unity 2017.3 or later). Then:</p>
<ol class="calibre15">
<li class="calibre12">In Player Settings, XR panel, unfold the Oculus SDK for additional settings</li>
<li class="calibre12">Check the <strong class="calibre1">Shared Depth Buffer</strong> checkbox</li>
<li class="calibre12">Check the <strong class="calibre1">Dash Support</strong> checkbox:</li>
</ol>
<div><img src="img/1c4a3746-8d2f-4e7c-98f5-a0c584a306bf.png" class="calibre24"/></div>
<p>For more information on Oculus Dash support in Unity, see <a href="https://developer.oculus.com/documentation/unity/latest/concepts/unity-dash/" class="calibre20">https://developer.oculus.com/documentation/unity/latest/concepts/unity-dash/</a>.</p>
<p class="calibre3">Now you can build your game as a separate executable app using the following steps. Most likely, you've done this before, at least for non-VR apps. It's pretty much the same:</p>
<ol class="calibre15">
<li class="calibre12">From the main menu bar, navigate to File | Build Settings...</li>
<li class="calibre12">If the current scene is not already in the <strong class="calibre1">Scenes to Build</strong> list, press <strong class="calibre1">Add Open Scenes</strong></li>
<li class="calibre12">Click on <strong class="calibre1">Build</strong> and set its name to <kbd class="calibre13">Diorama</kbd></li>
<li class="calibre12">I like to keep my builds in a subdirectory named <kbd class="calibre13">Build</kbd>; create one if you want to</li>
<li class="calibre12">Click on <strong class="calibre1">Save</strong></li>
</ol>
<p class="calibre3">An executable will be created in your <kbd class="calibre13">Build</kbd> folder. Run <kbd class="calibre13">Diorama</kbd> as you would do for any executable application: double-click on it.</p>
<p>For more information on Unity support for Oculus, see <a href="https://developer.oculus.com/documentation/unity/latest/concepts/book-unity-gsg/" class="calibre20">https://developer.oculus.com/documentation/unity/latest/concepts/book-unity-gsg/.</a></p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building for Windows Immersive MR</h1>
                
            
            
                
<p class="calibre3">Microsoft's 3D media <strong class="calibre5">Mixed Reality</strong> strategy is to support the spectrum of devices and applications from virtual reality to augmented reality. This book and our projects are about VR. At the other end is the Microsoft HoloLens wearable AR device. The MixedRealityToolkit-Unity package that we will use includes support for both immersive MR headsets and HoloLens.</p>
<p class="calibre3">To allow your app to use a <strong class="calibre5">Windows immersive Mixed Reality</strong> (<strong class="calibre5">IMR</strong>) headset, you will use the Window Mixed Reality SDK, as follows:</p>
<ol class="calibre15">
<li class="calibre12">Configure your Unity <strong class="calibre1">Build Settings</strong> to target the <strong class="calibre1">Universal Windows Platform</strong> platform.</li>
<li class="calibre12">In Player Settings, under XR Setting<strong class="calibre1">s</strong>, set <strong class="calibre1">Virtual Reality Enabled</strong></li>
<li class="calibre12">Ensure <strong class="calibre1">Windows</strong> Mixed <strong class="calibre1">Reality</strong> is at the top of the <strong class="calibre1">Virtual Reality</strong> <strong class="calibre1">SDKs</strong> list.</li>
<li class="calibre12">Download and install the Mixed Reality Toolkit Unity, as instructed previously.</li>
<li class="calibre12">We also recommend you install its sister examples unity package from the same location.</li>
</ol>
<p class="calibre3">Now we will add the <kbd class="calibre13">MixedRealityCamera</kbd> rig to the <kbd class="calibre13">MeMyselfEye</kbd> object in our scene:</p>
<ol class="calibre15">
<li class="calibre12">Look in your Project window; under the <kbd class="calibre13">Assets</kbd> folder, you should have a folder named <kbd class="calibre13">HoloToolkit</kbd> (or <kbd class="calibre13">MixedRealityToolkit</kbd>).</li>
<li class="calibre12">Within that is a subfolder called <kbd class="calibre13">Prefabs</kbd>. Drag the prefab named <kbd class="calibre13">MixedRealityCameraParent</kbd> from the <kbd class="calibre13">Assets/HoloToolkit/Prefabs/</kbd> folder into your Hierarchy. Place it as a child object of <kbd class="calibre13">MeMyselfEye</kbd>.</li>
<li class="calibre12">If necessary, reset its Transform to <strong class="calibre1">Position</strong> (<kbd class="calibre13">0</kbd>, <kbd class="calibre13">0</kbd>, <kbd class="calibre13">0</kbd>).</li>
<li class="calibre12">Disable the <kbd class="calibre13">Main Camera</kbd> object, also under <kbd class="calibre13">MeMyselfEye</kbd>. You can disable objects by unchecking the enable checkbox in the top-left of its Inspector window. Alternatively, you can just delete the <kbd class="calibre13">Main Camera</kbd> object.</li>
<li class="calibre12">Save the prefab by selecting <kbd class="calibre13">MeMyselfEye</kbd> in Hierarchy, then press its Apply button in the Inspector.</li>
</ol>
<p class="calibre3">Note that the <kbd class="calibre13">MixedRealityCameraParent</kbd> rig y position should be set to 0 as it will use the real-life height of the player to set the camera height in real time.</p>
<p class="calibre3">To test it out, make sure that the VR device is properly connected and turned on. You should have the MR Portal app opened in the Windows desktop. Click on the game Play button at the top-center of the Unity Editor. Put on the headset, and it should be awesome! Within VR, you can look all around—left, right, up, down, and behind you. You can lean over and lean in. Using the hand controller's thumb pad, you can make Ethan walk, run, and jump just like we did earlier.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Setting up Windows 10 Developer mode</h1>
                
            
            
                
<p class="calibre3">For Windows MR, you must be developing on Windows 10, with Developer mode enabled. To set Developer mode:</p>
<ol class="calibre15">
<li class="calibre12">Go to <strong class="calibre1">Action Center</strong> | <strong class="calibre1">All Settings</strong> | <strong class="calibre1">Update &amp; Security</strong> | <strong class="calibre1">For Developers</strong>.</li>
<li class="calibre12">Select <strong class="calibre1">Developer mode</strong>, as shown:</li>
</ol>
<div><img src="img/33ad8bb0-ecdc-4216-9269-6d7fcc2ba72b.png" class="calibre24"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Installing UWP support in Visual Studio</h1>
                
            
            
                
<p class="calibre3">When you install Unity, you have the option to install <em class="calibre14">Microsoft Visual Studio Tools for Unity</em> as the default script editor. It's a great editor and debugging environment. However, this edition installed with Unity is not a full version of Visual Studio. To target your build as a separate UWP app, you will need to use a full version of Visual Studio. </p>
<p class="calibre3">Visual Studio is a powerful <strong class="calibre5">integrated developer environment</strong> (<strong class="calibre5">IDE</strong>) for all kinds of projects. When we build for UWP from Unity we will actually build a Visual Studio-ready project folder that you can then open in VS to complete the compile, build and deploy process, to run the app on your device.</p>
<p class="calibre3">Visual Studio comes in three editions, <em class="calibre14">Community</em>, <em class="calibre14">Professional</em>, and <em class="calibre14">Enterprise</em>; any of these are sufficient for us. The Community version is <em class="calibre14">free</em> and can be downloaded from here: <a href="https://www.visualstudio.com/vs/" class="calibre10">https://www.visualstudio.com/vs/.</a></p>
<p class="calibre3">Once the installer is downloaded, open it to choose which components to install. Under the Workloads tab we have selected:</p>
<ul class="calibre11">
<li class="calibre12">Universal Windows Platform development</li>
<li class="calibre12">Game development with Unity</li>
</ul>
<div><img src="img/d74623b1-ef69-4eeb-8a4a-44edb6d98eee.png" class="calibre24"/></div>
<p class="calibre3">Also, select the Game development with Unity options, as follows:</p>
<div><img src="img/3e9d595c-d7f1-4074-b331-c9148e9c0620.png" class="calibre24"/></div>
<p class="calibre3">We can now go into Unity. First, we should make sure Unity knows we're using Visual Studio:</p>
<ol class="calibre15">
<li class="calibre12">Go to <strong class="calibre1">Edit</strong> | <strong class="calibre1">Preferences</strong></li>
<li class="calibre12">In the <strong class="calibre1">External Tools</strong> tab, make sure <strong class="calibre1">Visual Studio</strong> is selected as your <strong class="calibre1">External Script Editor</strong>, like so:</li>
</ol>
<div><img src="img/0bcff01c-9e91-412a-97e6-3f7ddcfa0c72.png" class="calibre24"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">UWP build</h1>
                
            
            
                
<p class="calibre3">Now, you can build your game as a separate executable app using the following steps:</p>
<ol class="calibre15">
<li class="calibre12">From the main menu bar, navigate to <strong class="calibre1">File</strong> | <strong class="calibre1">Build Settings...</strong></li>
<li class="calibre12">If the current scene is not already in the <strong class="calibre1">Scenes to Build</strong> list, press <strong class="calibre1">Add Open Scenes</strong></li>
</ol>
<p class="calibre3"> </p>
<ol start="3" class="calibre15">
<li class="calibre12">On the right side of the dialog are options:
<ul class="calibre40">
<li class="calibre12">Target Device: PC</li>
<li class="calibre12">Build Type: D3D</li>
<li class="calibre12">SDK: Latest Installed (for example, 10.0.16299.0)</li>
</ul>
</li>
<li class="calibre12">Click on <strong class="calibre1">Build</strong> and set its name</li>
<li class="calibre12">I like to keep my builds in a subdirectory named Build; create one if you want to</li>
<li class="calibre12">Click on <strong class="calibre1">Save</strong></li>
</ol>
<p class="calibre3">Note that the Mixed Reality ToolKit provides shortcuts to these and other settings and services, as shown:</p>
<div><img src="img/1b4a8785-523f-4860-aa8d-592eac9e819d.png" class="calibre24"/></div>
<p class="calibre3">Now open the project in Visual Studio:</p>
<ol class="calibre15">
<li class="calibre12">An easy way is to navigate to the Build folder in File Explorer and look for the <kbd class="calibre13">.sln</kbd> file for the project (SLN is the Microsoft VS <em class="calibre2">solution</em> file). Double-click it to open the project in Visual Studio.</li>
<li class="calibre12">Choose the solution configuration: Debug, Master or Release.</li>
<li class="calibre12">Set the target to x64.</li>
<li class="calibre12">Press Play Local Machine to build the solution.</li>
</ol>
<p>For more information on Unity support for Windows Mixed Reality, see <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity" class="calibre20">https://github.com/Microsoft/MixedRealityToolkit-Unity</a>, including the link to the Getting Started page.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Setting up for Android devices</h1>
                
            
            
                
<p class="calibre3">To develop VR apps that will run on Google Daydream, Cardboard, GearVR, Oculus GO, or other Android devices, we will need to set up a development machine for Android development.</p>
<p class="calibre3">This section will help you set up your Windows PC or Mac. The requirements are not specific to virtual reality; these are the same steps required by anyone building any Android app from Unity. The process is also well documented elsewhere, including the Unity documentation at <a href="https://docs.unity3d.com/Manual/android-sdksetup.html" class="calibre10">https://docs.unity3d.com/Manual/android-sdksetup.html</a>.</p>
<p class="calibre3">The steps include:</p>
<ul class="calibre11">
<li class="calibre12">Install Java Development Kit</li>
<li class="calibre12">Install Android SDK</li>
<li class="calibre12">Install USB device drivers and debugging</li>
<li class="calibre12">Configure the Unity External Tools</li>
<li class="calibre12">Configure the Unity Player Settings for Android</li>
</ul>
<p class="calibre3">OK, let's get going.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Installing the Java Development Kit (JDK)</h1>
                
            
            
                
<p class="calibre3">You may already have Java installed on your machine. You can check by opening a terminal window and running the command <kbd class="calibre13">java-version</kbd>. If you do not have Java or need to upgrade, follow the steps:</p>
<ol class="calibre15">
<li class="calibre12">Browse on over to the Java SE Downloads web page at <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" class="calibre10">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a> and get it. Look for the <strong class="calibre1">JDK</strong> button icon, which takes you to the downloads page.</li>
<li class="calibre12">Choose the package for your system. For example, for Windows choose Windows x64. After the file downloads, open it and follow the installation instructions.</li>
<li class="calibre12">Make a note of the installation directory for later reference.</li>
<li class="calibre12">Once installed, open a fresh terminal window and run <kbd class="calibre13">java -version</kbd> once more to verify.</li>
</ol>
<p class="calibre3">Whether you just installed the JDK or it was already there, please make a note of its location on your disk. You will need to tell Unity this information in a later step.</p>
<p class="calibre3">On Windows, the path is probably something like Windows: <kbd class="calibre13">C:\Program Files\Java\jdk1.8.0_111\bin</kbd>.</p>
<p class="calibre3">If you can't find it, open Windows Explorer, navigate to the <kbd class="calibre13">\Program Files</kbd> folder, look for Java, and drill down until you see its bin directory, as the following screenshot shows:</p>
<div><img src="img/0aa5e5e4-16ac-472a-91a6-32338e407bb9.png" class="calibre24"/></div>
<p class="calibre3">On OS X, the path is probably something like: <kbd class="calibre13">/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home</kbd>.</p>
<p class="calibre3">If you can't find it, from a terminal window, run the following command: <kbd class="calibre13">/usr/libexec/java_home</kbd>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Installing Android SDK</h1>
                
            
            
                
<p class="calibre3">You also need to install the Android SDK. Specifically, you need the <strong class="calibre5">Android SDK Manager</strong>. This is available by itself as a command-line tool or part of the full Android Studio IDE. If you can afford the disk space I recommend just installing Android Studio, as it provides a nice graphical interface for SDK Manager.</p>
<p class="calibre3">To install Android Studio IDE, go to <a href="https://developer.android.com/studio/index.html" class="calibre10">https://developer.android.com/studio/install.html</a> and click Download Android Studio. When the download is done, open it and follow the installation instructions.</p>
<p class="calibre3">You will be prompted for the locations of the Android Studio IDE and the SDK. You can accept the default locations or change them. Please make a note of the SDK path location; you will need to tell Unity this information in a later step:</p>
<div><img src="img/9370026a-1810-45a6-acfb-1b8dea4c623c.png" class="calibre24"/></div>
<p class="calibre3">Personally, I have more room on my <kbd class="calibre13">D:</kbd> drive so I installed the app into <kbd class="calibre13">D:\Programs\Android\Android Studio</kbd>. And I like to keep the SDK near the Android Studio program files, as it's easier to find again that way, so I change the Android SDK Installation Location to <kbd class="calibre13">D:\Programs\Android\sdk</kbd>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Via Command Line Tools</h1>
                
            
            
                
<p class="calibre3">Unity really only needs the command-line tools to build projects for Android. If you prefer, you can install just that package and save disk space. Scroll to the section named Get just the command line tools at the bottom of the downloads page. Select the package for your platform:</p>
<div><img src="img/f4dc588f-941d-476a-a6d8-6d9bebc90b60.png" class="calibre24"/></div>
<p class="calibre3">This is a ZIP file; uncompress it to a folder and please remember its location. As mentioned, on Windows I like to use <kbd class="calibre13">D:\Programs\Android\sdk</kbd>. This will contain a <kbd class="calibre13">tools</kbd> subfolder.</p>
<p class="calibre3">The ZIP is only the tools, not the actual SDK. Use the <kbd class="calibre13">sdkmanager</kbd> to download the packages you'll need. See <a href="https://developer.android.com/studio/command-line/sdkmanager.html" class="calibre10">https://developer.android.com/studio/command-line/sdkmanager.html</a> for details.</p>
<p class="calibre3">To list the installed and available packages, run <kbd class="calibre13">sdkmanager --list</kbd>. You can install multiple packages by listing them in quotes, delimited with a semicolon as follows:</p>
<pre class="calibre18">    sdkmanager "platforms;android-25"</pre>
<p>As of writing, the minimum Android API levels are as follows (check the current documentation for changes):<br class="title-page-name"/>
<br class="title-page-name"/>
<strong class="calibre1">Cardboard</strong>: API Level 19 (Android 4.4 <em class="calibre2">KitKat</em>)<br class="title-page-name"/><strong class="calibre1">GearVR</strong>: API Level 21 (Android 5.0 <em class="calibre2">Lollipop</em>)<br class="title-page-name"/><strong class="calibre1">Daydream</strong>: API Level 24 (Android 7.0 <em class="calibre2">Nougat</em>)</p>


            

            
        
    

        

                            
                    <h1 class="header-title">About your Android SDK root path location</h1>
                
            
            
                
<p class="calibre3">If you already had Android installed, or if you forget where the SDK is installed, you can find the root path by opening the SDK Manager GUI. While Android Studio is open, navigate to the main menu and <strong class="calibre5">Tools</strong> | <strong class="calibre5">Android</strong> | <strong class="calibre5">SDK Manag</strong><strong class="calibre5">er</strong>. You can find the path near the top:</p>
<div><img src="img/805fd349-82c3-4910-bda9-3febea4e9e75.png" class="calibre24"/></div>
<p class="calibre3">On Windows, the path is probably something like:</p>
<ul class="calibre11">
<li class="calibre12">Windows: <kbd class="calibre13">C:\Program Files\Android\sdk</kbd>, or <kbd class="calibre13">C:/Users/Yourname/AppData/Local/Android/Sdk</kbd></li>
</ul>
<p class="calibre3">On OS X, the path is probably something like:</p>
<ul class="calibre11">
<li class="calibre12">OS X: <kbd class="calibre13">/Users/Yourname/Library/Android/sdk </kbd></li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Installing USB device debugging and connection</h1>
                
            
            
                
<p class="calibre3">The next step is to enable USB debugging on your Android device. This is part of the Developer Options in your Android Settings. But Developer Options may not be visible and has to be enabled:</p>
<ol class="calibre15">
<li class="calibre12">Find the Build number property in <strong class="calibre1">Settings</strong> | <strong class="calibre1">About</strong> on the device. Depending on your device you may even need to drill down another level or two (such as <strong class="calibre1">Settings</strong> | <strong class="calibre1">About</strong> | <strong class="calibre1">Software Information</strong> | <strong class="calibre1">More</strong> | <strong class="calibre1">Build number</strong>).</li>
<li class="calibre12">Now for the magic incantation. Tap on the build number seven times. It'll count down until the <strong class="calibre1">Developer Options</strong> are enabled, and will now appear as another choice in the Settings.</li>
<li class="calibre12">Go to Settings | Developer options, find USB debugging, and enable it.</li>
<li class="calibre12">Now connect the device to your development machine via USB cable.</li>
</ol>
<p class="calibre3">The Android device may automatically be recognized. If you are prompted to update the drivers, you can do this through the Windows Device Manager.</p>
<p class="calibre3">On Windows, if the device is not recognized, you may need to download the Google USB Driver. You can do this through the SDK Manager, under the SDK Tools tab. For more information see <a href="https://developer.android.com/studio/run/win-usb.html" class="calibre10">https://developer.android.com/studio/run/win-usb.html</a>. The following screenshot, for example, shows the SDK Manager’s SDK Tools tab with the Google USB Driver selected:</p>
<div><img src="img/8290962e-04af-4279-af5a-505b23c6df1c.png" class="calibre24"/></div>
<p class="calibre3">Great job so far!</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Configuring the Unity External Tools</h1>
                
            
            
                
<p class="calibre3">Armed with all the stuff we need and the paths to the tools we installed, we can now go back into Unity. We need to tell Unity where to find all the Java and Android stuff. Note that if you skip this step, then Unity will prompt you for the folders when building the app:</p>
<ol class="calibre15">
<li class="calibre12">On Windows, navigate to main menu and to Edit | Preferences, then select the External Tools<strong class="calibre1"> </strong>tab on the left. On OS X it’s in Unity | Preferences.</li>
<li class="calibre12">In the Android SDK text slot, paste the path of your Android SDK.</li>
<li class="calibre12">In the Java JDK text slot, paste the path of your Java JDK.</li>
</ol>
<p class="calibre3">The Unity Preferences with my SDK and JDK are shown here:</p>
<div><img src="img/f7812a57-fbf9-4e6a-8cb3-9e36d0ff4175.png" class="calibre24"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Configuring Unity Player Settings for Android</h1>
                
            
            
                
<p class="calibre3">We now will configure your Unity project to build for Android. First, ensure Android is your target platform in Build Settings. Unity provides a great deal of support for Android, including configuration and optimization for runtime features and the capabilities of mobile devices. These options can be found in Player Settings. We only need to set a couple of them now. The minimum required to build our demo project are Bundle Identifier and Minimum API Level:</p>
<ol class="calibre15">
<li class="calibre12">In Unity, navigate to File | Build Settings and examine the Platform pane.</li>
<li class="calibre12">If Android is not presently selected, select it now and press Switch Platform.</li>
<li class="calibre12">If you have the Build Settings window open, press the Player Settings… button. Or, you can get there from the main menu and Edit | Project Settings | Player.</li>
</ol>
<p class="calibre3"> </p>
<ol start="4" class="calibre15">
<li class="calibre12">Look across at the Inspector panel, which now contains the Player Settings.</li>
<li class="calibre12">Find the Other Settings group of parameters, and click the header bar (if it’s not already opened) to find the Identification variables</li>
<li class="calibre12">Set the Bundle Identifier to a unique name for your product that resembles a traditional Java package name. An ID is required for all Android apps. Typically it is in the format <kbd class="calibre13">com.CompanyName.ProductName</kbd>. It must be unique on the target device, and eventually, unique in the Google Play store. You can choose whatever name you want.</li>
<li class="calibre12">Set a Minimum API Level for your target platform (as listed earlier).</li>
</ol>
<p class="calibre3">Again, there are many other options in the Player Settings but we can use their defaults for now.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building for GearVR and Oculus Go</h1>
                
            
            
                
<p class="calibre3">To build for Samsung GearVR and Oculus Go mobile devices, you will use the Oculus SDK. These are both Android-based devices so you must set up your development machine for Android development as described previously (Oculus Go is binary and compatible with GearVR). Then complete the following steps in Unity:</p>
<ol class="calibre15">
<li class="calibre12">Configure your Unity Build Settings to target the Android platform.</li>
<li class="calibre12">In <kbd class="calibre13">Player Settings</kbd>, under XR Settings, set Virtual Reality Enabled</li>
<li class="calibre12">Ensure Oculus is at the top of the Virtual Reality SDKs list.</li>
<li class="calibre12">Download and Install the Oculus Integration package from the Asset Store, as instructed previously.</li>
</ol>
<p class="calibre3">Now we will add the OVR camera rig to the MeMyselfEye object in our scene. These steps are like the Standalone Oculus Rift setup described previously. In this case, you can use the same MeMyselfEye prefab for both Rift and GearVR.</p>
<ol class="calibre15">
<li class="calibre12">Look in your Project window; under the <em class="calibre2">Assets</em> folder you should have a folder named OVR.</li>
<li class="calibre12">Within that is a subfolder called <kbd class="calibre13">Prefabs</kbd>. Drag the prefab named <kbd class="calibre13">OVRCameraRig</kbd> from the <kbd class="calibre13">Assets/OVR/Prefabs/</kbd> folder into your Hierarchy. Place it as a child object of <kbd class="calibre13">MeMyselfEye</kbd>.</li>
<li class="calibre12">Set its height to 1.6 by setting its <strong class="calibre1">Transform</strong> to <strong class="calibre1">Position</strong> to (<kbd class="calibre13">0</kbd>, <kbd class="calibre13">1.6</kbd>, <kbd class="calibre13">0</kbd>).</li>
</ol>
<p class="calibre3"> </p>
<ol start="4" class="calibre15">
<li class="calibre12">Disable the <kbd class="calibre13">Main Camera</kbd> object also under <kbd class="calibre13">MeMyselfEye</kbd>. You can disable objects by unchecking the enable-checkbox in the top-left of its Inspector window. Alternatively, you can just delete the <kbd class="calibre13">Main Camera</kbd> object.</li>
<li class="calibre12">Save the prefab by selecting <kbd class="calibre13">MeMyselfEye</kbd> in Hierarchy, then press its <strong class="calibre1">Apply</strong> button in the Inspector.</li>
</ol>
<p class="calibre3">Now, you can build your game as a separate executable app using the following steps:</p>
<ol class="calibre15">
<li class="calibre12">From the main menu bar, navigate to File | Build Settings...</li>
<li class="calibre12">If the current scene is not already in the <strong class="calibre1">Scenes to Build</strong> list, press <strong class="calibre1">Add Open Scenes</strong></li>
<li class="calibre12">Click on <strong class="calibre1">Build and Run </strong>and set its name to <kbd class="calibre13">Diorama</kbd></li>
<li class="calibre12">I like to keep my builds in a subdirectory named Build; create one if you want to.</li>
<li class="calibre12">Click on <strong class="calibre1">Save</strong></li>
</ol>
<p class="calibre3">An Android APK file will be created in your Build folder and uploaded to your attached Android device.</p>
<p>For more information on Unity support for Oculus SDK, see <a href="https://docs.unity3d.com/Manual/VRDevices-Oculus.html" class="calibre20">https://docs.unity3d.com/Manual/VRDevices-Oculus.html.</a></p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building for Google VR</h1>
                
            
            
                
<p class="calibre3">The Google VR SDK supports both Daydream and Cardboard. <strong class="calibre5">Daydream</strong> is the higher-end version limited to faster, more capable Daydream-ready Android phones. <strong class="calibre5">Cardboard</strong> is lower end and supported on many more mobile devices including Apple iOS iPhones. You can build projects in Unity that target both.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Google Daydream</h1>
                
            
            
                
<p class="calibre3">To build for <em class="calibre14">Google Daydream</em> on mobile Android devices, you will use the Daydream SDK. You must set up your development machine for Android development as described above. Then complete the following steps:</p>
<ol class="calibre15">
<li class="calibre12">Configure your Unity <strong class="calibre1">Build Settings</strong> to target the <strong class="calibre1">Android</strong> platform</li>
<li class="calibre12">In Player Settings, under XR Settings, set Virtual Reality Enabled</li>
<li class="calibre12">Ensure Daydream is at the top of the Virtual Reality SDKs list</li>
<li class="calibre12">Download and Install the Google VR SDK package, as instructed previously</li>
</ol>
<p class="calibre3">We will now build the <kbd class="calibre13">MeMyselfEye</kbd> camera rig for our scene. At the present time, the best example we have is the GVRDemo example scene provided with the Google VR SDK (can be found in the <kbd class="calibre13">Assets/GoogleVR/Demos/Scenes/</kbd> folder):</p>
<ol class="calibre15">
<li class="calibre12">In your scene Hierarchy, create an empty game object under the <kbd class="calibre13">MeMyselfEye</kbd> (select the <kbd class="calibre13">MeMyselfEye</kbd> object, right-click, select Create Empty). Name it <kbd class="calibre13">MyGvrRig</kbd>.</li>
<li class="calibre12">Set its height to 1.6 by setting its <strong class="calibre1">Transform</strong> to <strong class="calibre1">Position</strong> to (<kbd class="calibre13">0</kbd>, <kbd class="calibre13">1.6</kbd>, <kbd class="calibre13">0</kbd>).</li>
<li class="calibre12">From the Project folders, locate the provided prefabs (<kbd class="calibre13">Assets/GoogleVR/Prefabs</kbd>).</li>
<li class="calibre12">Drag a copy of each of the following prefabs from the Project folder to Hierarchy as a child of <kbd class="calibre13">MyGvrRig</kbd>:
<ul class="calibre40">
<li class="calibre12">Headset/GvrHeadset</li>
<li class="calibre12">Controllers/GvrControllerMain</li>
<li class="calibre12">EventSystem/GvrEventSystem</li>
<li class="calibre12">GvrEditorEmulator</li>
<li class="calibre12">GvrInstantPreviewMain</li>
</ul>
</li>
<li class="calibre12">Leave the <kbd class="calibre13">Main Camera</kbd> object under <kbd class="calibre13">MeMyselfEye</kbd> and enable it. The GoogleVR uses the existing <kbd class="calibre13">Main Camera</kbd> object.</li>
<li class="calibre12">Save the prefab by selecting <kbd class="calibre13">MeMyselfEye</kbd> in Hierarchy, then press its Apply button in the Inspector.</li>
</ol>
<p class="calibre3">The <kbd class="calibre13">GvrHeadset</kbd> is a VR camera properties manager. The G<kbd class="calibre13">vrControllerMain</kbd> provides support for the Daydream 3DOF hand controller. We will use <kbd class="calibre13">GvrEventSystem</kbd> in later chapters; it provides a drop-in replacement for Unity's Event System object. The <kbd class="calibre13">GvrEditorEmulator</kbd> is not actually part of your app but enables previewing your scene in the Unity Editor when you press Play. Likewise, adding <kbd class="calibre13">GvrInstantPreviewMain</kbd> lets you preview your app on your phone when you press Play in the editor.</p>
<p class="calibre3">These are the prefabs that we know we’re going to want to use. Certainly, go ahead and explore the other prefabs provided in the SDK. See <a href="https://developers.google.com/vr/unity/reference/" class="calibre10">https://developers.google.com/vr/unity/reference/</a>.</p>
<p class="calibre3">We also recommend you take a look at Google Daydream Elements which provides additional demos and scripts "for developing high-quality VR experiences." We introduce this in the next chapter. See <a href="https://developers.google.com/vr/elements/overview" class="calibre10">https://developers.google.com/vr/elements/overview.</a></p>
<p class="calibre3">When you’re ready, you can build your game as a separate executable app using the following steps:</p>
<ol class="calibre15">
<li class="calibre12">From the main menu bar, navigate to File | Build Settings....</li>
<li class="calibre12">If the current scene is not already in the Scenes to Build list, press Add Open Scenes.</li>
<li class="calibre12">Click on Build and Run and set its name to <kbd class="calibre13">Diorama</kbd>.</li>
<li class="calibre12">I like to keep my builds in a subdirectory named Build; create one if you want to.</li>
<li class="calibre12">Click on Save.</li>
</ol>
<p class="calibre3">An Android APK file will be created in your Build folder and uploaded to your attached Android phone.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Google Cardboard</h1>
                
            
            
                
<p class="calibre3">Building for Google Cardboard is similar, but simpler, than Daydream. Also, Cardboard apps can run on iPhones. You must set up your development machine for Android development as described. Or if you’re developing for iOS, see the next section for details. Then set up your project as follows:</p>
<ol class="calibre15">
<li class="calibre12">Configure your Unity Build Settings to target <strong class="calibre1">Android</strong> or <strong class="calibre1">iOS</strong> platform.</li>
<li class="calibre12">In Player Settings, under XR Settings, set Virtual Reality Enabled, and</li>
<li class="calibre12">Ensure Cardboard is in the Virtual Reality SDKs list.</li>
<li class="calibre12">Download and Install the Google VR SDK package, as instructed previously.</li>
</ol>
<p class="calibre3">We will now build the <kbd class="calibre13">MeMyselfEye</kbd> camera rig for our scene.</p>
<ol class="calibre15">
<li class="calibre12">In your scene Hierarchy, create an empty game object under the <kbd class="calibre13">MeMyselfEye</kbd> (select the <kbd class="calibre13">MeMyselfEye</kbd> object, right-click, select Create Empty). Name it <kbd class="calibre13">MyGvrRig</kbd>.</li>
<li class="calibre12">Set its height to 1.6 by setting its <strong class="calibre1">Transform</strong> to <strong class="calibre1">Position</strong> to (<kbd class="calibre13">0</kbd>, <kbd class="calibre13">1.6</kbd>, <kbd class="calibre13">0</kbd>).</li>
<li class="calibre12">From the Project folders, locate the provided prefabs (<kbd class="calibre13">Assets/GoogleVR/Prefabs</kbd>).</li>
</ol>
<p class="calibre3"> </p>
<ol start="4" class="calibre15">
<li class="calibre12">Drag a copy of each of the following prefabs from the Project folder to Hierarchy as a child of MyGvrRig:
<ul class="calibre40">
<li class="calibre12">Headset/GvrHeadset</li>
<li class="calibre12">GvrEditorEmulator</li>
</ul>
</li>
<li class="calibre12">Leave the <kbd class="calibre13">Main Camera</kbd> object under <kbd class="calibre13">MeMyselfEye</kbd> and enable it. The GoogleVR uses the existing <kbd class="calibre13">Main Camera</kbd> object.</li>
<li class="calibre12">Save the prefab by selecting <kbd class="calibre13">MeMyselfEye</kbd> in Hierarchy, then press its Apply button in the Inspector</li>
</ol>
<p class="calibre3">When you’re ready, you can build your game as a separate executable app using the following steps:</p>
<ol class="calibre15">
<li class="calibre12">From the main menu bar, navigate to File | Build Settings....</li>
<li class="calibre12">If the current scene is not already in the Scenes to Build list, press Add Open Scenes.</li>
<li class="calibre12">Click on Build and Run and set its name to <kbd class="calibre13">Diorama</kbd>.</li>
<li class="calibre12">I like to keep my builds in a subdirectory named Build; create one if you want to.</li>
<li class="calibre12">Click on Save.</li>
</ol>
<p class="calibre3">An Android APK file will be created in your Build folder and uploaded to your attached Android phone.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Google VR Play Mode</h1>
                
            
            
                
<p class="calibre3">When your project is configured for Google VR (Daydream or Cardboard), and you press Play in Unity can you preview the scene and use keyboard keys to emulate device motion:</p>
<ul class="calibre11">
<li class="calibre12">Use <em class="calibre2">Alt</em> + mouse-move to pan and tilt forward or backwards.</li>
<li class="calibre12">Use <em class="calibre2">Ctrl</em> + mouse-move to tilt your head from side to side.</li>
<li class="calibre12">Use <em class="calibre2">Shift</em> + mouse control the Daydream hand controller (Daydream only).</li>
<li class="calibre12">Click the mouse to select.</li>
</ul>
<p class="calibre3">For more details, see <a href="https://developers.google.com/vr/unity/get-started" class="calibre10">https://developers.google.com/vr/unity/get-started</a>.</p>
<p class="calibre3">With Daydream, you also have the option to use Instant Preview which allows you to test your VR app instantly on your device. Follow the instructions in the Google VR docs (<a href="https://developers.google.com/vr/tools/instant-preview" class="calibre10">https://developers.google.com/vr/tools/instant-preview</a>) to set up your project and device to take advantage of this feature.</p>
<p>For more information on Unity support for Google VR SDK for Daydream, see <a href="https://docs.unity3d.com/Manual/VRDevices-GoogleVR.html" target="_blank" class="calibre20">https://docs.unity3d.com/Manual/VRDevices-GoogleVR.html</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Setting up for iOS devices</h1>
                
            
            
                
<p class="calibre3">This section will help set up your Mac for iOS development from Unity for iPhones. The requirements are not specific to virtual reality; these are the same steps required by anyone building any iOS app from Unity. The process is also well documented elsewhere, including the Unity documentation at <a href="https://docs.unity3d.com/Manual/iphone-GettingStarted.html" class="calibre10">https://docs.unity3d.com/Manual/iphone-GettingStarted.html</a>.</p>
<p class="calibre3">A requirement of Apple's closed ecosystem is you must use a Mac as your development machine to develop for iOS. That’s just the way it is. The upside is the setup process is very straightforward.</p>
<p class="calibre3">At the time of writing, the only VR apps that will run on iOS are Google Cardboard.</p>
<p class="calibre3">The steps include:</p>
<ul class="calibre11">
<li class="calibre12">Have an Apple ID</li>
<li class="calibre12">Install Xcode</li>
<li class="calibre12">Configure the Unity Player Settings for iOS</li>
<li class="calibre12">Build And Run</li>
</ul>
<p class="calibre3">OK, let's take a bite of this apple.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Have an Apple ID</h1>
                
            
            
                
<p class="calibre3">To develop for iOS you need a Mac computer to develop on, and an Apple ID to log into the App Store. This will permit you to build iOS apps that run on your personal device.</p>
<p class="calibre3">It is also recommended that you have an Apple Developer account. It costs $99 USD per year but is your admission ticket to the tools and services including setup provisioning profiles needed to share and test your app on other devices. You can find out more about the Apple Developer Program here: <a href="https://developer.apple.com/programs/" class="calibre10">https://developer.apple.com/programs/</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Install Xcode</h1>
                
            
            
                
<p class="calibre3">Xcode is the all-in-one toolkit for developing for any Apple devices. It is free to download from the Mac App Store here: <a href="https://itunes.apple.com/gb/app/xcode/id497799835?mt=12" class="calibre10">https://itunes.apple.com/gb/app/xcode/id497799835?mt=12</a>. Beware: it is quite big (over 4.5 GB as of writing). Download it, open the downloaded <kbd class="calibre13">dmg</kbd> file, and follow the installation instructions.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Configuring the Unity Player Settings for iOS </h1>
                
            
            
                
<p class="calibre3">We now will configure your Unity project to build for iOS. First, ensure <em class="calibre14">iOS</em> is your target platform in Build Settings. Unity provides a great deal of support for iOS, including configuration and optimization for runtime features and the capabilities of mobile devices. These options can be found in Player Settings. We only need to set a couple of them now (the minimum required to build our projects):</p>
<ol class="calibre15">
<li class="calibre12">In Unity, navigate to <strong class="calibre1">F</strong><strong class="calibre1">ile</strong> | <strong class="calibre1">Build Settings</strong> and examine the Platform pane. If iOS is not presently selected, select it now and press Switch Platform.</li>
<li class="calibre12">If you have the Build Settings window open, press the Player Settings… button. Or, you can get there from the main menu: Edit | Project Settings | Player. Look across at the Inspector panel, which now contains the Player Settings.</li>
<li class="calibre12">Find the Other Settings group of parameters, and click the header bar (if it's not already opened) to find the Identification variables.</li>
<li class="calibre12">Set the Bundle Identifier to a unique name for your product that resembles a traditional Java package name. An ID is required for all iOS apps. Typically, it is in the format <kbd class="calibre13">com.CompanyName.ProductName</kbd>. It must be unique on the target device, and eventually, unique in the App Store. You can choose whatever name you want.</li>
<li class="calibre12">Set the Automatic Signing Team ID to your Signing Team setup in Xcode, and check the Automatically Sign checkbox.</li>
</ol>
<p>To configure your Apple ID with Xcode, in Xcode go to Preferences | Accounts and add an Apple ID by tapping +.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Build And Run</h1>
                
            
            
                
<p class="calibre3">Xcode consists of an <strong class="calibre5">integrated development environment</strong> (<strong class="calibre5">IDE</strong>) that hosts your Xcode projects. When you build for iOS from Unity, it doesn't actually build an iOS executable. Rather, Unity builds an Xcode-ready project folder that you then open in Xcode to complete the compile, build, and deploy process, and to run the app on your device. Let's go!</p>
<ol class="calibre15">
<li class="calibre12">Be sure your device is turned on, connected, and you grant permission for the Mac to access.</li>
<li class="calibre12">In the Build Settings, press the Build And Run button to begin building.</li>
<li class="calibre12">You will be prompted for a name and location of the build files. We recommend you create a new folder in your project root named <kbd class="calibre13">Build</kbd> and specify the file or subfolder name under that, as needed.</li>
</ol>
<p class="calibre3">If all goes well, Unity will create an Xcode project and open it in Xcode. It will attempt to build the app, and if successful, upload it to your device. You now have a running VR app on your device you can show off to your friends and family!</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<p class="calibre3">In this chapter, we helped you set up your system for VR development and built your project for your target platform and devices. We discussed the different levels of device integration software and then installed software that was appropriate for your target VR device onto your development machine and asset packages into your Unity project. While we have summarized the steps, all of these steps are well documented on the device manufacturers sites and in the Unity manual and we encourage you to look at all the relevant documentation.</p>
<p class="calibre3">At this point, you should be able to preview your VR scene in Unity Editor's Play mode. And you should be able to build and run your project and install and run it as a binary directly on your device.</p>
<p class="calibre3">In the next chapter, we'll work more on the diorama scene and explore techniques to control objects in virtual reality. From a third-person perspective, we'll interact with objects in the scene (Ethan, the zombie) and implement look-based control.</p>


            

            
        
    </body></html>