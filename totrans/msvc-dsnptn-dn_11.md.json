["```cs\nInstall-Package Ocelot\n```", "```cs\n{\n     \"Routes\": [\n    {\n      \"DownstreamPathTemplate\": \"/api/Patients\",\n      \"DownstreamScheme\": \"http\",\n      \"DownstreamHostAndPorts\": [\n        {\n          \"Host\": \"localhost\",\n          \"Port\": 5232\n        }\n      ],\n      \"UpstreamPathTemplate\": \"/Patients\",\n      \"UpstreamHttpMethod\": [\n        \"GET\",\n        \"POST\"\n      ]\n    },\n    {\n      \"DownstreamPathTemplate\": \"/api/Patients/{id}\",\n      \"DownstreamScheme\": \"http\",\n      \"DownstreamHostAndPorts\": [\n        {\n          \"Host\": \"localhost\",\n          \"Port\": 5232\n        }\n      ],\n      \"UpstreamPathTemplate\": \"/Patients/{id}\",\n      \"UpstreamHttpMethod\": [\n        \"GET\",\n        \"PUT\"\n      ]\n    },\n    {\n      \"DownstreamPathTemplate\": \"/api/Appointments\",\n      \"DownstreamScheme\": \"http\",\n      \"DownstreamHostAndPorts\": [\n        {\n          \"Host\": \"localhost\",\n          \"Port\": 5274\n        }\n      ],\n      \"UpstreamPathTemplate\": \"/Appointments\",\n      \"UpstreamHttpMethod\": [\n        \"POST\",\n        \"PUT\",\n        \"GET\"\n      ]\n    }\n  ],\n  \"GlobalConfiguration\": {\n    \"BaseUrl\": http://localhost:5245\"\"\n  }\n}\n```", "```cs\nbuilder.Configuration.AddJsonFile(\"ocelot.json\", optional:\n  false, reloadOnChange: true);\nbuilder.Services.AddOcelot(builder.Configuration);\n```", "```cs\nawait app.UseOcelot();\n```", "```cs\nInstall-Package Ocelot.Cache.CacheManager\n```", "```cs\nbuilder.Services.AddOcelot()\n    .AddCacheManager(x =>\n    {\n        x.WithDictionaryHandle();\n    });\n```", "```cs\n\"FileCacheOptions\": {\n    \"TtlSeconds\": 20,\n    \"Region\": \"SomeRegionName\"\n  }\n```", "```cs\n{\n      \"DownstreamPathTemplate\": \"/api/Patients\",\n      \"DownstreamScheme\": \"http\",\n      \"DownstreamHostAndPorts\": [\n        {\n          \"Host\": \"localhost\",\n          \"Port\": 5232\n        }\n      ],\n      \"UpstreamPathTemplate\": \"/Patients\",\n      \"UpstreamHttpMethod\": [\n        \"GET\",\n        \"POST\"\n      ],\n      \"RateLimitOptions\": {\n        \"ClientWhitelist\": [],\n        \"EnableRateLimiting\": true,\n        \"Period\": \"5s\",\n        \"PeriodTimespan\": 1,\n        \"Limit\": 1\n      }\n    },\n```", "```cs\n\"GlobalConfiguration\": {\n    \"BaseUrl\": http://localhost:5245\"\",\n    \"RateLimitOptions\": {\n      \"DisableRateLimitHeaders\": false,\n      \"QuotaExceededMessage\": \"Too many requests!!!\",\n      \"HttpStatusCode\": 429,\n      \"ClientIdHeader\": \"ClientId\"\n    }\n  }\n```", "```cs\n    {\n      \"DownstreamPathTemplate\": \"/api/Patients/{id}\",\n      \"DownstreamScheme\": \"http\",\n      \"DownstreamHostAndPorts\": [\n        {\n          \"Host\": \"localhost\",\n          \"Port\": 5232\n        }\n      ],\n      \"UpstreamPathTemplate\": \"/Patients/{id}\",\n      \"UpstreamHttpMethod\": [\n        \"GET\",\n        \"PUT\"\n      ],\n      \"Key\": \"get-patient\"\n    }\n```", "```cs\n    {\n      \"DownstreamPathTemplate\":\n          \"/api/user/Appointments/{id}\",\n      \"DownstreamScheme\": \"http\",\n      \"DownstreamHostAndPorts\": [\n        {\n          \"Host\": \"localhost\",\n          \"Port\": 5274\n        }\n      ],\n      \"UpstreamPathTemplate\": \"/Appointments/user/{id}\",\n      \"UpstreamHttpMethod\": [\n        \"GET\"\n      ],\n      \"Key\": \"get-patient-appointments\"\n    }\n```", "```cs\n// GET: api/Appointments/user/{id}\n        [HttpGet(\"user/{id}\")]\n        public async Task<ActionResult<List<Appointment>>>\n            GetAppointmentsByUser(Guid id)\n        {\n            var appointments = await _context.Appointments\n                .Where(q => q.PatientId == id)\n                .ToListAsync();\n            return appointments;\n        }\n```", "```cs\n\"Aggregates\": [\n    {\n      \"RouteKeys\": [\n        \"get-patient\",\n        \"get-patient-appointments\"\n      ],\n      \"UpstreamPathTemplate\": \"/get-patient-details/{id}\"\n    }\n  ],\n```", "```cs\n{\n  \"Routes\": [\n    {\n      \"DownstreamPathTemplate\": \"/api/Patients\",\n      \"DownstreamScheme\": \"http\",\n      \"DownstreamHostAndPorts\": [\n        {\n          \"Host\": \"localhost\",\n          \"Port\": 5232\n        }\n      ],\n      \"UpstreamPathTemplate\": \"/web/Patients\",\n      \"UpstreamHttpMethod\": [\n        \"GET\",\n        \"POST\"\n      ]\n    },\n   // omitted for brevity   ],\n  \"FileCacheOptions\": {\n    \"TtlSeconds\": 10,\n    \"Region\": \"SomeRegionName\"\n  },\n  \"GlobalConfiguration\": {\n    \"BaseUrl\": http://localhost:5245\"\"\n  }\n}\n```", "```cs\n  \"Aggregates\": [\n    {\n      \"RouteKeys\": [\n        \"get-patient\",\n        \"get-patient-appointments\"\n      ],\n      \"UpstreamPathTemplate\": \"/get-patient-details/{id}\",\n      \"Aggregator\": \"PatientAppointmentAggregator\"\n    }\n  ],\n```", "```cs\nbuilder.Services.AddOcelot().AddSingletonDefinedAggregator<\n  PatientAppointmentAggregator>()\n```", "```cs\npublic class PatientAppointmentAggregator :\n  IDefinedAggregator\n{\n    public async Task<DownstreamResponse>\n        Aggregate(List<HttpContext> responses)\n    {\n        var patient = await responses[0].Items.Downstream\n          Response().Content.ReadAsStringAsync();\n        var appointments = await responses[1]\n          .Items.DownstreamResponse()\n            .Content.ReadAsStringAsync();\n        var contentBuilder = new StringBuilder();\n        contentBuilder.Append(patient);\n        contentBuilder.Append(appointments);\n        var response = new StringContent\n          (contentBuilder.ToString())\n        {\n            Headers = { ContentType = new\n              MediaTypeHeaderValue(\"application/json\") }\n        };\n        return new DownstreamResponse(response,\n          HttpStatusCode.OK, new List<KeyValuePair<string,\n            IEnumerable<string>>>(), \"OK\");\n    }\n}\n```"]