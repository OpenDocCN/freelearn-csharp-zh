<html><head></head><body>
		<div id="_idContainer015">
			<h1 id="_idParaDest-27"><em class="italic"><a id="_idTextAnchor026"/>Chapter 2</em>: Getting Started with ABP Framework</h1>
			<p>ABP Framework is distributed as a large set of NuGet and <strong class="bold">Node Package Manager (NPM)</strong> packages. It has a modular design so that you can add and use the packages you need to. However, there are also some pre-built solution templates, and you typically want to start with them.</p>
			<p>We will see how to prepare our development environment and create solutions using ABP's startup templates. By the end of this chapter, you will have a running solution built with ABP Framework.</p>
			<p>This chapter consists of the following topics:</p>
			<ul>
				<li>Installing the ABP CLI</li>
				<li>Creating a new solution</li>
				<li>Running the solution</li>
				<li>Exploring the pre-built modules</li>
			</ul>
			<h1 id="_idParaDest-28"><a id="_idTextAnchor027"/>Technical requirements</h1>
			<p>There are a few tools you need to have installed on your computer before starting with ABP Framework.</p>
			<h2 id="_idParaDest-29"><a id="_idTextAnchor028"/>IDE/Editor</h2>
			<p>This book assumes that you are using <strong class="bold">Visual Studio 2022</strong> (v10.0 with .NET 6.0 support) or later. If you <a id="_idIndexMarker047"/>haven't installed it, the <strong class="bold">Community Edition</strong> is <a id="_idIndexMarker048"/>freely available on <a href="https://visualstudio.microsoft.com">https://visualstudio.microsoft.com</a>. However, you <a id="_idIndexMarker049"/>can use your favorite <strong class="bold">integrated development environment</strong> (<strong class="bold">IDE</strong>) or editor, as long as it <a id="_idIndexMarker050"/>supports .NET application development with C#.</p>
			<h2 id="_idParaDest-30"><a id="_idTextAnchor029"/>.NET 6 SDK</h2>
			<p>If you've installed <a id="_idIndexMarker051"/>Visual Studio, you <a id="_idIndexMarker052"/>will already have installed the <strong class="bold">.NET software development kit (SDK)</strong>. Otherwise, please <a id="_idIndexMarker053"/>install .NET 6.0 or later from <a href="https://dotnet.microsoft.com/download">https://dotnet.microsoft.com/download</a>.</p>
			<h2 id="_idParaDest-31"><a id="_idTextAnchor030"/>Database management system</h2>
			<p>ABP Framework can work <a id="_idIndexMarker054"/>with any data source. However, two main <a id="_idIndexMarker055"/>providers are pre-integrated: <strong class="bold">Entity Framework Core</strong> (<strong class="bold">EF Core</strong>) and <strong class="bold">MongoDB</strong>. For EF Core, all <strong class="bold">database management systems</strong> (<strong class="bold">DBMS</strong>) can be used, such <a id="_idIndexMarker056"/>as SQL Server, MySQL, PostgreSQL, Oracle, and so on.</p>
			<p>I will use <strong class="bold">SQL Server</strong> as the DBMS in this chapter. The startup solution uses <strong class="bold">LocalDB</strong>, a simple SQL Server instance <a id="_idIndexMarker057"/>for developers installed with Visual Studio. However, you may <a id="_idIndexMarker058"/>want to use the full version of SQL Server. In this case, you <a id="_idIndexMarker059"/>can download <strong class="bold">SQL Server Developer Edition</strong> from <a href="https://www.microsoft.com/sql-server/sql-server-downloads">https://www.microsoft.com/sql-server/sql-server-downloads</a>.</p>
			<h1 id="_idParaDest-32"><a id="_idTextAnchor031"/>Installing the ABP CLI</h1>
			<p>Many modern frameworks provide a CLI, and ABP Framework is no exception. <strong class="bold">ABP CLI</strong> is a command-line utility <a id="_idIndexMarker060"/>to perform some common tasks for ABP applications. It is used to create a new solution with ABP Framework as a fundamental functionality.</p>
			<p>Install it using a terminal with the following command:</p>
			<p class="source-code">dotnet tool install -g Volo.Abp.Cli</p>
			<p>If you've already installed it, you can update it to the latest version using the following command:</p>
			<p class="source-code">dotnet tool update -g Volo.Abp.Cli</p>
			<p>We are now ready to create new ABP solutions.</p>
			<h1 id="_idParaDest-33"><a id="_idTextAnchor032"/>Creating a new solution</h1>
			<p>ABP Framework provides <a id="_idIndexMarker061"/>a pre-built application startup template. There are two ways to create a new solution (project) using this template, which we will explore now.</p>
			<h2 id="_idParaDest-34"><a id="_idTextAnchor033"/>Downloading the startup solution</h2>
			<p>You can directly create and download a solution from <a href="https://abp.io/get-started">https://abp.io/get-started</a>. On this page, as shown <a id="_idIndexMarker062"/>in the following screenshot, you can easily select the <strong class="bold">user interface</strong> (<strong class="bold">UI</strong>) framework, database provider, and other available options:</p>
			<div>
				<div id="_idContainer010" class="IMG---Figure">
					<img src="image/Figure_2.1_B17287.jpg" alt="Figure 2.1 – Downloading a new solution&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.1 – Downloading a new solution</p>
			<p>It is worth mentioning <a id="_idIndexMarker063"/>the options on this page because they directly affect your solution's architecture, structure, and tooling.</p>
			<p>In the <strong class="bold">Project name</strong> field is the name of your Visual Studio solution (the <strong class="source-inline">.sln</strong> file) and the root namespace of your code base.</p>
			<p>For <strong class="bold">Project type</strong>, there are two options, as follows:</p>
			<ul>
				<li>The <strong class="bold">Module</strong> template is used to create reusable application modules. </li>
				<li>The <strong class="bold">Application</strong> template is used to build web applications using ABP Framework. </li>
			</ul>
			<p>Working with the <strong class="bold">Module</strong> template will be covered in <a href="B17287_15_Epub_AM.xhtml#_idTextAnchor443"><em class="italic">Chapter 15</em></a>, <em class="italic">Working with Modularity</em>. Here, I chose <a id="_idIndexMarker064"/>the <strong class="bold">Application</strong> template since I want to create a new web application that we will use in the next chapter.</p>
			<p>There are four <strong class="bold">UI Framework</strong> options available at the time of writing this book, as follows:</p>
			<ul>
				<li>MVC/Razor Page</li>
				<li>Angular</li>
				<li>Blazor WebAssembly</li>
				<li>Blazor Server</li>
			</ul>
			<p>You can select the option that best fits your application requirements and personal or team skills. We will cover the <strong class="bold">MVC/Razor Page</strong> and <strong class="bold">Blazor</strong> options in <em class="italic">Part 4</em>, <em class="italic">User Interface and API Development,</em> of this book. You can learn more about the Angular UI in ABP's documentation. Here, I select the <strong class="bold">MVC/Razor Page</strong> option since we will use it in the next chapter.</p>
			<p>There are two database provider options available at the time of writing this book, as follows:</p>
			<ul>
				<li>Entity Framework Core</li>
				<li>MongoDB</li>
			</ul>
			<p>If you select the <strong class="bold">Entity Framework Core</strong> option, you can use any DBMS supported by EF Core. I've selected EF Core with the <strong class="bold">SQLServer</strong> option here.</p>
			<p>ABP also provides a mobile startup <a id="_idIndexMarker065"/>template based on <strong class="bold">React Native</strong>, a <a id="_idIndexMarker066"/>popular <strong class="bold">single-page application</strong> (<strong class="bold">SPA</strong>) framework provided by Facebook. It provides a good starting point for your mobile application integrated with the same backend if you select it. This book doesn't cover mobile development, so I left that as <strong class="bold">None</strong>.</p>
			<p>Finally, the <strong class="bold">Tiered</strong> option can be checked if you want to separate your UI application from the <strong class="bold">HTTP API</strong> physically. In this case, the UI application won't have a direct database connection and <a id="_idIndexMarker067"/>perform all operations through the HTTP API. You can deploy <a id="_idIndexMarker068"/>the UI and HTTP API applications to separate servers. I haven't checked it to keep it simpler and focus on the ABP features rather than the complexities of distributed systems. However, ABP supports such distributed scenarios as well. You can learn more from ABP's documentation.</p>
			<p>When you select the options, ABP creates a fully working, production-ready solution, on top of which you can start to build your application. If you later want to change the options (for example, if you want to use MongoDB instead of EF Core), you should recreate your solution or manually change and configure the NuGet packages. There is no <em class="italic">auto-magic</em> way of changing these options after creating and customizing your solution. </p>
			<p>Downloading your solution from the website makes it easy to see and select the options. However, there is an alternative way for users who like command-line tools.</p>
			<h2 id="_idParaDest-35"><a id="_idTextAnchor034"/>Using the ABP CLI</h2>
			<p>Alternatively, you can <a id="_idIndexMarker069"/>use the <strong class="source-inline">new</strong> command in the ABP CLI to create new solutions. Open a command-line terminal and type the following command into an empty directory:</p>
			<p class="source-code">abp new ProductManagement</p>
			<p><strong class="source-inline">ProductManagement</strong> is the solution name here. This command creates a new web application using EF Core with SQL Server LocalDB and the MVC/Razor Pages UI because these options are default. If I want to specify all, I can rewrite the same command, like this:</p>
			<p class="source-code">abp new ProductManagement -t app -u mvc -d ef -dbms SqlServer --mobile none</p>
			<p>If you want to specify the database connection string, you can also pass the <strong class="source-inline">--connection-string</strong> parameter, as shown in the following example:</p>
			<p class="source-code">abp new ProductManagement -t app -u mvc -d ef -dbms SqlServer --mobile none --connection-string "Server=(LocalDb)\\MSSQLLocalDB;Database=ProductManagement;Trusted_Connection=True"</p>
			<p>The connection string in this <a id="_idIndexMarker070"/>example is already the default connection string value and uses <strong class="source-inline">LocalDb</strong>. See <em class="italic">The connection string</em> section in this chapter, if you need to change the connection string later.</p>
			<p>Please refer <a id="_idIndexMarker071"/>to the ABP CLI documentation for all possible options and values: <a href="https://docs.abp.io/en/abp/latest/CLI">https://docs.abp.io/en/abp/latest/CLI</a>.</p>
			<p class="callout-heading">About the Example Application</p>
			<p class="callout">In the next chapter, we will build an example application named <strong class="source-inline">ProductManagement</strong>. You can use the solution you are currently creating as the starting point for the next chapter.</p>
			<p>We now have a well-architected, production-ready solution. The next section shows how to run this solution.</p>
			<h1 id="_idParaDest-36"><a id="_idTextAnchor035"/>Running the solution</h1>
			<p>We can use an IDE or <a id="_idIndexMarker072"/>code editor to open the solution, create a database, and run the web application. Open the <strong class="source-inline">ProductManagement.sln</strong> solution in Visual Studio or your favorite IDE. You will see a solution structure like the one depicted here:</p>
			<p class="figure-caption"> </p>
			<div>
				<div id="_idContainer011" class="IMG---Figure">
					<img src="image/Figure_2.2_B17287.jpg" alt="Figure 2.2 – ProductManagement solution in Visual Studio&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.2 – ProductManagement solution in Visual Studio</p>
			<p>The solution is layered and contains multiple projects. The test folder has projects to test these layers. Most <a id="_idIndexMarker073"/>of these projects are class libraries, while a few of them are executable applications. These are described here:</p>
			<ul>
				<li><strong class="source-inline">ProductManagement.Web</strong> is the main web application of the solution.</li>
				<li><strong class="source-inline">ProductManagement.DbMigrator</strong> is used to apply database migrations and seeds the initial data.</li>
			</ul>
			<p>The solution uses a database. Before creating a database, you may want to check and change the database connection string.</p>
			<h2 id="_idParaDest-37"><a id="_idTextAnchor036"/>The connection string</h2>
			<p>A connection string is used <a id="_idIndexMarker074"/>to connect to the database and typically includes the server, database name, and credentials. The connection string is defined in the <strong class="source-inline">appsettings.json</strong> file in the <strong class="source-inline">ProductManagement.Web</strong> and <strong class="source-inline">ProductManagement.DbMigrator</strong> projects, as illustrated in the following code snippet:</p>
			<p class="source-code">"ConnectionStrings": {</p>
			<p class="source-code">  "Default": "Server=(LocalDb)\\MSSQLLocalDB;Database=ProductManagement;Trusted_Connection=True"</p>
			<p class="source-code">}</p>
			<p>The default connection string uses <strong class="source-inline">LocalDb</strong>, a lightweight, SQL Server-compatible database for <a id="_idIndexMarker075"/>development purposes. It is installed within Visual Studio. If you want to connect to another SQL Server instance, you can change it. If you change it, change it in both places.</p>
			<p>This connection string will be used when you create a database in the next section.</p>
			<h2 id="_idParaDest-38"><a id="_idTextAnchor037"/>Creating a database</h2>
			<p>The solution uses EF Core code first database migrations. So, we can manage database schema changes with code, using <a id="_idIndexMarker076"/>the standard <strong class="source-inline">Add-Migration</strong> and <strong class="source-inline">Update-Database</strong> commands.</p>
			<p><strong class="source-inline">ProductManagement.DbMigrator</strong> is a console application that simplifies creating and migrating a database in development and production. It also seeds the initial data, creating an <strong class="source-inline">admin</strong> role and user to log in to the application.</p>
			<p>Right-click the <strong class="source-inline">ProductManagement.DbMigrator</strong> project and select the <strong class="bold">Set as Startup Project</strong> command. Then, run the project using <em class="italic">Ctrl</em> + <em class="italic">F5</em> to run it without debugging.</p>
			<p class="callout-heading">About the Initial Migration</p>
			<p class="callout">If you are using an IDE other than Visual Studio (for example, JetBrains Rider), you may have problems for the first run since it adds the initial migration and compiles the project. In this case, open a command-line terminal in the directory of the <strong class="source-inline">ProductManagement.DbMigrator</strong> project and execute the <strong class="source-inline">dotnet run</strong> command. For the next time, you can just run it in your IDE as you normally do.</p>
			<p>The database is ready, so we <a id="_idIndexMarker077"/>can finally run the application to explore the UI.</p>
			<h2 id="_idParaDest-39"><a id="_idTextAnchor038"/>Running the web application</h2>
			<p>Set <strong class="source-inline">ProductManagement.Web</strong> as the <a id="_idIndexMarker078"/>startup project and run it using <em class="italic">Ctrl</em> + <em class="italic">F5</em> (start without debugging).</p>
			<p class="callout-heading">Tip: Start Without Debugging</p>
			<p class="callout">It is strongly suggested to run applications without debugging unless you need to debug them, as this will be much faster.</p>
			<p>This will open a landing page where you can delete the content and build your own home page of the application. When you click on the <strong class="bold">Login</strong> button, you are redirected to the login page, as illustrated in the following screenshot:</p>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/Figure_2.3_B17287.jpg" alt="Figure 2.3 – Login page of the application&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.3 – Login page of the application</p>
			<p>The default username is <strong class="source-inline">admin</strong>, and the default password is <strong class="source-inline">1q2w3E*</strong>. You can change it after <a id="_idIndexMarker079"/>logging in to the application.</p>
			<p>ABP is a modular framework, and the startup solution has installed the fundamental modules. Before starting to build your application, it is good to explore the pre-built module functionalities.</p>
			<h1 id="_idParaDest-40"><a id="_idTextAnchor039"/>Exploring the pre-built modules</h1>
			<p>This section will explore the fundamental <a id="_idIndexMarker080"/>modules pre-installed in the startup solution: <strong class="bold">Account</strong>, <strong class="bold">Identity</strong>, and <strong class="bold">Tenant Management</strong>.</p>
			<p>The source code of these modules is not included in the download solution by default, but they are freely <a id="_idIndexMarker081"/>available on GitHub. They are used as <strong class="bold">NuGet</strong> packages and easily upgraded when a <a id="_idIndexMarker082"/>new ABP version is published. They are designed as highly customizable, without touching their code. However, if you need, you can include their source code in your solution to freely change them based on your unique requirements.</p>
			<p>Let's start with the Account module, which provides user authentication features.</p>
			<h2 id="_idParaDest-41"><a id="_idTextAnchor040"/>Account module</h2>
			<p>The login page <a id="_idIndexMarker083"/>shown in <em class="italic">Figure 2.3</em> comes from the <strong class="bold">Account</strong> module. This module implements login, registering, a forgot password functionality, social <a id="_idIndexMarker084"/>logins, and some other common requirements. It also shows a tenant selection area to switch between tenants in the development environment for a multi-tenant application. Multi-tenancy will be covered in <a href="B17287_16_Epub_AM.xhtml#_idTextAnchor457"><em class="italic">Chapter 16</em></a>, <em class="italic">Implementing Multi-Tenancy</em>, so we will return to this screen again.</p>
			<p>When you log in, you will see an <strong class="bold">Administration</strong> menu item with a few submenu items. These menu items come with ABP's pre-built <strong class="bold">Identity</strong> and <strong class="bold">Tenant Management</strong> modules. </p>
			<h2 id="_idParaDest-42"><a id="_idTextAnchor041"/>Identity module</h2>
			<p>The <strong class="bold">Identity</strong> module is used to <a id="_idIndexMarker085"/>manage users, roles, and their permissions in your <a id="_idIndexMarker086"/>application. It adds an <strong class="bold">Identity management</strong> menu item under the <strong class="bold">Administration</strong> menu, with <strong class="bold">Roles</strong> and <strong class="bold">Users</strong> as its submenu items, as illustrated in the following screenshot:</p>
			<div>
				<div id="_idContainer013" class="IMG---Figure">
					<img src="image/Figure_2.4_B17287.jpg" alt="Figure 2.4 – Identity management menu&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.4 – Identity management menu</p>
			<p>If you click on the <strong class="bold">Roles</strong> menu item, the role management page is opened, as illustrated in the following screenshot:</p>
			<div>
				<div id="_idContainer014" class="IMG---Figure">
					<img src="image/Figure_2.5_B17287.jpg" alt="Figure 2.5 – The role management page&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.5 – The role management page</p>
			<p>On this page, you can manage roles and their permissions in your application. In ABP, a role is a group of privileges. Roles are <a id="_idIndexMarker087"/>assigned to users to authorize them. The <strong class="bold">Default</strong> badge in <em class="italic">Figure 2.5</em> indicates <a id="_idIndexMarker088"/>the default role. Default roles are automatically assigned to new users when they are registered with the system. We will return to the <strong class="bold">Roles</strong> page in the <em class="italic">Working with authorization and permission systems</em> section of <a href="B17287_07_Epub_AM.xhtml#_idTextAnchor213"><em class="italic">Chapter 7</em></a><em class="italic">, Exploring Cross-Cutting Concerns</em>.</p>
			<p>The <strong class="bold">Users</strong> page, on the other hand, is used to manage <a id="_idIndexMarker089"/>the users in your <a id="_idIndexMarker090"/>application. A user can have zero or more roles.</p>
			<p>Roles and users are pretty standard almost in all business applications, while the <strong class="bold">Tenant Management</strong> page module is only used in multi-tenancy systems.</p>
			<h2 id="_idParaDest-43"><a id="_idTextAnchor042"/>Tenant Management module</h2>
			<p>The <strong class="bold">Tenant Management</strong> module is where you create and manage your tenants in a multi-tenant system. In a multi-tenant <a id="_idIndexMarker091"/>application, a tenant is <a id="_idIndexMarker092"/>a customer that has its own data—including roles, users, and permissions—isolated from the other tenants. It is an efficient and common way of building <strong class="bold">Software as a Service</strong> (<strong class="bold">SaaS</strong>) solutions. If your <a id="_idIndexMarker093"/>application is not multi-tenant, you can just remove this module from your solution.</p>
			<p>The Tenant Management module and multi-tenancy will be covered in <a href="B17287_16_Epub_AM.xhtml#_idTextAnchor457"><em class="italic">Chapter 16</em></a>,<em class="italic"> Implementing Multi-Tenancy</em>.</p>
			<h1 id="_idParaDest-44"><a id="_idTextAnchor043"/>Summary</h1>
			<p>In this chapter, we've installed some required tools to prepare our development environment. Then, we saw how to create a new solution using the direct download and CLI options. Finally, we configured and run the application to explore the pre-built functionalities.</p>
			<p>In the next chapter, we will learn how to add our own functionalities to this startup solution by understanding the solution structure.</p>
		</div>
	</body></html>