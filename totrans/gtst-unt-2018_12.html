<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Adding Audio and Visual Effects to Our Game</h1>
                </header>
            
            <article>
                
<p class="mce-root">In <a href="7098e2ac-1871-4cb2-98ba-36f3acdb0515.xhtml" target="_blank">Chapter 11</a>, <em>Scripting Victory and Defeat</em>, we designed and scripted our game's victory and defeat conditions. We updated our game's scripts to manage the Cucumber Man's health, including updating the HUD's health bar. We implemented our victory and end-of-game logic through scripting. We also implemented the lives remaining and enabled dynamic on-screen indicators of those lives. Lastly, we scripted the random respawning of our player character.</p>
<p>In this chapter, we will plan and implement audio and visual effects to help enhance overall gameplay. Specifically, we will add audio to key events in our combat system and add several special effects using Unity's Particle System to enhance the game's visual appeal.</p>
<p>Specifically, we will cover the following in this chapter:</p>
<ul>
<li>An overview of Unity's audio system</li>
<li>Planning our game's audio</li>
<li>Implementing our game's audio</li>
<li>An introduction to Unity's lights and shadows</li>
<li>An overview of Unity's special effects</li>
<li><span>Adding visual effects to our game</span></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Discovering Unity's audio system</h1>
                </header>
            
            <article>
                
<p>Unity has an impressive array of audio capabilities. It supports 3D spatial sound, which provides a surround-sound effect. This gives our audio source a point and dimension. There are also extensive mixing and mastering capabilities in Unity.</p>
<p>In this section, we will explore the basics of audio in Unity and take a look at the Audio Mixer.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Unity audio basics</h1>
                </header>
            
            <article>
                
<p>Unity supports several audio effects, including the <span class="packt_screen">Duck Volume</span> <span class="packt_screen">Audio Effect</span>, which allows us to manipulate an audio signal's volume.</p>
<div class="packt_infobox">The term <kbd>duck</kbd> refers to making the audio signal quieter.</div>
<p>We can use a variety of audio formats in Unity. You can see the four formats listed here:</p>
<ul>
<li><strong>Audio Interchange File Format</strong> (<strong>AIFF</strong>) </li>
<li>MP3</li>
<li><strong>Ogg Vorbis</strong> (<strong>OGG</strong>)</li>
<li>WAV</li>
</ul>
<p><span>If you have audio assets that are in a file format different from these four, you can probably use a free audio conversion tool to change the file format.</span></p>
<p>When we import an audio file into a Unity game, the file becomes an audio clip. Audio clips can also be created from within Unity by using your computer's microphone. You can even create audio clips via scripts during your game.</p>
<p>In Unity, audio sources are attached to objects. These audio sources emit, or play, sound and audio listener components do receive the sound emitted by audio sources. You can think of audio listeners as the player's ears inside the game world, hearing what's near them. Usually, one audio listener component is attached to the main camera so that the sounds it picks up on align well with what is displayed in the game view. Listeners are also attached to objects. Let's look at an example to see how a GameObject, an audio source, and listeners are related.</p>
<p>Let's say we are creating a zoo simulation and are working on the bovine section. There is a holding area for cows. Cows are generally quiet, but might be noisy eaters. The cow would be our GameObject and it would emit a <em>chewing</em> audio clip. The audio clip's RAW file (that is, <kbd>chewing.aiff</kbd>) would be identified as an audio source component attached to the cow GameObject. Now, let's say there is a farmer character. We can attach a listener to the farmer, which is also an object. That listener is a script that performs certain actions if it hears the sound from the cow. Perhaps, if the listener picks up the <em>chewing</em> sound, they will know that more hay is needed.</p>
<p>The following diagram illustrates the relationships between the various components:</p>
<div class="CDPAlignCenter CDPAlign"><img height="162" width="484" src="assets/6475a6ed-0b1d-4cea-a6e9-e146cece8d05.png"/></div>
<p>You will learn how to use these components later in this chapter.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Unity's Audio Mixer</h1>
                </header>
            
            <article>
                
<p>Unity's <span class="packt_screen">Audio Mixer</span> gives you the ability to mix and master audio sources and effects. To access the <span class="packt_screen">Audio Mixer</span>, you select <span class="packt_screen">Window</span> from the pull-down menu, and then select <span class="packt_screen">Audio Mixer</span>.</p>
<p>When you first open the <span class="packt_screen">Audio Mixer</span> window, you will see that there are no mixers in your project. As you can see in the following screenshot, there is a <span class="packt_screen">+</span> icon on the far-right side of that window: </p>
<div class="CDPAlignCenter CDPAlign"><img height="116" width="661" src="assets/b1731d2b-d6fe-4bd3-a0bb-a2006bedef64.png"/></div>
<p><span>Clicking that icon enables you to create a mixer.</span></p>
<p>When you have a mixer in your project, the <span class="packt_screen">Audio Mixer</span> window reveals four sections on the left. As shown in the following screenshot, these are <span class="packt_screen">Mixers</span>, <span class="packt_screen">Snapshots</span>, <span class="packt_screen">Groups</span>, and <span class="packt_screen">Views</span>. All the mixers in your project will be listed here. The <span class="packt_screen">Snapshots</span> are a collection of parameters that you can use in your mixer. An <span class="packt_screen">Audio Mixer Group</span> can be used to modify audio source sounds prior to them reaching the listeners. The final section is <span class="packt_screen">Views</span>. A <span class="packt_screen">View</span> is just a saved state of the mixer groups:</p>
<div class="CDPAlignCenter CDPAlign"><img height="304" width="346" src="assets/8906b466-1d78-4f4f-a0ff-8f5aede6ad93.png"/></div>
<p><span>To the right of the <span class="packt_screen">Audio Mixer</span> window, you see a single mixer in our project. When you click the <span class="packt_screen">Add</span> button, you will see a popup, shown here, that reveals several options: </span></p>
<div class="CDPAlignCenter CDPAlign"><img height="413" width="191" src="assets/f84d98ad-13cf-4029-af9f-df0ea96abfa2.png"/></div>
<p><span>We will not use these options in our game, but they are worth exploring if you intend to implement advanced audio effects in your game.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Planning our game's audio</h1>
                </header>
            
            <article>
                
<p>Planning a game's audio is an important part of game design. Just because we can do something with regards to audio, does not mean we should. Too much audio can be as off-putting as not enough. </p>
<p>The audio selected for the Cucumber Man game is intended to provide sufficient demonstration of how to import, configure, and script a game for various audio effects. To that end, the following audio will be implemented in our Cucumber Man game:</p>
<ul>
<li>Animations that require sounds:
<ul>
<li>Cucumber Man
<ul>
<li>Jump</li>
<li>Throw</li>
<li>Die</li>
<li>Respawn</li>
</ul>
</li>
<li>Cucumber Beetles
<ul>
<li>Eat</li>
<li>Standing Run</li>
<li>Die</li>
</ul>
</li>
</ul>
</li>
<li>Events that require sounds:
<ul>
<li>Player Defeat</li>
<li>Player Victory</li>
</ul>
</li>
</ul>
<p>We will perform the implementation in the next section.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Implementing our game's audio</h1>
                </header>
            
            <article>
                
<p>In this section, we will implement the audio requirements listed in the previous section. We will import, configure, and script our game to complete the implementation. <span>Before we get started, you should open your Unity game project. </span><span>Alternatively, you can download the</span> <span class="packt_screen">Starting-Chapter-12</span><span> Unity </span><span>project available from the publisher's companion site.</span></p>
<p>We will implement our game's audio in three steps, each handled in subsequent sections:</p>
<ul>
<li>Importing audio assets</li>
<li>Implementing Cucumber Beetle audio</li>
<li>Implementing Cucumber Man audio</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Importing audio assets</h1>
                </header>
            
            <article>
                
<p>Our first task is to import the audio assets into our game project. Here are the steps:</p>
<ol>
<li>Open the game project.</li>
<li>In the <span class="packt_screen">Project</span> panel, right-click <span class="packt_screen">Assets</span> and select <span class="packt_screen">Create</span> | <span class="packt_screen">Folder</span>.</li>
<li>Name the new folder <kbd>Audio</kbd>.</li>
<li>Right-click the <kbd>Audio</kbd> folder and select <span class="packt_screen">Import Package</span> | <span class="packt_screen">Custom Package</span>.</li>
<li>Navigate to the <kbd>cucumber_man_audio.unitypackage</kbd> file available from the publisher's site for this book. You should see the following screenshot pop up in your Unity interface:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="357" width="340" src="assets/57ea928c-cf96-45c3-81f5-9748565bd9cb.png"/></div>
<ol start="6">
<li>In the <span class="packt_screen">Import Unity Package</span> dialog window, ensure all audio files are selected and click the <span class="packt_screen">Import</span> button.</li>
<li>In the <span class="packt_screen">Project</span> panel, select the first audio file. Then, in the <span class="packt_screen">Inspector</span> panel, use the interface to play the audio clip. </li>
</ol>
<p> </p>
<ol start="8">
<li>Repeat step 7 for each of the nine audio clips. This will familiarize you with each sound and ensure they can play on your computer.</li>
</ol>
<p>Now that we have our audio assets in our game project, let's review how each of them will be used. The following table maps each audio file to the appropriate in-game animation or event:</p>
<table>
<tbody>
<tr>
<td><strong>In-Game animation/Event</strong></td>
<td><strong>Related GameObject</strong></td>
<td><strong>Audio asset</strong></td>
</tr>
<tr>
<td>Jump animation</td>
<td>Cucumber Man</td>
<td><kbd>jump.wav</kbd></td>
</tr>
<tr>
<td>Throw animation</td>
<td>Cucumber Man</td>
<td><kbd>throw.wav</kbd></td>
</tr>
<tr>
<td>Die animation</td>
<td>Cucumber Man</td>
<td><kbd>cm_die.wav</kbd></td>
</tr>
<tr>
<td>Respawn event</td>
<td>Cucumber Man</td>
<td><kbd>respawn.wav</kbd></td>
</tr>
<tr>
<td>Eat animation</td>
<td>Cucumber Beetle</td>
<td><kbd>eating.wav</kbd></td>
</tr>
<tr>
<td>Standing Run animation</td>
<td>Cucumber Beetle</td>
<td><kbd>attack.wav</kbd></td>
</tr>
<tr>
<td>Die on Ground animation</td>
<td>Cucumber Beetle</td>
<td><kbd>beetle_die.wav</kbd></td>
</tr>
<tr>
<td>Die Standing animation</td>
<td>Cucumber Beetle</td>
<td><kbd>beetle_die.wav</kbd></td>
</tr>
<tr>
<td>Player Defeat event</td>
<td>Cucumber Man</td>
<td><kbd>game_over.wav</kbd></td>
</tr>
<tr>
<td>Player Victory event</td>
<td>Cucumber Man</td>
<td><kbd>victory.wav</kbd></td>
</tr>
</tbody>
</table>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Implementing the Cucumber Beetle audio</h1>
                </header>
            
            <article>
                
<p>In this section, we will configure the Cucumber Beetle prefab so that it supports audio when the Cucumber Beetles eat, when they run while standing, and when they die. Here are the steps:</p>
<ol>
<li>Select the beetle prefab in the <span class="packt_screen">Project</span> panel's <kbd>Assets</kbd> | <kbd>Prefabs</kbd> folder. If you have more than one prefab, be sure to use the one that is used in your game.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, scroll to the bottom and click the <span class="packt_screen">Add Component</span> button.</li>
<li>Select <span class="packt_screen">Audio</span> | <span class="packt_screen">Audio Source</span>.</li>
<li>Uncheck the <span class="packt_screen">Play On Awake</span> box. </li>
</ol>
<p style="padding-left: 60px">Normally, we would assign an <kbd>AudioClip</kbd> to our <span class="packt_screen">Audio Source</span> component. Since our Cucumber Beetles will have more than one audio clip, we will not assign one here. </p>
<p style="padding-left: 60px">Our next step is to edit the <kbd>BeetleNPC</kbd> script. Open that script file and make the following modifications:</p>
<ol start="5">
<li>Add the following member variables:</li>
</ol>
<pre><span><span>      public</span><span> </span><span>AudioSource</span><span> </span><span>audioSource</span><span>;</span><br/><span>      public</span><span> </span><span>AudioClip</span><span> </span><span>eating</span><span>;</span><br/><span>      public</span><span> </span><span>AudioClip</span><span> </span><span>attack</span><span>;</span><br/><span>      public</span><span> </span><span>AudioClip</span><span> </span><span>die</span><span>;</span></span> </pre>
<ol start="6">
<li>Add the following statement to the <kbd>Start()</kbd> method:</li>
</ol>
<pre><span><span>      audioSource</span><span> </span><span>=</span><span> </span><span>GetComponent</span><span>&lt;</span><span>AudioSource</span><span>&gt;</span><span> </span><span>()</span><span>;</span></span></pre>
<ol start="7">
<li>Edit the <kbd>OnTriggerEnter()</kbd> method as shown here. You will see two <kbd>audioSource.PlayOneShot()</kbd> statements, one each for the <kbd>eating</kbd> and <kbd>attack</kbd> audio clips:</li>
</ol>
<pre><span><span>      void</span><span> </span><span>OnTriggerEnter</span><span>(</span><span>Collider</span><span> </span><span>theObject</span><span>)</span><span> </span><span>{</span><br/> <span>        </span><span>if</span><span> </span><span>(</span><span>theObject</span><span>.</span><span>gameObject</span><span>.</span><span>CompareTag</span><span> </span><span>(</span><span>"</span><span>Cucumber</span><span>"</span><span>))</span><span> </span><span>{</span><br/> <span>             </span><span>cucumberToDestroy</span><span> </span><span>=</span><span> </span><span>theObject</span><span>.</span><span>gameObject</span><span>;</span><br/> <span>             </span><span>BeetlePatrol</span><span>.</span><span>isEating</span><span> </span><span>=</span><span> </span><span>true</span><span>;</span><br/> <span>             </span><span>animator</span><span>.</span><span>Play</span><span> </span><span>(</span><span>"</span><span>Eating</span><span> </span><span>on</span><span> </span><span>Ground</span><span>"</span><span>)</span><span>;</span><br/> <span>             </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>eating</span><span>)</span><span>;</span><br/> <span>             </span><span>StartCoroutine</span><span> </span><span>(</span><span>"</span><span>DestroyCucumber</span><span>"</span><span>)</span><span>;</span><br/> <span>         </span><span>}</span><span> </span><span>else</span><span> </span><span>if</span><span> </span><span>(</span><span>theObject</span><span>.</span><span>gameObject</span><span>.</span><span>CompareTag</span><span> </span><span>(</span><span>"</span><span>Cherry</span><span>"</span><span>))</span><span> </span><span>{</span><br/> <span>             </span><span>_ptsManager</span><span> </span><span>=</span><span> </span><span>GameObject</span><span>.</span><span>Find</span><span> <br/></span><span>              (</span><span>"</span><span>Score_Value</span><span>"</span><span>)</span><span>.</span><span>GetComponent</span><span>&lt;</span><span>PointsManager</span><span>&gt;</span><span>()</span><span>;</span><br/> <span>             </span><span>PointsManager</span><span>.</span><span>currentScore</span><span> </span><span>=</span><span> </span><span>PointsManager</span><span>.</span><span>currentScore</span><span> </span><span>+</span><span> </span><span>10</span><span>;</span><span> </span><br/> <span>             </span><span>BeetlePatrol</span><span>.</span><span>isAttacking</span><span> </span><span>=</span><span> </span><span>true</span><span>;</span><br/> <span>             </span><span>cherryHit</span><span> </span><span>=</span><span> </span><span>true</span><span>;</span><br/> <span>             </span><span>animator</span><span>.</span><span>Play</span><span> </span><span>(</span><span>"</span><span>Stand</span><span>"</span><span>)</span><span>;</span><br/> <span>             </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>attack</span><span>)</span><span>;</span><br/> <span>         </span><span>}</span><br/><span>      }</span></span> </pre>
<ol start="8">
<li>Edit the <kbd><span>DestroySelfOnGround()</span></kbd><span> method, shown as follows. Here you can see that we added the <kbd>audioSource.PlayOneShot(die)</kbd> statement:</span></li>
</ol>
<pre><span><span>      IEnumerator</span><span> </span><span>DestroySelfOnGround</span><span>()</span><span> </span><span>{</span><br/><span>          </span><span>yield</span><span> </span><span>return</span><span> </span><span>new</span><span> </span><span>WaitForSecondsRealtime</span><span> </span><span>(</span><span>4</span><span>)</span><span>;</span><br/><span>          </span><span>animator</span><span>.</span><span>Play</span><span> </span><span>(</span><span>"</span><span>Die</span><span> </span><span>on</span><span> </span><span>Ground</span><span>"</span><span>)</span><span>;</span><br/><span>          </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>die</span><span>)</span><span>;</span><br/><span>          </span><span>Destroy</span><span> </span><span>(</span><span>this</span><span>.</span><span>gameObject</span><span>,</span><span> </span><span>4</span><span>)</span><span>;</span><br/><span>      }</span></span></pre>
<ol start="9">
<li>Edit the <kbd><span>DestroySelfStanding</span><span>()</span></kbd><span> method as shown in the following code block. Here, you can see we added the <kbd>audioSource.PlayOneShot(die)</kbd> statement:</span></li>
</ol>
<pre><span><span>      IEnumerator</span><span> </span><span>DestroySelfStanding</span><span>()</span><span> </span><span>{</span><br/><span>          </span><span>yield</span><span> </span><span>return</span><span> </span><span>new</span><span> </span><span>WaitForSecondsRealtime</span><span> </span><span>(</span><span>4</span><span>)</span><span>;</span><br/><span>          </span><span>animator</span><span>.</span><span>Play</span><span> </span><span>(</span><span>"</span><span>Die</span><span> </span><span>Standing</span><span>"</span><span>)</span><span>;</span><br/><span>          </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>die</span><span>)</span><span>;</span><br/><span>          </span><span>Destroy</span><span> </span><span>(</span><span>this</span><span>.</span><span>gameObject</span><span>,</span><span> </span><span>4</span><span>)</span><span>;</span><br/><span>          </span><span>cherryHit</span><span> </span><span>=</span><span> </span><span>false</span><span>;</span><br/><span>      }</span></span> </pre>
<p style="padding-left: 60px">Now that the scripting task is complete, we need to assign the designated audio clips to the variables we created:</p>
<ol start="10">
<li>In the <span class="packt_screen">Inspector</span> panel, scroll until you see the <span class="packt_screen">Beetle NPC (Script)</span> component.</li>
<li>Drag the <kbd>eating</kbd> audio clip from the <span class="packt_screen">Project</span> panel's <kbd>Assets</kbd> | <kbd>Audio</kbd> folder to the appropriate spot in the <span class="packt_screen">Beetle NPC (Script)</span> <span>component.</span></li>
<li>Repeat step 11 for the <kbd>attack</kbd> and <kbd>beetle_die</kbd> audio clips. Your <span class="packt_screen">Beetle NPC (Script)</span> <span>component should look like the following:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="181" width="372" src="assets/dec5e8a0-a8ea-4e36-b977-9ec8c7241f8c.png"/></div>
<p>All that's left is for you to test this new functionality by playing the game.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Implementing the Cucumber Man audio</h1>
                </header>
            
            <article>
                
<p>In this section, we will configure the Cucumber Man prefab so that it supports audio when the Cucumber Beetles eat, when they run while standing, and when they die. Here are the steps:</p>
<ol>
<li>Select the Cucumber Man in the <span class="packt_screen">Hierarchy</span> panel.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, scroll to the bottom and click the <span class="packt_screen">Add Component</span> button.</li>
<li>Select <span class="packt_screen">Audio</span> | <span class="packt_screen">Audio Source</span>.</li>
<li>Uncheck the <span class="packt_screen">Play On Awake</span> box.</li>
</ol>
<p style="padding-left: 60px">Normally, we would assign an <kbd>AudioClip</kbd> to our <span class="packt_screen">Audio Source</span> component. Since our Cucumber Man will have more than one audio clip, we will not assign one here. </p>
<p style="padding-left: 60px">Our next step is to edit the <kbd>BeetleNPC</kbd> script. Open that script file and make the following modifications:</p>
<ol start="5">
<li>Add the following member variables:</li>
</ol>
<pre><span><span>      public</span><span> </span><span>AudioSource</span><span> </span><span>audioSource</span><span>;</span><br/><span>      public</span><span> </span><span>AudioClip</span><span> </span><span>dying</span><span>;</span><br/><span>      public</span><span> </span><span>AudioClip</span><span> </span><span>respawning</span><span>;</span></span> <br/>      public AudioClip gameOver;</pre>
<ol start="6">
<li>Create a <kbd>Start()</kbd> method, shown as follows:</li>
</ol>
<pre><span><span>      void</span><span> </span><span>Start</span><span> </span><span>()</span><span> </span><span>{</span><br/><span>          </span><span>audioSource</span><span> </span><span>=</span><span> </span><span>GetComponent</span><span>&lt;</span><span>AudioSource</span><span>&gt;</span><span> </span><span>()</span><span>;</span><br/><span>      }</span></span> </pre>
<ol start="7">
<li>Edit the <kbd>Update()</kbd> method, as shown here, so that it includes the three <kbd>audioSource.PlayOneShot()</kbd> statements:</li>
</ol>
<pre><span><span>      if</span><span> </span><span>(</span><span>livesRemaining</span><span> </span><span>==</span><span> </span><span>2</span><span>)</span><span> </span><span>{</span><br/> <span>         </span><span>Destroy</span><span> </span><span>(</span><span>GameObject</span><span>.</span><span>Find</span><span> </span><span>(</span><span>"</span><span>Life3</span><span>"</span><span>))</span><span>;</span><br/> <span>         </span><span>anim</span><span> </span><span>=</span><span> </span><span>GetComponent</span><span>&lt;</span><span>Animator</span><span>&gt;</span><span> </span><span>()</span><span>;</span><br/> <span>         </span><span>anim</span><span>.</span><span>Play</span><span> </span><span>(</span><span>"</span><span>CM_Die</span><span>"</span><span>)</span><span>;</span><br/> <span>         </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>dying</span><span>)</span><span>;</span><br/> <span>         </span><span>StartCoroutine</span><span> </span><span>(</span><span>"</span><span>ReSpawnCucumberMan</span><span>"</span><span>)</span><span>;</span><br/><span>      }</span><br/><span>      if</span><span> </span><span>(</span><span>livesRemaining</span><span> </span><span>==</span><span> </span><span>1</span><span>)</span><span> </span><span>{</span><br/> <span>         </span><span>Destroy</span><span> </span><span>(</span><span>GameObject</span><span>.</span><span>Find</span><span> </span><span>(</span><span>"</span><span>Life2</span><span>"</span><span>))</span><span>;</span><br/> <span>         </span><span>anim</span><span> </span><span>=</span><span> </span><span>GetComponent</span><span>&lt;</span><span>Animator</span><span>&gt;</span><span> </span><span>()</span><span>;</span><br/> <span>         </span><span>anim</span><span>.</span><span>Play</span><span> </span><span>(</span><span>"</span><span>CM_Die</span><span>"</span><span>)</span><span>;</span><br/> <span>         </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>dying</span><span>)</span><span>;</span><br/> <span>         </span><span>StartCoroutine</span><span> </span><span>(</span><span>"</span><span>ReSpawnCucumberMan</span><span>"</span><span>)</span><span>;</span><br/><span>      }</span><br/><span>      if</span><span> </span><span>(</span><span>livesRemaining</span><span> </span><span>==</span><span> </span><span>0</span><span>)</span><span> </span><span>{</span><br/> <span>         </span><span>Destroy</span><span> </span><span>(</span><span>GameObject</span><span>.</span><span>Find</span><span> </span><span>(</span><span>"</span><span>Life1</span><span>"</span><span>))</span><span>;</span><br/> <span>         </span><span>anim</span><span> </span><span>=</span><span> </span><span>GetComponent</span><span>&lt;</span><span>Animator</span><span>&gt;</span><span> </span><span>()</span><span>;</span><br/> <span>         </span><span>anim</span><span>.</span><span>Play</span><span> </span><span>(</span><span>"</span><span>CM_Die</span><span>"</span><span>)</span><span>;</span><br/> <span>         </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>gameOver</span><span>)</span><span>;</span><br/><span>      }</span></span> </pre>
<ol start="8">
<li>Edit the <kbd>ReSpawnCucumberMan()</kbd> method as shown here. You can see that we added the <kbd>audioSource.PlayOneShot()</kbd> statement:</li>
</ol>
<pre><span><span>      IEnumerator</span><span> </span><span>ReSpawnCucumberMan</span><span>()</span><span> </span><span>{</span><br/><span>          </span><span>int</span><span> </span><span>randomNumber</span><span> </span><span>=</span><span> </span><span>Random</span><span>.</span><span>Range</span><span> </span><span>(</span><span>1</span><span>,</span><span> </span><span>4</span><span>)</span><span>;</span><br/><span>          </span><span>if</span><span> </span><span>(</span><span>randomNumber</span><span> </span><span>==</span><span> </span><span>1</span><span>)</span><span> </span><span>{</span><br/><span>              </span><span>yield</span><span> </span><span>return</span><span> </span><span>new</span><span> </span><span>WaitForSecondsRealtime</span><span> </span><span>(</span><span>4</span><span>)</span><span>;</span><br/><span>              </span><span>this</span><span>.</span><span>transform</span><span>.</span><span>position</span><span> </span><span>=</span><span> </span><span>SpawnPad1</span><span>.</span><span>transform</span><span>.</span><span>position</span><span>;</span><br/><span>          </span><span>}</span><span> </span><span>else</span><span> </span><span>if</span><span> </span><span>(</span><span>randomNumber</span><span> </span><span>==</span><span> </span><span>2</span><span>)</span><span> </span><span>{</span><br/><span>              </span><span>yield</span><span> </span><span>return</span><span> </span><span>new</span><span> </span><span>WaitForSecondsRealtime</span><span> </span><span>(</span><span>4</span><span>)</span><span>;</span><br/><span>              </span><span>this</span><span>.</span><span>transform</span><span>.</span><span>position</span><span> </span><span>=</span><span> </span><span>SpawnPad2</span><span>.</span><span>transform</span><span>.</span><span>position</span><span>;</span><br/><span>          </span><span>}</span><span> </span><span>else</span><span> </span><span>{</span><br/><span>              </span><span>yield</span><span> </span><span>return</span><span> </span><span>new</span><span> </span><span>WaitForSecondsRealtime</span><span> </span><span>(</span><span>4</span><span>)</span><span>;</span><br/><span>              </span><span>this</span><span>.</span><span>transform</span><span>.</span><span>position</span><span> </span><span>=</span><span> </span><span>SpawnPad3</span><span>.</span><span>transform</span><span>.</span><span>position</span><span>;</span><br/><span>          </span><span>}</span><br/><span>          </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>respawning</span><span>)</span><span>;</span><br/><span>          </span><span>anim</span><span>.</span><span>Play</span><span> </span><span>(</span><span>"</span><span>CM_Idle</span><span>"</span><span>)</span><span>;</span><br/><span>      }</span></span> </pre>
<p style="padding-left: 60px">Now that our script changes for the <kbd>CucumberManManager</kbd> script file are complete, we need to assign the designated audio clips to the variables we created. Here are the steps:</p>
<ol start="9">
<li>In the <span class="packt_screen">Inspector</span> panel, scroll until you see the <span class="packt_screen">Cucumber Man Manager (Script)</span> component.</li>
<li>Drag the <kbd>cm_die</kbd> audio clip from the <span class="packt_screen">Project</span> panel's <kbd>Assets</kbd> | <kbd>Audio</kbd> folder to the appropriate spot in the <span class="packt_screen"><span>Cucumber Man Manager</span></span> <span class="packt_screen">(Script)</span> <span>component.</span></li>
<li>Repeat step 10 for the <kbd>respawn</kbd> and <kbd>game_over</kbd> audio clips. Your <span class="packt_screen">Cucumber Man Manager (Script)</span> <span><span>component should look like this:</span></span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="189" width="358" src="assets/c0bcf2c8-12ed-4cd1-8075-33ccdc560616.png"/></div>
<p style="padding-left: 60px">So far, we have taking care of the dying, respawning, and game over audio clips. Next, we will handle the jumping and throwing audio clips:</p>
<ol start="12">
<li>Open the <kbd>PlayerController</kbd> script for editing.</li>
<li>Add the following member variables:</li>
</ol>
<pre><span><span>      public</span><span> </span><span>AudioSource</span><span> </span><span>audioSource</span><span>;</span><br/><span>      public</span><span> </span><span>AudioClip</span><span> </span><span>jumping</span><span>;</span><br/><span>      public</span><span> </span><span>AudioClip</span><span> </span><span>throwing</span><span>;</span></span> </pre>
<ol start="14">
<li>Add the following statement to the <kbd>Start()</kbd> method:</li>
</ol>
<pre><span>       <span>audioSource</span><span> </span><span>=</span><span> </span><span>GetComponent</span><span>&lt;</span><span>AudioSource</span><span>&gt;</span><span> </span><span>()</span><span>;</span></span> </pre>
<ol start="15">
<li>Add the following statement to the beginning of the <kbd>Jump()</kbd> method:</li>
</ol>
<pre><span>       <span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>jumping</span><span>)</span><span>;</span></span> </pre>
<ol start="16">
<li>Add the following statement to the beginning of the <kbd>Throw()</kbd> method:</li>
</ol>
<pre><span>       <span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>throwing</span><span>)</span><span>;</span></span> </pre>
<p style="padding-left: 60px">Now that our script changes for the <kbd>PlayerController</kbd> script file are complete, we need to assign the designated audio clips to the variables we created. Here are the steps:</p>
<ol start="17">
<li>In the <span class="packt_screen">Inspector</span> panel, scroll until you see the <span class="packt_screen">Player Controller (Script)</span> component.</li>
<li>Drag the <kbd>jump</kbd> audio clip from the <span class="packt_screen">Project</span> panel's <kbd>Assets</kbd> | <kbd>Audio</kbd> folder to the appropriate spot in the <span class="packt_screen"><span>Player Controller</span></span> <span class="packt_screen">(Script)</span> <span><span>component.</span></span></li>
</ol>
<p> </p>
<ol start="19">
<li>Drag the <kbd>throw</kbd> audio clip from the Project pane's <kbd>Assets</kbd> | <kbd>Audio</kbd> folder to the appropriate spot in the <span class="packt_screen"><span>Player Controller</span></span> <span class="packt_screen">(Script)</span> <span>component. </span>Your <span class="packt_screen">Player Controller (Script)</span> <span>component should look like the following:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="173" width="389" src="assets/0a6fc6ef-92ae-487c-a58b-3b3efd8b6b0a.png"/></div>
<p style="padding-left: 60px">The last audio clip for us to implement is the victory clip. We will start by editing the <kbd>VictoryManager</kbd> script. Open that script file and make the following modifications:</p>
<ol start="20">
<li>Add the following member variables:</li>
</ol>
<pre><span><span>      public</span><span> </span><span>AudioSource</span><span> </span><span>audioSource</span><span>;</span><br/><span>      public</span><span> </span><span>AudioClip</span><span> </span><span>victory</span><span>;</span></span>  </pre>
<ol start="21">
<li>Create a  <kbd>Start()</kbd> method, as shown here:</li>
</ol>
<pre><span>      void Start () {<br/>          audioSource = GetComponent&lt;AudioSource&gt; ();<br/>      }</span> </pre>
<ol start="22">
<li>Edit the <kbd>Update()</kbd> method, shown as follows. You will notice that we only added an audio clip playback for the victory condition, as we've already taken care of the defeat condition:</li>
</ol>
<pre><span><span>      void</span><span> </span><span>Update</span><span> </span><span>()</span><span> </span><span>{</span><br/><span>          </span><span>beetleCount</span><span> </span><span>=</span><span> </span><span>BeetleManager</span><span>.</span><span>currentBeetleCount</span><span>;</span><br/><span>          </span><span>if</span><span> </span><span>(</span><span>beetleCount</span><span> </span><span>==</span><span> </span><span>0</span><span>)</span><span> </span><span>{</span><br/><span>              </span><span>Victory</span><span>.</span><span>text</span><span> </span><span>=</span><span> </span><span>(</span><span>"</span><span>You</span><span> </span><span>won</span><span>!</span><span>"</span><span>)</span><span>;</span><br/><span>              </span><span>audioSource</span><span>.</span><span>PlayOneShot</span><span> </span><span>(</span><span>victory</span><span>)</span><span>;</span><br/><span>          </span><span>}</span><br/><span><br/>          </span><span>cucumberCount</span><span> </span><span>=</span><span> </span><span>CucumberManager</span><span>.</span><span>currentCucumberCount</span><span>;</span><br/><span><br/>          </span><span>if</span><span> </span><span>(</span><span>cucumberCount</span><span> </span><span>==</span><span> </span><span>0</span><span>)</span><span> </span><span>{</span><br/><span>              </span><span>Victory</span><span>.</span><span>text</span><span> </span><span>=</span><span> </span><span>(</span><span>"</span><span>You</span><span> </span><span>Lost</span><span>!</span><span>"</span><span>)</span><span>;</span><br/><span>          </span><span>}</span><br/><span>      }</span></span> </pre>
<p style="padding-left: 60px">Now that our script changes for the <kbd>VictoryManager</kbd> script file are completed, we need to assign the victory audio clip to the variable we created. Here are the steps:</p>
<ol start="23">
<li>In the <span class="packt_screen">Hierarchy</span> panel, select <kbd>HUD_Canvas</kbd> | <kbd>EndOfGame</kbd> | <span class="packt_screen">Victory</span>.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, scroll until you see the <span class="packt_screen">Victory Manager (Script)</span> component.</li>
<li>Drag the <kbd>victory</kbd> audio clip from the <span class="packt_screen">Project</span> panel's <kbd>Assets</kbd> | <kbd>Audio</kbd> folder to the appropriate spot in the <span class="packt_screen"><span>Victory Manager</span></span> <span class="packt_screen">(Script)</span> <span>component. </span><span>Your </span><span class="packt_screen">Victory Manager (Script)</span> <span>component should look like the following screenshot:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="74" width="422" src="assets/9212a714-f234-4959-9246-ca31f91e0744.png"/></div>
<p><span>You are now ready to test this new functionality by playing the game.</span></p>
<div class="packt_tip">This is an excellent time to save both your scene and your project. </div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Introduction to Unity's lights and shadows</h1>
                </header>
            
            <article>
                
<p>Lighting in games is important as it is what allows GameObjects to be seen. If we did not have lights in our game, the game screen would be completely black. In Unity, it is easy to take lighting for granted because, when we create a new scene, there is a default <span class="packt_screen">Main Camera</span> and a <span class="packt_screen">Directional Light</span>. </p>
<p>Shadows in game worlds are another component that can be taken for granted because Unity's default settings regarding shadows is often sufficient for games. </p>
<p>In this section, we will look at light sources and shadows.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding light sources</h1>
                </header>
            
            <article>
                
<p>In Unity, lights are GameObjects and are available in several different types. Here are the most common types of light sources:</p>
<ul>
<li>Directional light</li>
<li>Point light</li>
<li>Spot light</li>
<li>Area light</li>
</ul>
<p><span>Let's look at each of these lights.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Directional light</h1>
                </header>
            
            <article>
                
<p><span>The Directional light is like the sun. As you can see from the following <span class="packt_screen">Inspector</span> panel, there are several settings that can be adjusted for Directional lights beyond the Transform's <span class="packt_screen">Position</span></span>, <span><span class="packt_screen">Rotation</span></span>, a<span>nd <span class="packt_screen">Scale</span>:</span></p>
<div class="CDPAlignCenter CDPAlign"><img height="338" width="414" src="assets/5aa1f7d5-0c20-4063-9842-d069f0f69bac.png"/></div>
<p>The following table provides information about key settings for Directional lights.</p>
<table>
<tbody>
<tr>
<td><strong>Setting</strong></td>
<td><strong>Details</strong></td>
</tr>
<tr>
<td><span class="packt_screen">Color</span></td>
<td>You can select a color for the light to emit. For realistic outdoor scenes, you would probably use a light yellow color.</td>
</tr>
<tr>
<td><span class="packt_screen">Mode</span></td>
<td>You can select from <span class="packt_screen">Realtime</span>, <span class="packt_screen">Baked</span>, or <span class="packt_screen">Mixed</span> lighting modes. When <span class="packt_screen">Realtime</span> is selected, the direct light is computed each frame during the game. This provides a realistic game experience and is the default mode.</td>
</tr>
<tr>
<td><span class="packt_screen">Intensity</span></td>
<td>Adjust this to control brightness. </td>
</tr>
<tr>
<td><span class="packt_screen">Shadow Type</span></td>
<td>There are three options here: <span class="packt_screen">Soft Shadows</span>, <span class="packt_screen">Hard Shadows</span>, and <span class="packt_screen">No Shadows</span>. <span class="packt_screen">Soft Shadows</span> cast soft edges and avoid the sharp-edged shadows that are cast using <span class="packt_screen">Hard Shadows</span>. As you would expect, <span class="packt_screen">Soft Shadows</span> is more processor-intensive than <span class="packt_screen">Hard Shadows</span>.</td>
</tr>
<tr>
<td><span class="packt_screen">Realtime Shadows</span></td>
<td>This area provides additional control over your shadows.</td>
</tr>
</tbody>
</table>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Point light</h1>
                </header>
            
            <article>
                
<p>Point lights are like light bulbs without lampshades. In fact, they are the ideal type of light to use to simulate a small, local source of light such as a table lamp, wall sconce, or chandelier. As you can see in the following screenshot of the <span class="packt_screen">Inspector</span> panel, you can modify the <span class="packt_screen">Range</span>, <span class="packt_screen">Color</span>, and <span class="packt_screen">Intensity</span>. You can also select from <span class="packt_screen">Realtime</span>, <span class="packt_screen">Baked</span>, or <span class="packt_screen">Mixed</span> render modes:</p>
<div class="CDPAlignCenter CDPAlign"><img height="263" width="386" src="assets/7db0af5b-9b96-4196-aaa8-3b6d5b737ce7.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Spot light</h1>
                </header>
            
            <article>
                
<p>A <span class="packt_screen">Spot</span> light is like a flashlight and provides cone-shaped illumination. This type of light is ideal for simulating flashlights, automobile headlights, plane lights, search lights, and Spot lights. As you can see in the following <span class="packt_screen">Inspector</span> panel screenshot, there is a <span class="packt_screen">Spot Angle</span> property. Spot lights also have properties in common with other types of lights.</p>
<div class="CDPAlignCenter CDPAlign"><img height="328" width="458" src="assets/42ea7d07-aef9-4c88-aefa-fd81b77ea634.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Area light</h1>
                </header>
            
            <article>
                
<p>An <span class="packt_screen">Area (baked only)</span> light is something that is used when you bake images into textures. This type of light is great for simulating light coming out of a building, such as from a window. Area lights are also good for LED stadium lighting. The properties Width and Height, shown in the following screenshot, are not present in <span class="packt_screen">Directional</span>, <span class="packt_screen">Point</span>, and <span class="packt_screen">Spot</span> lights:</p>
<div class="CDPAlignCenter CDPAlign"><img height="242" width="453" src="assets/6fd6f05f-5c13-49ff-92ad-8ea9b8277178.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Shadows</h1>
                </header>
            
            <article>
                
<p>Unity affords us great control over shadows in our game scenes. We can control which objects cast shadows, which objects can receive shadows, and various properties of the shadows. Shadows in Unity closely replicate the way shadows exist in the real world. As discussed earlier in this chapter, there are soft shadows and hard shadows. </p>
<p>Soft shadows result in greater realism, but at the cost of additional computations and processing. Hard shadows provide less realistic, but often acceptable, shadows during a game and are less processor intensive. Hard shadows are easy to identify in a game because the shadows cast will have sharp, blocky shadow edges.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Discovering Unity's special effects</h1>
                </header>
            
            <article>
                
<p>Unity has a great capabilities for special effects in three categories: <span class="packt_screen">Particle System</span>, <span class="packt_screen">Trail Renderer</span>, and <span class="packt_screen">Line Renderer</span>. These are available via the <span class="packt_screen">GameObject</span> | <span class="packt_screen">Effects</span> top menu.</p>
<p>Adding an <span class="packt_screen">Effects</span> component to a GameObject is accomplished by using the <span class="packt_screen">Add Component</span> | <span class="packt_screen">Effects</span> option in the <span class="packt_screen">Inspector</span> panel. As you can see in the following screenshot, the <span class="packt_screen">Particle System</span>, <span class="packt_screen">Trail Renderer</span>, and <span class="packt_screen">Line Renderer</span> options are available via this method. There are also additional options, such as <span class="packt_screen">Lens Flare</span> and <span class="packt_screen">Halo</span>:</p>
<div class="CDPAlignCenter CDPAlign"><img height="199" width="209" src="assets/5c26c352-2b90-41c1-a868-731cbb611090.png"/></div>
<p>In this section, we will discuss <span>the <span class="packt_screen">Particle System </span>and <span class="packt_screen">Trail Renderer </span>effects.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Particle System</h1>
                </header>
            
            <article>
                
<p>Particle Systems use a vast number of tiny 2D images or meshes in a scene to simulate effects such as liquids, smoke, flames, pixie dust, fireworks, and clouds. The basic concept is that one simple 2D image or mesh can be used in large quantities to create a robust and dense visual effect. These 2D images or meshes are the particle, and they collectively form the Particle System. </p>
<p>Each particle in a Particle System is rendered from a specific point and has a limited lifespan. How long this lifespan lasts depends on your implementation, but it typically only lasts a few seconds.</p>
<p>As you can see from the following <span class="packt_screen">Inspector</span> panel screenshot, there are several parameters that allow us to customize the behavior of Particle Systems. We will add a <span class="packt_screen">Particle System</span> to our game later in this chapter:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/a37e9b8a-74bb-4d55-99bb-9d4ac63fec60.png"/></div>
<p>When we add a <span class="packt_screen">Particle System</span> to our scene, Unity presents us with an interface, the <span class="packt_screen">Particle Effect</span> panel, in the lower-right corner of the <span class="packt_screen">Scene</span> view. This interface allows us to play, pause, and stop the Particle simulation, as well as adding additional parameter settings while observing the changes to the simulation:</p>
<div class="CDPAlignCenter CDPAlign"><img height="161" width="209" src="assets/265fc7f7-165c-4482-855c-1a6fab6d88f3.png"/></div>
<div class="packt_infobox">Unity 2018, in beta at the time of this book's publication, has support for GPU instancing of Particle System mesh rendering, support for Orbital Velocity, and enables particle emitter shapes, which permits texture reading for masking and color tinting.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Trail Renderer</h1>
                </header>
            
            <article>
                
<p>A <span class="packt_screen">Trail Renderer</span> is a visual effect that creates a trail behind a GameObject as it moves. Classic examples of this are a jet's afterburner, a car's exhaust, and the Tasmanian Devil's visual swoosh (dust cloud). The following <span class="packt_screen">Inspector</span> panel screenshot illustrates the parameters that can be manipulated to customize a <span class="packt_screen">Trail Renderer</span>:</p>
<div class="CDPAlignCenter CDPAlign"><img height="421" width="314" src="assets/c0f6f962-5560-478e-914d-a572ebe494f9.png"/></div>
<p>The primary <span class="packt_screen">Trail Renderer</span> settings are described here:</p>
<table>
<tbody>
<tr>
<td><strong>Setting</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><span class="packt_screen">Cast Shadows</span></td>
<td>There are four options here: <span class="packt_screen">On</span>, <span class="packt_screen">Off</span>, <span class="packt_screen">Two-Sided</span>, and <span class="packt_screen">Shadows Only</span>. The default setting is <span class="packt_screen">On</span>.</td>
</tr>
<tr>
<td><span class="packt_screen">Receive Shadows</span></td>
<td>This is an on/off toggle.</td>
</tr>
<tr>
<td><span class="packt_screen">Materials</span></td>
<td>You can select a particle shader for the material and adjust the size.</td>
</tr>
<tr>
<td><span class="packt_screen">Time</span></td>
<td>This setting defines the length of the trail.</td>
</tr>
<tr>
<td><span class="packt_screen">Autodestruct</span></td>
<td>You can select this option to have the trail GameObject destroyed once it has been idle for the number of seconds set in the <span class="packt_screen">Time</span> setting.</td>
</tr>
</tbody>
</table>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding visual effects to our game</h1>
                </header>
            
            <article>
                
<p>Our game already has a <span class="packt_screen">Directional</span> light and, as discussed earlier in this chapter, it acts like the sun—shining light from high above our terrain. The shadows from our Cucumber Man, Cucumber Beetles, cherries, cherry trees, and cucumber patches can be seen on the grass. We do not need to make any changes to them.</p>
<p>The visual effects changes we will make in this section are:</p>
<ul>
<li>Adding a Point light to our cherry trees</li>
<li>Adding a special effect using the Particle System</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding a Point light to our cherry trees</h1>
                </header>
            
            <article>
                
<p>Currently, the Cucumber Man can walk up to and under the cherry trees in our sandbox area. Those trees are very dense and, because the only source of light comes from our directional light, it is too dark for the Cucumber Man to see the cherries he is picking from the tree. This is just simulated for the sake of adding a point light. So, we will use the following steps to add a point light to our cherry trees in the sandbox area of our scene:</p>
<ol>
<li>In <span class="packt_screen">Scene</span> view, navigate to a cherry tree and zoom in so that you can see the base of the tree</li>
<li>Using the top menu, select <span class="packt_screen">GameObject</span> | <span class="packt_screen">Light</span> | <span class="packt_screen">Point Light</span></li>
<li>Relocate the <span class="packt_screen">Point Light</span> so that it is at the center of the tree trunk</li>
</ol>
<p> </p>
<ol start="4">
<li>In the <span class="packt_screen">Inspector</span> panel, select a <span class="packt_screen">Color</span> such as a light red</li>
<li>In the <span class="packt_screen">Inspector</span> panel, change the <span class="packt_screen">Range</span> to <kbd>11</kbd></li>
<li>In the <span class="packt_screen">Inspector</span> panel, increase the <span class="packt_screen">Intensity</span> to <kbd>30</kbd></li>
<li>Reposition the point light so that it looks similar to the following image:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="351" width="563" src="assets/01c70dce-f4e4-4ac1-a27d-094ac6884f9e.png"/></div>
<p>Repeat steps 1 through 7 for each cherry tree in your sandbox area. Test your game in game mode to see the results.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Add a special effect using the Particle System</h1>
                </header>
            
            <article>
                
<p>In this section, we will add a particle system to our spawn pads so that a special effect is attached to them. Here are the steps:</p>
<ol>
<li>In <span class="packt_screen">Scene</span> view, navigate to a spawn pad and zoom in so you can see the pad clearly.</li>
<li>Using the top menu, select <span class="packt_screen">GameObject</span> | <span class="packt_screen">Effects</span> | <span class="packt_screen">Particle System</span>.</li>
<li>Relocate the <span class="packt_screen">Particle System</span> so that it is at the center and base of the spawn pad.</li>
</ol>
<p> </p>
<ol start="4">
<li>In the <span class="packt_screen">Hierarchy</span> panel, drag the <span class="packt_screen">Particle System</span> so that it is subordinate to a spawn pad.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, click the settings cog in the <span class="packt_screen">Transform</span> component and select <span class="packt_screen">Reset</span>. This resets the position of the <span class="packt_screen">Particle System</span> to the <span class="packt_screen">Transform</span> of the spawn pad.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, select a <span class="packt_screen">Color</span> that contrasts with the red of the spawn pad and the green of the terrain and cherry tree, such as blue.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, change the <span class="packt_screen">Max Particles</span> to <kbd>10,000</kbd>.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, increase the <span class="packt_screen">Shape</span> | <span class="packt_screen">Shape</span> to <span class="packt_screen">Edge</span>.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, increase the <span class="packt_screen">Shape</span> | <span class="packt_screen">Radius</span> to <span class="packt_screen">1.5</span>.</li>
</ol>
<p>When completed, your Particle System should look similar to the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img height="453" width="172" src="assets/8df633b0-a375-41dd-bab2-486c31106a41.png"/></div>
<p><span>Repeat steps 1 through 9 for each spawn pad in your sandbox area.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we planned and implemented audio and visual effects to enhance the overall gameplay. Specifically, we added audio to key events in our combat system and added lighting and particle special effects. We started with an overview of Unity's Audio System, then planned and implemented our game's audio. We then shifted to an introduction to lights and shadows in Unity and covered selected special effects. We concluded by adding a <span class="packt_screen">Point</span> light to our cherry trees and a special effect to our spawn pads.</p>
<p>In <a href="e8407796-3bbd-4f54-bbcc-e1bd89284de5.xhtml" target="_blank">Chapter 13</a>, <em>Optimizing Our Game for Deployment</em>, you will learn how to diagnose performance problems and how to optimize scripts and graphic rendering. You will also learn how to deploy your game to multiple platforms.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </body></html>