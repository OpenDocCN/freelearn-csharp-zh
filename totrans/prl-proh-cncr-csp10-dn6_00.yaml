- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Parallel programming and concurrency have become prevalent in modern software
    development. In this book, you will learn how to leverage the latest asynchronous,
    parallel, and concurrency features in .NET 6 when building your next application.
    We will explore the power of multithreaded C# development patterns and practices.
    By exploring the benefits and challenges of threading in .NET through concise,
    real-world examples, choosing the right option for your project will become second
    nature.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 并行编程和并发在现代软件开发中变得非常普遍。在本书中，您将学习如何在构建下一个应用程序时利用 .NET 6 中的最新异步、并行和并发功能。我们将探讨多线程
    C# 开发模式和最佳实践的强大之处。通过通过简洁的实际示例探索 .NET 中线程的优点和挑战，为您的项目选择正确的选项将变得习以为常。
- en: You have many choices when introducing multithreading to a new or existing .NET
    application. The goal of this book is to not only teach you how to use parallel
    programming and concurrency in C# and .NET but also to help you understand which
    of the constructs to choose for a given scenario. Whether you are developing for
    desktop, mobile, the web, or the cloud, performance and responsiveness are key
    to the success of an application. This book will help every type of C# developer
    to scale their applications to their users’ needs and avoid the pitfalls often
    encountered with multithreaded development.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在向新的或现有的 .NET 应用程序引入多线程时，您有许多选择。本书的目标不仅是教会您如何使用 C# 和 .NET 中的并行编程和并发，还帮助您了解在特定场景下应选择哪种结构。无论您是为桌面、移动、网页还是云应用开发，性能和响应性都是应用程序成功的关键。本书将帮助所有类型的
    C# 开发者将他们的应用程序扩展到用户的需求，并避免在多线程开发中经常遇到的陷阱。
- en: Who this book is for
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书面向对象
- en: This book is for beginner- to intermediate-level .NET developers who want to
    employ the latest parallel and concurrency features in .NET when building their
    applications. You should have a solid understanding of the C# language and some
    version of the .NET Framework or .NET Core.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向希望在使用 .NET 构建应用程序时采用最新并行和并发特性的初学者到中级水平的 .NET 开发者。您应该对 C# 语言有扎实的理解，并熟悉 .NET
    Framework 或 .NET Core 的某个版本。
- en: What this book covers
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖内容
- en: '[*Chapter 1*](B18552_01_ePub.xhtml#_idTextAnchor014), *Managed Threading Concepts*,
    covers the basics of working with managed threading in .NET. We will discuss how
    to create and destroy threads, handle exceptions, synchronize data, and the objects
    provided by .NET to handle background operations. You will gain a basic understanding
    of how threads can be managed in a .NET application. Practical examples in this
    chapter will illustrate how to use managed threading in C# projects.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 1 章*](B18552_01_ePub.xhtml#_idTextAnchor014)，*托管线程概念*，涵盖了在 .NET 中使用托管线程的基础知识。我们将讨论如何创建和销毁线程、处理异常、同步数据和
    .NET 提供用于处理后台操作的对象。您将获得在 .NET 应用程序中管理线程的基本理解。本章中的实际示例将说明如何在 C# 项目中使用托管线程。'
- en: '[*Chapter 2*](B18552_02_ePub.xhtml#_idTextAnchor034), *Evolution of Multithreaded
    Programming in .NET*, introduces some of the concepts and features that will be
    explored in more depth in later chapters, including async/await, concurrent collections,
    and parallelism. You will learn how their options are expanded when selecting
    how to approach concurrency in applications.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 2 章*](B18552_02_ePub.xhtml#_idTextAnchor034)，*.NET 中多线程编程的演变*，介绍了将在后续章节中更深入探讨的一些概念和功能，包括
    async/await、并发集合和并行性。您将了解在选择如何处理应用程序中的并发时，它们的选项是如何扩展的。'
- en: '[*Chapter 3*](B18552_03_ePub.xhtml#_idTextAnchor061), *Best Practices for Managed
    Threading*, covers some best practices when it comes to integrating managed threading
    concepts. We will cover important concepts such as static data, deadlocks, and
    exhausting managed resources. These are all areas that can lead to unstable applications
    and unexpected behavior. You will be given practical advice to avoid these pitfalls.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 3 章*](B18552_03_ePub.xhtml#_idTextAnchor061)，*托管线程的最佳实践*，涵盖了在整合托管线程概念时的一些最佳实践。我们将涵盖静态数据、死锁和耗尽托管资源等重要概念。这些都是可能导致应用程序不稳定和意外行为的问题。您将获得避免这些陷阱的实际建议。'
- en: '[*Chapter 4*](B18552_04_ePub.xhtml#_idTextAnchor072), *User Interface Responsiveness
    with Threading*, explains how to use ThreadPool in .NET. The real-world examples
    in this chapter will give you valuable options for ensuring UI responsiveness
    in your .NET applications.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 4 章*](B18552_04_ePub.xhtml#_idTextAnchor072)，*使用线程池提高用户界面响应性*，解释了如何在 .NET
    中使用线程池。本章中的实际示例将为您提供确保 .NET 应用程序中 UI 响应性的宝贵选项。'
- en: '[*Chapter 5*](B18552_05_ePub.xhtml#_idTextAnchor082), *Asynchronous Programming
    with C#*, explains asynchronous programming in C# and explores the best use of
    tasks in .NET.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 6*](B18552_06_ePub.xhtml#_idTextAnchor098), *Parallel Programming
    Concepts*, delves deeper into the **Task Parallel Library** (**TPL**) and tasking
    concepts.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 7*](B18552_07_ePub.xhtml#_idTextAnchor120), *Task Parallel Library
    (TPL) and Dataflow*, introduces the TPL Dataflow Library and illustrates some
    common patterns for its use through in-depth examples.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 8*](B18552_08_ePub.xhtml#_idTextAnchor130), *Parallel Data Structures
    and Parallel LINQ (PLINQ)*, explores some of .NET’s useful features, including
    **Parallel LINQ** (**PLINQ**). Follow along with some practical examples of PLINQ
    in C#.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 9*](B18552_09_ePub.xhtml#_idTextAnchor146), *Working with Concurrent
    Collections in .NET*, dives deeper into some of the concurrent collections that
    help provide data integrity when using concurrency and parallelism in your code.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 10*](B18552_10_ePub.xhtml#_idTextAnchor158), *Debugging Multithreaded
    Applications with Visual Studio*, teaches you how to use the power of Visual Studio
    when debugging multithreaded .NET applications. This chapter will explore the
    tools in detail through concrete examples.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 11*](B18552_11_ePub.xhtml#_idTextAnchor173), *Canceling Asynchronous
    Work*, dives deeper into the different methods available to cancel concurrent
    and parallel work with .NET. You will gain a deep understanding of how to safely
    cancel asynchronous work.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 12*](B18552_12_ePub.xhtml#_idTextAnchor186), *Unit Testing Async,
    Concurrent, and Parallel Code*, provides some concrete advice and real-world examples
    of how developers can unit test code that employs multithreaded constructs. These
    examples will illustrate how unit tests can still be reliable while covering code
    that performs multithreaded operations.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: To get the most out of this book
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To follow along with the examples in this book, the following software is recommended
    for Windows developers:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: Visual Studio 2022 version 17.0 or later
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: .NET 6
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: While these are recommended, if you have the .NET 6 SDK installed, you can use
    your preferred editor for most of the examples. For example, Visual Studio 2022
    for Mac on macOS 10.13 or later, JetBrains Rider, or Visual Studio Code will work
    just as well. However, for any WPF or WinForms projects, Visual Studio and Windows
    are required. Newer versions of Visual Studio and .NET, when they are released,
    should also work with the examples in this book.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: You are expected to have a foundational knowledge of C# and .NET with a working
    knowledge of **Language Integrated Query** (**LINQ**).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/B18552_Preface_table.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
- en: 'The most recent Visual Studio 2022 install instructions and prerequisites can
    always be found on Microsoft Docs here: [https://docs.microsoft.com/visualstudio/install/install-visual-studio?view=vs-2022](https://docs.microsoft.com/visualstudio/install/install-visual-studio?view=vs-2022).'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code from the book’s GitHub repository (a link
    is available in the next section). Doing so will help you avoid any potential
    errors related to the copying and pasting of code.**'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: 'If you are unfamiliar with LINQ, there is a great C# reference on Microsoft
    Docs to get you started before working through the examples in this book: [https://docs.microsoft.com/dotnet/csharp/programming-guide/concepts/linq/](https://docs.microsoft.com/dotnet/csharp/programming-guide/concepts/linq/).'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: 'After reading this book, I would also recommend exploring the posts on the
    .NET Parallel Programming team blog. Most of the articles are several years old,
    but they explore the thinking behind many of the decisions made when building
    the .NET libraries that expose parallel programming constructs: [https://devblogs.microsoft.com/pfxteam/](https://devblogs.microsoft.com/pfxteam/).'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: Download the example code files
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Parallel-Programming-and-Concurrency-with-C-sharp-10-and-.NET-6](https://github.com/PacktPublishing/Parallel-Programming-and-Concurrency-with-C-sharp-10-and-.NET-6).
    If there’s an update to the code, it will be updated in the GitHub repository.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: Download the color images
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We also provide a PDF file that has color images of the screenshots and diagrams
    used in this book. You can download it here: [https://packt.link/Z4GcQ](https://packt.link/Z4GcQ).'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Conventions used
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are a number of text conventions used throughout this book.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: '`Code in text`: Indicates code words in the text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: “By calling `ThreadPool.SetMaxThreads`, you can change
    the maximum values for `workerThreads` and `completionPortThreads`.”'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[PRE3]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[PRE4]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[PRE9]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '[PRE10]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[PRE11]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[PRE12]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[PRE13]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[PRE14]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[PRE15]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '[PRE16]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For instance, words in menus or dialog boxes appear in **bold**. Here is an example:
    “Let’s look at a quick example of how to implement this in our **CancellationPatterns**
    project.”'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: Tips or important notes
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
- en: Appear like this.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: Get in touch
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](mailto:customercare@packtpub.com) and
    mention the book title in the subject of your message.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：如果您对本书的任何方面有疑问，请通过电子邮件发送至[customercare@packtpub.com](mailto:customercare@packtpub.com)，并在邮件主题中提及书名。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    and fill in the form.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们将非常感激您能向我们报告。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com)
    with a link to the material.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果您在互联网上发现我们作品的任何非法副本，我们将非常感激您能提供位置地址或网站名称。请通过[copyright@packt.com](mailto:copyright@packt.com)与我们联系，并提供材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share Your Thoughts
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享您的想法
- en: Once you’ve read *Parallel Programming and Concurrency with C# 10 and .NET 6*,
    we’d love to hear your thoughts! Please [click here to go straight to the Amazon
    review page](https://packt.link/r/1803243678) for this book and share your feedback.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您阅读了《使用 C# 10 和 .NET 6 进行并行编程和并发》，我们很乐意听到您的想法！请[点击此处直接访问此书的亚马逊评论页面](https://packt.link/r/1803243678)并分享您的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 您的评论对我们和科技社区都非常重要，并将帮助我们确保我们提供高质量的内容。
