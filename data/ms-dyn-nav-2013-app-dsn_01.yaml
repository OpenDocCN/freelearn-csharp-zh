- en: Chapter 1. Introduction to Microsoft Dynamics NAV
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章. Microsoft Dynamics NAV简介
- en: Once upon a time; this is how fairytales often start and even though the story
    of Microsoft Dynamics NAV is everything but a fairytale, it sure has some magic.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 从前有座山，这个故事往往从这里开始，尽管Microsoft Dynamics NAV的故事远非童话，但它确实有一些神奇之处。
- en: With more than 100,000 installations, it is one of the most popular ERP packages
    in the mid-market. In this book, we will go through the magic of the Dynamics
    NAV application. We'll see how Dynamics NAV will give better information on how
    our business is doing and provide a better insight where processes can be optimized
    or need to be changed.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 超过10万次的安装量，使其成为中端市场最受欢迎的ERP软件包之一。在这本书中，我们将探讨Dynamics NAV应用程序的神奇之处。我们将看到Dynamics
    NAV如何提供更好的信息来了解我们的业务状况，并提供更好的洞察力，以优化或需要改变的过程。
- en: In this chapter, we'll discuss the basic principles of the Microsoft Dynamics
    NAV application, how it's structured, and why. After reading this chapter, you
    will have a better understanding of what to expect when implementing and designing
    for Microsoft Dynamics NAV.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论Microsoft Dynamics NAV应用程序的基本原则，它的结构以及原因。阅读本章后，您将更好地了解在实施和设计Microsoft
    Dynamics NAV时可以期待什么。
- en: Versions and history
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 版本和历史
- en: At the time of publishing this book, Microsoft Dynamics NAV 2013R2, is the most
    recent version of the product. When the Windows version was first introduced in
    1995, the product was called Navision Financials 1.0\. The Danish software company
    that originally developed the product, Navision Software A/S, was not yet acquired
    by Microsoft and it was a revolution. It was a full Windows product and had all
    basic functionality that small companies needed. It is important to understand
    that the original version was targeted at smaller companies.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书出版时，Microsoft Dynamics NAV 2013R2是产品的最新版本。当Windows版本首次在1995年推出时，该产品被称为Navision
    Financials 1.0。最初开发该产品的丹麦软件公司Navision Software A/S尚未被微软收购，这是一场革命。它是一个完整的Windows产品，拥有小型公司所需的所有基本功能。重要的是要理解，原始版本的目标是针对小型公司。
- en: Since then, we have had many (20+) versions. All new versions contained new
    functionality and with it the product has become more mature and suitable for
    bigger companies as well. This was especially empowered with the support of the
    Microsoft SQL Server platform, allowing more concurrent users to work in the same
    application areas.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 从那时起，我们已经推出了许多（20多个）版本。所有新版本都包含了新的功能，随着产品的成熟，它也更适合大型公司。这得益于Microsoft SQL Server平台的支持，使得更多并发用户可以在同一应用程序区域中工作。
- en: Until Version 5.0, the technology of the product did not change. The original
    intention of Microsoft was to release a new technology platform together with
    new functional changes. This turned out to be a very difficult task so they decided
    to split the technology into two releases. Version 5.0 contained new functionality
    and improvements while Version 2009, or 6.0, which is the technical release number,
    was a technology release.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 直到5.0版本，产品的技术并未发生变化。微软的初衷是同时发布一个全新的技术平台和新的功能变更。但结果证明这是一个非常困难的任务，因此他们决定将技术分为两个版本发布。5.0版本包含了新的功能和改进，而2009版，或称6.0版，作为技术发布号，则是一个技术发布。
- en: The technical challenge was to migrate from the old C++ platform to .NET and
    to move from a two tier to a three tier technology. This was also the first release
    with a drastic change in the user interface. Microsoft Dynamics NAV 2009 contains
    an entirely new user interface, the Role Tailored Client, which is built new from
    the ground up — the existing (classic) user interface is the same with no changes.
    During this migration process, all application functionality was frozen although
    small improvements and bug fixes were made in 2009 SP1.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 技术挑战是从旧的C++平台迁移到.NET，并从两层架构迁移到三层架构。这也是第一个用户界面发生重大变化的发布。Microsoft Dynamics NAV
    2009包含了一个全新的用户界面，即角色定制客户端，它是从头开始全新构建的——现有的（经典）用户界面保持不变，没有任何改动。在这次迁移过程中，尽管在2009
    SP1中进行了小的改进和错误修复，但所有应用程序功能都被冻结。
- en: With Microsoft Dynamics NAV 2013, we have entered a new era where the transformation
    is complete. The product is converted to .NET and even supports limited use of
    DotNet Interoperability directly from the C/AL programming language. The classic
    user interface is discontinued as is the native database.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Microsoft Dynamics NAV 2013，我们已经进入了一个全新的时代，其中转型已经完成。产品已转换为 .NET，甚至支持从 C/AL
    编程语言直接使用 DotNet 互操作性。经典用户界面和本地数据库都已停止使用。
- en: This book supports functionality from the 2013 release although most concepts
    relate back to the older versions.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本书支持 2013 版本的功能，尽管大多数概念都与旧版本相关。
- en: What is this book about
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书的内容是什么
- en: The title of the book is Microsoft Dynamics NAV 2013 Application Design. What
    does application design mean? And what does it mean in Microsoft Dynamics NAV
    2013?
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本书标题为《Microsoft Dynamics NAV 2013 应用设计》。应用设计是什么意思？在 Microsoft Dynamics NAV 2013
    中它又意味着什么？
- en: Microsoft Dynamics NAV 2013 is a complete ERP package, but unlike other ERP
    packages, it has a design capable of providing an open structure and a development
    platform. The idea is to provide 80 percent of the solution out of the box and
    allow the other 20 percent to be designed by qualified business application developers.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV 2013 是一个完整的 ERP 软件包，但与其他 ERP 软件包不同，它具有提供开放结构和开发平台的设计能力。其理念是提供
    80% 的解决方案，并允许其他 20% 由合格的商业应用开发者设计。
- en: The partner channel is a unique part of Microsoft Dynamics NAV. From the moment
    Navision was introduced, company management decided that it would only make sense
    to have an indirect selling model and to let the resellers (called partners) have
    the availability to change the product and add new functionalities.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 合作渠道是 Microsoft Dynamics NAV 的一个独特部分。自从 Navision 上市以来，公司管理层就决定，只有采用间接销售模式，并让分销商（称为合作伙伴）有权更改产品并添加新功能，才具有实际意义。
- en: This book is about both the 80 percent and the 20 percent. We'll see that the
    percentages differ per industry where it is applied. Some industries have close
    to a 100 percent fit while others have a need for an 80 percent development.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本书既涉及 80%，也涉及 20%。我们将看到，应用这些百分比时，不同行业会有所不同。有些行业几乎达到 100% 的匹配，而其他行业则需要 80% 的开发。
- en: So there is a very thin line in this book between using the standard application
    and designing changes and expanding the product. Although this is not a development
    book, we'll dive into code and objects in almost every chapter.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，本书在标准应用程序的使用与设计更改、扩展产品之间有一条非常细的界限。尽管这不是一本开发书，但我们几乎在每一章都会深入探讨代码和对象。
- en: Reading this chapter will be more than enough to understand the code but if
    you want to know more, we highly recommend reading *Programming Microsoft Dynamics
    NAV 2013*, *David A. Studebaker*, *Christopher D. Studebaker*, *Packt Publishing*.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读本章将足以理解代码，但如果您想了解更多，我们强烈推荐阅读《Programming Microsoft Dynamics NAV 2013》，作者 David
    A. Studebaker、Christopher D. Studebaker，出版社 Packt Publishing。
- en: This book is not a manual for Microsoft Dynamics NAV 2013\. It will give you
    a clear idea of how the structure of the application is laid out and about its
    possibilities. We do not want to replace or rewrite the Microsoft documentation
    but rather want to provide ideas that you might not have thought about.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 本书不是 Microsoft Dynamics NAV 2013 的手册。它将向您清晰地展示应用程序结构的布局及其可能性。我们不想取代或重写 Microsoft
    文档，而是想提供您可能未曾考虑过的想法。
- en: Setup versus customization
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置与定制
- en: In Microsoft Dynamics NAV, the line between implementing and developing is very
    thin. Where you would perform a lot of setup in other ERP packages, you'll see
    that it often makes more sense in Dynamics NAV to make a change with the development
    tools.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Microsoft Dynamics NAV 中，实施和开发之间的界限非常模糊。在其他 ERP 软件包中，您可能会进行大量的设置，但在 Dynamics
    NAV 中，使用开发工具进行更改通常更有意义。
- en: The standard package is very complete in its functionality but does not support
    all industries. It is more a framework for partners to work with. In this book,
    we will explain this framework and what philosophy it is built on. Understanding
    this philosophy is critical to knowing how to expand the functionality.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 标准包在功能上非常完整，但并不支持所有行业。它更多的是为合作伙伴工作的框架。在本书中，我们将解释这个框架及其构建的哲学。理解这个哲学对于了解如何扩展功能至关重要。
- en: However, expanding the functionality means customizing the application. Do end
    users in 2013 still want customized applications? Mostly, they will say they don't
    want their software customized, but in the next breath, they will say that the
    software should change to match their way of doing business, and that they should
    have to change their business to fit the software.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，扩展功能意味着定制应用程序。2013年的最终用户是否仍然想要定制应用程序？大多数情况下，他们会说他们不希望他们的软件被定制，但紧接着，他们会说软件应该改变以适应他们的业务方式，并且他们应该不得不改变他们的业务以适应软件。
- en: This is why Microsoft pushes their partners to create horizontal and vertical
    solutions on top of the standard product and release these solutions as products
    with their own versions as if they were a part of the standard applications. This
    way of using the partner channel is a unique concept that has proven to be very
    successful and make Microsoft Dynamics NAV useable in almost any industry.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 正因如此，微软推动他们的合作伙伴在标准产品之上创建水平和垂直解决方案，并将这些解决方案作为具有自己版本的独立产品发布，仿佛它们是标准应用程序的一部分。这种使用合作伙伴渠道的方式是一个独特概念，已被证明非常成功，使Microsoft
    Dynamics NAV几乎适用于任何行业。
- en: Most companies, however, have such a unique way of working that they will always
    require more or less customized solutions. The total cost of ownership depends
    on the level of customizations and how these customizations are designed.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，大多数公司都有其独特的工作方式，因此他们总是需要或多或少定制化的解决方案。拥有总成本取决于定制的程度以及这些定制是如何设计的。
- en: The key is in knowing when to do a setup and when to do a customization. Only
    a solid understanding of the application will help you determine which is correct.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 关键在于知道何时进行设置和何时进行定制。只有对应用程序有坚实的理解，才能帮助你确定哪一个是正确的。
- en: After reading this book, you will know how to design your application best to
    have a good balance between cost of ownership and functionality.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读这本书后，你将知道如何设计你的应用程序以在拥有权和功能之间取得良好的平衡。
- en: The beauty of simplicity
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简单之美
- en: As discussed earlier, the application is designed to be expanded and changed
    by external partners. When this partner program was created, a decision was made
    that partners could only do a proper job if the application was completely open
    for them to add and change. This philosophy is very important to understand when
    you first start implementing or changing Microsoft Dynamics NAV.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，应用程序被设计成可以由外部合作伙伴扩展和更改。当创建这个合作伙伴计划时，做出了一项决定，即如果应用程序完全开放供他们添加和更改，合作伙伴才能做好工作。这种理念在开始实施或更改Microsoft
    Dynamics NAV时非常重要。
- en: Partners can change all business logic in the application. They can add new
    fields to tables and create their own tables. The only thing they cannot do is
    delete fields from the tables in the base application.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 合作伙伴可以更改应用程序中的所有业务逻辑。他们可以向表中添加新字段并创建自己的表。他们唯一不能做的是从基础应用程序的表中删除字段。
- en: As you can see, Microsoft Dynamics NAV is an extremely flexible and open product
    with a lot of freedom. But with freedom comes responsibilities. In Dynamics NAV,
    you are responsible for the housekeeping in your system.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，Microsoft Dynamics NAV是一个极其灵活和开放的产品，拥有很多自由。但自由伴随着责任。在Dynamics NAV中，你负责你系统中的维护工作。
- en: Horizontal versus vertical solutions
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 水平解决方案与垂直解决方案
- en: Because of this open system, partners have created thousands of smaller and
    larger changes to the system. Some of these changes were bundled into new functional
    pieces and called add-ons. These add-ons are often solutions that change Dynamics
    NAV into a product for a specific industry rather than a generic ERP system. Other
    add-ons are specific features that can be used in all industries such as EDI or
    workflow. Microsoft calls the industry specific add-ons verticals and the generic
    add-ons horizontals.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个开放系统，合作伙伴已经对系统进行了数千次大小不同的更改。其中一些更改被捆绑成新的功能组件，并被称为附加组件。这些附加组件通常是改变Dynamics
    NAV成为特定行业产品而不是通用ERP系统的解决方案。其他附加组件是可以在所有行业中使用的特定功能，例如EDI或工作流。微软将这些特定行业的附加组件称为垂直解决方案，将通用附加组件称为水平解决方案。
- en: Open source
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 开源
- en: Even though Dynamics NAV has an open source for their partners, it does not
    come fully equipped with a development environment like most developers are used
    to. It has a customization tool that lets you customize the application like you
    would customize another ERP system with settings. This customization tool is a
    basic tool that is nice to work with but misses some development features such
    as version control or IntelliSense. This makes it more difficult to keep track
    of your changes. We will discuss how to use Team Foundation Server for Object
    Versioning in [Chapter 10](ch10.html "Chapter 10. Application Design"), *Application
    Design*.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管Dynamics NAV为合作伙伴提供了开源，但它并没有配备像大多数开发者所习惯的开发环境。它有一个定制工具，允许你像定制另一个ERP系统一样定制应用设置。这个定制工具是一个基本工具，使用起来很方便，但缺少一些开发功能，如版本控制或IntelliSense。这使得跟踪你的更改变得更加困难。我们将在第10章“应用设计”中讨论如何使用Team
    Foundation Server进行对象版本控制，[第10章](ch10.html "第10章。应用设计")。
- en: Design patterns
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设计模式
- en: When customizing Microsoft Dynamics NAV, you can use proven concepts in the
    application. These proven concepts are called design patterns. There are three
    types of design patterns.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 当定制Microsoft Dynamics NAV时，你可以使用应用中的经过验证的概念。这些经过验证的概念被称为设计模式。有三种类型的设计模式。
- en: Architectural patterns
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 架构模式
- en: Architectural patterns are the main data processes and table structures. Examples
    are master data, singleton tables, documents, and posting and archiving processes.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 架构模式是主要的数据处理和表结构。例如，主数据、单例表、文档以及过账和存档流程。
- en: Design patterns
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设计模式
- en: Although this is the name that people use for the entire concept, design patterns
    are reusable elements to solve specific problems, such as number series and blocked
    entity.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这个名字是人们用来指代整个概念的名称，但设计模式是可重用的元素，用于解决特定问题，如数字序列和阻塞实体。
- en: Implementation patterns
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实现模式
- en: Different development techniques are called implementation patterns. Examples
    are proxy, façade, temporary datasets, and hooks.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的开发技术被称为实现模式。例如，代理、外观、临时数据集和钩子。
- en: APIs
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: APIs
- en: '**Application programming interfaces** (**API**s) are reusable blocks of code
    that generally do not change. They are as important to know to work with Dynamics
    NAV as .NET libraries are to work in C#. Within Microsoft Dynamics NAV, we have
    several building blocks that are reused but not changed. Examples are address
    formatting and the navigate page.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**应用程序编程接口**（**API**）是一般不会改变的代码块，它们对于使用Dynamics NAV来说与.NET库对于在C#中工作一样重要。在Microsoft
    Dynamics NAV中，我们有一些可重用但不会改变的构建块。例如，地址格式化和导航页面。'
- en: Structure of this book
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书结构
- en: This book will cover most functional elements of Dynamics NAV in a number of
    vertical industries. We will do this in a supply chain matrix. The specific industries
    we will look at are fashion, automotive, medicines, food, and furniture. For production
    and trade, we will look at the general process, and we will see how consultancy
    and distribution companies help in this process.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 本书将涵盖Dynamics NAV在多个垂直行业中的大多数功能元素。我们将通过供应链矩阵来完成这项工作。我们将研究的具体行业包括时尚、汽车、药品、食品和家具。对于生产和贸易，我们将研究一般流程，并了解咨询公司和分销公司如何帮助这一流程。
- en: 'The following diagram shows how this book is structured:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了本书的结构：
- en: '![Structure of this book](img/0365EN_01_01.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![本书结构](img/0365EN_01_01.jpg)'
- en: For all these industries, we will look at what parts of the standard product
    can be utilized and where we need vertical solutions. We'll discuss how these
    vertical solutions will interface with the standard package or maybe even change
    the behavior of the standard product.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 对于所有这些行业，我们将研究标准产品中哪些部分可以被利用，以及我们需要在哪些地方提供垂直解决方案。我们将讨论这些垂直解决方案如何与标准包接口，或者甚至可能改变标准产品的行为。
- en: Two parts of the product, however, are so general in their use and usability
    for all industries that we'll discuss them in their own chapter. These are **Financial
    Management** and **Relationship Management**.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，产品的两个部分在用途和易用性上对所有行业都非常通用，我们将单独讨论它们。这些是**财务管理**和**关系管理**。
- en: To emphasize the strength of the vertical concept, we'll design and create a
    vertical solution for a distribution company.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 为了强调垂直概念的优势，我们将为一家分销公司设计和创建一个垂直解决方案。
- en: Now, we will look at some of the basic concepts of the application.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将探讨应用的一些基本概念。
- en: The Role Tailored concept
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 角色定制概念
- en: With the NAV 2009 release, Microsoft marketing decided to introduce the concept
    of Role Tailored ERP. Until now, most ERP systems were module driven, meaning
    the application has an area for finance, CRM, sales, purchasing, and so on. The
    access to the individual modules was separated. A purchaser needs to switch to
    sales in order to see the sales orders.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在NAV 2009版本发布时，微软营销决定引入角色定制ERP的概念。到目前为止，大多数ERP系统都是模块驱动的，这意味着应用程序有一个财务、CRM、销售、采购等区域。对各个模块的访问是分开的。采购人员需要切换到销售才能查看销售订单。
- en: Most people in a company have specialized tasks that the ERP system should support.
    In a classic ERP interface, the users would have to decide themselves the location
    of the parts that they need. This has changed with the introduction of the Role
    Tailored concept.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 公司中的大多数人都有专门的任务，ERP系统应该支持这些任务。在经典的ERP界面中，用户必须自己决定所需部件的位置。随着角色定制概念的引入，这种情况发生了变化。
- en: '![The Role Tailored concept](img/0365EN_01_02.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![角色定制概念](img/0365EN_01_02.jpg)'
- en: This screenshot shows a purchasers' Role Center. As you can see, all information
    for this person in the organization is in one place and usable in a workflow-like
    way. Also, the **Sales Orders** are accessible from the **Main Menu** window.
    It is completely different to the menu found in Version 5.0 or before.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这张截图显示了采购者的角色中心。正如您所看到的，这个人在组织中的所有信息都集中在一个地方，并且可以以类似工作流程的方式使用。此外，**销售订单**可以从**主菜单**窗口访问。这与5.0版本或之前的菜单完全不同。
- en: '![The Role Tailored concept](img/0365EN_01_03.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![角色定制概念](img/0365EN_01_03.jpg)'
- en: However, the Role Tailored concept is not new. Dynamics NAV partners have been
    implementing it for many years. In the classic menu, as seen in the preceding
    screenshot, it was extremely easy to create new menus and most companies implemented
    their own menus per role. When the Microsoft Outlook style menu was introduced
    in Version 4.0, end users could create shortcut Menu Suites, which also quickly
    became role centers. You can clearly see that the Role Tailored concept is like
    coming home for Dynamics NAV.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，角色定制概念并不是新的。Dynamics NAV合作伙伴已经实施它多年。在经典菜单中，如前一张截图所示，创建新菜单非常容易，大多数公司根据角色实施自己的菜单。当在4.0版本中引入Microsoft
    Outlook风格菜单时，最终用户可以创建快捷菜单套件，这些套件也很快成为角色中心。您可以看出，角色定制概念对Dynamics NAV来说就像回家一样。
- en: In Microsoft Dynamics NAV 2013, the Windows Client is no longer referred to
    as the Role Tailored Client as it was in Version 2009\. All available clients
    are Role Tailored.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV 2013中，Windows客户端不再被称为角色定制客户端，就像在2009版本中那样。所有可用的客户端都是角色定制的。
- en: The building blocks
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构成要素
- en: To understand the development examples in this book, we will discuss some of
    the basic building blocks of Microsoft Dynamics NAV 2013.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 为了理解本书中的开发示例，我们将讨论Microsoft Dynamics NAV 2013的一些基本构建块。
- en: '![The building blocks](img/0365EN_01_04.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![构成要素](img/0365EN_01_04.jpg)'
- en: Like all database applications, it starts with tables. They contain all the
    information displayed in a structured way. It is important to understand that
    the tables of Microsoft Dynamics NAV are not completely normalized. The tables
    are structured in the way the user interface works. This makes it easy for nontechnical
    people to understand the data model. We'll discuss the unique structure of the
    application in [Chapter 2](ch02.html "Chapter 2. A Sample Application"), *A Sample
    Application*.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 与所有数据库应用程序一样，它从表开始。它们以结构化的方式包含显示的所有信息。重要的是要理解，Microsoft Dynamics NAV的表并不是完全规范化的。表的结构与用户界面的工作方式相匹配。这使得非技术人员更容易理解数据模型。我们将在[第2章](ch02.html
    "第2章。一个示例应用")中讨论应用的独特结构，“一个示例应用”。
- en: Tables, however, not only contain data, but they contain business logic as well.
    As they are structured like the functionality in the database, tables contain
    simple functions like address validation and more complex functions for VAT and
    discount calculation.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，表不仅包含数据，还包含业务逻辑。由于它们的结构类似于数据库中的功能，表包含简单的功能，如地址验证，以及用于增值税和折扣计算的更复杂的功能。
- en: Whenever functionality gets more complex or can be shared across the application,
    it is better to move them to the codeunit object. These are containers of business
    logic for a special purpose. Tables can also be used as a class without storing
    data. This allows more structured programming.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 当功能变得更加复杂或可以在应用程序中共享时，最好将它们移动到代码单元对象。这些是针对特定目的的业务逻辑容器。表也可以用作类，而不存储数据。这允许更结构化的编程。
- en: 'For the user interface, there are two object types: reports and pages. Reports
    are originally intended to be printed on paper but with the current status of
    technology, they are more and more used as information dashboards, combining management
    information with drill-through possibilities.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 对于用户界面，有两种对象类型：报告和页面。报告最初是打算打印在纸上的，但随着当前技术状况的发展，它们越来越多地被用作信息仪表板，将管理信息与钻取功能相结合。
- en: As the tables are structured in the way the application works, the pages are
    bound to one table. For people new to this concept, it sometimes takes a while
    to get used to this.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 由于表是按照应用程序的工作方式结构化的，页面必然绑定到一个表上。对于新接触这个概念的人来说，有时需要一段时间才能习惯。
- en: The Menu Suite defines the way the navigation is structured when people leave
    their Role Centers and go to the department pages. The Menu Suite is used for
    the **Search** window.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 菜单套件定义了当人们离开角色中心并前往部门页面时导航的结构方式。菜单套件用于**搜索**窗口。
- en: The last object type is an external interface object. XML ports make it possible
    to import and export data in and out of the system.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一个对象类型是外部接口对象。XML端口使得可以在系统和外部之间导入和导出数据。
- en: Query objects are introduced in Microsoft Dynamics NAV 2013 and allow developers
    to define SQL Server SELECT statements on the metadata level that can be used
    in C/AL code. It is possible to join multiple tables into one query. Query objects
    can also be exposed as OData web services.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 查询对象是在Microsoft Dynamics NAV 2013中引入的，允许开发者在元数据级别上定义可用于C/AL代码的SQL Server SELECT语句。可以将多个表合并到一个查询中。查询对象还可以公开为OData
    Web服务。
- en: For this book, the table and page objects are the most important to understand.
    Most of this book, however, can also be applied to older versions but then forms
    should be applied wherever this book addresses pages.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这本书，表和页面对象是最重要的理解对象。然而，这本书的大部分内容也可以应用于旧版本，但此时应将表单应用于本书中提到的页面。
- en: Tables as user interface and business logic
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 作为用户界面和业务逻辑的表
- en: The table object in Microsoft Dynamics NAV is very important. Since it is not
    normalized, it contains a lot of information about how the database works.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV中的表对象非常重要。因为它不是规范化的，所以它包含了大量关于数据库如何工作的信息。
- en: For example, the Job Card (88) is built on one table, the Job (167). This table
    contains all the fields required for this screen.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，工作卡（88）基于一个表，即工作（167）。这个表包含了这个屏幕所需的所有字段。
- en: '![Tables as user interface and business logic](img/0365EN_01_05.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![作为用户界面和业务逻辑的表](img/0365EN_01_05.jpg)'
- en: In a traditional development environment, this screen would have a transaction
    `GetJobData` and `UpdateJobData`. These transactions would read the information
    from the database, map them to the screen, and save the information in the database
    if the user is finished. However, in Microsoft Dynamics NAV, all fields that are
    displayed in the interface are stored in one table. This makes it possible for
    the screen to have built-in triggers to get the data and update the database.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在传统的开发环境中，这个屏幕会有一个事务`GetJobData`和`UpdateJobData`。这些事务会从数据库中读取信息，映射到屏幕上，如果用户完成操作，则将信息保存到数据库中。然而，在Microsoft
    Dynamics NAV中，所有在界面上显示的字段都存储在一个表中。这使得屏幕可以内置触发器来获取数据和更新数据库。
- en: 'The table object then contains the business logic required for this document.
    Let''s have a look at some of the fields in this table:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 表对象随后包含实现此文档所需的所有业务逻辑。让我们看看这个表中的一些字段：
- en: '![Tables as user interface and business logic](img/0365EN_01_06.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![作为用户界面和业务逻辑的表](img/0365EN_01_06.jpg)'
- en: In the preceding screenshot, we can see a lot of fields such as **WIP Method**,
    **Currency Code**, and so on, which are required for a job.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的截图中，我们可以看到许多字段，例如**WIP方法**、**货币代码**等，这些都是完成工作所必需的。
- en: '![Tables as user interface and business logic](img/0365EN_01_07.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![作为用户界面和业务逻辑的表](img/0365EN_01_07.jpg)'
- en: 'When we click on the **C/AL Code** icon and we focus on currency code, we get
    the following result:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们点击**C/AL代码**图标并聚焦于货币代码时，我们得到以下结果：
- en: '[PRE0]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This contains business logic that gets executed every time something happens
    with this field. In this case, the currency factor is recalculated and updated
    in the sales lines.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 这包含在每次此字段发生变化时执行的业务逻辑。在这种情况下，货币因子将被重新计算并在销售行中更新。
- en: So the tables in Microsoft Dynamics NAV are not just data containers, they are
    the foundation for both the business logic and the application workflow.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，Microsoft Dynamics NAV中的表不仅仅是数据容器，它们是业务逻辑和应用工作流程的基础。
- en: Dynamics NAV in throughout supply chain
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Dynamics NAV在供应链中的应用
- en: The Dynamics NAV product is used almost everywhere in the business supply chain.
    This is mainly because it is a highly customizable ERP system. Dynamics NAV is
    used in the classical supply chain companies, such as manufacturing plants, wholesale
    companies, and in retail with or without many changes. But with an add-on, the
    product is also used in transportation companies or in the recycling industry.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: Dynamics NAV产品几乎在商业供应链的每个地方都被使用。这主要是因为它是一个高度可定制的ERP系统。Dynamics NAV用于传统的供应链公司，如制造工厂、批发公司和零售业，无论是否有很大变化。但通过附加组件，该产品也用于运输公司或回收行业。
- en: In order to understand this better, it is important to know how companies work.
    A company is a person or a group of persons using materials and resources to deliver
    a product or a service to other companies or end consumers. A group of companies
    working together is called a supply chain. Dynamics NAV can be used in all these
    companies, although it is traditionally used in companies with five to 250 concurrent
    users.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解这一点，了解公司的工作方式很重要。公司是一个人或一组人使用材料和资源向其他公司或最终消费者提供产品或服务的人或团体。一组共同工作的公司被称为供应链。Dynamics
    NAV可以用于所有这些公司，尽管它传统上用于有5到250个并发用户的公司。
- en: 'In order to serve this process, Dynamics NAV has a list of the following basic
    modules:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 为了服务这一过程，Dynamics NAV有一系列以下基本模块：
- en: '**Financial management**: Traditionally, this was used in companies to comply
    with federal regulations of bookkeeping. For entrepreneurs starting their business,
    this is usually the part they least like. However, good bookkeeping can give a
    clear view on the company''s wellbeing and support strategic decisions with good
    financial information.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**财务管理**：传统上，这被用于公司以符合联邦的簿记法规。对于刚开始创业的创业者来说，这通常是他们最不喜欢的部分。然而，良好的簿记可以清楚地了解公司的状况，并利用良好的财务信息支持战略决策。'
- en: '**Inventory**: Every company that grows will reach a certain point where it
    is no longer possible to handle inventory without a system. Keeping too much inventory
    is very expensive. A good inventory system can help you keep your stock as efficient
    as possible.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**库存**：每个成长中的公司都会达到一个点，那时没有系统就无法处理库存。持有过多的库存非常昂贵。一个好的库存系统可以帮助你尽可能高效地保持库存。'
- en: '**Relationship management (RM)**: When it comes to people, a company is not
    only dealing with customers and vendors. RM will help you keep track of every
    company and person your company is dealing with.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**关系管理（RM）**：当涉及到人时，公司不仅与客户和供应商打交道。RM将帮助您跟踪您的公司所涉及的每一个公司和每个人。'
- en: '**Sales**: The sales process is usually the place where businesses make money.
    The system will help you keep track of orders that your customers place.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**销售**：销售流程通常是企业赚钱的地方。系统将帮助您跟踪客户下订单的情况。'
- en: '**Purchasing**: The purchasing department is usually split in two pieces. One
    piece is the purchasing of goods the company needs for itself. This facility management
    can grow into a business of its own at large companies. The other purchasing part
    is buying the materials and resources you need for your sales process. For some
    trading companies, this can even be a drop shipment process where you never have
    the purchased goods in house.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**采购**：采购部门通常分为两部分。一部分是公司自身所需商品的采购。这种设施管理在大公司中可以发展成为自己的业务。另一部分采购是购买销售过程中所需的材料和资源。对于一些贸易公司，这甚至可以是一个直接发货的过程，你永远不会在仓库里有购买的货物。'
- en: '**Warehouse management**: Warehouses are getting bigger and bigger, making
    the need for a system that supports the picking and put-away process even greater.
    This is usually tightly connected to the sales and purchase process.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**仓储管理**：仓库越来越大，对支持拣选和上架过程的系统的需求也越来越大。这通常与销售和采购过程紧密相连。'
- en: '**Manufacturing**: When you make products yourself, you need a system that
    helps you create a new item from one or more purchased materials and resources.'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**制造**：当你自己制造产品时，你需要一个系统来帮助你从一种或多种购买的物料和资源中创建新的项目。'
- en: '**Jobs**: In some companies, the process of delivering a service is so complex
    that it requires its own administration process. Time and billing is usually a
    very important process for these companies.'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**工作**：在某些公司，提供服务的流程非常复杂，需要自己的管理流程。时间和计费通常是这些公司非常重要的流程。'
- en: '**Service management**: This supports the service process handling warranty
    and necessary periodical maintenance of your items.'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务管理**：这支持处理您的物品的保修和必要的定期维护的服务流程。'
- en: Some basic design patterns
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一些基本设计模式
- en: Microsoft Dynamics NAV has some basic design patterns that are reused throughout
    the application and are necessary to understand the concepts of this book.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV有一些基本的设计模式，这些模式在整个应用程序中被重复使用，并且理解本书的概念是必要的。
- en: Number series
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 编号系列
- en: Databases need unique records. The application has two ways of making this happen.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库需要唯一的记录。应用程序有两种方法来实现这一点。
- en: Some tables have automatic incremental numbering that cannot be influenced.
    These are often accounting tables that have auditable purposes. Examples of these
    tables are G/L entries, G/L registers, and VAT entries.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 一些表有自动递增编号，无法被影响。这些通常是具有可审计目的的会计表。这些表的例子包括总账分录、总账登记簿和增值税分录。
- en: 'The other way is using a flexible alphanumeric code. In some setup tables,
    users are free to create their own numbers like in the location table but most
    of the time, number series functionality is used. These can be influenced by the
    end user depending on their access rights. Let''s have a closer look at them:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种方式是使用灵活的字母数字代码。在一些设置表中，用户可以自由创建自己的编号，就像在位置表中一样，但大多数时候使用编号系列功能。这些功能可以根据最终用户的访问权限进行影响。让我们更详细地看看它们：
- en: '![Number series](img/0365EN_01_08.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![编号系列](img/0365EN_01_08.jpg)'
- en: Users can define their own numbering, usually starting with an alphanumeric
    character. Numbering can be done automatically, manually, or a combination of
    the two. Numbers can have a starting date and incremental number. This way you
    can number your Sales Invoices SI11-0001\. SI means Sales Invoice, 11 means 2011,
    and 0001 is the incremental number.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 用户可以定义自己的编号，通常以一个字母数字字符开始。编号可以是自动的、手动的，或者两者的组合。编号可以有一个起始日期和递增编号。这样，你可以对你的销售发票进行编号，例如SI11-0001。SI代表销售发票，11代表2011年，0001是递增编号。
- en: For example, number series can be linked to each other making it possible to
    have a different number series for national and international customers.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，编号系列可以相互链接，使得可以为国内外客户使用不同的编号系列。
- en: Extended text
  id: totrans-108
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 扩展文本
- en: Most master data tables in Microsoft Dynamics NAV have two description fields,
    but it is possible to add extra text.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV中，大多数主数据表都有两个描述字段，但可以添加额外的文本。
- en: The text can be defined for all languages in the system and made valid for a
    specific period.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 文本可以定义在系统中的所有语言，并使其在特定时期内有效。
- en: 'We can enable or disable using the text for most documents available in the
    system, so we can have some long text for the **Sales Quote** and some shorter
    text for the **Sales Invoice**, as shown in the following screenshot:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以启用或禁用系统中的大多数文档的文本使用，这样我们就可以为**销售报价**提供一些长文本，为**销售发票**提供一些较短的文本，如下面的截图所示：
- en: '![Extended text](img/0365EN_01_09.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![扩展文本](img/0365EN_01_09.jpg)'
- en: Navigate
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 导航
- en: The main reason Microsoft Dynamics NAV consultants like you to use numbers like
    SI11-0001 is because of the **Navigate** functionality. This functionality makes
    it possible to find all information in the database linked to this document. If
    you name your Sales Invoice 110001 and your Purchase Invoice the same, the system
    would not be able to find the information at a detailed level.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV顾问们喜欢您使用像SI11-0001这样的编号的原因是因为**导航**功能。这个功能使得在数据库中找到与该文档相关联的所有信息成为可能。如果您将您的销售发票命名为110001，您的采购发票也是同样的名称，系统将无法在详细级别找到信息。
- en: '![Navigate](img/0365EN_01_10.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![导航](img/0365EN_01_10.jpg)'
- en: When navigating to **Posted Sales Invoice 103006** in the CRONUS Demo database,
    we get all the information that is linked to this number.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 当在CRONUS演示数据库中导航到**过账销售发票103006**时，我们得到与这个编号相关联的所有信息。
- en: Navigation shows both documents and entries. Using the **Show** option, we can
    drill down into the records and go even deeper into the information. Navigation
    is present at most pages that show posted transactions and historical data.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 导航显示文档和条目。使用**显示**选项，我们可以深入到记录中，甚至更深入到信息中。导航存在于大多数显示过账交易和历史数据的页面上。
- en: Setup tables
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置表格
- en: An ERP application can be used in many different ways and to make it work in
    the way we want, we need to set it up correctly. We already discussed that Dynamics
    NAV has far less setup than other ERP packages and is more likely to be changed,
    but nonetheless there is setup work to do.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 一个ERP应用程序可以用多种不同的方式使用，为了使其按我们的意愿工作，我们需要正确设置它。我们已经讨论过，Dynamics NAV 比其他ERP软件包设置要少得多，并且更有可能被更改，但无论如何，还是有设置工作要做。
- en: Every part of the application has its own setup table. There are also some application-wide
    or cross-application setup tables. During the implementation, we need to make
    sure to touch all of these tables. Changing these setups after the implementation
    should be done with great care.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序的每个部分都有自己的设置表。还有一些是应用程序级或跨应用程序的设置表。在实施过程中，我们需要确保触及所有这些表。实施后更改这些设置应非常谨慎。
- en: 'The setup tables use the singleton table design pattern. The following table
    shows all Microsoft Dynamics NAV setup tables grouped by type:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 设置表使用单例表设计模式。以下表格显示了按类型分组的所有 Microsoft Dynamics NAV 设置表：
- en: '| Specific setup tables | Application-wide setup tables |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| 特定设置表 | 应用程序级设置表 |'
- en: '| --- | --- |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| General ledger setupSales & receivables setupPurchases & payables setupInventory
    setupResources setupJobs setupMarketing setupHuman resources setupProduction schedule
    setupFA setupNonstock item setupWarehouse setupService Mgt. setupManufacturing
    setup | Source code setupChange log setupSMTP mail setupApproval setupJob queue
    setupOnline map setupInteraction template setupEmployee portal setupNotification
    setupOrder promising setupBizTalk management setup |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| 总账设置销售与应收账款设置采购与应付账款设置库存设置资源设置工作设置营销设置人力资源设置生产计划设置FA设置非库存项目设置仓库设置服务管理设置制造设置
    | 源代码设置更改日志设置SMTP邮件设置审批设置作业队列设置在线地图设置交互模板设置员工门户设置通知设置订单承诺设置BizTalk管理设置 |'
- en: 'When we open a setup from the application, we see some options, including the
    numbering we discussed earlier:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们从应用程序打开设置时，我们会看到一些选项，包括我们之前讨论的编号：
- en: '![Setup tables](img/0365EN_01_11.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![设置表](img/0365EN_01_11.jpg)'
- en: Posting groups
  id: totrans-127
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 发布组
- en: Microsoft Dynamics NAV is very flexible in its posting to the **General Ledger**.
    This is set up in posting groups. These form a matrix that is filtered out by
    the application.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV 在将其发布到 **总账**方面非常灵活。这是在发布组中设置的。这些形成了一个矩阵，由应用程序筛选出来。
- en: 'Most application areas have one or more posting group tables:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数应用程序区域都有一个或多个发布组表：
- en: Customer posting group
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户发布组
- en: Vendor posting group
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 供应商发布组
- en: Inventory posting group
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 库存发布组
- en: Job posting group
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 招聘发布组
- en: Gen. business posting group
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通用业务发布组
- en: Gen. product posting group
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通用产品发布组
- en: Bank account posting group
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 银行账户发布组
- en: VAT business posting group
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增值税业务发布组
- en: VAT product posting group
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增值税产品发布组
- en: FA posting group
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FA发布组
- en: Tip
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: We'll discuss posting groups in more detail in [Chapter 3](ch03.html "Chapter 3. Financial
    Management"), *Financial Management*.
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们将在 [第 3 章](ch03.html "第 3 章。财务管理") *财务管理* 中更详细地讨论发布组。
- en: Pricing
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 定价
- en: When it comes to pricing and discounts, Microsoft Dynamics NAV has a very simple
    yet effective way of calculating.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 当涉及到定价和折扣时，Microsoft Dynamics NAV 有一种非常简单但有效的方法来计算。
- en: 'All sales and purchase prices are stored in four simple tables:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 所有销售和采购价格都存储在四个简单的表中：
- en: 7002 – Sales Price
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7002 – 销售价格
- en: 7004 – Sales Line Discount
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7004 – 销售行折扣
- en: 7012 – Purchase Price
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7012 – 采购价格
- en: 7014 – Purchase Line Discount
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7014 – 采购行折扣
- en: The system finds the appropriate price by filtering down in these tables. The
    narrower the filter, the more likely the price is applied.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 系统通过在这些表中筛选来找到适当的价格。筛选越窄，价格被应用的可能性就越大。
- en: '![Pricing](img/0365EN_01_12.jpg)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![定价](img/0365EN_01_12.jpg)'
- en: For example, the normal price of item **1972-W** on the item card is 97,480,
    but from **1-1-2011** it is **843,345**.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，项目卡片上项目**1972-W**的正常价格为 97,480，但从 **2011-1-1** 开始为 **843,345**。
- en: The filtering is done in codeunits Sales Price Calc. Mgt. (7000) and Purch.
    Price Calc. Mgt. (7010). We'll discuss this structure in [Chapter 2](ch02.html
    "Chapter 2. A Sample Application"), *A Sample Application*, where we will also
    create such a structure for our own application.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 筛选是在代码单元销售价格计算管理（7000）和采购价格计算管理（7010）中完成的。我们将在 [第 2 章](ch02.html "第 2 章。一个示例应用程序")
    *一个示例应用程序* 中讨论这个结构，我们也将为我们的应用程序创建这样的结构。
- en: Dimensions
  id: totrans-153
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 维度
- en: Throughout the application, an unlimited number of dimensions can be used to
    analyze the data. These dimensions are inherited from master data tables.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 在整个应用程序中，可以使用无限数量的维度来分析数据。这些维度是从主数据表中继承的。
- en: '![Dimensions](img/0365EN_01_13.jpg)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![维度](img/0365EN_01_13.jpg)'
- en: The application has two global dimensions that are directly posted into each
    transaction. Six other dimensions can be defined as shortcut dimensions to be
    directly used in journals and documents. An unlimited number of additional dimensions
    can be added but need to be accessed with additional effort.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序有两个全局维度，这些维度直接过账到每个交易中。另外六个维度可以定义为快捷维度，以便直接在日记账和文档中使用。可以添加无限数量的附加维度，但需要付出额外的努力才能访问。
- en: '![Dimensions](img/0365EN_01_14.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![维度](img/0365EN_01_14.jpg)'
- en: The preceding screenshot shows how Global and Shortcut Dimensions can be used
    in a **Sales Document**.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的截图显示了如何在**销售文档**中使用全局和快捷维度。
- en: Microsoft Dynamics NAV has built in OLAP possibilities. It allows us to create
    cubes to be analyzed within the application or in SQL Server analysis services.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV内置了OLAP功能。它允许我们在应用程序内或SQL Server分析服务中创建用于分析的立方体。
- en: '![Dimensions](img/0365EN_01_15.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![维度](img/0365EN_01_15.jpg)'
- en: Although the cubes can be updated real time during posting, it is highly recommended
    to update them periodically in a batch. Also, the number of dimensions has an
    impact on the performance of the system.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然立方体可以在过账时实时更新，但强烈建议定期批量更新它们。此外，维度的数量会影响系统的性能。
- en: Dimensions were redesigned in Microsoft Dynamics NAV 2013\. The redesign has
    a huge impact on application performance and can reduce database size up to 30
    percent.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV 2013中重新设计了维度。这次重新设计对应用程序性能产生了巨大影响，可以将数据库大小减少高达30%。
- en: Architectural design patterns
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 架构设计模式
- en: Microsoft Dynamics NAV has some specific architectural design patterns principles
    that are very important to understand before you can create your own structure.
    The building blocks are layered and reused and rely on each other in order to
    secure data integrity.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建自己的结构之前，了解Microsoft Dynamics NAV的一些特定架构设计模式原则非常重要。构建块是分层和重复使用的，并且相互依赖以确保数据完整性。
- en: Master data
  id: totrans-165
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 主数据
- en: The data model starts with master data. There are three types or levels of master
    data. They are all used in transactions. We differentiate supplemental, normal,
    and subsidiary master data.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 数据模型从主数据开始。有三种类型或级别的主数据。它们都用于交易。我们区分补充、正常和辅助主数据。
- en: Examples of supplemental data are currencies, locations, and payment terms.
    They often do not use a number series but allow us to create our own unique codes.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 补充数据的例子包括货币、地点和付款条款。它们通常不使用编号系列，但允许我们创建自己的唯一代码。
- en: Examples of master data are G/L Accounts, customers, vendors, items, resources,
    and fixed assets. They are numbered using number series and have their own journal
    structure.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 主数据示例包括总账科目、客户、供应商、项目、资源和固定资产。它们使用编号系列进行编号，并拥有自己的日记账结构。
- en: An example of a supplemental table is the item vendor table.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 补充表格的一个例子是项目供应商表。
- en: Journals
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 日记账
- en: Every transaction starts with a journal. Each journal can contain a number of
    sub-transactions that are treated by the system as one. This way the system is
    able to check, for example, whether the integrity of the system is maintained
    after the transaction is completed.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 每个交易都以日记账开始。每个日记账可以包含多个子交易，这些子交易由系统视为一个整体。这样，系统就能够检查，例如，交易完成后系统的一致性是否得到保持。
- en: 'The following diagram shows how a journal is structured. **PK** means **Primary
    Key**, which is the unique identifier of the table:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了日记账的结构。**PK**代表**主键**，它是表的唯一标识符：
- en: '![Journals](img/0365EN_01_16.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![日记账](img/0365EN_01_16.jpg)'
- en: Every journal can contain one or more templates with one or more batches, allowing
    multiple users to have multiple templates and batches. A journal line has a source
    number field that refers to, for example, the G/L Account number or the item number
    we are changing. When we post the journal, the changes are stored in the entry
    table and all the lines. For the journal, a register is maintained allowing auditors
    to check if the transactions are consistent.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 每个日记账可以包含一个或多个模板，每个模板可以包含一个或多个批次，允许多个用户拥有多个模板和批次。日记账行有一个源编号字段，例如，它引用的是总账科目编号或我们正在更改的项目编号。当我们过账日记账时，更改将存储在分录表中，以及所有行。对于日记账，维护一个登记簿，以便审计师可以检查交易是否一致。
- en: The general ledger
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总账
- en: 'To see how this works in the application, we can go to the **Chart of Accounts**
    and the **General Journals**, as shown in the following screenshot:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看应用程序中它是如何工作的，我们可以转到 **会计科目表** 和 **总分类账**，如下面的截图所示：
- en: '![The general ledger](img/0365EN_01_17.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![总账](img/0365EN_01_17.jpg)'
- en: If we select **G/L Account 1140** and drill down, we will see the details of
    this record.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们选择 **总账科目 1140** 并向下钻取，我们将看到此记录的详细信息。
- en: 'These are created through journals, so let''s open a journal:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是通过日记创建的，所以让我们打开一个日记：
- en: '![The general ledger](img/0365EN_01_18.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![总账](img/0365EN_01_18.jpg)'
- en: This journal contains two documents on the same posting date and the balance
    is zero. When we post this journal, the system will create the ledger entries
    and a register.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 这本日记包含了同一过账日期的两份文件，余额为零。当我们过账这本日记时，系统将创建总账条目和登记簿。
- en: '![The general ledger](img/0365EN_01_19.jpg)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![总账](img/0365EN_01_19.jpg)'
- en: This is the basic building block for Dynamics NAV. Everything in Dynamics NAV
    is built on top of a journal, registers, and entries.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 这是 Dynamics NAV 的基本构建块。Dynamics NAV 中的所有内容都是建立在日记、登记簿和条目之上的。
- en: '![The general ledger](img/0365EN_01_20.jpg)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![总账](img/0365EN_01_20.jpg)'
- en: Balancing
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 平衡
- en: In any ERP system, totaling and balancing is crucial, and whether you are totaling
    the general ledger, customer payments, or inventory, it is important to know the
    balance of each account, customer, or item.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何 ERP 系统中，总计和平衡至关重要，无论你是总计总账、客户付款还是库存，了解每个账户、客户或项目的余额都很重要。
- en: Traditionally, this requires calculating these balances and deciding a place
    to store the totals and subtotals. In Dynamics NAV, the system has built-in technology
    that will handle balancing and totaling for you.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 传统上，这需要计算这些余额并决定一个存储总计和子总计的地方。在 Dynamics NAV 中，系统内置了处理平衡和总计的技术。
- en: This built-in technology is called **Sum Index Field Technology** (**SIFT**).
    For Dynamics NAV, it is the key feature to its success.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 这种内置技术被称为 **求和索引字段技术**（**SIFT**）。对于 Dynamics NAV 来说，这是其成功的关键特性。
- en: The way it works is that, as a developer, you define your totaling on an index
    level. By associating the totaling fields with a key, the system knows that it
    has to maintain the totals for you.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 它的工作方式是，作为开发者，你在索引级别上定义你的总计。通过将总计字段与一个键关联，系统知道它需要为你维护总计。
- en: In the original proprietary database, this technique was built in and invisible
    for the user, but in the SQL Server database, we can see how this works.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在原始的专有数据库中，这项技术是内置的，对用户不可见，但在 SQL Server 数据库中，我们可以看到它是如何工作的。
- en: 'If we go in the CRONUS database and open the **G/L Entry** table with its keys,
    we see this information, as shown in the following screenshot:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们进入 CRONUS 数据库并打开带有其键的 **总账分录** 表，我们会看到以下信息，如下面的截图所示：
- en: '![Balancing](img/0365EN_01_21.jpg)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![平衡](img/0365EN_01_21.jpg)'
- en: 'Let''s take key number two as an example. The key contains the fields G/L Account
    number and posting date. If we take a closer look at the **SumIndexFields** column,
    we see the following fields listed:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以第二个键为例。该键包含总账科目编号和过账日期字段。如果我们仔细查看 **SumIndexFields** 列，我们会看到以下字段列出：
- en: '![Balancing](img/0365EN_01_22.jpg)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![平衡](img/0365EN_01_22.jpg)'
- en: Notice that these are all fields of type decimal. This is mandatory for `SumIndexfields`.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，这些都是十进制类型的字段。这是 `SumIndexfields` 的强制性要求。
- en: Tip
  id: totrans-196
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: From the SQL Server Management studio, you can see the generated data from the
    `SumIndexField` definition. Each key with `SumIndexField` generates a view in
    the database. In older versions (prior to 5 SP 1), the `SumIndexFields` are saved
    in tables.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 从 SQL Server Management studio 中，你可以看到由 `SumIndexField` 定义生成的数据。每个带有 `SumIndexField`
    的键在数据库中生成一个视图。在旧版本（5 SP 1 之前），`SumIndexFields` 被保存在表中。
- en: So, now we know that we do not have to worry about maintaining the totals, we
    can spend our time on what's really important.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，现在我们知道我们不必担心维护总计，我们可以把时间花在真正重要的事情上。
- en: Flow fields and flow filters
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 流字段和流过滤器
- en: As discussed earlier, screens in Microsoft Dynamics NAV are built directly on
    one table. These table definitions contain all fields including the totals. However,
    these totals are not real database fields.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，Microsoft Dynamics NAV 中的屏幕是直接基于一个表构建的。这些表定义包含所有字段，包括总计。然而，这些总计并不是真正的数据库字段。
- en: 'This can be illustrated by comparing the table definition in Microsoft Dynamics
    NAV to the table definition in SQL Server:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过比较 Microsoft Dynamics NAV 中的表定义与 SQL Server 中的表定义来展示：
- en: '![Flow fields and flow filters](img/0365EN_01_23.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![流程字段和流程筛选器](img/0365EN_01_23.jpg)'
- en: The fields **Date Filter (28)** to **Budgeted Amount (33)** are not actual fields
    in the database. They are helper fields to show data on screen.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 字段**日期筛选器（28）**到**预算金额（33）**不是数据库中的实际字段。它们是辅助字段，用于在屏幕上显示数据。
- en: 'Flow filters can have seven types; Sum, Average, Exist, Count, Min, Max, and
    Lookup and contain a query to the database. For example, Balance at Date (31)
    shows the following:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 流程筛选器可以有七种类型；总和、平均值、存在、计数、最小值、最大值和查找，并包含对数据库的查询。例如，日期余额（31）显示以下内容：
- en: '[PRE1]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This creates the sum of the field amount in the G/L Entry table (17) filtering
    on **G/L Account**, **G/L Account No.**, **Business Unit Code**, **Global Dimension
    1 & 2 Code**, and **Posting Date**.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 这在G/L条目表（17）的字段金额上创建总和，筛选条件为**G/L账户**、**G/L账户编号**、**业务单元代码**、**全局维度1和2代码**以及**过账日期**。
- en: Some of these filters are actual fields in the G/L Account table, but others
    are flow filters. Non-existing fields can be used as a runtime filter to limit
    the results of the query.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 其中一些筛选器是G/L账户表中的实际字段，但其他的是流程筛选器。不存在的字段可以用作运行时筛选器，以限制查询的结果。
- en: We will use and discuss more of these flow filters and flow fields later in
    this book.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在本书的后面部分使用和讨论更多这些流程筛选器和流程字段。
- en: More journals and entries
  id: totrans-209
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更多期刊和条目
- en: So now that we know how a journal works, it might be interesting to build a
    posting diagram of Dynamics NAV. Dynamics NAV has a number of journals, registers,
    and entries built on top of each other.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，现在我们知道了期刊是如何工作的，构建Dynamics NAV的过账图可能很有趣。Dynamics NAV有多个期刊、登记簿和条目，它们相互叠加。
- en: 'The following table shows the most important journals, registers, and entries:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 下表显示了最重要的期刊、登记簿和条目：
- en: '| Journals | Registers | Entries |'
  id: totrans-212
  prefs: []
  type: TYPE_TB
  zh: '| 期刊 | 登记簿 | 条目 |'
- en: '| --- | --- | --- |'
  id: totrans-213
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| Gen. Journal Line (81)Item Journal Line (83)Res. Journal Line (207)Job Journal
    Line (210) | G/L Register (45)Item Register (46)Resource Register (240)Job Register
    (241) | G/L Entry (17)Cust. Ledger Entry (21)Vendor Ledger Entry (25)Item Ledger
    Entry (32)Job Ledger Entry (169)Res. Ledger Entry (203)VAT Entry (254)Bank Account
    Ledger Entry (271) |'
  id: totrans-214
  prefs: []
  type: TYPE_TB
  zh: '| 总账分录行（81）项目分录行（83）资源分录行（207）工作分录行（210） | G/L 登记簿（45）项目登记簿（46）资源登记簿（240）工作登记簿（241）
    | G/L 条目（17）客户账簿条目（21）供应商账簿条目（25）项目账簿条目（32）工作账簿条目（169）资源账簿条目（203）增值税条目（254）银行账户账簿条目（271）
    |'
- en: Please notice that when you look in the database, you'll find more of these
    tables, but these are the main building blocks.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，当你在数据库中查看时，你会找到更多这些表格，但这些都是主要构建块。
- en: Each journal is responsible for creating its own entries but may run another
    journal if that is required. For example, an Item Journal may generate G/L entries
    if required using a General Journal and a Job Journal may create Item Ledger Entries
    using the Item Journal.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 每个期刊负责创建自己的条目，但可能需要运行另一个期刊。例如，项目期刊可能需要使用总账期刊来生成G/L条目，而工作期刊可能需要使用项目期刊来创建项目账簿条目。
- en: We already discussed the G/L Entry table, which is used to store the basic financial
    information. This is the basic administration table.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经讨论了G/L条目表，该表用于存储基本财务信息。这是基本管理表。
- en: 'The other entry tables are sub ledger tables. They store redundant information
    but have extra information for their specific use. A total of a sub ledger should
    always balance with the G/L. We''ll see how that works in [Chapter 3](ch03.html
    "Chapter 3. Financial Management"), *Financial Management*. Here are some more
    tables:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 其他条目表是子账簿表。它们存储冗余信息，但为特定用途提供额外信息。子账簿的总计应始终与G/L平衡。我们将在[第3章](ch03.html "第3章。财务管理")中看到它是如何工作的，*财务管理*。以下是更多表格：
- en: The Customer and Vendor Ledger Entry tables are used to store specific information
    about the accounts receivables. They are linked to Customer and Vendor master
    data tables.
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户和供应商账簿条目表用于存储关于应收账款的具体信息。它们与客户和供应商主数据表相关联。
- en: The VAT Entry table stores specific information to make registration easier.
    Most companies do monthly or quarterly VAT registrations with one or more governmental
    agencies. VAT is different in many countries and could be different from what
    this book describes in localized country systems.
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增值税条目表存储特定信息以简化注册。大多数公司每月或每季度与一个或多个政府机构进行增值税注册。许多国家的增值税与本书中描述的本地化国家系统可能不同。
- en: The bank account entries should show exactly what transactions we do on our
    bank accounts.
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 银行账户条目应显示我们在银行账户上进行的所有交易。
- en: The logistical part of the ERP package is handled by the Item Journal. Every
    item that is purchased, produced, or sold is handled though this journal. Services
    are handled through the Resource Journal. A resource can either be a person or
    a piece of equipment like a lift.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: ERP 软件包的物流部分由项目日志处理。每个购买、生产或销售的项目都通过这个日志处理。服务通过资源日志处理。资源可以是人员或像电梯这样的设备。
- en: The Job Journal is an umbrella overlaying the entire application. It allows
    you to group transactions making it easier to analyze cost and profit for larger
    projects.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '**工作日志**是一个覆盖整个应用的伞状层。它允许您分组交易，使分析大型项目的成本和利润变得更容易。'
- en: Posting schema
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 过账架构
- en: 'When we combine all this information in a schema, we can create the following
    basic Microsoft Dynamics NAV posting schema:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们将所有这些信息组合到一个架构中时，我们可以创建以下基本的 Microsoft Dynamics NAV 过账架构：
- en: '![Posting schema](img/0365EN_01_24.jpg)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![过账架构](img/0365EN_01_24.jpg)'
- en: Here you can clearly see which journal is responsible for creating what entry.
    An entry table is always maintained by one process.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以清楚地看到哪个杂志负责创建哪个条目。条目表始终由一个流程维护。
- en: The **General Journal** is the heart of the application where the basic financial
    information is created in the ledger entries. All the basic information is in
    the G/L Entry table which is grouped in the G/L Register, which is then always
    balanced. The **Customer**, **Vendor**, **VAT**, and **Bank Account Ledger** entries
    are sub tables that always refer to a G/L register. We can never create one of
    these entries without touching this part of the application.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '**总账**是应用程序的核心，其中基本财务信息在账簿条目中创建。所有基本信息都在 G/L 条目表中，这些条目被分组在 G/L 注册表中，然后总是保持平衡。**客户**、**供应商**、**增值税**和**银行账户**账簿条目是子表，始终引用
    G/L 注册表。我们永远不能创建这些条目而不触及应用程序的这一部分。'
- en: Sub and detailed entries
  id: totrans-229
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 子条目和详细条目
- en: When an entry is created, its basic structure should not be changed for audit
    ability. This is why most entries in Microsoft Dynamics NAV have sub or detailed
    entries.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建条目时，其基本结构不应更改以保持审计能力。这就是为什么 Microsoft Dynamics NAV 中的大多数条目都有子条目或详细条目的原因。
- en: The **Customer** and **Vendor Ledger Entry** have details for application, unrealized
    loss and gain, various discounts, and corrections. This way, we are able to keep
    track of what happens with an entry without changing the original information.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '**客户**和**供应商**账簿条目包含应用、未实现损益、各种折扣和更正的详细信息。这样，我们能够跟踪条目的变化，而不改变原始信息。'
- en: '![Sub and detailed entries](img/0365EN_01_25.jpg)'
  id: totrans-232
  prefs: []
  type: TYPE_IMG
  zh: '![子条目和详细条目](img/0365EN_01_25.jpg)'
- en: The Item Ledger Entries have a wide variety of sub entries depending on what
    you are doing with the items.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 项目账簿条目根据您对项目的操作有多种子条目。
- en: One of the most important tables in Microsoft Dynamics NAV is the Value Entry
    table. Each Item Ledger Entry has one or more of these. This table is the soft
    bridge between the inventory and the financial part of the application.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV 中最重要的表之一是价值条目表。每个项目账簿条目都有一个或多个这样的条目。这个表是库存和应用程序财务部分之间的软连接。
- en: Warehouse entries enable moving items within our organization without touching
    the basic inventory or financial application.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 仓库条目允许在我们组织内部移动项目，而不触及基本库存或财务应用程序。
- en: Combining the journals into processes
  id: totrans-236
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将杂志结合到流程中
- en: The journal and entry tables make it possible for us to do the basic balancing
    in our company but people in companies are not used to working with journals.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 杂志和条目表使我们能够在公司中进行基本的平衡，但公司的人并不习惯于使用杂志。
- en: Traditionally, companies work with documents. This was also the case before
    ERP applications were introduced. A sales representative would travel through
    the country with a paper order block and then come back to the back office. The
    back office then ships the orders with shipping documents and invoices.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 传统上，公司与文档一起工作。在引入 ERP 应用程序之前也是如此。销售代表会带着纸质的订单块穿越全国，然后回到后台办公室。后台办公室随后使用运输文件和发票发货。
- en: Microsoft Dynamics NAV supports working with documents. Traditionally, we divide
    the documents in sales and purchasing documents but the later versions of Microsoft
    Dynamics NAV also have warehouse documents. Other supported documents are reminders
    and service documents.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV 支持与文档一起工作。传统上，我们将文档分为销售和采购文档，但 Microsoft Dynamics NAV
    的后续版本也有仓库文档。其他支持的文档包括提醒和服务文档。
- en: Document structure
  id: totrans-240
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文档结构
- en: A document in Microsoft Dynamics NAV always has a header and lines. The header
    contains the basic information about the transaction, such as shipment dates,
    addresses, and payment terms.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV中的文档总是包含标题和行。标题包含关于交易的基本信息，例如发货日期、地址和付款条款。
- en: The lines contain information about what is sold or purchased. This can be a
    variety of G/L Accounts, items, and resources.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 行包含有关销售或购买的信息。这可能包括各种总账账户、项目和资源。
- en: A document can have different stages depending on the type of the transaction.
    A quote is a typical starting point in the sales or purchasing process. When a
    quote is approved, it can be promoted to an order, which is then shipped and invoiced.
    The process can be also reversed via a return order resulting in a credit memo.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 文档可以根据交易类型具有不同的阶段。报价是销售或采购过程中的典型起点。当报价被批准时，它可以升级为订单，然后发货并开具发票。该过程也可以通过退货订单反向进行，从而产生贷项通知。
- en: '![Document structure](img/0365EN_01_26.jpg)'
  id: totrans-244
  prefs: []
  type: TYPE_IMG
  zh: '![文档结构](img/0365EN_01_26.jpg)'
- en: Document transactions
  id: totrans-245
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文档交易
- en: Transactions in the database can be started via documents. When a document is
    processed, the necessary journals are automatically populated. For example, when
    an order is shipped, the goods leave the warehouse, then an Item Journal is created
    and posted to handle this. When the invoice is posted, a General Journal is generated
    to create G/L Entries and a Customer or Vendor Ledger Entries.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库中的交易可以通过文档启动。当文档被处理时，必要的日记会自动填充。例如，当订单发货时，货物离开仓库，然后创建并过账一个项目日记来处理这种情况。当发票过账时，会生成一个总账日记来创建总账分录和客户或供应商账簿分录。
- en: Other patterns
  id: totrans-247
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 其他模式
- en: The previously discussed pattern with journals and documents is by far the most
    important transaction structure. But Microsoft Dynamics NAV also has other structures
    as well.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 之前讨论的日记和文档模式无疑是交易结构中最重要的。但Microsoft Dynamics NAV也有其他结构。
- en: The three most important other patterns are CRM, jobs, and manufacturing. These
    areas are all umbrella structures for other processes.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 三个最重要的其他模式是CRM、工作和制造。这些领域都是其他流程的伞状结构。
- en: Relationship management
  id: totrans-250
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关系管理
- en: Microsoft Dynamics NAV RM helps you to maintain master data and analyze transactional
    data. It is both at the very start of the data process and at the end.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV RM帮助您维护主数据和分析交易数据。它既在数据处理过程的开始，也在结束。
- en: We have already seen the customer, vendor, and bank master data records. But
    what if a vendor is also a customer, or vice versa. We don't want to maintain
    the same data twice. We might also want to keep extra information such as contact
    persons and the interests of our customers and vendors. We'll see more of that
    in [Chapter 4](ch04.html "Chapter 4. Relationship Management"), *Relationship
    Management*.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到了客户、供应商和银行主数据记录。但如果供应商也是客户，或者反之，怎么办。我们不希望维护相同的数据两次。我们可能还想保留额外的信息，例如联系人信息和客户及供应商的兴趣。我们将在[第4章](ch04.html
    "第4章。关系管理")*关系管理*中看到更多。
- en: There is also a need to analyze the data we have created with the document and
    journal structure.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要分析我们使用文档和日记结构创建的数据。
- en: '![Relationship management](img/0365EN_01_27.jpg)'
  id: totrans-254
  prefs: []
  type: TYPE_IMG
  zh: '![关系管理](img/0365EN_01_27.jpg)'
- en: Jobs
  id: totrans-255
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作
- en: Sometimes, a project can be more comprehensive than just a purchase and/or a
    sales document. A project can take from several weeks to over a year and requires
    multiple documents.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，一个项目可能不仅仅是一个购买和/或销售文档。一个项目可能需要从几周到一年以上，并需要多个文档。
- en: The job structure in Dynamics NAV allows you to handle this. Every document
    and journal transaction can be attached to a job, making it easy to analyze profit
    and loss and even schedule your jobs.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: Dynamics NAV中的工作结构允许您处理这种情况。每个文档和日记交易都可以附加到工作上，这使得分析盈亏甚至安排工作变得容易。
- en: The jobs module also allows you to do a calculation before you start the project
    and balance this calculation throughout the process.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 工作模块还允许您在开始项目之前进行计算，并在整个过程中平衡这个计算。
- en: '![Jobs](img/0365EN_01_28.jpg)'
  id: totrans-259
  prefs: []
  type: TYPE_IMG
  zh: '![工作](img/0365EN_01_28.jpg)'
- en: Manufacturing
  id: totrans-260
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 制造
- en: When you produce your own items, you have different needs in your ERP process
    than when you only purchase the items you sell.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 当您生产自己的产品时，在ERP流程中您有不同的需求，与您只购买您销售的产品相比。
- en: The manufacturing module of Microsoft Dynamics NAV allows you to handle this
    process. Basically what it does is create an item out of one or more other items
    and resources.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 微软Dynamics NAV的制造模块允许您处理此过程。基本上，它的作用是从一个或多个其他项目或资源中创建一个项目。
- en: '![Manufacturing](img/0365EN_01_29.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![制造](img/0365EN_01_29.jpg)'
- en: Summary
  id: totrans-264
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we have covered the basic structure of Microsoft Dynamics NAV.
    We talked about the design philosophy, application objects, and the unique table
    structure. We discussed the Role Tailored Concept and its reflection to older
    versions of the product. We talked about some basic functions of the product-like
    number series and application setup. We also talked about the important basic
    posting structure and the way SIFT works. We discussed how the document structure
    overlays the journal structure and how the umbrella structure is on top of that.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了微软Dynamics NAV的基本结构。我们讨论了设计理念、应用程序对象以及独特的表结构。我们探讨了角色定制概念及其对产品旧版本的反映。我们讨论了产品的一些基本功能，如编号系列和应用设置。我们还讨论了重要的基本过账结构和SIFT的工作方式。我们讨论了文档结构如何覆盖日记账结构，以及总结构如何位于其上。
- en: In the next chapter, we will look at a sample industry application and its effect
    on the standard functionality.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将探讨一个示例行业应用及其对标准功能的影响。
