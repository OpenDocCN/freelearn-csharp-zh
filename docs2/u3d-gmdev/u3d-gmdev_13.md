

# 第十三章：奖励：其他 Unity 工具！

在本书中，我们已经经历了一个第三人称环境解谜垂直切片。这是一个具有自身独特开发问题的特定游戏类型，这也意味着我们没有提及许多 Unity 的优秀工具，因此我们想用一小部分内容来谈谈 Unity 可以为您下一个项目提供哪些其他服务。我们将涵盖以下内容的入门级理解：

+   多人游戏

+   XR

+   机器学习代理

+   Bolt 视觉脚本

# Unity Gaming Services

我们探索了一组名为 Unity Gaming Services 或 UGS 的工具。这些工具旨在提供需要大量时间开发且可以快速集成到您的项目中的解决方案。这些工具可以直接帮助设置多人游戏、XR（这是虚拟现实和增强现实的混合体）、视觉脚本（称为 Bolt），以及最终是一组创意工作流程工具。让我们首先看看可用的多人游戏工具。

## 多人游戏工具

Unity 提供了大量的服务，从关键工具和教育到成功地将多人游戏因素融入您的项目。在多人游戏类别中，Unity 将重点分为三个支柱：**创作**、**连接**和**沟通**。

### 创作

Unity 将其视为您游戏的基础，并引入了 GameObjects 的 Netcode 和实体的 Netcode 选项。实体的 Netcode 利用 Unity 的新数据导向技术堆栈（DOTS）。这个新的、高性能的、多线程的 DOTS 允许您充分利用多核处理器，以创建更丰富的用户体验，并使用易于阅读和在其他项目中重用的 C# 代码更快地迭代。DOTS 为程序员提供了一个直观的沙盒，用于创建安全的多线程代码，以实现一系列多人开发优势。

实体的 Netcode 利用 Unity 的新数据导向技术堆栈（DOTS）。这个新的、高性能的、多线程的 DOTS 允许您充分利用多核处理器，以创建更丰富的用户体验，并使用易于阅读和在其他项目中重用的 C# 代码更快地迭代。DOTS 为程序员提供了一个直观的沙盒，用于创建安全的多线程代码，以实现一系列多人开发优势。

专注于可流式传输的数据，DOTS 允许代码的重用灵活性，帮助他人理解它，并提高协作性。具备这些各种能力，DOTS 将现有的工作流程转换为转换工作流程。此工作流程只需一键即可将您的 GameObjects 转换为实体。在运行时，实体预览检查器可视化 DOTS 如何将您的 GameObjects 转换为实体。同时，使用 Unity Live Link 功能将允许您在播放模式下即时迭代，而无需每次都创建新的构建。无需创建新构建即可利用更快的迭代速度，让您和您的团队能够在目标设备上实时测试游戏体验。

Unity 为他们的可用资产堆栈创建了 DOTS 包。他们强烈建议您在此阶段使用预览包进行测试和项目的前生产阶段，因为它们会验证包以成为生产就绪。

### 连接

多人游戏中的用户体验通常与匹配、游戏前后的休息室以及排队时间相关联。Unity 通过休息室、中继、多人游戏和匹配器等服务开发了补充这些合作互动的功能。

Unity 休息室赋予玩家在游戏会话前后连接的能力。玩家可以使用简单的游戏属性创建公共休息室。这些休息室可以被其他玩家搜索、发现并加入。私人休息室允许玩家为仅限受邀嘉宾创建专属空间。

中继是 Unity 提供的一种服务到服务的工具，与休息室配合良好。当玩家从游戏中断开连接时，中继将自动移除断开连接的玩家，并通知您意外的断开连接。此外，您还可以通过 GameObject 的 Netcode 访问您合作游戏的可靠基础。

Multiplay 通过 Unity 提供了一种弹性、多云混合游戏服务器。这项服务允许您访问服务器托管和匹配，而无需构建和维护自己的后端基础设施。专注于提供更平滑的玩家体验，Unity 投资创建了超过 190 个数据中心，这些数据中心旨在实现可扩展的弹性和性能。这些服务器在全球范围内运行，维护着服务质量（QoS）标准。QoS 定位最佳匹配连接区域，无论玩家从何地游戏，都能为他们提供最稳定的连接，从而最大化玩家参与度，减少停机时间，并将新内容带给您的玩家，无论平台如何。

匹配器是通过与谷歌的开放源代码合作——Open Match 创建的。匹配器也是 Unity 专用游戏服务器托管解决方案 Multiplay 的一部分，为 Unity 的企业客户提供开箱即用的集成，可以扩展到各种玩家基础容量。匹配器包含开发者配置的匹配逻辑、可定制的评估器以及具有预定匹配功能执行的匹配循环，作为其托管解决方案，以在正确的时间和地点匹配您的玩家。

### 通信

当体验健康、沉浸且彼此之间有坚实的互动质量时，玩家参与度和留存率就会发生。Unity 通过 Vivox 和社区与安全提供玩家参与度工具，以支持积极的社交体验。

Vivox 是一个易于实现且可靠的特性，它支持功能丰富的语音和文本聊天服务，适用于你的游戏。Vivox 被行业领先的游戏如《 Valorant》、《英雄联盟》、《彩虹六号：围攻》和《绝地求生》所信赖，为玩家提供最佳通信服务。Vivox 可在任何平台、全球范围内以及任何游戏引擎上运行，可在两天内集成并扩展至数百万玩家。

即将推出的是 Unity 通信工具库的最新补充——社区和安全。Unity 在这个平台上的重点是玩家安全分析和游戏管理。

## XR 插件

XR 是一个包含以下应用的通用术语：虚拟现实（VR）和增强现实（AR）。VR 为用户创建一个完全围绕其用户的环境。AR 通过技术设备的镜头在现实世界之上叠加数字内容。XR 将用户的现实世界和数字世界结合在一起，以实现相互交互。

Unity 开发了一个名为 XR SDK 的新插件框架。这个框架使得 XR 提供商能够成功集成到 Unity 引擎及其所有功能，以优化之前提到的每个应用程序。

Unity 支持以下 XR 平台：

+   ARKit

+   ARCore

+   微软 HoloLens

+   Windows 混合现实

+   Magic Leap

+   Oculus

+   OpenXR

+   PlayStation VR

Unity 目前不支持 WebGL 上的 XR。

这种基于插件的方案允许 Unity 快速修复错误，从平台合作伙伴那里分发 SDK 更新，并支持新的 XR 设备，而无需修改核心引擎。

## 机器学习代理

Unity 理解，人工智能（AI）研究的进步取决于使用当前基准训练 AI 模型时解决现有环境中的难题。当游戏变得复杂时，开发者将需要创建智能行为，这可能导致编写大量使用高度专业工具的代码。

Unity 创建了一个机器学习代理（ML-Agents）工具包，这意味着你不再需要“编码”涌现行为，而是通过深度强化学习和模仿学习相结合的方式，教会智能代理“学习”。

因此，这允许开发者创建更加物理、视觉和认知丰富的 AI 环境，以及更具吸引力的游戏玩法和增强的游戏体验。

## Bolt 可视化脚本

使用交互逻辑可视化地开发游戏玩法机制。Bolt 允许你创建基于视觉、图形化的系统，而不是编写传统的代码行。通过可视化脚本，Bolt 促进了设计师、艺术家和程序员团队之间的无缝协作，以实现更快的原型设计和迭代。

更多的技术团队成员可以通过自定义节点来赋能非程序员，无论编程知识水平如何，都能提高生产力。Bolt 提供了流程图、状态图、实时编辑、调试和分析、代码库兼容性和易用性等功能，以下我们将逐一介绍。

### 流程图

**流程图**将是您项目中交互的主要工具。使用基于节点的动作和值，这些图将允许您以任何指定的顺序指定逻辑。

### 状态图

**状态图**允许您创建自包含的行为，指示对象在达到特定状态时应执行哪些操作。状态图与高级逻辑兼容，如 AI 行为、场景或关卡结构，或任何在状态之间转换的行为。

### 实时编辑

**实时编辑**可以在播放模式下的图中实时进行。快速迭代和测试想法，无需重新编译项目更改。

### 调试和分析

**调试和分析**可以在播放模式下的视觉脚本图中找到。Bolt 会突出显示正在执行的节点，然后，如果发生错误，节点将很容易被识别。

### 代码库兼容性

**代码库兼容性**允许在您的图中使用任何第三方插件或自定义脚本。通过反射直接访问您的代码库，视觉脚本始终是最新的，无论它是一个方法、字段、属性还是来自 Unity 的事件。

易用性

**易用性**视觉脚本旨在通过用户友好的功能、注释和可搜索功能，使非技术创作者能够访问。

# 摘要

本章的目的是展示 Unity 可以在您的下一个游戏设计冒险中为您提供的一些功能。它们在我们的项目中没有使用，这就是为什么我们将它们留在了附录章节中。多人游戏工具是制作多人游戏的一个极好的资源。通过将 AR 和 VR 插件整合到一个 XR 插件中，我们现在有一个很好的、集中的插件，可以用于所有改变现实，无论您使用的是哪种硬件。然后，为了结束这本书，我们讨论了 Bolt 的视觉脚本。如果您觉得编程不容易上手，可以考虑看看这个。

我们希望您从这本书中学到了一些东西，并且在阅读过程中享受了乐趣。我们在本书开头和整个过程中提到，如果您想与其他购买了这本书或其他 Packt 出版的以 Unity 为中心的书籍的人互动，Discord 社区是一个好地方。我们很乐意在那里见到您，并帮助您实现下一个伟大的想法。
