# EventStorming

发现领域术语是至关重要的，这些术语成为通用语言的一部分。然而，发现过程可能相当漫长，并不总是成功的。当我们讨论业务运作方式和我们将通过编写软件解决的问题时，谈话往往归结为讨论业务热衷于实施的功能。当然，一组功能可以称为**软件**，但它并不一定构成一个系统。此外，为了构建针对特定问题的综合解决方案，还需要更多的系统级思考。

在这本书中，系统思维只被简要地涉及。为了更好地了解这个主题，请参考这个主题的经典书籍，如Gerald Weinberg的《通用系统思维导论》和Donella H. Meadows等人合著的《系统思维》。

但谁会告诉我们业务作为一个系统是如何运作的？我们应该和谁交谈，这种对话应该采取什么形式？我们将揭示这些问题，并在本章中尝试找到一些答案。

在本章中，我们将涵盖以下主题：

+   什么是EventStorming？

+   EventStorming的实践方面

+   如何自己主持工作坊

+   工作坊结束后决定做什么

# EventStorming

在前面的章节中，我们学习了理解实际问题的有多么重要。我们还深入探讨了通用语言的概念，并解释了它不仅是一个术语表，而且是用语言描述的系统行为。

如何开始知识压缩以及如何加强与领域专家的沟通以更好地理解问题空间并正确概述我们将要构建的内容，这一点仍然不清楚。

非常常见的是，开发者以需求的形式了解领域。我们已经讨论过这个话题，到现在你应该意识到需求有其缺陷。因此，你希望通过直接与领域专家交谈以及与他们组织工作坊或会议来提高你的知识。有些人来了，你们进行两三个小时的对话；讨论了很多事情，涌现出很多新的见解，但最终形成的任何建模成果却很少。当然，你可以开始绘制UML图，但哪个业务人员能理解它们？你可以做笔记，发现你需要进行一到两轮澄清工作坊，因为存在太多模糊和隐含的概念，这些概念构成了你未来系统的基石，这使得理解变得非常困难。

在这里，我们需要解决几个基本问题：

+   在讨论中提供可见性。这应该消除当许多人用不同的术语讨论同一件事时的假设。它还消除了一些模糊性，并将其带到表面以供进一步探索。

+   拥有一个人们能够理解的模式语言。UML不是选择，而常见的方框和箭头并没有真正的符号，因此人们可能会感到困惑，开始花费时间试图澄清事物的含义。

+   同时涉及许多人。在传统的会议中，只有一个人可以有效地传达信息，而其他人则需要闭嘴并倾听。一旦许多人同时开始说话，就不再有对话了。但是，假设不同兴趣和背景的人在同一会议中，他们可能会表现出缺乏兴趣并感到无聊。

+   找到一种表达术语、行为、模型过程和决策的方法，而不是特性和数据。

回到2013年，Alberto Brandolini提出了一种他称之为**事件风暴法**的方法，试图解决这些问题。我们将在本章中了解这种方法。

# 模式语言

事件风暴法背后的基本思想是它提供了一个直接的建模符号，用于以每个人都能理解的方式可视化系统的行为。这种方法创造了可见性，增加了参与度，并涉及那些在其他情况下可能会对参与建模会议或是在白板上写下任何内容感到焦虑的人。

将行为视为领域知识的核心方面，整个事件风暴法练习就是找出业务是如何运作的。一般来说，我们可以假设在任何给定时刻，每个系统都处于特定的状态。当与系统交互的演员采取行动时，这种状态可以改变。这些演员的行为导致系统状态改变，因此我们可以看到发生了某些事情，现在我们需要处理一个新的情况。

让我们看看一个人使用网上银行支付账单的简单例子：

![图片](img/116ad4eb-fcd9-4f5c-9e42-6d1241407fda.png)

付款处理的事件序列（简化版）

正如你所看到的，从个人的角度来看，他们的账户中的金额减少了，付款已完成，账单被认为是已支付，可以扔掉了。然而，从收款人的角度来看，账单在他们收到钱时被认为是已支付，并且可以通过使用发票号码或账单上提到的某些魔法付款参考来将这笔付款与一张未支付的账单相匹配。

这些系统中演员所执行的动作导致了一些状态转换。付款订单被创建并签署。金额从付款人的账户中扣除。然后金额被添加到收款人的账户中。账单被标记为已支付。所有这些操作都变成了*生活的现实*，除非我们有时光机，否则我们无法逆转它们。如果收款人发现账单已经被支付，他们不能只是简单地逆转一切。他们需要通过启动新的付款来退还这笔钱。

这些事实被称为**领域事件**。这是EventStorming处理的最基本也是最核心的概念。这也是为什么它被称为EventStorming。领域事件的观念对任何人来说都不陌生。生活中的事实是人们可以迅速理解的东西。它们是已经发生的事情；不是某人想要做的事情；不是功能；不是表单或按钮。每个领域事件代表一个事实，是我们试图模拟的系统中的变化。

因此，我们建模语言的第一部分是创建领域事件的概念。EventStorming中的每个概念都表示为特定颜色的便利贴。颜色是至关重要的，因为随着我们继续进行并带来更多的想法到模型中，我们需要颜色来一致地表示模型中的相同想法，以避免混淆。

阿尔贝托最初的建议是使用橙色便利贴来表示领域事件。最简单的模型可能看起来像这样：

![图片](img/089323e7-7db2-4d30-9a0c-238661c516c1.png)

从小做起，逐步推进

这些是按顺序发生的两个领域事件——首先，客户使用信用卡或借记卡付款；然后他们的订单被确认。我们可以将其识别为电子商务领域。写在便利贴上的句子没有什么特别之处，除了一个关键规则——事件必须有一个主语（名词）和一个谓语（动词）。动词必须是过去时态，表示已经发生并且成为事实。

如果我们回到账单支付示例，我们可以尝试弄清楚我们会在那里找到哪些事件：

![图片](img/cc0915e2-c754-4088-bdfa-365ad09fe429.png)

事件被放置在时间轴上

有几件事情你可能立刻就会注意到。第一点是领域事件遵循时间轴。这是非常合乎逻辑的，因为事实代表了系统中随后的变化，因此按照特定顺序发生。例如，在签署之前，支付不会被批准。有些事情可以并行发生，比如在支付订单批准后立即同时借记和贷记账户，这可能意味着银行相信付款人有足够的资金来完成支付。

第二点是，我们这里不仅仅只有一个系统。实际上，我们正在模拟整个流程，但至少有三个部分我们可以清楚地区分——面向用户的互联网银行，它创建并签署支付订单；银行的后台办公室，它完成交易；以及收款人的自己的支付对账系统，顺便说一下，这可能完全是手工的。

# 可视化

如我们所见，我们的简单模型已经为参与研讨会的人们提供了相当多的价值。我们不仅试图识别支付过程中的发生情况，而且将整个流程放在时间轴上，并能够大致识别出在不同物理系统中可能发生的流程部分。

可视化是任何建模技术中最强大的方面之一，事件风暴也不例外。一旦我们把某件事放到我们的模型上，我们就可以对其进行分析，而不仅仅是说出词语和挥手。

当人们看到被认为是整体的情况时，有些人可能会开始提出*如果*问题。*如果*账户里没有足够的钱？*如果*账单参考号码是错误的？*如果*收款人账户不正确？如果，如果，如果？最终，我们简单的流程似乎并不那么简单。记住可用性启发式，**WYSIATI**（代表**What You See Is All There Is**）？我们基于对世界的简化视图来形成最初的理解。一切按预期工作；没有例外和边缘情况，人们的行为没有计划犯错，无论是否有意图这么做。这可能会让人惊讶，但现实世界要复杂得多。大多数时候，边缘情况的数量超过了被认为是常规事件流程的数量。当这些边缘情况和潜在例外被可视化并公之于众时，它们就变得更加明显。

这里有一个问题，可能会对那些尽力创建适当事件模型的人造成不利。你可以想象这样的研讨会是在会议室里举行的。通常，人们围坐在桌子旁交谈。正如我们已经建议的，这不是事件风暴的工作方式。我们希望人们能在房间里四处走动，并积极参与对话，这些对话可能同时在房间的不同侧面发生。因此，我们需要一些空间。但这还不是我们需要的所有空间。仔细看看前面的简单流程模型。虽然我们都可以同意我们只是模拟了快乐路径，没有覆盖边缘情况和例外，但现实生活中的流程要复杂得多；这个图表已经占用了一些水平空间。现在，想象一下以这种方式模拟现实世界场景。确实，一个传统的两三米白板对你来说是不够的。

想象一下你的模型是这样的：

![图片](img/2b48a021-c527-4039-9c06-f556fa3c7d99.png)

对于一个合理复杂的系统，你需要更大的空间

这里中间是你的白板。但模型并不小。正如阿尔贝托所说，*我的问题更大！*

当白板上空间不足时会发生什么？人们将剩余的空间视为神圣的资源。它变得珍贵，人们开始节省空间。一些事件变得**不重要**，因此没有放在白板上。一些想法变得次要，不值得一看。总的来说，为了节省一些白板空间，建模讨论受到了影响。

这是正常的，这也是我们大脑的工作方式。如果我们看到一些限制，无论在事后看来多么愚蠢或人为，我们都会感觉到它的物理存在，并据此安排我们的活动。如果您有一个有限的建模空间，准备得到一个有限的模型。因此，请注意这个问题，并为任何建模会议的参与者，特别是EventStorming会议的参与者提供尽可能多的建模空间。我们将在下一节中获得一些更具体的建议。

# 引导EventStorming工作坊

本节为您作为EventStorming工作坊的引导者提供实用建议并分享一些真实经验。请记住，在进行EventStorming之前，您不需要在您的组织中**推销**DDD。这项简单但非常有效的技术即使在您没有计划在项目中实施DDD的情况下也能有所帮助。它将帮助您建立对您计划创建软件的领域的理解。同时，它也有助于改善开发者和他们潜在用户之间的关系，因为他们将公开讨论用户遇到的问题，并对这些问题表示同情，同时寻求解决方案。

# 邀请谁

对于工作坊，您始终需要有两种类型的人——有问题的人和有答案的人。

有问题的人是开发者和架构师。令人惊讶的是，开发者很少参加任何直接涉及他们计划开发的软件潜在用户的会议。我们在讨论[第1章](948b7834-c47c-4321-a91c-2ba58068c52e.xhtml)中提到的“为什么是领域驱动设计？”时提到了这个话题，即问题空间和解决方案空间的分离。因此，再次强调，在这些工作坊中有开发者是至关重要的。另一组人可能是人们期望有答案的人，但实际上他们有更多问题，那就是业务分析师或需求分析师，或者他们是在您的组织中被称为什么。诚然，他们与潜在用户和客户在一起度过相当多的时间，但在EventStorming工作坊期间，他们通常会获得新的见解，因为这项练习不是一对一的，而是针对一个群体的。

这个小组需要研究关于领域已经可用的信息（一般理解，也许是有可能已经制定的某些需求或规范）并准备问题。

通常，我们称之为**领域专家**的人会有答案。但请记住，他们并不了解所有细节，他们也可能有一种知识错觉。这就是为什么你需要尽可能多地在研讨会上聚集这些人，因为这些人的忙碌日程通常使他们难以聚集在同一个房间里。这间接表明，这些人通常在组织结构中处于较高的位置，但并非总是如此。你需要目标是每个部门都能有最多的人参与。你应该寻找那些知道如何做事的人，而不是那些只知道根据一些虚构的描述和标准应该怎么做的人。

无论是**有问题的人**还是**有答案的人**的群体，都需要通过更好地制定问题来为研讨会做准备。思考需要解决的问题，并对这些问题进行更具体的描述，可能在研讨会上有所帮助。准备部分不仅适用于开发者。最终，是业务方需要解决问题，因此，他们了解自己的需求，并拥有足够的材料将这些需求传达给那些将通过编写代码来解决这些需求的技术人员群体，这对他们来说是有帮助的。

# 准备场地

很常见的情况是，人们来到一个在常规会议室举行的研讨会，发现没有白板，投影仪不工作，演讲者有一个与房间内的视频设备不兼容的视频输出端口。所有这些都非常令人沮丧，因为它们需要花费大量时间来解决，从而减少了实际工作的时长。更糟糕的是，浪费时间的不仅仅是一个人。房间里每个人实际上都被阻止做任何事情，只能等待。有时，取消会议以避免浪费更多时间是最佳选择。

这是你要避免的情况，EventStorming研讨会有一些特定的要求需要在事先解决，以避免这种混淆。

# 材料清单

很早之前，当你已经商定了有问题的与会者和有答案的与会者最终会面的时间和日期时，立即开始准备文件。

最重要的材料是你的未来建模空间。记住，你的问题比任何会议室里可以找到的白板都要大得多（除非是专门为EventStorming会议设计的，但我怀疑你是否有这样一个房间）。这意味着你将不得不使用墙壁作为建模空间。除了玻璃墙，便利贴在墙上粘得不牢固。你还会希望在使用后从墙上移除你的模型，以免让在你之后使用房间的人感到沮丧。

因此，你需要一卷纸。对于游击风格的EventStorming，你可能可以使用宜家（IKEA）的简单纸卷，它的原始目的是为孩子们提供无限的绘画空间。但它的宽度太窄了，最好的选择是购买绘图纸卷。这些卷纸更宽（通常大约一米宽），更长，并且由更高品质的纸张制成。

下一步是找到可以用来将纸张固定在墙上的东西。你可能需要检查你计划举办研讨会房间的墙壁表面，并尝试不同的固定方法。确保没有或几乎没有障碍物阻碍纸卷，所以墙壁上不应该有画作、孔洞、门或窗户。

当然，你需要很多便利贴。我的意思是很多。你永远不知道人们会写多少领域事件，你不想经历的是当人们开始重新考虑事件时，因为已经没有更多的便利贴了。便利贴很便宜，而想法很贵，所以务必带上足够的便利贴来捕捉所有想法。你需要不同的大小和颜色；我们将在本章后面讨论颜色标记。

![图片](img/c7a2d2ac-3ca8-498b-822f-9be2e7169f19.png)

这是你需要的最少东西

最后的部分是文具。这往往被忽视，被视为显而易见的事情，然后你房间里只剩下一些高薪、非常忙碌的人，只有一支正在工作的笔。这可能会非常令人沮丧。所以，买足够的永久性记号笔，最好是黑色的，不要太细也不要太粗。理想情况下，你需要每人一支记号笔，还有一些备用。

# 房间

现在，说到地点。EventStorming不能在人们坐着的时候进行。恰恰相反——他们需要站立并自由地在整个空间内走动。这就是为什么传统的会议室设置，中央有一张大桌子，周围有很多椅子，是不适用的。所以，你需要确保的是，你计划放置纸卷的墙壁之间有足够的空间供人们自由移动。理想情况下，所有椅子都需要移除，或者至少移到远离建模空间的一个地方。

应该有一个地方来放置所有文具。因此，你至少需要在角落里某个地方放一张小桌子。此外，让标记可见也很有帮助，这样人们就可以用特定的颜色来表示特定的概念。对一个概念使用不同的颜色会非常混乱，应该避免。

EventStorming会议通常非常紧张，涉及大量的移动、思考和交谈，有时还会争论。这通常很有趣，但可能会很累。所以，作为引导者，你需要保持血糖水平高，喉咙舒适。准备一些小吃、饮料和水果——这有助于。人们也尊重这种待遇，并有一种被邀请参加特殊活动的感受。

# 研讨会

因此，现在空间已经准备好了，你需要把人们叫进房间。当你让他们来到你的会议时，使用本节中的提示来关注时间，使会议更有效率。我们还将讨论一些观察和解释人类行为以及如何使会议富有建设性的技巧。

# 时间和安排

为一次会议至少计划两个小时。这可能感觉不够（这通常是事实），但在这种环境中，人们很难在一个更长的时间内保持高效。更长时间的研讨会会耗尽讨论，并产生原地打转的感觉。这种情况可能仅仅是因为几乎所有可以讨论的内容都已经考虑过并贴在了墙上。因此，抵制住计划更长时间研讨会的冲动，比如全天会议。

第一小时通常非常紧张，但之后，你会看到能量水平下降。让人们休息十分钟，喝杯咖啡，吃他们得到的果品。通常，参与者会以小团体的形式继续讨论已经讨论过的事情，这样他们的头脑仍在处理信息，但方式更为轻松。休息后，通常会揭示新的见解。此外，你还需要逐步应用不同的技术，第一小时后的休息将为你提供一个极好的机会去做在研讨会第一部分所做的事情之外的事情。我们将在本章后面讨论这些技术。

# 开始

对于以前从未做过的人来说，开始一个EventStorming会议可能会相当尴尬。作为引导者，你解释规则，给人们分发笔和便利贴，然后挂起记号法的第一个元素：

![](img/fa1e7fd2-9e87-4e8c-a7c8-eedb4f277b08.png)

记号法的第一个元素

在完成这一切之后，人群中会出现一段沉默和不确定的动作。没有人知道该做什么，人们通常对做不熟悉的事情感到不舒服。如果这种活动需要在众人面前进行，这一点就会特别明显：

![](img/5fa7cca3-df6f-4aba-a1eb-c5ce8decaeee.png)

中间的随机事件——破冰活动

这个时刻需要引导者打破僵局。这并不难做。当你组织这样的会议时，你已经对组织和领域有所了解。这让你能够想象一个领域事件，或者两个，或者更多。将这些内容贴在墙上正是人们通过例子学习所需的内容。整个过程并不难做，但没有例子，人们不会感到安全和放心。因此，作为引导者，你需要将第一张便利贴贴在墙上，或者贴几张。尝试让它与主题相关，或者你可以故意让它非常荒谬，期待人们用笑声和讽刺来回应你的错误。当然，你首先得到的反应是人们大声说出他们认为需要贴在墙上的内容，而不采取任何行动，并期待你记录下来。这就是*传统*会议的做法——人们谈论，希望有人能记笔记。抵制这种做法。一旦你看到有人解释你需要在下一张便利贴上写什么，或者告诉你墙上的内容是错误的，就给他们一支笔和一叠便利贴。他们会开始写。他们会产出。他们会讨论。然后，你的工作就是观察和引导，以防人们陷入困境。

至少有两种我知道的技术，关于如何通过在墙上贴第一张便利贴来开始研讨会。第一种来自阿尔贝托·布兰多利尼。他说，你可以把任何你想放的东西放在任何你想放的地方，但不是开始的地方。从*开始*开始是你想避免的。作为人类，我们寻求结构是非常自然的，在我们看来，每个过程都有开始和结束。所以，从逻辑上讲，我们需要从开始的地方开始。唯一的问题是这里没有开始。首先，我们总是花费大量的时间和精力讨论过程从哪里开始，而没有产生任何东西。其次，在确定开始之前，肯定会有一些事情发生。因此，将第一张便利贴贴在中间某个地方，并从这里开始工作。在那个事件之前发生的事情将放在左边，之后发生的事情将放在右边：

![图片](img/1811fe61-7886-41cc-aecf-e36d50d8e27f.png)

现在填充所有中间的空白

丹·诺思在2016年DDD交流会上提到了另一种技巧。他在一张便利贴上写着**从前有**，并将其放在纸张卷轴的左侧附近，但不是边缘。在第二张便利贴上，他写着**从此幸福快乐**，并将其放在纸张卷轴的右侧附近，但同样不是边缘。你需要在两侧留出这些间隙，因为，如前所述，肯定会有一些比**从前有**更早和比**从此幸福快乐**更晚的事情，你需要空间来放置它们。正如你所看到的，你不需要对领域有确切的知识就能制作这两张便利贴，而且效果相当高效。人们能够感受到时间的流逝，而且当墙上已经有了一些东西，中间留有空间供他们填写时，这会激发他们的想象力。

# 在研讨会期间

作为引导者，你的角色不是统治，而是观察和引导。你设定的规则越少，执行的越少，你的研讨会就会越成功。在破冰之后，一些人会开始在墙上贴东西，而其他人会开始提问。在这个阶段，有几个要点需要记住：

+   人们倾向于向引导者提问，因为他们把他们看作是会议组织者，因此是一个拥有更多信息和权威的人。作为引导者，将他们和他们的提问引导到房间里其他人那里，特别是那些有答案的人，就是你邀请来的人。

+   对于领域事件可能会有一些混淆，尤其是如果你的听众不是母语为英语的人，而“领域事件”这个术语可能被视为技术性的（其实不是）。因此，可能会有一些人不断贴上他们希望拥有的功能（如支付处理或购物车）或命令性动作（如处理支付或注册客户）的便利贴。引导者的工作是防止这种情况发生，并再次解释，在这个阶段，目标是描述领域事件的流程，这些是生活的事实，不能被撤销、删除或更改。

+   除了前面提到的内容之外，人们不会犯真正的错误或错误，至少在符号层面是这样。不要试图去重事件或进行泛化，不要通过说他们正在做错事来阻止人们做事情。

通常，这三个小贴士有助于从组织角度推动研讨会。但由于我们是在与人打交道，总有一些行为和个人方面。通常会有一些对引导者来说至关重要的事情需要观察，有时甚至需要干预。

首先，要做好准备进行复杂讨论。如果没有讨论，那么可能是因为领域过于简单，或者你找错了人，或者有其他因素阻止人们发言。由于房间里每个人都有自己对领域的观点，所以争议是不可避免的。即使是开发者，在理解了初步想法或阅读了规范后，也会很快形成自己的观点。这里的关键是开发者需要提问。不应该对发生的事情及其发生方式有任何假设。鼓励开发者参与是促进者的工作，因为其中一些人是内向的，并不真的喜欢公开讨论。但既然我们的目标是让开发者更好地理解领域，他们就需要参与进来。

尽量注意边缘情况。人们总是更喜欢模拟没有异常和错误发生的快乐路径。我们始终需要记住，在特定条件下，一个事件是另一个事件的后果。是的，可能会有一些直接的流程，但它们并不常见，尤其是如果我们谈论的是商业。例如，“支付处理”可以逻辑上导致“订单已支付”，然后是“订单已发货”，然后是“订单已送达”。但如果是支付失败呢？如果支付金额没有覆盖订单总额（部分支付）呢？如果商品库存不足，尽管我们认为它们有呢？如果包裹在运输途中丢失呢？所有这些事情都可能发生。对于开发者来说，他们可能会觉得这些情况很复杂，通常他们不知道如何处理这些情况，除了抛出异常。但业务通常有程序来处理这些情况中的大多数，并且这些修复可以也应该被建模。

其次，关于边缘情况的讨论几乎肯定会创造一些模糊性和不确定性，因为并非所有异常情况都被业务流程所涵盖，或者你可用于研讨会的人员并不处理这种情况。如果房间里有多位领域专家，他们可能会意见不合，互相争论。对于你的短期研讨会来说，这种状况是事与愿违的。因此，如果你观察到正在进行激烈的讨论，或者在某些时候，有太多困惑的表情，没有人能对某事提供清晰的解释，你就可以确定一个热点。在这个时候，你需要向符号中引入另一个元素。热点通常用鲜艳的便利贴标记；例如，阿尔贝托提议使用鲜艳的粉色。所以，你可能会在墙上看到如下内容：

![图片](img/90b8a5c4-b889-40d9-b80a-974d26dc815b.png)

明亮的颜色有助于吸引注意力

识别和描述热点可以使你推迟决策和停止争论，有效地让团队前进而不停滞。你可能会在研讨会结束时发现你的墙上布满了热点，这是完全正常的。这表明你邀请的人可能需要就处理某些情况达成一致，或者你需要与其他人交谈并收集缺失的信息。热点应得到密切关注，但应在研讨会结束后进行。尝试通过挂上粉色的便利贴并要求人们继续前进来停止无生产力的讨论和陷入僵局。

第三点需要注意的事情是，当你有几个领域专家，他们各自专长于更大领域中的不同部分时，你会观察到他们根据功能专长区域聚集在一起，形成几乎不与其他群体产生的岛屿相连的事件岛屿或云。观察这一点非常有趣，并且至关重要，因为你可能正在见证你的上下文图的第一个草稿。我们将在本书的后面讨论上下文图。不要阻止人们这样做，顺其自然。注意这些岛屿是如何相互连接的。通常，最小数量的事件属于多个领域事件组。

最后，你的业务可能与你无法控制的组织和系统合作。这样的实体可以被称为**外部系统**，并需要在模型中体现。有些领域事件可以进入这样的系统，你也可能从外部系统接收到一些事件。这引入了你的符号中的新元素，在阿尔贝托的色彩方案中，外部系统使用大粉色的便利贴来可视化：

![图片](img/584e5b87-0aeb-45b9-9bab-8864c470e7f7.png)

支付提供者是外部系统

记住无限建模空间，并确保人们不要试图节省空间，因为空间已经不多了。重新组织事件以创造更多空间，或者最好是在墙上贴更多纸张。记住纸张很便宜，知识很宝贵。你不想因为有人节省纸张空间而失去理解。

当人们用尽想法时，可能会有一些尴尬的沉默时刻。你可能需要通过提供从不同角度审视模型的方式来重新点燃激情。至少有两种相对简单的方法可以通过添加缺失的内容来丰富模型。首先，要求人们倒着穿越时间线。很多时候，被认为不重要的东西没有被贴在墙上，但这个事情对于下一件事情的发生是至关重要的。例如，有人可能忘记在发货之前需要制作装箱单。另一种技术是确定业务创造价值的地方。简单地说，试着追踪资金流向。很多时候，开发者会陷入讨论一些花哨的、令人愉快的需求，而忘记了业务需要赚取一些东西来支付他们的薪水。

最后，正如之前提到的，要记住时间，并且每小时至少休息一次。遵守你的承诺，不要过度劳累；不要让人们待得比他们计划的时间更长。如果你遵循了我的建议，买了些水果和饮料，有些人甚至可能想要继续，但这取决于他们是否决定你的研讨会应该比预期更长。

# 研讨会之后

当时间结束，你很可能会有一大卷纸，上面贴满了不同颜色的便签。为了制作它，你已经投入了大量的时间和精力，这张纸卷通常被视为一件珍贵的文物。然而，情况并非完全如此。你可能想要保留你所讨论和建模的证据，尤其是热点列表。但主要的收获是开发者和其他参与者刚刚获得并将带走的知识。更多的领域知识和更少的无知是EventStorming会议中最重要的、尽管无形的人工制品。

这并不意味着你会扔掉纸卷。第一次这样做的人可能会把这种行为视为不尊重的标志。保留纸卷，拍全景照片并发送给每个人。是的，你很可能永远不会再次打开纸卷。如果你需要再次这样做，从头开始创建所有这些事件会更有生产力。人们已经知道了，而且以这种方式完善模型对他们来说将更有益。但是，为了安全起见，将纸卷放在一个安全的地方保存几周：

![图片](img/a02271a4-04d4-4c3e-b42d-1bdc611cb079.png)

保留它们，但你可能永远不会再看它们一眼

记得计划后续会议来讨论热点。通常，较小的群体可能需要参与。有时你可能需要邀请其他人，因为你有问题。你可能不需要重复已经做过的事情，而应该专注于讨论你所发现的问题。实际上，在这样讨论中使用EventStorming是有益的，并且会丰富模型。

在下一章中，我们还将讨论如何进行设计级别的EventStorming，这需要一些技术知识，并且只能在领域的小功能区域内进行。此类会议的结果可以直接用于您的缺陷跟踪器。

# 我们的第一模型

现在我们来尝试练习并为我们示例应用领域进行一次想象中的EventStorming会议。想象它会如何进行并不容易，因为任何EventStorming研讨会最关键的因素是人和他们的行为方式。我们当然无法在这里用文字重现它，但我们可以想象一些可能发生的讨论和产生的事件流程。

我们将进行一次虚构的EventStorming会议，讨论一个分类广告应用程序。一位协调员，我们称她为安，邀请了以下人员参加研讨会：

+   约翰，公司老板。他相信由于系统的简单性和独特功能，该系统将成为市场领导者。

+   玛丽是用户体验设计师，她已经对现有系统进行了一些研究，并与一些潜在用户进行了交谈。

+   尼克和伊夫是全栈开发者。

+   爱恩负责后台办公室，处理财务并确保公司运营良好。

计划中的会议时间到了，人们陆续进入会议室，试图寻找椅子，但一个也没有。房间里有两张小桌子——在一桌上他们找到了一些水果和饮料；在另一桌上则堆放着一摞不同颜色的便利贴和许多记号笔，足够容纳两倍人数的人群。两面墙上装饰着一张长约七米的纸。还有一个记事板和白板。人们看起来有些困惑，现在是时候提供一些清晰的信息了：

“欢迎来到我们的第一次，但希望不是最后一次，EventStorming研讨会，”安说，“我们将探讨我们的公司希望业务如何运行，到这次会议结束时，这个房间里每个人都应该对我们想要做什么有一个共同的理解。”

“为了做到这一点，我们将描述当客户使用我们的服务时在我们这边发生的事情，”安继续说，“我们将使用便利贴来完成这个任务。首先，我们将在墙上贴上事实陈述，也称为领域事件。想象一下东西是如何在业务中流动的，当发生某事时，在便利贴上写上几个过去时态的词，并将其贴在墙上。”

安在记事板上写下“图例”这个词，并在中间贴上一张橙色的便利贴，上面写着“发生了某事——领域事件”。然后她在墙上的纸条上画了一条水平箭头，并在下面写上“时间”。“**由于一个事实紧随另一个事实，它们形成了序列，或过程，这些过程不是同时发生的，而是依次发生，一个接一个。因此，我们试图将这些事件按时间顺序排列，”她解释说。

房间里的人们似乎都明白了，安给每个人发了一堆便利贴和一支笔。然而，每个人似乎都不愿意采取行动，而是互相看着，感到有些不舒服和紧张，仿佛害怕做错什么。然后约翰说：“好吧，最好的开始就是从开始。第一件事会是什么？也许当客户在我们这里注册时**。”* 这种不确定性引发了一场无果而终的讨论。墙上还没有贴出任何便利贴。注意到这一点，安在一张便利贴上写下“分类广告发布”，并将其放在中间某个位置。

墙上的一张便利贴引发了一场关于系统中主要元素应该叫什么的讨论——这将是*分类广告*，还是仅仅*广告*，或者其他什么？人们开始贴出似乎在*广告*发布之前发生的事情，比如**广告创建**和**广告更新**。经过一番观察，玛丽对这些术语表示怀疑，因为广告是不会更新的。广告有多个独立的属性，会以不同的方式改变。例如，上传图片是单独进行的，然后广告标题才会更新。更改广告类别可能受到限制，而更新价格可能会触发一些有趣的行为，比如通知那些订阅了分类广告价格最近下降的订阅者。

同时，约翰开始讨论一些高级功能，例如卖家和买家评分，最终他们发现，在墙的另一边，没有买家或卖家，而是*用户*。这个术语在讨论身份验证和资料时似乎有含义，但在买卖过程中并没有帮助。

此时，墙上的情况如下：

![图片](img/3d6854f6-0e1f-4eac-96dc-277ca5582f52.png)

第一个模型

一些工作已经完成，人们需要稍作休息，以享用安为他们准备的所有美味佳肴，并反思所讨论和发现的内容。

休息过后，他们继续讨论。

伊芙和约翰开始讨论审批流程，这在之前是完全缺失的。似乎有大量潜在的欺诈性和一般性的恶意分类广告被放置在竞争对手的网站上，所有这些都有一些预防机制。那些不进行任何审查的人很快就会失去信誉和信任，并被挤出市场。但我们的公司没有人员能够手动审查所有广告，所以讨论一直在原地打转。安注意到了这一点，并在墙上贴了一张明亮的粉色便利贴，上面写着“恶意广告检测”。她说：“我们似乎需要这个，但又不清楚如何操作。”她说：“我们先把它放在这里作为提醒，等我们讨论完其他事情后再回来处理。”关于这个话题的讨论随后停止，并建设性地继续讨论在检测发生之前和之后的流程演变。

在这个阶段，符号中添加了第三个元素：

![](img/553ec1b6-516f-449a-b42e-57388e334de8.png)

大图工作坊的最终符号

伊恩在讨论中并不活跃，他四处走动，点头，有时还会做出表示不同意的苦笑。当安问他怎么了时，伊恩不耐烦地回答：“**N**o one has even thought about how are we going to earn any money. Without earning anything we will not survive. We don't have that much investment, and we better get some revenue as soon as we can.*"* 这让团队感到一阵小小的震动，人们开始思考他们是如何忘记将赚钱的因素纳入考虑的。然后，约翰解释了原始想法，即基本服务是免费的，但一些附加服务，如将广告放置在搜索结果顶部、展示更大的图片等，将收取少量费用。他还解释说，免费服务仅适用于私人个人，如果公司想通过网站销售产品，他们需要签订独家协议。此外，他继续说，销售汽车和房地产应该完全是另一回事，因为它需要高级集成和一些安全措施，这些服务永远不会免费。

这条新信息引发了讨论，不久之后，大家一致认为，对于第一个版本，他们需要针对最大的受众和最直接的服务。这意味着他们将只提供带有几个选项的免费广告，这应该会创造主要的收入来源。

我们现在已到达工作坊的尾声，墙上贴满了便利贴。以下是他们的成果：

![](img/43147c0d-ea06-41a3-9a13-68a35c848f87.png)

最终的大图模型

如我们所见，这次会议揭露了一些未知或被他人假设但从未明确指出的问题。以下是一些例子：

+   没有所谓的“更新广告”，而是“上传图片”和“降价”等等，这些更加精确并触发不同的逻辑。

+   在不同的情境中，一个人被称为“用户”，同时又是“卖家”或“买家”。这些情境之间的联系并不稳定，这可能表明这些至少是不同的实体。

+   **最小可行产品（MVP**）缩减到仅包含少量付费广告的免费广告的最低限度。其他一切都将随后到来。

+   卖家和买家评分以及智能建议等特性虽然很好，但并不立即为用户提供价值。

+   然而，将需要一个强大的恶意内容检测系统，因为如果我们考虑到每天发布的广告数量，人工审查将不足以应对。

开发者对业务期望系统做什么以及他们的UX专家希望它看起来如何有了更深入的理解。他们做出了许多调整和原创想法，似乎大家都站在同一条战线上。无知水平比以前低得多，开发者忙于解决错误问题的风险显著降低。

# 摘要

在本章中，我们学习了什么是EventStorming，以及为什么每个团队都会从组织这样的研讨会中受益，即通过获取领域知识来减少无知。我们还探讨了如何安排和促进EventStorming会议的一些实用技巧。

本章的最后一部分是关于我们示例业务的模型。我们讨论了业务流程，确定了多个事件和一些热点，对我们将在本书中构建的系统有了重大的洞察。

我们简要地提到了EventStorming的行为方面，但还有更多内容，由于这个主题的广泛性，我们无法在本书中涵盖。请查看下一节，以找到关于阿尔贝托·布兰多利尼工作的参考，并研究引用的材料，以了解更多关于人、他们的偏见和行为，以及为什么软件开发是一个学习过程。

在下一章中，我们将更深入地探讨建模过程，更多地关注可以帮助我们尽快开始编写代码和交付初始原型的工件。

EventStorming社区有很多关于在分布式团队中使用该技术或当最终用户无法直接参与此类会议时的讨论。阿尔贝托指出，肢体语言对于了解会议的整体进展以及识别与会者在会议和业务中的角色至关重要。在我看来，这是真的，但我们经常遇到这种会议几乎无法组织的情况。对于分布式系统，我建议个人使用在线实时工具，如Miro，我以前用它为这本书创建了许多图表。它允许人们无论身处何地都能参与建模会议。

对于SaaS业务，问题可能更加困难，因为没有单一的用户群体可以信任来代表整个用户基础。然而，即使在这样的场景中，通常也可以识别出一组最活跃的客户，并邀请他们成为你团队的一部分。这不仅让你能够深入了解他们如何使用你的系统以及他们希望如何改进它，而且通过口碑宣传，你还能获得很好的免费宣传。人们普遍尊重开放性，并且当他们的声音被开发者听到时，他们会感到非常感激。

# 进一步阅读

这里有一些你可以参考的信息：

+   *EventStorming* ([EventStorming.com](https://www.eventstorming.com/))—获取更多信息链接的地方

+   *介绍事件风暴法*，Brandolini A. (2017)，Leanpub ([https://leanpub.com/introducing_eventstorming](https://leanpub.com/introducing_eventstorming))
