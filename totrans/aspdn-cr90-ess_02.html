<html><head></head><body>
  <div id="_idContainer032">
   <h1 class="chapter-number" id="_idParaDest-31">
    <a id="_idTextAnchor031">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     2
    </span>
   </h1>
   <h1 id="_idParaDest-32">
    <a id="_idTextAnchor032">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Building Dynamic UIs with Razor Pages, MVC, and Blazor
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.3.1">
     ASP.NET Core 9 has a complete UI framework to suit different types of approaches and applications that allow the use of page rendering strategies on both the client side and server side.
    </span>
    <span class="koboSpan" id="kobo.3.2">
     In this chapter, we will learn about the options available in the ASP.NET Core UI framework, in addition to understanding how to define the best option for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.4.1">
      each scenario.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.5.1">
     Initially, we will understand some important concepts and then continue with a practical approach so that we are able to exercise the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.6.1">
      concepts learned.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.7.1">
     In this approach, we will initially understand what the ASP.NET Core UI framework is, learning about the different approaches to rendering applications both on the server, using Razor Pages and ASP.NET MVC, and rendering on the client, using JavaScript frameworks.
    </span>
    <span class="koboSpan" id="kobo.7.2">
     Finally, we will understand the power of merging different technologies into a hybrid solution that uses the best of both the client and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.8.1">
      the server.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.9.1">
     In this chapter, we’re going to cover the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.10.1">
      main topics:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.11.1">
      Learning about the ASP.NET
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.12.1">
       Core UI
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.13.1">
      Implementing a UI server render model with Razor Pages and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.14.1">
       ASP.NET MVC
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.15.1">
      Exploring UI client rendering with Blazor and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.16.1">
       JavaScript frameworks
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.17.1">
      Working with
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.18.1">
       hybrid solutions
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-33">
    <a id="_idTextAnchor033">
    </a>
    <span class="koboSpan" id="kobo.19.1">
     Technical requirements
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.20.1">
     You can find all code examples and other materials used in this chapter in the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.21.1">
      repository:
     </span>
    </span>
    <a href="https://github.com/PacktPublishing/ASP.NET-Core-9.0-Essentials">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.22.1">
       https://github.com/PacktPublishing/ASP.NET-Core-9.0-Essentials
      </span>
     </span>
    </a>
   </p>
   <h1 id="_idParaDest-34">
    <a id="_idTextAnchor034">
    </a>
    <span class="koboSpan" id="kobo.23.1">
     Learning about the ASP.NET Core UI
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.24.1">
     Dynamic web-based applications
    </span>
    <a id="_idIndexMarker051">
    </a>
    <span class="koboSpan" id="kobo.25.1">
     have a flow that basically involves two
    </span>
    <a id="_idIndexMarker052">
    </a>
    <span class="koboSpan" id="kobo.26.1">
     distinct “worlds” the frontend and the backend.
    </span>
    <span class="koboSpan" id="kobo.26.2">
     In general, the
    </span>
    <a id="_idIndexMarker053">
    </a>
    <span class="koboSpan" id="kobo.27.1">
     frontend deals with the mechanisms that are
    </span>
    <a id="_idIndexMarker054">
    </a>
    <span class="koboSpan" id="kobo.28.1">
     visualized and allow interaction between users and the various functionalities proposed by the solution.
    </span>
    <span class="koboSpan" id="kobo.28.2">
     Therefore, a frontend is made up of buttons, texts, lists, menus, images, and other aspects that together form the UI.
    </span>
    <span class="koboSpan" id="kobo.28.3">
     The backend is the representation of the mechanisms used to allow dynamism to the frontend, according to user interaction.
    </span>
    <span class="koboSpan" id="kobo.28.4">
     We will discuss more about backend-related aspects in
    </span>
    <a href="B21788_03.xhtml#_idTextAnchor044">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.29.1">
        Chapter 3
       </span>
      </em>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.30.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.31.1">
     Each of the terms expressed in the previous paragraph works in different contexts.
    </span>
    <span class="koboSpan" id="kobo.31.2">
     The
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.32.1">
      frontend
     </span>
    </em>
    <span class="koboSpan" id="kobo.33.1">
     usually runs on the client, which translates into the user’s browser.
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.34.1">
      Client
     </span>
    </em>
    <span class="koboSpan" id="kobo.35.1">
     is a generic term
    </span>
    <a id="_idIndexMarker055">
    </a>
    <span class="koboSpan" id="kobo.36.1">
     that can express other types of user interaction.
    </span>
    <span class="koboSpan" id="kobo.36.2">
     But in this case, we will talk about the client as the browser of your choice.
    </span>
    <span class="koboSpan" id="kobo.36.3">
     The
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.37.1">
      backend
     </span>
    </em>
    <span class="koboSpan" id="kobo.38.1">
     runs on the server, whether in a data center or even a cloud provider such
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.39.1">
      as Azure.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.40.1">
     Through user interactions in the UI, the user must communicate with the backend and subsequently be able to adapt to the server’s responses to deliver some type of response and interaction, again , to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.41.1">
      the user.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.42.1">
     The browser basically uses three technologies: HTML, CSS, and JavaScript.
    </span>
    <span class="koboSpan" id="kobo.42.2">
     HTML
    </span>
    <a id="_idIndexMarker056">
    </a>
    <span class="koboSpan" id="kobo.43.1">
     is static; that is, it is interpreted by the browser and then rendered in the form of a UI.
    </span>
    <span class="koboSpan" id="kobo.43.2">
     CSS is
    </span>
    <a id="_idIndexMarker057">
    </a>
    <span class="koboSpan" id="kobo.44.1">
     responsible for making visual elements more attractive, defining colors, shadows, and formatting, among other design aspects.
    </span>
    <span class="koboSpan" id="kobo.44.2">
     JavaScript is used to make static elements dynamic, and this includes, for example, making a call to a server, and depending on the result, modifying the user’s UI to adapt to the response of the processing carried out.
    </span>
    <span class="koboSpan" id="kobo.44.3">
     JavaScript
    </span>
    <a id="_idIndexMarker058">
    </a>
    <span class="koboSpan" id="kobo.45.1">
     is responsible for increasing the ability of web-based applications to become dynamic and interactive.
    </span>
    <span class="koboSpan" id="kobo.45.2">
     However, it can be complex to create and manipulate elements through JavaScript code and, in addition, to manage calls on the server.
    </span>
    <span class="koboSpan" id="kobo.45.3">
     There are several excellent JavaScript frameworks available, such as Angular
    </span>
    <a id="_idIndexMarker059">
    </a>
    <span class="koboSpan" id="kobo.46.1">
     or React
    </span>
    <a id="_idIndexMarker060">
    </a>
    <span class="koboSpan" id="kobo.47.1">
     that allow you to develop richly dynamic
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.48.1">
      UI solutions.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.49.1">
     It is essential to have knowledge of UI technologies; however, in addition, we can benefit from an integrated development model that allows us to work on both the UI and the backend in a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.50.1">
      rich way.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.51.1">
     ASP.NET Core 9 has a complete UI framework to meet any UI requirement for web applications and is fully integrated with the .NET platform, using best practices for separation of responsibilities, management, and maintenance, among other important aspects.
    </span>
    <span class="koboSpan" id="kobo.51.2">
     Despite this, ASP.NET Core
    </span>
    <a id="_idIndexMarker061">
    </a>
    <span class="koboSpan" id="kobo.52.1">
     is not restricted to the use of the UI renderers proposed by the platform; it also integrates well with JavaScript frameworks and even allows you to use the best of the available options by adopting a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.53.1">
      hybrid approach.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.54.1">
     However, before we move on to a more specific understanding of the options available in ASP.NET Core 9, let’s learn about important aspects related to web
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.55.1">
      systems architecture.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-35">
    <a id="_idTextAnchor035">
    </a>
    <span class="koboSpan" id="kobo.56.1">
     Rendering the UI
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.57.1">
     There are different approaches to
    </span>
    <a id="_idIndexMarker062">
    </a>
    <span class="koboSpan" id="kobo.58.1">
     developing web-based solutions when it comes to the UI layer, even before talking
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.59.1">
      about technologies.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.60.1">
     There are basically two models, client-side and server-side, with their respective pros and cons.
    </span>
    <span class="koboSpan" id="kobo.60.2">
     There is also a third possibility, which would be to use a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.61.1">
      hybrid approach.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.62.1">
     In the client-side model, processing is done locally in the browser.
    </span>
    <span class="koboSpan" id="kobo.62.2">
     In this way, all the HTML, CSS, JavaScript, and other assets are processed by the browser, responding to user stimuli.
    </span>
    <span class="koboSpan" id="kobo.62.3">
     Interactions with users are handled locally through scripts containing UI-related logic without the need to request
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.63.1">
      the server.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.64.1">
     However, this approach depends on server resources, such as access to data, among other things, and so it is necessary to make frequent calls to the server in order to obtain information based on the user’s needs, which is then processed and presented in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.65.1">
      the UI.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.66.1">
     In the server-side approach, all the processing is delegated to the server, which returns a customized HTML page ready to be rendered in the browser.
    </span>
    <span class="koboSpan" id="kobo.66.2">
     The server processes all the necessary information, allows access to data, manages business logic, has the ability to abstract sensitive information using secrets, and delegates minimal processing to the client.
    </span>
    <span class="koboSpan" id="kobo.66.3">
     However, if the server is not available, it will not be possible to use
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.67.1">
      the system.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.68.1">
     In the hybrid approach, there is a combination of the best of “
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.69.1">
      both worlds.”
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.70.1">
     There are many JavaScript frameworks prepared to make web-based systems dynamic, providing a great user experience by processing resources on the client and, likewise, having the ability to interact with the server, delegating the processing of only relevant information to the UI rather than the entire processing of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.71.1">
      a page.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.72.1">
     Fortunately, ASP.NET Core 9 is
    </span>
    <a id="_idIndexMarker063">
    </a>
    <span class="koboSpan" id="kobo.73.1">
     prepared for the development of web-based solutions in the different approaches mentioned.
    </span>
    <span class="koboSpan" id="kobo.73.2">
     We’ll start to understand the first UI development model, using Razor Pages, in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.74.1">
      next section.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-36">
    <a id="_idTextAnchor036">
    </a>
    <span class="koboSpan" id="kobo.75.1">
     Implementing a UI server render model with Razor Pages and ASP.NET MVC
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.76.1">
     ASP.NET Core 9 offers two powerful server-render models: Razor Pages
    </span>
    <a id="_idIndexMarker064">
    </a>
    <span class="koboSpan" id="kobo.77.1">
     and MVC.
    </span>
    <span class="koboSpan" id="kobo.77.2">
     They are similar models, but MVC
    </span>
    <a id="_idIndexMarker065">
    </a>
    <span class="koboSpan" id="kobo.78.1">
     is more elaborate and implements the Model-View-Controller architectural design pattern—we’ll talk more about this in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.79.1">
      ASP.NET Core MVC
     </span>
    </em>
    <span class="koboSpan" id="kobo.80.1">
     section.
    </span>
    <span class="koboSpan" id="kobo.80.2">
     For now, let’s start learning about
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.81.1">
      Razor Pages.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-37">
    <a id="_idTextAnchor037">
    </a>
    <span class="koboSpan" id="kobo.82.1">
     ASP.NET Core Razor Pages
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.83.1">
     Razor Pages is
    </span>
    <a id="_idIndexMarker066">
    </a>
    <span class="koboSpan" id="kobo.84.1">
     a server-rendered framework that implements a page-based model.
    </span>
    <span class="koboSpan" id="kobo.84.2">
     The page-based model basically contextualizes the implementation of a specific page, taking into account the UI and business logic, but correctly
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.85.1">
      segregating responsibilities.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.86.1">
     Razor
    </span>
    <a id="_idIndexMarker067">
    </a>
    <span class="koboSpan" id="kobo.87.1">
     is a markup language that acts similarly to a template engine and combines its use with HTML and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.88.1">
      C# code.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.89.1">
     Razor’s origins
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.90.1">
     Razor’s development began in June 2010, but it was only released in January 2011 with MVC 3, as part of Microsoft Visual Studio 2010.
    </span>
    <span class="koboSpan" id="kobo.90.2">
     Razor is a simple-syntax
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.91.1">
      visualization engine.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.92.1">
     This page-based development model brings great advantages, such as ease of creating and updating the UI; it’s testable, keeps UI and business logic separate, and although it has similarities to ASP.NET Core MVC, it’s simpler.
    </span>
    <span class="koboSpan" id="kobo.92.2">
     Taking all these advantages into consideration, let’s create our first project using
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.93.1">
      Razor Pages.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.94.1">
     Creating our first project with Razor Pages
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.95.1">
     To create a
    </span>
    <a id="_idIndexMarker068">
    </a>
    <span class="koboSpan" id="kobo.96.1">
     Razor Pages project, you can use Visual Studio or
    </span>
    <a id="_idIndexMarker069">
    </a>
    <span class="koboSpan" id="kobo.97.1">
     the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.98.1">
      dotnet
     </span>
    </strong>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.99.1">
      CLI tool.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.100.1">
     Creation using Visual Studio is very simple; just open the IDE, select
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.101.1">
      Create a new project
     </span>
    </strong>
    <span class="koboSpan" id="kobo.102.1">
     , and then select the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.103.1">
      ASP.NET Core Web App
     </span>
    </strong>
    <span class="koboSpan" id="kobo.104.1">
     template, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.105.1">
       Figure 2
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.106.1">
       .1
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.107.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer016">
     <span class="koboSpan" id="kobo.108.1">
      <img alt="Figure 2.1 – Selecting a project template" src="image/B21788_02_1.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.109.1">
     Figure 2.1 – Selecting a project template
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.110.1">
     Both Visual Studio and the CLI tool work with the concept of templates.
    </span>
    <span class="koboSpan" id="kobo.110.2">
     With the .NET platform, it is possible to develop different types of projects, whether for web, Windows, or mobile.
    </span>
    <span class="koboSpan" id="kobo.110.3">
     Each template creates a basic
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.111.1">
      project structure.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.112.1">
     Throughout the rest of the book, we will use the CLI tool to create projects, as well as other needs that we will discuss later.
    </span>
    <span class="koboSpan" id="kobo.112.2">
     From now on, we will use the .NET CLI tool to create a Razor Pages project, as this tool offers us several benefits that we will discuss in the rest of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.113.1">
      the book.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.114.1">
     When you install the .NET 9 SDK, a number of tools are available.
    </span>
    <span class="koboSpan" id="kobo.114.2">
     The main tool we will use in this book
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.115.1">
      is
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.116.1">
       dotnet
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.117.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.118.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.119.1">
      dotnet
     </span>
    </strong>
    <span class="koboSpan" id="kobo.120.1">
     CLI tool also has a concept of templates.
    </span>
    <span class="koboSpan" id="kobo.120.2">
     To test this functionality, open your operating system’s Command
    </span>
    <a id="_idIndexMarker070">
    </a>
    <span class="koboSpan" id="kobo.121.1">
     Prompt and run the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.122.1">
      following command:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.123.1">
dotnet --version</span></pre>
   <p>
    <span class="koboSpan" id="kobo.124.1">
     After running the preceding command, the current version of the tool will be displayed.
    </span>
    <span class="koboSpan" id="kobo.124.2">
     This time, still at the prompt, run the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.125.1">
      following command:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.126.1">
dotnet new</span></pre>
   <p>
    <span class="koboSpan" id="kobo.127.1">
     After running the preceding command, you will see
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.128.1">
      the following:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer017">
     <span class="koboSpan" id="kobo.129.1">
      <img alt="Figure 2.2 – dotnet CLI tool templates" src="image/B21788_02_2.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.130.1">
     Figure 2.2 – dotnet CLI tool templates
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.131.1">
     As can
    </span>
    <a id="_idIndexMarker071">
    </a>
    <span class="koboSpan" id="kobo.132.1">
     be seen in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.133.1">
       Figure 2
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.134.1">
      .2
     </span>
    </em>
    <span class="koboSpan" id="kobo.135.1">
     , some templates and examples of use were listed.
    </span>
    <span class="koboSpan" id="kobo.135.2">
     Each model has a set of parameters that are used to customize project creation.
    </span>
    <span class="koboSpan" id="kobo.135.3">
     If you want to know more about the parameters of each template, just type the following command; for example, for the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.136.1">
      webapp
     </span>
    </strong>
    <span class="koboSpan" id="kobo.137.1">
     template, you’d type
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.138.1">
      this command:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.139.1">
dotnet new webapp –h</span></pre>
   <p>
    <span class="koboSpan" id="kobo.140.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.141.1">
      -h
     </span>
    </strong>
    <span class="koboSpan" id="kobo.142.1">
     (help) parameter will provide a list of parameters and documentation for the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.143.1">
      desired template.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.144.1">
     Depending on the installation on your machine, there may be other templates.
    </span>
    <span class="koboSpan" id="kobo.144.2">
     Run the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.145.1">
      following command:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.146.1">
dotnet new list</span></pre>
   <p>
    <span class="koboSpan" id="kobo.147.1">
     You will
    </span>
    <a id="_idIndexMarker072">
    </a>
    <span class="koboSpan" id="kobo.148.1">
     see a list containing many types of
    </span>
    <a id="_idIndexMarker073">
    </a>
    <span class="koboSpan" id="kobo.149.1">
     project templates; we will focus on the projects highlighted in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.150.1">
       Figure 2
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.151.1">
       .3
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.152.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer018">
     <span class="koboSpan" id="kobo.153.1">
      <img alt="Figure 2.3 – All available project templates" src="image/B21788_02_3.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.154.1">
     Figure 2.3 – All available project templates
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.155.1">
     Now that we’ve understood templates, let’s finally create a new Razor Pages project via the command line.
    </span>
    <span class="koboSpan" id="kobo.155.2">
     To do this, open Command Prompt, create a new folder called
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.156.1">
      NewRazorPages
     </span>
    </strong>
    <span class="koboSpan" id="kobo.157.1">
     , and run the following command on
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.158.1">
      this folder:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.159.1">
dotnet new razor -n MySecondWebRazor</span></pre>
   <p>
    <span class="koboSpan" id="kobo.160.1">
     The previous command is composed of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.161.1">
      new
     </span>
    </strong>
    <span class="koboSpan" id="kobo.162.1">
     command, to create a new project, then
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.163.1">
      razor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.164.1">
     , representing the short name of the desired template, and finally the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.165.1">
      -n
     </span>
    </strong>
    <span class="koboSpan" id="kobo.166.1">
     parameter, which defines the name of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.167.1">
      the project.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.168.1">
     After executing the command, a new folder containing the project will
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.169.1">
      be created.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.170.1">
     Command details
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.171.1">
     Each of the commands available in the CLI tool can have a set of parameters.
    </span>
    <span class="koboSpan" id="kobo.171.2">
     To find out more about these parameters, simply add the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.172.1">
      -h
     </span>
    </strong>
    <span class="koboSpan" id="kobo.173.1">
     option after a command; for example,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.174.1">
      dotnet
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.175.1">
       new -h
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.176.1">
      .
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.177.1">
     You can also consult the
    </span>
    <a id="_idIndexMarker074">
    </a>
    <span class="koboSpan" id="kobo.178.1">
     tool’s documentation at the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.179.1">
      link:
     </span>
    </span>
    <a href="https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.180.1">
       https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet
      </span>
     </span>
    </a>
   </p>
   <p>
    <span class="koboSpan" id="kobo.181.1">
     For the rest of the book, we will consider creating projects via the command line.
    </span>
    <span class="koboSpan" id="kobo.181.2">
     Now, let’s go into more detail about the Razor Pages project
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.182.1">
      we’ve created.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.183.1">
     Understanding the Razor Pages project
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.184.1">
     The Razor Pages project has a very
    </span>
    <a id="_idIndexMarker075">
    </a>
    <span class="koboSpan" id="kobo.185.1">
     simple directory structure and configurations compared to ASP.NET Core MVC.
    </span>
    <span class="koboSpan" id="kobo.185.2">
     However, many of the concepts used in this project serve as a basis for the MVC project, so we’ll take advantage of all
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.186.1">
      the content.
     </span>
    </span>
   </p>
   <p>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.187.1">
       Figure 2
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.188.1">
      .4
     </span>
    </em>
    <span class="koboSpan" id="kobo.189.1">
     shows the structure of the project created in the previous section and has been expanded to express each important item that we will discuss in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.190.1">
      more detail:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer019">
     <span class="koboSpan" id="kobo.191.1">
      <img alt="Figure 2.4 – Razor Pages project structure" src="image/B21788_02_4.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.192.1">
     Figure 2.4 – Razor Pages project structure
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.193.1">
     Razor Pages has a simple structure that can basically be divided into four
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.194.1">
      important items:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.195.1">
       wwwroot folder
      </span>
     </strong>
     <span class="koboSpan" id="kobo.196.1">
      : This
     </span>
     <a id="_idIndexMarker076">
     </a>
     <span class="koboSpan" id="kobo.197.1">
      folder contains the application’s static files, such as JavaScript, CSS, libraries, and images.
     </span>
     <span class="koboSpan" id="kobo.197.2">
      By default, three subdirectories are configured, such as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.198.1">
       css
      </span>
     </strong>
     <span class="koboSpan" id="kobo.199.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.200.1">
       js
      </span>
     </strong>
     <span class="koboSpan" id="kobo.201.1">
      , and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.202.1">
       lib
      </span>
     </strong>
     <span class="koboSpan" id="kobo.203.1">
      , used to contain JavaScript files from external libraries, such as jQuery, among others.
     </span>
     <span class="koboSpan" id="kobo.203.2">
      You can also create other directories to contain files such as images, fonts, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.204.1">
       so on.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.205.1">
       Pages folder
      </span>
     </strong>
     <span class="koboSpan" id="kobo.206.1">
      : This folder
     </span>
     <a id="_idIndexMarker077">
     </a>
     <span class="koboSpan" id="kobo.207.1">
      contains the application’s pages, subdivided into a pair of files with the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.208.1">
       cshtml
      </span>
     </strong>
     <span class="koboSpan" id="kobo.209.1">
      extension that contain the HTML code and C# code using Razor syntax, and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.210.1">
       cshtml.cs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.211.1">
      , which contains the C# code responsible for handling
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.212.1">
       page events.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.213.1">
       appsettings.json
      </span>
     </strong>
     <span class="koboSpan" id="kobo.214.1">
      : This is a
     </span>
     <a id="_idIndexMarker078">
     </a>
     <span class="koboSpan" id="kobo.215.1">
      file in
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.216.1">
       JSON
      </span>
     </strong>
     <span class="koboSpan" id="kobo.217.1">
      format that is used to maintain application settings centrally, as well as database connection strings, API keys, and other parameters.
     </span>
     <span class="koboSpan" id="kobo.217.2">
      We’ll talk more about settings in
     </span>
     <a href="B21788_09.xhtml#_idTextAnchor146">
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.218.1">
         Chapter 9
        </span>
       </em>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.219.1">
       .
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.220.1">
       Program.cs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.221.1">
      : This is
     </span>
     <a id="_idIndexMarker079">
     </a>
     <span class="koboSpan" id="kobo.222.1">
      the most important file in the Razor Pages project, written in C# and containing all the execution settings for the entire
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.223.1">
       application flow.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.224.1">
     Some other details and configurations related to the project will be seen in the other chapters of the book as we add more features and concepts to the learning process.
    </span>
    <span class="koboSpan" id="kobo.224.2">
     For now, it’s very important to understand some of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.225.1">
      project’s premises.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.226.1">
     Let’s look at the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.227.1">
      Program.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.228.1">
     file to
    </span>
    <a id="_idIndexMarker080">
    </a>
    <span class="koboSpan" id="kobo.229.1">
     understand
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.230.1">
      some details:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.231.1">
var builder = WebApplication.CreateBuilder(args);
builder.Services.AddRazorPages();
var app = builder.Build();
if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Error");
    app.UseHsts();
}
app.UseHttpsRedirection();
app.UseStaticFiles();
app.UseRouting();
app.UseAuthorization();
app.MapRazorPages();
app.Run();</span></pre>
   <p>
    <span class="koboSpan" id="kobo.232.1">
     The following points explain the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.233.1">
      preceding code:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.234.1">
      The first line of the file creates an instance of an ASP.NET Core web application, using some standard configurations, such as adding middleware, between
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.235.1">
       lines 9
      </span>
     </em>
     <span class="koboSpan" id="kobo.236.1">
      and
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.237.1">
       13
      </span>
     </em>
     <span class="koboSpan" id="kobo.238.1">
      , that acts on the application flow and convention configurations for generating routes, among other aspects provided by the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.239.1">
       framework itself.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.240.1">
      Next, we have the execution of the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.241.1">
       builder.services.AddRazorPages
      </span>
     </strong>
     <span class="koboSpan" id="kobo.242.1">
      line, which is responsible for configuring the web application with the characteristics of the Razor Pages project.
     </span>
     <span class="koboSpan" id="kobo.242.2">
      This project has dependencies on certain classes that are used by the platform when running
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.243.1">
       the application.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.244.1">
      Between
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.245.1">
       lines 4
      </span>
     </em>
     <span class="koboSpan" id="kobo.246.1">
      and
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.247.1">
       8
      </span>
     </em>
     <span class="koboSpan" id="kobo.248.1">
      , there is a
     </span>
     <a id="_idIndexMarker081">
     </a>
     <span class="koboSpan" id="kobo.249.1">
      check related to the environment in which the application is running.
     </span>
     <span class="koboSpan" id="kobo.249.2">
      This block ensures that if there are any errors not dealt with by the application, the user will be redirected to a generic error page, preventing details of the application from being exposed.
     </span>
     <span class="koboSpan" id="kobo.249.3">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.250.1">
       app.UseHsts()
      </span>
     </strong>
     <span class="koboSpan" id="kobo.251.1">
      code aims to force communication via the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.252.1">
       HTTP Strict Transport Security
      </span>
     </strong>
     <span class="koboSpan" id="kobo.253.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.254.1">
       HSTS
      </span>
     </strong>
     <span class="koboSpan" id="kobo.255.1">
      ) protocol
     </span>
     <a id="_idIndexMarker082">
     </a>
     <span class="koboSpan" id="kobo.256.1">
      to add security and the use
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.257.1">
       of HTTPS.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.258.1">
      On
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.259.1">
       line 9
      </span>
     </em>
     <span class="koboSpan" id="kobo.260.1">
      , we guarantee the use of the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.261.1">
       HTTPS protocol.
      </span>
     </span>
    </li>
    <li>
     <em class="italic">
      <span class="koboSpan" id="kobo.262.1">
       Line 10
      </span>
     </em>
     <span class="koboSpan" id="kobo.263.1">
      is necessary for the Razor Pages application to take into account static files, localization, and the use
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.264.1">
       of HTTPS.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.265.1">
     It is important to consider, at this point, that the code described in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.266.1">
      Program.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.267.1">
     file will affect how the application will behave at runtime.
    </span>
    <span class="koboSpan" id="kobo.267.2">
     We must also consider the order of each of the methods located in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.268.1">
      the file.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.269.1">
     Further details and configuration variations will be discussed later in the book.
    </span>
    <span class="koboSpan" id="kobo.269.2">
     We are already familiar with the Razor Pages project structure, so let’s learn more about the syntax used in HTML pages and how to interact with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.270.1">
      C# code.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.271.1">
     Working with pages
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.272.1">
     Razor acts as
    </span>
    <a id="_idIndexMarker083">
    </a>
    <span class="koboSpan" id="kobo.273.1">
     a powerful templating engine, allowing you to create pages using HTML, CSS, JavaScript, and C# code in the same file.
    </span>
    <span class="koboSpan" id="kobo.273.2">
     This approach brings great flexibility in generating
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.274.1">
      dynamic pages.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.275.1">
     Let’s look at an example of the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.276.1">
       Index.html
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.277.1">
      page:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.278.1">
@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
&lt;div class="text-center"&gt;
    &lt;h1 class="display-4"&gt;Welcome&lt;/h1&gt;
    &lt;p&gt;Learn about &lt;a
      href="https://learn.microsoft.com/aspnet/core"&gt;
      building Web apps with ASP.NET Core&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.279.1">
     The first lines of code refer to page-related settings, and then we have the pure
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.280.1">
      HTML code.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.281.1">
     Let’s understand the main components described in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.282.1">
      the file:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.283.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.284.1">
       @page
      </span>
     </strong>
     <span class="koboSpan" id="kobo.285.1">
      directive must be the first directive in a Razor page view.
     </span>
     <span class="koboSpan" id="kobo.285.2">
      It indicates that the page will function as an
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.286.1">
       action handler.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.287.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.288.1">
       @model
      </span>
     </strong>
     <span class="koboSpan" id="kobo.289.1">
      directive indicates which type of model will be passed to the page.
     </span>
     <span class="koboSpan" id="kobo.289.2">
      Razor Pages has a set of two files that make up a page,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.290.1">
       .cshtml
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.291.1">
       and
      </span>
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.292.1">
        .cshtml.cs
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.293.1">
       .
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.294.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.295.1">
      ViewData["Title"]
     </span>
    </strong>
    <span class="koboSpan" id="kobo.296.1">
     code is a dictionary, which represents another way of passing data to pages.
    </span>
    <span class="koboSpan" id="kobo.296.2">
     In general,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.297.1">
      ViewData
     </span>
    </strong>
    <span class="koboSpan" id="kobo.298.1">
     is used to pass small amounts of data.
    </span>
    <span class="koboSpan" id="kobo.298.2">
     In the case of the preceding code,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.299.1">
      ViewData
     </span>
    </strong>
    <span class="koboSpan" id="kobo.300.1">
     is being used to pass information from the page title to the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.301.1">
      HTML template.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.302.1">
     The first
    </span>
    <a id="_idIndexMarker084">
    </a>
    <span class="koboSpan" id="kobo.303.1">
     concerns HTML; as with the previous example,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.304.1">
      .cshtml.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.305.1">
     refers to the C# code of the page handler, which contains the model or information that will be used on the page.
    </span>
    <span class="koboSpan" id="kobo.305.2">
     Thus, the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.306.1">
      Index.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.307.1">
     file has an association with the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.308.1">
       index.cshtml.cs
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.309.1">
      file.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.310.1">
     In the following code, we have the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.311.1">
      IndexModel
     </span>
    </strong>
    <span class="koboSpan" id="kobo.312.1">
     class that represents the model that will be used on
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.313.1">
      the page:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.314.1">
public class IndexModel : PageModel
 {
     private readonly ILogger&lt;IndexModel&gt; _logger;
     public IndexModel(ILogger&lt;IndexModel&gt; logger)
     {
         _logger = logger;
     }
     public void OnGet()
     {
     }
 }</span></pre>
   <p>
    <span class="koboSpan" id="kobo.315.1">
     As we noted in the example, the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.316.1">
      Index.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.317.1">
     page does not have the entire structure of an HTML page.
    </span>
    <span class="koboSpan" id="kobo.317.2">
     This is because Razor Pages allows the concept of Layout.
    </span>
    <span class="koboSpan" id="kobo.317.3">
     That is, pages can often share a similar structure.
    </span>
    <span class="koboSpan" id="kobo.317.4">
     This way, we can reuse the code to both generate common Layouts and create shared
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.318.1">
      View blocks.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.319.1">
     In the project structure, Layouts are kept within the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.320.1">
      Pages/Shared
     </span>
    </strong>
    <span class="koboSpan" id="kobo.321.1">
     folder.
    </span>
    <span class="koboSpan" id="kobo.321.2">
     By convention, shared views start with an underscore.
    </span>
    <span class="koboSpan" id="kobo.321.3">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.322.1">
      _Layout.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.323.1">
     file has a common HTML structure and, in addition, a special
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.324.1">
      directive,
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.325.1">
       @RenderBody()
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.326.1">
      :
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.327.1">
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;!-- The rest of the code has been omitted for
      readability. </span><span class="koboSpan" id="kobo.327.2">--&gt;
    &lt;title&gt;@ViewData["Title"] - MyFirstRazorWebApp&lt;/title&gt;
    &lt;!-- The rest of the code has been omitted for
      readability. </span><span class="koboSpan" id="kobo.327.3">--&gt;
&lt;div class="container"&gt;
    &lt;main role="main" class="pb-3"&gt;
        @RenderBody()
    &lt;/main&gt;
&lt;/div&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.328.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.329.1">
      RenderBody()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.330.1">
     method specifies the location where views will be rendered after server processing.
    </span>
    <span class="koboSpan" id="kobo.330.2">
     In the case of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.331.1">
      index.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.332.1">
     page, all HTML will be rendered between the main tags, in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.333.1">
      _Layout.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.334.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.334.2">
     Also, note the use of
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.335.1">
      ViewData["Title"]
     </span>
    </strong>
    <span class="koboSpan" id="kobo.336.1">
     , which will display the value set on a page, as done in the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.337.1">
       index.cshtml
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.338.1">
      file.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.339.1">
     There are two
    </span>
    <a id="_idIndexMarker085">
    </a>
    <span class="koboSpan" id="kobo.340.1">
     other special files that, by convention, should be located in the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.341.1">
       Pages
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.342.1">
      folder:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.343.1">
       _ViewStart.cshtml
      </span>
     </strong>
     <span class="koboSpan" id="kobo.344.1">
      : This is a file that allows us to define code that must be executed before displaying each Views.
     </span>
     <span class="koboSpan" id="kobo.344.2">
      In this case, this file has a code where it defines which Layout file will be used
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.345.1">
       for Views.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.346.1">
       _ViewImports.cshtml
      </span>
     </strong>
     <span class="koboSpan" id="kobo.347.1">
      : This file is used to define the namespace and import features into the page, in a common way.
     </span>
     <span class="koboSpan" id="kobo.347.2">
      This way, there is no need to declare namespaces and other features on
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.348.1">
       each page.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.349.1">
     Now that we understand the entire project structure and how Razor pages are managed in the project, let’s add some customizations to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.350.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.351.1">
     page and the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.352.1">
      IndexModel
     </span>
    </strong>
    <span class="koboSpan" id="kobo.353.1">
     model and learn how to use Razor syntax and interact with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.354.1">
      C# code.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.355.1">
     Interacting with the Razor syntax and C# model
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.356.1">
     As explained previously, Razor pages
    </span>
    <a id="_idIndexMarker086">
    </a>
    <span class="koboSpan" id="kobo.357.1">
     have two files, one responsible for rendering
    </span>
    <a id="_idIndexMarker087">
    </a>
    <span class="koboSpan" id="kobo.358.1">
     the UI and the other responsible for containing the page’s business logic.
    </span>
    <span class="koboSpan" id="kobo.358.2">
     Furthermore, there is the possibility of using C# code together with HTML, meaning that the page can be generated during processing time on the server, according to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.359.1">
      user interactions.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.360.1">
     We will make some changes to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.361.1">
      index.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.362.1">
     file, adding some controls as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.363.1">
       Figure 2
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.364.1">
       .5
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.365.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer020">
     <span class="koboSpan" id="kobo.366.1">
      <img alt="Figure 2.5 – Customizing the index.cshtml file using Razor syntax" src="image/B21788_02_5.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.367.1">
     Figure 2.5 – Customizing the index.cshtml file using Razor syntax
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.368.1">
     Open the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.369.1">
      index.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.370.1">
     file in Visual Studio or Visual Studio Code to make the changes and follow
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.371.1">
      these steps:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.372.1">
      Between the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.373.1">
       @{}
      </span>
     </strong>
     <span class="koboSpan" id="kobo.374.1">
      instance, add the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.375.1">
       following code:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.376.1">
string subtitle = "It's funny";</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.377.1">
      Now, change all the
     </span>
     <a id="_idIndexMarker088">
     </a>
     <span class="koboSpan" id="kobo.378.1">
      content between the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.379.1">
       div
      </span>
     </strong>
     <span class="koboSpan" id="kobo.380.1">
      tags, which
     </span>
     <a id="_idIndexMarker089">
     </a>
     <span class="koboSpan" id="kobo.381.1">
      contain the page content, to the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.382.1">
       following code:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.383.1">
&lt;h1 class="display-4"&gt;Welcome&lt;/h1&gt;
  &lt;p&gt;Learn about &lt;a
    href="https://learn.microsoft.com/aspnet/core"&gt;
    building Web apps with ASP.NET Core&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;@Model.Message&lt;/h2&gt;&lt;br /&gt;
&lt;h3&gt;@subtitle&lt;/h3&gt;
  &lt;a asp-page-handler="DefineColor"
    asp-route-id="1"&gt;Red&lt;/a&gt;
  &lt;a asp-page-handler="DefineColor"
    asp-route-id="2"&gt;Green&lt;/a&gt;
  &lt;div style="width: 200px;height:200px;
    background-color:@Model.Color"&gt;&lt;/div&gt;
  &lt;form method="post"&gt;
    &lt;label&gt;Total:&lt;/label&gt;&lt;input type="text"
      name="quantity"/&gt;
    &lt;input type="submit" value="Load Products"
      name="btn" /&gt;
  &lt;/form&gt;
  &lt;table class="table"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;Id&lt;/th&gt;
            &lt;th&gt;Nome&lt;/th&gt;
            &lt;th&gt;Preço&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        @foreach (var product in Model.Products)
        {
            &lt;tr&gt;
                &lt;td&gt;@product.Id&lt;/td&gt;
                &lt;td&gt;@product.Name&lt;/td&gt;
                &lt;td&gt;@product.Price.ToString("C")&lt;/td&gt;
            &lt;/tr&gt;
        }
    &lt;/tbody&gt;
  &lt;/table&gt;</span></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.384.1">
       The preceding code creates formatting for the
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.385.1">
        Price
       </span>
      </strong>
      <span class="koboSpan" id="kobo.386.1">
       property so that it is displayed in currency format.
      </span>
      <span class="koboSpan" id="kobo.386.2">
       This formatting will take into account your browser’s regional settings.
      </span>
      <span class="koboSpan" id="kobo.386.3">
       In the case of the example run in this book, the formatting will display the price in
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.387.1">
        en-US
       </span>
      </strong>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.388.1">
        culture format.
       </span>
      </span>
     </p>
    </li>
    <li>
     <span class="koboSpan" id="kobo.389.1">
      To
     </span>
     <a id="_idIndexMarker090">
     </a>
     <span class="koboSpan" id="kobo.390.1">
      ensure that the property is displayed in a specific
     </span>
     <a id="_idIndexMarker091">
     </a>
     <span class="koboSpan" id="kobo.391.1">
      format, a new property can
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.392.1">
       be created:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.393.1">
public string FormattedPrice
    {
        get { return price.ToString("C",
          CultureInfo.GetCultureInfo("en-US")); }
    }</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.394.1">
      This way, we can update the existing code for price display to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.395.1">
       the following:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.396.1">
&lt;td&gt;@product.FormattedPrice&lt;/td&gt;</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.397.1">
      However, we
     </span>
     <a id="_idIndexMarker092">
     </a>
     <span class="koboSpan" id="kobo.398.1">
      can define the application culture globally, avoiding
     </span>
     <a id="_idIndexMarker093">
     </a>
     <span class="koboSpan" id="kobo.399.1">
      the need to create a new property.
     </span>
     <span class="koboSpan" id="kobo.399.2">
      To make this change, add the following code to the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.400.1">
       Program.cs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.401.1">
      file below the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.402.1">
       var app =
      </span>
     </strong>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.403.1">
        builder.Build()
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.404.1">
       line:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.405.1">
app.UseRequestLocalization(new
  RequestLocalizationOptions
{
  DefaultRequestCulture = new RequestCulture("en-US"),
  SupportedCultures = new List&lt;CultureInfo&gt;
  {
    new CultureInfo("en-US")
  }
});</span></pre>
    </li>
   </ol>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.406.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.407.1">
     For more information about managing
    </span>
    <a id="_idIndexMarker094">
    </a>
    <span class="koboSpan" id="kobo.408.1">
     cultures in ASP.NET Core 9, see the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.409.1">
      link:
     </span>
    </span>
    <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/localization?view=aspnetcore-9-0">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.410.1">
       https://learn.microsoft.com/en-us/aspnet/core/fundamentals/localization?view=aspnetcore-9-0
      </span>
     </span>
    </a>
   </p>
   <p>
    <span class="koboSpan" id="kobo.411.1">
     Some elements that use inline C# code have been added, in addition to some calls to the server code.
    </span>
    <span class="koboSpan" id="kobo.411.2">
     At the moment, it is important to understand how Razor syntax can be used together with HTML.
    </span>
    <span class="koboSpan" id="kobo.411.3">
     Let’s understand all the elements added to the UI and how they interact
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.412.1">
      with C#.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.413.1">
     The first snippet added on
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.414.1">
      line 5
     </span>
    </em>
    <span class="koboSpan" id="kobo.415.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.416.1">
      string subtitle = "It's funny"
     </span>
    </strong>
    <span class="koboSpan" id="kobo.417.1">
     , is C# code, declaring a variable of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.418.1">
      type
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.419.1">
       string
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.420.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.421.1">
     Note that all the code is enclosed between
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.422.1">
      @{ and }
     </span>
    </strong>
    <span class="koboSpan" id="kobo.423.1">
     symbols, as per the example between
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.424.1">
      lines 3
     </span>
    </em>
    <span class="koboSpan" id="kobo.425.1">
     and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.426.1">
      6
     </span>
    </em>
    <span class="koboSpan" id="kobo.427.1">
     of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.428.1">
      index.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.429.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.429.2">
     This syntax allows the addition of a block of code
    </span>
    <a id="_idIndexMarker095">
    </a>
    <span class="koboSpan" id="kobo.430.1">
     capable of
    </span>
    <a id="_idIndexMarker096">
    </a>
    <span class="koboSpan" id="kobo.431.1">
     containing C# and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.432.1">
      HTML instructions.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.433.1">
     Combining C# and HTML code and a block
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.434.1">
     Within a C# code block, it is also possible to add HTML tags.
    </span>
    <span class="koboSpan" id="kobo.434.2">
     Using this strategy brings great advantages, such as determining what type of HTML tag will be rendered, according to an
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.435.1">
      if
     </span>
    </strong>
    <span class="koboSpan" id="kobo.436.1">
     statement, as in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.437.1">
      following example:
     </span>
    </span>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.438.1">
      @{
     </span>
    </strong>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.439.1">
      if (total &gt;
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.440.1">
       0)
      </span>
     </strong>
    </span>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.441.1">
      {
     </span>
    </strong>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.442.1">
      &lt;h1&gt;The available amount
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.443.1">
       is: @total&lt;/h1&gt;
      </span>
     </strong>
    </span>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.444.1">
      }
     </span>
    </strong>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.445.1">
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.446.1">
       else
      </span>
     </strong>
    </span>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.447.1">
      {
     </span>
    </strong>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.448.1">
      &lt;h2&gt;There is no
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.449.1">
       amount available&lt;/h2&gt;
      </span>
     </strong>
    </span>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.450.1">
      }
     </span>
    </strong>
   </p>
   <p class="callout">
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.451.1">
      }
     </span>
    </strong>
   </p>
   <p>
    <span class="koboSpan" id="kobo.452.1">
     In addition to the code block, the use of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.453.1">
      @
     </span>
    </strong>
    <span class="koboSpan" id="kobo.454.1">
     symbol allows the addition of C# code in one line, as in the example of the preceding code, which will display the value of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.455.1">
      Message
     </span>
    </strong>
    <span class="koboSpan" id="kobo.456.1">
     property of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.457.1">
      Model
     </span>
    </strong>
    <span class="koboSpan" id="kobo.458.1">
     object and display the value of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.459.1">
      subtitle
     </span>
    </strong>
    <span class="koboSpan" id="kobo.460.1">
     variable,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.461.1">
      previously defined:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.462.1">
  &lt;h2&gt;@Model.Message&lt;/h2&gt;&lt;br /&gt;
  &lt;h3&gt;@subtitle&lt;/h3&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.463.1">
     Razor Pages provides directives, which are features added to HTML tags.
    </span>
    <span class="koboSpan" id="kobo.463.2">
     The following code adds two anchors to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.464.1">
      the page:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.465.1">
&lt;a asp-page-handler="DefineColor" asp-route-id="1"&gt;Red&lt;/a&gt;
&lt;a asp-page-handler="DefineColor"
  asp-route-id="2"&gt;Green&lt;/a&gt;
    &lt;div style="width: 200px;height:200px;
      background-color:@Model.Color"&gt;&lt;/div&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.466.1">
     Note that there are two attributes,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.467.1">
      asp-page-handler
     </span>
    </strong>
    <span class="koboSpan" id="kobo.468.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.469.1">
      asp-route-id
     </span>
    </strong>
    <span class="koboSpan" id="kobo.470.1">
     .
    </span>
    <span class="koboSpan" id="kobo.470.2">
     These are directive Razor pages, which determine, respectively, the name of the event handler when the link is clicked and the value that will be sent as a parameter to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.471.1">
      the handler.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.472.1">
     Also, note
    </span>
    <a id="_idIndexMarker097">
    </a>
    <span class="koboSpan" id="kobo.473.1">
     that the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.474.1">
      div
     </span>
    </strong>
    <span class="koboSpan" id="kobo.475.1">
     style has the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.476.1">
      @Model.Color
     </span>
    </strong>
    <span class="koboSpan" id="kobo.477.1">
     code, inserted
    </span>
    <a id="_idIndexMarker098">
    </a>
    <span class="koboSpan" id="kobo.478.1">
     as the value of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.479.1">
      background-color
     </span>
    </strong>
    <span class="koboSpan" id="kobo.480.1">
     property.
    </span>
    <span class="koboSpan" id="kobo.480.2">
     The color of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.481.1">
      div
     </span>
    </strong>
    <span class="koboSpan" id="kobo.482.1">
     tag will be set dynamically, according to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.483.1">
      the link.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.484.1">
     For the rest of the controls created on the page, we have a purely HTML form and a table that lists randomly generated products.
    </span>
    <span class="koboSpan" id="kobo.484.2">
     The form does not have the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.485.1">
      action
     </span>
    </strong>
    <span class="koboSpan" id="kobo.486.1">
     attribute, used to determine the page or script that will process the posting of data.
    </span>
    <span class="koboSpan" id="kobo.486.2">
     This attribute was omitted because Razor Pages follows a convention, which in this case is to infer the action to the form
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.487.1">
      page itself.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.488.1">
     The following code generates the rows and columns of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.489.1">
      product table:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.490.1">
@foreach (var product in Model.Products)
 {
     &lt;tr&gt;
         &lt;td&gt;@product.Id&lt;/td&gt;
         &lt;td&gt;@product.Name&lt;/td&gt;
         &lt;td&gt;@product.Price.ToString("C")&lt;/td&gt;
     &lt;/tr&gt;
 }</span></pre>
   <p>
    <span class="koboSpan" id="kobo.491.1">
     The preceding
    </span>
    <a id="_idIndexMarker099">
    </a>
    <span class="koboSpan" id="kobo.492.1">
     code is a mix of HTML and C# code.
    </span>
    <span class="koboSpan" id="kobo.492.2">
     After executing
    </span>
    <a id="_idIndexMarker100">
    </a>
    <span class="koboSpan" id="kobo.493.1">
     the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.494.1">
      foreach
     </span>
    </strong>
    <span class="koboSpan" id="kobo.495.1">
     statement, the columns and rows of the product table are defined.
    </span>
    <span class="koboSpan" id="kobo.495.2">
     Products are generated in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.496.1">
      Products
     </span>
    </strong>
    <span class="koboSpan" id="kobo.497.1">
     property of the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.498.1">
       Model
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.499.1">
      object.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.500.1">
     Remember to separate responsibilities
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.501.1">
     As we can see, it is possible to add any C# code to an HTML page using Razor Pages.
    </span>
    <span class="koboSpan" id="kobo.501.2">
     However, use this approach to manipulate UI elements, but it is important to separate responsibilities correctly, avoiding multiple implementations of business rules together with UI
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.502.1">
      manipulation rules.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.503.1">
     All the elements we need at this point have been added, and we now know how to add C# code to manipulate our UI.
    </span>
    <span class="koboSpan" id="kobo.503.2">
     Let’s finalize the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.504.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.505.1">
     page, adding the necessary code for its operation in the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.506.1">
       index.cshtml.cs
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.507.1">
      file.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.508.1">
     Working with the page model
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.509.1">
     For the previously created
    </span>
    <a id="_idIndexMarker101">
    </a>
    <span class="koboSpan" id="kobo.510.1">
     UI to work correctly, we must add some properties and methods to the page model.
    </span>
    <span class="koboSpan" id="kobo.510.2">
     Open the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.511.1">
      index.cshtml.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.512.1">
     file so that we can add the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.513.1">
      necessary functionality.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.514.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.515.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.516.1">
     page model is, in fact, a C# class that has an inheritance from the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.517.1">
      PageModel
     </span>
    </strong>
    <span class="koboSpan" id="kobo.518.1">
     class, which is an abstraction of several properties and methods used by models in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.519.1">
      Razor Pages.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.520.1">
     Let’s make changes to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.521.1">
      IndexModel
     </span>
    </strong>
    <span class="koboSpan" id="kobo.522.1">
     class and understand each piece of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.523.1">
      code added:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.524.1">
      Add a
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.525.1">
       Message
      </span>
     </strong>
     <span class="koboSpan" id="kobo.526.1">
      property to the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.527.1">
       Index.cshtml.cs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.528.1">
      file.
     </span>
     <span class="koboSpan" id="kobo.528.2">
      It will be used to define a message that will be displayed in
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.529.1">
       the UI:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.530.1">
public string Message { get; set; }</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.531.1">
      In the project root, create a folder named
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.532.1">
       Models
      </span>
     </strong>
     <span class="koboSpan" id="kobo.533.1">
      and then add a class called
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.534.1">
       Product.cs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.535.1">
      .
     </span>
     <span class="koboSpan" id="kobo.535.2">
      This class must have the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.536.1">
       following code:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.537.1">
public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.538.1">
      Go back to the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.539.1">
       Index.cshtml.cs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.540.1">
      file and add a
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.541.1">
       Products
      </span>
     </strong>
     <span class="koboSpan" id="kobo.542.1">
      property that will contain a list of objects that will be listed in the table created in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.543.1">
       UI previously:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.544.1">
public List&lt;Product&gt; Products { get; set; }</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.545.1">
      Also, add a
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.546.1">
        Color
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.547.1">
       property:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.548.1">
public string Color { get; set; }</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.549.1">
      The basic properties have been created.
     </span>
     <span class="koboSpan" id="kobo.549.2">
      Now, let’s create a method that randomly generates a list of products.
     </span>
     <span class="koboSpan" id="kobo.549.3">
      Add the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.550.1">
       GenerateProduct
      </span>
     </strong>
     <span class="koboSpan" id="kobo.551.1">
      method as per the
     </span>
     <a id="_idIndexMarker102">
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.552.1">
       following code:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.553.1">
private List&lt;Product&gt; GenerateProduct(int quantity)
{
    var random = new Random();
    var products = Enumerable.Range(1,
      quantity).Select(i =&gt; new Product
    {
        Id = i,
        Name = $"Product {i}",
        Price = (decimal)(random.NextDouble() * 100.0)
    });
    return products;
}</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.554.1">
      We will change the class constructor and add default values for the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.555.1">
       Products
      </span>
     </strong>
     <span class="koboSpan" id="kobo.556.1">
      and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.557.1">
       Message
      </span>
     </strong>
     <span class="koboSpan" id="kobo.558.1">
      properties.
     </span>
     <span class="koboSpan" id="kobo.558.2">
      This way, as soon as the page is displayed, we will have a randomly generated list of products and an
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.559.1">
       I’m using the Razor
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.560.1">
        Syntax
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.561.1">
       message:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.562.1">
public IndexModel(ILogger&lt;IndexModel&gt; logger)
{
    _logger = logger;
    Products = GenerateProduct(10);
    Message = "I'm using the Razor Syntax.";
}</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.563.1">
      The method that generates the products is being used in the constructor to generate an initial listing.
     </span>
     <span class="koboSpan" id="kobo.563.2">
      However, we want to interact through the UI and generate a list based on a value that will be entered in the form.
     </span>
     <span class="koboSpan" id="kobo.563.3">
      To do this, we will create an
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.564.1">
       OnPost
      </span>
     </strong>
     <span class="koboSpan" id="kobo.565.1">
      method.
     </span>
     <span class="koboSpan" id="kobo.565.2">
      This method generates a new list, based on the quantity entered in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.566.1">
       UI form:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.567.1">
public void OnPost(int quantity)
{
    Products = GenerateProduct(quantity);
}</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.568.1">
      Finally, let’s
     </span>
     <a id="_idIndexMarker103">
     </a>
     <span class="koboSpan" id="kobo.569.1">
      define a last method that will be responsible for setting the value of the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.570.1">
        Color
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.571.1">
       property:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.572.1">
public void OnGetDefineColor(int id)
{
    Color = id == 1 ? </span><span class="koboSpan" id="kobo.572.2">"#FF0000" : "green";
}</span></pre>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.573.1">
     Our model is ready to interact with the UI.
    </span>
    <span class="koboSpan" id="kobo.573.2">
     But before running the application, let’s understand a simple concept of Razor
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.574.1">
      Pages convention.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.575.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.576.1">
      OnPost
     </span>
    </strong>
    <span class="koboSpan" id="kobo.577.1">
     method has this name, following a convention, and is related to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.578.1">
      GET
     </span>
    </strong>
    <span class="koboSpan" id="kobo.579.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.580.1">
      POST
     </span>
    </strong>
    <span class="koboSpan" id="kobo.581.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.582.1">
      DELETE
     </span>
    </strong>
    <span class="koboSpan" id="kobo.583.1">
     , and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.584.1">
      PUT
     </span>
    </strong>
    <span class="koboSpan" id="kobo.585.1">
     HTTP verbs.
    </span>
    <span class="koboSpan" id="kobo.585.2">
     This way, by defining methods such as
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.586.1">
      OnGet
     </span>
    </strong>
    <span class="koboSpan" id="kobo.587.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.588.1">
      OnPost
     </span>
    </strong>
    <span class="koboSpan" id="kobo.589.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.590.1">
      OnDelete
     </span>
    </strong>
    <span class="koboSpan" id="kobo.591.1">
     , and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.592.1">
      OnPut
     </span>
    </strong>
    <span class="koboSpan" id="kobo.593.1">
     , they will be able to handle page events, according to the HTTP verb.
    </span>
    <span class="koboSpan" id="kobo.593.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.594.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.595.1">
     page UI has a form with the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.596.1">
      POST
     </span>
    </strong>
    <span class="koboSpan" id="kobo.597.1">
     method.
    </span>
    <span class="koboSpan" id="kobo.597.2">
     Therefore, when clicking on the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.598.1">
      Load Products
     </span>
    </strong>
    <span class="koboSpan" id="kobo.599.1">
     button, Razor Pages will automatically call the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.600.1">
      OnPost
     </span>
    </strong>
    <span class="koboSpan" id="kobo.601.1">
     method on the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.602.1">
       IndexModel
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.603.1">
      model.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.604.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.605.1">
      OnGetDefineColor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.606.1">
     method has this name to follow the convention, but there is no obligation to use the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.607.1">
      OnGet
     </span>
    </strong>
    <span class="koboSpan" id="kobo.608.1">
     prefix in the method name.
    </span>
    <span class="koboSpan" id="kobo.608.2">
     In HTML, we do not define the link handler as
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.609.1">
      OnGetDefineColor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.610.1">
     ; this is because, by convention, Razor Pages will infer the prefix from the method name, and also because a
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.611.1">
      GET
     </span>
    </strong>
    <span class="koboSpan" id="kobo.612.1">
     request is performed.
    </span>
    <span class="koboSpan" id="kobo.612.2">
     But if you wish to provide your full name, there will be no problem.
    </span>
    <span class="koboSpan" id="kobo.612.3">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.613.1">
      OnGetDefineColor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.614.1">
     method has another important characteristic: its
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.615.1">
      id
     </span>
    </strong>
    <span class="koboSpan" id="kobo.616.1">
     parameter.
    </span>
    <span class="koboSpan" id="kobo.616.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.617.1">
      id
     </span>
    </strong>
    <span class="koboSpan" id="kobo.618.1">
     parameter receives the value defined in the directive added in the HTML link, as shown in the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.619.1">
      code example:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.620.1">
&lt;a asp-page-handler="DefineColor" asp-route-id="1"&gt;Red&lt;/a&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.621.1">
     This action is called
    </span>
    <a id="_idIndexMarker104">
    </a>
    <span class="koboSpan" id="kobo.622.1">
     binding, which means that when passing the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.623.1">
      id
     </span>
    </strong>
    <span class="koboSpan" id="kobo.624.1">
     parameter, Razor Pages sets the values of the method arguments according to the name of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.625.1">
      each parameter.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.626.1">
     Directive tip
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.627.1">
     Passing parameters in the previously defined HTML link is done using the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.628.1">
      asp-route
     </span>
    </strong>
    <span class="koboSpan" id="kobo.629.1">
     directive together with the name of the parameter expected in the method—in this case,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.630.1">
      id
     </span>
    </strong>
    <span class="koboSpan" id="kobo.631.1">
     .
    </span>
    <span class="koboSpan" id="kobo.631.2">
     This way, the complete directive is defined by
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.632.1">
      asp-route-id
     </span>
    </strong>
    <span class="koboSpan" id="kobo.633.1">
     .
    </span>
    <span class="koboSpan" id="kobo.633.2">
     If there were another argument called
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.634.1">
      name
     </span>
    </strong>
    <span class="koboSpan" id="kobo.635.1">
     , for example, the directive would
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.636.1">
      be
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.637.1">
       asp-route-name
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.638.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.639.1">
     Now that you know the entire implementation of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.640.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.641.1">
     page, run the application and interact with the controls
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.642.1">
      created previously.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.643.1">
     So far, we have learned how to use Razor Pages to create dynamic pages using the server-side approach.
    </span>
    <span class="koboSpan" id="kobo.643.2">
     With each interaction with the controls created on the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.644.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.645.1">
     page, a call will be made to the server, which will manipulate the information, interpret the Razor page code implemented in the UI, and later return an HTML output with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.646.1">
      the result.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.647.1">
     This approach is quite similar to ASP.NET Core MVC, which we will learn about in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.648.1">
      next section.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-38">
    <a id="_idTextAnchor038">
    </a>
    <span class="koboSpan" id="kobo.649.1">
     ASP.NET Core MVC
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.650.1">
     ASP.NET Core MVC is also a
    </span>
    <a id="_idIndexMarker105">
    </a>
    <span class="koboSpan" id="kobo.651.1">
     very powerful server-side framework that implements the MVC design pattern.
    </span>
    <span class="koboSpan" id="kobo.651.2">
     Let’s understand how the MVC design pattern works and then learn how to benefit from this approach by creating a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.652.1">
      new project.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.653.1">
     MVC pattern
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.654.1">
     MVC is an architectural design
    </span>
    <a id="_idIndexMarker106">
    </a>
    <span class="koboSpan" id="kobo.655.1">
     pattern that works on the separation of responsibilities
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.656.1">
      or context:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer021">
     <span class="koboSpan" id="kobo.657.1">
      <img alt="Figure 2.6 – MVC pattern" src="image/B21788_02_6.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.658.1">
     Figure 2.6 – MVC pattern
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.659.1">
     As you can see
    </span>
    <a id="_idIndexMarker107">
    </a>
    <span class="koboSpan" id="kobo.660.1">
     in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.661.1">
       Figure 2
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.662.1">
      .6
     </span>
    </em>
    <span class="koboSpan" id="kobo.663.1">
     , the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.664.1">
      Controller
     </span>
    </strong>
    <span class="koboSpan" id="kobo.665.1">
     acts
    </span>
    <a id="_idIndexMarker108">
    </a>
    <span class="koboSpan" id="kobo.666.1">
     as an orchestrator, responding to user interactions through
    </span>
    <a id="_idIndexMarker109">
    </a>
    <span class="koboSpan" id="kobo.667.1">
     the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.668.1">
      View
     </span>
    </strong>
    <span class="koboSpan" id="kobo.669.1">
     , and delegating actions to the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.670.1">
      Model
     </span>
    </strong>
    <span class="koboSpan" id="kobo.671.1">
     , which
    </span>
    <a id="_idIndexMarker110">
    </a>
    <span class="koboSpan" id="kobo.672.1">
     represents the application state and business rules.
    </span>
    <span class="koboSpan" id="kobo.672.2">
     Subsequently, the Controller returns the result, defining which View will be responsible for displaying the UI to the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.673.1">
      end user.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.674.1">
     The View and the Controller have a dependency on the Model, but the Model is agnostic, allowing the separation of responsibilities and the use of good code practices, such as the use of unit tests, as there is independence from the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.675.1">
      visual presentation.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.676.1">
     ASP.NET Core MVC is based on the MVC pattern, adapting the project model and conventions.
    </span>
    <span class="koboSpan" id="kobo.676.2">
     Let’s understand how this pattern is implemented in this type
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.677.1">
      of project.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.678.1">
     The ASP.NET Core MVC project structure
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.679.1">
     Creating the ASP.NET Core MVC project
    </span>
    <a id="_idIndexMarker111">
    </a>
    <span class="koboSpan" id="kobo.680.1">
     is very simple, and we use the CLI tool, in addition to Visual Studio Code as
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.681.1">
      an editor.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.682.1">
     Follow the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.683.1">
      next instructions:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.684.1">
      Open your operating system’s Command Prompt and access a directory of your choice where the project will
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.685.1">
       be created.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.686.1">
      Enter the following command to create
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.687.1">
       the project:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.688.1">dotnet new mvc --name MyFirstMVCApp</span></strong></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.689.1">
       The preceding command uses the
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.690.1">
        dotnet
       </span>
      </strong>
      <span class="koboSpan" id="kobo.691.1">
       CLI tool, where we specify the action of creating a new project through the
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.692.1">
        new
       </span>
      </strong>
      <span class="koboSpan" id="kobo.693.1">
       command.
      </span>
      <span class="koboSpan" id="kobo.693.2">
       Then, we define which type of project will be created.
      </span>
      <span class="koboSpan" id="kobo.693.3">
       In this case, we inform that the template will be
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.694.1">
        mvc
       </span>
      </strong>
      <span class="koboSpan" id="kobo.695.1">
       , and a
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.696.1">
        --name
       </span>
      </strong>
      <span class="koboSpan" id="kobo.697.1">
       parameter has been added, whereby we inform the name of
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.698.1">
        the project.
       </span>
      </span>
     </p>
    </li>
    <li>
     <span class="koboSpan" id="kobo.699.1">
      A folder will be created with the name of the application.
     </span>
     <span class="koboSpan" id="kobo.699.2">
      Access this folder and then open Visual Studio Code by running the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.700.1">
       following command:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.701.1">cd MyFirstMVCApp</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.702.1">code.</span></strong></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.703.1">
       The preceding command will open up
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.704.1">
        the following:
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer022">
     <span class="koboSpan" id="kobo.705.1">
      <img alt="Figure 2.7 – ASP.NET MVC project structure" src="image/B21788_02_7.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.706.1">
     Figure 2.7 – ASP.NET MVC project structure
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.707.1">
     When looking at the structure of the MVC project created, we will notice a similarity with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.708.1">
      Razor Pages.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.709.1">
     There are three
    </span>
    <a id="_idIndexMarker112">
    </a>
    <span class="koboSpan" id="kobo.710.1">
     main
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.711.1">
      project folders:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.712.1">
       Views
      </span>
     </strong>
     <span class="koboSpan" id="kobo.713.1">
      : It has the same characteristics as the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.714.1">
       Pages
      </span>
     </strong>
     <span class="koboSpan" id="kobo.715.1">
      folder in Razor Pages; that is, it is the application’s UI.
     </span>
     <span class="koboSpan" id="kobo.715.2">
      It has
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.716.1">
       .cshtml
      </span>
     </strong>
     <span class="koboSpan" id="kobo.717.1">
      files, and these are organized into subfolders that represent a page and contain all the UIs that can be used as responses to actions.
     </span>
     <span class="koboSpan" id="kobo.717.2">
      However, there are no
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.718.1">
       .
      </span>
     </strong>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.719.1">
        cshtml.cs
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.720.1">
       files.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.721.1">
       Controller
      </span>
     </strong>
     <span class="koboSpan" id="kobo.722.1">
      : The controller has a similar role to the class defined in the Razor Pages
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.723.1">
       .cshtml.cs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.724.1">
      file.
     </span>
     <span class="koboSpan" id="kobo.724.2">
      As mentioned, it is an orchestrator that has methods to manipulate events executed in Views.
     </span>
     <span class="koboSpan" id="kobo.724.3">
      In MVC, each controller method is called
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.725.1">
       actions
      </span>
     </strong>
     <span class="koboSpan" id="kobo.726.1">
      and can return Views, redirections, or
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.727.1">
       even data.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.728.1">
       Models
      </span>
     </strong>
     <span class="koboSpan" id="kobo.729.1">
      : This folder is used to manage the business classes and models that will be used to exchange information between Views
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.730.1">
       and HTML.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.731.1">
     This structure follows a convention, which, in a way, facilitates development in this approach.
    </span>
    <span class="koboSpan" id="kobo.731.2">
     However, the platform allows us to make customizations
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.732.1">
      if necessary.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.733.1">
     The MVC project also presents a small difference in the settings defined in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.734.1">
      program.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.735.1">
     file in relation to Razor Pages.
    </span>
    <span class="koboSpan" id="kobo.735.2">
     Before executing the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.736.1">
      app.Run()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.737.1">
     line, there is a call to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.738.1">
      app.MapControllerRoute
     </span>
    </strong>
    <span class="koboSpan" id="kobo.739.1">
     method.
    </span>
    <span class="koboSpan" id="kobo.739.2">
     This method is responsible for configuring all of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.740.1">
      the application.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.741.1">
     Routes define what will be accessed and how it should be accessed through
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.742.1">
      application requests.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.743.1">
     As shown in the
    </span>
    <a id="_idIndexMarker113">
    </a>
    <span class="koboSpan" id="kobo.744.1">
     following code, a default route is configured, called
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.745.1">
      default
     </span>
    </strong>
    <span class="koboSpan" id="kobo.746.1">
     , which has the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.747.1">
      controller
     </span>
    </strong>
    <span class="koboSpan" id="kobo.748.1">
     /
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.749.1">
      action
     </span>
    </strong>
    <span class="koboSpan" id="kobo.750.1">
     /
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.751.1">
      parameter
     </span>
    </strong>
    <span class="koboSpan" id="kobo.752.1">
     pattern.
    </span>
    <span class="koboSpan" id="kobo.752.2">
     Furthermore, the controller and action have a default value,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.753.1">
      Home
     </span>
    </strong>
    <span class="koboSpan" id="kobo.754.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.755.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.756.1">
     , respectively, while the parameter
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.757.1">
      is optional:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.758.1">
app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Home}/{action=Index}/{id?}");</span></pre>
   <p>
    <span class="koboSpan" id="kobo.759.1">
     This is a standard MVC convention and can be easily changed.
    </span>
    <span class="koboSpan" id="kobo.759.2">
     In this model, if access to the application does not have a definition of the controller and which action should be executed, then the default controller,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.760.1">
      Home
     </span>
    </strong>
    <span class="koboSpan" id="kobo.761.1">
     , and the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.762.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.763.1">
     action will be defined as the response to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.764.1">
      the request.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.765.1">
     It is interesting to note that we are referring to Controllers and not pages.
    </span>
    <span class="koboSpan" id="kobo.765.2">
     This is because the MVC pattern allows the Controller to orchestrate the request, according to the desired action, and then return a result or
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.766.1">
      a View.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.767.1">
     As we progress through the chapters of the book, we will have other examples of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.768.1">
      using routes.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.769.1">
     Understanding patterns and conventions
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.770.1">
     The MVC project follows a
    </span>
    <a id="_idIndexMarker114">
    </a>
    <span class="koboSpan" id="kobo.771.1">
     convention that benefits the file structure
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.772.1">
      presented previously.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.773.1">
     As we learned, the Controller acts as an orchestrator between the Model and the View.
    </span>
    <span class="koboSpan" id="kobo.773.2">
     This way, instead of using a concept of pages, there is the idea
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.774.1">
      of actions.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.775.1">
     Given the user’s intention or interaction, it triggers an action.
    </span>
    <span class="koboSpan" id="kobo.775.2">
     This action is captured by a Controller, which then performs the processing and returns either a value or a View, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.776.1">
       Figure 2
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.777.1">
       .8
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.778.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer023">
     <span class="koboSpan" id="kobo.779.1">
      <img alt="Figure 2.8 – MVC request flow" src="image/B21788_02_8.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.780.1">
     Figure 2.8 – MVC request flow
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.781.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.782.1">
      Controller
     </span>
    </strong>
    <span class="koboSpan" id="kobo.783.1">
     class
    </span>
    <a id="_idIndexMarker115">
    </a>
    <span class="koboSpan" id="kobo.784.1">
     is a C# class, which has attributes and methods.
    </span>
    <span class="koboSpan" id="kobo.784.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.785.1">
      Controller
     </span>
    </strong>
    <span class="koboSpan" id="kobo.786.1">
     class’s public methods are
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.787.1">
      called actions.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.788.1">
     Imagine a registry of people.
    </span>
    <span class="koboSpan" id="kobo.788.2">
     We would then have the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.789.1">
      following class:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.790.1">
public class PersonController : Controller
{
    public IActionResult Index()
    {
        return View();
    }
    public JsonResult GetPeople()
    {
        var model = new List&lt;PersonModel&gt;() {
            new PersonModel("Person 1",
              new DateTime(1980, 12, 11)),
            new PersonModel("Person 2",
              new DateTime(1983, 12, 15))
        };
        return Json(model);
    }
    public IActionResult Register(PersonModel personModel)
    {
        return RedirectToAction("Result",
          new { message =  $"The {personModel.Name}
          was registered successfully." </span><span class="koboSpan" id="kobo.790.2">});
    }
    public IActionResult Result(string message)
    {
        ViewData["Message"] = message;
        return View();
    }
}</span></pre>
   <p>
    <span class="koboSpan" id="kobo.791.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.792.1">
      PersonController
     </span>
    </strong>
    <span class="koboSpan" id="kobo.793.1">
     class
    </span>
    <a id="_idIndexMarker116">
    </a>
    <span class="koboSpan" id="kobo.794.1">
     follows the name convention, adopting the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.795.1">
      Controller
     </span>
    </strong>
    <span class="koboSpan" id="kobo.796.1">
     suffix at the end of the class name.
    </span>
    <span class="koboSpan" id="kobo.796.2">
     Furthermore, this class has an inheritance from the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.797.1">
      Controller
     </span>
    </strong>
    <span class="koboSpan" id="kobo.798.1">
     class, which is a base class that already has some utility methods responsible for processing and returning data and information through
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.799.1">
      the controller.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.800.1">
     Next, we have a method called
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.801.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.802.1">
     , which just returns a View, executing the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.803.1">
      return
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.804.1">
       View()
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.805.1">
      command.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.806.1">
     Which View is returned?
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.807.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.808.1">
      View()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.809.1">
     method takes into account the Asp.NET Core MVC convention.
    </span>
    <span class="koboSpan" id="kobo.809.2">
     So, when executed, the view that is instantiated considers the following path:
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.810.1">
      /Views/&lt;ControllerName&gt;/Action.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.811.1">
     .
    </span>
    <span class="koboSpan" id="kobo.811.2">
     This means that in the case of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.812.1">
      PersonController
     </span>
    </strong>
    <span class="koboSpan" id="kobo.813.1">
     class, calling the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.814.1">
      Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.815.1">
     method will return a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.816.1">
      View:
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.817.1">
       Views/Person/Index.cshtml
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.818.1">
      .
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.819.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.820.1">
      View()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.821.1">
     method has other overloads, making it possible to pass an object that will be used as a Model into the View or even define a Controller View that should
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.822.1">
      be displayed.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.823.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.824.1">
      GetPeople()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.825.1">
     method just returns a list of people in JSON format, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.826.1">
       Figure 2
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.827.1">
       .9
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.828.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer024">
     <span class="koboSpan" id="kobo.829.1">
      <img alt="Figure 2.9 – JSON with a list of people" src="image/B21788_02_9.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.830.1">
     Figure 2.9 – JSON with a list of people
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.831.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.832.1">
      Register()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.833.1">
     method
    </span>
    <a id="_idIndexMarker117">
    </a>
    <span class="koboSpan" id="kobo.834.1">
     processes the form request and returns an object to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.835.1">
      Result
     </span>
    </strong>
    <span class="koboSpan" id="kobo.836.1">
     View.
    </span>
    <span class="koboSpan" id="kobo.836.2">
     However, in this case, it is making the call to an action from the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.837.1">
      PersonController
     </span>
    </strong>
    <span class="koboSpan" id="kobo.838.1">
     controller, executing the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.839.1">
      RedirectToAction
     </span>
    </strong>
    <span class="koboSpan" id="kobo.840.1">
     method, called
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.841.1">
      Result
     </span>
    </strong>
    <span class="koboSpan" id="kobo.842.1">
     , which expects a string as a parameter.
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.843.1">
       Figure 2
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.844.1">
      .10
     </span>
    </em>
    <span class="koboSpan" id="kobo.845.1">
     demonstrates the display of the action result after registering
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.846.1">
      a person:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer025">
     <span class="koboSpan" id="kobo.847.1">
      <img alt="Figure 2.10 – Register Person view" src="image/B21788_02_10.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.848.1">
     Figure 2.10 – Register Person view
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.849.1">
     Base Controller class
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.850.1">
     The abstract
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.851.1">
      Controller
     </span>
    </strong>
    <span class="koboSpan" id="kobo.852.1">
     class has some utility methods that allow you to work on the communication flow between the Controller and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.853.1">
      the View.
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.854.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.855.1">
      Json()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.856.1">
     ,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.857.1">
      View()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.858.1">
     , and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.859.1">
      RedirectToAction()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.860.1">
     methods are some of the resources that are commonly used in a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.861.1">
      controller class.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.862.1">
     The MVC model and Razor Pages have similarities, but a big difference is the use of actions instead of pages.
    </span>
    <span class="koboSpan" id="kobo.862.2">
     In this way, the controller has the ability to decide what type of View or information should be returned, in relation to some user interaction, orchestrating the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.863.1">
      processing flow.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.864.1">
     The Controller
    </span>
    <a id="_idIndexMarker118">
    </a>
    <span class="koboSpan" id="kobo.865.1">
     responds to user events, and the View is an important aspect of this type of project.
    </span>
    <span class="koboSpan" id="kobo.865.2">
     Based on the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.866.1">
      PersonController
     </span>
    </strong>
    <span class="koboSpan" id="kobo.867.1">
     example, we will understand how the View was created and learn how the interaction with the Controller’s actions works in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.868.1">
      next section.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.869.1">
     Working with Views on ASP.NET MVC
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.870.1">
     The concept of Views in ASP.NET MVC
    </span>
    <a id="_idIndexMarker119">
    </a>
    <span class="koboSpan" id="kobo.871.1">
     is the same as that used in Razor Pages, using the Razor syntax.
    </span>
    <span class="koboSpan" id="kobo.871.2">
     As we can see in the following code, there is a form tag, using Razor directives, defining which Controller and action will process
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.872.1">
      the registration:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.873.1">
@model MyFirstMVCApp.Models.PersonModel
@{
    ViewData["Title"] = "Home Page";
}
&lt;div class="text-center"&gt;
    &lt;h1 class="display-4"&gt;Person View&lt;/h1&gt;
&lt;/div&gt;
&lt;div&gt;
    &lt;form method="post" asp-controller="Person"
      asp-action="Register"&gt;
        @Html.LabelFor(p =&gt; p.Name)
        @Html.TextBoxFor(p =&gt; p.Name)
        &lt;br/&gt;
        @Html.LabelFor(p =&gt; p.DateOfBirth)
        @Html.TextBoxFor(p =&gt; p.DateOfBirth)
        &lt;input type="submit" value="Register" /&gt;
    &lt;/form&gt;
&lt;/div&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.874.1">
     The preceding file was created in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.875.1">
      Views/Person/Index.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.876.1">
     directory structure.
    </span>
    <span class="koboSpan" id="kobo.876.2">
     Following the convention, for the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.877.1">
      PersonController
     </span>
    </strong>
    <span class="koboSpan" id="kobo.878.1">
     controller, there must be a
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.879.1">
      Person
     </span>
    </strong>
    <span class="koboSpan" id="kobo.880.1">
     folder, a subfolder of Views, which will contain all the Views that will be displayed through the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.881.1">
       PersonController
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.882.1">
      controller.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.883.1">
     The view index is a good practice
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.884.1">
     It is good practice to have an
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.885.1">
      Index.cshtml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.886.1">
     file and an
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.887.1">
      Index()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.888.1">
     action in each controller.
    </span>
    <span class="koboSpan" id="kobo.888.2">
     Following the route pattern, defined in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.889.1">
      Program.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.890.1">
     file, by default, when an action is not specified, an
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.891.1">
      Index()
     </span>
    </strong>
    <span class="koboSpan" id="kobo.892.1">
     action will be executed.
    </span>
    <span class="koboSpan" id="kobo.892.2">
     In this case, having a View and Action Index will avoid usability problems in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.893.1">
      your application.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.894.1">
     To create the
    </span>
    <a id="_idIndexMarker120">
    </a>
    <span class="koboSpan" id="kobo.895.1">
     labels and inputs used in the form,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.896.1">
      tag helpers
     </span>
    </strong>
    <span class="koboSpan" id="kobo.897.1">
     were
    </span>
    <a id="_idIndexMarker121">
    </a>
    <span class="koboSpan" id="kobo.898.1">
     used.
    </span>
    <span class="koboSpan" id="kobo.898.2">
     Tag helpers are Razor Pages methods that basically render HTML.
    </span>
    <span class="koboSpan" id="kobo.898.3">
     The difference, in the preceding code presented, is that there is a connection with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.899.1">
      the Model.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.900.1">
     In the first line of the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.901.1">
      Index.csthml
     </span>
    </strong>
    <span class="koboSpan" id="kobo.902.1">
     page, a Model was defined, using the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.903.1">
      @model MyFirstMVCApp.Models.PersonModel
     </span>
    </strong>
    <span class="koboSpan" id="kobo.904.1">
     code.
    </span>
    <span class="koboSpan" id="kobo.904.2">
     This makes the Model strongly typed.
    </span>
    <span class="koboSpan" id="kobo.904.3">
     By using a tag helper, together with a Lambda expression, we are implementing good practice in relation to the MVC
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.905.1">
      binding model.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.906.1">
     As a result, the HTML generated by tag helpers for the form will have the correct names in relation to the model properties, following the flow
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.907.1">
      outlined next:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.908.1">
      The data is the name and date of birth informed in
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.909.1">
       the inputs.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.910.1">
      The user clicks the
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.911.1">
        Register
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.912.1">
       button.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.913.1">
      The ASP.NET framework makes a request to the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.914.1">
        Result
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.915.1">
       action.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.916.1">
      The ASP.NET framework identifies that the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.917.1">
       Result
      </span>
     </strong>
     <span class="koboSpan" id="kobo.918.1">
      action has a
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.919.1">
       PersonModel
      </span>
     </strong>
     <span class="koboSpan" id="kobo.920.1">
      object as a parameter and then creates
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.921.1">
       an instance.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.922.1">
      The ASP.NET framework binds the data posted by the form and sets the values in the corresponding properties of the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.923.1">
       instantiated object.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.924.1">
      The ASP.NET framework executes the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.925.1">
        Result
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.926.1">
       action.
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.927.1">
     As the bind is
    </span>
    <a id="_idIndexMarker122">
    </a>
    <span class="koboSpan" id="kobo.928.1">
     done through property names, if any name is typed incorrectly, some properties will not have
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.929.1">
      a value.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.930.1">
     The use of the tag helpers approach also helps in other aspects such as attributes added to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.931.1">
      Model
     </span>
    </strong>
    <span class="koboSpan" id="kobo.932.1">
     class that allow validations, among other aspects.
    </span>
    <span class="koboSpan" id="kobo.932.2">
     We will discuss more about attributes and bind during
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.933.1">
      Chapters 3
     </span>
    </em>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.934.1">
      and
     </span>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.935.1">
       5
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.936.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.937.1">
     The MVC pattern provides us with several benefits, especially in more complex projects where there is a need to control different business flows and return dynamic Views according to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.938.1">
      the need.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.939.1">
     There are other approaches to working with UIs in ASP.NET Core 9.
    </span>
    <span class="koboSpan" id="kobo.939.2">
     Let’s learn a little more about other options, such as using Blazor and integrations with JavaScript frameworks, in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.940.1">
      next section.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-39">
    <a id="_idTextAnchor039">
    </a>
    <span class="koboSpan" id="kobo.941.1">
     Exploring UI client rendering with Blazor and JavaScript frameworks
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.942.1">
     ASP.NET Core 9 has several frameworks that provide the creation of UIs with high quality and good user experience, using client-side and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.943.1">
      server-side approaches.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.944.1">
     We will talk about the newest technology that
    </span>
    <a id="_idIndexMarker123">
    </a>
    <span class="koboSpan" id="kobo.945.1">
     uses the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.946.1">
      WebAssembly
     </span>
    </strong>
    <span class="koboSpan" id="kobo.947.1">
     standard, called Blazor, which is a powerful and flexible UI framework.
    </span>
    <span class="koboSpan" id="kobo.947.2">
     However, if you are used to JavaScript frameworks, you can also benefit from the .
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.948.1">
      NET platform.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-40">
    <a id="_idTextAnchor040">
    </a>
    <span class="koboSpan" id="kobo.949.1">
     Rich UIs with Blazor
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.950.1">
     Just as with Razor Pages and
    </span>
    <a id="_idIndexMarker124">
    </a>
    <span class="koboSpan" id="kobo.951.1">
     MVC, Blazor
    </span>
    <a id="_idIndexMarker125">
    </a>
    <span class="koboSpan" id="kobo.952.1">
     offers a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.953.1">
      single-page application
     </span>
    </strong>
    <span class="koboSpan" id="kobo.954.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.955.1">
      SPA
     </span>
    </strong>
    <span class="koboSpan" id="kobo.956.1">
     ) framework on the .NET platform, running both client-side and server-side, using all the power
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.957.1">
      of C#.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.958.1">
     Blazor WebAssembly
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.959.1">
     The client-server version of Blazor runs on the
    </span>
    <a id="_idIndexMarker126">
    </a>
    <span class="koboSpan" id="kobo.960.1">
     WebAssembly platform, which is a compact bytecode with an optimized format, fast to download, and provides great performance when running on the client side, creating rich
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.961.1">
      UI experiences.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.962.1">
     As we can see in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.963.1">
       Figure 2
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.964.1">
      .11
     </span>
    </em>
    <span class="koboSpan" id="kobo.965.1">
     , Blazor is an abstraction of ASP.NET Core for WebAssembly.
    </span>
    <span class="koboSpan" id="kobo.965.2">
     This way, the Blazor code will generate application assemblies, which require the .NET runtime for execution, also allowing interaction between WebAssembly and the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.966.1">
      HTML document.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.967.1">
     WebAssembly
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.968.1">
     WebAssembly is a web
    </span>
    <a id="_idIndexMarker127">
    </a>
    <span class="koboSpan" id="kobo.969.1">
     standard, and you can learn more about it at the official
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.970.1">
      website:
     </span>
    </span>
    <a href="https://webassembly.org/">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.971.1">
       https://webassembly.org/
      </span>
     </span>
    </a>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer026">
     <span class="koboSpan" id="kobo.972.1">
      <img alt="Figure 2.11 – WebAssembly and Blazor" src="image/B21788_02_11.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.973.1">
     Figure 2.11 – WebAssembly and Blazor
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.974.1">
     The
    </span>
    <a id="_idIndexMarker128">
    </a>
    <span class="koboSpan" id="kobo.975.1">
     WebAssembly platform uses an interoperability model, which allows it to interact with all browser APIs, running in a sandbox, providing security against malicious actions, and also allowing the execution of .
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.976.1">
      NET code.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.977.1">
     All page code developed is compiled into .NET assemblies.
    </span>
    <span class="koboSpan" id="kobo.977.2">
     Thus, when accessing the page through the browser, both the assemblies and the .NET runtime are downloaded.
    </span>
    <span class="koboSpan" id="kobo.977.3">
     Then, with the support of WebAssembly, the application runs and uses JavaScript interop to
    </span>
    <a id="_idIndexMarker129">
    </a>
    <span class="koboSpan" id="kobo.978.1">
     handle
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.979.1">
      DOM
     </span>
    </strong>
    <span class="koboSpan" id="kobo.980.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.981.1">
      Document Object Model
     </span>
    </strong>
    <span class="koboSpan" id="kobo.982.1">
     ) manipulation and browser
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.983.1">
      API calls.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.984.1">
     Blazor is
    </span>
    <a id="_idIndexMarker130">
    </a>
    <span class="koboSpan" id="kobo.985.1">
     a flexible framework that also allows you to create projects with the benefits of server-side processing, offering an excellent
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.986.1">
      client-side experience.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.987.1">
     Blazor Server
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.988.1">
     Blazor also allows for a
    </span>
    <a id="_idIndexMarker131">
    </a>
    <span class="koboSpan" id="kobo.989.1">
     server-side UI rendering approach.
    </span>
    <span class="koboSpan" id="kobo.989.2">
     However, unlike what happens with Razor Pages and MVC, instead of rendering the entire HTML for each client request and returning a complete document as a response, Blazor creates a graph, which represents the page components, considering properties
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.990.1">
      and state.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.991.1">
     Then, with each interaction, Blazor performs an evaluation of the graph and produces a binary representation, which is sent back to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.992.1">
      the client.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.993.1">
     Blazor’s server-side approach
    </span>
    <a id="_idIndexMarker132">
    </a>
    <span class="koboSpan" id="kobo.994.1">
     uses
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.995.1">
      SignalR
     </span>
    </strong>
    <span class="koboSpan" id="kobo.996.1">
     technology, which allows you to update the UI through a direct connection to the server, bringing better usability and a rich user experience.
    </span>
    <span class="koboSpan" id="kobo.996.2">
     We will cover SignalR in
    </span>
    <a href="B21788_04.xhtml#_idTextAnchor061">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.997.1">
        Chapter 4
       </span>
      </em>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.998.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.999.1">
     Blazor Server brings great benefits in the development of web-based solutions, with C# as a common language, bringing security, reliability,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1000.1">
      and performance.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1001.1">
     Let’s understand the development approach
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1002.1">
      using Blazor.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1003.1">
     Blazor components and structure
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1004.1">
     Just as with some JavaScript
    </span>
    <a id="_idIndexMarker133">
    </a>
    <span class="koboSpan" id="kobo.1005.1">
     frameworks, such as Angular, Blazor works with a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1006.1">
      component structure.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1007.1">
     A component is one or more UI elements developed with a specific objective, according to the needs of the application.
    </span>
    <span class="koboSpan" id="kobo.1007.2">
     This component can be reused throughout the application, enabling separation of responsibilities, reusability,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1008.1">
      and flexibility.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1009.1">
     All Blazor components have the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1010.1">
      .razor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1011.1">
     extension and use both the Razor syntax and all the benefits
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1012.1">
      of C#.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1013.1">
     To create a Blazor project, simply use the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1014.1">
      dotnet
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1015.1">
     CLI, with the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1016.1">
      following command:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.1017.1">
dotnet new blazor --name MyFirstBlazorApp</span></pre>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1018.1">
     Interactivity Render Mode
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1019.1">
     ASP.NET Core 9 introduces the render interactive mode
    </span>
    <a id="_idIndexMarker134">
    </a>
    <span class="koboSpan" id="kobo.1020.1">
     on Blazor Apps.
    </span>
    <span class="koboSpan" id="kobo.1020.2">
     The interactive render mode feature enhances the way Blazor apps handle rendering, introducing a mode where the server-rendered static HTML is progressively enhanced into a fully interactive
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1021.1">
      client-side application.
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1022.1">
     The goals of this
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1023.1">
      feature are:
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1024.1">
     Progressive Enhancement: When a Blazor app is initially loaded, the server pre-renders the HTML, providing a fully functional page for users to interact with immediately.
    </span>
    <span class="koboSpan" id="kobo.1024.2">
     This allows the app to seamlessly transition from this static HTML to a fully interactive Blazor app once the Blazor framework is loaded on the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1025.1">
      client side.
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1026.1">
     Seamless Transition: ensures the app appears interactive even while the client-side Blazor runtime is being initialized and users can start interacting with the app before the complete Blazor runtime is ready, making the user
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1027.1">
      experience smoother.
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1028.1">
     Improved Performance: optimizes the time-to-interactivity by reducing the noticeable delay that users might experience in traditional Blazor Server or Blazor
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1029.1">
      WebAssembly apps.
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1030.1">
     Enhanced User Experience: minimizes interruptions or loading indicators during transitions, giving users a better perception
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1031.1">
      of speed.
     </span>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1032.1">
     If you create a Blazor app using
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1033.1">
      the command:
     </span>
    </span>
   </p>
   <p class="callout">
    <strong class="bold">
     <span class="koboSpan" id="kobo.1034.1">
      dotnet new blazor --
     </span>
    </strong>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.1035.1">
       name MyFirstBlazorApp
      </span>
     </strong>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1036.1">
     The default interactive mode is Server.
    </span>
    <span class="koboSpan" id="kobo.1036.2">
     In case you want to leverage the new feature, use the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1037.1">
      following command:
     </span>
    </span>
   </p>
   <p class="callout">
    <strong class="bold">
     <span class="koboSpan" id="kobo.1038.1">
      dotnet new blazor --name MyFirstBlazorApp --
     </span>
    </strong>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.1039.1">
       interactivity Auto
      </span>
     </strong>
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1040.1">
     To learn more about this new
    </span>
    <a id="_idIndexMarker135">
    </a>
    <span class="koboSpan" id="kobo.1041.1">
     feature, access the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1042.1">
      URL:
     </span>
    </span>
    <a href="https://learn.microsoft.com/en-us/aspnet/core/blazor/components/render-modes?view=aspnetcore-9.0">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1043.1">
       https://learn.microsoft.com/en-us/aspnet/core/blazor/components/render-modes?view=aspnetcore-9.0
      </span>
     </span>
    </a>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1044.1">
     After creating the project, just open the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1045.1">
      Pages
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1046.1">
     folder, and you will then find some components as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1047.1">
       Figure 2
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1048.1">
       .12
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1049.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer027">
     <span class="koboSpan" id="kobo.1050.1">
      <img alt="Figure 2.12 – The Blazor project structure" src="image/B21788_02_12.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1051.1">
     Figure 2.12 – The Blazor project structure
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1052.1">
     There are
    </span>
    <a id="_idIndexMarker136">
    </a>
    <span class="koboSpan" id="kobo.1053.1">
     components that are defined as pages and therefore have the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1054.1">
      @pages
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1055.1">
     directive, where a route to access the page is defined.
    </span>
    <span class="koboSpan" id="kobo.1055.2">
     There are also components that are added
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1056.1">
      to pages.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1057.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1058.1">
      Counter.razor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1059.1">
     file is a page component and has the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1060.1">
      following content:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.1061.1">
@page "/counter"
@attribute [RenderModeServer]
&lt;PageTitle&gt;Counter&lt;/PageTitle&gt;
&lt;h1&gt;Counter&lt;/h1&gt;
&lt;p role="status"&gt;Current count: @currentCount&lt;/p&gt;
&lt;button class="btn btn-primary"
  @onclick="IncrementCount"&gt;Click me&lt;/button&gt;
@code {
    private int currentCount = 0;
    private void IncrementCount()
    {
        currentCount++;
    }
}</span></pre>
   <p>
    <span class="koboSpan" id="kobo.1062.1">
     Note that there
    </span>
    <a id="_idIndexMarker137">
    </a>
    <span class="koboSpan" id="kobo.1063.1">
     is use of Razor and HTML syntax, as we learned in the Razor Pages and MVC approaches.
    </span>
    <span class="koboSpan" id="kobo.1063.2">
     There is also C# code between the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1064.1">
      @code {}
     </span>
    </strong>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1065.1">
      tags.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1066.1">
     The C# code defined in the preceding file has the functionality to increment a counter when the user clicks on the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1067.1">
      Click
     </span>
    </strong>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.1068.1">
       me
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1069.1">
      button.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1070.1">
     The HTML button tag has the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1071.1">
      @onclick
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1072.1">
     attribute, which is defined with the name defined in the C#
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1073.1">
      code block.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1074.1">
     For simple components, the approach of using HTML and C# code in the same file may be valid.
    </span>
    <span class="koboSpan" id="kobo.1074.2">
     However, it is good practice to separate business rules from the UI.
    </span>
    <span class="koboSpan" id="kobo.1074.3">
     Therefore, Blazor allows a file to be created containing the component’s
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1075.1">
      C# code.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1076.1">
     In the preceding code example, there would be two files:
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1077.1">
      Counter.razor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1078.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1079.1">
      Counter.razor.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1080.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1080.2">
     All C# code could be moved to the new file generating the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1081.1">
      following class:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.1082.1">
namespace MyFirstBlazorApp.Pages;
public partial class CounterPartialClass
{
    private int currentCount = 0;
    private void IncrementCount()
    {
        currentCount++;
    }
}</span></pre>
   <p>
    <span class="koboSpan" id="kobo.1083.1">
     Blazor is very flexible and offers a huge range of possibilities for developing rich web-based applications, integrated with HTML, CSS, and JavaScript and using the most modern technologies.
    </span>
    <span class="koboSpan" id="kobo.1083.2">
     It would take an exclusive book to talk about Blazor, however; this book will focus on approaches based on Razor Pages
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1084.1">
      and MVC.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1085.1">
     ASP.NET Core 9 is very flexible when it comes to developing UIs, featuring different frameworks.
    </span>
    <span class="koboSpan" id="kobo.1085.2">
     But if you are familiar with Angular, React, or Vue.js, you can benefit from the power of the .
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1086.1">
      NET platform.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-41">
    <a id="_idTextAnchor041">
    </a>
    <span class="koboSpan" id="kobo.1087.1">
     ASP.NET Core 9 and JavaScript frameworks
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.1088.1">
     As we learned during the other topics
    </span>
    <a id="_idIndexMarker138">
    </a>
    <span class="koboSpan" id="kobo.1089.1">
     in this chapter, ASP.NET Core 9 offers several approaches to building a UI, interacting with C# code.
    </span>
    <span class="koboSpan" id="kobo.1089.2">
     There are several related benefits, including the use of a common development model, using the Razor syntax, and all the benefits of the .
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1090.1">
      NET platform.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1091.1">
     However, if you are used to using a framework for building SPAs, such as Angular, Vue.js, and React, the .NET platform has some templates available for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1092.1">
      this purpose:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer028">
     <span class="koboSpan" id="kobo.1093.1">
      <img alt="Figure 2.13 – ASP.NET Core 9 JavaScript frameworks template" src="image/B21788_02_13.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1094.1">
     Figure 2.13 – ASP.NET Core 9 JavaScript frameworks template
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1095.1">
     The
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1096.1">
      React and ASP.NET Core
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1097.1">
     template
    </span>
    <a id="_idIndexMarker139">
    </a>
    <span class="koboSpan" id="kobo.1098.1">
     creates two projects, one for the frontend and the other for the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1099.1">
      application’s backend.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1100.1">
     SPAs use the approach where the UI is developed independently of the backend, which is generally an external service
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1101.1">
      or application.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1102.1">
     When using the model offered by ASP.NET Core, there is also a clear separation between the UI and the backend.
    </span>
    <span class="koboSpan" id="kobo.1102.2">
     The project is already configured for integration with the web API developed in .NET.
    </span>
    <span class="koboSpan" id="kobo.1102.3">
     One of the great benefits of this is the convenience of publishing the UI and backend project in a single simple unit,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1103.1">
      facilitating publication:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer029">
     <span class="koboSpan" id="kobo.1104.1">
      <img alt="Figure 2.14 – ASP.NET Core React standalone project structure" src="image/B21788_02_14.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1105.1">
     Figure 2.14 – ASP.NET Core React standalone project structure
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1106.1">
     Using project templates for
    </span>
    <a id="_idIndexMarker140">
    </a>
    <span class="koboSpan" id="kobo.1107.1">
     frameworks such as Angular, Vue.js, or React is completely optional.
    </span>
    <span class="koboSpan" id="kobo.1107.2">
     Even if the UI project is created independently, we can benefit from ASP.NET Core by developing web APIs to serve the UI.
    </span>
    <span class="koboSpan" id="kobo.1107.3">
     We’ll talk about creating web APIs in
    </span>
    <a href="B21788_03.xhtml#_idTextAnchor044">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1108.1">
        Chapter 3
       </span>
      </em>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1109.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1110.1">
     As we can see, the platform offers several approaches for developing high-quality web-based systems.
    </span>
    <span class="koboSpan" id="kobo.1110.2">
     Each ASP.NET Core UI framework has several benefits that can be combined to generate even more powerful solutions, and we will look at these solutions in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1111.1">
      next section.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-42">
    <a id="_idTextAnchor042">
    </a>
    <span class="koboSpan" id="kobo.1112.1">
     Working with hybrid solutions
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.1113.1">
     One of the great benefits of
    </span>
    <a id="_idIndexMarker141">
    </a>
    <span class="koboSpan" id="kobo.1114.1">
     working on a powerful platform such as ASP.NET Core is having the ability to integrate between technologies.
    </span>
    <span class="koboSpan" id="kobo.1114.2">
     Therefore, we can combine all the power of Razor Pages, MVC, and Blazor in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1115.1">
      same project.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1116.1">
     In the case of integration with Blazor, there is the benefit of using
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1117.1">
      .razor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1118.1">
     components,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1119.1">
      providing reusability.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1120.1">
     Blazor
    </span>
    <a id="_idIndexMarker142">
    </a>
    <span class="koboSpan" id="kobo.1121.1">
     integration into Razor Pages or MVC projects must be configured according to the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1122.1">
      following steps:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.1123.1">
      In the project root, add a file named
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1124.1">
       _Imports.razor
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1125.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1125.2">
      This file will be responsible for importing the namespaces necessary for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1126.1">
       the project:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.1127.1">
@using System.Net.Http
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.Forms
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components.Web
  .Virtualization
@using Microsoft.JSInterop
@using {CHANGE_FOR_THE_NAMESPACE_OF_YOUR_PROJECT}</span></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1128.1">
       Note that at the end of the file, there is a
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.1129.1">
        {CHANGE_FOR_THE_NAMESPACE_OF_YOUR_PROJECT}
       </span>
      </strong>
      <span class="koboSpan" id="kobo.1130.1">
       tag.
      </span>
      <span class="koboSpan" id="kobo.1130.2">
       Change this value to your
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1131.1">
        project namespace.
       </span>
      </span>
     </p>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1132.1">
      Now, it will be necessary to change the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1133.1">
       _Layout.cshtml
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1134.1">
      file, located in
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1135.1">
       Pages/Shared
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1136.1">
      directory in the case of the Razor Pages project or in the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1137.1">
       Views/Shared
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1138.1">
      directory for MVC projects.
     </span>
     <span class="koboSpan" id="kobo.1138.2">
      Add the following code in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1139.1">
       head element:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.1140.1">
&lt;base href="~/" /&gt;
&lt;component type="typeof(Microsoft.AspNetCore
  .Components.Web.HeadOutlet)"
    render-mode="ServerPrerendered" /&gt;</span></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1141.1">
       The purpose of defining
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.1142.1">
        &lt;base href="~/"/&gt;
       </span>
      </strong>
      <span class="koboSpan" id="kobo.1143.1">
       is to define the base path of the application, while the
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.1144.1">
        component
       </span>
      </strong>
      <span class="koboSpan" id="kobo.1145.1">
       tag is used to render the contents of the Razor components in the HTML
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1146.1">
        head element.
       </span>
      </span>
     </p>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1147.1">
      Add the
     </span>
     <a id="_idIndexMarker143">
     </a>
     <span class="koboSpan" id="kobo.1148.1">
      following script before the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1149.1">
       @await RenderSection(...)
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1150.1">
       render section:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.1151.1">
&lt;script src="_framework/blazor.server.js"&gt;&lt;/script&gt;</span></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1152.1">
       Don’t worry about the script path, much less creating it.
      </span>
      <span class="koboSpan" id="kobo.1152.2">
       This will be done automatically by
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1153.1">
        the framework.
       </span>
      </span>
     </p>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1154.1">
      Now, open the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1155.1">
       Program.cs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1156.1">
      file to make some modifications.
     </span>
     <span class="koboSpan" id="kobo.1156.2">
      First, we must register the Blazor services so that they are available while the application is running.
     </span>
     <span class="koboSpan" id="kobo.1156.3">
      Add the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1157.1">
       following code:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.1158.1">
builder.Services.AddServerSideBlazor();</span></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1159.1">
      You also need to add the Blazor route mapping control.
     </span>
     <span class="koboSpan" id="kobo.1159.2">
      Add the following line below the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1160.1">
       MapRazorPages
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1161.1">
      call (in the case of a Razor Pages project) or the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1162.1">
       MapControllerRoute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1163.1">
      call (in the case of an
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1164.1">
       MVC project):
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.1165.1">
app.MapBlazorHub();</span></pre>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.1166.1">
     Now that the project is integrated with Blazor, let’s create a component with the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1167.1">
      following steps:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.1168.1">
      Create a file called
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1169.1">
       technology.razor
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1170.1">
      in the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1171.1">
       Pages/Shared
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1172.1">
      (Razor Pages) or
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1173.1">
       Views/Shared
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1174.1">
      (MVC) folder and add the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1175.1">
       following code:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.1176.1">
&lt;h1&gt;Load Technologies&lt;/h1&gt;
&lt;button class="btn btn-primary"
  @onclick="LoadTechnologies"&gt;Load&lt;/button&gt;
@if (technologies != null)
{
    &lt;ul&gt;
        @foreach(var tech in technologies)
        {
            &lt;li&gt;@tech&lt;/li&gt;
        }
    &lt;/ul&gt;
}
@code {
    private int currentCount = 0;
    private string[]? </span><span class="koboSpan" id="kobo.1176.2">technologies;
    private void LoadTechnologies()
    {
        technologies = new[] { "Razor Pages",
          "MVC", "Blazor"};
    }
}</span></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1177.1">
       The preceding
      </span>
      <a id="_idIndexMarker144">
      </a>
      <span class="koboSpan" id="kobo.1178.1">
       code creates a
      </span>
      <strong class="bold">
       <span class="koboSpan" id="kobo.1179.1">
        Load
       </span>
      </strong>
      <span class="koboSpan" id="kobo.1180.1">
       button with a click event that will load a list of technologies.
      </span>
      <span class="koboSpan" id="kobo.1180.2">
       This list of technologies was created in the
      </span>
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.1181.1">
        @code{}
       </span>
      </strong>
      <span class="koboSpan" id="kobo.1182.1">
       session, using an array of strings.
      </span>
      <span class="koboSpan" id="kobo.1182.2">
       When running the application, the screen will be similar to
      </span>
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.1183.1">
         Figure 2
        </span>
       </em>
      </span>
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.1184.1">
         .15
        </span>
       </em>
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1185.1">
        :
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer030">
     <span class="koboSpan" id="kobo.1186.1">
      <img alt="Figure 2.15 – Page/View using the Blazor component" src="image/B21788_02_15.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1187.1">
     Figure 2.15 – Page/View using the Blazor component
    </span>
   </p>
   <ol>
    <li value="2">
     <span class="koboSpan" id="kobo.1188.1">
      To
     </span>
     <a id="_idIndexMarker145">
     </a>
     <span class="koboSpan" id="kobo.1189.1">
      use this component, add the following code to any MVC Razor page
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1190.1">
       or View:
      </span>
     </span>
     <pre class="source-code"><span class="koboSpan" id="kobo.1191.1">
&lt;component type="typeof(Counter)"
  render-mode="ServerPrerendered" /&gt;</span></pre>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.1192.1">
     When running the application, simply use the component to obtain the expected result, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1193.1">
       Figure 2
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1194.1">
      .16
     </span>
    </em>
    <span class="koboSpan" id="kobo.1195.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1195.2">
     This component is reusable and can be added to any page or view, bringing greater flexibility and power to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1196.1">
      UI development:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer031">
     <span class="koboSpan" id="kobo.1197.1">
      <img alt="Figure 2.16 – Using a Blazor component with Razor Pages and MVC" src="image/B21788_02_16.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1198.1">
     Figure 2.16 – Using a Blazor component with Razor Pages and MVC
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1199.1">
     Combining ASP.NET Core UI frameworks can bring benefits during the web-based application development process, using the best of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1200.1">
      each approach.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-43">
    <a id="_idTextAnchor043">
    </a>
    <span class="koboSpan" id="kobo.1201.1">
     Summary
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.1202.1">
     In this chapter, you’ve delved into the rich world of the ASP.NET Core UI, gaining valuable insights into the available tools for crafting dynamic and engaging UIs.
    </span>
    <span class="koboSpan" id="kobo.1202.2">
     You’ve not only understood the key concepts and tools required for implementing a server-side UI, but you’ve also discovered the remarkable benefits of WebAssembly through Blazor, enabling you to create powerful SPAs in conjunction with ASP.NET Core.
    </span>
    <span class="koboSpan" id="kobo.1202.3">
     As you wrap up this chapter, you’ve learned how to seamlessly combine ASP.NET Core UI solutions.
    </span>
    <span class="koboSpan" id="kobo.1202.4">
     Now, with a solid foundation in place, I invite you to embark on the next exciting journey in
    </span>
    <a href="B21788_03.xhtml#_idTextAnchor044">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1203.1">
        Chapter 3
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.1204.1">
     , where we’ll explore the world of web APIs and their pivotal role in delivering outstanding services.
    </span>
    <span class="koboSpan" id="kobo.1204.2">
     Get ready to take your skills to the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1205.1">
      next level!
     </span>
    </span>
   </p>
  </div>
 </body></html>