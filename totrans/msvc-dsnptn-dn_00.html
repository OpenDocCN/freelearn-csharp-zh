<html><head></head><body>
<div><h1 id="_idParaDest-5"><a id="_idTextAnchor004"/>Preface</h1>
<p>Hello there! We are here to explore design and development patterns that we can leverage when building a microservice application with .NET. Microservice architecture involves separating a potentially complex application into smaller, more maintainable services that must work together. Essentially, we take one big application and break it down into smaller parts.</p>
<p>This approach introduces a fresh crop of complexities in the application’s design since these now separate services need to collaborate to deliver a unified experience to the end user. As such, we need to understand the various drawbacks of this architectural approach and strategize on how we can address the various concerns.</p>
<p>We will focus on using .NET, given that Microsoft has a proven track record of releasing and supporting top-notch tooling and support for the most recent technologies that allow us to develop cutting-edge solutions. Some of the reasons we focus on development with .NET are as follows:</p>
<ul>
<li><strong class="bold">Well maintained</strong>: Microsoft is constantly pushing the boundaries and introducing new ways to accomplish old things and new ways to implement solutions and increase productivity. It is a well-maintained, supported, and documented ecosystem.</li>
<li><strong class="bold">Performance</strong>: .NET increases its performance with each new release. Microservices must be as performant and responsive as possible to ensure that the end user’s experience is as clean as possible.</li>
<li><strong class="bold">Cross-platform</strong>: .NET Core is cross-platform and can be deployed on virtually any technology stack. This reduces the limitations surrounding deploying and supporting services written using .NET technology.</li>
<li><strong class="bold">Support for various technologies</strong>: Each problem has a technology that helps us to implement a solution. .NET has support for many technologies, making it a great candidate for universal development needs.</li>
</ul>
<p>We want to ensure that we understand the possibilities and strategies needed while developing an application based on microservices architecture. We will review the theory behind each problem and then explore the potential solutions and technologies that help us to implement the best possible solution to our challenges while developing a solution.</p>
<h1 id="_idParaDest-6"><a id="_idTextAnchor005"/>Who this book is for</h1>
<p>This book is designed for .NET developers who wish to demystify the various moving parts of microservices architecture. To get the most out of the book, you should ideally fit into one of these categories:</p>
<ul>
<li><strong class="bold">Team leads</strong>: Leaders who need to understand the various moving parts and the theory behind design decisions that need to be made</li>
<li><strong class="bold">Senior developers</strong>: Developers who need to appreciate how to guide the development efforts and implement complex blocks of code</li>
<li><strong class="bold">Intermediate .NET developers</strong>: .NET developers who have a working knowledge of the .NET ecosystem and want to dig deeper into developing more complex solutions</li>
</ul>
<p>The overall content of this book will assist you in understanding the dynamics of microservices application design and assist you in reaching the next level of development.</p>
<h1 id="_idParaDest-7"><a id="_idTextAnchor006"/>What this book covers</h1>
<p><a href="B19100_01.xhtml#_idTextAnchor015"><em class="italic">Chapter 1</em></a>, <em class="italic">Introduction to Microservices </em><em class="italic">–</em><em class="italic"> the Big Picture,</em> looks at microservice architecture at a high level and seeks to understand some of the early problems we might encounter and explores design patterns that address them.</p>
<p><a href="B19100_02.xhtml#_idTextAnchor030"><em class="italic">Chapter 2</em></a>, <em class="italic">Working with the Aggregator Pattern,</em> explores how domain-driven design and the aggregate pattern lay the foundation for scoping requirements and the foundation of microservice design.</p>
<p><a href="B19100_03.xhtml#_idTextAnchor046"><em class="italic">Chapter 3</em></a>, <em class="italic">Synchronous Communication between Microservices</em>, explores how we make microservices communicate synchronously and the potential drawbacks of this method.</p>
<p><a href="B19100_04.xhtml#_idTextAnchor057"><em class="italic">Chapter 4</em></a>, <em class="italic">Asynchronous Communication between Microservices</em>, looks at asynchronous communication between services, which allows us to send data and move along, regardless of the availability or potential long runtime of the other microservices being called.</p>
<p><a href="B19100_05.xhtml#_idTextAnchor071"><em class="italic">Chapter 5</em></a>, <em class="italic">Working with the CQRS Pattern</em>, explores the CQRS pattern and why it is useful in microservices development.</p>
<p><a href="B19100_06.xhtml#_idTextAnchor087"><em class="italic">Chapter 6</em></a>, <em class="italic">Applying Event Sourcing Patterns</em>, discusses the intricacies of event sourcing and how we can implement this to ensure that our data between services stays in sync.</p>
<p><a href="B19100_07.xhtml#_idTextAnchor108"><em class="italic">Chapter 7</em></a>, <em class="italic">Handling Data for Each Microservice with Database per Service Pattern</em>, covers the best practices surrounding implementing different databases in different services.</p>
<p><a href="B19100_08.xhtml#_idTextAnchor127"><em class="italic">Chapter 8</em></a>, <em class="italic">Implement Transactions across Microservices Using the Saga Pattern</em>, explores the Saga pattern and how it helps us implement transactions across our microservices.</p>
<p><a href="B19100_09.xhtml#_idTextAnchor140"><em class="italic">Chapter 9</em></a>, <em class="italic">Building Resilient Microservices</em>, reviews implementing retry and exit strategy logic for more resilient communication between services.</p>
<p><a href="B19100_10.xhtml#_idTextAnchor156"><em class="italic">Chapter 10</em></a>, <em class="italic">Performing Health Checks on Your Services</em>, reviews how we can implement health checks in our ASP.NET Core APIs and why they are essential.</p>
<p><a href="B19100_11.xhtml#_idTextAnchor168"><em class="italic">Chapter 11</em></a>, <em class="italic">Implementing API and BFF Gateway Patterns</em>, dives into implementing API gateways, the backed for frontend pattern, and how they help us to create a robust microservices application.</p>
<p><a href="B19100_12.xhtml#_idTextAnchor184"><em class="italic">Chapter 12</em></a>, <em class="italic">Securing Microservices with Bearer Tokens</em>, reviews how bearer tokens can secure communications with each service.</p>
<p><a href="B19100_13.xhtml#_idTextAnchor202"><em class="italic">Chapter 13</em></a>, <em class="italic">Microservice Container Hosting</em>, explores containerization and how we can leverage containers to efficiently host our microservices.</p>
<p><a href="B19100_14.xhtml#_idTextAnchor219"><em class="italic">Chapter 14</em></a>, <em class="italic">Implementing Centralized Logging for Microservices</em>, explores the steps and best practices for aggregating logs from several services into one viewing area.</p>
<p><a href="B19100_15.xhtml#_idTextAnchor231"><em class="italic">Chapter 15</em></a>, <em class="italic">Wrapping It All Up</em>, discusses the key points from each chapter and highlights how each plays a role in developing a microservices application.</p>
<h1 id="_idParaDest-8"><a id="_idTextAnchor007"/>To get the most out of this book</h1>
<p>You will need knowledge of API development using ASP.NET Core and basic database development knowledge. This book is best suited for intermediate-level developers looking to improve their understanding of development design patterns.</p>
<div><div><table class="No-Table-Style" id="table001">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">Software/hardware covered in the book</strong></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">Operating system requirements</strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p>ASP.NET Core 6/7</p>
</td>
<td class="No-Table-Style T---Body">
<p>Windows, macOS, or Linux</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p>C# 9/10</p>
</td>
<td class="No-Table-Style T---Body">
<p>Windows, macOS, or Linux</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p>Docker</p>
</td>
<td class="No-Table-Style T---Body">
<p>Windows, macOS, or Linux</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Most examples are shown using NuGet package manager commands and Visual Studio 2022. These commands can be translated into dotnet CLI commands, which can be used on any operating system and with alternative IDEs to Visual Studio.</p>
<h1 id="_idParaDest-9"><a id="_idTextAnchor008"/>Download the example code files</h1>
<p>You can download the example code files for this book from GitHub at <a href="https://github.com/PacktPublishing/Microservices-Design-Patterns-in-.NET">https://github.com/PacktPublishing/Microservices-Design-Patterns-in-.NET</a>. If there’s an update to the code, it will be updated in the GitHub repository.</p>
<p>We also have other code bundles from our rich catalog of books and videos available at <a href="https://github.com/PacktPublishing/">https://github.com/PacktPublishing/</a>. Check them out!</p>
<h1 id="_idParaDest-10"><a id="_idTextAnchor009"/>Download the color images</h1>
<p>We also provide a PDF file that has color images of the screenshots and diagrams used in this book. You can download it here: <a href="https://packt.link/dD3Jv">https://packt.link/dD3Jv</a>.</p>
<h1 id="_idParaDest-11"><a id="_idTextAnchor010"/>Conventions used</h1>
<p>There are several text conventions used throughout this book.</p>
<p><code>Code in text</code>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, commands, and keywords. Here is an example: “As it stands, our <code>CreateAppointmentHandler</code> will handle everything that is needed in the situation.”</p>
<p>A block of code is set as follows:</p>
<pre class="source-code">
public class AppointmentCreated : IDomainEvent
    {
        public Appointment { get; set; }
        public DateTime ActionDate { get; private set; }</pre>
<p><strong class="bold">Bold</strong>: Indicates a new term, an important word, or words that you see onscreen. For instance, words in menus or dialog boxes appear in <strong class="bold">bold</strong>. Here is an example: “Select <strong class="bold">System info</strong> from the <strong class="bold">Administration</strong> panel.”</p>
<p class="callout-heading">Tips or important notes</p>
<p class="callout">Appear like this.</p>
<h1 id="_idParaDest-12"><a id="_idTextAnchor011"/>Get in touch</h1>
<p>Feedback from our readers is always welcome.</p>
<p><strong class="bold">General feedback</strong>: If you have questions about any aspect of this book, email us at <a href="mailto:customercare@packtpub.com">customercare@packtpub.com</a> and mention the book title in the subject of your message.</p>
<p><strong class="bold">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit <a href="https://www.packtpub.com/support/errata">www.packtpub.com/support/errata</a> and fill in the form.</p>
<p><strong class="bold">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at <a href="mailto:copyright@packt.com">copyright@packt.com</a> with a link to the material.</p>
<p><strong class="bold">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="https://authors.packtpub.com">authors.packtpub.com</a>.</p>
<h1 id="_idParaDest-13"><a id="_idTextAnchor012"/>Share Your Thoughts</h1>
<p>Once you’ve read <em class="italic">Microservices Design Patterns in .NET</em>, we’d love to hear your thoughts! Please <a href="https://packt.link/r/1804610305">click here to go straight to the Amazon review page</a> for this book and share your feedback.</p>
<p>Your review is important to us and the tech community and will help us make sure we’re delivering excellent quality content.</p>
<h1 id="_idParaDest-14"><a id="_idTextAnchor013"/>Download a free PDF copy of this book</h1>
<p>Thanks for purchasing this book!</p>
<p>Do you like to read on the go but are unable to carry your print books everywhere?</p>
<p>Is your eBook purchase not compatible with the device of your choice?</p>
<p>Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at no cost.</p>
<p>Read anywhere, any place, on any device. Search, copy, and paste code from your favorite technical books directly into your application. </p>
<p>The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your inbox daily</p>
<p>Follow these simple steps to get the benefits:</p>
<ol>
<li>Scan the QR code or visit the link below</li>
</ol>
<p class="IMG---Figure"> </p>
<div><div><img alt="" src="img/B19100_QR_Free_PDF.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a href="https://packt.link/free-ebook/9781804610305">https://packt.link/free-ebook/9781804610305</a></p>
<ol>
<li value="2">Submit your proof of purchase</li>
<li>That’s it! We’ll send your free PDF and other benefits to your email directly</li>
</ol>
</div>


<div><h1 id="_idParaDest-15"><a id="_idTextAnchor014"/>Part 1: Understanding Microservices and Design Patterns</h1>
<p>This part focuses on the fundamentals of microservices design patterns. You will learn about the many moving parts and scoping techniques needed for deciding the overall approach to design a microservices application. By the end of this part, you will realize the intricacies surrounding this development pattern and understand some of the pros and cons of this approach. </p>
<p>This part has the following chapters:</p>
<ul>
<li><a href="B19100_01.xhtml#_idTextAnchor015"><em class="italic">Chapter 1</em></a>, <em class="italic">Introduction to Microservices </em><em class="italic">–</em><em class="italic"> The Big Picture</em></li>
<li><a href="B19100_02.xhtml#_idTextAnchor030"><em class="italic">Chapter 2</em></a>, <em class="italic">Working with the Aggregator Pattern</em></li>
<li><a href="B19100_03.xhtml#_idTextAnchor046"><em class="italic">Chapter 3</em></a>, <em class="italic">Synchronous Communication between Microservices</em></li>
<li><a href="B19100_04.xhtml#_idTextAnchor057"><em class="italic">Chapter 4</em></a>, <em class="italic">Asynchronous Communication between Microservices</em></li>
<li><a href="B19100_05.xhtml#_idTextAnchor071"><em class="italic">Chapter 5</em></a>, <em class="italic">Working with the CQRS Pattern</em></li>
<li><a href="B19100_06.xhtml#_idTextAnchor087"><em class="italic">Chapter 6</em></a>, <em class="italic">Applying Event Sourcing Patterns</em></li>
</ul>
</div>
<div><div></div>
</div>
</body></html>