<html><head></head><body>
  <div id="_idContainer032">
   <h1 class="chapter-number" id="_idParaDest-56">
    <a id="_idTextAnchor056">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     4
    </span>
   </h1>
   <h1 id="_idParaDest-57">
    <a id="_idTextAnchor057">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Documentation with Swagger
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.3.1">
     In this chapter, we’ll look at documenting your project with Swagger.
    </span>
    <span class="koboSpan" id="kobo.3.2">
     Human-readable documentation is critical in an API.
    </span>
    <span class="koboSpan" id="kobo.3.3">
     It allows your clients to understand each endpoint and the potential
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.4.1">
      responses quickly.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.5.1">
     We’ll ensure that our Swagger documentation adheres to the OpenAPI (formerly Swagger) Specification by utilizing XML and incorporating attributes within the code.
    </span>
    <span class="koboSpan" id="kobo.5.2">
     You can learn more
    </span>
    <a id="_idIndexMarker077">
    </a>
    <span class="koboSpan" id="kobo.6.1">
     about OpenAPI
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.7.1">
      at
     </span>
    </span>
    <a href="https://swagger.io/docs/specification/about/">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.8.1">
       https://swagger.io/docs/specification/about/
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.9.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.10.1">
     Swagger needs an OpenAPI implementation, and in the case of .NET, Swashbuckle serves as the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.11.1">
      designated option.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.12.1">
     In this chapter, we will cover the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.13.1">
      following topics:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.14.1">
      What
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.15.1">
       Swagger is
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.16.1">
      How Swagger
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.17.1">
       is used
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.18.1">
      How to set
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.19.1">
       up Swagger
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.20.1">
      How to pass parameters
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.21.1">
       to Swagger
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-58">
    <a id="_idTextAnchor058">
    </a>
    <span class="koboSpan" id="kobo.22.1">
     Technical requirements
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.23.1">
     For this chapter, all you will need is Visual Studio.
    </span>
    <span class="koboSpan" id="kobo.23.2">
     All of the features we’ll be using come with Visual Studio, or can be obtained for free
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.24.1">
      through NuGet.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.25.1">
     The code files for this book are available in the book’s GitHub repository :
    </span>
    <a href="https://github.com/PacktPublishing/Programming-APIs-with-C-Sharp-and-.NET/tree/main/Chapter04">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.26.1">
       https://github.com/PacktPublishing/Programming-APIs-with-C-Sharp-and-.NET/tree/main/Chapter04
      </span>
     </span>
    </a>
   </p>
   <h1 id="_idParaDest-59">
    <a id="_idTextAnchor059">
    </a>
    <span class="koboSpan" id="kobo.27.1">
     Setting up the Swagger documentation
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.28.1">
     To install
    </span>
    <a id="_idIndexMarker078">
    </a>
    <span class="koboSpan" id="kobo.29.1">
     Swagger, open your solution and from the menu, select
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.30.1">
      Tools
     </span>
    </strong>
    <span class="koboSpan" id="kobo.31.1">
     |
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.32.1">
      NuGet Package Manager
     </span>
    </strong>
    <span class="koboSpan" id="kobo.33.1">
     |
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.34.1">
      Manage NuGet Packages for Solution
     </span>
    </strong>
    <span class="koboSpan" id="kobo.35.1">
     .
    </span>
    <span class="koboSpan" id="kobo.35.2">
     Install the latest version
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.36.1">
      of
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.37.1">
       Swashbuckle.AspNetCore
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.38.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.39.1">
     Right-click on your project file and click on
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.40.1">
      Properties
     </span>
    </strong>
    <span class="koboSpan" id="kobo.41.1">
     .
    </span>
    <span class="koboSpan" id="kobo.41.2">
     On the left of your screen, choose
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.42.1">
      Application
     </span>
    </strong>
    <span class="koboSpan" id="kobo.43.1">
     .
    </span>
    <span class="koboSpan" id="kobo.43.2">
     On the right, choose
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.44.1">
      Console Application
     </span>
    </strong>
    <span class="koboSpan" id="kobo.45.1">
     , as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.46.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.47.1">
       .1
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.48.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer018">
     <span class="koboSpan" id="kobo.49.1">
      <img alt="Figure 4.1 – Installation part 1" src="image/B21988_04_01.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.50.1">
     Figure 4.1 – Installation part 1
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.51.1">
     Under
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.52.1">
      Build
     </span>
    </strong>
    <span class="koboSpan" id="kobo.53.1">
     , choose
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.54.1">
      Output
     </span>
    </strong>
    <span class="koboSpan" id="kobo.55.1">
     and scroll down to
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.56.1">
      Documentation file
     </span>
    </strong>
    <span class="koboSpan" id="kobo.57.1">
     .
    </span>
    <span class="koboSpan" id="kobo.57.2">
     Check the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.58.1">
      Generate a file containing API documentation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.59.1">
     box, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.60.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.61.1">
       .2
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.62.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer019">
     <span class="koboSpan" id="kobo.63.1">
      <img alt="Figure 4.2 – Setting up Swagger output" src="image/B21988_04_02.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.64.1">
     Figure 4.2 – Setting up Swagger output
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.65.1">
     Note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.66.1">
     In
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.67.1">
       Figure 4
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.68.1">
      .2
     </span>
    </em>
    <span class="koboSpan" id="kobo.69.1">
     ,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.70.1">
      Generate a file containing API documentation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.71.1">
     is checked.
    </span>
    <span class="koboSpan" id="kobo.71.2">
     The file that is generated can be imported into other applications, such as Postman, for an integrated documentation and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.72.1">
      testing experience.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.73.1">
     Open
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.74.1">
      Program.cs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.75.1">
     (typically the last file in Solution Explorer) and add the Swagger generator
    </span>
    <a id="_idIndexMarker079">
    </a>
    <span class="koboSpan" id="kobo.76.1">
     to the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.77.1">
      services collection:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.78.1">
builder.Services.AddSwaggerGen(
 x =&gt;
 {
     x.SwaggerDoc(
         "v1",
         new OpenApiInfo
         {
             Title = $"{Assembly.GetExecutingAssembly().GetName().
</span><span class="koboSpan" id="kobo.78.2">             Name}",
             Version = "Version 1",
             Description = "Create documentation for Cars",
             Contact = new OpenApiContact
             {
                 Name = "Jesse Liberty",
                 Email = "jesseliberty@gmail.com",
                 Url = new Uri("https://jesseliberty.com")
             }
         });
             var xmlFilename = System.IO.Path.Combine(System.
</span><span class="koboSpan" id="kobo.78.3">             AppContext.BaseDirectory, $"{Assembly.
</span><span class="koboSpan" id="kobo.78.4">             GetExecutingAssembly().GetName().Name}.xml");
             x.IncludeXmlComments(xmlFilename);
});</span></pre>
   <p>
    <span class="koboSpan" id="kobo.79.1">
     Save
    </span>
    <a id="_idIndexMarker080">
    </a>
    <span class="koboSpan" id="kobo.80.1">
     everything.
    </span>
    <span class="koboSpan" id="kobo.80.2">
     That’s it.
    </span>
    <span class="koboSpan" id="kobo.80.3">
     This is only done once.
    </span>
    <span class="koboSpan" id="kobo.80.4">
     You have now set up Swagger documentation.
    </span>
    <span class="koboSpan" id="kobo.80.5">
     In fact, you’ve already added the description, name, and contact information.
    </span>
    <span class="koboSpan" id="kobo.80.6">
     The result is shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.81.1">
       Figure 4
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.82.1">
      .3
     </span>
    </em>
    <span class="koboSpan" id="kobo.83.1">
     .
    </span>
    <span class="koboSpan" id="kobo.83.2">
     This is what you will see when you start your program and Swagger opens a browser window to display
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.84.1">
      its interface:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer020">
     <span class="koboSpan" id="kobo.85.1">
      <img alt="Figure 4.3 – Top of Swagger documentation" src="image/B21988_04_03.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.86.1">
     Figure 4.3 – Top of Swagger documentation
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.87.1">
     Notice that on this page, the website and email are live links and the text
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.88.1">
      Create documentation for Cars
     </span>
    </strong>
    <span class="koboSpan" id="kobo.89.1">
     is what you put in the description in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.90.1">
      preceding code.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-60">
    <a id="_idTextAnchor060">
    </a>
    <span class="koboSpan" id="kobo.91.1">
     Swagger for the controller
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.92.1">
     Swagger
    </span>
    <a id="_idIndexMarker081">
    </a>
    <span class="koboSpan" id="kobo.93.1">
     documentation is implemented using XML comments.
    </span>
    <span class="koboSpan" id="kobo.93.2">
     XML comments are preceded by three slash marks.
    </span>
    <span class="koboSpan" id="kobo.93.3">
     Here’s
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.94.1">
      an example:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.95.1">
/// XML comment</span></pre>
   <p>
    <span class="koboSpan" id="kobo.96.1">
     XML comments are paired tags, such as
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.97.1">
      the following:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.98.1">
/// &lt;summary&gt;
…
/// &lt;/summary&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.99.1">
     Let’s start with the controller of our Cars application.
    </span>
    <span class="koboSpan" id="kobo.99.2">
     We’re going to put Swagger documentation above every method in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.100.1">
      the controller.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.101.1">
     The first comment we’ll add is
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.102.1">
      the summary:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.103.1">
/// &lt;summary&gt;
/// Get all the cars in the Database
/// &lt;/summary&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.104.1">
     This comment will appear next to the route for the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.105.1">
      GET
     </span>
    </strong>
    <span class="koboSpan" id="kobo.106.1">
     button, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.107.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.108.1">
       .4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.109.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer021">
     <span class="koboSpan" id="kobo.110.1">
      <img alt="Figure 4.4 – Display the summary" src="image/B21988_04_04.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.111.1">
     Figure 4.4 – Display the summary
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.112.1">
     Before we
    </span>
    <a id="_idIndexMarker082">
    </a>
    <span class="koboSpan" id="kobo.113.1">
     go any further, let’s look at what we get from Swagger without writing any
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.114.1">
      additional code.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-61">
    <a id="_idTextAnchor061">
    </a>
    <span class="koboSpan" id="kobo.115.1">
     Swagger out of the box
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.116.1">
     Note that Swagger will
    </span>
    <a id="_idIndexMarker083">
    </a>
    <span class="koboSpan" id="kobo.117.1">
     come up automatically just after you start
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.118.1">
      your application.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.119.1">
     To see the auto-generated documentation, click on the arrow on the far right as circled in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.120.1">
       Figure 4
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.121.1">
      .4
     </span>
    </em>
    <span class="koboSpan" id="kobo.122.1">
     .
    </span>
    <span class="koboSpan" id="kobo.122.2">
     Swagger opens the details of the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.123.1">
      Get
     </span>
    </strong>
    <span class="koboSpan" id="kobo.124.1">
     command, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.125.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.126.1">
       .5
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.127.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer022">
     <span class="koboSpan" id="kobo.128.1">
      <img alt="Figure 4.5 – Swagger out of the box" src="image/B21988_04_05.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.129.1">
     Figure 4.5 – Swagger out of the box
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.130.1">
     This is a little
    </span>
    <a id="_idIndexMarker084">
    </a>
    <span class="koboSpan" id="kobo.131.1">
     hard to see, so let’s zoom in on a couple of important parts.
    </span>
    <span class="koboSpan" id="kobo.131.2">
     In the upper-left corner is an area for all the parameters you’ll be sending in for the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.132.1">
      GetAll
     </span>
    </strong>
    <span class="koboSpan" id="kobo.133.1">
     command.
    </span>
    <span class="koboSpan" id="kobo.133.2">
     We are sending in
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.134.1">
      returnDeletedRecords
     </span>
    </strong>
    <span class="koboSpan" id="kobo.135.1">
     with a default value of
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.136.1">
      false
     </span>
    </strong>
    <span class="koboSpan" id="kobo.137.1">
     .
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.138.1">
       Figure 4
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.139.1">
      .6
     </span>
    </em>
    <span class="koboSpan" id="kobo.140.1">
     shows how Swagger
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.141.1">
      depicts this:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer023">
     <span class="koboSpan" id="kobo.142.1">
      <img alt="Figure 4.6 – Parameters" src="image/B21988_04_06.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.143.1">
     Figure 4.6 – Parameters
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.144.1">
     Notice the
    </span>
    <a id="_idIndexMarker085">
    </a>
    <span class="koboSpan" id="kobo.145.1">
     dropdown.
    </span>
    <span class="koboSpan" id="kobo.145.2">
     It lets you try out both possible values (
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.146.1">
      false
     </span>
    </strong>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.147.1">
      and
     </span>
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.148.1">
       true
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.149.1">
      ).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.150.1">
     Next, on the left side are the code and description for the potential responses from the server.
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.151.1">
       Figure 4
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.152.1">
      .7
     </span>
    </em>
    <span class="koboSpan" id="kobo.153.1">
     shows that the first potential response is
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.154.1">
       200: Success
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.155.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer024">
     <span class="koboSpan" id="kobo.156.1">
      <img alt="Figure 4.7 – Success" src="image/B21988_04_07.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.157.1">
     Figure 4.7 – Success
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.158.1">
     Beneath the first response code is the schema that tells you what properties there are and what their type is, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.159.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.160.1">
       .8
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.161.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer025">
     <span class="koboSpan" id="kobo.162.1">
      <img alt="Figure 4.8 – Schema" src="image/B21988_04_08.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.163.1">
     Figure 4.8 – Schema
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.164.1">
     We are all set to
    </span>
    <a id="_idIndexMarker086">
    </a>
    <span class="koboSpan" id="kobo.165.1">
     see the effects of our comments.
    </span>
    <span class="koboSpan" id="kobo.165.2">
     Let’s take a look at what happens when we start the application and Swagger
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.166.1">
      comes up.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-62">
    <a id="_idTextAnchor062">
    </a>
    <span class="koboSpan" id="kobo.167.1">
     Running your API in Swagger
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.168.1">
     Most
    </span>
    <a id="_idIndexMarker087">
    </a>
    <span class="koboSpan" id="kobo.169.1">
     importantly, in the upper-right corner is a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.170.1">
      Try It Out
     </span>
    </strong>
    <span class="koboSpan" id="kobo.171.1">
     button.
    </span>
    <span class="koboSpan" id="kobo.171.2">
     Clicking on this button puts Swagger into interactive mode, and allows you to try out your code.
    </span>
    <span class="koboSpan" id="kobo.171.3">
     When that button is clicked, two other buttons appear:
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.172.1">
      Execute
     </span>
    </strong>
    <span class="koboSpan" id="kobo.173.1">
     and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.174.1">
      Clear
     </span>
    </strong>
    <span class="koboSpan" id="kobo.175.1">
     .
    </span>
    <span class="koboSpan" id="kobo.175.2">
     Pressing
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.176.1">
      Execute
     </span>
    </strong>
    <span class="koboSpan" id="kobo.177.1">
     causes the code to run and in our case returns the list of cars, along with some other metadata.
    </span>
    <span class="koboSpan" id="kobo.177.2">
     Let’s zero in on that (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.178.1">
      Clear
     </span>
    </strong>
    <span class="koboSpan" id="kobo.179.1">
     removes the results so that you can
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.180.1">
      try again).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.181.1">
     The first thing we see is marked as
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.182.1">
      Curl
     </span>
    </strong>
    <span class="koboSpan" id="kobo.183.1">
     , as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.184.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.185.1">
       .9
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.186.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer026">
     <span class="koboSpan" id="kobo.187.1">
      <img alt="Figure 4.9 – Every Swagger page displays the curl for the endpoint" src="image/B21988_04_09.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.188.1">
     Figure 4.9 – Every Swagger page displays the curl for the endpoint
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.189.1">
     According to Wikipedia, “
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.190.1">
      Curl combines text markup (as in HTML), scripting (as in JavaScript), and heavy-duty computing (as in Java, C#, or C++) within one unified framework
     </span>
    </em>
    <span class="koboSpan" id="kobo.191.1">
     ”.
    </span>
    <span class="koboSpan" id="kobo.191.2">
     We will be ignoring Curl in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.192.1">
      this book.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.193.1">
     Below that, we
    </span>
    <a id="_idIndexMarker088">
    </a>
    <span class="koboSpan" id="kobo.194.1">
     see the request URL that we submitted to the server, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.195.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.196.1">
       .10
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.197.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer027">
     <span class="koboSpan" id="kobo.198.1">
      <img alt="Figure 4.10 – Request URL as displayed in Swagger" src="image/B21988_04_10.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.199.1">
     Figure 4.10 – Request URL as displayed in Swagger
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.200.1">
     Notice that we are working with port
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.201.1">
      7025
     </span>
    </strong>
    <span class="koboSpan" id="kobo.202.1">
     (yours may differ) on localhost and that we pass our parameter (
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.203.1">
      returnDeletedRecords=false
     </span>
    </strong>
    <span class="koboSpan" id="kobo.204.1">
     ) as we would with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.205.1">
      any HTML.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.206.1">
     Next comes the most important server response: the response body, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.207.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.208.1">
       .11
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.209.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer028">
     <span class="koboSpan" id="kobo.210.1">
      <img alt="Figure 4.11 – Server response" src="image/B21988_04_11.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.211.1">
     Figure 4.11 – Server response
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.212.1">
     Finally, the schema
    </span>
    <a id="_idIndexMarker089">
    </a>
    <span class="koboSpan" id="kobo.213.1">
     of the response object is displayed, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.214.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.215.1">
       .12
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.216.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer029">
     <span class="koboSpan" id="kobo.217.1">
      <img alt="Figure 4.12 – Response schema" src="image/B21988_04_12.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.218.1">
     Figure 4.12 – Response schema
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.219.1">
     Swagger is terrific for
    </span>
    <a id="_idIndexMarker090">
    </a>
    <span class="koboSpan" id="kobo.220.1">
     documentation, but somewhat limited as a way to test your application.
    </span>
    <span class="koboSpan" id="kobo.220.2">
     As we’ll see, Postman is a much more powerful application
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.221.1">
      for testing.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-63">
    <a id="_idTextAnchor063">
    </a>
    <span class="koboSpan" id="kobo.222.1">
     param tag
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.223.1">
     If your verb has
    </span>
    <a id="_idIndexMarker091">
    </a>
    <span class="koboSpan" id="kobo.224.1">
     parameters, you can document them in the Swagger attributes using the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.225.1">
      param
     </span>
    </strong>
    <span class="koboSpan" id="kobo.226.1">
     keyword.
    </span>
    <span class="koboSpan" id="kobo.226.2">
     For example, in our case, we want to document the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.227.1">
      returnDeletedRecords
     </span>
    </strong>
    <span class="koboSpan" id="kobo.228.1">
     parameter.
    </span>
    <span class="koboSpan" id="kobo.228.2">
     We can do so
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.229.1">
      like this:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.230.1">
/// &lt;summary&gt;
/// Get all the cars in the Database
/// &lt;/summary&gt;
/// &lt;param name="returnDeletedRecords"&gt;If true, the method will return all the records, including the ones that have been deleted&lt;/param&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.231.1">
     The result is that the parameter is documented in Swagger, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.232.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.233.1">
       .13
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.234.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer030">
     <span class="koboSpan" id="kobo.235.1">
      <img alt="Figure 4.13 – Documenting the parameters" src="image/B21988_04_13.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.236.1">
     Figure 4.13 – Documenting the parameters
    </span>
   </p>
   <h2 id="_idParaDest-64">
    <a id="_idTextAnchor064">
    </a>
    <span class="koboSpan" id="kobo.237.1">
     Response codes
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.238.1">
     You
    </span>
    <a id="_idIndexMarker092">
    </a>
    <span class="koboSpan" id="kobo.239.1">
     can (and should) document all the possible response codes and what
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.240.1">
      they indicate:
     </span>
    </span>
   </p>
   <pre class="source-code"><span class="koboSpan" id="kobo.241.1">
/// &lt;response code="200"&gt;Cars returned&lt;/response&gt;
/// &lt;response code="404"&gt;Specified Car not found&lt;/response&gt;
/// &lt;response code="500"&gt;An Internal Server Error prevented the request from being executed.&lt;/response&gt;</span></pre>
   <p>
    <span class="koboSpan" id="kobo.242.1">
     The result is that the return codes are documented in Swagger, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.243.1">
       Figure 4
      </span>
     </em>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.244.1">
       .14
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.245.1">
      :
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer031">
     <span class="koboSpan" id="kobo.246.1">
      <img alt="Figure 4.14 – Documenting the return codes" src="image/B21988_04_14.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.247.1">
     Figure 4.14 – Documenting the return codes
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.248.1">
     While this all
    </span>
    <a id="_idIndexMarker093">
    </a>
    <span class="koboSpan" id="kobo.249.1">
     takes a bit of effort, it becomes routine and is a best practice.
    </span>
    <span class="koboSpan" id="kobo.249.2">
     It also makes the lives of your clients
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.250.1">
      far easier.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-65">
    <a id="_idTextAnchor065">
    </a>
    <span class="koboSpan" id="kobo.251.1">
     Summary
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.252.1">
     In this chapter, you learned how to set up Swashbuckle to enable Swagger.
    </span>
    <span class="koboSpan" id="kobo.252.2">
     Swagger provides extensive documentation of your API, allowing (human) clients to learn about each endpoint and what it is for.
    </span>
    <span class="koboSpan" id="kobo.252.3">
     In addition, you can also document each parameter and the potential
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.253.1">
      error codes.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.254.1">
     In the next chapter, you’ll see how we can validate endpoint requests on the way in – preventing wasted resources and protecting you from various attacks against
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.255.1">
      your system.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-66">
    <a id="_idTextAnchor066">
    </a>
    <span class="koboSpan" id="kobo.256.1">
     You try it
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.257.1">
     Install Swagger and create the documentation for the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.258.1">
      Insert
     </span>
    </strong>
    <span class="koboSpan" id="kobo.259.1">
     endpoint in the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.260.1">
      Car
     </span>
    </strong>
    <span class="koboSpan" id="kobo.261.1">
     controller.
    </span>
    <span class="koboSpan" id="kobo.261.2">
     Run Swagger to ensure that all your documentation is
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.262.1">
      displayed properly.
     </span>
    </span>
   </p>
  </div>
 </body></html>