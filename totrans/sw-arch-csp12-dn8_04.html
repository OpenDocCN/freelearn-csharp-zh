<html><head></head><body>
<div class="Basic-Text-Frame" id="_idContainer105">
<h1 class="chapterNumber"><span class="koboSpan" id="kobo.1.1">4</span></h1>
<h1 class="chapterTitle" id="_idParaDest-83"><span class="koboSpan" id="kobo.2.1">Best Practices in Coding C# 12</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.3.1">When you are the software architect on a project, it is your responsibility to define and/or maintain a coding standard that will direct the team to program according to the expectations of the company. </span><span class="koboSpan" id="kobo.3.2">This chapter covers some of the </span><strong class="keyWord"><span class="koboSpan" id="kobo.4.1">best practices</span></strong><span class="koboSpan" id="kobo.5.1"> in coding that will help developers like you program safe, simple, and maintainable software. </span><span class="koboSpan" id="kobo.5.2">It also includes tips and tricks for coding in </span><strong class="keyWord"><span class="koboSpan" id="kobo.6.1">C#</span></strong><span class="koboSpan" id="kobo.7.1">. </span><span class="koboSpan" id="kobo.7.2">Although coding can be considered an art, writing understandable code is closer to a philosophy. </span><span class="koboSpan" id="kobo.7.3">In this chapter, we also discuss practices that you, as a software architect, need to propagate to your developers, with techniques and tools for code analysis, so that you have well-written code for your projects.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.8.1">The following topics will be covered in this chapter:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.9.1">How the complexity of your code can affect performance</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.10.1">The importance of using a version control system</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.11.1">Writing safe code in C#</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.12.1">.NET 8 tips and tricks for coding</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.13.1">Identifying well-written code</span></li>
</ul>
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.14.1">C# 12</span></strong><span class="koboSpan" id="kobo.15.1"> was launched</span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.16.1"> together with </span><strong class="keyWord"><span class="koboSpan" id="kobo.17.1">.NET 8</span></strong><span class="koboSpan" id="kobo.18.1">. </span><span class="koboSpan" id="kobo.18.2">However, the practices presented here can be used in many versions of .NET, since they refer to the basics of programming C#. </span><span class="koboSpan" id="kobo.18.3">By the end of the chapter, you will be able to define which tools you are going to incorporate into your software development life cycle to facilitate code analysis.</span></p>
<h1 class="heading-1" id="_idParaDest-84"><span class="koboSpan" id="kobo.19.1">Technical requirements</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.20.1">This chapter requires, at least, the Visual Studio 2022 free </span><em class="italic"><span class="koboSpan" id="kobo.21.1">Community Edition</span></em><span class="koboSpan" id="kobo.22.1">.</span></p>
<h1 class="heading-1" id="_idParaDest-85"><span class="koboSpan" id="kobo.23.1">The simpler your code, the better a programmer you are</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.24.1">For many people, a good programmer is one who writes complex code. </span><span class="koboSpan" id="kobo.24.2">However, the evolution of maturity in software development means there is a different way of thinking about it. </span><span class="koboSpan" id="kobo.24.3">Complexity does not mean a good job; it means poor code quality. </span><span class="koboSpan" id="kobo.24.4">Some incredible scientists and researchers have confirmed this theory and emphasized that professional code needs to be focused on time, high quality, and budget.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.25.1">Even when you have a complex scenario on your hands, if you reduce ambiguities and clarify the process of what you are coding, especially by using good names for methods and variables, which contribute to making your code “self-documented” and respect SOLID principles (</span><strong class="keyWord"><span class="koboSpan" id="kobo.26.1">S</span></strong><span class="koboSpan" id="kobo.27.1">ingle Responsibility, </span><strong class="keyWord"><span class="koboSpan" id="kobo.28.1">O</span></strong><span class="koboSpan" id="kobo.29.1">pen/Close, </span><strong class="keyWord"><span class="koboSpan" id="kobo.30.1">L</span></strong><span class="koboSpan" id="kobo.31.1">iskov Substitution, </span><strong class="keyWord"><span class="koboSpan" id="kobo.32.1">I</span></strong><span class="koboSpan" id="kobo.33.1">nterface Segregation, and </span><strong class="keyWord"><span class="koboSpan" id="kobo.34.1">D</span></strong><span class="koboSpan" id="kobo.35.1">ependency Inversion), you will turn complexity into simple code.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.36.1">So, if you want to write good code, you need to keep the focus on how to do it, considering you are not the only one who will read it later. </span><span class="koboSpan" id="kobo.36.2">This is a good tip that changes the way you write code. </span><span class="koboSpan" id="kobo.36.3">This is how we will discuss each point of this chapter.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.37.1">If your understanding of the importance of writing good code is aligned with the idea of simplicity and clarity while writing it, you should look at the Visual Studio tool known as </span><strong class="screenText"><span class="koboSpan" id="kobo.38.1">Code Metrics</span></strong><span class="koboSpan" id="kobo.39.1">:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.40.1"><img alt="Tela de celular com publicação numa rede social  Descrição gerada automaticamente" src="../Images/B19820_04_01.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.41.1">Figure 4.1: Calculating code metrics in Visual Studio</span></p>
<p class="normal"><span class="koboSpan" id="kobo.42.1">The </span><strong class="screenText"><span class="koboSpan" id="kobo.43.1">Code Metrics</span></strong><span class="koboSpan" id="kobo.44.1"> tool will deliver metrics</span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.45.1"> that will give you insights regarding the quality of the software you are delivering. </span><span class="koboSpan" id="kobo.45.2">The metrics that the tool provides can be found at this link: </span><a href="https://docs.microsoft.com/en-us/visualstudio/code-quality/code-metrics-values"><span class="url"><span class="koboSpan" id="kobo.46.1">https://docs.microsoft.com/en-us/visualstudio/code-quality/code-metrics-values</span></span></a><span class="koboSpan" id="kobo.47.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.48.1">Once you have run the code metrics analysis, you will need to interpret each metric presented. </span><span class="koboSpan" id="kobo.48.2">The following subsections focus on describing how a </span><strong class="keyWord"><span class="koboSpan" id="kobo.49.1">maintainability index</span></strong><span class="koboSpan" id="kobo.50.1">, </span><strong class="keyWord"><span class="koboSpan" id="kobo.51.1">cyclomatic complexity</span></strong><span class="koboSpan" id="kobo.52.1">, </span><strong class="keyWord"><span class="koboSpan" id="kobo.53.1">depth of inheritance</span></strong><span class="koboSpan" id="kobo.54.1">, </span><strong class="keyWord"><span class="koboSpan" id="kobo.55.1">class coupling</span></strong><span class="koboSpan" id="kobo.56.1">, and the </span><strong class="keyWord"><span class="koboSpan" id="kobo.57.1">number of lines of code</span></strong><span class="koboSpan" id="kobo.58.1"> are useful in some real-life scenarios.</span></p>
<h2 class="heading-2" id="_idParaDest-86"><span class="koboSpan" id="kobo.59.1">Maintainability index</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.60.1">The maintainability index represents</span><a id="_idIndexMarker247"/><span class="koboSpan" id="kobo.61.1"> a number from 0 to 100, which indicates how easy it is to maintain code – the easier the code, the higher the index. </span><span class="koboSpan" id="kobo.61.2">Easy maintenance is one of the key points to keeping software in good health. </span><span class="koboSpan" id="kobo.61.3">It is obvious that any software will require changes in the future since change is inevitable. </span></p>
<p class="normal"><span class="koboSpan" id="kobo.62.1">For this reason, consider refactoring your code to elevate the maintainability index if it currently has a low score. </span><span class="koboSpan" id="kobo.62.2">Writing classes and methods dedicated to a single responsibility, avoiding duplicate code, and limiting the number of lines of code of</span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.63.1"> each method are examples of how you can improve the maintainability index.</span></p>
<h2 class="heading-2" id="_idParaDest-87"><span class="koboSpan" id="kobo.64.1">Cyclomatic complexity</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.65.1">The creator of the cyclomatic complexity metric is Thomas J. </span><span class="koboSpan" id="kobo.65.2">McCabe. </span><span class="koboSpan" id="kobo.65.3">He defines the complexity of a software function</span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.66.1"> according to the number of </span><strong class="keyWord"><span class="koboSpan" id="kobo.67.1">code paths</span></strong><span class="koboSpan" id="kobo.68.1"> available (</span><strong class="keyWord"><span class="koboSpan" id="kobo.69.1">graph nodes)</span></strong><span class="koboSpan" id="kobo.70.1">. </span><span class="koboSpan" id="kobo.70.2">The more paths you have, the more complex your function is. </span><span class="koboSpan" id="kobo.70.3">McCabe</span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.71.1"> considers that each function must have a complexity score of less than 10. </span><span class="koboSpan" id="kobo.71.2">That means that if the code has more complex methods, you must refactor it, transforming parts of the code into separate methods. </span><span class="koboSpan" id="kobo.71.3">There are some real scenarios where this behavior is easily detected:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.72.1">Loops inside loops</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.73.1">Lots of consecutive </span><code class="inlineCode"><span class="koboSpan" id="kobo.74.1">if-else</span></code><span class="koboSpan" id="kobo.75.1"> statements</span></li>
<li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.76.1">switch</span></code><span class="koboSpan" id="kobo.77.1"> with code processing for each case inside the same method</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.78.1">For instance, look at the first version of this method for processing different responses to a credit card transaction. </span><span class="koboSpan" id="kobo.78.2">As you can see, the cyclomatic complexity is bigger than the number considered by McCabe as a basis. </span><span class="koboSpan" id="kobo.78.3">The reason why this happens is because of the number of </span><code class="inlineCode"><span class="koboSpan" id="kobo.79.1">if-else</span></code><span class="koboSpan" id="kobo.80.1"> statements inside each case of the main switch:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-doctag"><span class="koboSpan" id="kobo.81.1">///</span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="koboSpan" id="kobo.82.1">&lt;summary&gt;</span></span>
<span class="hljs-doctag"><span class="koboSpan" id="kobo.83.1">///</span></span><span class="hljs-comment"><span class="koboSpan" id="kobo.84.1"> This code is being used just for explaining the concept of</span></span>
<span class="hljs-doctag"><span class="koboSpan" id="kobo.85.1">///</span></span><span class="hljs-comment"><span class="koboSpan" id="kobo.86.1"> cyclomatic complexity.</span></span>
<span class="hljs-doctag"><span class="koboSpan" id="kobo.87.1">///</span></span><span class="hljs-comment"><span class="koboSpan" id="kobo.88.1"> It makes no sense at all. </span><span class="koboSpan" id="kobo.88.2">Please Calculate Code Metrics for</span></span>
<span class="hljs-doctag"><span class="koboSpan" id="kobo.89.1">///</span></span><span class="hljs-comment"><span class="koboSpan" id="kobo.90.1"> understanding</span></span>
<span class="hljs-doctag"><span class="koboSpan" id="kobo.91.1">///</span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="koboSpan" id="kobo.92.1">&lt;/summary&gt;</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.93.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.94.1">static</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.95.1">void</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.96.1">CyclomaticComplexitySample</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.97.1">()</span></span><span class="koboSpan" id="kobo.98.1">
{
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.99.1">var</span></span><span class="koboSpan" id="kobo.100.1"> billingMode = GetBillingMode();
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.101.1">var</span></span><span class="koboSpan" id="kobo.102.1"> messageResponse = ProcessCreditCardMethod();
  </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.103.1">switch</span></span><span class="koboSpan" id="kobo.104.1"> (messageResponse)
    {
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.105.1">case</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.106.1">"A"</span></span><span class="koboSpan" id="kobo.107.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.108.1">if</span></span><span class="koboSpan" id="kobo.109.1"> (billingMode == </span><span class="hljs-string"><span class="koboSpan" id="kobo.110.1">"M1"</span></span><span class="koboSpan" id="kobo.111.1">)
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.112.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.113.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.114.1"> for "</span></span><span class="koboSpan" id="kobo.115.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.116.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.117.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.118.1">"</span></span><span class="koboSpan" id="kobo.119.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.120.1">else</span></span><span class="koboSpan" id="kobo.121.1">
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.122.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.123.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.124.1"> for "</span></span><span class="koboSpan" id="kobo.125.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.126.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.127.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.128.1">"</span></span><span class="koboSpan" id="kobo.129.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.130.1">break</span></span><span class="koboSpan" id="kobo.131.1">;
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.132.1">case</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.133.1">"B"</span></span><span class="koboSpan" id="kobo.134.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.135.1">if</span></span><span class="koboSpan" id="kobo.136.1"> (billingMode == </span><span class="hljs-string"><span class="koboSpan" id="kobo.137.1">"M2"</span></span><span class="koboSpan" id="kobo.138.1">)
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.139.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.140.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.141.1"> for "</span></span><span class="koboSpan" id="kobo.142.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.143.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.144.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.145.1">"</span></span><span class="koboSpan" id="kobo.146.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.147.1">else</span></span><span class="koboSpan" id="kobo.148.1">
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.149.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.150.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.151.1"> for "</span></span><span class="koboSpan" id="kobo.152.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.153.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.154.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.155.1">"</span></span><span class="koboSpan" id="kobo.156.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.157.1">break</span></span><span class="koboSpan" id="kobo.158.1">;
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.159.1">case</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.160.1">"C"</span></span><span class="koboSpan" id="kobo.161.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.162.1">if</span></span><span class="koboSpan" id="kobo.163.1"> (billingMode == </span><span class="hljs-string"><span class="koboSpan" id="kobo.164.1">"M3"</span></span><span class="koboSpan" id="kobo.165.1">)
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.166.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.167.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.168.1"> for "</span></span><span class="koboSpan" id="kobo.169.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.170.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.171.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.172.1">"</span></span><span class="koboSpan" id="kobo.173.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.174.1">else</span></span><span class="koboSpan" id="kobo.175.1">
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.176.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.177.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.178.1"> for "</span></span><span class="koboSpan" id="kobo.179.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.180.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.181.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.182.1">"</span></span><span class="koboSpan" id="kobo.183.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.184.1">break</span></span><span class="koboSpan" id="kobo.185.1">;
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.186.1">case</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.187.1">"D"</span></span><span class="koboSpan" id="kobo.188.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.189.1">if</span></span><span class="koboSpan" id="kobo.190.1"> (billingMode == </span><span class="hljs-string"><span class="koboSpan" id="kobo.191.1">"M4"</span></span><span class="koboSpan" id="kobo.192.1">)
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.193.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.194.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.195.1"> for "</span></span><span class="koboSpan" id="kobo.196.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.197.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.198.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.199.1">"</span></span><span class="koboSpan" id="kobo.200.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.201.1">else</span></span><span class="koboSpan" id="kobo.202.1">
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.203.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.204.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.205.1"> for "</span></span><span class="koboSpan" id="kobo.206.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.207.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.208.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.209.1">"</span></span><span class="koboSpan" id="kobo.210.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.211.1">break</span></span><span class="koboSpan" id="kobo.212.1">;
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.213.1">case</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.214.1">"E"</span></span><span class="koboSpan" id="kobo.215.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.216.1">if</span></span><span class="koboSpan" id="kobo.217.1"> (billingMode == </span><span class="hljs-string"><span class="koboSpan" id="kobo.218.1">"M5"</span></span><span class="koboSpan" id="kobo.219.1">)
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.220.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.221.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.222.1"> for "</span></span><span class="koboSpan" id="kobo.223.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.224.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.225.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.226.1">"</span></span><span class="koboSpan" id="kobo.227.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.228.1">else</span></span><span class="koboSpan" id="kobo.229.1">
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.230.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.231.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.232.1"> for "</span></span><span class="koboSpan" id="kobo.233.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.234.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.235.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.236.1">"</span></span><span class="koboSpan" id="kobo.237.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.238.1">break</span></span><span class="koboSpan" id="kobo.239.1">;
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.240.1">case</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.241.1">"F"</span></span><span class="koboSpan" id="kobo.242.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.243.1">if</span></span><span class="koboSpan" id="kobo.244.1"> (billingMode == </span><span class="hljs-string"><span class="koboSpan" id="kobo.245.1">"M6"</span></span><span class="koboSpan" id="kobo.246.1">)
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.247.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.248.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.249.1"> for "</span></span><span class="koboSpan" id="kobo.250.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.251.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.252.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.253.1">"</span></span><span class="koboSpan" id="kobo.254.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.255.1">else</span></span><span class="koboSpan" id="kobo.256.1">
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.257.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.258.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.259.1"> for "</span></span><span class="koboSpan" id="kobo.260.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.261.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.262.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.263.1">"</span></span><span class="koboSpan" id="kobo.264.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.265.1">break</span></span><span class="koboSpan" id="kobo.266.1">;
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.267.1">case</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.268.1">"G"</span></span><span class="koboSpan" id="kobo.269.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.270.1">if</span></span><span class="koboSpan" id="kobo.271.1"> (billingMode == </span><span class="hljs-string"><span class="koboSpan" id="kobo.272.1">"M7"</span></span><span class="koboSpan" id="kobo.273.1">)
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.274.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.275.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.276.1"> for "</span></span><span class="koboSpan" id="kobo.277.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.278.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.279.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.280.1">"</span></span><span class="koboSpan" id="kobo.281.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.282.1">else</span></span><span class="koboSpan" id="kobo.283.1">
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.284.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.285.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.286.1"> for "</span></span><span class="koboSpan" id="kobo.287.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.288.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.289.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.290.1">"</span></span><span class="koboSpan" id="kobo.291.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.292.1">break</span></span><span class="koboSpan" id="kobo.293.1">;
      </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.294.1">case</span></span> <span class="hljs-string"><span class="koboSpan" id="kobo.295.1">"H"</span></span><span class="koboSpan" id="kobo.296.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.297.1">if</span></span><span class="koboSpan" id="kobo.298.1"> (billingMode == </span><span class="hljs-string"><span class="koboSpan" id="kobo.299.1">"M8"</span></span><span class="koboSpan" id="kobo.300.1">)
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.301.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.302.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.303.1"> for "</span></span><span class="koboSpan" id="kobo.304.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.305.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.306.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.307.1">"</span></span><span class="koboSpan" id="kobo.308.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.309.1">else</span></span><span class="koboSpan" id="kobo.310.1">
          Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.311.1">$"Billing Mode </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.312.1">{billingMode}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.313.1"> for "</span></span><span class="koboSpan" id="kobo.314.1"> +
            </span><span class="hljs-string"><span class="koboSpan" id="kobo.315.1">$"Message Response </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.316.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.317.1">"</span></span><span class="koboSpan" id="kobo.318.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.319.1">break</span></span><span class="koboSpan" id="kobo.320.1">;
      </span><span class="hljs-literal"><span class="koboSpan" id="kobo.321.1">default</span></span><span class="koboSpan" id="kobo.322.1">:
        Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.323.1">"The result of processing is unknown"</span></span><span class="koboSpan" id="kobo.324.1">);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.325.1">break</span></span><span class="koboSpan" id="kobo.326.1">;
    }
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.327.1">If you calculate the code metrics of this code, you will find a bad result when it comes to cyclomatic complexity, as you can see in the following screenshot. </span><span class="koboSpan" id="kobo.327.2">A cyclomatic complexity number above</span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.328.1"> 10 indicates that the code is difficult to read, and a developer will probably have trouble maintaining it in a future code change.</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.329.1"><img alt="Interface gráfica do usuário, Aplicativo  Descrição gerada automaticamente" src="../Images/B19820_04_02.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.330.1">Figure 4.2: High level of cyclomatic complexity</span></p>
<p class="normal"><span class="koboSpan" id="kobo.331.1">It is important to reinforce that the purpose of the code from this example is not the focus here. </span><span class="koboSpan" id="kobo.331.2">The point here is to show you the number of improvements that can be made to write better code:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.332.1">The options from </span><code class="inlineCode"><span class="koboSpan" id="kobo.333.1">switch-case</span></code><span class="koboSpan" id="kobo.334.1"> could be written using </span><code class="inlineCode"><span class="koboSpan" id="kobo.335.1">Enum</span></code><span class="koboSpan" id="kobo.336.1">.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.337.1">Each </span><code class="inlineCode"><span class="koboSpan" id="kobo.338.1">case</span></code><span class="koboSpan" id="kobo.339.1"> processing can be done:</span><ul>
<li class="bulletList"><span class="koboSpan" id="kobo.340.1">In a specific method.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.341.1">In a specific class, inheriting the action from the superclass, using the polymorphism concept.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.342.1">In a specific class, implementing an interface to define a contract.</span></li>
</ul>
</li>
<li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.343.1">switch-case</span></code><span class="koboSpan" id="kobo.344.1"> can be substituted with </span><code class="inlineCode"><span class="koboSpan" id="kobo.345.1">Dictionary&lt;Enum, Method&gt;</span></code><span class="koboSpan" id="kobo.346.1"> or by using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.347.1">switch</span></code><span class="koboSpan" id="kobo.348.1"> expression.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.349.1">By refactoring this </span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.350.1">code with the preceding techniques, the result is a piece of code that is much easier to understand, as you can see in the following code snippet of its main method:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.351.1">static</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.352.1">void</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.353.1">Main</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.354.1">()</span></span><span class="koboSpan" id="kobo.355.1">
{
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.356.1">var</span></span><span class="koboSpan" id="kobo.357.1"> billingMode = GetBillingMode();
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.358.1">var</span></span><span class="koboSpan" id="kobo.359.1"> messageResponse = ProcessCreditCardMethod();
    Dictionary&lt;CreditCardProcessingResult, CheckResultMethod&gt;
        methodsForCheckingResult = GetMethodsForCheckingResult();
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.360.1">if</span></span><span class="koboSpan" id="kobo.361.1"> (methodsForCheckingResult.ContainsKey(messageResponse))
        methodsForCheckingResult[messageResponse](billingMode,
        messageResponse);
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.362.1">else</span></span><span class="koboSpan" id="kobo.363.1">
        Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.364.1">"The result of processing is unknown"</span></span><span class="koboSpan" id="kobo.365.1">);
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.366.1">Using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.367.1">switch</span></code><span class="koboSpan" id="kobo.368.1"> expression available since C# 8.0, the code can be even simpler!</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.369.1">static</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.370.1">void</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.371.1">Main</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.372.1">()</span></span><span class="koboSpan" id="kobo.373.1">
{
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.374.1">var</span></span><span class="koboSpan" id="kobo.375.1"> billingMode = GetBillingMode();
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.376.1">var</span></span><span class="koboSpan" id="kobo.377.1"> messageResponse = ProcessCreditCardMethod();
    CheckResult(messageResponse, billingMode);
}
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.378.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.379.1">static</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.380.1"> CreditCardProcessingResult </span></span><span class="hljs-title"><span class="koboSpan" id="kobo.381.1">CheckResult</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.382.1">(</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.383.1">CreditCardProcessingResult messageResponse, BillingMode billingMode</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.384.1">)</span></span><span class="koboSpan" id="kobo.385.1"> =&gt; messageResponse </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.386.1">switch</span></span><span class="koboSpan" id="kobo.387.1">
{
    CreditCardProcessingResult.ResultA =&gt; CheckResultA(billingMode, messageResponse),
    CreditCardProcessingResult.ResultB =&gt; CheckResultB(billingMode, messageResponse),
    CreditCardProcessingResult.ResultC =&gt; CheckResultC(billingMode, messageResponse),
    CreditCardProcessingResult.ResultD =&gt; CheckResultD(billingMode, messageResponse),
    CreditCardProcessingResult.ResultE =&gt; CheckResultE(billingMode, messageResponse),
    CreditCardProcessingResult.ResultF =&gt; CheckResultF(billingMode, messageResponse),
    CreditCardProcessingResult.ResultG =&gt; CheckResultG(billingMode, messageResponse),
    CreditCardProcessingResult.Succeed =&gt; CheckResultSucceed(billingMode, messageResponse),
    _ =&gt; </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.388.1">throw</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.389.1">new</span></span><span class="koboSpan" id="kobo.390.1"> ArgumentOutOfRangeException(</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.391.1">nameof</span></span><span class="koboSpan" id="kobo.392.1">(messageResponse), </span><span class="hljs-string"><span class="koboSpan" id="kobo.393.1">$"Not expected value: </span></span><span class="hljs-subst"><span class="koboSpan" id="kobo.394.1">{messageResponse}</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.395.1">"</span></span><span class="koboSpan" id="kobo.396.1">),
};
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.397.1">The full code can be found in </span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.398.1">the GitHub repository of this chapter at </span><a href="https://github.com/PacktPublishing/Software-Architecture-with-C-Sharp-12-and-.NET-8-4E"><span class="url"><span class="koboSpan" id="kobo.399.1">https://github.com/PacktPublishing/Software-Architecture-with-C-Sharp-12-and-.NET-8-4E</span></span></a><span class="url"><span class="koboSpan" id="kobo.400.1">/tree/main/ch04</span></span><span class="koboSpan" id="kobo.401.1"> and demonstrates how lower-complexity code can be achieved. </span><span class="koboSpan" id="kobo.401.2">The following screenshot shows these results according to Code Metrics:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.402.1"><img alt="Graphical user interface, application  Description automatically generated" src="../Images/B19820_04_03.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.403.1">Figure 4.3: Cyclomatic complexity reduction after refactoring</span></p>
<p class="normal"><span class="koboSpan" id="kobo.404.1">As you can see in the preceding screenshot, there is a considerable reduction in complexity after refactoring. </span><span class="koboSpan" id="kobo.404.2">In </span><em class="chapterRef"><span class="koboSpan" id="kobo.405.1">Chapter 5</span></em><span class="koboSpan" id="kobo.406.1">, </span><em class="italic"><span class="koboSpan" id="kobo.407.1">Implementing Code Reusability in C# 12</span></em><span class="koboSpan" id="kobo.408.1">, we will discuss the importance of refactoring for code reuse. </span><span class="koboSpan" id="kobo.408.2">The reason we are doing this here is the same – we want to eliminate duplication. </span><span class="koboSpan" id="kobo.408.3">It is important to remember that when you are refactoring code, you are writing it in a better way while respecting the input and output data that this code will process.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.409.1">The key point here is that with the applied techniques, our understanding of the code increased and the complexity index decreased, thus proving the importance of cyclomatic complexity.</span></p>
<h2 class="heading-2" id="_idParaDest-88"><span class="koboSpan" id="kobo.410.1">Depth of inheritance</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.411.1">This metric represents the number of</span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.412.1"> classes inherited by the one that is being analyzed. </span><span class="koboSpan" id="kobo.412.2">The more classes you have inherited, the worse the metric will be. </span><span class="koboSpan" id="kobo.412.3">This is like class coupling and indicates how difficult it is to change the code of this class without impacting other ones, which neglects the Open/Close principle stated by SOLID. </span><span class="koboSpan" id="kobo.412.4">For instance, the following screenshot shows four inherited classes:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.413.1"><img alt="Diagrama  Descrição gerada automaticamente" src="../Images/B19820_04_04.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.414.1">Figure 4.4: Depth of inheritance sample</span></p>
<p class="normal"><span class="koboSpan" id="kobo.415.1">You can see in the</span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.416.1"> following screenshot that the deepest class has the worst metric, considering there are three other classes that can change its behavior:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.417.1"><img alt="Graphical user interface, application  Description automatically generated" src="../Images/B19820_04_05.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.418.1">Figure 4.5: Depth of inheritance metric</span></p>
<p class="normal"><span class="koboSpan" id="kobo.419.1">Inheritance is one of the basic object-oriented analysis principles. </span><span class="koboSpan" id="kobo.419.2">However, it can sometimes be bad for your code in that it can cause dependencies. </span><span class="koboSpan" id="kobo.419.3">So, if it makes sense to do so, consider using composition or aggregation instead of inheritance, as we will explain in the following section.</span></p>
<h2 class="heading-2" id="_idParaDest-89"><span class="koboSpan" id="kobo.420.1">Class coupling</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.421.1">When you connect too many classes in a single class, obviously you will get tight coupling, and changing a participant</span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.422.1"> causes unintended consequences in others. </span><span class="koboSpan" id="kobo.422.2">For sure, this can cause bad maintenance of your code, resulting in bugs that will make you spend more time trying to deliver a great solution. </span><span class="koboSpan" id="kobo.422.3">For instance, refer to </span><em class="italic"><span class="koboSpan" id="kobo.423.1">Figure 4.6</span></em><span class="koboSpan" id="kobo.424.1">. </span><span class="koboSpan" id="kobo.424.2">It shows a design where aggregation has been performed a lot. </span><span class="koboSpan" id="kobo.424.3">There is no sense to the code itself:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.425.1"><img alt="Diagrama  Descrição gerada automaticamente" src="../Images/B19820_04_06.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.426.1">Figure 4.6: Class coupling example</span></p>
<p class="normal"><span class="koboSpan" id="kobo.427.1">Once you have calculated the code metrics for the preceding design, you will see that the number of class coupling instances for the </span><code class="inlineCode"><span class="koboSpan" id="kobo.428.1">ProcessData()</span></code><span class="koboSpan" id="kobo.429.1"> method, which calls </span><code class="inlineCode"><span class="koboSpan" id="kobo.430.1">ExecuteTypeA()</span></code><span class="koboSpan" id="kobo.431.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.432.1">ExecuteTypeB()</span></code><span class="koboSpan" id="kobo.433.1">, and </span><code class="inlineCode"><span class="koboSpan" id="kobo.434.1">ExecuteTypeC()</span></code><span class="koboSpan" id="kobo.435.1">, equals three:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.436.1"><img alt="A screenshot of a computer  Description automatically generated with medium confidence" src="../Images/B19820_04_07.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.437.1">Figure 4.7: Class coupling metric</span></p>
<p class="normal"><span class="koboSpan" id="kobo.438.1">Microsoft suggests </span><a id="_idIndexMarker257"/><span class="koboSpan" id="kobo.439.1">that the maximum number of class coupling instances should be nine, as presented at </span><a href="https://learn.microsoft.com/en-us/visualstudio/code-quality/code-metrics-class-coupling?view=vs-2022"><span class="url"><span class="koboSpan" id="kobo.440.1">https://learn.microsoft.com/en-us/visualstudio/code-quality/code-metrics-class-coupling?view=vs-2022</span></span></a><span class="koboSpan" id="kobo.441.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.442.1">With composition/aggregation being a better practice than inheritance, and since you will decouple code written from your class, the use of interfaces will solve class coupling problems. </span><span class="koboSpan" id="kobo.442.2">For instance, the same code with the following design will give you a better result. </span><span class="koboSpan" id="kobo.442.3">Although the interface is not strictly required for this example, its usage enables us to evolve the solution for other </span><strong class="keyWord"><span class="koboSpan" id="kobo.443.1">execution types</span></strong><span class="koboSpan" id="kobo.444.1"> without impacting the classes already written, since you are not using inheritance to solve the problem.</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.445.1"><img alt="" role="presentation" src="../Images/B19820_04_08.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.446.1">Figure 4.8: Reducing class coupling</span></p>
<p class="normal"><span class="koboSpan" id="kobo.447.1">Note that using the</span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.448.1"> interface in the design will allow you to increase the number of execution types without increasing the class coupling of the solution:</span></p>
<p class="packt_figref"><span class="koboSpan" id="kobo.449.1"><img alt="" role="presentation" src="../Images/B19820_04_09.png"/></span></p>
<p class="packt_figref"><span class="koboSpan" id="kobo.450.1">Figure 4.9: Class coupling results after applying aggregations</span></p>
<p class="normal"><span class="koboSpan" id="kobo.451.1">As a software architect, you must design your solution to have more cohesion than coupling. </span><span class="koboSpan" id="kobo.451.2">The literature indicates that good software has low coupling and high cohesion. </span><span class="koboSpan" id="kobo.451.3">In software development, high cohesion indicates that each class has its methods and data, with good relationships between them. </span><span class="koboSpan" id="kobo.451.4">Conversely, low coupling indicates that classes are not closely and directly connected. </span><span class="koboSpan" id="kobo.451.5">This is a basic principle that can guide you to a better architectural model.</span></p>
<h2 class="heading-2" id="_idParaDest-90"><span class="koboSpan" id="kobo.452.1">Number of lines of code</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.453.1">This metric is useful in terms of making you understand the size of the code you are dealing with. </span><span class="koboSpan" id="kobo.453.2">There is no way to connect the number of lines of code and complexity, since the number of lines is not indicative</span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.454.1"> of that. </span><span class="koboSpan" id="kobo.454.2">Conversely, the number of lines of code does show the software size and software design. </span><span class="koboSpan" id="kobo.454.3">For instance, if you have too many lines of code in a single class (more than 1,000 lines of code – 1 KLOC), this indicates that it is a bad design. </span><span class="koboSpan" id="kobo.454.4">Besides, if a class has too many methods, it obviously violates the Single Responsibility principle from SOLID.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.455.1">In Visual Studio 2022, this metric was divided into </span><strong class="keyWord"><span class="koboSpan" id="kobo.456.1">lines of source code</span></strong><span class="koboSpan" id="kobo.457.1"> and </span><strong class="keyWord"><span class="koboSpan" id="kobo.458.1">lines of executable code</span></strong><span class="koboSpan" id="kobo.459.1">. </span><span class="koboSpan" id="kobo.459.2">The first indicates the exact number of source lines, including blank lines. </span><span class="koboSpan" id="kobo.459.3">Conversely, the second one estimates the number of executable code lines.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.460.1">As a software architect, you have the objective of delivering to your programmers a list of best practices that will enable each of them to improve their techniques for developing good software. </span><span class="koboSpan" id="kobo.460.2">Make sure they know the exact impacts of not achieving good metric results in their code. </span><span class="koboSpan" id="kobo.460.3">The metrics presented above are certainly a great way to start to achieve this objective. </span><span class="koboSpan" id="kobo.460.4">But let us see how using a version control system can be the difference between amateur and professional software development.</span></p>
<h1 class="heading-1" id="_idParaDest-91"><span class="koboSpan" id="kobo.461.1">Using a version control system</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.462.1">You may find this topic a bit obvious, but</span><a id="_idIndexMarker260"/><span class="koboSpan" id="kobo.463.1"> many people and companies still do not regard a version control system as an essential tool for software development. </span><span class="koboSpan" id="kobo.463.2">A common reason why version control systems are not considered a priority, particularly in some situations, is the belief that they are unnecessary for solo coding projects or for study purposes. </span><span class="koboSpan" id="kobo.463.3">You may think that a version control system is only needed by teams inside companies. </span><span class="koboSpan" id="kobo.463.4">The purpose of addressing this is to force you to understand our point. </span><span class="koboSpan" id="kobo.463.5">There is no architectural model or best practice that can save software development if you do not use a </span><strong class="keyWord"><span class="koboSpan" id="kobo.464.1">version control system</span></strong><span class="koboSpan" id="kobo.465.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.466.1">In the last few years, we have been enjoying the advantages of online version control systems, such as Azure DevOps, GitHub, and Bitbucket. </span><span class="koboSpan" id="kobo.466.2">The fact is, you must have a version control system in your software development life cycle, and there is no reason not to have one anymore, since most providers offer free versions for small groups. </span><span class="koboSpan" id="kobo.466.3">Even if you develop by yourself, these tools are useful for tracking your changes, managing your software versions, and guaranteeing the consistency and integrity of your code.</span></p>
<h2 class="heading-2" id="_idParaDest-92"><span class="koboSpan" id="kobo.467.1">Dealing with version control systems in teams</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.468.1">The reason for using a version control system tool when you are alone is obvious. </span><span class="koboSpan" id="kobo.468.2">You want to keep your code safe. </span><span class="koboSpan" id="kobo.468.3">However, this </span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.469.1">kind of system was developed to solve team problems while writing code. </span><span class="koboSpan" id="kobo.469.2">For this reason, some features, such as branching and merging, were introduced to keep code integrity even in scenarios where the number of developers is quite large.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.470.1">As a software architect, you will have to decide which branch strategy you will conduct in your team. </span><span class="koboSpan" id="kobo.470.2">Microsoft and GitHub suggest different ways to deliver that, and both are useful in some scenarios.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.471.1">Information about how the Microsoft teams deal with DevOps can be found here: </span><a href="https://learn.microsoft.com/en-us/devops/develop/how-microsoft-develops-devops"><span class="url"><span class="koboSpan" id="kobo.472.1">https://learn.microsoft.com/en-us/devops/develop/how-microsoft-develops-devops</span></span></a><span class="koboSpan" id="kobo.473.1">. </span><span class="koboSpan" id="kobo.473.2">The branching strategy presented in this article describes an approach where a branch is created for each release. </span><span class="koboSpan" id="kobo.473.3">They</span><a id="_idIndexMarker262"/><span class="koboSpan" id="kobo.474.1"> call it </span><strong class="keyWord"><span class="koboSpan" id="kobo.475.1">the release flow</span></strong><span class="koboSpan" id="kobo.476.1">. </span><span class="koboSpan" id="kobo.476.2">The big difference here is that the master branch is not continuously deployed to production.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.477.1">Conversely, GitHub describes its process at </span><a href="https://guides.github.com/introduction/flow/"><span class="url"><span class="koboSpan" id="kobo.478.1">https://guides.github.com/introduction/flow/</span></span></a><span class="koboSpan" id="kobo.479.1">. </span><span class="koboSpan" id="kobo.479.2">This process is called </span><strong class="keyWord"><span class="koboSpan" id="kobo.480.1">GitHub flow</span></strong><span class="koboSpan" id="kobo.481.1"> and can be defined as a lightweight, branch-based workflow, where</span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.482.1"> each development is created in a specific branch that will be reviewed by collaborators as soon as a pull request is created for feedback. </span><span class="koboSpan" id="kobo.482.2">As soon as the pull request is approved, the new code is merged to a master branch, so you can delete the development branch created before.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.483.1">It is your choice; decide on the one that best fits your needs, but we do want you to understand that you need to have a strategy for controlling your code. </span><span class="koboSpan" id="kobo.483.2">In </span><em class="chapterRef"><span class="koboSpan" id="kobo.484.1">Chapter 8</span></em><span class="koboSpan" id="kobo.485.1">, </span><em class="italic"><span class="koboSpan" id="kobo.486.1">Understanding DevOps Principles and CI/CD</span></em><span class="koboSpan" id="kobo.487.1">, we will discuss this in more detail. </span><span class="koboSpan" id="kobo.487.2">But now, let us see how to write safe code using C# so that you can develop a list of best practices to be shared with your developers.</span></p>
<h1 class="heading-1" id="_idParaDest-93"><span class="koboSpan" id="kobo.488.1">Writing safe code in C#</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.489.1">C# can be considered a safe programming language by design. </span><span class="koboSpan" id="kobo.489.2">Unless you force it, there is no need for pointers, and </span><a id="_idIndexMarker264"/><span class="koboSpan" id="kobo.490.1">memory release is, in most cases, managed by the garbage collector. </span><span class="koboSpan" id="kobo.490.2">Even so, some care should be taken so that you can get better and safer results from your code. </span><span class="koboSpan" id="kobo.490.3">Let us have a look at some common practices to ensure safe code in C#.</span></p>
<h2 class="heading-2" id="_idParaDest-94"><span class="koboSpan" id="kobo.491.1">try-catch</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.492.1">Exceptions in coding are so frequent that you should have a way to manage them whenever they happen. </span><code class="inlineCode"><span class="koboSpan" id="kobo.493.1">try-catch</span></code><span class="koboSpan" id="kobo.494.1"> statements </span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.495.1">are built to manage exceptions, and they are important for keeping your </span><a id="_idIndexMarker266"/><span class="koboSpan" id="kobo.496.1">code safe. </span><span class="koboSpan" id="kobo.496.2">Be careful when they happen, since they can cause performance issues, as we discussed in </span><em class="chapterRef"><span class="koboSpan" id="kobo.497.1">Chapter 2,</span></em> <em class="italic"><span class="koboSpan" id="kobo.498.1">Non-Functional Requirements</span></em><span class="koboSpan" id="kobo.499.1">. </span></p>
<p class="normal"><span class="koboSpan" id="kobo.500.1">There are a lot of cases where an application crashes, and the reason for that is the lack of using </span><code class="inlineCode"><span class="koboSpan" id="kobo.501.1">try-catch</span></code><span class="koboSpan" id="kobo.502.1">. </span><span class="koboSpan" id="kobo.502.2">The following code shows an example of the lack of usage of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.503.1">try-catch</span></code><span class="koboSpan" id="kobo.504.1"> statement. </span><span class="koboSpan" id="kobo.504.2">It is worth mentioning that this is just an example of understanding the concept of an exception thrown without correct treatment. </span><span class="koboSpan" id="kobo.504.3">Consider using </span><code class="inlineCode"><span class="koboSpan" id="kobo.505.1">int.TryParse(textToConvert, out int result)</span></code><span class="koboSpan" id="kobo.506.1"> to handle cases where a parse is unsuccessful:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.507.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.508.1">static</span></span><span class="hljs-function"> </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.509.1">int</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.510.1">CodeWithNoTryCatch</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.511.1">(</span></span><span class="hljs-built_in"><span class="koboSpan" id="kobo.512.1">string</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.513.1"> textToConvert</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.514.1">)</span></span><span class="koboSpan" id="kobo.515.1">
{
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.516.1">return</span></span><span class="koboSpan" id="kobo.517.1"> Convert.ToInt32(textToConvert);
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.518.1">Conversely, bad </span><code class="inlineCode"><span class="koboSpan" id="kobo.519.1">try-catch</span></code><span class="koboSpan" id="kobo.520.1"> usage can cause damage to your code too, especially because you will not see the correct behavior of that code and may misunderstand the results provided.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.521.1">The following code shows an example of an empty </span><code class="inlineCode"><span class="koboSpan" id="kobo.522.1">try-catch</span></code><span class="koboSpan" id="kobo.523.1"> statement:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.524.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.525.1">static</span></span><span class="hljs-function"> </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.526.1">int</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.527.1">CodeWithEmptyTryCatch</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.528.1">(</span></span><span class="hljs-built_in"><span class="koboSpan" id="kobo.529.1">string</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.530.1"> textToConvert</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.531.1">)</span></span><span class="koboSpan" id="kobo.532.1">
{
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.533.1">try</span></span><span class="koboSpan" id="kobo.534.1">
    {
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.535.1">return</span></span><span class="koboSpan" id="kobo.536.1"> Convert.ToInt32(textToConvert);
    }
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.537.1">catch</span></span><span class="koboSpan" id="kobo.538.1">
    {
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.539.1">return</span></span> <span class="hljs-literal"><span class="koboSpan" id="kobo.540.1">default</span></span><span class="koboSpan" id="kobo.541.1">;
    }
}
</span></code></pre>
<p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.542.1">try-catch</span></code><span class="koboSpan" id="kobo.543.1"> statements must be connected to logging solutions so that you can have a response from the system that will indicate the correct behavior and, at the same time, not cause application crashes. </span><span class="koboSpan" id="kobo.543.2">The following code shows an ideal </span><code class="inlineCode"><span class="koboSpan" id="kobo.544.1">try-catch</span></code><span class="koboSpan" id="kobo.545.1"> statement with logging management. </span><span class="koboSpan" id="kobo.545.2">It is</span><a id="_idIndexMarker267"/><span class="koboSpan" id="kobo.546.1"> worth mentioning that specific exceptions should be caught whenever possible, since catching a general exception will hide unexpected exceptions:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.547.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.548.1">static</span></span><span class="hljs-function"> </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.549.1">int</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.550.1">CodeWithCorrectTryCatch</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.551.1">(</span></span><span class="hljs-built_in"><span class="koboSpan" id="kobo.552.1">string</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.553.1"> textToConvert</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.554.1">)</span></span><span class="koboSpan" id="kobo.555.1">
{
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.556.1">try</span></span><span class="koboSpan" id="kobo.557.1">
    {
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.558.1">return</span></span><span class="koboSpan" id="kobo.559.1"> Convert.ToInt32(textToConvert);
    }
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.560.1">catch</span></span><span class="koboSpan" id="kobo.561.1"> (FormatException err)
    {
        Logger.GenerateLog(err);
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.562.1">return</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.563.1">0</span></span><span class="koboSpan" id="kobo.564.1">;
    }
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.565.1">It is very important to note that exceptions are, computationally speaking, expensive. </span><span class="koboSpan" id="kobo.565.2">No matter whether you are throwing them to indicate an error or catching them to manage errors, it takes a lot of computational processing. </span><span class="koboSpan" id="kobo.565.3">So, it is common, and preferable, to rely on a higher-level exception handler instead of trying to handle everything everywhere, as the code might become hard to reason about, particularly if there is not a good action to take when an exception happens. </span><span class="koboSpan" id="kobo.565.4">That means you may not handle the exceptions in every method, especially if you do not know what to do with them at that part of the code and you will throw it again to a higher-level handle. </span><span class="koboSpan" id="kobo.565.5">You should prioritize handling</span><a id="_idIndexMarker268"/><span class="koboSpan" id="kobo.566.1"> exceptions where meaningful actions can be taken.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.567.1">However, it is also worth mentioning that exception errors delivered to the end user can cause the feeling that bad software was delivered. </span><span class="koboSpan" id="kobo.567.2">As a software architect, you should conduct code inspections to define the best behavior for code. </span><span class="koboSpan" id="kobo.567.3">Instability in a system, like unexpected crashes and high-memory usage, is often connected to the lack of </span><code class="inlineCode"><span class="koboSpan" id="kobo.568.1">try-catch</span></code><span class="koboSpan" id="kobo.569.1"> statements in code.</span></p>
<h2 class="heading-2" id="_idParaDest-95"><span class="koboSpan" id="kobo.570.1">try-finally and using</span></h2>
<p class="normal"><em class="italic"><span class="koboSpan" id="kobo.571.1">Memory leaks</span></em><span class="koboSpan" id="kobo.572.1"> can be considered one of the </span><a id="_idIndexMarker269"/><span class="koboSpan" id="kobo.573.1">worst software behaviors. </span><span class="koboSpan" id="kobo.573.2">They cause instability, bad usage of computer resources, and undesired application crashes. </span><span class="koboSpan" id="kobo.573.3">C# tries</span><a id="_idIndexMarker270"/><span class="koboSpan" id="kobo.574.1"> to solve this with </span><strong class="keyWord"><span class="koboSpan" id="kobo.575.1">Garbage Collector</span></strong><span class="koboSpan" id="kobo.576.1">, which automatically releases objects from memory as soon as it realizes</span><a id="_idIndexMarker271"/><span class="koboSpan" id="kobo.577.1"> an object can </span><a id="_idIndexMarker272"/><span class="koboSpan" id="kobo.578.1">be freed. </span><span class="koboSpan" id="kobo.578.2">The trigger for Garbage Collector is well explained at </span><a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/fundamentals"><span class="url"><span class="koboSpan" id="kobo.579.1">https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/fundamentals</span></span></a><span class="koboSpan" id="kobo.580.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.581.1">Objects that interact with I/O are the ones </span><a id="_idIndexMarker273"/><span class="koboSpan" id="kobo.582.1">that generally are not managed by Garbage Collector: the filesystem, sockets, and so on. </span><span class="koboSpan" id="kobo.582.2">The following code is an example of the incorrect usage of a </span><code class="inlineCode"><span class="koboSpan" id="kobo.583.1">FileStream</span></code><span class="koboSpan" id="kobo.584.1"> object because it thinks Garbage Collector will release the memory used, but it will not:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.585.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.586.1">static</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.587.1">void</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.588.1">CodeWithIncorrectFileStreamManagement</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.589.1">()</span></span><span class="koboSpan" id="kobo.590.1">
{
    FileStream file = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.591.1">new</span></span><span class="koboSpan" id="kobo.592.1"> (</span><span class="hljs-string"><span class="koboSpan" id="kobo.593.1">"C:\\file.txt"</span></span><span class="koboSpan" id="kobo.594.1">, FileMode.CreateNew);
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.595.1">byte</span></span><span class="koboSpan" id="kobo.596.1">[] data = GetFileData();
    file.Write(data, </span><span class="hljs-number"><span class="koboSpan" id="kobo.597.1">0</span></span><span class="koboSpan" id="kobo.598.1">, data.Length);
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.599.1">Besides, it takes a while for</span><a id="_idIndexMarker274"/><span class="koboSpan" id="kobo.600.1"> Garbage Collector to interact with objects that need to be</span><a id="_idIndexMarker275"/><span class="koboSpan" id="kobo.601.1"> released, and sometimes, you may want to do it yourself. </span><span class="koboSpan" id="kobo.601.2">For both cases, the use of </span><code class="inlineCode"><span class="koboSpan" id="kobo.602.1">try-finally</span></code><span class="koboSpan" id="kobo.603.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.604.1">using</span></code><span class="koboSpan" id="kobo.605.1"> statements is the best practice:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.606.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.607.1">static</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.608.1">void</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.609.1">CorrectFileStreamManagementFirstOption</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.610.1">()</span></span><span class="koboSpan" id="kobo.611.1">
{
    FileStream file = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.612.1">new</span></span><span class="koboSpan" id="kobo.613.1"> (</span><span class="hljs-string"><span class="koboSpan" id="kobo.614.1">"C:\\file.txt"</span></span><span class="koboSpan" id="kobo.615.1">,FileMode.CreateNew);
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.616.1">try</span></span><span class="koboSpan" id="kobo.617.1">
    {
        </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.618.1">byte</span></span><span class="koboSpan" id="kobo.619.1">[] data = GetFileData();
        file.Write(data, </span><span class="hljs-number"><span class="koboSpan" id="kobo.620.1">0</span></span><span class="koboSpan" id="kobo.621.1">, data.Length);
    }
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.622.1">finally</span></span><span class="koboSpan" id="kobo.623.1">
    {
        file.Dispose();
    }
}
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.624.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.625.1">static</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.626.1">void</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.627.1">CorrectFileStreamManagementSecondOption</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.628.1">()</span></span><span class="koboSpan" id="kobo.629.1">
{
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.630.1">using</span></span><span class="koboSpan" id="kobo.631.1"> (FileStream file = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.632.1">new</span></span><span class="koboSpan" id="kobo.633.1"> (</span><span class="hljs-string"><span class="koboSpan" id="kobo.634.1">"C:\\file.txt"</span></span><span class="koboSpan" id="kobo.635.1">, FileMode.CreateNew))
    {
        </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.636.1">byte</span></span><span class="koboSpan" id="kobo.637.1">[] data = GetFileData();
        file.Write(data, </span><span class="hljs-number"><span class="koboSpan" id="kobo.638.1">0</span></span><span class="koboSpan" id="kobo.639.1">, data.Length);
    }
}
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.640.1">private</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.641.1">static</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.642.1">void</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.643.1">CorrectFileStreamManagementThirdOption</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.644.1">()</span></span><span class="koboSpan" id="kobo.645.1">
{
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.646.1">using</span></span><span class="koboSpan" id="kobo.647.1"> FileStream file = </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.648.1">new</span></span><span class="koboSpan" id="kobo.649.1"> (</span><span class="hljs-string"><span class="koboSpan" id="kobo.650.1">"C:\\file.txt"</span></span><span class="koboSpan" id="kobo.651.1">, FileMode.CreateNew);
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.652.1">byte</span></span><span class="koboSpan" id="kobo.653.1">[] data = GetFileData();
    file.Write(data, </span><span class="hljs-number"><span class="koboSpan" id="kobo.654.1">0</span></span><span class="koboSpan" id="kobo.655.1">, data.Length);
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.656.1">The preceding code shows</span><a id="_idIndexMarker276"/><span class="koboSpan" id="kobo.657.1"> exactly how to deal with objects that are not managed by Garbage Collector. </span><span class="koboSpan" id="kobo.657.2">Both </span><code class="inlineCode"><span class="koboSpan" id="kobo.658.1">try-finally</span></code><span class="koboSpan" id="kobo.659.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.660.1">using</span></code><span class="koboSpan" id="kobo.661.1"> are implemented. </span><span class="koboSpan" id="kobo.661.2">As a software architect, you do need to pay attention to this kind of code. </span><span class="koboSpan" id="kobo.661.3">The lack of </span><code class="inlineCode"><span class="koboSpan" id="kobo.662.1">try-finally</span></code><span class="koboSpan" id="kobo.663.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.664.1">using</span></code><span class="koboSpan" id="kobo.665.1"> statements can cause </span><a id="_idIndexMarker277"/><span class="koboSpan" id="kobo.666.1">huge damage to software behavior when it is running. </span><span class="koboSpan" id="kobo.666.2">It is worth mentioning that using</span><a id="_idIndexMarker278"/><span class="koboSpan" id="kobo.667.1"> code analysis tools, such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.668.1">Sonar Lint</span></strong><span class="koboSpan" id="kobo.669.1"> and </span><strong class="keyWord"><span class="koboSpan" id="kobo.670.1">Code Analysis</span></strong><span class="koboSpan" id="kobo.671.1">, will automatically alert </span><a id="_idIndexMarker279"/><span class="koboSpan" id="kobo.672.1">you to these sorts of problems.</span></p>
<h2 class="heading-2" id="_idParaDest-96"><span class="koboSpan" id="kobo.673.1">The IDisposable interface</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.674.1">In the same way that you will have </span><a id="_idIndexMarker280"/><span class="koboSpan" id="kobo.675.1">trouble if you do not manage objects created inside a </span><a id="_idIndexMarker281"/><span class="koboSpan" id="kobo.676.1">method with </span><code class="inlineCode"><span class="koboSpan" id="kobo.677.1">try-finally</span></code><span class="koboSpan" id="kobo.678.1">/</span><code class="inlineCode"><span class="koboSpan" id="kobo.679.1">using</span></code><span class="koboSpan" id="kobo.680.1"> statements, objects created in a class that does not properly implement the </span><code class="inlineCode"><span class="koboSpan" id="kobo.681.1">IDisposable</span></code><span class="koboSpan" id="kobo.682.1"> interface may cause memory leaks in your application. </span><span class="koboSpan" id="kobo.682.2">For this reason, when you have a class that deals with and creates objects, you should implement the </span><code class="inlineCode"><span class="koboSpan" id="kobo.683.1">Disposable</span></code><span class="koboSpan" id="kobo.684.1"> pattern to guarantee the release of all resources created by the class:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.685.1"><img alt="Graphical user interface, text, application, email  Description automatically generated" src="../Images/B19820_04_10.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.686.1">Figure 4.10: IDisposable interface implementation</span></p>
<p class="normal"><span class="koboSpan" id="kobo.687.1">The good news is that Visual Studio gives you a code snippet to implement this interface by simply indicating it in </span><a id="_idIndexMarker282"/><span class="koboSpan" id="kobo.688.1">your code, and then you right-click on the </span><strong class="keyWord"><span class="koboSpan" id="kobo.689.1">Quick Actions</span></strong><span class="koboSpan" id="kobo.690.1"> and </span><strong class="keyWord"><span class="koboSpan" id="kobo.691.1">Refactoring</span></strong><span class="koboSpan" id="kobo.692.1"> options, as you can see in the preceding screenshot.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.693.1">Once you have </span><a id="_idIndexMarker283"/><span class="koboSpan" id="kobo.694.1">inserted the code, you need to follow the to-do instructions so that you have the correct pattern implemented.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.695.1">As a software architect, you will be responsible not only for the architecture defined in a system but also for how this system performs in operation. </span><span class="koboSpan" id="kobo.695.2">Memory leaks and bad performance, in general, are caused by errors related to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.696.1">try-catch</span></code><span class="koboSpan" id="kobo.697.1"> strategy, a lack of </span><code class="inlineCode"><span class="koboSpan" id="kobo.698.1">try-finally/using</span></code><span class="koboSpan" id="kobo.699.1">, and wrong or no implementation of </span><code class="inlineCode"><span class="koboSpan" id="kobo.700.1">IDisposable</span></code><span class="koboSpan" id="kobo.701.1">. </span><span class="koboSpan" id="kobo.701.2">So be sure that your team knows how to deal with these techniques.</span></p>
<div class="note">
<p class="normal"><span class="koboSpan" id="kobo.702.1">Since we have covered some important information about how to write safe code in C#, it would be nice to get some tips and tricks for coding in this programming language. </span><span class="koboSpan" id="kobo.702.2">Let us do so in the next topic of this chapter.</span></p>
</div>
<h1 class="heading-1" id="_idParaDest-97"><span class="koboSpan" id="kobo.703.1">.NET 8 tips and tricks for coding</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.704.1">.NET 8 implements some good</span><a id="_idIndexMarker284"/><span class="koboSpan" id="kobo.705.1"> features that help us to write better code. </span><span class="koboSpan" id="kobo.705.2">One of the most useful things for having cleaner code is </span><strong class="keyWord"><span class="koboSpan" id="kobo.706.1">dependency injection</span></strong><span class="koboSpan" id="kobo.707.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.708.1">DI</span></strong><span class="koboSpan" id="kobo.709.1">), which will be</span><a id="_idIndexMarker285"/><span class="koboSpan" id="kobo.710.1"> discussed in </span><em class="chapterRef"><span class="koboSpan" id="kobo.711.1">Chapter 6</span></em><span class="koboSpan" id="kobo.712.1">, </span><em class="italic"><span class="koboSpan" id="kobo.713.1">Design Patterns and .NET 8 Implementation</span></em><span class="koboSpan" id="kobo.714.1">. </span><span class="koboSpan" id="kobo.714.2">There are some good reasons for considering this. </span><span class="koboSpan" id="kobo.714.3">The first one is that you will only need to worry about disposing of the injected objects if you are the creator of them.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.715.1">Besides, DI enables you to inject </span><code class="inlineCode"><span class="koboSpan" id="kobo.716.1">ILogger</span></code><span class="koboSpan" id="kobo.717.1">, a useful tool for debugging exceptions that will need to be managed by </span><code class="inlineCode"><span class="koboSpan" id="kobo.718.1">try-catch</span></code><span class="koboSpan" id="kobo.719.1"> statements in your code. </span><span class="koboSpan" id="kobo.719.2">Furthermore, programming in C# with .NET 8 must follow the common good practices of any programming language. </span><span class="koboSpan" id="kobo.719.3">The following list shows some of these:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.720.1">Classes, methods, and variables should have understandable names</span></strong><span class="koboSpan" id="kobo.721.1">: The name should explain everything that the reader needs to know. </span><span class="koboSpan" id="kobo.721.2">There should be no need for an explanatory comment unless these declarations are public.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.722.1">Methods should not have high complexity levels</span></strong><span class="koboSpan" id="kobo.723.1">: Cyclomatic complexity should be checked so that methods do not have too many lines of code.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.724.1">Members must have the correct visibility</span></strong><span class="koboSpan" id="kobo.725.1">: As an object-oriented programming language, C# enables encapsulation with different visibility keywords. </span><span class="koboSpan" id="kobo.725.2">C# 9 has presented </span><em class="italic"><span class="koboSpan" id="kobo.726.1">init-only setters</span></em><span class="koboSpan" id="kobo.727.1">, so you can create </span><code class="inlineCode"><span class="koboSpan" id="kobo.728.1">init</span></code><span class="koboSpan" id="kobo.729.1"> property/index accessors instead of </span><code class="inlineCode"><span class="koboSpan" id="kobo.730.1">set</span></code><span class="koboSpan" id="kobo.731.1">, defining these members as read-only following the construction of the object.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.732.1">Duplicate code should be avoided</span></strong><span class="koboSpan" id="kobo.733.1">: There is no reason for having duplicate code in a high-level programming language such as C#.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.734.1">Objects should be checked before usage</span></strong><span class="koboSpan" id="kobo.735.1">: Since null objects can exist, code must have null type checking. </span><span class="koboSpan" id="kobo.735.2">It is worth mentioning that since C# 8, we have nullable reference types to avoid errors related to nullable objects. </span><span class="koboSpan" id="kobo.735.3">You can refer to </span><a href="https://docs.microsoft.com/en-us/dotnet/csharp/nullable-references"><span class="url"><span class="koboSpan" id="kobo.736.1">https://docs.microsoft.com/en-us/dotnet/csharp/nullable-references</span></span></a><span class="koboSpan" id="kobo.737.1"> for more information about nullable reference types.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.738.1">Constants and enumerators should be used</span></strong><span class="koboSpan" id="kobo.739.1">: A good way of avoiding magic numbers and text inside code is to transform this information into constants and enumerators, which generally are more understandable.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.740.1">Unsafe code should be avoided</span></strong><span class="koboSpan" id="kobo.741.1">: Unsafe code enables you to deal with pointers in C#. </span><span class="koboSpan" id="kobo.741.2">Unless there is no other way to implement the solution, unsafe code should be avoided.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.742.1">try-catch statements cannot be empty</span></strong><span class="koboSpan" id="kobo.743.1">: There is rarely a reason to use a </span><code class="inlineCode"><span class="koboSpan" id="kobo.744.1">try-catch</span></code><span class="koboSpan" id="kobo.745.1"> statement without treatment in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.746.1">catch</span></code><span class="koboSpan" id="kobo.747.1"> area. </span><span class="koboSpan" id="kobo.747.2">Moreover, the caught exceptions should be as specific as possible, and not just an “exception,” to avoid swallowing unexpected exceptions.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.748.1">Dispose of the objects that you have created, if they are disposable</span></strong><span class="koboSpan" id="kobo.749.1">: Even for objects where Garbage Collector will take care of the disposed-of object, consider disposing </span><a id="_idIndexMarker286"/><span class="koboSpan" id="kobo.750.1">of objects that you were responsible for creating yourself.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.751.1">At least public methods should be commented</span></strong><span class="koboSpan" id="kobo.752.1">: Considering that public methods are the ones used outside your library, they must be explained for their correct external usage.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.753.1">switch-case statements must have a default treatment</span></strong><span class="koboSpan" id="kobo.754.1">: Since </span><code class="inlineCode"><span class="koboSpan" id="kobo.755.1">switch-case</span></code><span class="koboSpan" id="kobo.756.1"> statements may receive an entrance variable unknown in some cases, the default treatment will guarantee that code will not break in such a situation.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.757.1">As a software architect, you may consider a good practice of providing a code pattern for your developers that will be used to keep the style of code consistent as a team. </span><span class="koboSpan" id="kobo.757.2">You can also use this code pattern as a checklist for coding inspections, which will enrich software code quality.</span></p>
<h1 class="heading-1" id="_idParaDest-98"><span class="koboSpan" id="kobo.758.1">Identifying well-written code</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.759.1">It is not easy to identify whether code is well written. </span><span class="koboSpan" id="kobo.759.2">The best practices described so far can certainly guide you as a software architect to define a standard for your team. </span><span class="koboSpan" id="kobo.759.3">However, even with a standard, mistakes </span><a id="_idIndexMarker287"/><span class="koboSpan" id="kobo.760.1">will happen, and you will probably find them only after code is in production. </span><span class="koboSpan" id="kobo.760.2">The decision to refactor code in production just because it does not follow all the standards you define is not an easy one to take, especially if the code in question works properly. </span><span class="koboSpan" id="kobo.760.3">Some people conclude that well-written code is simply code that works well in production. </span><span class="koboSpan" id="kobo.760.4">However, this can surely cause damage to the software’s life since developers might be influenced by that non-standard code.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.761.1">For this reason, as a software architect, you need to find ways to enforce adherence to the coding standard you’ve defined. </span><span class="koboSpan" id="kobo.761.2">Luckily, nowadays, we have many options for tools that can help us with this task. </span><span class="koboSpan" id="kobo.761.3">They are called static </span><a id="_idIndexMarker288"/><span class="koboSpan" id="kobo.762.1">code analysis tools, and using them provides a great opportunity to improve both the software developed and the team’s programming knowledge.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.763.1">The reason your developers will evolve with code analysis is that you start to disseminate knowledge between them during code inspections. </span><span class="koboSpan" id="kobo.763.2">The tools that we have now have the same purpose. </span><span class="koboSpan" id="kobo.763.3">Even better, with Roslyn, they do this task while you write the code. </span><span class="koboSpan" id="kobo.763.4">Roslyn is the </span><a id="_idIndexMarker289"/><span class="koboSpan" id="kobo.764.1">compiler platform for .NET, and it enables you to develop some tools for analyzing code. </span><span class="koboSpan" id="kobo.764.2">These analyzers can check style, quality, design, and other issues.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.765.1">For instance, look at the following code. </span><span class="koboSpan" id="kobo.765.2">It does not make any sense, but you can still see that there are some mistakes:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.766.1">using</span></span><span class="koboSpan" id="kobo.767.1"> System;
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.768.1">static</span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.769.1">void</span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="koboSpan" id="kobo.770.1">Main</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.771.1">(</span></span><span class="hljs-built_in"><span class="koboSpan" id="kobo.772.1">string</span></span><span class="hljs-params"><span class="koboSpan" id="kobo.773.1">[] args</span></span><span class="hljs-function"><span class="koboSpan" id="kobo.774.1">)</span></span><span class="koboSpan" id="kobo.775.1">
{
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.776.1">try</span></span><span class="koboSpan" id="kobo.777.1">
    {
        </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.778.1">int</span></span><span class="koboSpan" id="kobo.779.1"> variableUnused = </span><span class="hljs-number"><span class="koboSpan" id="kobo.780.1">10</span></span><span class="koboSpan" id="kobo.781.1">;
        </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.782.1">int</span></span><span class="koboSpan" id="kobo.783.1"> variable = </span><span class="hljs-number"><span class="koboSpan" id="kobo.784.1">10</span></span><span class="koboSpan" id="kobo.785.1">;
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.786.1">if</span></span><span class="koboSpan" id="kobo.787.1"> (variable == </span><span class="hljs-number"><span class="koboSpan" id="kobo.788.1">10</span></span><span class="koboSpan" id="kobo.789.1">)
        {
             Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.790.1">"variable equals 10"</span></span><span class="koboSpan" id="kobo.791.1">);
        }
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.792.1">else</span></span><span class="koboSpan" id="kobo.793.1">
        {
            </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.794.1">switch</span></span><span class="koboSpan" id="kobo.795.1"> (variable)
            {
                </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.796.1">case</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.797.1">0</span></span><span class="koboSpan" id="kobo.798.1">:
                    Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.799.1">"variable equals 0"</span></span><span class="koboSpan" id="kobo.800.1">);
                    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.801.1">break</span></span><span class="koboSpan" id="kobo.802.1">;
            }
        }
    }
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.803.1">catch</span></span><span class="koboSpan" id="kobo.804.1">
    {
    }
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.805.1">The idea of this code is to show you the power of some tools to improve the code you deliver. </span><span class="koboSpan" id="kobo.805.2">Let us study each of</span><a id="_idIndexMarker290"/><span class="koboSpan" id="kobo.806.1"> them in the next section, including how to set them up.</span></p>
<h2 class="heading-2" id="_idParaDest-99"><span class="koboSpan" id="kobo.807.1">Understanding and applying tools that can evaluate C# code</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.808.1">The evolution of code analysis in Visual </span><a id="_idIndexMarker291"/><span class="koboSpan" id="kobo.809.1">Studio is continuous. </span><span class="koboSpan" id="kobo.809.2">This means that Visual Studio 2022 certainly has more tools for this purpose than Visual Studio 2019, and so on.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.810.1">One of the issues that you (as a software architect) need to deal with is the </span><em class="italic"><span class="koboSpan" id="kobo.811.1">coding style of the team</span></em><span class="koboSpan" id="kobo.812.1">. </span><span class="koboSpan" id="kobo.812.2">This certainly results in a better understanding of the code. </span><span class="koboSpan" id="kobo.812.3">For instance, if you go to the </span><strong class="screenText"><span class="koboSpan" id="kobo.813.1">Visual Studio Menu</span></strong><span class="koboSpan" id="kobo.814.1">, then </span><strong class="screenText"><span class="koboSpan" id="kobo.815.1">Tools -&gt; Options</span></strong><span class="koboSpan" id="kobo.816.1">, and then, in the left-hand menu, </span><strong class="screenText"><span class="koboSpan" id="kobo.817.1">Text Editor -&gt; C#</span></strong><span class="koboSpan" id="kobo.818.1">, you will find ways to deal with different code style patterns, and a bad coding style is even indicated as an error in the </span><strong class="screenText"><span class="koboSpan" id="kobo.819.1">Code Style</span></strong><span class="koboSpan" id="kobo.820.1"> options, as follows:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.821.1"><img alt="" role="presentation" src="../Images/B19820_04_11.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.822.1">Figure 4.11: Code Style options</span></p>
<p class="normal"><span class="koboSpan" id="kobo.823.1">The preceding screenshot chnage that </span><strong class="screenText"><span class="koboSpan" id="kobo.824.1">Avoid unused parameters</span></strong><span class="koboSpan" id="kobo.825.1"> was considered an error.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.826.1">After this change, the result of the compilation of the code presented at the beginning of the chapter is different, as you can see in the following screenshot:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.827.1"><img alt="Graphical user interface, text, application  Description automatically generated" src="../Images/B19820_04_12.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.828.1">Figure 4.12: Code Style result</span></p>
<p class="normal"><span class="koboSpan" id="kobo.829.1">You can export your</span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.830.1"> coding style configuration and attach it to your project so that it will follow the rules you have defined.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.831.1">Another good tool that Visual Studio 2022 provides is </span><strong class="screenText"><span class="koboSpan" id="kobo.832.1">Analyze and Code Cleanup</span></strong><span class="koboSpan" id="kobo.833.1">. </span><span class="koboSpan" id="kobo.833.2">With this tool, you can set up some code standards that can clean up your code. </span><span class="koboSpan" id="kobo.833.3">For instance, in the following screenshot, it was set to remove unnecessary code:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.834.1"><img alt="Graphical user interface, text, application  Description automatically generated" src="../Images/B19820_04_13.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.835.1">Figure 4.13: Configure Code Cleanup</span></p>
<p class="normal"><span class="koboSpan" id="kobo.836.1">The way to run Code Cleanup is by selecting it with the help of a right-click in the </span><strong class="screenText"><span class="koboSpan" id="kobo.837.1">Solution Explorer</span></strong><span class="koboSpan" id="kobo.838.1"> area, over</span><a id="_idIndexMarker293"/><span class="koboSpan" id="kobo.839.1"> the project where you want to run it. </span><span class="koboSpan" id="kobo.839.2">After that, this process will run in all the code files you have:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.840.1"><img alt="Graphical user interface, text, application  Description automatically generated" src="../Images/B19820_04_14.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.841.1">Figure 4.14: Run Code Cleanup</span></p>
<p class="normal"><span class="koboSpan" id="kobo.842.1">After solving the errors indicated by the </span><strong class="screenText"><span class="koboSpan" id="kobo.843.1">Code Style</span></strong><span class="koboSpan" id="kobo.844.1"> and </span><strong class="screenText"><span class="koboSpan" id="kobo.845.1">Code Cleanup</span></strong><span class="koboSpan" id="kobo.846.1"> tools, the sample code we are working on has some minimal simplifications, as follows:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.847.1">using</span></span><span class="koboSpan" id="kobo.848.1"> System;
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.849.1">try</span></span><span class="koboSpan" id="kobo.850.1">
{
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.851.1">int</span></span><span class="koboSpan" id="kobo.852.1"> variable = </span><span class="hljs-number"><span class="koboSpan" id="kobo.853.1">10</span></span><span class="koboSpan" id="kobo.854.1">;
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.855.1">if</span></span><span class="koboSpan" id="kobo.856.1"> (variable == </span><span class="hljs-number"><span class="koboSpan" id="kobo.857.1">10</span></span><span class="koboSpan" id="kobo.858.1">)
    {
        Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.859.1">"variable equals 10"</span></span><span class="koboSpan" id="kobo.860.1">);
    }
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.861.1">else</span></span><span class="koboSpan" id="kobo.862.1">
    {
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.863.1">switch</span></span><span class="koboSpan" id="kobo.864.1"> (variable)
        {
            </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.865.1">case</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.866.1">0</span></span><span class="koboSpan" id="kobo.867.1">:
                Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.868.1">"variable equals 0"</span></span><span class="koboSpan" id="kobo.869.1">);
                </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.870.1">break</span></span><span class="koboSpan" id="kobo.871.1">;
        }
    }
}
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.872.1">catch</span></span><span class="koboSpan" id="kobo.873.1">
{
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.874.1">It is worth mentioning that</span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.875.1"> the preceding code has many improvements that still need to be addressed. </span><span class="koboSpan" id="kobo.875.2">Visual Studio enables you to add additional tools for the IDE by installing extensions to it. </span><span class="koboSpan" id="kobo.875.3">These tools can help you to improve your code quality, since some of them were built to perform code analysis. </span><span class="koboSpan" id="kobo.875.4">This section will list some free options so that you can decide on the one that best fits your needs. </span><span class="koboSpan" id="kobo.875.5">There are certainly other options and even paid ones. </span><span class="koboSpan" id="kobo.875.6">The idea here is not to</span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.876.1"> indicate a specific tool but to give you an idea of their abilities.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.877.1">To install these extensions, you will need to find the </span><strong class="screenText"><span class="koboSpan" id="kobo.878.1">Extensions</span></strong><span class="koboSpan" id="kobo.879.1"> menu in Visual Studio 2022. </span><span class="koboSpan" id="kobo.879.2">Here is a screenshot of the </span><strong class="screenText"><span class="koboSpan" id="kobo.880.1">Manage Extensions</span></strong><span class="koboSpan" id="kobo.881.1"> option:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.882.1"><img alt="" role="presentation" src="../Images/B19820_04_15.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.883.1">Figure 4.15: Extensions in Visual Studio 2022</span></p>
<p class="normal"><span class="koboSpan" id="kobo.884.1">There are many other great extensions that can improve the productivity and quality of your code and solutions. </span><span class="koboSpan" id="kobo.884.2">Search for them in this manager.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.885.1">After you have selected the extension that will be installed, you will need to restart Visual Studio. </span><span class="koboSpan" id="kobo.885.2">Most of the extensions are easy to identify after installation, since they modify the behavior of</span><a id="_idIndexMarker296"/><span class="koboSpan" id="kobo.886.1"> the IDE. </span><span class="koboSpan" id="kobo.886.2">However, they need to be set in each developer environment. </span><span class="koboSpan" id="kobo.886.3">To resolve it, Visual Studio has introduced the option to include analyzers as NuGet packages, so all developers who work with the project will have their code analyzed.</span></p>
<h2 class="heading-2" id="_idParaDest-100"><span class="koboSpan" id="kobo.887.1">Applying extension tools to analyze code</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.888.1">Although the sample code delivered </span><a id="_idIndexMarker297"/><span class="koboSpan" id="kobo.889.1">after the Code Style and Code Cleanup tools is better than the code we presented at the beginning of the chapter, it is clearly far removed from the best practices discussed so far.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.890.1">For this reason, Microsoft has divided analyzers into three groups:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.891.1">Code style, as mentioned before</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.892.1">Code quality analyzers that are already included in .NET 5+ projects</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.893.1">Third-party analyzers that can be installed as a NuGet package or Visual Studio extension</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.894.1">You can find an overview of source code analysis at </span><a href="https://docs.microsoft.com/en-us/visualstudio/code-quality/roslyn-analyzers-overview"><span class="url"><span class="koboSpan" id="kobo.895.1">https://docs.microsoft.com/en-us/visualstudio/code-quality/roslyn-analyzers-overview</span></span></a><span class="koboSpan" id="kobo.896.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.897.1">Let us study how these third-party analyzers can be useful, using as a reference the </span><strong class="keyWord"><span class="koboSpan" id="kobo.898.1">SonarAnalyzer</span></strong><span class="koboSpan" id="kobo.899.1"> package.</span></p>
<h2 class="heading-2" id="_idParaDest-101"><span class="koboSpan" id="kobo.900.1">Applying SonarAnalyzer</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.901.1">SonarAnalyzer is an </span><a id="_idIndexMarker298"/><span class="koboSpan" id="kobo.902.1">open-source initiative from the Sonar Source community</span><a id="_idIndexMarker299"/><span class="koboSpan" id="kobo.903.1"> to detect bugs and quality issues while you code. </span><span class="koboSpan" id="kobo.903.2">There is support for C#, VB.NET, C, C++, and JavaScript. </span><span class="koboSpan" id="kobo.903.3">They also offer an extension </span><a id="_idIndexMarker300"/><span class="koboSpan" id="kobo.904.1">called </span><strong class="keyWord"><span class="koboSpan" id="kobo.905.1">SonarLint</span></strong><span class="koboSpan" id="kobo.906.1">. </span><span class="koboSpan" id="kobo.906.2">The great thing about this extension is that it comes with explanations for resolving detected issues, and that is why we think developers learn how to code well while using these tools.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.907.1">This extension can point out mistakes and, even better, there is an explanation for each warning. </span><span class="koboSpan" id="kobo.907.2">This is useful not only for detecting problems but also for training developers in good coding practices.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.908.1">In Visual Studio 2022, the SonarLint extension is available. </span><span class="koboSpan" id="kobo.908.2">Besides that, you can also use the NuGet package, as we can see in the following screenshot:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.909.1"><img alt="Tela de computador com texto preto sobre fundo branco  Descrição gerada automaticamente" src="../Images/B19820_04_16.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.910.1">Figure 4.16: SonarAnalyzer.CSharp NuGet package</span></p>
<p class="normal"><span class="koboSpan" id="kobo.911.1">The result produced is the</span><a id="_idIndexMarker301"/><span class="koboSpan" id="kobo.912.1"> same as the one we </span><a id="_idIndexMarker302"/><span class="koboSpan" id="kobo.913.1">got using the SonarLint extension, but the good thing about this option is that any developer who needs to code for this project will get their code analyzed.</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.914.1"><img alt="Texto  Descrição gerada automaticamente" src="../Images/B19820_04_17.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.915.1">Figure 4.17: SonarAnalyzer.CSharp analysis result</span></p>
<p class="normal"><span class="koboSpan" id="kobo.916.1">As a software architect, you</span><a id="_idIndexMarker303"/><span class="koboSpan" id="kobo.917.1"> will always have to pay </span><a id="_idIndexMarker304"/><span class="koboSpan" id="kobo.918.1">attention and take action to get projects unified with the same code standard, so the NuGet option may be useful for achieving this goal.</span></p>
<h2 class="heading-2" id="_idParaDest-102"><span class="koboSpan" id="kobo.919.1">Checking the final code after analysis</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.920.1">Following the analysis </span><a id="_idIndexMarker305"/><span class="koboSpan" id="kobo.921.1">of the two options presented, we have finally solved all the issues with the original code. </span><span class="koboSpan" id="kobo.921.2">Here is the final code:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.922.1">using</span></span><span class="koboSpan" id="kobo.923.1"> System;
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.924.1">try</span></span><span class="koboSpan" id="kobo.925.1">
{
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.926.1">int</span></span><span class="koboSpan" id="kobo.927.1"> variable = </span><span class="hljs-number"><span class="koboSpan" id="kobo.928.1">10</span></span><span class="koboSpan" id="kobo.929.1">;
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.930.1">if</span></span><span class="koboSpan" id="kobo.931.1"> (variable == </span><span class="hljs-number"><span class="koboSpan" id="kobo.932.1">10</span></span><span class="koboSpan" id="kobo.933.1">)
    {
        Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.934.1">"variable equals 10"</span></span><span class="koboSpan" id="kobo.935.1">);
    }
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.936.1">else</span></span><span class="koboSpan" id="kobo.937.1">
    {
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.938.1">switch</span></span><span class="koboSpan" id="kobo.939.1"> (variable)
        {
            </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.940.1">case</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.941.1">0</span></span><span class="koboSpan" id="kobo.942.1">:
                Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.943.1">"variable equals 0"</span></span><span class="koboSpan" id="kobo.944.1">);
                </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.945.1">break</span></span><span class="koboSpan" id="kobo.946.1">;
            </span><span class="hljs-literal"><span class="koboSpan" id="kobo.947.1">default</span></span><span class="koboSpan" id="kobo.948.1">:
                Console.WriteLine(</span><span class="hljs-string"><span class="koboSpan" id="kobo.949.1">"Unknown behavior"</span></span><span class="koboSpan" id="kobo.950.1">);
                </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.951.1">break</span></span><span class="koboSpan" id="kobo.952.1">;
        }
    }
}
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.953.1">catch</span></span><span class="koboSpan" id="kobo.954.1"> (Exception err)
{
    Console.WriteLine(err);
}
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.955.1">As you can see, the preceding code is not only easier to understand but is also safer and able to consider different paths of programming, since the default for </span><code class="inlineCode"><span class="koboSpan" id="kobo.956.1">switch-case</span></code><span class="koboSpan" id="kobo.957.1"> was programmed. </span><span class="koboSpan" id="kobo.957.2">This pattern was discussed earlier in this chapter, which brings us to the happy conclusion that best practices can easily be followed by using one (or all) of the options discussed in this chapter.</span></p>
<h1 class="heading-1" id="_idParaDest-103"><span class="koboSpan" id="kobo.958.1">Summary</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.959.1">In this chapter, we discussed some important tips for writing safe code. </span><span class="koboSpan" id="kobo.959.2">This chapter introduced a tool for analyzing code metrics so that you can manage the complexity and maintainability of the software you develop. </span><span class="koboSpan" id="kobo.959.3">To finish, we presented some good tips to guarantee that your software will not crash due to memory leaks and exceptions. </span><span class="koboSpan" id="kobo.959.4">In real life, a software architect will always be asked to solve this kind of problem.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.960.1">The chapter also recommended tools that can be used to apply the best practices of the coding we discussed. </span><span class="koboSpan" id="kobo.960.2">We looked at the Roslyn compiler, which enables code analysis while a developer codes.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.961.1">You will find in </span><em class="chapterRef"><span class="koboSpan" id="kobo.962.1">Chapter 21</span></em><span class="koboSpan" id="kobo.963.1">, </span><em class="italic"><span class="koboSpan" id="kobo.964.1">Case Study</span></em><span class="koboSpan" id="kobo.965.1">, a way to evaluate C# code prior to publishing an application, which implements code analysis during the Azure DevOps building process, using SonarCloud.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.966.1">When you apply all the content you have learned in this chapter to your projects, you will find that code analysis will give you the opportunity to improve the quality of the code you deliver to your customers. </span><span class="koboSpan" id="kobo.966.2">This is a very important part of your role as a software architect.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.967.1">In the next chapter, you will learn about code reuse, which is an incredible technique to guarantee quality and velocity for your projects!</span></p>
<h1 class="heading-1" id="_idParaDest-104"><span class="koboSpan" id="kobo.968.1">Questions</span></h1>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.969.1">Why do we need to care about maintainability?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.970.1">What is cyclomatic complexity?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.971.1">List the advantages of using a version control system.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.972.1">What is the garbage collector?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.973.1">What is the importance of implementing the </span><code class="inlineCode"><span class="koboSpan" id="kobo.974.1">IDisposable</span></code><span class="koboSpan" id="kobo.975.1"> interface?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.976.1">What advantages do we gain from .NET 8 when it comes to coding?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.977.1">What makes it possible for a piece of software to be described as having well-written code?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.978.1">What is Roslyn?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.979.1">What is code analysis?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.980.1">What is the importance of code analysis?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.981.1">How does Roslyn help with code analysis?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.982.1">What are Visual Studio extensions?</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.983.1">What extension tools are available for code analysis?</span></li>
</ol>
<h1 class="heading-1" id="_idParaDest-105"><span class="koboSpan" id="kobo.984.1">Further reading</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.985.1">These are some books and websites where you will find more information about the topics of this chapter:</span></p>
<ul>
<li class="bulletList"><em class="italic"><span class="koboSpan" id="kobo.986.1">Clean Code</span></em><span class="koboSpan" id="kobo.987.1">: </span><em class="italic"><span class="koboSpan" id="kobo.988.1">A Handbook of Agile Software Craftmanship</span></em><span class="koboSpan" id="kobo.989.1">, by Martin, Robert C. </span><span class="koboSpan" id="kobo.989.2">Pearson Education, 2012.</span></li>
<li class="bulletList"><em class="italic"><span class="koboSpan" id="kobo.990.1">The Art of Designing Embedded Systems</span></em><span class="koboSpan" id="kobo.991.1">, by Jack G. </span><span class="koboSpan" id="kobo.991.2">Ganssle. </span><span class="koboSpan" id="kobo.991.3">Elsevier, 1999.</span></li>
<li class="bulletList"><em class="italic"><span class="koboSpan" id="kobo.992.1">Refactoring</span></em><span class="koboSpan" id="kobo.993.1">, by Martin Fowler. </span><span class="koboSpan" id="kobo.993.2">Addison-Wesley, 2018.</span></li>
<li class="bulletList"><em class="italic"><span class="koboSpan" id="kobo.994.1">A Complexity Measure</span></em><span class="koboSpan" id="kobo.995.1">, by Thomas J. </span><span class="koboSpan" id="kobo.995.2">McCabe. </span><span class="koboSpan" id="kobo.995.3">IEEE Trans. </span><span class="koboSpan" id="kobo.995.4">Software Eng. </span><span class="koboSpan" id="kobo.995.5">2(4): 308–320, 1976 (</span><a href="https://dblp.uni-trier.de/db/journals/tse/tse2.html"><span class="url"><span class="koboSpan" id="kobo.996.1">https://dblp.uni-trier.de/db/journals/tse/tse2.html</span></span></a><span class="koboSpan" id="kobo.997.1">).</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.998.1">Code metrics information:</span><ul>
<li class="bulletList"><a href="https://blogs.msdn.microsoft.com/zainnab/2011/05/25/code-metrics-class-coupling/"><span class="url"><span class="koboSpan" id="kobo.999.1">https://blogs.msdn.microsoft.com/zainnab/2011/05/25/code-metrics-class-coupling/</span></span></a></li>
<li class="bulletList"><a href="https://docs.microsoft.com/en-us/visualstudio/code-quality/code-metrics-values?view=vs-2019"><span class="url"><span class="koboSpan" id="kobo.1000.1">https://docs.microsoft.com/en-us/visualstudio/code-quality/code-metrics-values?view=vs-2019</span></span></a></li>
</ul>
</li>
<li class="bulletList"><span class="koboSpan" id="kobo.1001.1">Version control systems:</span><ul>
<li class="bulletList"><a href="https://github.com/"><span class="url"><span class="koboSpan" id="kobo.1002.1">https://github.com/</span></span></a></li>
<li class="bulletList"><a href="https://bitbucket.org/"><span class="url"><span class="koboSpan" id="kobo.1003.1">https://bitbucket.org/</span></span></a></li>
<li class="bulletList"><a href="https://azure.microsoft.com/en-us/services/devops/"><span class="url"><span class="koboSpan" id="kobo.1004.1">https://azure.microsoft.com/en-us/services/devops/</span></span></a></li>
</ul>
</li>
<li class="bulletList"><span class="koboSpan" id="kobo.1005.1">Code branching techniques:</span><ul>
<li class="bulletList"><a href="https://guides.github.com/introduction/flow/"><span class="url"><span class="koboSpan" id="kobo.1006.1">https://guides.github.com/introduction/flow/</span></span></a></li>
</ul>
</li>
<li class="bulletList"><span class="koboSpan" id="kobo.1007.1">Logging fundamentals:</span><ul>
<li class="bulletList"><a href="https://docs.microsoft.com/aspnet/core/fundamentals/logging/"><span class="url"><span class="koboSpan" id="kobo.1008.1">https://docs.microsoft.com/aspnet/core/fundamentals/logging/</span></span></a></li>
</ul>
</li>
<li class="bulletList"><span class="koboSpan" id="kobo.1009.1">What is new in CSharp?:</span><ul>
<li class="bulletList"><a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-9"><span class="url"><span class="koboSpan" id="kobo.1010.1">https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-9</span></span></a></li>
<li class="bulletList"><a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-10"><span class="url"><span class="koboSpan" id="kobo.1011.1">https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-10</span></span></a></li>
<li class="bulletList"><a href="https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-11"><span class="url"><span class="koboSpan" id="kobo.1012.1">https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-11</span></span></a></li>
<li class="bulletList"><a href="https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-12"><span class="url"><span class="koboSpan" id="kobo.1013.1">https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-12</span></span></a></li>
</ul>
</li>
<li class="bulletList"><span class="koboSpan" id="kobo.1014.1">Source code analyzers:</span><ul>
<li class="bulletList"><a href="https://marketplace.visualstudio.com/items?itemName=SonarSource.SonarLintforVisualStudio2019"><span class="url"><span class="koboSpan" id="kobo.1015.1">https://marketplace.visualstudio.com/items?itemName=SonarSource.SonarLintforVisualStudio2019</span></span></a></li>
<li class="bulletList"><a href="https://marketplace.visualstudio.com/items?itemName=SonarSource.SonarLintforVisualStudio2022"><span class="url"><span class="koboSpan" id="kobo.1016.1">https://marketplace.visualstudio.com/items?itemName=SonarSource.SonarLintforVisualStudio2022</span></span></a></li>
<li class="bulletList"><a href="https://github.com/dotnet/roslyn-analyzers"><span class="url"><span class="koboSpan" id="kobo.1017.1">https://github.com/dotnet/roslyn-analyzers</span></span></a></li>
<li class="bulletList"><a href="https://docs.microsoft.com/en-us/visualstudio/ide/code-styles-and-code-cleanup"><span class="url"><span class="koboSpan" id="kobo.1018.1">https://docs.microsoft.com/en-us/visualstudio/ide/code-styles-and-code-cleanup</span></span></a></li>
<li class="bulletList"><a href="https://docs.sonarcloud.io/"><span class="url"><span class="koboSpan" id="kobo.1019.1">https://docs.sonarcloud.io/</span></span></a></li>
<li class="bulletList"><a href="https://www.guidgenerator.com/ "><span class="url"><span class="koboSpan" id="kobo.1020.1">https://www.guidgenerator.com/</span></span></a></li>
</ul>
</li>
</ul>
<h1 class="heading-1"><span class="koboSpan" id="kobo.1021.1">Learn more on Discord</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1022.1">To join the Discord community for this book – where you can share feedback, ask questions to the authors, and learn about new releases – follow the QR code below:</span></p>
<p class="normal"><a href="https://packt.link/SoftwareArchitectureCSharp12Dotnet8"><span class="url"><span class="koboSpan" id="kobo.1023.1">https://packt.link/SoftwareArchitectureCSharp12Dotnet8</span></span></a></p>
<p class="normal"><span class="koboSpan" id="kobo.1024.1"><img alt="" role="presentation" src="../Images/QR_Code175081751210902046.png"/></span></p>
</div>
</body></html>