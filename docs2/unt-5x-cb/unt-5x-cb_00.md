# 前言

游戏开发是一项广泛而复杂的任务。它是一个跨学科领域，涵盖了从人工智能、角色动画、数字绘画到声音编辑等各种各样的主题。所有这些知识领域都可以转化为数百（或数千！）多媒体和数据资产的生产。需要一个特殊的软件应用——游戏引擎——来将这些资产整合成一个单一的产品。

游戏引擎是专门的软件组件，过去它们属于一个神秘的领域。它们价格昂贵、缺乏灵活性，且使用起来极其复杂。它们只为大型工作室或硬核程序员所使用。然后 Unity 出现了。

Unity 代表了游戏开发的真正民主化。它是一个用户友好且多功能的引擎和多媒体编辑环境。它有免费和 Pro 版本；后者包括更多功能。在我们撰写这篇前言时，Unity 提供了以下部署选项：

+   **移动**: Android、iOS、Windows Phone 和 BlackBerry

+   **Web**: WebGL

+   **桌面**: PC、Mac 和 Linux 平台

+   **游戏机**: PS4、PS3、Xbox One、XBox 360、PlayStation Mobile、PlayStation Vita 和 Wii U

+   **虚拟现实（VR）/增强现实（AR）**: Oculus Rift 和 Gear VR

现在，Unity 被全球各地的各种开发者社区所使用。其中一些是学生和爱好者，但许多是商业组织，从车库开发者到国际工作室，他们使用 Unity 制作了大量的游戏——其中一些你可能已经在某个平台上玩过了。

本书提供了超过 100 个 Unity 游戏开发食谱。一些食谱展示了 Unity 应用程序的多媒体功能技术，包括与动画的工作以及使用预安装的包系统。其他食谱使用 C#脚本开发游戏组件，从处理数据结构和数据文件操作，到为计算机控制的角色的人工智能算法。 

如果你想要以有组织且直接的方式开发高质量的游戏，并想学习如何创建有用的游戏组件和解决常见问题，那么 Unity 和这本书都是为你准备的。

# 本书涵盖的内容

第一章，*核心用户界面 – 消息、菜单、得分和计时器*，充满了用户界面（UI）食谱，帮助你通过交互视觉元素的质量来提高游戏的娱乐性和享受价值。你将学习到广泛的用户界面技术，包括可更新的文本和图像、方向雷达、倒计时计时器和自定义鼠标光标。

第二章, *库存 GUI*，展示了众多游戏如何涉及玩家收集物品，例如开门的钥匙、武器的弹药，或从一系列物品中选择，如从施法咒语的集合中选择。本章提供的配方提供了一系列文本和图形解决方案，用于向玩家显示库存状态，包括他们是否携带物品，或他们能收集的最大物品数量。

第三章, *2D 动画*，包括强大的 2D 动画和物理功能。在本章中，我们提供了配方，帮助你理解 Unity 中不同动画元素之间的关系，探讨身体不同部位的移动以及使用包含一系列精灵帧图片的精灵图集图像文件。

第四章, *创建地图和材质*，包含的配方将帮助你更好地理解如何使用 Unity 5 的新物理着色器来使用地图和材质，无论你是否是游戏艺术家。它是一个锻炼图像编辑技能的绝佳资源。

第五章, *使用摄像机*，解释了涵盖控制并增强游戏摄像机技术的配方。本章将展示如何与单个和多个摄像机一起工作的有趣解决方案。

第六章, *灯光和效果*，提供了一种实用的方法来了解 Unity 的照明系统功能，如饼干纹理、反射贴图、光照贴图、光照和反射探针以及过程天空盒。此外，它还演示了投影仪的使用。

第七章, *控制 3D 动画*，专注于角色动画，并演示如何利用 Unity 的动画系统——Mecanim。它涵盖了从基本角色设置到过程动画和 ragdoll 物理的广泛主题。

第八章, *角色 GameObject 的位置、移动和导航*，提供了一系列用于计算机控制对象和角色的方向性配方，这些配方可以使游戏拥有更丰富和更令人兴奋的用户体验。这些配方的例子包括出生点、检查点和航标点。它还包括使一组对象聚集在一起的例子，以及使用 Unity NavMeshes 在地面和障碍物周围进行自动路径查找。

第九章, *播放和操作声音*，致力于使你的游戏中的声音效果和配乐音乐更加有趣。本章演示了如何通过脚本、混响区域和 Unity 的新音频混音器在运行时操作声音。

第十章，*处理外部资源文件和设备*，阐述了外部数据如何通过添加可更新内容、与网站通信等方式增强你的游戏。该章节还包括使用 Unity Cloud 自动化构建的食谱，以及如何构建项目以便使用 GitHub 等在线版本控制系统轻松备份。

第十一章，*使用额外功能和优化改进游戏*，提供了几个添加额外功能到你的游戏的食谱想法（例如添加慢动作和确保在线游戏的安全性）。该章节中的许多其他食谱提供了如何调查和可能改进游戏代码的效率和性能的示例。

第十二章，*编辑器扩展*，提供了几个增强 Unity 编辑器设计时工作的食谱。编辑器扩展是脚本和多媒体组件，允许使用自定义文本、游戏参数的 UI 展示、检查器和场景面板中的数据，以及自定义菜单和菜单项。这些可以促进工作流程改进，从而使游戏开发者能够更快、更轻松地实现目标。

# 你需要这本书的物品

你只需要一份 Unity 5.x 的副本，可以从[`www.unity3d.com`](http://www.unity3d.com)免费下载。

如果你希望为第四章中的食谱创建自己的图像文件，*创建地图和材质*，你还需要一个图像编辑器，例如 Adobe Photoshop，可以在[`www.photoshop.com`](http://www.photoshop.com)找到，或者 GIMP，它是免费的，可以在[`www.gimp.org`](http://www.gimp.org)找到。

# 这本书适合谁

这本书是为任何想要探索 Unity 脚本和多媒体功能的广泛范围，并找到许多游戏功能现成解决方案的人而写的。程序员可以探索多媒体功能，多媒体开发者可以尝试脚本编写。

从中级到高级用户，从艺术家到程序员，这本书是为你和你团队中的每个人而写的！

它是为那些有 Unity 使用基础和一点 C#编程知识的人而设计的。

# 部分

在这本书中，你会发现几个经常出现的标题。

为了清楚地说明如何完成食谱，我们按照以下方式使用这些部分：

## 准备工作

这一部分告诉你可以在食谱中期待什么，并描述如何设置任何软件或任何为食谱所需的初步设置。

## 如何做…

这一部分包含遵循食谱所需的步骤。

## 它是如何工作的…

这一部分通常包含对上一部分发生情况的详细解释。

## 还有更多…

本节包含有关食谱的附加信息，以便使读者对食谱有更深入的了解。

## 参见

本节提供了对其他有用信息的链接，以帮助读者更好地了解食谱。

# 惯例

在这本书中，你会发现许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、文件夹名称、文件名、文件扩展名、路径名和用户输入如下所示："对于这个食谱，我们在`1362_01_01`文件夹中的`Fonts`文件夹中准备了您需要的字体。”

网址如下所示：在他们的手册页面上了解更多关于 Unity UI 的信息，网址为 [`docs.unity3d.com/Manual/UISystem.html`](http://docs.unity3d.com/Manual/UISystem.html)。

代码块设置如下：

```cs
  void Start (){
    textClock = GetComponent<Text>();
  }

  void Update (){
    DateTime time = DateTime.Now;
    string hour = LeadingZero( time.Hour );
    string minute = LeadingZero( time.Minute );
    string second = LeadingZero( time.Second );

    textClock.text = hour + ":" + minute + ":" + second;
  }
```

**新术语**和**重要词汇**以粗体显示。屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下："在**层次结构**面板中，将一个**UI** | **文本**游戏对象添加到场景中 - 选择菜单：**GameObject** | **UI** | **Text**。”

### 注意

警告或重要注意事项以如下框的形式出现。

### 小贴士

小贴士和技巧看起来像这样。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或不喜欢什么。读者反馈对我们来说很重要，因为它帮助我们开发出你真正能从中获得最大收益的标题。

要向我们发送一般反馈，只需发送电子邮件至 `<feedback@packtpub.com>`，并在邮件主题中提及书籍标题。

如果你在某个主题上有专业知识，并且你对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南，网址为 [www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 书籍的骄傲拥有者，我们有许多事情可以帮助你从购买中获得最大收益。

## 下载示例代码和彩色图像

完成书中食谱所需的所有文件都可以从以下网址下载：[`github.com/dr-matt-smith/unity-5-cookbook-codes`](https://github.com/dr-matt-smith/unity-5-cookbook-codes)。

可下载的代码已完全注释，并且每个食谱都提供了完成的 Unity 项目。此外，你还可以在这个存储库中找到一个包含每章彩色图像的文件夹。

## 错误清单

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然会发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误表，请访问 [`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将在**勘误**部分显示。

## 盗版

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现任何形式的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过 `<copyright@packtpub.com>` 联系我们，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们作者和我们提供有价值内容的能力方面的帮助。

## 问题和建议

如果您在这本书的任何方面遇到问题，您可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决问题。
