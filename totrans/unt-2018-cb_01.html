<html><head></head><body>
        

                            
                    <h1 class="header-title">Displaying Data with Core UI Elements</h1>
                
            
            
                
<p>In this chapter, we will cover:</p>
<p class="mce-root"/>
<ul>
<li>Displaying a "Hello World" UI text message</li>
<li>Displaying a digital clock</li>
<li>Displaying a digital countdown timer</li>
<li>Creating a message that fades away</li>
<li>Displaying a perspective 3D Text Mesh</li>
<li>Creating sophisticated text with TextMeshPro</li>
<li>Displaying an image</li>
<li>Creating UIs with the Fungus open source dialog system</li>
<li>Creating a Fungus character dialog with images</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Introduction</h1>
                
            
            
                
<p>A key element contributing to the entertainment and enjoyment of most games is the quality of the visual experience, and an important part of this is the <strong>User Interface</strong> (<strong>UI</strong>). UI elements involve ways for the user to interact with the game (such as buttons, cursors, and text boxes), as well as ways for the game to present up-to-date information to the user (such as the time remaining, current health, score, lives left, or location of enemies). This chapter is filled with UI recipes to give you a range of examples and ideas for creating game UIs.</p>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">The big picture</h1>
                
            
            
                
<p>Every game is different, and so this chapter attempts to fulfill two key roles. The first aim is to provide step-by-step instructions on how to create a range of the Unity 2018 basic UI elements and, where appropriate, associate them with game variables in code. The second aim is to provide a rich illustration of how UI elements can be used for a variety of purposes so that you can get good ideas about how to make the Unity UI set of controls deliver the particular visual experience and interactions for the games that you are developing.</p>
<p>The basic UI elements can provide static images and text to just make the screen look more interesting. By using scripts, we can change the content of these images and text objects, so that the players' numeric scores can be updated, or we can show stickmen images to indicate how many lives the player has left. Other UI elements are interactive, allowing users to click on buttons, choose options, enter text, and so on. More sophisticated kinds of UI can involve collecting and calculating data about the game (such as percentage time remaining or enemy hit damage; or the positions and types of key GameObjects in the scene, and their relationship to the location and orientation of the player), and then displaying these values in a natural, graphical way (such as progress bars or radar screens).</p>
<p>Core GameObjects, components, and concepts relating to Unity UI development include:</p>
<ul>
<li><strong>Canvas</strong>: Every UI element is a child to a <strong>Canvas</strong>. There can be multiple <strong>Canvas</strong> GameObjects in a single scene. If a <strong>Canvas</strong> is not already present, then one will automatically be created when a new UI GameObject is created, with that UI object as the child to the new <strong>Canvas</strong> GameObject.</li>
<li><strong>EventSystem</strong>: An <strong>EventSystem</strong> GameObject is required to manage the interaction events for UI controls. One will automatically be created with the first UI element. Unity generally only allows one <strong>EventSystem</strong> in any Scene (some proposed code for multiple event systems can be found at <a href="https://bitbucket.org/Unity-Technologies/ui/pull-requests/18/support-for-multiple-concurrent-event/diff)">https://bitbucket.org/Unity-Technologies/ui/pull-requests/18/support-for-multiple-concurrent-event/diff</a>)</li>
<li><strong>Visual UI</strong> <strong>controls</strong>: The visible UI controls themselves include <strong>Button, Image, Text,</strong> and <strong>Toggle</strong><strong><strong>.</strong></strong></li>
<li><strong>The Rect Transform component</strong>: UI GameObjects can exist in a different space from that of the 2D and 3D scenes, which cameras render. Therefore, UI GameObjects all have the special <strong>Rect Transform</strong> component, which has some different properties to the scene's GameObject Transform component (with its straightforward X/Y/Z position, rotation, and scale properties). Associated with <strong>Rect Transforms</strong> are pivot points (reference points for scaling, resizing, and rotations) and anchor points.</li>
</ul>
<p>The following diagram shows the four main categories of UI controls, each in a <strong>Canvas</strong> GameObject and interacting via an <strong>EventSystem</strong> GameObject. UI Controls can have their own Canvas, or several UI controls can be in the same <strong>Canvas.</strong> The four categories are: <strong>static</strong> (display-only) and <strong>interactive UI</strong> controls, <strong>non-visible</strong> components (such as ones to group a set of mutually exclusive radio buttons), and <strong>C# script</strong> classes to manage UI-control behavior through logic written in the program code. Note that UI controls that are not a child or descendant of a Canvas will not work properly, and interactive UI controls will not work properly if the <strong>EventSystem</strong> is missing. Both the <strong>Canvas</strong> and <strong>EventSystem</strong> GameObjects are automatically added to the Hierarchy as soon as the first UI GameObject is added to a scene:</p>
<div><img src="img/4d81c94e-7e3e-4490-8aa6-5f39ee7e8660.png" style="width:37.17em;height:24.08em;"/></div>
<p><strong>Rect Transforms</strong> for UI GameObjects represent a rectangular area rather than a single point, which is the case for scene GameObject Transforms. <strong>Rect Transforms</strong> describe how a UI element should be positioned and sized relative to its parent. Rect Transforms have a width and height that can be changed without affecting the local scale of the component. When the scale is changed for the <strong>Rect Transform</strong> of a UI element, this will also scale font sizes and borders on sliced images, and so on. If all four anchors are at the same point, resizing the Canvas will not stretch the Rect Transform. It will only affect its position. In this case, we'll see the Pos X and Pos Y properties, and the Width and Height of the rectangle. However, if the anchors are not all at the same point, Canvas resizing will result in stretching the element's rectangle. So instead of the Width, we'll see the values for Left and Right—the position of the horizontal sides of the rectangle to the sides of the <strong>Canvas,</strong> where the Width will depend on the actual Canvas width (and the same for Top/Bottom/Height).</p>
<p>Unity provides a set of preset values for pivots and anchors, making the most common values very quick and easy to assign to an element's <strong>Rect Transform</strong>. The following screenshot shows the 3 x 3 grid that allows you quick choices about the left, right, top, bottom, middle, horizontal, and vertical values. Also, the extra column on the right offers horizontal stretch presets, and the extra row at the bottom offers vertical stretch presets. Using the <em>Shift</em>+<em>Alt </em>keys sets the pivot and anchors when a preset is clicked:</p>
<div><img src="img/d559845b-f490-409a-aa12-45c260f0f5dc.png" style="width:17.25em;height:23.92em;"/></div>
<p>The Unity manual provides a very good introduction to the <strong>Rect Transform</strong>. In addition, Ray Wenderlich's two-part Unity UI web tutorial also presents a helpful overview of the Rect Transform, pivots, and anchors. Both parts of Wenderlich's tutorial make great use of animated GIFs to illustrate the effect of different values for pivots and anchors:</p>
<ul>
<li><a href="http://docs.unity3d.com/Manual/UIBasicLayout.html">http://docs.unity3d.com/Manual/UIBasicLayout.html</a></li>
<li><a href="http://www.raywenderlich.com/78675/unity-new-gui-part-1">http://www.raywenderlich.com/78675/unity-new-gui-part-1</a></li>
</ul>
<p>There are three <strong>Canvas</strong> render modes:</p>
<ul>
<li><strong>Screen Space: Overlay</strong>: In this mode, the UI elements are displayed without any reference to any camera (there is no need for any <strong>Camera</strong> in the scene). The UI elements are presented in front of (overlaying) any sort of camera display of the scene contents.</li>
<li><strong>Screen Space</strong>: <strong>Camera</strong>: In this mode, the <strong>Canvas</strong> is treated as a flat plane in the frustum (viewing space) of a <strong>Camera</strong> scene – where this plane is always facing the camera. So, any scene objects in front of this plane will be rendered in front of the UI elements on the <strong>Canvas.</strong> The <strong>Canvas</strong> is automatically resized if the screen size, resolution, or camera settings are changed.</li>
<li><strong>World Space</strong>: In this mode, the <strong>Canvas</strong> acts as a flat plane in the frustum (viewing space) of a <strong>Camera</strong> scene – but the plane is not made to always face the <strong>Camera.</strong> How the <strong>Canvas</strong> appears is just as with any other objects in the scene, relative to where (if anywhere) in the camera's viewing frustum the <strong>Canvas</strong> plane is located and oriented.</li>
</ul>
<p>In this chapter, we have focused on the Screen Space:Overlay mode. But all these recipes can be used with the other two modes as well.</p>
<p>Be creative! This chapter aims to act as a launching pad of ideas, techniques, and reusable C# scripts for your own projects. Get to know the range of Unity UI elements, and try to work smart. Often, a UI element exists with most of the components that you may need for something in your game, but you may need to adapt it somehow. An example of this can be seen in the recipe that makes a UI Slider non-interactive, instead using it to display a red-green progress bar for the status of a countdown timer. See this in the <em>Displaying a countdown timer graphically with a UI Slider</em> recipe.</p>
<p>Many of these recipes involve C# script classes that make use of the Unity scene-start event sequence of <kbd>Awake()</kbd> to all game objects, <kbd>Start()</kbd> to all GameObjects, then <kbd>Update()</kbd> every frame to every GameObject. Therefore, you'll see many recipes in this chapter (and the whole book) where we cache references to GameObject components in the <kbd>Awake()</kbd> method, and then make use of these components in <kbd>Start()</kbd> and other methods, once the scene is up and running.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Displaying a "Hello World" UI text message</h1>
                
            
            
                
<p>The first traditional problem to be solved with a new computing technology is to display the Hello World message. In this recipe, you'll learn to create a simple UI Text object with this message, in large white text with a selected font, in the center of the screen:</p>
<div><img src="img/a8d1df96-386a-406b-a0ab-a7146417ef98.png" style="width:13.92em;height:2.00em;"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, we have prepared the font that you need in a folder named <kbd>Fonts</kbd> in the <kbd>01_01</kbd> folder.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To display a Hello World text message, follow these steps:</p>
<ol>
<li>Create a new Unity 2D project.</li>
<li>Import the provided <kbd>Fonts</kbd> folder.</li>
<li>In the Hierarchy panel, add a UI | Text GameObject to the scene—choose menu: GameObject | UI | Text. Name this GameObject <kbd>Text-hello</kbd>.</li>
</ol>
<p>Using the Create menu : Alternatively, use the Create menu immediately below the Hierarchy tab, choosing menu: Create | UI | Text.</p>
<ol start="4">
<li>Ensure that your new <kbd>Text-hello</kbd> GameObject is selected in the Hierarchy panel.<br/>
Now, in the Inspector, ensure the following properties are set:
<ul>
<li class="mce-root">Text set to read <kbd>Hello World</kbd></li>
<li class="mce-root">Font set to <kbd>Xolonium-Bold</kbd></li>
<li class="mce-root">Font size as per your requirements (large—this depends on your screen—try <kbd>50</kbd> or <kbd>100</kbd>)</li>
<li class="mce-root">Alignment set to horizontal and vertical center</li>
<li class="mce-root"><kbd>Horizontal</kbd> and <kbd>Vertical Overflow</kbd> set to <kbd>Overflow</kbd></li>
<li class="mce-root"><strong>Color</strong> set to white</li>
</ul>
</li>
</ol>
<p>The following screenshot shows the <strong>Inspector</strong> panel with these settings:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/9858d847-95e5-4875-97e6-675ac47d9894.png" style="width:35.33em;height:31.92em;"/></p>
<ol start="5">
<li>In the Rect Transform, click on the Anchor Presets square icon, which should result in several rows and columns of preset position squares appearing. Hold down  <em>Shift</em>+<em>Alt </em>and click on the center one (middlerow and center column).</li>
</ol>
<p>The screenshot of the <strong>Rect Transform</strong> in the <em>Introduction</em> highlights the middle-center preset needed for this recipe.</p>
<ol start="6">
<li>Your Hello World text will now appear, centered nicely in the Game panel.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>You have added a new <kbd>Text-hello</kbd> GameObject to a scene. A parent Canvas and <strong>UI EventSystem</strong> will also have been automatically created.</p>
<p>You set the text content and presentation properties and used the Rect Transform anchor presets to ensure that whatever way the screen is resized, the text will stay horizontally and vertically centered.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p>Here are some more details you don't want to miss.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Styling substrings with Rich Text</h1>
                
            
            
                
<p>Each separate <strong>UI Text</strong> component can have its own color, size, boldness styling, and so on. However, if you wish to quickly add some highlighting style to part of a string to be displayed to the user, the following are examples of some of the HTML-style markups that are available without the need to create separate UI Text objects:</p>
<ul>
<li>Embolden text with the "b" markup: I am <kbd>&lt;b&gt;bold&lt;/b&gt;</kbd></li>
<li>Italicize text with the "i" markup: I am <kbd>&lt;i&gt;italic&lt;/i&gt;</kbd></li>
<li>Set the text color with hex values or a color name: I am <kbd>&lt;color=green&gt;green</kbd> text <kbd>&lt;/color&gt;</kbd>, but I am <kbd>&lt;color=#FF0000&gt;red&lt;/color&gt;</kbd></li>
</ul>
<p>Learn more from the Unity online manual's Rich Text page at <a href="http://docs.unity3d.com/Manual/StyledText.html">http://docs.unity3d.com/Manual/StyledText.html</a>.<a href="http://docs.unity3d.com/Manual/StyledText.html"/></p>


            

            
        
    

        

                            
                    <h1 class="header-title">Displaying a digital clock</h1>
                
            
            
                
<p>Whether it is the real-world time, or an in-game countdown clock, many games are enhanced by some form of clock or timer display. The most straightforward type of clock to display is a string composed of the integers for hours, minutes, and seconds, which is what we'll create in this recipe.</p>
<p>The following screenshot shows the kind of clock we will be creating in this recipe:</p>
<div><img src="img/2ece3c61-1197-4299-9e57-82aa47be3795.png" style="width:23.67em;height:1.58em;"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, we have prepared the font that you need in a folder named <kbd>Fonts</kbd> in the <kbd>01_01</kbd> folder.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To create a digital clock, follow these steps:</p>
<ol>
<li>Create a new Unity 2D project.</li>
<li>Import the provided <kbd>Fonts</kbd> folder.</li>
<li>In the <strong>Hierarchy</strong> panel, add a UI | Text game object to the scene named Text-clock.</li>
<li>Ensure that the <kbd>Text-clock</kbd> GameObject is selected in the Hierarchy panel. Now, in Inspector, ensure that the following properties are set:</li>
</ol>
<ul>
<li style="list-style-type: none">
<ul>
<li>Text set to read as time goes here (this placeholder text will be replaced by the time when the scene is running)</li>
<li>Font type set to <kbd>Xolonium Bold</kbd></li>
<li>Font Size set to <kbd>20</kbd></li>
<li>Alignment set to horizontal and vertical center</li>
<li>Horizontal and Vertical Overflow settings set to <kbd>Overflow</kbd></li>
<li>Color set to white</li>
</ul>
</li>
</ul>
<p class="mce-root"/>
<ol start="5">
<li>In the <strong>Rect Trans</strong><strong>form</strong>, click on the Anchor Presets square icon, which will result in the appearance of several rows and columns of preset position squares. Hold down <em>Shift</em>+<em>Alt </em>and click on the top and center column rows.</li>
<li>Create a folder named <kbd>_Scripts</kbd> and create a C# script class called <kbd>ClockDigital</kbd> in this new folder:</li>
</ol>
<p> </p>
<pre style="padding-left: 60px">using UnityEngine; 
using System.Collections; 
using UnityEngine.UI; 
using System; 

public class ClockDigital : MonoBehaviour { 
  private Text textClock; 

  void Awake (){ 
    textClock = GetComponent&lt;Text&gt;(); 
  } 

  void Update (){ 
    DateTime time = DateTime.Now; 
    string hour = LeadingZero( time.Hour ); 
    string minute = LeadingZero( time.Minute ); 
    string second = LeadingZero( time.Second ); 

    textClock.text = hour + ":" + minute + ":" + <br/> second; 
  } 

  string LeadingZero (int n){ 
     return n.ToString().PadLeft(2, '0'); 
  } 
} </pre>
<p>Underscore prefix so items appear first in sequence<br/>
<br/> Since scripts and scenes are things that are most often accessed, prefixing their folder names with an underscore character, <kbd>_as _Scenes</kbd> and <kbd>_Scripts</kbd>, means they are always at the top in the Project panel.</p>
<p>Although the preceding code is useful for illustrating how to access the time component of a <kbd>DateTime</kbd> object individually, the <kbd>Format(...)</kbd> method of the <kbd>String</kbd> class can be used to format a <kbd>DateTime</kbd> object all in a single statement, for example, the preceding could be written more succinctly in a single statement:<br/>
<kbd>String.Format("HH:mm:ss", DateTime.Now)</kbd><br/>
For more examples, see<a href="http://www.csharp-examples.net/string-format-datetime/"> http://www.csharp-examples.net/string-format-datetime/</a>.</p>
<ol start="7">
<li>Ensure the <kbd>Text-clock</kbd> GameObject is selected in the Hierarchy panel.</li>
<li>In the Inspector panel, add an instance of the <kbd>ClockDigital</kbd> script class as a component by clicking the Add Component button, selecting Scripts, and choosing the <kbd>Clock Digital</kbd> script class:</li>
</ol>
<div><img src="img/4f1ae827-ed6c-4d5b-a530-d603a3ecc5a0.png" style="width:22.17em;height:25.00em;"/></div>
<p>Add script components through drag and drop<br/>
<br/> Script components can also be added to GameObjects via drag and drop. For example, with the <kbd>Text-clock</kbd> GameObject selected in the Hierarchy panel, drag your <kbd>ClockDigital</kbd> script onto it to add an instance of this script class as a component to the <kbd>Text-clock</kbd> GameObject.</p>
<ol start="9">
<li>When you run the scene, you will now see a digital clock that shows hours, minutes, and seconds at the top-center part of the screen.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>You added a Text GameObject to a scene. You added an instance of the <kbd>ClockDigital</kbd> C# script class to that GameObject.</p>
<p>Notice that as well as the standard two C# packages (<kbd>UnityEngine</kbd> and <kbd>System.Collections</kbd>) that are written by default for every new script, you have added the using statements for two more C# script packages, <kbd>UnityEngine.UI</kbd> and <kbd>System</kbd>. The <strong>UI package</strong> is needed, since our code uses the UI Text object; and the <kbd>System</kbd> package is needed, since it contains the <kbd>DateTime</kbd> class that we need to access the clock on the computer where our game is running.</p>
<p>There is one variable, <kbd>textClock</kbd>, which will be a reference to the <kbd>Text</kbd> component, whose text content we wish to update in each frame with the current time in hours, minutes, and seconds.</p>
<p>The <kbd>Awake()</kbd> method (executed when the scene begins) sets the <kbd>textClock</kbd> variable to be a reference to the <kbd>Text</kbd> component in the GameObject, to which our scripted object has been added. Storing a reference to a component in this way is referred to as caching—it means that code executed later does not need to repeat the computationally-expensive task of searching the GameObject hierarchy for a component of a particular type.</p>
<p>Note that an alternative approach would be to make <kbd>textClock</kbd> a public variable. This will allow us to assign it via drag and drop in the Inspector panel.</p>
<p>The <kbd>Update()</kbd> method is executed in every frame. The current time is stored in the time variable, and strings are created by adding leading zeros to the number values for the hours, minutes, and seconds properties of variable time.</p>
<p>This method finally updates the text property (that is, the letters and numbers that the user sees) to be a string, concatenating the hours, minutes, and seconds with colon<br/>
separator characters.</p>
<p>The <kbd>LeadingZero(...)</kbd> method takes as input an integer and returns a string of this number with leading zeros added to the left, if the value was less than <kbd>10</kbd>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p>There are some details you don't want to miss.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">The Unity tutorial for animating an analog clock</h1>
                
            
            
                
<p>Unity has published a nice tutorial on how to create 3D objects, and animate them through a C# script to display an analog clock, at <a href="https://unity3d.com/learn/tutorials/modules/beginner/scripting/simple-clock">https://unity3d.com/learn/tutorials/modules/beginner/scripting/simple-clock</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Displaying a digital countdown timer</h1>
                
            
            
                
<p>This recipe will show you how to display a digital countdown clock, as shown here:</p>
<div><img src="img/0d4de1c2-3df9-4fde-a244-410a751602e7.png" style="width:27.67em;height:1.42em;"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>This recipe adapts the previous one. So, make a copy of the project for the previous recipe, and work on this copy.</p>
<p>For this recipe, we have prepared the script that you need in a folder named <kbd>_Scripts</kbd> in the <kbd>01_03</kbd> folder.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To create a digital countdown timer, follow these steps:</p>
<ol>
<li>Import the provided <kbd>_Scripts</kbd> folder.</li>
<li>In the Inspector panel, remove the scripted component, <kbd>ClockDigital</kbd>, from the <kbd>Text-clock</kbd> GameObject.</li>
<li>In the Inspector panel, add an instance of the <kbd>CountdownTimer</kbd> script class as a component by clicking the <kbd>Add Component</kbd> button, selecting <strong>Scripts,</strong> and choosing the <kbd>CountdownTimer</kbd> script class.</li>
</ol>
<ol start="4">
<li>Create a <kbd>DigitalCountdown</kbd> C# script class that contains the following code, and add an instance as a scripted component to the <kbd>Text-clock</kbd> GameObject:</li>
</ol>
<pre style="padding-left: 60px">using UnityEngine; 
using UnityEngine.UI; 

public class DigitalCountdown : MonoBehaviour { 
   private Text textClock; 
   private CountdownTimer countdownTimer; 

   void Awake() { 
         textClock = GetComponent&lt;Text&gt;(); 
         countdownTimer = GetComponent&lt;CountdownTimer&gt;(); 
   } <br/>   void Start() { 
         countdownTimer.ResetTimer( 30 ); 
   }  

   void Update () { 
         int timeRemaining = countdownTimer.GetSecondsRemaining(); 
         string message = TimerMessage(timeRemaining); 
         textClock.text = message; 
   } 
 
   private string TimerMessage(int secondsLeft) {    
         if (secondsLeft &lt;= 0){ 
             return "countdown has finished"; 
         } else { 
             return "Countdown seconds remaining = " + secondsLeft; 
         } 
   } 
} </pre>
<ol start="5">
<li>When you run the <strong>Scene,</strong> you will now see a digital clock counting down from 30. When the countdown reaches zero, the message countdown has finished will be displayed.</li>
</ol>
<div><strong>Automatically add components with</strong> <kbd>[RequireComponent(...)]</kbd><br/>
<br/> The <kbd>DigitalCountdown</kbd> script class requires the same GameObject to also have an instance of the <kbd>CountdownTimer</kbd> script class. Rather than having to manually attach an instance of a require script, you can use the <kbd>[RequireComponent(...)]</kbd> C# attribute immediately before the class declaration statement. This will result in Unity automatically attaching an instance of the required script class.</div>
<p>For example, by writing the following, Unity will add an instance of <kbd>CountdownTimer</kbd> as soon as an instance of the <kbd>DigitalCountdown</kbd> script class has been added as a component of a GameObject:</p>
<pre>using UnityEngine;   
using UnityEngine.UI;   

[RequireComponent (typeof (CountdownTimer))]   
public class DigitalCountdown : MonoBehaviour {   </pre>
<p>Learn more from the Unity documentation at <a href="https://docs.unity3d.com/ScriptReference/RequireComponent.html">https://docs.unity3d.com/ScriptReference/RequireComponent.html</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>You have added instances of the <kbd>DigitalCountdown</kbd> and <kbd>CountdownTimer</kbd> C# script classes to your scene's UI Text GameObject.</p>
<p>The <kbd>Awake()</kbd> method caches references to the Text and <kbd>CountdownTimer</kbd> components in the <kbd>countdownTimer</kbd> and <kbd>textClock</kbd> variables. The <kbd>textClock</kbd> variable will be a reference to the <strong>UI Text</strong> component, whose text content we wish to update in each frame with a time-remaining message (or a timer-complete message).</p>
<p>The <kbd>Start()</kbd> method calls the countdown timer object's <kbd>CountdownTimerReset(...)</kbd> method, passing an initial value of 30 seconds.</p>
<p>The <kbd>Update()</kbd> method is executed in every frame. This method retrieves the countdown timer seconds remaining and stores this value as an integer (whole number) in the <kbd>timeRemaining</kbd> variable. This value is passed as a parameter to the <kbd>TimerMessage()</kbd>  method, and the resulting message is stored in the string (text) variable message. This method finally updates the text property (that is, the letters and numbers that the user sees) of the <kbd>textClock</kbd> UI Text GameObject to equal to the string message about the remaining seconds.</p>
<p>The <kbd>TimerMessage()</kbd> method takes an integer as input, and if the value is zero or less, a message stating the timer has finished is returned. Otherwise (if greater than zero seconds remain) a message stating the number of remaining seconds is returned.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating a message that fades away</h1>
                
            
            
                
<p>Sometimes, we want a message to display just for a certain time, and then fade away and disappear.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>This recipe adapts the previous one. So, make a copy of the project for the that recipe, and work on this copy.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To display a text message that fades away, follow these steps:</p>
<ol>
<li>In the <strong>Inspector</strong> panel, remove the scripted component, <kbd>DigitalCountdown</kbd>, from the <kbd>Text-clock</kbd> GameObject.</li>
<li>Create a C# script class, <kbd>FadeAway</kbd>, that contains the following code, and add an instance as a scripted component to the <kbd>Text-hello</kbd> GameObject:</li>
</ol>
<pre style="padding-left: 60px">using UnityEngine; 
using UnityEngine.UI; 

[RequireComponent (typeof (CountdownTimer))] 
public class FadeAway : MonoBehaviour { 
   private CountdownTimer countdownTimer; 
   private Text textUI; 

   void Awake () { 
         textUI = GetComponent&lt;Text&gt;();       
         countdownTimer = GetComponent&lt;CountdownTimer&gt;(); 
   } 

   void Start(){ 
         countdownTimer.ResetTimer( 5 ); 
   } 

   void Update () { 
         float alphaRemaining = <br/>         countdownTimer.GetProportionTimeRemaining(); 
         print (alphaRemaining); 
         Color c = textUI.color; 
         c.a = alphaRemaining; 
         textUI.color = c; 
   } 
} </pre>
<ol start="3">
<li>When you run the <strong>Scene,</strong> you will now see that the message on the screen slowly fades away, disappearing after five seconds.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>You added an instance of the <kbd>FadeAway</kbd> scripted class to the <kbd>Text-hello</kbd> GameObject. Due to the <kbd>RequireComponent(...)</kbd> attribute, an instance of the <kbd>CountdownTimer</kbd> script class was also <strong>automatically</strong> added.</p>
<p>The <kbd>Awake()</kbd> method caches references to the <kbd>Text</kbd> and <kbd>CountdownTimer</kbd> components in the <kbd>countdownTimer</kbd> and <kbd>textUI</kbd> variables.</p>
<p>The <kbd>Start()</kbd> method reset the countdown timer to start counting down from five seconds.</p>
<p>The <kbd>Update()</kbd> method (executed every frame) retrieves the proportion of time remaining in our timer by calling the <kbd>GetProportionTimeRemaining()</kbd> method. This method returns a value between <kbd>0.0</kbd> and <kbd>1.0</kbd>, which also happens to be the range of values for the alpha (transparency) property of the color property of a UI Text game object.</p>
<div><strong>Flexible range of <kbd>0.0</kbd></strong>–<strong><kbd>1.0</kbd></strong><br/>
<br/> It is often a good idea to represent proportions as values between 0.0 and 1.0. Either this will be just the value we want for something, or we can multiply the maximum value by our decimal proportion, and we get the appropriate value. For example, if we wanted the number of degrees of a circle for a given <kbd>0.0</kbd>–<kbd>0.1</kbd> proportion, we just multiply by the maximum of 360, and so on.</div>
<p>The <kbd>Update()</kbd> method then retrieves the current color of the text being displayed (via <kbd>textUI.color</kbd>), updates its alpha property, and resets the text object to have this updated color value. The result is that each frame in the text object's transparency represents the current value of the proportion of the timer remaining until it fades to fully transparent when the timer gets to zero.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Displaying a perspective 3D Text Mesh</h1>
                
            
            
                
<p>Unity provides an alternative way to display text in 3D via the Text Mesh component. While this is really suitable for a text-in-the-scene kind of situation (such as billboards, road signs, and generally wording on the side of 3D objects that might be seen close up), it is quick to create and is another way of creating interesting menus or instruction scenes.</p>
<p>In this recipe, you'll learn how to create a scrolling 3D text, simulating the famous opening credits of the movie Star Wars, which looks something like this:</p>
<div><img src="img/7deed535-6c0f-47e9-88d0-03d9adb41118.png" style="width:36.25em;height:17.17em;"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, we have prepared the fonts that you need in a folder named <kbd>Fonts,</kbd> and the text file that you need in a folder named <kbd>Text</kbd>, in the <kbd>01_07</kbd> folder.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To display perspective 3D text, follow these steps:</p>
<ol>
<li>Create a new Unity 3D project (this ensures that we start off with a <strong>Perspective</strong> camera, suitable for the 3D effect we want to create).</li>
</ol>
<p>If you need to mix 2D and 3D scenes in your project, you can always manually set any camera's <strong>Camera Projection</strong> property to <strong>Perspective</strong> or <strong>Orthographic</strong> via the <strong>Inspector</strong> panel.</p>
<ol start="2">
<li>In the Hierarchy panel, select the Main Camera item, and, in the Inspector panel, set its properties as follows: Camera Clear Flags to solid color, Field of View to <kbd>150</kbd>, and Background color to black.</li>
<li>Import the provided <kbd>Fonts</kbd> and <kbd>Text</kbd> folders.</li>
<li>In the Hierarchy panel, add a UI | Text game object to the scene—choose menu: GameObject | UI | Text. Name this GameObject as Text-star-wars.</li>
<li>Set UI Text Text-star-wars Text Content to Star Wars (with each word on a new line). Then, set its Font to <kbd>Xolonium Bold</kbd>, its Font Size to <kbd>50</kbd>, and its <strong>Color</strong> to White. Use the anchor presets in Rect Transform to position this UI Text object at the top-center of the screen. Set Vertical Overflow to <kbd>Overflow</kbd>. Set Alignment Horizontal to center (leaving Alignment Vertical as top).</li>
<li>In the Hierarchy panel, add a 3D Text game object to the scene – choose menu: GameObject | 3D Object | 3D Text. Name this GameObject Text-crawler.</li>
<li>In the Inspector panel, set the Transform properties for the Text-crawler GameObject as follows: Position (<kbd>100, -250, 0</kbd>), Rotation (<kbd>15, 0, 0</kbd>).</li>
<li>In the Inspector panel, set the <strong>Text Mesh</strong> properties for the <kbd>Text-crawler</kbd> GameObject as follows:
<ul>
<li>Paste the content of the provided text file, <kbd>star_wars.txt</kbd>, into Text.</li>
<li>Set Offset Z = <kbd>-20</kbd>, Line Spacing = <kbd>1</kbd>, and Anchor = <kbd>Middle center</kbd></li>
<li>Set Font Size = <kbd>200</kbd>, Font = <kbd>SourceSansPro-BoldIt</kbd></li>
</ul>
</li>
</ol>
<ol start="9">
<li>When the <strong>Scene</strong> is made to run, the Star Wars story text will now appear nicely squashed in 3D perspective on the screen.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>You have simulated the opening screen of Star Wars, with a flat UI Text object title at the top of the screen, and 3D Text Mesh with settings that appear to be disappearing into the horizon with 3D perspective "squashing."</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p>There are some details you don't want to miss.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">We have to make this text crawl like it does in the movie</h1>
                
            
            
                
<p>With a few lines of code, we can make this text scroll in the horizon just as it does in the movie. Add the following C# script class, <kbd>ScrollZ,</kbd> as a component to the <kbd>Text-crawler</kbd> GameObject:</p>
<pre>using UnityEngine; using System.Collections; public class ScrollZ : MonoBehaviour { public float scrollSpeed = 20; void Update () { Vector3 pos = transform.position; Vector3 localVectorUp = transform.TransformDirection(0,1,0); pos += localVectorUp * scrollSpeed * Time.deltaTime; transform.position = pos; } } </pre>
<p>In each frame via the <kbd>Update()</kbd> method, the position of the 3D text object is moved in the direction of this GameObject's local up-direction.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Where to learn more</h1>
                
            
            
                
<p>Learn more about 3D Text and Text Meshes in the Unity online manual at <a href="http://docs.unity3d.com/Manual/class-TextMesh.html">http://docs.unity3d.com/Manual/class-TextMesh.html</a>.</p>
<div><br/>
An alternative way of achieving perspective text like this would be to use a Canvas with the World Space render mode.</div>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating sophisticated text with TextMeshPro</h1>
                
            
            
                
<p>In 2017, Unity purchased the <strong>TextMeshPro Asset Store</strong> product, with a view to integrate it into Unity as a free core feature. <strong>TextMeshPro</strong> uses a <strong>Signed Distance Field</strong> (<strong>SDF</strong>) rendering method, resulting in clear and sharply-drawn characters at any point size and resolution. Therefore, you will need SDF fonts to work with this resource.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>At the time of writing, <strong>TextMeshpro</strong> is a free <strong>Asset Store</strong> download and <strong>Unity Essentials Beta</strong>, so the first step is still to import it via the asset store. By the time you read this, you'll probably find <strong>TextMeshPro</strong> as a standard GameObject type that you can create in the Scene panel, with no downloading required. So, if required, open the Asset Store panel, search for <strong>TextMeshPro,</strong> and import this free asset package.</p>
<p>For this recipe, we have prepared the fonts that you need in a folder named Fonts &amp; Materials in the <kbd>01_08</kbd> folder.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To display a text message with sophisticated <strong>TextMeshPro</strong> visual styling, follow these steps:</p>
<ol>
<li>Create a new Unity 3D project.</li>
</ol>
<ol start="2">
<li>Add a new UI TextMeshPro <strong>Text</strong> GameObject in the scene – choose menu:<br/>
GameObject | UI | TextMeshPro <strong>– text</strong>. Name this GameObject Text-sophisticated.</li>
</ol>
<div><strong>TextMeshPro</strong> GameObjects do not have to be part of the UI Canvas. You can add a <strong>TextMeshPro</strong> GameObject to the Scene directly by choosing the Scene panel menu <strong>Create</strong> | <strong>3D Object</strong> | <strong>TextMeshPro – text</strong>.</div>
<ol start="3">
<li>Ensure that your new <strong>Text-sophisticated</strong> GameObject is selected in the Hierarchy panel. In the Inspector for the Rect Transform, click on the Anchor Presets square icon, hold down <em>Shift</em> + <em>Alt</em>, and click on the top and stretch rows.</li>
<li>Ensure the following properties are set:<br/>
<strong>Font Settings:</strong>
<ul>
<li>Font Asset set to <kbd>Anton SDF</kbd></li>
<li>Material Preset set to <kbd>Anton SDF - Outline</kbd></li>
<li>Font size <kbd>200</kbd></li>
<li>Alignment set to horizontal center</li>
</ul>
</li>
<li><strong>Face:</strong>
<ul>
<li>Color set to <kbd>white</kbd></li>
<li>Dilate set to <kbd>0</kbd></li>
</ul>
</li>
<li><strong>Outline:</strong>
<ul>
<li>Color set to <kbd>Red</kbd></li>
<li>Thickness set to <kbd>0.1</kbd></li>
</ul>
</li>
<li><strong>Underlay (shadow):</strong>
<ul>
<li>Offset X set to <kbd>1</kbd></li>
<li>Offset Y set to <kbd>-1</kbd></li>
<li>Dilate set to <kbd>1</kbd></li>
</ul>
</li>
</ol>
<p>The following screenshot shows the <strong>Inspector</strong> panel with these settings:</p>
<div><img src="img/d5109162-7213-412d-acd9-38ce3ff1a38b.png" style="width:39.17em;height:34.58em;"/></div>
<ol start="8">
<li>The <strong>Text-sophisticated</strong> GameObject will now appear as very large, with a white inner, red outline, and a drop shadow to the lower right.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p>You have added a new <strong>UI TextMeshPro Text</strong> GameObject to a scene. You chose one of the SDF fonts, and an outline material preset. You then adjusted settings for the face (inner part of each character), outline, and drop shadow (Underlay).</p>
<p>There are hundreds of settings for a <strong>TextMeshPro</strong> component, and therefore much experimentation may be required to achieve a particular effect.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p>Here are some more details you don't want to miss.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Rich Text substrings for colors, effects, and sprites</h1>
                
            
            
                
<p><strong>TextMeshPro</strong> offers over 30 HTML-style markups to substrings. The following code illustrates some, including the following:</p>
<pre>&lt;sprite=5&gt; inline sprite graphics 

&lt;smallcaps&gt;...&lt;/smallcaps&gt; small-caps and colors 

&lt;#ffa000&gt;...&lt;/color&gt; substring colors </pre>
<p>One powerful markup is the <kbd>&lt;page&gt;</kbd> tag, this allows a single set of text to be made interactive and presented to the user as a sequence of pages.</p>
<p>Learn more from the online manual Rich Text page at <a href="http://digitalnativestudios.com/textmeshpro/docs/rich-text/">http://digitalnativestudios.com/textmeshpro/docs/rich-text/</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Displaying an image</h1>
                
            
            
                
<p>There are many cases where we wish to display an image onscreen, including logos, maps, icons, and splash graphics. In this recipe, we will display an image centered at the top of the screen.</p>
<p>The following screenshot shows Unity displaying an image:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/724fabd6-99c5-493c-b156-1666187f7c89.png" style="width:19.00em;height:3.00em;"/></p>


            

            
        
    

        

                            
                    <h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>For this recipe, we have prepared the image that you need in a folder named <kbd>Images</kbd> in the <kbd>01_07</kbd> folder.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To display an image, follow these steps:</p>
<ol>
<li>Create a new Unity 2D project.</li>
<li>Set the Game panel to a 400 x 300 size. Do this by first displaying the <strong>Game</strong> panel, and then creating a new <strong>Resolution</strong> in the drop-down menu at the top of the panel. Click the plus symbol at the bottom of this menu, setting <strong>Label</strong> = <strong>Chapter 2</strong>, <strong>Width</strong> = <strong>400</strong>, and <strong>Height</strong> = <strong>300.</strong> Click <strong>OK</strong> and the <strong>Game</strong> panel should be set to this new resolution:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/dcb90848-9116-442a-9e6a-5f90667af272.png" style="width:19.00em;height:19.08em;"/></p>
<p>Alternatively, you can set the default <strong>Game</strong> panel resolution through menu <strong>Edit</strong> | <strong>Project Settings</strong> | <strong>Player</strong> and then the Resolution and Presentation width and height in the Inspector (having turned off the Full Screen option).</p>
<ol start="3">
<li>Import the provided <kbd>Images</kbd> folder. In the <strong>Inspector</strong> tab, ensure that the <kbd>unity_logo</kbd> image has the <strong>Texture Type</strong> set to <strong>Default</strong>. If it has some other type, then choose <strong>Default</strong> from the drop-down list, and click on the Apply button.</li>
<li>In the <strong>Hierarchy</strong> panel, add a UI | RawImage GameObject named <kbd>RawImage-logo</kbd> to the scene.</li>
</ol>
<ol start="5">
<li>Ensure that the <kbd>RawImage-logo</kbd> GameObject is selected in the <strong>Hierarchy</strong> panel. In the <strong>Inspector</strong> for the <strong>RawImage (Script)</strong> component, click the file viewer circle icon at the right side of the <strong>Texture</strong> property, and select <strong>image unity_logo</strong>, as shown in the following screenshot:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/36d8b75b-f8d6-4edb-96bd-51bd87260d48.png" style="width:31.50em;height:9.00em;"/></p>
<p>An alternative way of assigning this Texture is to drag the unity_logo image from your <strong>Project</strong> folder (Images) into the <strong>Raw Image (Script)</strong> public property <strong>Texture.</strong></p>
<ol start="6">
<li class="mce-root">Click on the <strong>Set Native Size</strong> button to resize the image so it is no longer stretched and distorted.</li>
<li class="mce-root">In <strong>Rect Transform,</strong> click on the <strong>Anchor Presets</strong> square icon, which will result in several rows and columns of preset position squares appearing. Hold down <em>Shift</em> + <em>Alt</em> and click on the top row and the center column.</li>
<li class="mce-root">The image will now be positioned neatly at the top of the <strong>Game</strong> panel, and will be horizontally centered.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">
How it works...</h1>
                
            
            
                
<p>You have ensured that an image has the <strong>Texture Type</strong> set to <strong>Default.</strong> You added a <strong>UI RawImage</strong> control to the scene. The <strong>RawImage</strong> control has been made to display the <kbd>unity_logo</kbd> image file.<br/>
The image has been positioned at the top-center of the <strong>Game</strong> panel.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p class="mce-root">There are some details you don't want to miss:</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Working with 2D Sprites and UI Image components</h1>
                
            
            
                
<p class="mce-root">If you simply wish to display non-animated images, then Texture images and <strong>UI RawImage</strong> controls are the way to go. However, if you want more options on how an image should be displayed (such as tiling, and animation), the UI Image control should be used instead. This control needs image files to be imported as the Sprite (2D and UI) type.</p>
<p class="mce-root">Once an image file has been dragged into the UI Image control's <strong>Sprite</strong> property, additional properties will be available, such as <strong>Image Type</strong>, and options to preserve the aspect ratio.</p>
<p class="mce-root">If you wish to prevent the distortion and stretching of a UI Sprite GameObject, then in the Inspector panel, check the <strong>Preserve Aspect</strong> option, in its <strong>Image (Script)</strong> component.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">See also</h1>
                
            
            
                
<p class="mce-root">An example of tiling a Sprite image can be found in the <em>Revealing icons for multiple object pickups by changing the size of a tiled image</em> recipe in <a href="c6ad221f-b476-4471-8259-9ad448749a32.xhtml" target="_blank">Chapter 3</a>, <em>Inventory UIs</em>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating UIs with the Fungus open source dialog system</h1>
                
            
            
                
<p class="mce-root">Rather than constructing your own UI and interactions from scratch each time, there are plenty of UI and dialogue systems available for Unity. One powerful, free, and open source dialog system is called Fungus, which uses a visual flowcharting approach to dialog design.</p>
<p class="mce-root CDPAlignLeft CDPAlign">In this recipe, we'll create a very simple, one-sentence dialogue, to illustrate the basics of Fungus. The following screenshot shows the Fungus-generated dialog for the sentence <strong>How are you today?</strong>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/f72f0e8f-6278-460c-ae85-0aa4c1af8ae5.png" style="width:13.50em;height:4.58em;"/></p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>To create a one-sentence dialog using <strong>Fungus</strong>, follow these steps:</p>
<ol>
<li class="mce-root">Create a new Unity 2D project.</li>
<li class="mce-root">Open the <strong>Asset Store</strong> panel, search for <strong>Fungus,</strong> and Import this free asset package (search for Fungus and free).</li>
<li class="mce-root">Create a new <strong>Fungus</strong> Flowchart GameObject by choosing menu: <strong>Tools</strong> | <strong>Fungus</strong> | <strong>Create</strong> | <strong>Flowchart.</strong></li>
<li class="mce-root">Display and dock the Fungus Flowchart window panel by choosing menu: <strong>Tools</strong> | <strong>Fungus</strong> | <strong>Flowchart Window.</strong></li>
<li class="mce-root">There will be one block in the <strong>Flowchart Window</strong>. Click on this block to select it (a green border appears around the block to indicate that it is selected). In the <strong>Inspector</strong> panel, change the <strong>Block Name</strong> of this block to Start:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/cbaa1b6c-bf56-45bd-914c-5690af28518e.png" style="width:24.75em;height:8.75em;"/></p>
<ol start="6">
<li class="mce-root"><strong>Each Block</strong> in a <strong>Flowchart</strong> follows a sequence of commands. So in the <strong>Inspector,</strong> we are now going to create a sequence of (Say) commands to display two sentences to the user when the game runs.</li>
<li class="mce-root">Ensure that the <strong>Start</strong> block is still selected in the <strong>Flowchart</strong> panel. Click on the plus (<strong>+</strong>) button at the bottom section of the <strong>Inspector</strong> panel to display the menu of <strong>Commands,</strong> and select the <strong>Narrative</strong> | Say <strong>command:</strong></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/399c705e-0666-47fa-9b50-99d5cfbe396b.png" style="width:18.83em;height:13.50em;"/></p>
<ol start="8">
<li class="mce-root">Since we only have one command for this block, that command will automatically be selected (highlighted green) in the top part of the <strong>Inspector.</strong> The bottom half of the Inspector presents the properties for the currently-selected <strong>Command,</strong> as shown in the following screenshot. In the bottom half of the Inspector, for the <strong>Story Text</strong> property, enter the text of the question that you wish to be presented to the user, which is <strong>How are you today?</strong>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/de5d0fac-6aaf-4bf3-ad4a-73364da2f1ab.png" style="width:20.17em;height:16.50em;"/></p>
<ol start="9">
<li class="mce-root">Create another <strong>Say Command</strong>, and type the following for its <strong>Story Text property</strong>: <strong>Very well thank you</strong>.</li>
<li class="mce-root">When you run the game, the user will first be presented with the <strong>How are you today?</strong> text (hearing a clicking noise as each letter is typed on screen). After the user clicks on the <strong>continue</strong> triangle button (at the bottom-right part of the dialog window), they will be presented with the second sentence: <strong>Very well thank you</strong>.</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p class="mce-root">You have created a new Unity project, and imported the <strong>Fungus</strong> asset package, which contains the <strong>Fungus Unity</strong> menus, windows, and commands, and also the example projects.</p>
<p class="mce-root">You have added a <strong>Fungus Flowchart</strong> to your scene with a single <strong>Block</strong> that you have named <strong>Start.</strong> Your block starts to execute when the game begins (since the default for the first block is to be executed upon receiving the Game Started event).</p>
<p class="mce-root">In the <strong>Start</strong> block, you added a sequence of two <strong>Say Commands</strong>. Each command presents a sentence to the user, and then waits for the continue button to be clicked before proceeding to the next <strong>Command.</strong></p>
<p class="mce-root">As can be seen, the <strong>Fungus</strong> system handles the work of creating a nicely-presented panel to the user, displaying the desired text and continue button. <strong>Fungus</strong> offers many more features, including menus, animations, and control of sounds and music, the details of which can be found in the next recipe, and by exploring their provided example projects, and their websites:</p>
<ul>
<li class="mce-root"><a href="http://fungusgames.com/" target="_blank">http://fungusgames.com/</a></li>
<li class="mce-root"><a href="https://github.com/FungusGames/Fungus" target="_blank">https://github.com/FungusGames/Fungus</a></li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating a Fungus character dialog with images</h1>
                
            
            
                
<p class="mce-root CDPAlignLeft CDPAlign">The <strong>Fungus</strong> dialog system introduced in the previous recipe supports multiple characters, whose dialogs can be highlighted through their names, colors, sound effects, and even portrait images. In this recipe, we'll create a two-character dialog between Sherlock Holmes and Watson to illustrate the system:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/d9b77b0f-a641-4f4a-a20e-4f9a63ab968b.png" style="width:36.58em;height:17.75em;"/></p>


            

            
        
    

        

                            
                    <h1 class="header-title">How to do it...</h1>
                
            
            
                
<p class="mce-root">To create a character dialog with portrait images using Fungus, follow these steps:</p>
<ol>
<li class="mce-root">Create a new Unity 2D project.</li>
<li class="mce-root">Open the <strong>Asset Store</strong> panel, and <strong>Import</strong> the <strong>Fungus</strong> dialogue asset package (this includes the <strong>Fungus</strong> Examples, whose images we’ll use for the two characters).</li>
<li class="mce-root">Create a new <strong>Fungus Flowchart</strong> GameObject by choosing menu: <strong>Tools</strong> | <strong>Fungus</strong> | <strong>Create</strong> | <strong>Flowchart.</strong></li>
<li class="mce-root">Display and dock the <strong>Fungus Flowchart</strong> window panel by choosing menu: <strong>Tools</strong> | <strong>Fungus</strong> | <strong>Flowchart Window.</strong></li>
<li class="mce-root">Change the name of the only <strong>Block</strong> in the <strong>Flowchart</strong> to The case of the missing violin.</li>
<li class="mce-root">Create a new Character by choosing menu: <strong>Tools</strong> | <strong>Fungus</strong> | <strong>Create</strong> | <strong>Character.</strong></li>
<li class="mce-root">You should now see a new <strong>Character</strong> GameObject in the <strong>Hierarchy</strong><strong>.</strong></li>
<li class="mce-root">With GameObject <strong>Character</strong> 1 – Sherlock selected in the <strong>Project</strong> panel, edit its properties in the Inspector:
<ul>
<li class="mce-root">Rename this GameObject <strong>Character</strong> 1 – <strong>Sherlock.</strong></li>
<li class="mce-root">In its <strong>Character(Script)</strong> component, set the <strong>Name Text</strong> to <strong>Sherlock</strong> and the <strong>Name Color</strong> to green.</li>
<li class="mce-root">In the <strong>Inspector,</strong> click the <strong>Add Portrait</strong> button (the plus sign "<strong>+</strong>"), to get a "slot" into which to add a portrait image.</li>
<li>Drag the appropriate image into your new portrait image slot (in this screenshot, we used the "confident" image from the Sherlock example project: <strong>Fungus Examples</strong> | <strong>Sherlock</strong> | <strong>Portraits</strong> | <strong>Sherlock):</strong></li>
</ul>
</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/df6f6ee2-6ec6-43d7-912c-9615e7586bbb.png" style="width:18.58em;height:11.92em;"/></p>
<ol start="9">
<li>Repeat steps 6-8 above to create a second character, John, using <strong>Name Color</strong> = blue, and <strong>Portrait Image</strong> = annoyed.</li>
<li>Select your <strong>Block</strong> in the <strong>Fungus Flowchart,</strong> so you can add some <strong>Commands</strong> to be executed.</li>
<li>Create a <strong>Say</strong> command, for <strong>Character 1 - Sherlock</strong>, saying Watson, have you seen my violin? and choose the <strong>confident</strong> portrait (since this is the only one we added to the character):</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/5ac06adc-4300-464b-aaf5-d2b0b97b43b3.png" style="width:18.25em;height:8.92em;"/></p>
<ol start="12">
<li class="mce-root">Add a second <strong>Say</strong> command, this time for <strong>Character 2 – John</strong>, saying No, why don't you find it yourself using your amazing powers of deduction.. and choose the <strong>annoyed</strong> portrait:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="img/39ecda34-c9c7-4b93-acb5-2eddb5501710.png" style="width:37.33em;height:5.50em;"/></p>
<ol start="13">
<li class="mce-root">Run the scene you should see a sequence of statements, clearly showing who is saying both with (colored) name text <strong>AND</strong> the portrait image you selected for each Say command (after Sherlock’s text has finished appearing, click the box to start John’s sentence).</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">How it works...</h1>
                
            
            
                
<p class="mce-root">You have created a new Unity project with the <strong>Fungus</strong> asset package.</p>
<p class="mce-root">You have added a <strong>Fungus Flowchart</strong> to your scene, and also added two characters (each with a text color and a portrait image).<br/>
For the <strong>Block</strong> in the <strong>Flowchart,</strong> you added to <strong>Say</strong> commands, stating which character was saying each sentence, and which portrait to use (if you had added more portrait images, you could select different images to indicate the emotion of the character speaking).</p>


            

            
        
    

        

                            
                    <h1 class="header-title">There's more...</h1>
                
            
            
                
<p class="mce-root">There are some details you don't want to miss.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Data-driven conversations</h1>
                
            
            
                
<p class="mce-root">Fungus offers a data-driven approach to conversations. The character and portrait (and facing direction, and movement onto-off the stage, and so on) can be defined through text in a simple format, using the Say command’s <strong>Narrative</strong> | <strong>Conversation</strong> option. This recipe’s conversation with portrait images can be declared with just two lines of text in a <strong>Conversation:</strong></p>
<pre class="mce-root">Sherlock confident: Watson, have you seen my violin?<br/>John annoyed: No, why don't you find it yourself using your amazing powers of deduction...</pre>
<p class="mce-root">Learn more about the Fungus conversation system on their documentation pages: <a href="http://fungusdocs.snozbot.com/conversation_system.html">http://fungusdocs.snozbot.com/conversation_system.html</a>.</p>


            

            
        
    </body></html>