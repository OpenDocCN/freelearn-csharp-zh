<html><head></head><body>
<div id="_idContainer066">
<h1 class="chapter-number" id="_idParaDest-232"><a id="_idTextAnchor244"/><span class="koboSpan" id="kobo.1.1">11</span></h1>
<h1 id="_idParaDest-233"><a id="_idTextAnchor245"/><span class="koboSpan" id="kobo.2.1">Appendix</span></h1>
<p><span class="koboSpan" id="kobo.3.1">When writing code, every language has its nuances and standards. </span><span class="koboSpan" id="kobo.3.2">.NET is no different when it comes to general guidelines. </span><span class="koboSpan" id="kobo.3.3">One example is that placing a bracket at the end of a method signature is better than placing the bracket on the next line or placing a return immediately on the same line as an </span><strong class="source-inline"><span class="koboSpan" id="kobo.4.1">if</span></strong><span class="koboSpan" id="kobo.5.1"> statement. </span><span class="koboSpan" id="kobo.5.2">This is more of a personal preference. </span><span class="koboSpan" id="kobo.5.3">Programming guidelines give developers a way to stay between guardrails while writing code. </span><span class="koboSpan" id="kobo.5.4">These programming guidelines are used throughout the industry as </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">standard practices.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">In the appendix, we’re going to cover the following </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">main topics:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.9.1">Programming guidelines</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.10.1">Project structure</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.11.1">The guidelines discussed in the following sections are commonly used in the industry. </span><span class="koboSpan" id="kobo.11.2">They give developers direction and provide guardrails as to how one should structure and write code not only for themselves, but also for other developers and peers in the future (including our </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">future selves).</span></span></p>
<p><span class="koboSpan" id="kobo.13.1">In the first section, we’ll review some programming guidelines such as the DRY, YAGNI, and KISS principles, along with separation of concerns, the concept of SOLID, and how refactoring is a process and not a one-time quick fix. </span><span class="koboSpan" id="kobo.13.2">We’ll finish the appendix by looking at recommended ways of organizing .NET projects and folder structures, and where code resides based on </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">their function.</span></span></p>
<h1 id="_idParaDest-234"><a id="_idTextAnchor246"/><span class="koboSpan" id="kobo.15.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.16.1">The only technical requirement for the appendix is access to your editor since we’ll be covering general programming guidelines. </span><span class="koboSpan" id="kobo.16.2">While we will have snippets of code along the way, they don’t justify their own code repository. </span><span class="koboSpan" id="kobo.16.3">They’re only meant to solidify the understanding of </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">the concepts.</span></span></p>
<h1 id="_idParaDest-235"><a id="_idTextAnchor247"/><span class="koboSpan" id="kobo.18.1">Programming guidelines</span></h1>
<p><span class="koboSpan" id="kobo.19.1">Throughout the book, I recommend </span><a id="_idIndexMarker664"/><span class="koboSpan" id="kobo.20.1">various intermediate and advanced techniques of writing code pertaining to a particular topic or technology. </span><span class="koboSpan" id="kobo.20.2">While these techniques are meant to give developers a balance between requirements and technologies, there is also a need to provide common programming guidelines to follow certain patterns, making it easier for colleagues and peers to understand a code base. </span><span class="koboSpan" id="kobo.20.3">Successful developers think about these guidelines while writing and </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">maintaining code.</span></span></p>
<p><span class="koboSpan" id="kobo.22.1">In this section, we’ll review the DRY, YAGNI, KISS, and SOLID principles along with understanding separation of concerns, and how refactoring is </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">a process.</span></span></p>
<h2 id="_idParaDest-236"><a id="_idTextAnchor248"/><span class="koboSpan" id="kobo.24.1">DRY</span></h2>
<p><span class="koboSpan" id="kobo.25.1">The first acronym </span><a id="_idIndexMarker665"/><span class="koboSpan" id="kobo.26.1">we’ll review is probably one of the simplest</span><a id="_idIndexMarker666"/><span class="koboSpan" id="kobo.27.1"> guidelines to follow. </span><span class="koboSpan" id="kobo.27.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.28.1">DRY</span></strong><span class="koboSpan" id="kobo.29.1"> principle stands for </span><strong class="bold"><span class="koboSpan" id="kobo.30.1">don’t </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.31.1">repeat yourself</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.32.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.33.1">If you have multiple methods performing the same task in different locations of your application, it may be time to refactor and consolidate </span><span class="No-Break"><span class="koboSpan" id="kobo.34.1">the code.</span></span></p>
<h2 id="_idParaDest-237"><a id="_idTextAnchor249"/><span class="koboSpan" id="kobo.35.1">YAGNI</span></h2>
<p><span class="koboSpan" id="kobo.36.1">Our next </span><a id="_idIndexMarker667"/><span class="koboSpan" id="kobo.37.1">common acronym is </span><strong class="bold"><span class="koboSpan" id="kobo.38.1">YAGNI</span></strong><span class="koboSpan" id="kobo.39.1"> (pronounced</span><a id="_idIndexMarker668"/><span class="koboSpan" id="kobo.40.1"> yag-nee), which stands for </span><strong class="bold"><span class="koboSpan" id="kobo.41.1">you aren’t gonna </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.42.1">need it</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.44.1">Also referred to as “building the bridge to nowhere,” the concept behind this acronym is to let developers know they should only write code when there is a requirement for it. </span><span class="koboSpan" id="kobo.44.2">They shouldn’t add code for a possible future enhancement that may not come </span><span class="No-Break"><span class="koboSpan" id="kobo.45.1">to fruition.</span></span></p>
<h2 id="_idParaDest-238"><a id="_idTextAnchor250"/><span class="koboSpan" id="kobo.46.1">KISS</span></h2>
<p><span class="koboSpan" id="kobo.47.1">Since this next</span><a id="_idIndexMarker669"/><span class="koboSpan" id="kobo.48.1"> acronym has so many meanings, we’ll try to</span><a id="_idIndexMarker670"/><span class="koboSpan" id="kobo.49.1"> keep it simple (hence the name). </span><strong class="bold"><span class="koboSpan" id="kobo.50.1">KISS</span></strong><span class="koboSpan" id="kobo.51.1"> stands for </span><strong class="bold"><span class="koboSpan" id="kobo.52.1">keep it </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.53.1">simple, stupid</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.54.1">.</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.55.1">
Albert Einstein mentioned "Make everything as simple as possible, but not simpler," and Steve Jobs of Apple always said, "Simplify."</span></pre> <p><span class="koboSpan" id="kobo.56.1">Keep your units of code simple enough to understand. </span><span class="koboSpan" id="kobo.56.2">This can include </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.58.1">Smaller methods</span></strong><span class="koboSpan" id="kobo.59.1"> – The smaller the method, the easier it is to read </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">and understand</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.61.1">Language enhancements</span></strong><span class="koboSpan" id="kobo.62.1"> – Based on .NET’s C# language improvements over the years, there may be a better (and shorter) way to </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">write code</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.64.1">Reducing complexity</span></strong><span class="koboSpan" id="kobo.65.1"> – When reducing complexity, systems become more testable </span><a id="_idIndexMarker671"/><span class="koboSpan" id="kobo.66.1">and can be a possible candidate for </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">automated</span></span><span class="No-Break"><a id="_idIndexMarker672"/></span><span class="No-Break"><span class="koboSpan" id="kobo.68.1"> testing</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.69.1">The goal is to build more value by creating a better code base for peers </span><span class="No-Break"><span class="koboSpan" id="kobo.70.1">and colleagues.</span></span></p>
<h2 id="_idParaDest-239"><a id="_idTextAnchor251"/><span class="koboSpan" id="kobo.71.1">Separation of concerns</span></h2>
<p><span class="koboSpan" id="kobo.72.1">When you started </span><a id="_idIndexMarker673"/><span class="koboSpan" id="kobo.73.1">writing your own application, running it and seeing it execute on the screen for the first time was a </span><span class="No-Break"><span class="koboSpan" id="kobo.74.1">huge achievement.</span></span></p>
<p><span class="koboSpan" id="kobo.75.1">Over time, the application required a database. </span><span class="koboSpan" id="kobo.75.2">Then it required email capabilities. </span><span class="koboSpan" id="kobo.75.3">Then logging. </span><span class="koboSpan" id="kobo.75.4">Then authentication. </span><span class="koboSpan" id="kobo.75.5">The requirements grew and so on and </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">so on.</span></span></p>
<p><span class="koboSpan" id="kobo.77.1">The separation of concerns concept pertains to how you logically partition an application into distinct layers. </span><span class="koboSpan" id="kobo.77.2">For example, if an application requires an email module, it would be a separate project in the solution called </span><strong class="source-inline"><span class="koboSpan" id="kobo.78.1">MyApplication.EmailModule</span></strong><span class="koboSpan" id="kobo.79.1">. </span><span class="koboSpan" id="kobo.79.2">This email module would provide the following benefits to </span><span class="No-Break"><span class="koboSpan" id="kobo.80.1">the application:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.81.1">Modularization</span></strong><span class="koboSpan" id="kobo.82.1"> – </span><strong class="source-inline"><span class="koboSpan" id="kobo.83.1">EmailModule</span></strong><span class="koboSpan" id="kobo.84.1"> could be reused in another application </span><span class="No-Break"><span class="koboSpan" id="kobo.85.1">if necessary.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.86.1">Encapsulation</span></strong><span class="koboSpan" id="kobo.87.1"> – </span><strong class="source-inline"><span class="koboSpan" id="kobo.88.1">EmailModule</span></strong><span class="koboSpan" id="kobo.89.1"> doesn’t require any outside dependencies; </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">it’s self-contained.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.91.1">Testable</span></strong><span class="koboSpan" id="kobo.92.1"> – If everything is contained inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.93.1">EmailModule</span></strong><span class="koboSpan" id="kobo.94.1">, unit testing (and possibly integration testing) </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">becomes easier.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.96.1">Maintainability</span></strong><span class="koboSpan" id="kobo.97.1"> – This allows developers to focus only on </span><strong class="source-inline"><span class="koboSpan" id="kobo.98.1">EmailModule</span></strong><span class="koboSpan" id="kobo.99.1"> as opposed to the entire application. </span><span class="koboSpan" id="kobo.99.2">When focusing on one particular section, it doesn’t require the knowledge of the entire application. </span><span class="koboSpan" id="kobo.99.3">The knowledge of the project is all </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">that’s required.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.101.1">One of the concepts heard in the industry is “Big Ball of Mud.” </span><span class="koboSpan" id="kobo.101.2">This concept pertains to all of the application code contained in one project, which is an unmaintainable code base. </span><span class="koboSpan" id="kobo.101.3">This is a similar concept to a “monolith,” where the application is hard to maintain because of its size. </span><span class="koboSpan" id="kobo.101.4">Consequently, concepts in the application aren’t broken out into modular units of work. </span><span class="koboSpan" id="kobo.101.5">If everything in the application is coupled together…everywhere, the system is brittle. </span><span class="koboSpan" id="kobo.101.6">If a developer modifies code in one location, it may fix the current issue but it will introduce errors in other locations, causing a ripple effect throughout the entire </span><span class="No-Break"><span class="koboSpan" id="kobo.102.1">code base.</span></span></p>
<p><span class="koboSpan" id="kobo.103.1">Separation of </span><a id="_idIndexMarker674"/><span class="koboSpan" id="kobo.104.1">concerns is something that experienced developers should share with their peers through code reviews to improve software on a larger scale and provide healthy discussions on </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">the topic.</span></span></p>
<h2 id="_idParaDest-240"><a id="_idTextAnchor252"/><span class="koboSpan" id="kobo.106.1">Refactoring as a process</span></h2>
<p><span class="koboSpan" id="kobo.107.1">While refactoring is a</span><a id="_idIndexMarker675"/><span class="koboSpan" id="kobo.108.1"> fundamental concept for developers, there are various levels of effort involved in refactoring a </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">code base.</span></span></p>
<p><span class="koboSpan" id="kobo.110.1">One simple example could be the renaming of a method. </span><span class="koboSpan" id="kobo.110.2">Once a developer renames a method, the developer has to change all of the references to that method in the code base. </span><span class="koboSpan" id="kobo.110.3">A more advanced example is the refactoring of a business rules engine to create more flexibility. </span><span class="koboSpan" id="kobo.110.4">While both are refactoring, one is easier than </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">the other.</span></span></p>
<p><span class="koboSpan" id="kobo.112.1">Refactoring should be a process. </span><span class="koboSpan" id="kobo.112.2">One process I’ve used over the years is </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">as follows:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.114.1">Get it functional</span></strong><span class="koboSpan" id="kobo.115.1"> – Write functional code </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">that works</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.117.1">Get it tested</span></strong><span class="koboSpan" id="kobo.118.1"> – Create tests to confirm the code behaves </span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">as expected</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.120.1">Get it refactored</span></strong><span class="koboSpan" id="kobo.121.1"> – Refactor and optimize </span><span class="No-Break"><span class="koboSpan" id="kobo.122.1">the code</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.123.1">The code you write should (usually) have tests (see the “100% Test Coverage” myth in </span><a href="B19493_07.xhtml#_idTextAnchor163"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.124.1">Chapter 7</span></em></span></a><span class="No-Break"><span class="koboSpan" id="kobo.125.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.126.1">With that said, if you’re going to refactor code, </span><em class="italic"><span class="koboSpan" id="kobo.127.1">it will be beneficial to have tests in place</span></em><span class="koboSpan" id="kobo.128.1"> to confirm your refactoring efforts aren’t in vain. </span><span class="koboSpan" id="kobo.128.2">Once you have tests in place, you are free to refactor and modify as much code as needed to achieve your </span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">intended goal.</span></span></p>
<p><span class="koboSpan" id="kobo.130.1">The business rules engine was an example in my career where the code was functional and a lot of tests were in place (~700 passed). </span><span class="koboSpan" id="kobo.130.2">However, the team ran into an issue where the code required a more flexible approach and it had to be refactored. </span><span class="koboSpan" id="kobo.130.3">Two team members took three days to refactor the code. </span><span class="koboSpan" id="kobo.130.4">Once they finished the refactoring, they ran the final unit tests and found only two failed unit tests. </span><span class="koboSpan" id="kobo.130.5">The two failed unit tests were because they didn’t rename a method name properly. </span><span class="koboSpan" id="kobo.130.6">Imagine this refactoring without </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">the tests.</span></span></p>
<p><span class="koboSpan" id="kobo.132.1">Refactoring can be as complex or as simple as the code base allows. </span><span class="koboSpan" id="kobo.132.2">Always keep in mind that refactoring is a multi-step process and requires tests to confirm the refactored </span><a id="_idIndexMarker676"/><span class="koboSpan" id="kobo.133.1">code works </span><span class="No-Break"><span class="koboSpan" id="kobo.134.1">as expected.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.135.1">Book recommendation</span></p>
<p class="callout"><span class="koboSpan" id="kobo.136.1">One book I would highly recommend is </span><em class="italic"><span class="koboSpan" id="kobo.137.1">Refactoring with C#, Matt Eland, Packt Publishing</span></em><span class="koboSpan" id="kobo.138.1">, available </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">at </span></span><a href="https://www.packtpub.com/"><span class="No-Break"><span class="koboSpan" id="kobo.140.1">https://www.packtpub.com/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.141.1">.</span></span></p>
<h2 id="_idParaDest-241"><a id="_idTextAnchor253"/><span class="koboSpan" id="kobo.142.1">SOLID principles</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.143.1">SOLID</span></strong><span class="koboSpan" id="kobo.144.1"> principles </span><a id="_idIndexMarker677"/><span class="koboSpan" id="kobo.145.1">provide even deeper guidelines for </span><a id="_idIndexMarker678"/><span class="koboSpan" id="kobo.146.1">writing code. </span><span class="koboSpan" id="kobo.146.2">SOLID is an acronym and was created back in 2000 by Robert </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">C. </span><span class="koboSpan" id="kobo.147.2">Martin.</span></span></p>
<p><span class="koboSpan" id="kobo.148.1">Over the years, the SOLID principles have become a standard for writing quality software, and give developers a way to gauge their code based on whether it meets each principle’s criteria. </span><span class="koboSpan" id="kobo.148.2">Developers may disagree with what constitutes SOLID code, but again, these discussions should be had with peers or in a </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">team meeting.</span></span></p>
<h3><span class="koboSpan" id="kobo.150.1">Single responsibility principle</span></h3>
<p><span class="koboSpan" id="kobo.151.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.152.1">single responsibility principle</span></strong><span class="koboSpan" id="kobo.153.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.154.1">SRP</span></strong><span class="koboSpan" id="kobo.155.1">) dictates</span><a id="_idIndexMarker679"/><span class="koboSpan" id="kobo.156.1"> that </span><a id="_idIndexMarker680"/><span class="koboSpan" id="kobo.157.1">a class should have one and only one reason </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">to change.</span></span></p>
<p><span class="koboSpan" id="kobo.159.1">The following code violates </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">the SRP:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.161.1">
public class User
{
    public string Name { get; set; }
    public string Email { get; set; }
    public bool IsValid()
    {
        // Validate the user data here
        if (string.IsNullOrEmpty(Name) || string.IsNullOrEmpty(Email))
        {
            return false;
        }
        return true;
    }
    public void Save()
    {
        // Save user data to database here
    }
}</span></pre> <p><span class="koboSpan" id="kobo.162.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.163.1">User</span></strong><span class="koboSpan" id="kobo.164.1"> class</span><a id="_idIndexMarker681"/><span class="koboSpan" id="kobo.165.1"> has</span><a id="_idIndexMarker682"/><span class="koboSpan" id="kobo.166.1"> two properties: </span><strong class="source-inline"><span class="koboSpan" id="kobo.167.1">Name</span></strong><span class="koboSpan" id="kobo.168.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">Email</span></strong><span class="koboSpan" id="kobo.170.1">. </span><span class="koboSpan" id="kobo.170.2">However, we have extra methods performing other responsibilities: an </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">IsValid()</span></strong><span class="koboSpan" id="kobo.172.1"> method and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.173.1">Save()</span></strong><span class="koboSpan" id="kobo.174.1"> method. </span><span class="koboSpan" id="kobo.174.2">Our </span><strong class="source-inline"><span class="koboSpan" id="kobo.175.1">User</span></strong><span class="koboSpan" id="kobo.176.1"> class is doing more than it should. </span><span class="koboSpan" id="kobo.176.2">We should create two new classes: one called </span><strong class="source-inline"><span class="koboSpan" id="kobo.177.1">UserValidation</span></strong><span class="koboSpan" id="kobo.178.1"> for validation, and one called </span><strong class="source-inline"><span class="koboSpan" id="kobo.179.1">UserService</span></strong><span class="koboSpan" id="kobo.180.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">UserRepository</span></strong><span class="koboSpan" id="kobo.182.1"> for </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">database operations.</span></span></p>
<p><span class="koboSpan" id="kobo.184.1">We created two additional classes but provided better software composition. </span><span class="koboSpan" id="kobo.184.2">If we add a new property to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.185.1">User</span></strong><span class="koboSpan" id="kobo.186.1"> class and it requires validation, the developer only needs to make a change in one place: the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.187.1">UserValidation</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.188.1"> class.</span></span></p>
<h3><span class="koboSpan" id="kobo.189.1">Open/closed</span></h3>
<p><span class="koboSpan" id="kobo.190.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.191.1">open/closed principle</span></strong><span class="koboSpan" id="kobo.192.1"> describes</span><a id="_idIndexMarker683"/><span class="koboSpan" id="kobo.193.1"> how software </span><a id="_idIndexMarker684"/><span class="koboSpan" id="kobo.194.1">components should be open for extension but closed </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">for modification.</span></span></p>
<p><span class="koboSpan" id="kobo.196.1">Most violations of the open/closed principle are usually indicated by long branching statements (such</span><a id="_idTextAnchor254"/><span class="koboSpan" id="kobo.197.1"> as long </span><strong class="source-inline"><span class="koboSpan" id="kobo.198.1">if..then</span></strong><span class="koboSpan" id="kobo.199.1"> or </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.200.1">switch</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.201.1"> statements).</span></span></p>
<p><span class="koboSpan" id="kobo.202.1">The following code provides </span><span class="No-Break"><span class="koboSpan" id="kobo.203.1">an example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.204.1">
public class ComicBook
{
    public string Title { get; set; } = string.Empty;
    public string Issue { get; set; } = string.Empty;
    public decimal Grading { get; set; }
    public string GetGradeName() =&gt;
        Grading switch
        {
            10.0m =&gt; "Gem Mint", 
            9.9m =&gt; "Mint", 
            9.8m =&gt; "NM/M", 
            &gt;= 9.6m =&gt; "NM+", 
            &gt;= 9.4m =&gt; "NM", 
            &gt;= 9.2m =&gt; "NM-", 
            &gt;= 9.0m =&gt; "VF/NM", 
            &gt;= 8.5m =&gt; "VF+", 
            &gt;= 8.0m =&gt; "VF", 
            &gt;= 7.5m =&gt; "VF-", 
            &gt;= 7.0m =&gt; "FN/VF", 
            &gt;= 6.5m =&gt; "FN+", 
            &gt;= 6.0m =&gt; "FN", 
            &gt;= 5.5m =&gt; "FN-", 
            &gt;= 5.0m =&gt; "VG/FN", 
            &gt;= 4.5m =&gt; "VG+", 
            &gt;= 4.0m =&gt; "VG", 
            &gt;= 3.5m =&gt; "VG-", 
            &gt;= 3.0m =&gt; "G/VG", 
            &gt;= 2.0m =&gt; "G", 
            &gt;= 1.8m =&gt; "G-", 
            &gt;= 1.5m =&gt; "Fa/G", 
            &gt;= 1.0m =&gt; "Fa", 
            _ =&gt; "Poor"
        };
}</span></pre> <p><span class="koboSpan" id="kobo.205.1">In this </span><strong class="source-inline"><span class="koboSpan" id="kobo.206.1">ComicBook</span></strong><span class="koboSpan" id="kobo.207.1"> class, we have three properties called </span><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">Title</span></strong><span class="koboSpan" id="kobo.209.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.210.1">Issue</span></strong><span class="koboSpan" id="kobo.211.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.212.1">Grading</span></strong><span class="koboSpan" id="kobo.213.1">. </span><span class="koboSpan" id="kobo.213.2">One of the requirements for our class is to return the grading name based on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.214.1">Grading</span></strong><span class="koboSpan" id="kobo.215.1"> property. </span><span class="koboSpan" id="kobo.215.2">This </span><a id="_idIndexMarker685"/><span class="koboSpan" id="kobo.216.1">violates the </span><span class="No-Break"><span class="koboSpan" id="kobo.217.1">open/closed </span></span><span class="No-Break"><a id="_idIndexMarker686"/></span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">principle.</span></span></p>
<p><span class="koboSpan" id="kobo.219.1">Why? </span><span class="koboSpan" id="kobo.219.2">Even though we already have the complete list of grades, the </span><strong class="bold"><span class="koboSpan" id="kobo.220.1">Certified Guaranty Company</span></strong><span class="koboSpan" id="kobo.221.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.222.1">CGC</span></strong><span class="koboSpan" id="kobo.223.1">) may </span><a id="_idIndexMarker687"/><span class="koboSpan" id="kobo.224.1">rename the grading name in the future to something else. </span><span class="koboSpan" id="kobo.224.2">If we wanted to add a new grade name, we would have to go into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.225.1">GetGradeName()</span></strong><span class="koboSpan" id="kobo.226.1"> method and add a new grade </span><span class="No-Break"><span class="koboSpan" id="kobo.227.1">and name.</span></span></p>
<p><span class="koboSpan" id="kobo.228.1">A better implementation to support the open/closed principle is </span><span class="No-Break"><span class="koboSpan" id="kobo.229.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.230.1">
public class Grade
{
    public decimal Value { get; }
    public string Name { get; }
    private Grade(decimal value, string name)
    {
        Value = value;
        Name = name;
    }
    public static Grade FromDecimal(decimal value) =&gt;
        value switch
        {
            10.0m =&gt; new Grade(value, "Gem Mint"),
            9.9m =&gt; new Grade(value, "Mint"),
            9.8m =&gt; new Grade(value, "NM/M"),
            &gt;= 9.6m =&gt; new Grade(value, "NM+"),
            &gt;= 9.4m =&gt; new Grade(value, "NM"),
            &gt;= 9.2m =&gt; new Grade(value, "NM-"),
            &gt;= 9.0m =&gt; new Grade(value, "VF/NM"),
            &gt;= 8.5m =&gt; new Grade(value, "VF+"),
            &gt;= 8.0m =&gt; new Grade(value, "VF"),
            &gt;= 7.5m =&gt; new Grade(value, "VF-"),
            &gt;= 7.0m =&gt; new Grade(value, "FN/VF"),
            &gt;= 6.5m =&gt; new Grade(value, "FN+"),
            &gt;= 6.0m =&gt; new Grade(value, "FN"),
            &gt;= 5.5m =&gt; new Grade(value, "FN-"),
            &gt;= 5.0m =&gt; new Grade(value, "VG/FN"),
            &gt;= 4.5m =&gt; new Grade(value, "VG+"),
            &gt;= 4.0m =&gt; new Grade(value, "VG"),
            &gt;= 3.5m =&gt; new Grade(value, "VG-"),
            &gt;= 3.0m =&gt; new Grade(value, "G/VG"),
            &gt;= 2.0m =&gt; new Grade(value, "G"),
            &gt;= 1.8m =&gt; new Grade(value, "G-"),
            &gt;= 1.5m =&gt; new Grade(value, "Fa/G"),
            &gt;= 1.0m =&gt; new Grade(value, "Fa"),
            _ =&gt; new Grade(value, "Poor")
        };
}
public class ComicBook
{
    public string Title { get; set; } = string.Empty;
    public string Issue { get; set; } = string.Empty;
    public Grade Grading { get; set; }
}</span></pre> <p><span class="koboSpan" id="kobo.231.1">While it looks like we simply moved the </span><strong class="source-inline"><span class="koboSpan" id="kobo.232.1">switch</span></strong><span class="koboSpan" id="kobo.233.1"> statement, we did something else. </span><span class="koboSpan" id="kobo.233.2">We created a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.234.1">Grade</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.235.1"> class.</span></span></p>
<p><span class="koboSpan" id="kobo.236.1">With a </span><strong class="source-inline"><span class="koboSpan" id="kobo.237.1">Grade</span></strong><span class="koboSpan" id="kobo.238.1"> class created, we can assign any type of grade to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.239.1">ComicBook</span></strong><span class="koboSpan" id="kobo.240.1"> class. </span><span class="koboSpan" id="kobo.240.2">If a new grade type is created, we can easily add it to our list without modifying the </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">ComicBook</span></strong><span class="koboSpan" id="kobo.242.1"> class. </span><span class="koboSpan" id="kobo.242.2">We also implemented a factory pattern in </span><span class="No-Break"><span class="koboSpan" id="kobo.243.1">our code.</span></span></p>
<p><span class="koboSpan" id="kobo.244.1">Before, we </span><a id="_idIndexMarker688"/><span class="koboSpan" id="kobo.245.1">were</span><a id="_idIndexMarker689"/><span class="koboSpan" id="kobo.246.1"> comparing a string based on a decimal value. </span><span class="koboSpan" id="kobo.246.2">Now, if additional properties are required for a grade, we can extend our </span><strong class="source-inline"><span class="koboSpan" id="kobo.247.1">Grade</span></strong><span class="koboSpan" id="kobo.248.1"> class to include </span><span class="No-Break"><span class="koboSpan" id="kobo.249.1">more information.</span></span></p>
<p><span class="koboSpan" id="kobo.250.1">Open for extension, closed </span><span class="No-Break"><span class="koboSpan" id="kobo.251.1">to modification.</span></span></p>
<h3><span class="koboSpan" id="kobo.252.1">Liskov substitution</span></h3>
<p><span class="koboSpan" id="kobo.253.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.254.1">Liskov substitution principle</span></strong><span class="koboSpan" id="kobo.255.1"> explains</span><a id="_idIndexMarker690"/><span class="koboSpan" id="kobo.256.1"> that any</span><a id="_idIndexMarker691"/><span class="koboSpan" id="kobo.257.1"> derived type can be replaced with its base types. </span><span class="koboSpan" id="kobo.257.2">The concept behind the Liskov substitution is based on inherited types </span><span class="No-Break"><span class="koboSpan" id="kobo.258.1">and/or interfaces.</span></span></p>
<p><span class="koboSpan" id="kobo.259.1">To continue with our comic book example, the following code shows a simple </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">BasePublisher</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.261.1"> class:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.262.1">
public class MyNewPublisher : BasePublisher
{
    public MyNewPublisher(): base(nameof(MyNewPublisher)) { }
}
public class BasePublisher
{
    public string Name { get; set; }
    protected BasePublisher(string name)
    {
        Name = name;
    }
    public Address GetAddress()
    {
        return Address.Empty;
    }
}
public class Address
{
    public static Address Empty =&gt; new();
    public string Address1 { get; set; } = string.Empty;
    public string Address2 { get; set; } = string.Empty;
    public string City { get; set; } = string.Empty;
    public string State { get; set; } = string.Empty;
    public string ZipCode { get; set; } = string.Empty;
}</span></pre> <p><span class="koboSpan" id="kobo.263.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.264.1">BasePublisher</span></strong><span class="koboSpan" id="kobo.265.1"> class contains the name and address of a publisher. </span><span class="koboSpan" id="kobo.265.2">When we create a new publisher (such as the preceding </span><strong class="source-inline"><span class="koboSpan" id="kobo.266.1">MyNewPublisher</span></strong><span class="koboSpan" id="kobo.267.1"> class), we’ll have access to everything available in the </span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">base class.</span></span></p>
<p><span class="koboSpan" id="kobo.269.1">The ability </span><a id="_idIndexMarker692"/><span class="koboSpan" id="kobo.270.1">to</span><a id="_idIndexMarker693"/><span class="koboSpan" id="kobo.271.1"> replace a </span><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">BasePublisher</span></strong><span class="koboSpan" id="kobo.273.1"> class with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.274.1">MyNewPublisher</span></strong><span class="koboSpan" id="kobo.275.1"> class would be an example of the Liskov </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">substitution principle.</span></span></p>
<h3><span class="koboSpan" id="kobo.277.1">Interface segregation</span></h3>
<p><span class="koboSpan" id="kobo.278.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.279.1">interface segregation principle</span></strong><span class="koboSpan" id="kobo.280.1"> explains</span><a id="_idIndexMarker694"/><span class="koboSpan" id="kobo.281.1"> that clients</span><a id="_idIndexMarker695"/><span class="koboSpan" id="kobo.282.1"> shouldn’t be forced to implement unnecessary methods they </span><span class="No-Break"><span class="koboSpan" id="kobo.283.1">won’t use.</span></span></p>
<p><span class="koboSpan" id="kobo.284.1">With every interface created in an application, each method and property defined should be implemented in a concrete class. </span><span class="koboSpan" id="kobo.284.2">The defined interfaces should not go to waste in </span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">an implementation.</span></span></p>
<p><span class="koboSpan" id="kobo.286.1">For example, let’s say we have an interface for our </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">ComicBook</span></strong><span class="koboSpan" id="kobo.288.1"> class. </span><span class="koboSpan" id="kobo.288.2">The interface and implementation code are listed </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.290.1">
public interface IComicBook
{
    string Title { get; set; }
    string Issue { get; set; }
    string Publisher { get; set; }
    void SaveToDatabase();
}
public class ComicBook : IComicBook
{
    public string Title { get; set; }
    public string Issue { get; set; }
    public string Publisher { get; set; }
    public void SaveToDatabase()
    {
        throw new NotImplementedException();
    }
}</span></pre> <p><span class="koboSpan" id="kobo.291.1">Everything in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.292.1">ComicBook</span></strong><span class="koboSpan" id="kobo.293.1"> class is justified except for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.294.1">SaveToDatabase()</span></strong><span class="koboSpan" id="kobo.295.1"> method. </span><span class="koboSpan" id="kobo.295.2">Creating a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.296.1">ComicBook</span></strong><span class="koboSpan" id="kobo.297.1"> instance suggests we’ll be using the database every time. </span><span class="koboSpan" id="kobo.297.2">This violates the interface </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">segregation principle.</span></span></p>
<p><span class="koboSpan" id="kobo.299.1">A better implementation would be splitting the database access out into an </span><strong class="source-inline"><span class="koboSpan" id="kobo.300.1">IComicBookWriter</span></strong><span class="koboSpan" id="kobo.301.1"> with </span><a id="_idIndexMarker696"/><span class="koboSpan" id="kobo.302.1">a </span><strong class="source-inline"><span class="koboSpan" id="kobo.303.1">SaveToDatabase()</span></strong><span class="koboSpan" id="kobo.304.1"> method, as </span><a id="_idIndexMarker697"/><span class="koboSpan" id="kobo.305.1">shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.306.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.307.1">
public interface IComicBook
{
    string Title { get; set; }
    string Issue { get; set; }
    string Publisher { get; set; }
}
public interface IComicBookWriter
{
    void SaveToDatabase();
}
public class ComicBook : IComicBook, IComicBookWriter
{
    public string Title { get; set; }
    public string Issue { get; set; }
    public string Publisher { get; set; }
    public void SaveToDatabase()
    {
        // Implementation
    }
}</span></pre> <p><span class="koboSpan" id="kobo.308.1">The example code shows how inheriting from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.309.1">IComicBookWriter</span></strong><span class="koboSpan" id="kobo.310.1"> gives the </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">ComicBook</span></strong><span class="koboSpan" id="kobo.312.1"> class a way to persist </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">the data.</span></span></p>
<p><span class="koboSpan" id="kobo.314.1">The goal of the</span><a id="_idIndexMarker698"/><span class="koboSpan" id="kobo.315.1"> interface segregation principle </span><a id="_idIndexMarker699"/><span class="koboSpan" id="kobo.316.1">is to avoid including methods in an interface that you </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">won’t use.</span></span></p>
<p><span class="koboSpan" id="kobo.318.1">This example is also a violation of the SRP since this class is also accessing </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">the database.</span></span></p>
<h3><span class="koboSpan" id="kobo.320.1">Dependency inversion</span></h3>
<p><span class="koboSpan" id="kobo.321.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.322.1">dependency inversion principle</span></strong><span class="koboSpan" id="kobo.323.1"> explains that we should depend on abstractions</span><a id="_idIndexMarker700"/><span class="koboSpan" id="kobo.324.1"> and not on concrete</span><a id="_idIndexMarker701"/><span class="koboSpan" id="kobo.325.1"> implementations. </span><span class="koboSpan" id="kobo.325.2">With .NET, dependency injection is available out of the box. </span><span class="koboSpan" id="kobo.325.3">With dependency injection automatically available, this satisfies half of our dependency </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">inversion principle.</span></span></p>
<p><span class="koboSpan" id="kobo.327.1">While we can dependency-inject concrete classes into constructors, a better implementation would be to create an interface for the concrete implementation. </span><span class="koboSpan" id="kobo.327.2">Using interfaces encourages loose coupling throughout our </span><span class="No-Break"><span class="koboSpan" id="kobo.328.1">code base.</span></span></p>
<p><span class="koboSpan" id="kobo.329.1">For example, back in </span><a href="B19493_05.xhtml#_idTextAnchor114"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.330.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.331.1"> with Entity Framework, we created a simple interface for our </span><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">DbContext</span></strong><span class="koboSpan" id="kobo.333.1">s for this very reason. </span><span class="koboSpan" id="kobo.333.2">Instead of registering a concrete implementation of a </span><strong class="source-inline"><span class="koboSpan" id="kobo.334.1">DbContext</span></strong><span class="koboSpan" id="kobo.335.1">, we could use its </span><span class="No-Break"><span class="koboSpan" id="kobo.336.1">interface instead.</span></span></p>
<p><span class="koboSpan" id="kobo.337.1">We registered our abstraction (interface) to support our dependency </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">inversion principle.</span></span></p>
<p><span class="koboSpan" id="kobo.339.1">In this section, the terms DRY, YAGNI, and KISS, along with what separation of concerns means and how refactoring is a process and not a single task. </span><span class="koboSpan" id="kobo.339.2">We finished the section by learning each SOLID practice, namely the single responsibility, open/closed, Liskov substitution, interface </span><a id="_idIndexMarker702"/><span class="koboSpan" id="kobo.340.1">segregation, and </span><a id="_idIndexMarker703"/><span class="koboSpan" id="kobo.341.1">dependency </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">inversion principles.</span></span></p>
<p><span class="koboSpan" id="kobo.343.1">In the next section, we’ll learn about folder organization based on </span><span class="No-Break"><span class="koboSpan" id="kobo.344.1">project types.</span></span></p>
<h1 id="_idParaDest-242"><a id="_idTextAnchor255"/><span class="koboSpan" id="kobo.345.1">Project structure</span></h1>
<p><span class="koboSpan" id="kobo.346.1">As mentioned in </span><a href="B19493_07.xhtml#_idTextAnchor163"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.347.1">Chapter 7</span></em></span></a><span class="koboSpan" id="kobo.348.1">, on testing, folder structures can reveal an application’s intent and</span><a id="_idIndexMarker704"/><span class="koboSpan" id="kobo.349.1"> provide documentation </span><span class="No-Break"><span class="koboSpan" id="kobo.350.1">as well.</span></span></p>
<p><span class="koboSpan" id="kobo.351.1">In this section, we’ll learn about folder structures with ASP.NET web applications. </span><span class="koboSpan" id="kobo.351.2">We’ll also learn where to place code based on intent, such as where to place API code or Entity </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">Framework code.</span></span></p>
<h2 id="_idParaDest-243"><a id="_idTextAnchor256"/><span class="koboSpan" id="kobo.353.1">Understanding the project landscape</span></h2>
<p><span class="koboSpan" id="kobo.354.1">Every project</span><a id="_idIndexMarker705"/><span class="koboSpan" id="kobo.355.1"> has its own structure based on its type. </span><span class="koboSpan" id="kobo.355.2">For example, a </span><strong class="bold"><span class="koboSpan" id="kobo.356.1">Razor Page</span></strong><span class="koboSpan" id="kobo.357.1"> project layout is</span><a id="_idIndexMarker706"/><span class="koboSpan" id="kobo.358.1"> different from a </span><strong class="bold"><span class="koboSpan" id="kobo.359.1">Model-View-Controller</span></strong><span class="koboSpan" id="kobo.360.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.361.1">MVC</span></strong><span class="koboSpan" id="kobo.362.1">) project or </span><a id="_idIndexMarker707"/><span class="koboSpan" id="kobo.363.1">an </span><span class="No-Break"><span class="koboSpan" id="kobo.364.1">API project.</span></span></p>
<p><span class="koboSpan" id="kobo.365.1">Let’s examine what folders are in these </span><span class="No-Break"><span class="koboSpan" id="kobo.366.1">common projects.</span></span></p>
<p><span class="koboSpan" id="kobo.367.1">First, the following is an example of an ASP.NET Razor </span><span class="No-Break"><span class="koboSpan" id="kobo.368.1">Page project:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer062">
<span class="koboSpan" id="kobo.369.1"><img alt="Figure 11.1 – Common folder structure of a Razor Page project" src="image/B19493_11_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.370.1">Figure 11.1 – Common folder structure of a Razor Page project</span></p>
<p><span class="koboSpan" id="kobo.371.1">Next is an </span><a id="_idIndexMarker708"/><span class="koboSpan" id="kobo.372.1">example of an ASP.NET </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">MVC project:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer063">
<span class="koboSpan" id="kobo.374.1"><img alt="Figure 11.2 - Common folder structure of an MVC project" src="image/B19493_11_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.375.1">Figure 11.2 - Common folder structure of an MVC project</span></p>
<p><span class="koboSpan" id="kobo.376.1">As we move</span><a id="_idIndexMarker709"/><span class="koboSpan" id="kobo.377.1"> through each project, we’ll explain what each folder does and its purpose in </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">the application.</span></span></p>
<h3><span class="koboSpan" id="kobo.379.1">wwwroot folder</span></h3>
<p><span class="koboSpan" id="kobo.380.1">In either of the </span><a id="_idIndexMarker710"/><span class="koboSpan" id="kobo.381.1">preceding project types, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.382.1">wwwroot</span></strong><span class="koboSpan" id="kobo.383.1"> folder </span><a id="_idIndexMarker711"/><span class="koboSpan" id="kobo.384.1">contains all of our static content used on the website. </span><span class="koboSpan" id="kobo.384.2">Any folder added to this directory is static content and visible to </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">the browser.</span></span></p>
<p><span class="koboSpan" id="kobo.386.1">One example is an images folder. </span><span class="koboSpan" id="kobo.386.2">If we added an images folder to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.387.1">wwwroot</span></strong><span class="koboSpan" id="kobo.388.1"> folder, the URL to that images folder would look like </span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.390.1">
https://localhost:xxx/images/funnyimage.jpg</span></pre> <p><span class="koboSpan" id="kobo.391.1">For JavaScript frameworks (such as Angular, React, etc.), a folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.392.1">source</span></strong><span class="koboSpan" id="kobo.393.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.394.1">src</span></strong><span class="koboSpan" id="kobo.395.1"> should be created under the </span><strong class="source-inline"><span class="koboSpan" id="kobo.396.1">wwwroot</span></strong><span class="koboSpan" id="kobo.397.1"> folder to hold your client-side source code. </span><span class="koboSpan" id="kobo.397.2">The JavaScript framework should be transpiled to another folder of your choosing, such as a </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">js</span></strong><span class="koboSpan" id="kobo.399.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.400.1">app</span></strong><span class="koboSpan" id="kobo.401.1"> folder for public browser consumption. </span><span class="koboSpan" id="kobo.401.2">We touched on these folders in </span><a href="B19493_06.xhtml#_idTextAnchor137"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.402.1">Chapter 6</span></em></span></a><span class="koboSpan" id="kobo.403.1"> when we </span><a id="_idIndexMarker712"/><span class="koboSpan" id="kobo.404.1">were building our client-side tasks using</span><a id="_idIndexMarker713"/><span class="koboSpan" id="kobo.405.1"> a </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">task runner.</span></span></p>
<h3><span class="koboSpan" id="kobo.407.1">Pages folder</span></h3>
<p><span class="koboSpan" id="kobo.408.1">In a Razor Page</span><a id="_idIndexMarker714"/><span class="koboSpan" id="kobo.409.1"> project, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.410.1">Pages</span></strong><span class="koboSpan" id="kobo.411.1"> folder is where server-side</span><a id="_idIndexMarker715"/><span class="koboSpan" id="kobo.412.1"> pages are found. </span><span class="koboSpan" id="kobo.412.2">Every folder created is a path to </span><span class="No-Break"><span class="koboSpan" id="kobo.413.1">a page.</span></span></p>
<p><span class="koboSpan" id="kobo.414.1">For example, if we created a </span><strong class="source-inline"><span class="koboSpan" id="kobo.415.1">Setup</span></strong><span class="koboSpan" id="kobo.416.1"> folder and added an </span><strong class="source-inline"><span class="koboSpan" id="kobo.417.1">Index.cshtml</span></strong><span class="koboSpan" id="kobo.418.1"> file, the URL to execute and view that page would look like </span><span class="No-Break"><span class="koboSpan" id="kobo.419.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.420.1">
https://localhost:xxx/setup/</span></pre> <p><span class="koboSpan" id="kobo.421.1">Other folders created under the </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">Pages</span></strong><span class="koboSpan" id="kobo.423.1"> directory would follow the same path, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.424.1">Figure 11</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.425.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer064">
<span class="koboSpan" id="kobo.427.1"><img alt="Figure 11.3 – Folder structure for a MenuManager page" src="image/B19493_11_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.428.1">Figure 11.3 – Folder structure for a MenuManager page</span></p>
<p><span class="koboSpan" id="kobo.429.1">Based on the directory structure in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.430.1">Figure 11</span></em></span><em class="italic"><span class="koboSpan" id="kobo.431.1">.3</span></em><span class="koboSpan" id="kobo.432.1">, the URL to </span><strong class="bold"><span class="koboSpan" id="kobo.433.1">MenuManager</span></strong><span class="koboSpan" id="kobo.434.1"> would be </span><span class="No-Break"><span class="koboSpan" id="kobo.435.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.436.1">
https://localhost:xxx/setup/menumanager/</span></pre> <p><span class="koboSpan" id="kobo.437.1">The simpler the</span><a id="_idIndexMarker716"/><span class="koboSpan" id="kobo.438.1"> folder structure, the easier it is to locate a page</span><a id="_idIndexMarker717"/><span class="koboSpan" id="kobo.439.1"> and identify </span><span class="No-Break"><span class="koboSpan" id="kobo.440.1">page functionality.</span></span></p>
<h3><span class="koboSpan" id="kobo.441.1">Shared folder</span></h3>
<p><span class="koboSpan" id="kobo.442.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.443.1">Shared</span></strong><span class="koboSpan" id="kobo.444.1"> folder is </span><a id="_idIndexMarker718"/><span class="koboSpan" id="kobo.445.1">used for common components such as</span><a id="_idIndexMarker719"/><span class="koboSpan" id="kobo.446.1"> layout pages, </span><strong class="source-inline"><span class="koboSpan" id="kobo.447.1">ViewComponents</span></strong><span class="koboSpan" id="kobo.448.1">, partials, </span><strong class="source-inline"><span class="koboSpan" id="kobo.449.1">EditorTemplates</span></strong><span class="koboSpan" id="kobo.450.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">DisplayTemplates</span></strong><span class="koboSpan" id="kobo.452.1">. </span><span class="koboSpan" id="kobo.452.2">These shared components are accessible through web pages in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.453.1">Pages</span></strong><span class="koboSpan" id="kobo.454.1"> folder (if it’s a Razor Pages project) or the </span><strong class="source-inline"><span class="koboSpan" id="kobo.455.1">Views</span></strong><span class="koboSpan" id="kobo.456.1"> folder (if it’s an </span><span class="No-Break"><span class="koboSpan" id="kobo.457.1">MVC project).</span></span></p>
<h3><span class="koboSpan" id="kobo.458.1">Controllers folder</span></h3>
<p><span class="koboSpan" id="kobo.459.1">MVC projects </span><a id="_idIndexMarker720"/><span class="koboSpan" id="kobo.460.1">always contain a </span><strong class="source-inline"><span class="koboSpan" id="kobo.461.1">Controllers</span></strong><span class="koboSpan" id="kobo.462.1"> folder </span><a id="_idIndexMarker721"/><span class="koboSpan" id="kobo.463.1">and are the traffic cops of the </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">web application.</span></span></p>
<p><span class="koboSpan" id="kobo.465.1">The MVC web model uses a “convention over configuration” concept where the name of the controller is the path and the methods inside the controller class are the </span><span class="No-Break"><span class="koboSpan" id="kobo.466.1">page names.</span></span></p>
<p><span class="koboSpan" id="kobo.467.1">For example, in the aforementioned </span><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">Controllers</span></strong><span class="koboSpan" id="kobo.469.1"> folder, we have a class called </span><strong class="source-inline"><span class="koboSpan" id="kobo.470.1">HomeController</span></strong><span class="koboSpan" id="kobo.471.1">. </span><span class="koboSpan" id="kobo.471.2">If we look in </span><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">HomeController</span></strong><span class="koboSpan" id="kobo.473.1">, we’ll see a method </span><span class="No-Break"><span class="koboSpan" id="kobo.474.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.475.1">Index()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.476.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.477.1">
public class HomeController : Controller
{
    public IActionResult Index()
    {
        return View();
    }
}</span></pre> <p><span class="koboSpan" id="kobo.478.1">The presence of a </span><strong class="source-inline"><span class="koboSpan" id="kobo.479.1">HomeController</span></strong><span class="koboSpan" id="kobo.480.1"> class tells us </span><span class="No-Break"><span class="koboSpan" id="kobo.481.1">three things:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.482.1">We will have a </span><strong class="source-inline"><span class="koboSpan" id="kobo.483.1">/Home</span></strong><span class="koboSpan" id="kobo.484.1"> URL with an </span><strong class="source-inline"><span class="koboSpan" id="kobo.485.1">Index()</span></strong><span class="koboSpan" id="kobo.486.1"> method for a </span><span class="No-Break"><span class="koboSpan" id="kobo.487.1">default page</span></span></li>
<li><span class="koboSpan" id="kobo.488.1">A </span><strong class="source-inline"><span class="koboSpan" id="kobo.489.1">Home</span></strong><span class="koboSpan" id="kobo.490.1"> folder is located under the </span><strong class="source-inline"><span class="koboSpan" id="kobo.491.1">/</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.492.1">Views</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.493.1"> folder</span></span></li>
<li><span class="koboSpan" id="kobo.494.1">Since there is an </span><strong class="source-inline"><span class="koboSpan" id="kobo.495.1">Index()</span></strong><span class="koboSpan" id="kobo.496.1"> method in </span><strong class="source-inline"><span class="koboSpan" id="kobo.497.1">HomeController</span></strong><span class="koboSpan" id="kobo.498.1">, there should be an </span><strong class="source-inline"><span class="koboSpan" id="kobo.499.1">Index.cshtml</span></strong><span class="koboSpan" id="kobo.500.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.501.1">/</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.502.1">Views/Home</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.503.1"> directory</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.504.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">Index()</span></strong><span class="koboSpan" id="kobo.506.1"> method tells us when the </span><strong class="source-inline"><span class="koboSpan" id="kobo.507.1">https://localhost:xxx/Home</span></strong><span class="koboSpan" id="kobo.508.1"> URL is called. </span><span class="koboSpan" id="kobo.508.2">It will </span><a id="_idIndexMarker722"/><span class="koboSpan" id="kobo.509.1">automatically hit this </span><strong class="source-inline"><span class="koboSpan" id="kobo.510.1">Index()</span></strong><span class="koboSpan" id="kobo.511.1"> method </span><a id="_idIndexMarker723"/><span class="koboSpan" id="kobo.512.1">and, by default, look for the Index view in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.513.1">/</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.514.1">Views/Home</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.515.1"> directory.</span></span></p>
<h3><span class="koboSpan" id="kobo.516.1">Feature folders</span></h3>
<p><span class="koboSpan" id="kobo.517.1">One of the secrets </span><a id="_idIndexMarker724"/><span class="koboSpan" id="kobo.518.1">of an MVC application is the ability to move</span><a id="_idIndexMarker725"/><span class="koboSpan" id="kobo.519.1"> controllers around to any folder inside the application. </span><span class="koboSpan" id="kobo.519.2">On initial startup, the ASP.NET framework locates all of the controllers available throughout the application and creates a routing table for incoming web requests. </span><span class="koboSpan" id="kobo.519.3">Based on this approach, developers in the community have created </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.520.1">feature folders</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.521.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.522.1">Feature folders are usually contained in a folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.523.1">/Features</span></strong><span class="koboSpan" id="kobo.524.1"> off the root with folders underneath to identify the feature implemented. </span><span class="koboSpan" id="kobo.524.2">While a </span><strong class="source-inline"><span class="koboSpan" id="kobo.525.1">/Features</span></strong><span class="koboSpan" id="kobo.526.1"> folder is the most common, developers have the ability to name the folder anything they want. </span><span class="koboSpan" id="kobo.526.2">They can also place controllers under any folder in the project. </span><span class="koboSpan" id="kobo.526.3">ASP.NET can locate all of the controllers </span><span class="No-Break"><span class="koboSpan" id="kobo.527.1">on startup.</span></span></p>
<p><span class="koboSpan" id="kobo.528.1">These folders usually contain a minimum of a controller, a ViewModel, and a View. </span><span class="koboSpan" id="kobo.528.2">They can also contain supporting classes related to the feature. </span><span class="koboSpan" id="kobo.528.3">The folder is named based on the feature </span><span class="No-Break"><span class="koboSpan" id="kobo.529.1">being implemented.</span></span></p>
<p><span class="koboSpan" id="kobo.530.1">For example, if there was an image viewing feature in your MVC application, it would look like </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.531.1">Figure 11</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.532.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.533.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer065">
<span class="koboSpan" id="kobo.534.1"><img alt="Figure 11.4 – Example of an ImageViewer feature folder" src="image/B19493_11_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.535.1">Figure 11.4 – Example of an ImageViewer feature folder</span></p>
<p><span class="koboSpan" id="kobo.536.1">This folder structure provides the </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">following benefits:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.538.1">Focus</span></strong><span class="koboSpan" id="kobo.539.1"> – Each feature is</span><a id="_idIndexMarker726"/><span class="koboSpan" id="kobo.540.1"> isolated so team members can build the feature without causing </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">merge issues</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.542.1">Consolidation</span></strong><span class="koboSpan" id="kobo.543.1"> – Instead of moving from one folder to another throughout the entire project, features are confined to one folder, making the coding process </span><span class="No-Break"><span class="koboSpan" id="kobo.544.1">more efficient</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.545.1">Immediate visibility</span></strong><span class="koboSpan" id="kobo.546.1"> – If someone said there was an issue in the Accounts Receivable feature, the developer would know to immediately look in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.547.1">Features/AccountsReceiveable</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.548.1"> folder</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.549.1">In MVC, the View path can be modified to fit your needs. </span><span class="koboSpan" id="kobo.549.2">In this case, defining a custom path to your views provides even more flexible configurations for </span><span class="No-Break"><span class="koboSpan" id="kobo.550.1">your application.</span></span></p>
<p><span class="koboSpan" id="kobo.551.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.552.1">Features</span></strong><span class="koboSpan" id="kobo.553.1"> folder technique is becoming a more viable option for creating scalable, feature-based web applications by offering vertical slicing. </span><span class="koboSpan" id="kobo.553.2">Vertical slicing is the process of writing code for </span><a id="_idIndexMarker727"/><span class="koboSpan" id="kobo.554.1">an entire feature across all layers (presentation, domain, and</span><a id="_idIndexMarker728"/><span class="koboSpan" id="kobo.555.1"> data access). </span><span class="koboSpan" id="kobo.555.2">Feature folders simplify this process and convey isolated features in </span><span class="No-Break"><span class="koboSpan" id="kobo.556.1">the application.</span></span></p>
<h3><span class="koboSpan" id="kobo.557.1">Models folder</span></h3>
<p><span class="koboSpan" id="kobo.558.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.559.1">Models</span></strong><span class="koboSpan" id="kobo.560.1"> folder </span><a id="_idIndexMarker729"/><span class="koboSpan" id="kobo.561.1">contains all of the models used for your </span><a id="_idIndexMarker730"/><span class="koboSpan" id="kobo.562.1">Views. </span><span class="koboSpan" id="kobo.562.2">This is different from a ViewModel. </span><span class="koboSpan" id="kobo.562.3">The difference between Models and ViewModels is that ViewModels are passed into the View and can contain models to support </span><span class="No-Break"><span class="koboSpan" id="kobo.563.1">the ViewModel.</span></span></p>
<p><span class="koboSpan" id="kobo.564.1">An example of a ViewModel is shown in the following </span><span class="No-Break"><span class="koboSpan" id="kobo.565.1">code snippet:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.566.1">
public class HomeController : Controller
{
    public IActionResult Index()
    {
        return View(new IndexViewModel
        {
            Title = "Home Page",
            Product = new ProductDto
            {
                Name = "Sunglasses",
                Price = 9.99m
            }
        });
    }
}
public class IndexViewModel
{
    public string Title { get; set; }
    public ProductDto Product { get; set; }
}
public class ProductDto
{
    public string Name { get; set; }
    public decimal Price { get; set; }
}</span></pre> <p><span class="koboSpan" id="kobo.567.1">A ViewModel is</span><a id="_idIndexMarker731"/><span class="koboSpan" id="kobo.568.1"> sent to the View (</span><strong class="source-inline"><span class="koboSpan" id="kobo.569.1">IndexViewModel</span></strong><span class="koboSpan" id="kobo.570.1">) where </span><a id="_idIndexMarker732"/><span class="koboSpan" id="kobo.571.1">a Model can be data supporting the </span><span class="No-Break"><span class="koboSpan" id="kobo.572.1">ViewModel (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.573.1">ProductDto</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.574.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.575.1">Two common practices include either creating a </span><strong class="source-inline"><span class="koboSpan" id="kobo.576.1">ViewModels</span></strong><span class="koboSpan" id="kobo.577.1"> directory under the </span><strong class="source-inline"><span class="koboSpan" id="kobo.578.1">Models</span></strong><span class="koboSpan" id="kobo.579.1"> folder, or a </span><strong class="source-inline"><span class="koboSpan" id="kobo.580.1">ViewModels</span></strong><span class="koboSpan" id="kobo.581.1"> directory in the root of </span><span class="No-Break"><span class="koboSpan" id="kobo.582.1">your project.</span></span></p>
<h3><span class="koboSpan" id="kobo.583.1">Views folder</span></h3>
<p><span class="koboSpan" id="kobo.584.1">In an MVC</span><a id="_idIndexMarker733"/><span class="koboSpan" id="kobo.585.1"> project, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.586.1">Views</span></strong><span class="koboSpan" id="kobo.587.1"> folder is the equivalent</span><a id="_idIndexMarker734"/><span class="koboSpan" id="kobo.588.1"> of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.589.1">Pages</span></strong><span class="koboSpan" id="kobo.590.1"> folder in a Razor Pages project. </span><span class="koboSpan" id="kobo.590.2">It contains the same folder structure as a Razor </span><span class="No-Break"><span class="koboSpan" id="kobo.591.1">Pages project.</span></span></p>
<h2 id="_idParaDest-244"><a id="_idTextAnchor257"/><span class="koboSpan" id="kobo.592.1">Creating project layers</span></h2>
<p><span class="koboSpan" id="kobo.593.1">When creating a </span><a id="_idIndexMarker735"/><span class="koboSpan" id="kobo.594.1">new web application, the default web project contains the bare essentials to run in a browser. </span><span class="koboSpan" id="kobo.594.2">But how do you segment the application so you don’t have a huge pile of </span><span class="No-Break"><span class="koboSpan" id="kobo.595.1">unmanageable code?</span></span></p>
<p><span class="koboSpan" id="kobo.596.1">A layer, or tier, is a segment of the application broken up into modules or projects designed to perform in a certain way. </span><span class="koboSpan" id="kobo.596.2">A presentation layer contains the user interface of how the user interacts with the website, while a data access layer retrieves data for </span><span class="No-Break"><span class="koboSpan" id="kobo.597.1">the application.</span></span></p>
<p><span class="koboSpan" id="kobo.598.1">Identifying project layers can be a bit of a daunting task, but the best way is to create application layers based on their functionality. </span><span class="koboSpan" id="kobo.598.2">Each project will have a consistent naming convention based on </span><span class="No-Break"><span class="koboSpan" id="kobo.599.1">its function.</span></span></p>
<p><span class="koboSpan" id="kobo.600.1">While the following are recommended project layers and names, architect and team suggestions may overrule </span><span class="No-Break"><span class="koboSpan" id="kobo.601.1">these choices:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.602.1">Core domain/business rules</span></strong><span class="koboSpan" id="kobo.603.1"> – The domain or business rules project should be at the core of your application. </span><span class="koboSpan" id="kobo.603.2">These projects are usually named </span><strong class="source-inline"><span class="koboSpan" id="kobo.604.1">&lt;ProjectName&gt;.Domain</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.605.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.606.1">&lt;ProjectName&gt;.Core</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.607.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.608.1">User interface (UI)</span></strong><span class="koboSpan" id="kobo.609.1"> – The UI is already available when creating the initial web application through </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">File | New | ASP.NET Web Application</span></strong><span class="koboSpan" id="kobo.611.1">. </span><span class="koboSpan" id="kobo.611.2">The recommended naming convention for these projects could be </span><strong class="source-inline"><span class="koboSpan" id="kobo.612.1">&lt;ProjectName&gt;.Web</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.613.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">&lt;ProjectName&gt;.UI</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.615.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.616.1">Databases</span></strong><span class="koboSpan" id="kobo.617.1"> – Database access should be contained in </span><strong class="source-inline"><span class="koboSpan" id="kobo.618.1">&lt;ProjectName&gt;.Data</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.619.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.620.1">&lt;ProjectName&gt;.Infrastructure</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.621.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.622.1">APIs</span></strong><span class="koboSpan" id="kobo.623.1"> – APIs should be in their own folder (</span><strong class="source-inline"><span class="koboSpan" id="kobo.624.1">/api</span></strong><span class="koboSpan" id="kobo.625.1">) or contained in a separate project </span><span class="No-Break"><span class="koboSpan" id="kobo.626.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">&lt;ProjectName&gt;.Api</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.628.1">.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.629.1">Services</span></strong><span class="koboSpan" id="kobo.630.1"> – Services is another layer encapsulating higher-level functions. </span><span class="koboSpan" id="kobo.630.2">While this is an optional layer and these types of services could be located inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.631.1">Infrastructure</span></strong><span class="koboSpan" id="kobo.632.1"> project, the amount of code in an infrastructure project can become overwhelming. </span><span class="koboSpan" id="kobo.632.2">A services project could provide an alternative to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">Infrastructure</span></strong><span class="koboSpan" id="kobo.634.1"> project. </span><span class="koboSpan" id="kobo.634.2">Services could include a </span><strong class="source-inline"><span class="koboSpan" id="kobo.635.1">MailService</span></strong><span class="koboSpan" id="kobo.636.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.637.1">&lt;Entity&gt;Service</span></strong><span class="koboSpan" id="kobo.638.1">. </span><span class="koboSpan" id="kobo.638.2">These projects are usually </span><span class="No-Break"><span class="koboSpan" id="kobo.639.1">named </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.640.1">&lt;ProjectName&gt;.Services</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.642.1">These code layers provide the best layout when organizing your project. </span><span class="koboSpan" id="kobo.642.2">Each project name describes the</span><a id="_idIndexMarker736"/><span class="koboSpan" id="kobo.643.1"> intent and gives developers a clear representation of the solution as </span><span class="No-Break"><span class="koboSpan" id="kobo.644.1">a whole.</span></span></p>
<h1 id="_idParaDest-245"><a id="_idTextAnchor258"/><span class="koboSpan" id="kobo.645.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.646.1">In this appendix, we learned the DRY, YAGNI, and KISS principles, along with separation of concerns, the concept of SOLID, and how refactoring is a process and not a one-time </span><span class="No-Break"><span class="koboSpan" id="kobo.647.1">quick fix.</span></span></p>
<p><span class="koboSpan" id="kobo.648.1">We proceeded to look at how two common ASP.NET web applications were structured and what each folder represented. </span><span class="koboSpan" id="kobo.648.2">Once we understood a project’s folder structure, we examined where code would reside based on its intent, such as Entity Framework or </span><span class="No-Break"><span class="koboSpan" id="kobo.649.1">service classes.</span></span></p>
<h2 id="_idParaDest-246"><a id="_idTextAnchor259"/><span class="koboSpan" id="kobo.650.1">Thank you!</span></h2>
<p><span class="koboSpan" id="kobo.651.1">Best practices are considered to be what is correct, common, and accepted by others in the field. </span><span class="koboSpan" id="kobo.651.2">The best practices contained in this book are a combination of observations, experience, and feedback over the years from my peers, mentors, and the </span><span class="No-Break"><span class="koboSpan" id="kobo.652.1">developer community.</span></span></p>
<p><span class="koboSpan" id="kobo.653.1">I hope these best practices serve as a reference for your ASP.NET development career and that you can achieve the same level of excitement as I do when I experience a new programming technique </span><span class="No-Break"><span class="koboSpan" id="kobo.654.1">or technology.</span></span></p>
<p><span class="koboSpan" id="kobo.655.1">Thank you for </span><span class="No-Break"><span class="koboSpan" id="kobo.656.1">your readership!</span></span></p>
<p><span class="koboSpan" id="kobo.657.1">Code on, developers... </span><span class="No-Break"><span class="koboSpan" id="kobo.658.1">code on!</span></span></p>
</div>
</body></html>