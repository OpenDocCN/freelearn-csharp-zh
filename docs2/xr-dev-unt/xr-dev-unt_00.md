# 前言

你好，欢迎来到激动人心且不断发展的扩展现实（XR）开发世界！如果你对第一次尝试在 Unity 中进行 XR 开发既感到兴奋又感到紧张，你并不孤单。

但别担心——本书的主要目标是使 XR 开发对每个人来说都触手可及，无论是否有先前的经验。我们将使用简单的语言，提供生动的例子，并指导你完成每个步骤，从制作可抓取的对象到编写 C# 脚本以及将手部追踪集成到你的场景中。你甚至不需要访问 VR 头盔或 AR 兼容的手机来跟随；你可以使用笔记本电脑或 PC 上的模拟器测试大多数项目，确保对所有人都是可访问的。

在我们自己的 XR 开发之旅中，我们曾面临过花费无数小时试图让一个基本的 XR 体验工作的挫败感。现在，我们在诸如德国电信和弗劳恩霍夫 IGD 等知名公司和学术机构积累了丰富的经验，我们希望与您分享我们的知识。

这本书不仅是一本完整的指南，它将带你从 XR 开发或 Unity 的初学者水平提升到创建任何领域交互式 XR 应用程序的中级水平。其结构也旨在帮助你轻松访问 XR 相关技术以构建出色的 XR 应用程序，因此你无需像我们曾经做的那样不断在网上搜索答案。我们的目标不是将你的 XR 开发专长局限于特定用例，而是为你提供一系列工具，以便你可以不受限制地将任何 XR 项目变为现实。

我们很高兴与您一起开始这段旅程！

# 本书面向的对象

如果你是一名学生、专业人士，或者只是对探索 VR、MR 或 AR 感兴趣，这本书是为你量身定制的。无论你是否熟悉交互式媒体，或者只是刚开始，我们都会引导你轻松地在 Unity 中构建 XR 应用程序。没有 Unity 经验？没问题。我们涵盖了基础知识，为你提供开发交互式 VR、MR 和 AR 项目的技能。

# 本书涵盖的内容

*第一章*，*XR 和 Unity 简介*，是 Unity 中 XR 开发主题的一般介绍。本章解释了将 VR、MR 和 AR 带到现实中的各种方法。此外，Unity 在 XR 开发中的作用也被介绍。本章的主要目标是提供一个良好的起点，开始学习如何构建 XR 应用程序。

*第二章*，*Unity 编辑器和场景创建*，旨在帮助那些对 Unity 不熟悉的读者。它解释了如何安装 Unity Hub 和 Unity 编辑器，并提供了在 Unity 中创建基本场景的逐步指南。本章介绍了从照明和渲染到从 Unity 资产商店导入资产的基本概念，为你深入 XR 开发前提供所需的一切知识。

*第三章*, 《Unity 中的 VR 开发》，介绍了 XR 交互工具包的功能和组件，以及如何将其添加到 VR 场景中。在探索了从抓取到攀爬的不同类型的交互后，本章解释了如何测试和部署 VR 场景到 VR 头戴式设备或模拟器，如 XR 设备模拟器。

*第四章*, 《Unity 中的 AR 开发》，解释了如何使用 AR Foundation、ARKit 和 ARCore 在 Unity 中创建 AR 体验。在构建了您的第一个简单 AR 应用程序后，本章专注于直接在 PC 上使用 XR 模拟测试此应用程序，并将其部署到 Android 和 iOS 设备上。

*第五章*, 《构建交互式 VR 体验》, 解释了如何通过动画、按钮事件或 C#编程语言为场景添加交互性。尽管本章教授的是中级概念，但它对初学者友好，且不需要任何先前的 C#知识。

*第六章*, 《构建交互式 AR 体验》, 详细介绍了如何通过触摸控制和 UI 元素创建交互式 AR 应用程序。使用 C#编程语言，本章展示了如何构建与最先进的设计模式和商业 AR 应用程序的核心组件相一致的用户体验。

*第七章*, 《添加声音和视觉效果》，介绍了如何通过模拟现实生活中的物理现象来使 XR 场景更加沉浸和逼真。本章解释了声音理论的基础和粒子行为，并强调了如何在 Unity 环境中模拟这两种物理现象。通过一个动手项目，本章解释了如何将音频源、音频混音器和粒子系统添加到 XR 场景中，以及如何调整它们的属性，使它们尽可能逼真。

*第八章*, 《构建高级 XR 技术》, 介绍了高级 XR 技术，提升了任何 XR 应用程序的整体用户体验和沉浸感。具体来说，本章详细介绍了如何通过 XR 交互工具包将手部追踪或注视追踪支持添加到 VR 应用程序中，并解释了如何构建多人体验，用户可以通过简单的头像和手部动画相互看到对方。

*第九章*, 《XR 开发的最佳实践和未来趋势》，探讨了 XR 技术的当前和未来趋势。它提供了对 XR 研究和各行业 XR 公司的见解，并介绍了整个 XR 开发生命周期的最佳实践。为了总结这本书，本章介绍了 XR 开发的额外工具包和插件。这些资源非常适合在未来的 XR 项目中进一步探索，这些项目超出了本书所涵盖的内容。

# 为了充分利用这本书

如果你还没有在 PC 或笔记本电脑上安装 Unity，不要担心——我们将在*第二章*中引导你完成这个过程。

| **本书涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Unity 版本 2021.3.4 或更高版本 | Windows、macOS 或 Linux |

当你开始创建沉浸式虚拟、增强和混合现实体验时，正确设置基础至关重要。这从使用 Git LFS 克隆项目仓库开始。即使你计划从头开始构建所有项目，也强烈建议克隆整个仓库。无疑会有一些部分，将你的进度与实际解决方案进行交叉引用将非常有用。

注意

不要简单地以 ZIP 格式下载仓库。这样做很可能会在打开时出现错误。正确的方法是使用 Git LFS 克隆它。

当你在 Unity 中处理虚拟、增强和混合现实项目时，处理大文件是很常见的——想想 3D 模型、纹理、音频剪辑等等。简单地下载一个项目可能看起来是一个直接的方法，但你可能会遇到问题。原因在于 GitHub（以及许多其他平台）处理大文件的方式。

让我们用一个简单的类比来说明这一点。想象你有一个庞大的图书馆。与其把这些书都存放在家里，占用巨大的空间，不如为每本书都得到一张参考卡。每次你想读一本书时，你就在图书馆出示这张卡，他们就会为你提供这本书。

Git **LFS**（代表 Git **大型文件存储**），其工作原理与此类似。Git LFS 不会直接在仓库中保存庞大的文件，而是维护一个微小的引用或“指针”。实际的庞大文件存储在其他地方。因此，当你直接下载一个未使用 LFS 的项目时，你只获得这些指针，而不是真正的文件。要获取完整内容，你必须使用 Git LFS 克隆项目。

Git LFS 的安装过程以及克隆我们的仓库非常简单。以下是一步一步的指南：

1.  如果你使用 Homebrew，请在终端中运行`brew install git`。对于基于 Debian 的发行版，使用你的包管理器，例如`sudo apt-get install git`。

1.  `git config --global user.name "Your Name"`。使用`git config --global`配置你的电子邮件`user.email "youremail@example.com"`。

1.  **安装 Git LFS**：访问官方 Git LFS 网站([`git-lfs.com/`](https://git-lfs.com/))并按照他们的安装说明进行操作。

1.  `git lfs install`。这将为你的用户账户设置 Git LFS。

1.  **注册 GitHub**：如果你还没有，请在 GitHub([`git-lfs.com/`](https://git-lfs.com/))上创建一个免费账户。

1.  使用`git clone` `https://github.com/PacktPublishing/XR-Development-with-Unity.git`命令。

就这样！你现在可以使用 Git 仓库和 Git LFS 来管理大文件了。

**如果您正在使用本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码的复制和粘贴相关的任何潜在错误。**

# 下载示例代码文件

您可以从 GitHub 下载本书的示例代码文件 [`github.com/PacktPublishing/XR-Development-with-Unity`](https://github.com/PacktPublishing/XR-Development-with-Unity)。如果代码有更新，它将在 GitHub 仓库中更新。请记住，按照之前描述的方法使用 Git LFS 进行克隆，而不是简单地下载 ZIP 格式的仓库。这样做将确保打开时没有错误。

我们还有其他来自我们丰富图书和视频目录的代码包可供选择，请访问 [`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)。查看它们吧！

## 其他资源

本书创建的项目演示视频可在 GitHub 仓库中找到：[`github.com/PacktPublishing/XR-Development-with-Unity/tree/main/Additional%20Resources`](https://github.com/PacktPublishing/XR-Development-with-Unity/tree/main/Additional%20Resources)

# 使用的约定

本书使用了多种文本约定。

`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“我们的最后一步是重写`Update()`函数。”

代码块应如下设置：

```cs
private void Update()
{
float scaleValue = slider.value;
bus.transform.localScale = new Vector3(scaleValue, scaleValue, scaleValue);
}
```

任何命令行输入或输出都应如下所示：

```cs
$ mkdir css
$ cd css
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词以**粗体**显示。以下是一个示例：“在 Unity Hub 中，导航到**安装**选项卡并点击**添加**按钮，以添加新的 Unity 编辑器版本。”

小贴士或重要提示

看起来像这样。

# 联系我们

欢迎读者反馈。

请将 `customercare@packtpub.com` 发送邮件，并在邮件主题中提及书籍标题。

**勘误表**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在本书中发现错误，我们将非常感激您向我们报告。请访问 [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata) 并填写表格。

`copyright@packt.com` 并附上材料链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且有兴趣撰写或为书籍做出贡献，请访问 [authors.packtpub.com](http://authors.packtpub.com)。

# 分享您的想法

一旦您阅读了 *XR Development with Unity*，我们很乐意听听您的想法！请点击此处直接进入此书的亚马逊评论页面并分享您的反馈。

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

你喜欢在路上阅读，但无法随身携带你的印刷书籍吗？

你的电子书购买是否与您选择的设备不兼容？

别担心，现在每购买一本 Packt 图书，您都可以免费获得该书的 DRM-free PDF 版本。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止于此，您还可以获得独家折扣、时事通讯和每日免费内容的每日访问权限

按照以下简单步骤获取优惠：

1.  扫描下面的二维码或访问以下链接

![免费 PDF 二维码](img/B20869_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781805128120`](https://packt.link/free-ebook/9781805128120)

1.  提交您的购买证明

1.  就这样！我们将直接将您的免费 PDF 和其他优惠发送到您的电子邮件中

# 第一部分 – 理解 XR 和 Unity 的基础知识

欢迎来到本书的第一部分，我们将为您提供关于扩展现实（XR）技术和 Unity 引擎的基本信息。本部分为后续部分 XR 应用程序开发之旅奠定基础。在这里，我们将指导您安装 Unity Hub 和 Unity 编辑器，并介绍场景创建、从 Unity Asset Store 下载资产、Unity 中可用的各种光源类型以及支持的渲染类型等重要概念。无需具备 Unity 或 XR 技术的先验知识即可跟随本部分。相反，本部分将为您提供开始动手 XR 开发冒险所需的所有必要知识。

本部分包括以下章节：

+   *第一章*，*XR 和 Unity 简介*

+   *第二章*，*Unity 编辑器和场景创建*
