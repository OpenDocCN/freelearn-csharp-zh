<html><head></head><body>
<div id="_idContainer112" class="calibre2">
<h1 class="chapter-number" id="_idParaDest-121"><a id="_idTextAnchor127" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.1.1">8</span></h1>
<h1 id="_idParaDest-122" class="calibre5"><a id="_idTextAnchor128" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.2.1"> Implementing External Assets, APIs, and Pre-Built Components with C# in Unity</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.3.1">Welcome to </span><a href="B22017_08.xhtml#_idTextAnchor127" class="calibre6 pcalibre1 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.4.1">Chapter 8</span></em></span></a><span class="kobospan" id="kobo.5.1">, where we will delve into essential aspects of game development using C#. </span><span class="kobospan" id="kobo.5.2">We will begin by exploring the integration of pre-built assets, a fundamental skill for enhancing game visuals and performance. </span><span class="kobospan" id="kobo.5.3">Then, we will delve into the integration of rendering pipelines, which is crucial for optimizing game visuals and achieving better performance. </span><span class="kobospan" id="kobo.5.4">After that, we will discuss the significance of backend services in game development, focusing on authentication logic as a prime example of their importance. </span><span class="kobospan" id="kobo.5.5">Lastly, we will explore analytics APIs and their pivotal role in understanding player behavior and optimizing game performance. </span><span class="kobospan" id="kobo.5.6">Throughout this chapter, I’ll demonstrate how to implement these key components into our game, empowering you to create immersive and engaging </span><span><span class="kobospan" id="kobo.6.1">gaming experiences.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.7.1">In this chapter, we’re going to cover the following </span><span><span class="kobospan" id="kobo.8.1">main topics:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><span class="kobospan" id="kobo.9.1">Leveraging pre-built assets </span><span><span class="kobospan" id="kobo.10.1">with C#</span></span></li>
<li class="calibre11"><span class="kobospan" id="kobo.11.1">Integrating backend services </span><span><span class="kobospan" id="kobo.12.1">with C#</span></span></li>
<li class="calibre11"><span class="kobospan" id="kobo.13.1">Integrating analytics APIs </span><span><span class="kobospan" id="kobo.14.1">with C#</span></span></li>
</ul>
<h1 id="_idParaDest-123" class="calibre5"><a id="_idTextAnchor129" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.15.1">Technical requirements</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.16.1">All the code files of this chapter can be found </span><span><span class="kobospan" id="kobo.17.1">at: </span></span><a href="B22017_08.xhtml#_idTextAnchor127" class="calibre6 pcalibre1 pcalibre"><span><span class="kobospan" id="kobo.18.1">https://github.com/PacktPublishing/Mastering-Unity-Game-Development-with-C-Sharp/tree/main/Assets/Chapter%2008</span></span></a><span><span class="kobospan" id="kobo.19.1">.</span></span></p>
<h1 id="_idParaDest-124" class="calibre5"><a id="_idTextAnchor130" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.20.1">Leveraging pre-built assets with C#</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.21.1">In the vast world </span><a id="_idIndexMarker474" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.22.1">of game development, time is as valuable as the pixels on our screens. </span><span class="kobospan" id="kobo.22.2">Every moment counts, and each bit of code shapes the worlds players will explore. </span><span class="kobospan" id="kobo.22.3">This is where third-party assets come in handy—they are efficient tools that enhance creativity in the changing landscape of </span><span><span class="kobospan" id="kobo.23.1">game design.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.24.1">Imagine this: you’re a new game developer with a bright vision. </span><span class="kobospan" id="kobo.24.2">You dream of vast landscapes, detailed character animations, and sounds that take players to faraway lands. </span><span class="kobospan" id="kobo.24.3">However, the journey from idea to reality is full of challenges, and time is hard to </span><span><span class="kobospan" id="kobo.25.1">come by.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.26.1">Third-party assets, often underappreciated in game development, play a crucial role. </span><span class="kobospan" id="kobo.26.2">These readily available resources form the backbone of game creation, bringing virtual worlds to fruition. </span><span class="kobospan" id="kobo.26.3">From grand landscapes to subtle environmental details, third-party assets simplify the complex task of asset creation, allowing us to focus on refining gameplay and improving </span><span><span class="kobospan" id="kobo.27.1">player experiences.</span></span></p>
<p class="calibre3"><em class="italic"><span class="kobospan" id="kobo.28.1">But why are they so important?</span></em><span class="kobospan" id="kobo.29.1"> Firstly, third-party assets offer a wealth of resources created by experts. </span><span class="kobospan" id="kobo.29.2">Whether you need stunning environments, realistic characters, or chilling sound effects, the vast array of third-party assets has it all. </span><span class="kobospan" id="kobo.29.3">These assets fuel creativity, sparking imagination and helping us turn ideas into </span><span><span class="kobospan" id="kobo.30.1">reality quickly.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.31.1">Furthermore, the benefits go beyond convenience. </span><span class="kobospan" id="kobo.31.2">By using pre-built assets, we can focus on the core of our games—the gameplay itself. </span><span class="kobospan" id="kobo.31.3">Free from creating assets, they can craft immersive worlds, compelling stories, and unforgettable experiences that capture players’ hearts and endure </span><span><span class="kobospan" id="kobo.32.1">over time.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.33.1">In this section, we’ll explore the utilization of pre-built assets available in Unity’s Package Manager, such as </span><strong class="bold"><span class="kobospan" id="kobo.34.1">URP</span></strong><span class="kobospan" id="kobo.35.1">, which provides advanced rendering options. </span><span class="kobospan" id="kobo.35.2">Let’s begin </span><span><span class="kobospan" id="kobo.36.1">our exploration.</span></span></p>
<h2 id="_idParaDest-125" class="calibre7"><a id="_idTextAnchor131" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.37.1">Universal Render Pipeline (URP)</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.38.1">In this </span><a id="_idIndexMarker475" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.39.1">section, we’ll explore the </span><strong class="bold"><span class="kobospan" id="kobo.40.1">Universal Render Pipeline </span></strong><span class="kobospan" id="kobo.41.1">(</span><strong class="bold"><span class="kobospan" id="kobo.42.1">URP</span></strong><span class="kobospan" id="kobo.43.1">), a powerful tool that helps create stunning visuals and optimize performance in our </span><span><span class="kobospan" id="kobo.44.1">Unity projects.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.45.1">URP is a rendering solution provided by Unity Technologies. </span><span class="kobospan" id="kobo.45.2">It’s designed to strike a balance between visual quality and performance, making it suitable for a wide range of platforms and devices, including mobile, consoles, </span><span><span class="kobospan" id="kobo.46.1">and PCs.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.47.1">URP offers a</span><a id="_idIndexMarker476" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.48.1"> flexible and efficient rendering pipeline that allows for the creation of visually appealing games while ensuring smooth performance across different hardware configurations. </span><span class="kobospan" id="kobo.48.2">Whether you’re creating a stylized indie game or a realistic AAA title, URP provides the tools and features needed to bring your vision </span><span><span class="kobospan" id="kobo.49.1">to life.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.50.1">Choosing between Unity’s render pipelines – URP versus HDRP</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.51.1">Unity offers</span><a id="_idIndexMarker477" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.52.1"> two distinct rendering pipelines, URP and the </span><strong class="bold"><span class="kobospan" id="kobo.53.1">High-Definition Render Pipeline </span></strong><span class="kobospan" id="kobo.54.1">(</span><strong class="bold"><span class="kobospan" id="kobo.55.1">HDRP</span></strong><span class="kobospan" id="kobo.56.1">), each tailored to different </span><a id="_idIndexMarker478" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.57.1">needs and requirements in game development. </span><span class="kobospan" id="kobo.57.2">Let’s explore the key differences between the two and the reasons why you might choose one over the other for </span><span><span class="kobospan" id="kobo.58.1">your game.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.59.1">In the following table, I’ve outlined a comparison between Unity’s render pipelines, highlighting key points to assist you in determining the most suitable pipeline for </span><span><span class="kobospan" id="kobo.60.1">your project.</span></span></p>
<table class="no-table-style" id="table001-3">
<colgroup class="calibre12">
<col class="calibre13"/>
<col class="calibre13"/>
<col class="calibre13"/>
</colgroup>
<tbody class="calibre14">
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="bold"><span class="kobospan" id="kobo.61.1">Aspect</span></strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="bold"><span class="kobospan" id="kobo.62.1">URP</span></strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="bold"><span class="kobospan" id="kobo.63.1">HDRP</span></strong></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.64.1">Graphics </span><span><span class="kobospan" id="kobo.65.1">Fidelity</span></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.66.1">URP is designed for optimized rendering performance while maintaining a balance between visual quality and efficiency. </span><span class="kobospan" id="kobo.66.2">It supports features such as real-time lighting, shadows, and </span><span><span class="kobospan" id="kobo.67.1">post-processing effects.</span></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.68.1">HDRP aims to deliver high-quality visuals and graphical fidelity, especially for high-end platforms such as PCs and consoles. </span><span class="kobospan" id="kobo.68.2">It offers advanced rendering features such as physically based rendering and </span><span><span class="kobospan" id="kobo.69.1">volumetric lighting.</span></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.70.1">Platform </span><span><span class="kobospan" id="kobo.71.1">Compatibility</span></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.72.1">URP is optimized for cross-platform development, making it suitable for a diverse range of devices and platforms, including mobile devices, consoles, </span><span><span class="kobospan" id="kobo.73.1">and PCs.</span></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.74.1">HDRP is tailored for high-end platforms and may require more powerful hardware to achieve optimal performance. </span><span class="kobospan" id="kobo.74.2">It may not be as suitable for mobile devices or lower-end PCs due to its </span><span><span class="kobospan" id="kobo.75.1">higher demands</span></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.76.1">Art Style and Visual </span><span><span class="kobospan" id="kobo.77.1">Direction</span></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.78.1">URP is versatile and accommodates a wide range of art styles and visual directions, including stylized, cartoonish, or realistic art styles. </span><span class="kobospan" id="kobo.78.2">It allows for visually appealing results across different genres </span><span><span class="kobospan" id="kobo.79.1">and themes.</span></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.80.1">HDRP is well suited for projects aiming for photorealistic graphics and immersive visual experiences. </span><span class="kobospan" id="kobo.80.2">It offers advanced rendering features and high-fidelity effects enhancing realism </span><span><span class="kobospan" id="kobo.81.1">and immersion.</span></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.82.1">Development Time and </span><span><span class="kobospan" id="kobo.83.1">Resources</span></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.84.1">URP provides a balance between visual quality and development efficiency with a streamlined workflow and easier setup. </span><span class="kobospan" id="kobo.84.2">It is accessible to developers with limited resources or </span><span><span class="kobospan" id="kobo.85.1">time constraints.</span></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span class="kobospan" id="kobo.86.1">HDRP offers advanced features and graphical capabilities, but it may require additional development time and resources to fully leverage its potential. </span><span class="kobospan" id="kobo.86.2">It needs careful optimization and tuning for </span><span><span class="kobospan" id="kobo.87.1">desired performance.</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="calibre3"><span class="kobospan" id="kobo.88.1">In summary, the</span><a id="_idIndexMarker479" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.89.1"> choice between URP and HDRP depends on various factors, including your project’s target platforms, desired graphical fidelity, art style, and available development resources. </span><span class="kobospan" id="kobo.89.2">If you prioritize performance, cross-platform compatibility, and a balance between visual quality and efficiency, URP may be the preferable option. </span><span class="kobospan" id="kobo.89.3">On the other hand, if your project demands high-end visuals, photorealism, and advanced graphical effects, HDRP may be the better choice, provided you have the necessary resources and hardware to </span><span><span class="kobospan" id="kobo.90.1">support it.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.91.1">Now that we have understood the contrast between the two distinct rendering pipelines in Unity, let’s proceed to </span><span><span class="kobospan" id="kobo.92.1">install URP.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.93.1">Installing URP into our project</span></h3>
<p class="callout-heading"><span class="kobospan" id="kobo.94.1">Important note</span></p>
<p class="callout"><span class="kobospan" id="kobo.95.1">Before upgrading to a custom render pipeline, it’s essential to back up </span><span><span class="kobospan" id="kobo.96.1">your project.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.97.1">We’ve </span><a id="_idIndexMarker480" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.98.1">already chosen the URP package for our project. </span><span class="kobospan" id="kobo.98.2">However, if it hasn’t been configured in your project yet, you can simply access </span><strong class="bold"><span class="kobospan" id="kobo.99.1">Package Manager</span></strong><span class="kobospan" id="kobo.100.1"> and select the </span><strong class="bold"><span class="kobospan" id="kobo.101.1">Universal RP</span></strong><span class="kobospan" id="kobo.102.1"> option, as you can see in </span><span><em class="italic"><span class="kobospan" id="kobo.103.1">Figure 8</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.104.1">.1</span></em></span><span><span class="kobospan" id="kobo.105.1">:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer097">
<span class="kobospan" id="kobo.106.1"><img alt="Figure 8.1 – Installing the URP package" src="image/B22017_08_01.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.107.1">Figure 8.1 – Installing the URP package</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.108.1">When you click on </span><strong class="bold"><span class="kobospan" id="kobo.109.1">Install</span></strong><span class="kobospan" id="kobo.110.1">, Unity will install the package and </span><span><span class="kobospan" id="kobo.111.1">its dependencies.</span></span></p>
<p class="callout-heading"><span class="kobospan" id="kobo.112.1">Note</span></p>
<p class="callout"><span class="kobospan" id="kobo.113.1">If you are migrating from the built-in pipeline to URP or High-Definition RP, there are specific instructions to adhere to. </span><span class="kobospan" id="kobo.113.2">You’ll need to adjust all materials to utilize the new shaders provided by these packages. </span><span class="kobospan" id="kobo.113.3">However, given that our game has been utilizing these packages from the outset, imported files such as model materials will already be configured to use the shaders provided by </span><span><span class="kobospan" id="kobo.114.1">those packages.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.115.1">Since</span><a id="_idIndexMarker481" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.116.1"> migrating from the built-in is not our primary objective, I won’t delve into upgrading to URP. </span><span class="kobospan" id="kobo.116.2">You can explore additional possibilities by referring to the </span><span><span class="kobospan" id="kobo.117.1">official documentation:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><span class="kobospan" id="kobo.118.1">If you are using URP version 13.1 or newer, there is a built-in converter available. </span><span class="kobospan" id="kobo.118.2">Please refer to this page for more information on how to utilize this </span><span><span class="kobospan" id="kobo.119.1">converter: </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.120.1">https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@14.0/manual/features/rp-converter.html</span></strong></span><span><span class="kobospan" id="kobo.121.1">.</span></span></li>
<li class="calibre11"><span class="kobospan" id="kobo.122.1">If you are using a URP version prior to 13.1, you need to refer to this </span><span><span class="kobospan" id="kobo.123.1">link: </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.124.1">https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@13.0/manual/upgrading-your-shaders.html</span></strong></span><span><span class="kobospan" id="kobo.125.1">.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.126.1">In the next subsection, we will discover the power of Unity’s URP, a versatile package offering optimized rendering, custom shaders, and enhanced lighting for creating visually stunning projects across </span><span><span class="kobospan" id="kobo.127.1">multiple platforms.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.128.1">Exploring URP in Unity – features and functionality</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.129.1">The URP </span><a id="_idIndexMarker482" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.130.1">package in Unity provides developers with a range of features and functionalities to enhance the rendering capabilities of their projects. </span><span class="kobospan" id="kobo.130.2">Here are some key aspects of the</span><a id="_idIndexMarker483" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.131.1"> URP package and </span><span><span class="kobospan" id="kobo.132.1">its usage:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.133.1">Optimized rendering pipeline</span></strong><span class="kobospan" id="kobo.134.1">: URP offers an optimized rendering pipeline designed to balance performance and visual quality across various platforms and devices. </span><span class="kobospan" id="kobo.134.2">It includes features such as deferred and forward rendering paths, allowing us to choose the rendering technique that best suits their </span><span><span class="kobospan" id="kobo.135.1">project’s requirements.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.136.1">Lightweight rendering</span></strong><span class="kobospan" id="kobo.137.1">: URP is designed to be lightweight, making it suitable for projects targeting mobile devices, lower-end hardware, and performance-conscious applications. </span><span class="kobospan" id="kobo.137.2">It optimizes rendering processes to achieve smooth performance while maintaining </span><span><span class="kobospan" id="kobo.138.1">visual fidelity.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.139.1">Shader graph integration</span></strong><span class="kobospan" id="kobo.140.1">: URP seamlessly integrates with Unity’s Shader Graph tool, allowing us to create custom shaders and visual effects without writing code. </span><span class="kobospan" id="kobo.140.2">Shader Graph empowers us to design complex materials, lighting effects, and post-processing effects through a </span><span><span class="kobospan" id="kobo.141.1">node-based interface.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.142.1">Custom rendering features</span></strong><span class="kobospan" id="kobo.143.1">: URP provides support for custom rendering features</span><a id="_idIndexMarker484" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.144.1"> through </span><strong class="bold"><span class="kobospan" id="kobo.145.1">Scriptable Render Pipeline</span></strong><span class="kobospan" id="kobo.146.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.147.1">SRP</span></strong><span class="kobospan" id="kobo.148.1">) extensions. </span><span class="kobospan" id="kobo.148.2">We can extend</span><a id="_idIndexMarker485" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.149.1"> and customize the rendering </span><a id="_idIndexMarker486" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.150.1">pipeline by implementing custom render passes, post-processing effects, and </span><span><span class="kobospan" id="kobo.151.1">shader variants.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.152.1">Enhanced lighting system</span></strong><span class="kobospan" id="kobo.153.1">: URP includes a flexible lighting system that supports real-time lighting, shadows, and reflections. </span><span class="kobospan" id="kobo.153.2">It offers features such as per-object and per-pixel lighting, dynamic shadows, and light probes for realistic </span><span><span class="kobospan" id="kobo.154.1">lighting effects.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.155.1">Post-processing effects</span></strong><span class="kobospan" id="kobo.156.1">: URP includes built-in support for post-processing effects, allowing us to enhance the visual quality of their scenes. </span><span class="kobospan" id="kobo.156.2">It provides a range of post-processing effects such as bloom, depth of field, color grading, and </span><span><span class="kobospan" id="kobo.157.1">ambient occlusion.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.158.1">Cross-platform compatibility</span></strong><span class="kobospan" id="kobo.159.1">: URP is designed for cross-platform compatibility, enabling us to create games and applications for various platforms, including mobile devices, consoles, and PCs. </span><span class="kobospan" id="kobo.159.2">It optimizes rendering performance across different hardware configurations and </span><span><span class="kobospan" id="kobo.160.1">platform specifications.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.161.1">In summary, the URP package in Unity provides us with a lightweight, flexible, and optimized rendering solution for creating visually stunning and performance-efficient projects. </span><span class="kobospan" id="kobo.161.2">From lighting and shading to post-processing effects and custom rendering features, URP empowers us to bring their creative visions to life while ensuring optimal performance across different platforms </span><span><span class="kobospan" id="kobo.162.1">and devices.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.163.1">Next, we’ll explore more advanced topics, such as render callbacks and custom </span><span><span class="kobospan" id="kobo.164.1">render features.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.165.1">Mastering visual modifications in Unity – advanced techniques with URP and C#</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.166.1">Introducing </span><a id="_idIndexMarker487" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.167.1">advanced techniques in URP using C# can greatly modify the visual quality and performance of your Unity projects. </span><span class="kobospan" id="kobo.167.2">Two key features that we can explore and discuss in this section are Custom Render Passes and Render </span><span><span class="kobospan" id="kobo.168.1">Pipeline Callbacks:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.169.1">Custom </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.170.1">Render Passes</span></strong></span><span><span class="kobospan" id="kobo.171.1">:</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.172.1">Custom Render Passes allow you to inject custom rendering logic into the render pipeline, enabling you to implement specialized effects or optimizations beyond the built-in features </span><span><span class="kobospan" id="kobo.173.1">of URP.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.174.1">With Custom Render Passes, you have fine-grained control over the rendering process at various stages, such as before or after opaque rendering, before or after transparent rendering, or even in between specific </span><span><span class="kobospan" id="kobo.175.1">render queues.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.176.1">You can use Custom Render Passes to implement effects like outline rendering, screen-space effects, custom post-processing, or optimizations such as rendering additional buffers for custom shaders </span><span><span class="kobospan" id="kobo.177.1">or computations.</span></span></li></ul></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.178.1">Render </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.179.1">Pipeline Callbacks</span></strong></span><span><span class="kobospan" id="kobo.180.1">:</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.181.1">Render Pipeline Callbacks provide a mechanism for hooking into specific events and stages within the render pipeline to execute custom </span><span><span class="kobospan" id="kobo.182.1">C# code.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.183.1">Using Render Pipeline Callbacks, you can perform tasks such as modifying materials, adjusting rendering settings dynamically, or injecting custom rendering logic at specific points in the </span><span><span class="kobospan" id="kobo.184.1">rendering process.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.185.1">Render Pipeline Callbacks can be used to implement advanced features such as dynamic material modifications based on game events, procedural generation of textures or geometry, or applying custom shader effects based on </span><span><span class="kobospan" id="kobo.186.1">runtime conditions.</span></span></li></ul></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.187.1">Next, let’s explore an example that demonstrates the application of these advanced techniques within </span><span><span class="kobospan" id="kobo.188.1">our project.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.189.1">Illustration of implementing advanced techniques</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.190.1">Here is a</span><a id="_idIndexMarker488" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.191.1"> step-by-step guide, illustrated with examples, on how to utilize these advanced techniques to create and control the </span><span><span class="kobospan" id="kobo.192.1">outline effect:</span></span></p>
<ol class="calibre15">
<li class="calibre11"><span class="kobospan" id="kobo.193.1">Before creating the renderer feature, ensure that your project is configured to use the URP renderer data in your </span><strong class="bold"><span class="kobospan" id="kobo.194.1">Quality and Graphics</span></strong><span class="kobospan" id="kobo.195.1"> settings within the </span><strong class="bold"><span class="kobospan" id="kobo.196.1">Project Settings</span></strong><span class="kobospan" id="kobo.197.1">. </span><span class="kobospan" id="kobo.197.2">Right-click in your </span><strong class="bold"><span class="kobospan" id="kobo.198.1">Project</span></strong><span class="kobospan" id="kobo.199.1"> tab and navigate to </span><strong class="bold"><span class="kobospan" id="kobo.200.1">Create | Rendering | URP Renderer Feature</span></strong><span class="kobospan" id="kobo.201.1"> to generate a new feature script. </span><span class="kobospan" id="kobo.201.2">You can name </span><span><span class="kobospan" id="kobo.202.1">it </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.203.1">OutlineEffect</span></strong></span><span><span class="kobospan" id="kobo.204.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer098">
<span class="kobospan" id="kobo.205.1"><img alt="Figure 8.2 – Creating an URP Renderer Feature script" src="image/B22017_08_02.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.206.1">Figure 8.2 – Creating an URP Renderer Feature script</span></p>
<ol class="calibre15">
<li value="2" class="calibre11"><span class="kobospan" id="kobo.207.1">Next, we open the </span><strong class="source-inline1"><span class="kobospan" id="kobo.208.1">OutlineEffect</span></strong><span class="kobospan" id="kobo.209.1"> script and make modifications as outlined in the</span><a id="_idIndexMarker489" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.210.1"> following </span><span><span class="kobospan" id="kobo.211.1">code block:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.212.1">
public class OutlineEffect : ScriptableRendererFeature
{
    class OutlineRenderPass : ScriptableRenderPass
    {
        public List&lt;Material&gt; outlineMaterials;
        public OutlineRenderPass(List&lt;Material&gt; materials)
        {
            this.outlineMaterials = materials;
            renderPassEvent = RenderPassEvent.AfterRenderingOpaques;
        }
        // This method is called before executing the render pass..
</span><span class="kobospan1" id="kobo.212.2">        public override void OnCameraSetup(CommandBuffer cmd, ref RenderingData renderingData)
        {
        }
        // Here you can implement the rendering logic.
</span><span class="kobospan1" id="kobo.212.3">        // Use &lt;c&gt;ScriptableRenderContext&lt;/c&gt; to issue drawing commands or execute command buffers
        // https://docs.unity3d.com/ScriptReference/Rendering.ScriptableRenderContext.html
        // You don't have to call ScriptableRenderContext.submit, the render pipeline will call it at specific points in the pipeline.
</span><span class="kobospan1" id="kobo.212.4">        public override void Execute(ScriptableRenderContext context, ref RenderingData renderingData)
        {
            CommandBuffer cmd = CommandBufferPool.Get("OutlineRenderPass");
            // Set the render target to the camera's depth buffer
            cmd.SetRenderTarget(renderingData.cameraData.renderer.cameraDepthTargetHandle);
            // Clear the depth buffer to ensure the outline is rendered correctly
            cmd.ClearRenderTarget(false, true, Color.clear);
            var settings = new DrawingSettings(new ShaderTagId("UniversalForward"), new SortingSettings(renderingData.cameraData.camera));
            var filterSettings = new FilteringSettings(RenderQueueRange.opaque);
            context.DrawRenderers(renderingData.cullResults, ref settings, ref filterSettings);
            // Draw objects with outline materials
            // Draw objects with outline materials
            foreach (Material material in outlineMaterials)
            {
                var drawSettings = new DrawingSettings(new ShaderTagId("Outline"), new SortingSettings(renderingData.cameraData.camera))
                {
                    overrideMaterial = material
                };
                var filterSettingsOutline = new FilteringSettings(RenderQueueRange.opaque);
                context.DrawRenderers(renderingData.cullResults, ref drawSettings, ref filterSettingsOutline);
            }
            context.ExecuteCommandBuffer(cmd);
            CommandBufferPool.Release(cmd);
        }
        // Cleanup any allocated resources that were created during the execution of this render pass.
</span><span class="kobospan1" id="kobo.212.5">        public override void OnCameraCleanup(CommandBuffer cmd)
        {
        }
    }
    OutlineRenderPass outlinePass;
    public List&lt;Material&gt; outlineMaterials;
    /// &lt;inheritdoc/&gt;
    public override void Create()
    {
        outlinePass = new OutlineRenderPass(outlineMaterials);
        outlinePass.renderPassEvent = RenderPassEvent.AfterRenderingOpaques;
    }
    // Here you can inject one or multiple render passes in the renderer.
</span><span class="kobospan1" id="kobo.212.6">    // This method is called when setting up the renderer once per-camera.
</span><span class="kobospan1" id="kobo.212.7">    public override void AddRenderPasses(ScriptableRenderer renderer, ref RenderingData renderingData)
    {
        renderer.EnqueuePass(outlinePass);
    }
}</span></pre><p class="calibre3"><span class="kobospan" id="kobo.213.1">Let’s break down</span><a id="_idIndexMarker490" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.214.1"> the previous code to explain what each </span><span><span class="kobospan" id="kobo.215.1">part does:</span></span></p><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.216.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.217.1">OutlineEffect</span></strong><span class="kobospan" id="kobo.218.1"> class (</span><span><span class="kobospan" id="kobo.219.1">inherits </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.220.1">ScriptableRendererFeature</span></strong></span><span><span class="kobospan" id="kobo.221.1">):</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.222.1">This class represents a custom renderer feature responsible for adding an outline effect to objects in </span><span><span class="kobospan" id="kobo.223.1">the scene.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.224.1">It inherits from the </span><strong class="source-inline1"><span class="kobospan" id="kobo.225.1">ScriptableRendererFeature</span></strong><span class="kobospan" id="kobo.226.1"> class, which allows it to integrate </span><span><span class="kobospan" id="kobo.227.1">with URP.</span></span></li></ul></li><li class="calibre11"><span class="kobospan" id="kobo.228.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.229.1">OutlineRenderPass</span></strong><span class="kobospan" id="kobo.230.1"> class (</span><span><span class="kobospan" id="kobo.231.1">inherits </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.232.1">ScriptableRenderPass</span></strong></span><span><span class="kobospan" id="kobo.233.1">):</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.234.1">This nested class represents a custom render pass responsible for rendering objects with an </span><span><span class="kobospan" id="kobo.235.1">outline effect.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.236.1">It inherits from the </span><strong class="source-inline1"><span class="kobospan" id="kobo.237.1">ScriptableRenderPass</span></strong><span class="kobospan" id="kobo.238.1"> class, which provides functionality for defining custom </span><span><span class="kobospan" id="kobo.239.1">rendering logic.</span></span></li></ul></li><li class="calibre11"><span class="kobospan" id="kobo.240.1">The </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.241.1">OutlineRenderPass</span></strong></span><span><span class="kobospan" id="kobo.242.1"> constructor:</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.243.1">The constructor initializes the </span><strong class="source-inline1"><span class="kobospan" id="kobo.244.1">OutlineRenderPass</span></strong><span class="kobospan" id="kobo.245.1"> class with a list of materials (</span><strong class="source-inline1"><span class="kobospan" id="kobo.246.1">outlineMaterials</span></strong><span class="kobospan" id="kobo.247.1">) used for rendering the </span><span><span class="kobospan" id="kobo.248.1">outline effect.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.249.1">It sets </span><strong class="source-inline1"><span class="kobospan" id="kobo.250.1">renderPassEvent</span></strong><span class="kobospan" id="kobo.251.1"> to </span><strong class="source-inline1"><span class="kobospan" id="kobo.252.1">RenderPassEvent.AfterRenderingOpaques</span></strong><span class="kobospan" id="kobo.253.1">, indicating that the render pass should execute after rendering </span><span><span class="kobospan" id="kobo.254.1">opaque objects.</span></span></li></ul></li><li class="calibre11"><span class="kobospan" id="kobo.255.1">The </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.256.1">OnCameraSetup</span></strong></span><span><span class="kobospan" id="kobo.257.1"> method:</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.258.1">This method is called before executing the render pass but doesn’t contain any logic in </span><span><span class="kobospan" id="kobo.259.1">the code.</span></span></li></ul></li><li class="calibre11"><span class="kobospan" id="kobo.260.1">The </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.261.1">Execute</span></strong></span><span><span class="kobospan" id="kobo.262.1"> method:</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.263.1">This method contains the main rendering logic for the </span><span><span class="kobospan" id="kobo.264.1">outline effect.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.265.1">It retrieves a command buffer (</span><strong class="source-inline1"><span class="kobospan" id="kobo.266.1">cmd</span></strong><span class="kobospan" id="kobo.267.1">) </span><span><span class="kobospan" id="kobo.268.1">from </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.269.1">CommandBufferPool</span></strong></span><span><span class="kobospan" id="kobo.270.1">.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.271.1">It sets the render target to the camera’s depth buffer and clears the depth buffer to ensure the outline is </span><span><span class="kobospan" id="kobo.272.1">rendered correctly.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.273.1">It defines </span><strong class="source-inline1"><span class="kobospan" id="kobo.274.1">DrawingSettings</span></strong><span class="kobospan" id="kobo.275.1"> and </span><strong class="source-inline1"><span class="kobospan" id="kobo.276.1">FilteringSettings</span></strong><span class="kobospan" id="kobo.277.1"> for rendering opaque objects without the </span><span><span class="kobospan" id="kobo.278.1">outline effect.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.279.1">It iterates through the list of </span><strong class="source-inline1"><span class="kobospan" id="kobo.280.1">outlineMaterials</span></strong><span class="kobospan" id="kobo.281.1"> and renders objects with the outline effect using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.282.1">overrideMaterial</span></strong><span class="kobospan" id="kobo.283.1"> property </span><span><span class="kobospan" id="kobo.284.1">of </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.285.1">DrawingSettings</span></strong></span><span><span class="kobospan" id="kobo.286.1">.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.287.1">It</span><a id="_idIndexMarker491" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.288.1"> executes the command buffer and releases it back to </span><span><span class="kobospan" id="kobo.289.1">the pool.</span></span></li></ul></li><li class="calibre11"><span class="kobospan" id="kobo.290.1">The </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.291.1">OnCameraCleanup</span></strong></span><span><span class="kobospan" id="kobo.292.1"> method:</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.293.1">This method is called after executing the render pass but doesn’t contain any logic in </span><span><span class="kobospan" id="kobo.294.1">the code.</span></span></li></ul></li><li class="calibre11"><span class="kobospan" id="kobo.295.1">The </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.296.1">Create</span></strong></span><span><span class="kobospan" id="kobo.297.1"> method:</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.298.1">This method initializes the </span><strong class="source-inline1"><span class="kobospan" id="kobo.299.1">OutlineRenderPass</span></strong><span class="kobospan" id="kobo.300.1"> instance with the provided list </span><span><span class="kobospan" id="kobo.301.1">of </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.302.1">outlineMaterials</span></strong></span><span><span class="kobospan" id="kobo.303.1">.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.304.1">It sets </span><strong class="source-inline1"><span class="kobospan" id="kobo.305.1">renderPassEvent</span></strong> <span><span class="kobospan" id="kobo.306.1">to </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.307.1">RenderPassEvent.AfterRenderingOpaques</span></strong></span><span><span class="kobospan" id="kobo.308.1">.</span></span></li></ul></li><li class="calibre11"><span class="kobospan" id="kobo.309.1">The </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.310.1">AddRenderPasses</span></strong></span><span><span class="kobospan" id="kobo.311.1"> method:</span></span><ul class="calibre16"><li class="calibre11"><span class="kobospan" id="kobo.312.1">This method is called when setting up the renderer once </span><span><span class="kobospan" id="kobo.313.1">per camera.</span></span></li><li class="calibre11"><span class="kobospan" id="kobo.314.1">It enqueues the </span><strong class="source-inline1"><span class="kobospan" id="kobo.315.1">OutlineRenderPass</span></strong><span class="kobospan" id="kobo.316.1"> instance into the renderer to be executed during the </span><span><span class="kobospan" id="kobo.317.1">rendering process.</span></span></li></ul></li></ul><p class="calibre3"><span class="kobospan" id="kobo.318.1">Overall, the </span><strong class="source-inline"><span class="kobospan" id="kobo.319.1">OutlineEffect</span></strong><span class="kobospan" id="kobo.320.1"> class defines a custom renderer feature that adds an outline effect to objects in the scene by utilizing a custom render pass (</span><strong class="source-inline"><span class="kobospan" id="kobo.321.1">OutlineRenderPass</span></strong><span class="kobospan" id="kobo.322.1">) with a list of outline materials. </span><span class="kobospan" id="kobo.322.2">The </span><strong class="source-inline"><span class="kobospan" id="kobo.323.1">OutlineRenderPass</span></strong><span class="kobospan" id="kobo.324.1"> class implements the rendering logic for applying the outline effect to objects during the </span><span><span class="kobospan" id="kobo.325.1">rendering process.</span></span></p></li> <li class="calibre11"><span class="kobospan" id="kobo.326.1">Next, you</span><a id="_idIndexMarker492" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.327.1"> can integrate the feature into your URP data scriptable object. </span><span class="kobospan" id="kobo.327.2">You can customize the settings according to your game’s requirements. </span><span class="kobospan" id="kobo.327.3">For our demonstration, I’ve retained the default settings, as depicted in </span><span><em class="italic"><span class="kobospan" id="kobo.328.1">Figure 8</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.329.1">.3</span></em></span><span><span class="kobospan" id="kobo.330.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer099">
<span class="kobospan" id="kobo.331.1"><img alt="Figure 8.3 – Adding OutlineEffect Feature" src="image/B22017_08_03.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.332.1">Figure 8.3 – Adding OutlineEffect Feature</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.333.1">You can</span><a id="_idIndexMarker493" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.334.1"> include additional features to achieve your desired visual effects. </span><span class="kobospan" id="kobo.334.2">Furthermore, you can refer to Unity’s official documentation for further details using the following </span><span><span class="kobospan" id="kobo.335.1">link: </span></span><span><strong class="source-inline"><span class="kobospan" id="kobo.336.1">https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@16.0/manual/index.html</span></strong></span><span><span class="kobospan" id="kobo.337.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.338.1">In the following figure, you will observe the disparity before and after applying </span><span><span class="kobospan" id="kobo.339.1">the feature:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer100">
<span class="kobospan" id="kobo.340.1"><img alt="Figure 8.4 –OutlineEffect feature effect" src="image/B22017_08_04.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.341.1">Figure 8.4 –OutlineEffect feature effect</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.342.1">Discover the significant impact and benefits of leveraging the render pass feature for optimizing rendering and enhancing </span><span><span class="kobospan" id="kobo.343.1">visual effects.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.344.1">What is the purpose of utilizing the render pass feature?</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.345.1">Using </span><a id="_idIndexMarker494" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.346.1">render passes in conjunction with the URP offers several benefits for implementing an </span><span><span class="kobospan" id="kobo.347.1">outline effect:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.348.1">Modularity and extensibility</span></strong><span class="kobospan" id="kobo.349.1">: By utilizing render passes, you can modularize your rendering pipeline and separate specific rendering tasks into distinct passes. </span><span class="kobospan" id="kobo.349.2">This makes your rendering pipeline more flexible and easier to maintain. </span><span class="kobospan" id="kobo.349.3">You can add or remove passes as needed without affecting other parts of </span><span><span class="kobospan" id="kobo.350.1">the pipeline.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.351.1">Performance optimization</span></strong><span class="kobospan" id="kobo.352.1">: Render passes in URP allow you to control the order in which rendering tasks are executed. </span><span class="kobospan" id="kobo.352.2">This enables you to optimize performance by efficiently batching and sorting objects, reducing overdraw, and minimizing unnecessary render calls. </span><span class="kobospan" id="kobo.352.3">For the outline effect, you can ensure that only</span><a id="_idIndexMarker495" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.353.1"> the necessary objects are rendered with the outline material, reducing the </span><span><span class="kobospan" id="kobo.354.1">computational overhead.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.355.1">Integration with URP’s rendering pipeline</span></strong><span class="kobospan" id="kobo.356.1">: URP provides a streamlined rendering pipeline optimized for performance across various platforms. </span><span class="kobospan" id="kobo.356.2">By integrating your custom rendering effects, such as the outline effect, into URP’s pipeline using render passes, you ensure compatibility and consistency with URP’s rendering features </span><span><span class="kobospan" id="kobo.357.1">and optimizations.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.358.1">Consistency across platforms</span></strong><span class="kobospan" id="kobo.359.1">: URP is designed to provide consistent rendering results across different platforms and devices, including desktop, mobile, and consoles. </span><span class="kobospan" id="kobo.359.2">By leveraging URP’s features, you can ensure that your outline effect behaves predictably and performs optimally across a wide range of </span><span><span class="kobospan" id="kobo.360.1">target platforms.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.361.1">Shader graph integration</span></strong><span class="kobospan" id="kobo.362.1">: URP seamlessly integrates with Unity’s Shader Graph tool, allowing you to create custom shaders visually without writing code. </span><span class="kobospan" id="kobo.362.2">You can use Shader Graph to design the outline shader and easily incorporate it into your render pass, making the implementation process more accessible </span><span><span class="kobospan" id="kobo.363.1">and intuitive.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.364.1">Overall, while it’s possible to apply the outline effect directly without utilizing URP’s render pass feature, integrating it with URP offers advantages in terms of performance optimization, modularity, consistency, and compatibility with Unity’s rendering pipeline. </span><span class="kobospan" id="kobo.364.2">It provides a more robust and flexible solution for implementing custom rendering effects in your </span><span><span class="kobospan" id="kobo.365.1">Unity projects.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.366.1">Game development benefits from pre-built assets and C# scripts, saving time and enhancing creativity. </span><span class="kobospan" id="kobo.366.2">Unity’s URP optimizes visuals and performance. </span><span class="kobospan" id="kobo.366.3">Understanding URP versus HDRP aids pipeline selection. </span><span class="kobospan" id="kobo.366.4">URP setup involves package installation and configuration. </span><span class="kobospan" id="kobo.366.5">URP features include lightweight rendering, Shader Graph integration, and advanced techniques such as Custom Render Passes. </span><span class="kobospan" id="kobo.366.6">Render passes in URP offer modularity and </span><span><span class="kobospan" id="kobo.367.1">performance optimization.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.368.1">In the upcoming section, we’ll explore integrating backend services, understanding their significance in game development, and the reasons for their necessity. </span><span class="kobospan" id="kobo.368.2">Additionally, I’ll illustrate their usage through an example featuring one of the </span><span><span class="kobospan" id="kobo.369.1">availabl</span><a id="_idTextAnchor132" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.370.1">e services.</span></span></p>
<h1 id="_idParaDest-126" class="calibre5"><a id="_idTextAnchor133" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.371.1">Integrating backend services with C#</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.372.1">In this</span><a id="_idIndexMarker496" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.373.1"> section, we will understand how the integration of backend APIs with C# provides us with a potent tool to enrich our projects with robust functionalities. </span><span class="kobospan" id="kobo.373.2">Through the utilization of these APIs, we can seamlessly link their Unity projects to external services, facilitating features such as user authentication, data storage, </span><span><span class="kobospan" id="kobo.374.1">and leaderboards.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.375.1">Let’s explore backend services and understand their significance </span><span><span class="kobospan" id="kobo.376.1">in games.</span></span></p>
<h2 id="_idParaDest-127" class="calibre7"><a id="_idTextAnchor134" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.377.1">Backend services</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.378.1">Backend services</span><a id="_idIndexMarker497" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.379.1"> refer to the set of functionalities and infrastructure components that support the operation of software applications, including games, from the server-side perspective. </span><span class="kobospan" id="kobo.379.2">In the context of game development, backend services encompass various features and capabilities designed to enhance gameplay experiences, manage player data, and facilitate online interactions. </span><span class="kobospan" id="kobo.379.3">Here are some key aspects of backend services in </span><span><span class="kobospan" id="kobo.380.1">game development:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.381.1">Data storage</span></strong><span class="kobospan" id="kobo.382.1">: Provides</span><a id="_idIndexMarker498" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.383.1"> storage solutions for game-related data, including player profiles, game progress, achievements, inventory, and other persistent game state information. </span><span class="kobospan" id="kobo.383.2">This data is typically stored in databases or cloud storage systems, ensuring reliability, scalability, and accessibility across different platforms </span><span><span class="kobospan" id="kobo.384.1">and devices.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.385.1">User authentication</span></strong><span class="kobospan" id="kobo.386.1">: Offers </span><a id="_idIndexMarker499" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.387.1">authentication mechanisms to verify the identity of players and ensure secure access to game features and content. </span><span class="kobospan" id="kobo.387.2">Authentication processes typically involve user registration, login, and session management, employing encryption and secure protocols to protect user credentials and prevent </span><span><span class="kobospan" id="kobo.388.1">unauthorized access.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.389.1">Multiplayer functionality</span></strong><span class="kobospan" id="kobo.390.1">: Enables the implementation of multiplayer features</span><a id="_idIndexMarker500" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.391.1"> in games, allowing players to connect, interact, and compete with each other in real time. </span><span class="kobospan" id="kobo.391.2">This includes functionalities such as matchmaking, lobby management, game session orchestration, and synchronization of player actions across </span><span><span class="kobospan" id="kobo.392.1">networked environments.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.393.1">Real-time communication</span></strong><span class="kobospan" id="kobo.394.1">: Facilitate real-time communication between game </span><a id="_idIndexMarker501" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.395.1">clients and servers, supporting features such as in-game chat, messaging, notifications, and real-time updates. </span><span class="kobospan" id="kobo.395.2">These communication channels enable players to engage with each other, receive important game updates, and participate in collaborative or competitive </span><span><span class="kobospan" id="kobo.396.1">gameplay experiences.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.397.1">Analytics and insights</span></strong><span class="kobospan" id="kobo.398.1">: Provides analytics tools and capabilities to track player</span><a id="_idIndexMarker502" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.399.1"> behavior, monitor game performance, and gain insights into player engagement, retention, and monetization patterns. </span><span class="kobospan" id="kobo.399.2">Analytics data helps us make informed decisions, optimize game mechanics, and tailor experiences to meet </span><span><span class="kobospan" id="kobo.400.1">player preferences.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.401.1">Live operations and content management</span></strong><span class="kobospan" id="kobo.402.1">: Supports live operations and content </span><a id="_idIndexMarker503" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.403.1">management, allowing us to deploy updates, patches, and new content to games seamlessly. </span><span class="kobospan" id="kobo.403.2">This</span><a id="_idIndexMarker504" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.404.1"> includes features such as </span><strong class="bold"><span class="kobospan" id="kobo.405.1">content delivery networks</span></strong><span class="kobospan" id="kobo.406.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.407.1">CDNs</span></strong><span class="kobospan" id="kobo.408.1">), version control, A/B testing, and live event management, enabling dynamic and evolving </span><span><span class="kobospan" id="kobo.409.1">gameplay experiences.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.410.1">In summary, backend services form the foundation of modern game development, providing essential infrastructure and functionalities to support online multiplayer gaming, manage player data, analyze player behavior, and deliver engaging and immersive gameplay experiences across different platforms </span><span><span class="kobospan" id="kobo.411.1">and devices.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.412.1">Introduction of backend service providers and their features</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.413.1">Several </span><a id="_idIndexMarker505" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.414.1">backend service providers offer comprehensive solutions tailored to the needs of game developers, each with its own set of features and capabilities. </span><span class="kobospan" id="kobo.414.2">Here are some available services, and these are the most commonly used options at the time of writing </span><span><span class="kobospan" id="kobo.415.1">this book:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.416.1">Firebase</span></strong><span class="kobospan" id="kobo.417.1">: Developed</span><a id="_idIndexMarker506" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.418.1"> by Google, Firebase offers a suite</span><a id="_idIndexMarker507" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.419.1"> of backend services including real-time database, authentication, cloud storage, and hosting. </span><span class="kobospan" id="kobo.419.2">It provides seamless integration with Unity, making it an ideal choice for us seeking a robust and scalable </span><span><span class="kobospan" id="kobo.420.1">backend solution.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.421.1">PlayFab</span></strong><span class="kobospan" id="kobo.422.1">: PlayFab</span><a id="_idIndexMarker508" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.423.1"> offers a comprehensive backend</span><a id="_idIndexMarker509" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.424.1"> platform specifically designed for game developers. </span><span class="kobospan" id="kobo.424.2">Its features include player authentication, data storage, in-game analytics, virtual currency management, and live operations tools. </span><span class="kobospan" id="kobo.424.3">PlayFab’s flexible APIs and SDKs support easy integration with Unity, empowering us to build engaging multiplayer experiences and live </span><span><span class="kobospan" id="kobo.425.1">service features.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.426.1">Amazon Web Services (AWS)</span></strong><span class="kobospan" id="kobo.427.1">: AWS provides a wide range of cloud-based services </span><a id="_idIndexMarker510" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.428.1">including databases, authentication, content delivery, and analytics. </span><span class="kobospan" id="kobo.428.2">With offerings such as Amazon </span><a id="_idIndexMarker511" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.429.1">DynamoDB, Amazon Cognito, and Amazon GameLift, AWS offers scalable solutions for game developers looking to build, deploy, and manage backend infrastructure with flexibility </span><span><span class="kobospan" id="kobo.430.1">and reliability.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.431.1">We’ll use PlayFab in this chapter and in the next section, we will implement it in our project accordingly. </span><span class="kobospan" id="kobo.431.2">Let’s begin </span><span><span class="kobospan" id="kobo.432.1">integrating PlayFab.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.433.1">Integrating PlayFab</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.434.1">In this </span><a id="_idIndexMarker512" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.435.1">guide, I’ll walk you through the process of implementing PlayFab and setting it up in your project. </span><span class="kobospan" id="kobo.435.2">Then, we’ll create a sample authentication logic to demonstrate </span><span><span class="kobospan" id="kobo.436.1">its usage.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.437.1">To begin, you’ll need </span><a id="_idIndexMarker513" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.438.1">to download the PlayFab Unity package. </span><span class="kobospan" id="kobo.438.2">I’ve utilized PlayFab SDK 2.188 for this purpose, which you can obtain from the following link: </span><a href="https://github.com/PlayFab/UnitySDK/releases" class="calibre6 pcalibre1 pcalibre"><span class="kobospan" id="kobo.439.1">https://github.com/PlayFab/UnitySDK/releases</span></a><span class="kobospan" id="kobo.440.1">. </span><span class="kobospan" id="kobo.440.2">Once you download it, follow </span><span><span class="kobospan" id="kobo.441.1">these steps:</span></span></p>
<ol class="calibre15">
<li class="calibre11"><span class="kobospan" id="kobo.442.1">In</span><em class="italic"> </em><span><em class="italic"><span class="kobospan" id="kobo.443.1">Figure 8</span></em></span><em class="italic"><span class="kobospan" id="kobo.444.1">.5</span></em><span class="kobospan" id="kobo.445.1">, as you can see, we’re extracting the PlayFab SDK into our project. </span><span class="kobospan" id="kobo.445.2">Simply click </span><strong class="bold"><span class="kobospan" id="kobo.446.1">Import</span></strong><span class="kobospan" id="kobo.447.1"> to initiate the process of importing files and </span><span><span class="kobospan" id="kobo.448.1">compiling them.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer101">
<span class="kobospan" id="kobo.449.1"><img alt="Figure 8.5 – Importing PlayFab SDK" src="image/B22017_08_05.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.450.1">Figure 8.5 – Importing PlayFab SDK</span></p>
<ol class="calibre15">
<li value="2" class="calibre11"><span class="kobospan" id="kobo.451.1">Wait for</span><a id="_idIndexMarker514" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.452.1"> Unity to finish compiling, then </span><a id="_idIndexMarker515" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.453.1">navigate to </span><strong class="bold"><span class="kobospan" id="kobo.454.1">Assets</span></strong><span class="kobospan" id="kobo.455.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.456.1">PlayFabSDK</span></strong><span class="kobospan" id="kobo.457.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.458.1">Shared</span></strong><span class="kobospan" id="kobo.459.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.460.1">Public</span></strong><span class="kobospan" id="kobo.461.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.462.1">Resources</span></strong><span class="kobospan" id="kobo.463.1">. </span><span class="kobospan" id="kobo.463.2">From there, you can select the Scriptable Object </span><strong class="bold"><span class="kobospan" id="kobo.464.1">PlayFabSharedSettings</span></strong><span class="kobospan" id="kobo.465.1"> to configure it for your project. </span><span class="kobospan" id="kobo.465.2">In </span><span><em class="italic"><span class="kobospan" id="kobo.466.1">Figure 8</span></em></span><em class="italic"><span class="kobospan" id="kobo.467.1">.6</span></em><span class="kobospan" id="kobo.468.1">, you can observe the settings of PlayFab that we </span><span><span class="kobospan" id="kobo.469.1">can configure:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer102">
<span class="kobospan" id="kobo.470.1"><img alt="Figure 8.6 – PlayFab Shared Settings" src="image/B22017_08_06.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.471.1">Figure 8.6 – PlayFab Shared Settings</span></p>
<ol class="calibre15">
<li value="3" class="calibre11"><span class="kobospan" id="kobo.472.1">For </span><strong class="bold"><span class="kobospan" id="kobo.473.1">Request Type</span></strong><span class="kobospan" id="kobo.474.1">, you can select </span><strong class="bold"><span class="kobospan" id="kobo.475.1">Unity Web Request</span></strong><span class="kobospan" id="kobo.476.1"> or choose the option appropriate</span><a id="_idIndexMarker516" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.477.1"> for your project. </span><span class="kobospan" id="kobo.477.2">However, for</span><a id="_idIndexMarker517" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.478.1"> our project, I will opt for </span><strong class="bold"><span class="kobospan" id="kobo.479.1">Unity </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.480.1">Web Request</span></strong></span><span><span class="kobospan" id="kobo.481.1">.</span></span></li>
<li class="calibre11"><span class="kobospan" id="kobo.482.1">We will include the </span><strong class="bold"><span class="kobospan" id="kobo.483.1">Title ID</span></strong><span class="kobospan" id="kobo.484.1"> value, which you can obtain from your PlayFab game project dashboard. </span><span class="kobospan" id="kobo.484.2">If you don’t have a project yet, you can create one and use its key in your project. </span><span><em class="italic"><span class="kobospan" id="kobo.485.1">Figure 8</span></em></span><em class="italic"><span class="kobospan" id="kobo.486.1">.7</span></em><span class="kobospan" id="kobo.487.1"> shows where you can locate the ID needed for </span><span><span class="kobospan" id="kobo.488.1">PlayFab settings.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer103">
<span class="kobospan" id="kobo.489.1"><img alt="Figure 8.7 – PlayFab title ID" src="image/B22017_08_07.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.490.1">Figure 8.7 – PlayFab title ID</span></p>
<ol class="calibre15">
<li value="5" class="calibre11"><span class="kobospan" id="kobo.491.1">Next, access </span><a id="_idIndexMarker518" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.492.1">the project to retrieve the </span><a id="_idIndexMarker519" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.493.1">secret key; to do that, click on the settings icon and select </span><span><strong class="bold"><span class="kobospan" id="kobo.494.1">Title settings</span></strong></span><span><span class="kobospan" id="kobo.495.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer104">
<span class="kobospan" id="kobo.496.1"><img alt="Figure 8.8 – PlayFab Title settings" src="image/B22017_08_08.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.497.1">Figure 8.8 – PlayFab Title settings</span></p>
<ol class="calibre15">
<li value="6" class="calibre11"><span class="kobospan" id="kobo.498.1">The</span><a id="_idIndexMarker520" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.499.1"> preceding step will open the settings</span><a id="_idIndexMarker521" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.500.1"> tabs and from here, we can navigate to the </span><strong class="bold"><span class="kobospan" id="kobo.501.1">Secret Keys</span></strong><span class="kobospan" id="kobo.502.1"> tab to retrieve the secret key, as depicted in </span><span><em class="italic"><span class="kobospan" id="kobo.503.1">Figure 8</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.504.1">.9</span></em></span><span><span class="kobospan" id="kobo.505.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer105">
<span class="kobospan" id="kobo.506.1"><img alt="Figure 8.9 –  Title secret key" src="image/B22017_08_09.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.507.1">Figure 8.9 –  Title secret key</span></p>
<ol class="calibre15">
<li value="7" class="calibre11"><span class="kobospan" id="kobo.508.1">Click on </span><strong class="bold"><span class="kobospan" id="kobo.509.1">Show</span></strong><span class="kobospan" id="kobo.510.1"> to reveal the secret key. </span><span class="kobospan" id="kobo.510.2">You can then copy it and paste it into the </span><strong class="bold"><span class="kobospan" id="kobo.511.1">Developer Secret Key</span></strong><span class="kobospan" id="kobo.512.1"> field in the PlayFab settings in </span><span><span class="kobospan" id="kobo.513.1">our game.</span></span></li>
</ol>
<p class="calibre3"><span class="kobospan" id="kobo.514.1">That’s it! </span><span class="kobospan" id="kobo.514.2">You</span><a id="_idIndexMarker522" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.515.1"> now have the PlayFab SDK integrated into</span><a id="_idIndexMarker523" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.516.1"> your project. </span><span class="kobospan" id="kobo.516.2">In the next steps, we will begin using it and learn through an example. </span><span class="kobospan" id="kobo.516.3">While this example is just a sample, it will cover the full flow of using this package. </span><span class="kobospan" id="kobo.516.4">There are numerous possibilities for utilizing this package, so feel free to explore their documentation for further </span><span><span class="kobospan" id="kobo.517.1">insights: </span></span><a href="B22017_08.xhtml#_idTextAnchor138" class="calibre6 pcalibre1 pcalibre"><span><span class="kobospan" id="kobo.518.1">https://learn.microsoft.com/en-us/gaming/playfab/</span></span></a><span><span class="kobospan" id="kobo.519.1">.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.520.1">Developing a sample login system</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.521.1">There are </span><a id="_idIndexMarker524" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.522.1">various methods for user login in games, such as using email, guest accounts, and, for mobile platforms, utilizing Play services for Android and Game Center for iOS. </span><span class="kobospan" id="kobo.522.2">PlayFab offers a variety of options to facilitate user login based on the </span><span><span class="kobospan" id="kobo.523.1">game platform.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.524.1"> For this system, we can establish a well-organized structure by following </span><span><span class="kobospan" id="kobo.525.1">these steps:</span></span></p>
<ol class="calibre15">
<li class="calibre11"><span class="kobospan" id="kobo.526.1">We will begin by creating an interface for the login method. </span><span class="kobospan" id="kobo.526.2">In the following code block, you will find a login method along with callbacks for the </span><span><span class="kobospan" id="kobo.527.1">login state:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.528.1">
using PlayFab.ClientModels;
using PlayFab;
public interface ILogin
{
    void Login(System.Action&lt;LoginResult&gt; onSuccess, System.Action&lt;PlayFabError&gt; onFailure);
}</span></pre></li> <li class="calibre11"><span class="kobospan" id="kobo.529.1">Next, we can create a class for each login method. </span><span class="kobospan" id="kobo.529.2">For guest login, we will utilize the device ID for authentication. </span><span class="kobospan" id="kobo.529.3">In the following code block, we have implemented the </span><strong class="source-inline1"><span class="kobospan" id="kobo.530.1">ILogin</span></strong><span class="kobospan" id="kobo.531.1"> interface with the </span><strong class="source-inline1"><span class="kobospan" id="kobo.532.1">DeviceLogin</span></strong><span class="kobospan" id="kobo.533.1"> class and incorporated </span><a id="_idIndexMarker525" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.534.1">the logic for logging in with the </span><span><span class="kobospan" id="kobo.535.1">device ID.</span></span><pre class="source-code"><span class="kobospan1" id="kobo.536.1">
using PlayFab.ClientModels;
using PlayFab;
public class DeviceLogin : ILogin
{
    private string deviceId;
    public DeviceLogin(string deviceId)
    {
        this.deviceId = deviceId;
    }
    public void Login(System.Action&lt;LoginResult&gt; onSuccess, System.Action&lt;PlayFabError&gt; onFailure)
    {
        var request = new LoginWithCustomIDRequest
        {
            CustomId = deviceId,
            CreateAccount = true // Create account if not exists
        };
        PlayFabClientAPI.LoginWithCustomID(request, onSuccess, onFailure);
    }
}</span></pre><p class="calibre3"><span class="kobospan" id="kobo.537.1">You can</span><a id="_idIndexMarker526" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.538.1"> follow these steps and create additional login logic, especially if you are targeting mobile platforms, as there will be alternative login methods specific to </span><span><span class="kobospan" id="kobo.539.1">mobile devices.</span></span></p></li> <li class="calibre11"><span class="kobospan" id="kobo.540.1">Then, we can create a </span><strong class="source-inline1"><span class="kobospan" id="kobo.541.1">LoginManager</span></strong><span class="kobospan" id="kobo.542.1"> class, which will be responsible for invoking the appropriate login method, as demonstrated in the following </span><span><span class="kobospan" id="kobo.543.1">code block</span></span><span><span class="kobospan" id="kobo.544.1">:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.545.1">
using PlayFab.ClientModels;
using PlayFab;
using UnityEngine;
public class LoginManager
{
    private ILogin loginMethod;
    public void SetLoginMethod(ILogin method)
    {
        loginMethod = method;
    }
    public void Login(System.Action&lt;LoginResult&gt; onSuccess, System.Action&lt;PlayFabError&gt; onFailure)
    {
        if (loginMethod != null)
        {
            loginMethod.Login(onSuccess , onFailure);
        }
        else
        {
            Debug.LogError("No login method set!");
        }
    }
}</span></pre></li> <li class="calibre11"><span class="kobospan" id="kobo.546.1">For the</span><a id="_idIndexMarker527" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.547.1"> next step, we will implement a </span><strong class="source-inline1"><span class="kobospan" id="kobo.548.1">PlayfabManager</span></strong><span class="kobospan" id="kobo.549.1"> script to manage the login methods and handle user input, subsequently triggering </span><span><span class="kobospan" id="kobo.550.1">appropriate actions:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.551.1">
using PlayFab.ClientModels;
using PlayFab;
using UnityEngine;
public class PlayFabManager
{
    private LoginManager loginManager;
    private string savedEmailKey = "SavedEmail";
    private string userEmail;
    private void Start()
    {
        loginManager = new LoginManager();
        // Check if email is saved
        if (PlayerPrefs.HasKey(savedEmailKey))
        {
            string savedEmail = PlayerPrefs.GetString(savedEmailKey);
            // Auto-login with saved email
            EmailLoginButtonClicked(savedEmail, "SavedPassword");
        }
    }
    // Example method for triggering email login
    public void EmailLoginButtonClicked(string email, string password)
    {
        userEmail = email;
        loginManager.SetLoginMethod(new EmailLogin(email, password));
        loginManager.Login(OnLoginSuccess, OnLoginFailure);
    }
    // Example method for triggering device ID login
    public void DeviceIDLoginButtonClicked(string deviceID)
    {
        loginManager.SetLoginMethod(new DeviceLogin(deviceID));
        loginManager.Login(OnLoginSuccess, OnLoginFailure);
    }
    private void OnLoginSuccess(LoginResult result)
    {
        Debug.Log("Login successful!");
        // You can handle success here, such as loading player data
        // Save email for future auto-login
        if (!string.IsNullOrEmpty(userEmail))
            PlayerPrefs.SetString(savedEmailKey, userEmail);
        // Load player data
        LoadPlayerData(result.PlayFabId);
    }
    private void OnLoginFailure(PlayFabError error)
    {
        Debug.LogError("Login failed: " + error.ErrorMessage);
    }
    private void LoadPlayerData(string playFabId)
    {
        var request = new GetUserDataRequest
        {
            PlayFabId = playFabId
        };
        PlayFabClientAPI.GetUserData(request, OnDataSuccess, OnDataFailure);
    }
    private void OnDataSuccess(GetUserDataResult result)
    {
        // Process player data here
        Debug.Log("Player data loaded successfully");
    }
    private void OnDataFailure(PlayFabError error)
    {
        Debug.LogError("Failed to load player data: " + error.ErrorMessage);
    }
}</span></pre><p class="calibre3"><span class="kobospan" id="kobo.552.1">In </span><strong class="source-inline"><span class="kobospan" id="kobo.553.1">PlayFabManager</span></strong><span class="kobospan" id="kobo.554.1">, you’ll discover methods to log in using email and device ID, along with callbacks indicating login status. </span><span class="kobospan" id="kobo.554.2">Additionally, I’ve included an example of how to handle successful user logins by loading their data. </span><span class="kobospan" id="kobo.554.3">This enables us to execute further logic based on the data stored </span><span><span class="kobospan" id="kobo.555.1">in PlayFab.</span></span></p></li> </ol>
<p class="calibre3"><span class="kobospan" id="kobo.556.1">That </span><a id="_idIndexMarker528" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.557.1">concludes this example, which may seem simple but encompasses the complete process of utilizing PlayFab. </span><span class="kobospan" id="kobo.557.2">This package offers extensive capabilities, including leaderboard management, remote settings configuration, analytics, and matchmaking. </span><span class="kobospan" id="kobo.557.3">As mentioned earlier, explore their documentation for further insights and </span><span><span class="kobospan" id="kobo.558.1">possibilities: </span></span><a href="B22017_08.xhtml#_idTextAnchor138" class="calibre6 pcalibre1 pcalibre"><span><span class="kobospan" id="kobo.559.1">https://learn.microsoft.com/en-us/gaming/playfab/</span></span></a><span><span class="kobospan" id="kobo.560.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.561.1">In conclusion, we have gained insight into the significance of backend services for our games. </span><span class="kobospan" id="kobo.561.2">We successfully integrated PlayFab into our project and learned to develop a login system through </span><span><span class="kobospan" id="kobo.562.1">this process.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.563.1">In the next section, we will delve into analytics APIs, their benefits in games, and the reasons behind their necessity in our game </span><span><span class="kobospan" id="kobo.564.1">development endeavors.</span></span></p>
<h1 id="_idParaDest-128" class="calibre5"><a id="_idTextAnchor135" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.565.1">Integrating analytics APIs with C#</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.566.1">Analytics APIs </span><a id="_idIndexMarker529" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.567.1">are software interfaces that enable us to integrate analytics functionality into our applications, including games. </span><span class="kobospan" id="kobo.567.2">These APIs allow us to collect, analyze, and interpret data </span><a id="_idIndexMarker530" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.568.1">related to user interactions, behaviors, and performance metrics within our games. </span><span class="kobospan" id="kobo.568.2">Here are some key aspects </span><a id="_idIndexMarker531" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.569.1">of </span><span><span class="kobospan" id="kobo.570.1">analytics APIs:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.571.1">Data collection</span></strong><span class="kobospan" id="kobo.572.1">: Analytics APIs facilitate the collection of various types of data generated by user interactions within the game. </span><span class="kobospan" id="kobo.572.2">This includes information such as player actions, session durations, in-game purchases, progression milestones, and </span><span><span class="kobospan" id="kobo.573.1">user demographics.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.574.1">Event tracking</span></strong><span class="kobospan" id="kobo.575.1">: We can use analytics APIs to track specific events or actions within the game, such as level completions, item acquisitions, quest achievements, and social interactions. </span><span class="kobospan" id="kobo.575.2">By defining and tracking custom events, we can gain insights into how players engage with different aspects of </span><span><span class="kobospan" id="kobo.576.1">the game.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.577.1">Performance monitoring</span></strong><span class="kobospan" id="kobo.578.1">: Analytics APIs provide tools for monitoring and analyzing the performance of the game, including metrics related to frame rates, loading times, network latency, and device specifications. </span><span class="kobospan" id="kobo.578.2">This data helps us identify performance bottlenecks, optimize game performance, and ensure smooth gameplay experiences </span><span><span class="kobospan" id="kobo.579.1">for players.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.580.1">User behavior analysis</span></strong><span class="kobospan" id="kobo.581.1">: Analytics APIs enable us to analyze user behavior patterns </span><a id="_idIndexMarker532" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.582.1">and trends, helping them understand how players navigate the game, which features they engage with the most, and what factors influence their retention and engagement. </span><span class="kobospan" id="kobo.582.2">This information informs game design decisions and helps us tailor the game experience to better meet </span><span><span class="kobospan" id="kobo.583.1">player expectations.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.584.1">Retention and monetization analysis</span></strong><span class="kobospan" id="kobo.585.1">: Analytics APIs allow us to track player retention rates over time and analyze factors that contribute to player churn. </span><span class="kobospan" id="kobo.585.2">Additionally, we can analyze monetization metrics, such as revenue per user, conversion rates, and </span><strong class="bold"><span class="kobospan" id="kobo.586.1">average revenue per paying user</span></strong><span class="kobospan" id="kobo.587.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.588.1">ARPPU</span></strong><span class="kobospan" id="kobo.589.1">), to optimize</span><a id="_idIndexMarker533" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.590.1"> monetization strategies and maximize </span><span><span class="kobospan" id="kobo.591.1">revenue opportunities.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.592.1">Real-time reporting and insights</span></strong><span class="kobospan" id="kobo.593.1">: Analytics APIs provide real-time reporting and visualization tools that enable us to access actionable insights and make</span><a id="_idIndexMarker534" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.594.1"> data-driven decisions. </span><span class="kobospan" id="kobo.594.2">Interactive dashboards, charts, and reports allow us to monitor </span><strong class="bold"><span class="kobospan" id="kobo.595.1">key performance indicators</span></strong><span class="kobospan" id="kobo.596.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.597.1">KPIs</span></strong><span class="kobospan" id="kobo.598.1">), track progress toward goals, and identify opportunities </span><span><span class="kobospan" id="kobo.599.1">for improvement.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.600.1">In summary, analytics APIs</span><a id="_idIndexMarker535" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.601.1"> empower us to gain valuable insights into player behavior, performance, and monetization, enabling them to optimize game design, enhance player experiences, and drive business success. </span><span class="kobospan" id="kobo.601.2">By integrating analytics functionality into their games, we can make informed decisions and continuously improve the quality and performance of </span><span><span class="kobospan" id="kobo.602.1">their games.</span></span></p>
<h2 id="_idParaDest-129" class="calibre7"><a id="_idTextAnchor136" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.603.1">Integrating GameAnalytics</span></h2>
<p class="calibre3"><strong class="bold"><span class="kobospan" id="kobo.604.1">GameAnalytics</span></strong><span class="kobospan" id="kobo.605.1"> is a</span><a id="_idIndexMarker536" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.606.1"> popular package for Unity game development that provides analytics and insights into player behavior and game performance. </span><span class="kobospan" id="kobo.606.2">It </span><a id="_idIndexMarker537" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.607.1">allows us to track various metrics, such as player progression, retention rates, in-game events, and monetization data, to optimize their games and improve </span><span><span class="kobospan" id="kobo.608.1">player engagement.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.609.1">Here are some key features</span><a id="_idIndexMarker538" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.610.1"> and capabilities of the GameAnalytics package</span><a id="_idIndexMarker539" class="calibre6 pcalibre1 pcalibre"/> <span><span class="kobospan" id="kobo.611.1">for Unity:</span></span></p>
<ul class="calibre10">
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.612.1">Event tracking</span></strong><span class="kobospan" id="kobo.613.1">: GameAnalytics enables us to track custom events within their games, such as level completions, item purchases, achievements unlocked, and tutorial progress. </span><span class="kobospan" id="kobo.613.2">This data helps us understand how players interact with their games and identify areas </span><span><span class="kobospan" id="kobo.614.1">for improvement.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.615.1">User analytics</span></strong><span class="kobospan" id="kobo.616.1">: The package provides insights into user behavior and demographics, including active users, session lengths, retention rates, and user segmentation. </span><span class="kobospan" id="kobo.616.2">We can analyze this data to tailor their games to specific player preferences </span><span><span class="kobospan" id="kobo.617.1">and demographics.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.618.1">Monetization tracking</span></strong><span class="kobospan" id="kobo.619.1">: GameAnalytics allows us to track in-app purchases, advertising revenue, and other monetization metrics. </span><span class="kobospan" id="kobo.619.2">By analyzing revenue data alongside player behavior, we can optimize their monetization strategies and maximize </span><span><span class="kobospan" id="kobo.620.1">revenue generation.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.621.1">Real-time dashboards</span></strong><span class="kobospan" id="kobo.622.1">: The package offers real-time dashboards and reporting tools that visualize game analytics data, making it easy for us to monitor game performance and make data-driven decisions. </span><span class="kobospan" id="kobo.622.2">We can customize dashboards to focus on specific metrics </span><span><span class="kobospan" id="kobo.623.1">and KPIs.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.624.1">Integration with Unity</span></strong><span class="kobospan" id="kobo.625.1">: GameAnalytics provides a Unity SDK that seamlessly integrates with Unity projects, allowing for easy implementation and tracking of analytics events and metrics. </span><span class="kobospan" id="kobo.625.2">The SDK supports both Unity Editor and runtime environments, enabling us to test and analyze their games throughout the </span><span><span class="kobospan" id="kobo.626.1">development lifecycle.</span></span></li>
<li class="calibre11"><strong class="bold"><span class="kobospan" id="kobo.627.1">Cross-platform support</span></strong><span class="kobospan" id="kobo.628.1">: GameAnalytics supports multiple platforms, including PC, mobile, console, and web, allowing us to track analytics data across </span><a id="_idIndexMarker540" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.629.1">various</span><a id="_idIndexMarker541" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.630.1"> devices and platforms. </span><span class="kobospan" id="kobo.630.2">This cross-platform support enables us to gain insights into player behavior across </span><span><span class="kobospan" id="kobo.631.1">different environments.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.632.1">Overall, GameAnalytics is a valuable tool for gaining insights into player behavior, optimizing game performance, and maximizing revenue through data-driven decisions. </span><span class="kobospan" id="kobo.632.2">Its user-friendly interface, robust feature set, and cross-platform support make it a popular choice among game </span><span><span class="kobospan" id="kobo.633.1">developers worldwide.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.634.1">In the subsequent </span><a id="_idIndexMarker542" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.635.1">steps, we will integrate GameAnalytics and configure our </span><span><span class="kobospan" id="kobo.636.1">initial event:</span></span></p>
<ol class="calibre15">
<li class="calibre11"><span class="kobospan" id="kobo.637.1">We will utilize Version 7.8 of the GameAnalytics Unity SDK, which you can download using the following </span><span><span class="kobospan" id="kobo.638.1">link: </span></span><a href="B22017_08.xhtml#_idTextAnchor137" class="calibre6 pcalibre1 pcalibre"><span><span class="kobospan" id="kobo.639.1">https://download.gameanalytics.com/unity/7.8.0/GA_SDK_UNITY.unitypackage</span></span></a><span><span class="kobospan" id="kobo.640.1">.</span></span></li>
<li class="calibre11"><span class="kobospan" id="kobo.641.1">After downloading the package, implement it into your project by clicking on </span><strong class="bold"><span class="kobospan" id="kobo.642.1">Import</span></strong><span class="kobospan" id="kobo.643.1">, as illustrated in </span><span><em class="italic"><span class="kobospan" id="kobo.644.1">Figure 8</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.645.1">.10</span></em></span><span><span class="kobospan" id="kobo.646.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer106">
<span class="kobospan" id="kobo.647.1"><img alt="Figure 8.10 – Importing the GameAnalytics package" src="image/B22017_08_10.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.648.1">Figure 8.10 – Importing the GameAnalytics package</span></p>
<ol class="calibre15">
<li value="3" class="calibre11"><span class="kobospan" id="kobo.649.1">After</span><a id="_idIndexMarker543" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.650.1"> waiting for Unity to compile the files, navigate to </span><strong class="bold"><span class="kobospan" id="kobo.651.1">Window | GameAnalytics | Select Settings</span></strong><span class="kobospan" id="kobo.652.1">, as demonstrated in </span><span><em class="italic"><span class="kobospan" id="kobo.653.1">Figure 8</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.654.1">.11</span></em></span><span><span class="kobospan" id="kobo.655.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer107">
<span class="kobospan" id="kobo.656.1"><img alt="Figure 8.11 – Opening the GameAnalytics settings" src="image/B22017_08_11.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.657.1">Figure 8.11 – Opening the GameAnalytics settings</span></p>
<ol class="calibre15">
<li value="4" class="calibre11"><span class="kobospan" id="kobo.658.1">Following </span><a id="_idIndexMarker544" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.659.1">the preceding step will display the GameAnalytics settings. </span><span class="kobospan" id="kobo.659.2">Then, you can log in with your account or sign up and create a project if you haven’t already done so, as illustrated in </span><span><em class="italic"><span class="kobospan" id="kobo.660.1">Figure 8</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.661.1">.12.</span></em></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer108">
<span class="kobospan" id="kobo.662.1"><img alt="Figure 8.12 – GameAnalytics settings" src="image/B22017_08_12.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.663.1">Figure 8.12 – GameAnalytics settings</span></p>
<ol class="calibre15">
<li value="5" class="calibre11"><span class="kobospan" id="kobo.664.1">After successfully logging in and having a project in your GameAnalytics dashboard, you’ll find the option to link your project and implement it with the appropriate</span><a id="_idIndexMarker545" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.665.1"> platform, be it Android, iOS, or Windows. </span><span class="kobospan" id="kobo.665.2">For our game, I selected Windows as we are working on a PC game. </span><span class="kobospan" id="kobo.665.3">In </span><span><em class="italic"><span class="kobospan" id="kobo.666.1">Figure 8</span></em></span><em class="italic"><span class="kobospan" id="kobo.667.1">.13</span></em><span class="kobospan" id="kobo.668.1">, you’ll see information related to the project, such as the game and organization, and the important elements, the game key and secret key, which are automatically added upon </span><span><span class="kobospan" id="kobo.669.1">successful login.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer109">
<span class="kobospan" id="kobo.670.1"><img alt="Figure 8.13 – Link our game with GameAnalytics" src="image/B22017_08_13.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.671.1">Figure 8.13 – Link our game with GameAnalytics</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.672.1">Then, you need to add the GameAnalytics game object to our scene. </span><span class="kobospan" id="kobo.672.2">Remember, it’s a persistent game object, so there’s no need to implement it in all scenes. </span><span class="kobospan" id="kobo.672.3">Simply add one </span><span><span class="kobospan" id="kobo.673.1">game object.</span></span></p>
<ol class="calibre15">
<li value="6" class="calibre11"><span class="kobospan" id="kobo.674.1">You </span><a id="_idIndexMarker546" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.675.1">should navigate to </span><strong class="bold"><span class="kobospan" id="kobo.676.1">Window | GameAnalytics | Create GameAnalytics Object</span></strong><span class="kobospan" id="kobo.677.1">, and the game object will be added to your scene, as shown in </span><span><em class="italic"><span class="kobospan" id="kobo.678.1">Figure 8</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.679.1">.14</span></em></span><span><span class="kobospan" id="kobo.680.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer110">
<span class="kobospan" id="kobo.681.1"><img alt="Figure 8.14 – Adding a GameAnalytics object to our scene" src="image/B22017_08_14.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.682.1">Figure 8.14 – Adding a GameAnalytics object to our scene</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.683.1">Now, we need to begin implementing events into our code, which will depend on what you need to track. </span><span class="kobospan" id="kobo.683.2">Allow me to provide you with an example </span><span><span class="kobospan" id="kobo.684.1">for clarification.</span></span></p>
<h2 id="_idParaDest-130" class="calibre7"><a id="_idTextAnchor137" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.685.1">Example of GameAnalytics usage</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.686.1">You </span><a id="_idIndexMarker547" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.687.1">can now initialize GameAnalytics and start using events in your code, as demonstrated in the following </span><span><span class="kobospan" id="kobo.688.1">code block:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.689.1">
    private void Start()
    {
        GameAnalytics.Initialize();
    }</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.690.1">We can add this in the </span><strong class="source-inline"><span class="kobospan" id="kobo.691.1">GameManager</span></strong><span class="kobospan" id="kobo.692.1"> script as an example, or if you have a script to handle the initialization of services in </span><span><span class="kobospan" id="kobo.693.1">your game.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.694.1">You can utilize it as shown in the following code block. </span><span class="kobospan" id="kobo.694.2">Don’t forget to include the </span><span><strong class="source-inline"><span class="kobospan" id="kobo.695.1">GameAnalyticsSDK</span></strong></span><span><span class="kobospan" id="kobo.696.1"> namespace:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.697.1">
// Call this method when the player completes a level
 public void LevelCompleted(int levelNum)
 {
     // Track the event using GameAnalytics
     GameAnalytics.NewDesignEvent("LevelComplete", levelNum);
 }</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.698.1">And there are various types of events available for better data collection. </span><span class="kobospan" id="kobo.698.2">For more detailed information, you can refer to the GameAnalytics </span><span><span class="kobospan" id="kobo.699.1">documentation: </span></span><a href="B22017_08.xhtml#_idTextAnchor136" class="calibre6 pcalibre1 pcalibre"><span><span class="kobospan" id="kobo.700.1">https://docs.gameanalytics.com/event-types</span></span></a><span><span class="kobospan" id="kobo.701.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.702.1">You need to build the scene containing the GameAnalytics game object first to start sending events. </span><span class="kobospan" id="kobo.702.2">It may take a few minutes before results start appearing on </span><span><span class="kobospan" id="kobo.703.1">the website.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.704.1">You can visit your game on the GameAnalytics website and then navigate to the real-time section to view the data, as depicted in </span><span><em class="italic"><span class="kobospan" id="kobo.705.1">Figure 8</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.706.1">.15</span></em></span><span><span class="kobospan" id="kobo.707.1">.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer111">
<span class="kobospan" id="kobo.708.1"><img alt="Figure 8.15 – Real-time data from our game" src="image/B22017_08_15.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.709.1">Figure 8.15 – Real-time data from our game</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.710.1">Now</span><a id="_idIndexMarker548" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.711.1"> that we’ve integrated an analytics API, specifically GameAnalytics, into our project, we’ve successfully incorporated it and put it </span><span><span class="kobospan" id="kobo.712.1">to use.</span></span></p>
<p class="callout-heading"><span class="kobospan" id="kobo.713.1">Note</span></p>
<p class="callout"><span class="kobospan" id="kobo.714.1">If you’ve integrated any package, don’t spend too much time on its possibilities initially. </span><span class="kobospan" id="kobo.714.2">Simply integrate it, check for errors, create a sample, and then explore its full potential gradually. </span><span class="kobospan" id="kobo.714.3">Don’t complicate things unnecessarily at </span><span><span class="kobospan" id="kobo.715.1">the outset.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.716.1">Incorporating third-party assets is a valuable skill for any developer. </span><span class="kobospan" id="kobo.716.2">Many successful games rely on external resources to save time and ensure top-notch quality that might be challenging to </span><span><span class="kobospan" id="kobo.717.1">achieve independently.</span></span></p>
<h1 id="_idParaDest-131" class="calibre5"><a id="_idTextAnchor138" class="calibre6 pcalibre1 pcalibre"/><span class="kobospan" id="kobo.718.1">Summary</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.719.1">In this chapter, we delved into the integration of pre-built assets and APIs using C# in Unity, a pivotal aspect of game development. </span><span class="kobospan" id="kobo.719.2">We began by exploring the utilization of pre-built assets to enhance game visuals and optimize performance, followed by the integration of rendering pipelines to achieve better visual fidelity. </span><span class="kobospan" id="kobo.719.3">The discussion then shifted to the importance of backend services, highlighting the significance of authentication logic as an example of their utility in game development. </span><span class="kobospan" id="kobo.719.4">Additionally, we explored analytics APIs and their role in understanding player behavior and optimizing game performance, demonstrating how to implement them effectively into our </span><span><span class="kobospan" id="kobo.720.1">game projects.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.721.1">Looking ahead to </span><a href="B22017_09_split_000.xhtml#_idTextAnchor139" class="calibre6 pcalibre1 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.722.1">Chapter 9</span></em></span></a><span class="kobospan" id="kobo.723.1">, we will focus on optimizing game performance using Unity’s profiling tools. </span><span class="kobospan" id="kobo.723.2">You’ll learn to leverage tools like the Profiler, Frame Debugger, and Memory Profiler to identify and address performance bottlenecks, optimize rendering, and manage memory usage. </span><span class="kobospan" id="kobo.723.3">Through hands-on exercises and practical insights, you’ll gain mastery over optimization techniques to ensure your game runs smoothly and efficiently. </span><span class="kobospan" id="kobo.723.4">Get ready to elevate your game’s performance in the </span><span><span class="kobospan" id="kobo.724.1">upcoming chapter!</span></span></p>
</div>
</body></html>