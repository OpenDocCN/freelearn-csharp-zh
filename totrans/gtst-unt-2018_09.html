<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Adding a Heads-Up Display</h1>
                </header>
            
            <article>
                
<p class="mce-root">In the last chapter, we configured our non-player character, the Cucumber Beetle, and <span>reviewed its 11 animations. We significantly reconfigured the non-player character's animation controller. We also planned and wrote scripts to control the non-player character's in-game behaviors, which included patrolling, cucumber consumption, fighting on the ground, and fighting on hind legs. In addition, we added cucumber patches, cucumbers, and cherries to our game world.</span></p>
<p>In this chapter, we will design, develop, and incorporate a <strong>Heads-Up Display</strong> (<strong>HUD</strong>) in our game. We will use a canvas to create text and graphics that provide visual indicators of points, health, and additional information to help the player maintain situational awareness during gameplay. We will also implement a mini-map using a Unity camera.</p>
<p>In this chapter, we will cover the following:</p>
<ul>
<li>Designing our HUD</li>
<li>Working with a canvas</li>
<li>Creating a mini-map</li>
<li>Scripting for dynamic content</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Designing our Heads-Up Display</h1>
                </header>
            
            <article>
                
<p>As you will remember from <a href="df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml" target="_blank">Chapter 3</a>, <em>Designing the Game</em>, we determined that we would have six on-screen components: health, lives, score, cherries, cucumbers, and Cucumber Beetles. That design will now be modified to include a mini-map in the lower-right-hand corner of the screen:</p>
<div class="CDPAlignCenter CDPAlign"><img height="311" width="574" src="assets/372e008e-8a7a-42e9-b442-654462b2a902.png"/></div>
<p>Now that there will be seven components to our HUD, let's review each of them, organized by region:</p>
<ul>
<li><strong>Top-left</strong>:
<ul>
<li><strong>Player Health</strong>: This will consist of a text label indicating <em>Health</em> and a health meter tied to the Cucumber Man's health.</li>
<li><strong>Lives</strong>: We will have a visual indication of the Cucumber Man's remaining lives. The player will start with three lives.</li>
</ul>
</li>
<li><strong>Top-right</strong>:
<ul>
<li><strong>Score</strong>: We will add a text label indicating the score and then have the player's actual score updated here.</li>
<li><strong>Cherries</strong>: The number of cherries the Cucumber Man has will be updated and displayed here.</li>
</ul>
</li>
<li><strong>Bottom-right</strong>:
<ul>
<li><strong>Mini-Map</strong>: This will be a mini-map that shows an overview of the game map with indicators of where the Cucumber Beetles are.</li>
</ul>
</li>
<li><strong>Bottom-left</strong>:
<ul>
<li><strong>Cucumbers</strong>: We will include a text label, along with the number of cucumbers left in the game.</li>
<li><strong>Cucumber Beetles</strong>: This final area of the HUD will feature a text label and the number of Cucumber Beetles left in the game.</li>
</ul>
</li>
</ul>
<p>Now that we have a clear design for our HUD, we are ready to create it. <span>Before you move on to the next section, you should open your Unity game project. </span><span>Alternatively, you can download the</span> <kbd>Starting-Chapter-09</kbd> <span>Unity </span><span>project available from the publisher's companion site.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Working with a canvas</h1>
                </header>
            
            <article>
                
<p>In Unity, we can use a canvas as a container for UI components. Canvases are GameObjects, and the UI components are the visual components we want on the screen during gameplay. In this section, we will create a canvas and then add and configure the necessary UI components to match our HUD's design from the previous section.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding the canvas</h1>
                </header>
            
            <article>
                
<p>Here are the steps for adding a canvas for our UI:</p>
<ol>
<li>Right-click in an empty area of the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">UI</span> | <span class="packt_screen">Canvas</span>. You can review the details of the canvas in the <span class="packt_screen">Inspector</span> panel. </li>
</ol>
<div class="packt_infobox"><span>You will note, in the <span class="packt_screen">Hierarchy</span> panel, that Unity created an <kbd>EventSystem</kbd> when you created your canvas. This system is used to manage user input.</span></div>
<ol start="2">
<li>Change the new canvas GameObject's name from <kbd>Canvas</kbd> to <kbd>HUD_Canvas</kbd>. Using self-descriptive names for our GameObjects is considered good development practice. No other changes to any of the canvas properties are necessary.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding the health bar UI components</h1>
                </header>
            
            <article>
                
<p>Next, we will create the UI components to display the Cucumber Man's health:</p>
<ol start="1">
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">UI</span> | <span class="packt_screen">Text</span>. This will create a text object subordinate to the canvas. </li>
<li>Rename the text component as <kbd>Health_Label</kbd>. </li>
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">UI</span> | <span class="packt_screen">Slider</span>. This will create a slider object subordinate to the canvas. </li>
<li>Rename the slider component as <kbd>Health_Slider</kbd>. </li>
</ol>
<p>So far, we have created a canvas with text and slider components. Next, we will orient the UI components on the canvas to match the placement in our HUD design from the previous section:</p>
<ol start="1">
<li>In the <span class="packt_screen">Hierarchy</span> panel, double-click the <span class="packt_screen">HUD_Canvas</span>. This will focus the canvas in the <span class="packt_screen">Scene</span> view, and this will give you an overview of how your canvas looks. </li>
<li>In the <span class="packt_screen">Hierarchy</span> panel, double-click the <span class="packt_screen">Health_Label</span>. Now, you can see both the text and slider components we created.</li>
<li>Zoom out until you can see the entire canvas in the <span class="packt_screen">Scene</span> view.</li>
<li>Toggle the <span class="packt_screen">2D</span> view on in the <span class="packt_screen">Scene</span> view. This will make orientating our UI components on our canvas much easier:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/befb6074-f83c-4f5c-b009-593f209f10cb.png"/></div>
<ol start="5">
<li>Ensure that the <span class="packt_screen">Health_Label</span> is selected in the <span class="packt_screen">Hierarchy</span> panel.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, change the <span class="packt_screen">Text</span> value of the <span class="packt_screen">Text (Script)</span> component to <kbd>Health</kbd>. See the following screenshot for details:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="407" width="311" src="assets/41fbe239-3c53-4828-a1fa-922d72aab249.png"/></div>
<ol start="7">
<li>Drag the <span class="packt_screen">Health_Label</span> to the top-left corner of the canvas.</li>
<li> In the <span class="packt_screen">Text (Script)</span> component, make the following changes, or select other settings to your liking. <span>You can experiment with the game in game-mode to see how this will look during the game:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign">
<table style="width: 300px;height: 185px">
<tbody>
<tr>
<td><strong>Property</strong></td>
<td><strong>Value</strong></td>
</tr>
<tr>
<td><span>Font</span></td>
<td>Arial</td>
</tr>
<tr>
<td><span>Font Style</span></td>
<td>Bold</td>
</tr>
<tr>
<td><span>Font Size</span></td>
<td>16</td>
</tr>
<tr>
<td><span>Color</span></td>
<td>Dark Blue</td>
</tr>
</tbody>
</table>
</div>
<ol start="9">
<li>Either in the <span class="packt_screen">Inspector</span> panel or in the <span class="packt_screen">Scene</span> view, resize the rectangle encasing of your <span class="packt_screen">Health_Label</span> UI text component so that there is not excessive blank space above, below, or to the right of the text.</li>
<li>Relocate the <span class="packt_screen">Health_Slider</span> so that it is immediately to the right of the <span class="packt_screen">Health_Label</span> text. </li>
<li>In the <span class="packt_screen">Inspector</span> panel, make the following changes to the  <span class="packt_screen">Slider (Script)</span> component:
<ul>
<li><span>Deselect the</span> <span class="packt_screen">Interactable</span> <span>checkbox</span></li>
<li>Change the <span class="packt_screen">Max Value</span> to <kbd>100</kbd></li>
<li>Select the <span class="packt_screen">Whole Numbers</span> checkbox</li>
</ul>
</li>
<li>In the <span class="packt_screen">Hierarchy</span> panel, expand the <span class="packt_screen">Health_Slider</span> object to reveal the subordinate parts as follows:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="129" width="186" src="assets/3e203a08-112e-41b1-82c0-232c94818852.png"/></div>
<ol start="13">
<li><span>In the</span> <span class="packt_screen">Hierarchy</span> <span>panel, select</span> <span class="packt_screen">HUD_Canvas</span> | <span class="packt_screen">Health_Slider</span> | <span class="packt_screen">Background</span>.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, select <span class="packt_screen">Image (Script)</span> | <span class="packt_screen">Color</span>  and change the color to red. This will serve as our health meter's background.</li>
<li><span>In the</span> <span class="packt_screen">Hierarchy</span> <span>panel, select</span> <span class="packt_screen">HUD_Canvas</span> | <span class="packt_screen">Health_Slider</span> | <span class="packt_screen">Fill Area</span> | <span class="packt_screen">Fill</span>.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, select <span class="packt_screen">Image (Script)</span> | <span class="packt_screen">Color</span>  and change the color to green. This will serve as our health meter's fill area.</li>
</ol>
<p>The <span>final two steps for our health meter will be to increase the height and to remove the slider handle:</span></p>
<ol>
<li class="mce-root"><span>In the</span> <span><span class="packt_screen">Hierarchy</span></span> <span>panel</span><span>, select</span> <span class="packt_screen">HUD_Canvas</span> | <span class="packt_screen">Health_Slider</span><span class="packt_screen">.</span></li>
<li class="mce-root">In the <span class="packt_screen">Inspector</span> <span>panel, select</span> <span class="packt_screen">Rect Transform</span> <span>|</span> <span class="packt_screen">Height</span><span> and change the height to</span> <kbd>30</kbd><span>.</span></li>
</ol>
<ol start="3">
<li>In the <span class="packt_screen">Hierarchy</span> panel, select <span class="packt_screen">HUD_Canvas</span> | <span class="packt_screen">Health_Slider</span> | <span class="packt_screen">Handle Slide Area</span> | <span class="packt_screen">Handle</span>.</li>
<li>Deselect the <span class="packt_screen">Image (Script)</span><span> component. This will remove the slider's handle from the UI.</span></li>
<li>In the <span class="packt_screen">Scene</span><span> view, adjust the <span class="packt_screen">Health_Label</span> and <span class="packt_screen">Health_Slider</span> so that they are aligned with each other in the top-left-hand corner of the canvas.</span></li>
</ol>
<p>Your finished work should look similar to the following screenshot from the <span class="packt_screen">Game</span> view:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/decb2c42-f444-43b7-b4b9-b089d5acd41f.png"/></div>
<p>Make any necessary adjustments before moving on to the next section.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating the Lives Remaining UI components</h1>
                </header>
            
            <article>
                
<p>In this section, we will add three images of the Cucumber Man's head beneath the health label and meter, each image representing a life remaining:</p>
<ol start="1">
<li>Download the <kbd>cmLives.png</kbd> file from the publisher's website</li>
<li>Drag that image into the <kbd>Assets</kbd> | <kbd>Cucumber Man</kbd> folder in the <span class="packt_screen">Project</span> panel</li>
<li>Select the imported image and, in the <span class="packt_screen">Inspector</span> panel, change the <span class="packt_screen">Texture Type</span> to <span class="packt_screen">Sprite (2D and UI)</span></li>
<li>In the <span class="packt_screen">Hierarchy</span> panel, right-click the <kbd>HUD_Canvas</kbd> and select <span class="packt_screen">UI</span> | <span class="packt_screen">Image</span></li>
<li>In the <span class="packt_screen">Inspector</span> panel, click the small circle to the right of the setting under <span class="packt_screen">Image (Script)</span> | <span class="packt_screen">Source Image</span></li>
<li>Select the <kbd>cmLives.png</kbd> image you added in step 2</li>
<li>In the <span class="packt_screen">Inspector</span> panel, rename this image as <kbd>Life1</kbd></li>
<li>Click <span class="packt_screen">Rect Transform</span> | <span class="packt_screen">Scale</span>  and change the scale of <span class="packt_screen">Life1</span> to <kbd>0.4</kbd> for <span class="packt_screen">X</span>, <span class="packt_screen">Y</span>, and <span class="packt_screen">Z</span></li>
<li>In the <span class="packt_screen">Scene</span> view, reposition the <span class="packt_screen">Life1</span> image <span>so that it is directly</span> preceding the health label</li>
<li>In the <span class="packt_screen">Hierarchy</span> panel, right-click and duplicate <span class="packt_screen">Life1</span> twice, and rename the copies <kbd>Life2</kbd> and <kbd><kbd>Life3</kbd></kbd></li>
</ol>
<p> </p>
<ol start="11">
<li>In the <span class="packt_screen">Scene</span> view, reposition the three images so that they are in sequential order and aligned in a visually pleasing manner</li>
</ol>
<p><span>Your finished work should look similar to the following screenshot from the</span> <span class="packt_screen"><span>G</span>ame</span> <span>view:</span></p>
<div class="CDPAlignCenter CDPAlign"><img height="168" width="300" src="assets/909e1b99-777a-4171-ab08-ea14918c7618.png"/></div>
<p><span>Make any necessary adjustments before moving on to the next section.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding the scoring UI components</h1>
                </header>
            
            <article>
                
<p>The upper-right corner of our game's interface and canvas, will contain the scoring information. This section demonstrates how to create the necessary UI components: </p>
<ol>
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">UI</span> | <span class="packt_screen">Text</span>. We will use this text object for our score label.</li>
<li>Rename the text component as <kbd>Score_Label</kbd>. </li>
<li><span>In the</span> <span class="packt_screen">Inspector</span> <span>panel, change the</span> <span class="packt_screen">Text</span> <span>value of the</span> <span class="packt_screen">Text (Script)</span> <span>component to</span> <kbd>Score</kbd>.</li>
<li>In the <span class="packt_screen">Text (Script)</span> component, make the following changes or select other settings as you wish. <span>You can experiment with the game in game mode to see how this will look during the game:</span>
<ul>
<li><span class="packt_screen">Font Style</span>: <span class="packt_screen">Bold</span></li>
<li><span class="packt_screen">Font Size</span>: <span class="packt_screen">16</span></li>
<li><span class="packt_screen">Color</span>: <span class="packt_screen">Dark Blue</span></li>
</ul>
</li>
<li>Either in the <span class="packt_screen">Inspector</span> panel or in <span class="packt_screen">Scene</span> view, resize the rectangle encasing your <kbd>Score_Label</kbd> UI text component so that there is no excessive blank space above, below, or to the right of the text.</li>
</ol>
<p> </p>
<ol start="6">
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">UI</span> | <span class="packt_screen">Text</span>. We will use this text object to display the current score.</li>
<li>Rename the text component as <kbd>Score_Value</kbd>. </li>
<li><span>In the</span> <span class="packt_screen">Inspector</span> <span>panel, change the</span> <span class="packt_screen">Text</span> <span>value of the</span> <span class="packt_screen">Text (Script</span><kbd>)</kbd> <span>component to</span> <kbd>000000000</kbd><span>. This will help us determine the layout.</span></li>
<li>Either in the <span class="packt_screen">Inspector</span> panel or in <span class="packt_screen">Scene</span> view, resize the rectangle encasing your <kbd>Score_Value</kbd> UI text component so that there is no excessive blank space above, below, or to the right of the text.</li>
<li>Repeat step 4 for the <kbd>Score_Value</kbd> text component.</li>
</ol>
<p>Now that you have the two score-related UI text components have been added to your canvas, you are ready to reposition them on the screen.</p>
<ol>
<li>In the <span class="packt_screen">Scene</span> view, adjust the <span class="packt_screen">Score_Label</span> and <span class="packt_screen">Score_Value</span> text objects so that their rect transform is sized to encase the text values</li>
<li>Lastly, reposition the two text objects in <span class="packt_screen">Scene</span> view so that they are aligned with each other in the top-right corner of the canvas</li>
</ol>
<p><span>Your finished work should look similar to the following screenshot from the <span class="packt_screen">Game</span> view.</span></p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/8d09c2e2-5c57-4768-b2f4-6c9a493593cf.png"/></div>
<p><span>Make any necessary adjustments before moving on to the next section.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding the cherry UI components</h1>
                </header>
            
            <article>
                
<p>In this section, we will add an image of cherries and a text object for displaying the number of cherries the Cucumber Man has.</p>
<p>We will start by adding the cherry image:</p>
<ol>
<li>Download the <kbd>Cherries.png</kbd> file from the publisher's website</li>
<li>Drag that image into the <kbd>Assets</kbd> | <kbd>Cherry</kbd> folder in the <span class="packt_screen">Project</span> panel</li>
<li>Select the imported image and, in the <span class="packt_screen">Inspector</span> panel, change the <span class="packt_screen">Texture Type</span> to <span class="packt_screen"><span class="packt_screen">Sprite (2D and UI)</span></span></li>
</ol>
<p> </p>
<ol start="4">
<li>In the <span class="packt_screen">Hierarchy</span> panel, right-click the <span class="packt_screen">HUD_Canvas</span> and select <span class="packt_screen">UI</span> | <span class="packt_screen">Image</span></li>
<li>In the <span class="packt_screen">Inspector</span> panel, click the small circle to the right of the setting under <span class="packt_screen">Image (Script)</span> | <span class="packt_screen">Source Image</span></li>
<li>Select the <kbd>Cherries.png</kbd> image you added in step 2</li>
<li>In the <span class="packt_screen">Inspector</span> panel, rename this as <kbd>Cherries</kbd></li>
<li>Click  <span class="packt_screen">Rect Transform</span> | <span class="packt_screen">Scale</span> and change the scale of <span class="packt_screen">Cherries</span> to <kbd>0.4</kbd> for <span class="packt_screen">x</span>, <span class="packt_screen">y</span>, and <span class="packt_screen">z</span></li>
<li>In the <span class="packt_screen">Scene</span> view, reposition the <span class="packt_screen">Cherries</span> image directly below the start of the <span class="packt_screen">Score_Value</span> text object</li>
</ol>
<p>Next, we will add the text object to hold the cherry count:</p>
<ol start="1">
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">UI</span> | <span class="packt_screen">Text</span>.</li>
<li>Rename the text component as <kbd>Cherries_Count</kbd>.</li>
<li><span>In the</span> <span class="packt_screen">Inspector</span> <span>panel, change the</span> <span class="packt_screen">Text</span> <span>value of the</span> <span class="packt_screen">Text (Script)</span> <span>component to</span> <kbd>0000</kbd><span>. This will help us determine the layout.</span></li>
<li>In the <span class="packt_screen">Text (Script)</span> component, change the <span class="packt_screen">Font Style</span> to <span class="packt_screen">Bold</span>, the <span class="packt_screen">Font Size</span> to <span class="packt_screen">16</span>, and the <span class="packt_screen">Color</span> to <span class="packt_screen">Red</span>, or select other settings to your liking.</li>
<li>Either in the <span class="packt_screen">Inspector</span> panel or in the <span class="packt_screen">Scene</span> view, resize the rectangle encasing your <kbd>Cherries_Count</kbd> UI text component so that there is no excessive blank space above, below, or to the right of the text.</li>
<li>In the <span class="packt_screen">Scene</span> view, reposition the <kbd>Cherry_Count</kbd> text object to the right of the <kbd>Cherries</kbd> image object.</li>
</ol>
<p><span>Your finished work should look similar to the following screenshot from the game view:</span></p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/918bb5e8-c3cc-4868-b076-9c715d412bca.png"/></div>
<p><span>Make any necessary adjustments before moving on to the next section.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding the cucumber and Cucumber Beetle UI components</h1>
                </header>
            
            <article>
                
<p>In this section, we will add four UI text components to the lower-left-hand corner of our canvas. These text components will be used for the following:</p>
<ul>
<li>Cucumber label</li>
<li>Cucumber count value </li>
<li>Cucumber Beetles label</li>
<li>Cucumber Beetles count value</li>
</ul>
<p>At this point, you should be comfortable with adding UI text components to your canvas, so this section will be brief. Feel free to consult previous sections to review the steps involved:</p>
<ol>
<li>Create a text object for the cucumber label:
<ol>
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">UI</span> | <span class="packt_screen">Text</span></li>
<li>Rename the text component as <kbd>Cucumbers_Label</kbd></li>
<li>Change <span>the</span> <span class="packt_screen">Text</span> <span>value of the</span> <span class="packt_screen">Text (Script)</span> <span>component to <span class="packt_screen">Cucumbers</span></span></li>
<li><span>In the</span> <span class="packt_screen">Text (Script)</span> <span>component, change the</span> <span class="packt_screen">Font Style</span> <span>to</span> <span class="packt_screen">Bold</span><span>, the</span> <span class="packt_screen">Font Size</span><span> to</span> <span class="packt_screen">16</span>, <span>and the</span> <span class="packt_screen">Color</span> <span>to</span> <span class="packt_screen">Blue</span></li>
<li>Either in the <span class="packt_screen">Inspector</span> panel or in the <span class="packt_screen">Scene</span> view, resize the rectangle encasing your <span class="packt_screen">Cucumbers_Label</span> UI text component so that there is no excessive blank space above, below, or to the right of the text</li>
<li>In the <span class="packt_screen">Scene</span> view, reposition the <span class="packt_screen">Cucumbers_Label</span> text object to reflect the HUD design from earlier in this chapter </li>
</ol>
</li>
</ol>
<ol start="2">
<li>Create a text object for the Cucumber Beetles label:
<ol>
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> | <span class="packt_screen">Cucumbers_Label</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">Duplicate</span></li>
<li>Rename the duplicated text component to <kbd>Beetles_Label</kbd></li>
<li>Change <span>the</span> <span class="packt_screen">Text</span> <span>value of the</span> <span class="packt_screen">Text (Script)</span> <span>component to</span> <kbd>Cucumber Beetles</kbd></li>
</ol>
</li>
</ol>
<ol>
<li style="list-style-type: none">
<ol start="4">
<li>Either in the <span class="packt_screen">Inspector</span> panel or in the <span class="packt_screen">Scene</span> view, resize the rectangle encasing your <span class="packt_screen">Beetles_Label</span> UI text component to ensure it is wide enough to display the entire text</li>
<li>In the <span class="packt_screen">Scene</span> view, reposition the <span class="packt_screen">Beetles_Label</span> text object to reflect the HUD design from earlier in this chapter</li>
</ol>
</li>
</ol>
<ol start="3">
<li>Create a text object for the cucumber count:
<ol>
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> | <span class="packt_screen">Cucumbers_Label</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">Duplicate</span></li>
<li>Rename the duplicated text component as <kbd>Cucumber_Count</kbd></li>
<li>Change <span>the</span> <span class="packt_screen">Text</span> <span>value of the</span> <span class="packt_screen">Text (Script)</span> <span>component to</span> <kbd>0000</kbd></li>
<li>Either in the <span class="packt_screen">Inspector</span> panel or in the <span class="packt_screen">Scene</span> view, resize the rectangle encasing your <span class="packt_screen">Cucumber_Count</span> UI text component <span>so that there is no excessive blank space above, below, or to the right of the text</span></li>
<li>In the <span class="packt_screen">Text (Script)</span> component, change the <span class="packt_screen">Color</span> to <span class="packt_screen">Red</span></li>
<li>In the <span class="packt_screen">Scene</span> view, reposition the <span class="packt_screen">Cucumber_Count</span> text object to reflect the HUD design from earlier in this chapter</li>
</ol>
</li>
</ol>
<ol start="4">
<li>Create a text object for the Cucumber Beetle count:
<ol>
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> | <span class="packt_screen">Cucumber_Count</span> GameObject in the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">Duplicate</span></li>
<li>Rename the duplicated text component as <span class="packt_screen"><kbd>Beetle_Count</kbd></span></li>
<li>In the <span class="packt_screen">Scene</span> view, reposition the <span class="packt_screen">Beetle_Count</span> text object to reflect the HUD design from earlier in this chapter</li>
</ol>
</li>
</ol>
<p><span>Your finished work should look similar to the following screenshot from the <span class="packt_screen">Game</span> view:</span></p>
<div class="CDPAlignCenter CDPAlign"><img height="103" width="236" src="assets/3fe5aef5-ed93-4ab8-a8a1-62d6620ae858.png"/></div>
<p><span>Make any necessary adjustments before moving on to the next section.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a mini-map</h1>
                </header>
            
            <article>
                
<p><span>In</span> <a href="101c3b96-a362-4913-925c-f22503f0f8a1.xhtml" target="_blank">Chapter 5</a><span>, <em>Lights, Cameras, and Shadows</em>, you learned about how to use cameras for mini-maps. In this section, we will implement a mini-map for our game. This mini-map will provide a top-down view of our game, centered on the sandbox area you created in <a href="28e6a940-f5d3-49ba-8778-a0b533b4a83e.xhtml" target="_blank">Chapter 8</a>, <em>Implementing Our Non-Player Character</em>. The player can use this mini-map as a radar to help find Cucumber Beetles in the sandbox.</span></p>
<p>First, we need to turn the <span class="packt_screen">Scene</span> view 2D toggle off. This will put the <span class="packt_screen">Scene</span> view back into 3D mode.</p>
<p>Here are the steps for creating a mini-map in our game:</p>
<ol>
<li>Right-click on an empty area of the <span class="packt_screen">Hierarchy</span> panel and select <span class="packt_screen">Camera</span></li>
<li>Rename the <kbd>camera</kbd> as <kbd>Camera_Minimap</kbd></li>
<li>Double-click the <span class="packt_screen">Camera_Minimap</span> camera in the <span class="packt_screen">Hierarchy</span> panel to focus on that object in the <span class="packt_screen">Scene</span> view</li>
<li>Change the <span class="packt_screen">Transform</span> | <span class="packt_screen">Rotation</span> | <span class="packt_screen">X</span> value to <kbd>90</kbd>, so it is looking at the ground</li>
<li>In the <span class="packt_screen">Scene</span> view, use the transform tools to position the camera so that it covers your sandbox</li>
<li>You can use the <span class="packt_screen">Camera Preview</span> to help determine what will be visible during gameplay</li>
</ol>
<p>The following screenshot shows a <span class="packt_screen">Camera Preview</span> that covers the entire sandbox area, bordered with white rectangular walls:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/9a14312f-572e-44ad-8fbf-e52938cfabc8.png"/></div>
<p>Now that the <span class="packt_screen">Camera_MiniMap</span> camera has been added to our scene, we need to ensure it is not treated like our main camera. Here are the steps:</p>
<ol>
<li>In the <span class="packt_screen">Project</span> panel, under <span class="packt_screen">Assets</span>, right-click the <kbd>Textures</kbd> folder and select <span class="packt_screen">Create</span> | <span class="packt_screen">Render Texture</span></li>
<li>Rename the new render texture <kbd>Render_Texture_Minimap</kbd></li>
<li>Select the <span class="packt_screen">Camera_Minimap</span> camera in the <span class="packt_screen">Hierarchy</span> panel</li>
<li>In the <span class="packt_screen">Inspector</span> panel, click the small circle to the right of the <span class="packt_screen">Camera</span> | <span class="packt_screen">Target Texture</span> property</li>
<li>Select the <kbd>Render_Texture_Minimap</kbd> texture you created</li>
</ol>
<p>The minimap camera is now properly configured. Our next set of steps require us to modify our <span class="packt_screen">HUD_Canvas</span>. We will accomplish this with the following steps:</p>
<ol>
<li>In the <span class="packt_screen">Hierarchy</span> panel, drag the <span class="packt_screen">Camera_Minimap</span> object so that it is subordinate to the <span class="packt_screen">HUD_Canvas</span></li>
<li>Right-click the <span class="packt_screen">HUD_Canvas</span> and select <span class="packt_screen">UI</span> | <span class="packt_screen">Raw Image</span></li>
<li>Rename the new raw image UI component as <kbd>RawImage_Minimap</kbd></li>
<li>In the <span class="packt_screen">Inspector</span> panel, click the small circle to the right of the <span class="packt_screen">Raw Image (Script)</span> | <span class="packt_screen">Texture</span> property</li>
<li><span>Select the</span> <kbd>Render_Texture_Minimap</kbd> <span>texture you created</span></li>
<li>Toggle the <span class="packt_screen">Scene</span> view 2D toggle on</li>
<li>Double-click the <span class="packt_screen">HUD_Canvas</span> in the <span class="packt_screen">Hierarchy</span> panel, then zoom in so you can see a close-up of the canvas</li>
<li>Relocate the <span class="packt_screen">RawImage_Minimap</span> so that it is in the lower-right-hand corner of the canvas</li>
<li>Change the <span class="packt_screen">Rect Transform</span> | <span class="packt_screen">Scale</span> to <kbd>2</kbd> for <span class="packt_screen">X</span>, <span class="packt_screen">Y</span>, and <span class="packt_screen">Z</span></li>
</ol>
<p>You are now ready to test your game in game mode. You should see the mini-map in the bottom-right-hand corner of the screen, illustrated in the <span>following screenshot:</span></p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/cc8baf32-3c0a-4f04-ac74-a5c10fb0b0d4.png"/></div>
<p>You can use this mini-map as a great starting point as you work to refine how it looks in the game. Some options for refinement include giving the mini-map more contrast with the game world and showing red dots for Cucumber Beetles instead of only showing the entire terrain.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Scripting for dynamic content</h1>
                </header>
            
            <article>
                
<p>Now that your HUD has been completed, it is time to consider how the information on the HUD is updated. The following elements of our HUD require scripting so that they are dynamically updated during the game:</p>
<ul>
<li>Cucumber Man's health</li>
<li>Number of Cucumber Man lives remaining</li>
<li>Points</li>
<li>Number of cherries in Cucumber Man's inventory</li>
<li>Number of cucumbers </li>
<li>Number of Cucumber Beetles</li>
</ul>
<p>In this section, we will lay the groundwork for updating the HUD information. </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Scripting the cucumber count</h1>
                </header>
            
            <article>
                
<p>Let's start with our cucumber count:</p>
<ol>
<li>In the <span class="packt_screen">Hierarchy</span> panel, select <span class="packt_screen">HUD_Canvas</span> | <span class="packt_screen">Cucumber_Count</span></li>
<li>In the <span class="packt_screen">Inspector</span> panel, click the <span class="packt_screen">Add Component</span> button</li>
<li>Select <span class="packt_screen">New Script</span> and name the script <kbd>CucumberManager</kbd></li>
<li><span>Edit the script</span></li>
</ol>
<p>With the script open, make the necessary modifications to match the script provided, as follows:</p>
<pre><span> <span>using</span><span> System</span><span>.</span><span>Collections</span><span>;</span><br/> <span>using</span><span> System</span><span>.</span><span>Collections</span><span>.</span><span>Generic</span><span>;</span><br/> <span>using</span><span> UnityEngine</span><span>;</span><br/> <span>using</span><span> UnityEngine</span><span>.</span><span>UI</span><span>;</span><br/> <br/> <span>public</span><span> </span><span>class</span><span> </span><span>CucumberManager</span><span> </span><span>:</span><span> </span><span>MonoBehaviour</span><span> </span><span>{</span><br/> <br/> <span>    </span><span>public</span><span> </span><span>int</span><span> </span><span>currentCucumberCount</span><span>;</span><br/> <span>    </span><span>Text</span><span> </span><span>Cucumber_Count</span><span>;</span><br/> <span>    </span><span>public</span><span> </span><span>GameObject</span><span>[]</span><span> </span><span>cucumbers</span><span>;</span><br/> <br/> <br/> <span>    </span><span>void</span><span> </span><span>Awake</span><span> </span><span>()</span><span> </span><span>{</span><br/> <br/> <span>        </span><span>Cucumber_Count</span><span> </span><span>=</span><span> </span><span>GetComponent</span><span>&amp;lt;</span><span>Text</span><span>&gt;</span><span> </span><span>()</span><span>;</span><br/> <span>        </span><span>currentCucumberCount</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span><br/> <span>    </span><span>}</span><br/> <span>    </span><br/> <br/> <span>    </span><span>void</span><span> </span><span>Update</span><span> </span><span>()</span><span> </span><span>{</span><br/> <br/> <span>        </span><span>cucumbers</span><span> </span><span>=</span><span> </span><span>GameObject</span><span>.</span><span>FindGameObjectsWithTag</span><span> </span><span>(</span><span>"</span><span>Cucumber</span><span>"</span><span>)</span><span>;</span><br/> <span>        </span><span>Cucumber_Count</span><span>.</span><span>text</span><span> </span><span>=</span><span> </span><span>cucumbers</span><span>.</span><span>Length</span><span>.</span><span>ToString</span><span>()</span><span>;</span><br/> <span>    </span><span>}</span><br/> <span>}</span></span> </pre>
<p>As you can see, we are using the <kbd>UnityEngine.UI</kbd> namespace. Inside the <kbd>CucumberManager</kbd> class, we declare three variables, establish an initial count of zero in the <kbd>Awake()</kbd> method, and then count the amount of cucumbers every frame in <kbd>Update()</kbd>, providing an on-screen update of the number of cucumbers left in the game. The ease with which we were able to program this was partially due to our assigning of the <kbd>Cucumber</kbd> tag to all of our cucumbers.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Scripting the beetle count</h1>
                </header>
            
            <article>
                
<p>As you might imagine, the script for counting beetles will be very similar to the method we used for counting cucumbers. This time, we will add a <kbd>BeetleManager</kbd> script to our <kbd>Beetle_Count</kbd> UI component. Here is the required script:</p>
<pre><span> <span>using</span><span> System</span><span>.</span><span>Collections</span><span>;</span><br/> <span>using</span><span> System</span><span>.</span><span>Collections</span><span>.</span><span>Generic</span><span>;</span><br/> <span>using</span><span> UnityEngine</span><span>;</span><br/> <span>using</span><span> UnityEngine</span><span>.</span><span>UI</span><span>;</span><br/> <br/> <span>public</span><span> </span><span>class</span><span> </span><span>BeetleManager</span><span> </span><span>:</span><span> </span><span>MonoBehaviour</span><span> </span><span>{</span><br/> <br/> <span>    </span><span>public</span><span> </span><span>int</span><span> </span><span>currentBeetleCount</span><span>;</span><br/> <span>    </span><span>Text</span><span> </span><span>Beetle_Count</span><span>;</span><br/> <span>    </span><span>public</span><span> </span><span>GameObject</span><span>[]</span><span> </span><span>beetles</span><span>;</span><br/> <br/> <br/> <span>    </span><span>void</span><span> </span><span>Awake</span><span> </span><span>()</span><span> </span><span>{</span><br/> <br/> <span>        </span><span>Beetle_Count</span><span> </span><span>=</span><span> </span><span>GetComponent</span><span>&amp;lt;</span><span>Text</span><span>&gt;</span><span> </span><span>()</span><span>;</span><br/> <span>        </span><span>currentBeetleCount</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span><br/> <span>    </span><span>}</span><br/> <br/> <br/> <span>    </span><span>void</span><span> </span><span>Update</span><span> </span><span>()</span><span> </span><span>{</span><br/> <br/> <span>        </span><span>beetles</span><span> </span><span>=</span><span> </span><span>GameObject</span><span>.</span><span>FindGameObjectsWithTag</span><span> </span><span>(</span><span>"</span><span>Beetle</span><span>"</span><span>)</span><span>;</span><br/> <span>        </span><span>Beetle_Count</span><span>.</span><span>text</span><span> </span><span>=</span><span> </span><span>beetles</span><span>.</span><span>Length</span><span>.</span><span>ToString</span><span>()</span><span>;</span><br/> <span>    </span><span>}</span><br/> <span>}</span></span> </pre>
<p>This code is very similar to our <kbd>CucumberManager</kbd> script. The only difference is the GameObject tag and our variable names.</p>
<div class="packt_tip">If this script does not work for you, ensure that your beetles are assigned the <kbd>Beetle</kbd> tag.</div>
<p>The remaining scripting of our HUD will be accomplished in subsequent chapters. In <a href="fdacd7a8-63fe-454d-9d50-f9f40070e484.xhtml" target="_blank">Chapter 10</a>, <em>Scripting Our Points System,</em> we will write scripts for the points and number of cherries in Cucumber Man's inventory. In <a href="7098e2ac-1871-4cb2-98ba-36f3acdb0515.xhtml" target="_blank">Chapter 11</a>,  <em>Scripting Victory and Defeat</em>, we will write the necessary scripts to update the health slider and the number of Cucumber Man lives that remain.</p>
<div class="packt_tip">Be sure to save your Unity scene and project!</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we designed, developed, and incorporated a HUD in our game. We used a canvas GameObject to create text and graphics that provide visual indicators of points, health, and additional information to help the player maintain situational awareness during gameplay. In addition to this, we wrote scripts to update key components of the HUD. We also implemented a mini-map using a Unity camera.</p>
<p>In <a href="fdacd7a8-63fe-454d-9d50-f9f40070e484.xhtml" target="_blank">Chapter 10</a>, <em>Scripting Our Points System</em>, we will design, script, and implement our game's point system. This will include providing frame-by-frame updates to key on-screen components of the game's HUD.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </body></html>