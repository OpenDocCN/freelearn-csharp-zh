<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Creating Our Terrain</h1>
                </header>
            
            <article>
                
<p class="mce-root">In the last chapter, we designed our game so that we have a plan for our development efforts. We designed all the game's functionality, how to use the player character, what role the non-player character will have, what assets we will use, and what animations we will use in the game. We also mocked-up the main game screen as well as our heads-up display. In addition to this, we made key decisions on our game's difficulty balance. With the design work complete, we are ready to start creating our game. </p>
<p class="mce-root">In this chapter, we will create our game's terrain and perform several actions to customize the terrain based on our design mock-up in <a href="df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml" target="_blank">Chapter 3</a>, <em>Designing the Game</em>. We will use shaping tools and add water and vegetation features to complete our game environment.</p>
<p>Specifically, we will cover the following topics in this chapter:</p>
<ul>
<li>Creating the terrain</li>
<li>Shaping the terrain</li>
<li>Painting the terrain</li>
<li>Adding water</li>
<li>Adding vegetation</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating the terrain</h1>
                </header>
            
            <article>
                
<p>Unity terrain is essentially the ground in your game environment; it is your landscape. Unity has several tools that we can use to create, shape, and customize the terrain.  We will use those tools later in this chapter.</p>
<p>For our game, we will use a terrain that was created from a height map and then edited in Photoshop. If you are interested in learning how to accomplish this, read the <em>Importing the terrain</em> section. Otherwise, you can skip this brief section and resume with the section on importing the terrain.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Working with height maps</h1>
                </header>
            
            <article>
                
<p>You will find a lot of free height maps with a simple internet search. Once you have the one you want, perform the following steps:</p>
<div class="packt_infobox">This subsection is not required and only provided for informational purposes. The game's terrain file will be provided along with instructions on how to incorporate it in our game.</div>
<ol>
<li>Open PhotoShop and select <strong><span class="packt_screen">File</span></strong> | <strong><span class="packt_screen">New</span></strong>. Use the following settings:</li>
</ol>
<table>
<tbody>
<tr>
<td><strong>Component</strong></td>
<td><strong>Setting</strong></td>
</tr>
<tr>
<td>Width</td>
<td>512 pixels</td>
</tr>
<tr>
<td>Height</td>
<td>512 pixels</td>
</tr>
<tr>
<td>Resolution</td>
<td>72 pixels</td>
</tr>
<tr>
<td>Color mode</td>
<td>Grayscale 8bit</td>
</tr>
</tbody>
</table>
<ol start="2">
<li> Drag the height map you downloaded into the new Photoshop image.</li>
<li> Make any necessary placement adjustments and commit the transform. </li>
<li> Select <strong><span class="packt_screen">Image</span></strong> | <strong><span class="packt_screen">Auto Tone</span></strong>. Make any brightness and contrast adjustments you feel are necessary.</li>
<li> Save the file as a Photoshop Raw file. </li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Importing the terrain</h1>
                </header>
            
            <article>
                
<p>Before we import our terrain, we need to set up a new Unity 3D project. To do that, follow these steps:</p>
<ol>
<li>Launch Unity.</li>
<li>Click the <strong><span class="packt_screen">New</span></strong> icon.</li>
</ol>
<p> </p>
<ol start="3">
<li>Enter a project name and select <span class="packt_screen">3D</span>.</li>
<li>Click the <strong><span class="packt_screen">Create project</span></strong> button.</li>
<li>Using the top menu, select <strong><span class="packt_screen">GameObject</span></strong> | <strong><span class="packt_screen">3D Object</span></strong> | <strong><span class="packt_screen">Terrain</span></strong>. This creates a default terrain, called <kbd>terrain</kbd>.</li>
<li>With the terrain selected, click the settings cog icon under <span class="packt_screen">Terrain</span> in the <span class="packt_screen">Inspector</span> panel:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="75" width="270" src="assets/e4358894-10e6-464a-8a54-bd0bf997a433.png"/></div>
<ol start="7">
<li>Change the <strong><span class="packt_screen">Terrain Height</span></strong> to <kbd>200</kbd>.</li>
<li>Still in the <span class="packt_screen">Inspector</span> panel, scroll down until you see the <strong><span class="packt_screen">Import Raw...</span></strong> button. Click that button and navigate to the Photoshop Raw file you created in the previous section. Alternatively, you can download the <kbd>terrain.raw</kbd> file from the publisher's companion site:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="41" width="377" src="assets/3e347f10-5bf5-4d0f-a06a-4d8ee95ccd39.png"/></div>
<ol start="9">
<li>Select <strong><span class="packt_screen">Mac</span></strong> for the <strong><span class="packt_screen">Byte Order</span></strong> in the <strong><span class="packt_screen">Import Heightmap</span></strong> dialog window and click the <strong><span class="packt_screen">Import</span></strong> button. It is important to use this option, even if you are on a computer running Windows:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="208" width="260" src="assets/3f03d58f-037b-44b6-9551-61d515f31bc7.png"/></div>
<p>Once you click the <strong><span class="packt_screen">Import</span></strong> button, watch the lower right-hand corner of the Unity interface. The import process can take several minutes. Watching that section of the interface will indicate your progress. See the example here. Be patient:</p>
<div class="CDPAlignCenter CDPAlign"><img height="26" width="223" src="assets/a741e261-f8f1-4dd4-8cbe-2827a910ca3c.png"/></div>
<p>Once the import process is complete, your terrain will reflect the imported height map. As you can see here, it will have some pointed peaks and edges. We will work on those in the next section:</p>
<div class="CDPAlignCenter CDPAlign"><img height="253" width="457" src="assets/dd1b5654-985e-4ac5-aca9-d1459553cfe9.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Shaping the terrain</h1>
                </header>
            
            <article>
                
<p>In this section, we will take several actions to shape our terrain. We will start with smoothing, and then create our five spawn points.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Smoothing our terrain</h1>
                </header>
            
            <article>
                
<p>As we identified in the previous section, our terrain currently has some bumpy edges and pointed peaks. We will use the smoothing tool, which is available in the <span class="packt_screen">Terrain</span> section of the <span class="packt_screen">Inspector</span> panel. As you can see here, it is the third icon from the left:</p>
<div class="CDPAlignCenter CDPAlign"><img height="202" width="397" src="assets/a6d246db-95b5-4c1e-ab70-3ef811134b41.png"/></div>
<p>When the smoothing tool is selected, you are presented with different brush types and sizes. Once you make those selections, simply use the left-button of the mouse to smooth the terrain. </p>
<p>The following screenshot shows the results of the terrain after significant smoothing has been applied:</p>
<div class="CDPAlignCenter CDPAlign"><img height="322" width="420" src="assets/73970f11-b866-4166-81fb-1eed8aa49aa8.png"/></div>
<div class="packt_infobox">If you are following along with these steps in Unity, your results will vary and that is okay. The exact terrain construction is not required in order to follow along with the remaining steps in this and other chapters.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating our spawn points</h1>
                </header>
            
            <article>
                
<p>Our game design called for five spawn points: one in the center, and one each in four corners. Our game environment is not a perfect square, so we will create a spawn point in the center of our terrain and four additional spawn points throughout the terrain.</p>
<p>We are not scripting the spawning yet; that will take place in <a href="7098e2ac-1871-4cb2-98ba-36f3acdb0515.xhtml" target="_blank">Chapter 11</a>, <em>Scripting Victory and Defeat</em>. For now, we will simply create the areas using terrain-shaping tools. Specifically, we will use the <strong><span class="packt_screen">Paint Height</span></strong> tool. As you can see here, it is the second icon in the <span class="packt_screen">Terrain</span> section of the <span class="packt_screen">Inspector</span> panel:</p>
<div class="CDPAlignCenter CDPAlign"><img height="263" width="498" src="assets/6f3ac6df-1dcb-41d3-9687-badc12c4b8e4.png"/></div>
<p>Selecting the a <span class="packt_screen">Brush Size</span> of <kbd>25</kbd>, we simply click and paint the five areas where we want the spawn points to be. We will use the one in the center as the default starting point at the beginning of the game, and then randomly select one of the five for spawning in-game.</p>
<p>When making the spawn points, we want them to be elevated, but not too high. The following screenshot shows the five spawn points located throughout the terrain:</p>
<div class="CDPAlignCenter CDPAlign"><img height="366" width="365" src="assets/b36b34a7-e2e4-4add-bfbd-63a8b802a50b.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Painting the terrain</h1>
                </header>
            
            <article>
                
<p>We are now ready to give our terrain some color. We will start by covering the entire terrain with a grass texture. To accomplish this, ensure the <span class="packt_screen">Terrain</span> is selected in the <span class="packt_screen">Hierarchy</span> panel. Then, in the <span class="packt_screen">Inspector</span> panel, select the <strong><span class="packt_screen">Paint Texture</span></strong> tool. As you can see here, that is the fourth icon in the <span class="packt_screen">Terrain</span> section of the <span class="packt_screen">Inspector</span> panel:</p>
<div class="CDPAlignCenter CDPAlign"><img height="303" width="406" src="assets/8aa38163-f7ad-42a9-8c60-ef2c15c3747a.png"/></div>
<p>As you can see, we do not have any textures defined. We actually do not have any appropriate textures in our project yet, so let's take care of that with a few simple steps:</p>
<ol>
<li>In the <span class="packt_screen">Project</span> panel, click the <kbd>Assets</kbd> folder.</li>
<li>In the right section, right-click and select <strong><span class="packt_screen">Create</span></strong> | <strong><span class="packt_screen">Folder</span></strong>. Name the folder <kbd>Textures</kbd>.</li>
<li>Download the <kbd>grass_starter_texture.jpg</kbd> file from the publisher's companion site.</li>
<li>Drag the <kbd>grass_starter_texture.jpg</kbd> file from your filesystem to the <kbd>Textures</kbd> folder you created in step 1.</li>
</ol>
<p>Now that you have a grass texture in your Unity project, let's apply it to our terrain. Here are the steps:</p>
<ol>
<li>Select <strong><span class="packt_screen">Terrain</span></strong> in the <span class="packt_screen">Hierarchy</span> panel.</li>
<li>In the <span class="packt_screen">Inspector</span> panel, click the <strong><span class="packt_screen">Edit Textures</span></strong> button, and then <strong><span class="packt_screen">Add Texture</span></strong>. This will reveal the <strong><span class="packt_screen">Add Terrain Texture</span></strong> dialog window, depicted here:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="348" width="220" src="assets/5058a2d4-3040-41d3-af1d-5c1cc2c2dec0.png"/></div>
<ol start="3">
<li>Click the left <strong><span class="packt_screen">Select</span></strong> button to reveal a set of textures. </li>
<li>Double-click the <kbd>grass_starter_texture</kbd>.</li>
<li>Change both the <span class="packt_screen">x</span> and <span class="packt_screen">y</span>, <strong><span class="packt_screen">Size</span></strong> from <kbd>15</kbd> to <kbd>2</kbd>.</li>
<li>Click the <span class="packt_screen">Add</span> button.</li>
</ol>
<p>You will see that your terrain is now covered with grass. When you zoom in, you can see the quality of the grass increases. </p>
<p>In the next section, we will add water to our terrain.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding water</h1>
                </header>
            
            <article>
                
<p>Our next step is to add the water surrounding our island. We do not intend to swim in the water or have objects in it, so we can get by with a simple approach. We will refine our water in <a href="04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml" target="_blank">Chapter 6</a>, <em>Creating and Importing 3D Objects for Our Game</em>.</p>
<p>Perform the following steps to create a material and a water plane, and then apply the material to the plane:</p>
<ol>
<li>In the <span class="packt_screen">Project</span> panel, click the <kbd>Assets</kbd> folder.</li>
<li>In the right section, right-click and select <strong><span class="packt_screen">Create</span></strong> | <strong><span class="packt_screen">Folder</span></strong>. Name the folder <kbd>Materials</kbd>.</li>
<li>Double-click the <kbd>Materials</kbd> folder you just created.</li>
<li>Right-click in the <kbd>Materials</kbd> folder and select <strong><span class="packt_screen">Create</span></strong> | <strong><span class="packt_screen">Material</span></strong>. Name the material <kbd>temp_water</kbd>.</li>
<li>With the <kbd>temp_water</kbd> material selected, click the white color box to the left of the eye dropper icon in the <span class="packt_screen">Inspector</span> panel:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="170" width="313" src="assets/ec5008c7-37fd-4f4d-ba69-97d29758f5d1.png"/></div>
<ol start="6">
<li>In the <span class="packt_screen">Color</span> dialog window, select a blue color for your water and close the dialog window. You should now see your color selection indicated in both the <span class="packt_screen">Project</span> panel and the <span class="packt_screen">Inspector</span> panel:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/79647ce5-abc3-4226-a72d-2ebc35a58060.png"/></div>
<p>Now that we have our material ready, let's create a GameObject to simulate our water. Follow these steps:</p>
<ol>
<li>Select <strong><span class="packt_screen">GameObject</span></strong> | <strong><span class="packt_screen">3D Object</span></strong> | <strong><span class="packt_screen">Plane</span></strong> from the top menu.</li>
<li>Using the transform tools, increase the size of the plane to match the size of the entire game world.</li>
<li>Raise or lower the plane until it looks similar to this:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="301" width="304" src="assets/1ae7fa2f-6626-493b-b0ff-a8590d15e561.png"/></div>
<ol start="4">
<li>With the plane selected, click the small circle to the right of <kbd>Default-Material</kbd> in the <span class="packt_screen">Mesh Renderer</span> section of the <span class="packt_screen">Inspector</span> panel. The following screenshot shows that section:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="84" width="415" src="assets/c578e02b-1518-4f1d-aaca-2ba51b939040.png"/></div>
<ol start="5">
<li>You should now see the <span class="packt_screen">Select Material</span> dialog window. Select the <kbd>temp_water</kbd> texture you created and close the dialog window.</li>
<li>In the <span class="packt_screen">Hierarchy</span> panel, right-click the <span class="packt_screen">Pane</span> object and rename it <kbd>WaterPane</kbd>. This will help us stay organized and enable us to identify our game objects.</li>
</ol>
<p>Your game environment should now look something similar to this:</p>
<div class="CDPAlignCenter CDPAlign"><img height="293" width="293" src="assets/f62a67da-b496-495a-b516-7badfc9b5e4b.png"/></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Saving your work</h1>
                </header>
            
            <article>
                
<p class="mce-root">This is a good time to save your work. In order to remain organized, let's create a <kbd>Scenes</kbd> folder under <kbd>Assets</kbd>. Here are the steps to accomplish that:</p>
<ol>
<li>In the <span class="packt_screen">Project</span> panel, click the <kbd>Assets</kbd> folder.</li>
<li>In the right-hand section, right-click and select <strong><span class="packt_screen">Create</span></strong> | <strong><span class="packt_screen">Folder</span></strong>. Name the folder <kbd>Scenes</kbd>.</li>
</ol>
<p class="mce-root">Now you are ready to save your work. From the top menu, select <span class="packt_screen">File</span> | <span class="packt_screen">Save</span> Project. You can use the <strong><span class="packt_screen">File</span></strong> | <strong><span class="packt_screen">Save Scenes</span></strong> or <strong><span class="packt_screen">File</span></strong> | <strong><span class="packt_screen">Save Scene As...</span></strong> option to save your scene. Also, when you exit without having saved your scene, you will be prompted for a name. Save your scene using any of those options, give your scene the name of <kbd>Main</kbd> and ensure it is saved in the <kbd>Assets</kbd> | <kbd>Scenes</kbd> folder.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding vegetation</h1>
                </header>
            
            <article>
                
<p>So far, our game environment only consists of a land mass covered in grass, surrounded by water. As you will remember from <a href="df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml" target="_blank">Chapter 3</a>, <em>Designing the Game</em>, we plan to incorporate the following game objects related to the terrain:</p>
<ul>
<li>Cherry trees</li>
<li>Cucumber patches</li>
<li>Cucumbers</li>
</ul>
<p>We will add those game objects in <a href="04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml" target="_blank">Chapter 6</a>, <em>Creating and Importing 3D Objects for Our Game</em>. For now, we can add some regular trees to start filling in our game environment.</p>
<p>Instead of simply importing trees that others have made, we will go through the steps to create our own trees. Follow these steps to create your first 3D tree in Unity from scratch:</p>
<ol>
<li>Select <span class="packt_screen">GameObject</span> | <span class="packt_screen">3D Object</span> | <span class="packt_screen">Tree</span> from the top menu. This will create a new tree and place it in your game world at <span class="packt_screen">Transform</span> 0, 0, 0. </li>
</ol>
<div class="packt_tip">Double-clicking an object in the <span class="packt_screen">Hierarchy</span> panel will focus it in the center of the <span class="packt_screen">Scene</span> view. It will also provide a zoomed-in view of the object.</div>
<ol start="2">
<li>Using the transform tools, increase the Y axis so the tree is above your water line. It will only consist of a single branch:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="436" width="273" src="assets/9d512a67-d901-4770-8f22-5dd625a900cb.png"/></div>
<p style="padding-left: 60px">With the <span class="packt_screen">Tree</span> selected, we turn our focus to the <span class="packt_screen">Tree</span> window in the <span class="packt_screen">Inspector</span> panel. The following diagram indicates the various buttons that we will be using to continue creating our tree:</p>
<div class="CDPAlignCenter CDPAlign"><img height="267" width="552" src="assets/98c77f80-3a3f-4709-8ce6-d903f1bd647d.png"/></div>
<ol start="3">
<li>Select the Branch Group icon in the <span class="packt_screen">Tree</span> window. Next, click the Add Branch Group button. You will see a branch has been added to the main Branch, which serves as a tree trunk. As you can see here, there is a <span class="packt_screen">Length</span> setting that you can adjust in the <span class="packt_screen">Inspector</span> panel:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="37" width="272" src="assets/11ff8296-2b41-40b2-83cc-98bde0c92aea.png"/></div>
<p style="padding-left: 60px">There are three additional tools that can help you make unique trees. The buttons, illustrated as follows, are Move Branch, Rotate Branch, and Free Hand:</p>
<div class="CDPAlignCenter CDPAlign"><img height="40" width="131" src="assets/3d04b364-a564-4807-8839-6df5f57ec173.png"/></div>
<ol start="4">
<li>Continue to create branches on your tree trunk until it looks the way you want it to. Remember, you can individually move, resize, and rotate branches. You can also add branches to branches. When you add a new branch, it is added to the currently selected branch.</li>
</ol>
<div class="packt_tip">When you first create a new branch, it is best to change the size before moving it. Once you relocate the branch, you might lose the ability to make certain adjustments.</div>
<p style="padding-left: 60px">When you are done adding and configuring branches, your tree will look quite unique. An example is provided in the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img height="217" width="295" src="assets/06dd9c4f-9f49-4fc1-8cda-98f9bde3c028.png"/></div>
<p style="padding-left: 60px">As you can see, there is one tree trunk and several branches. We can see, in the <span class="packt_screen">Tree</span> window, the hierarchy of branches:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/0a0ff693-5aa8-4c90-96c4-44723443b422.png"/></div>
<p style="padding-left: 60px">Your next step is to add leaves to your tree. </p>
<ol start="5">
<li>Click on the branch you want to apply leaves to and click the Add Leaf Group button. </li>
<li>In the <span class="packt_screen">Distribution</span> section of the <span class="packt_screen">Inspector</span> panel, change the <span class="packt_screen">Frequency</span> to select how many leaves you want on that branch. This image shows the <span class="packt_screen">Frequency</span> slider interface:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="129" width="469" src="assets/edbae2c2-1f0d-4110-871b-b17edfbc35d0.png"/></div>
<ol start="7">
<li>Continue adding leaves to the branches until you have your desired look. When you are done, your tree will look like it has paper for leaves: </li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img height="326" width="498" src="assets/e8b9484d-15fe-4e1f-9542-494d301575f2.png"/></div>
<p style="padding-left: 60px"><span>As you can see, there is one tree trunk with several branches and leaf groups. We can see this in the <span class="packt_screen">Tree</span> window:</span></p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/418ac1cd-ebe3-48d8-bc47-be82f5c171bc.png"/></div>
<p style="padding-left: 60px">The next step would be to apply materials to the branches and leaves. Since we do not have any of those materials in our game project yet, we will leave the tree as it is. Learning how to create unique trees can contribute to unique gaming environments. There are several quality trees available from Unity Technologies, as well as other content creators. We will explore some of those trees, and actually incorporate them into our game, in <a href="04be4d7b-8c85-4d9e-baf2-43965183f99f.xhtml" target="_blank">Chapter 6</a>, <em>Creating and Importing 3D Objects for Our Game</em>.</p>
<ol start="8">
<li><span>In the <span class="packt_screen">Hierarchy</span> panel, rename the <kbd>Tree</kbd> to <kbd>Tree_Special</kbd>.</span></li>
<li>Using the transform tools, relocate the tree on dry land. It is not important where you put it, as long as it is on dry land and not on a spawn point.</li>
<li>With <kbd>Tree_Special</kbd> selected, change the <span class="packt_screen">Scale</span> from <kbd>1, 1, 1</kbd> to <kbd>3, 3, 3.</kbd> That will make our tree more prominent in our game world.</li>
<li>Do not forget to save your Unity project.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p class="mce-root">In this chapter, we created our game's terrain and made several customizations to the terrain based on our design mock-up in <a href="df7798e1-3730-4af7-8c04-857d71ac78d2.xhtml" target="_blank">Chapter 3</a>, <em>Designing the Game</em>. We used shaping tools, painted the terrain, added water, and even created our own tree from scratch. In addition, we created a material and imported a texture file.</p>
<p class="mce-root">In <a href="101c3b96-a362-4913-925c-f22503f0f8a1.xhtml" target="_blank">Chapter 5</a>, <em>Lights, Cameras, and Shadows</em>, we will explore the different types of lighting and cameras available in Unity. We will use lights and cameras in our <em>Cucumber Beetle</em> game to achieve appropriate light and shadow effects for the game.</p>


            </article>

            
        </section>
    </body></html>