<html><head></head><body>
<div><div><h1 class="chapterNumber">3</h1>
<h1 class="chapterTitle" id="_idParaDest-62">Programming</h1>
<p class="normal">Welcome to Chapter 3! We are going to cover all the basics of C# and how to use it in Unity. We’ll go over the primary chunk of programming knowledge required for most projects. This chapter should serve as a referenceable chapter throughout the rest of the book when we get into scripting in each future chapter. We will first need to begin by ensuring that your computer’s environment is set up to start programming with Unity and then flow into the fundamentals of programming. This chapter will serve as a foundational lynchpin to your Unity projects. Topics include:</p>
<ul>
<li class="bulletList">Setting up the environment</li>
<li class="bulletList">Variables</li>
<li class="bulletList">Data types</li>
<li class="bulletList">Programming logic</li>
<li class="bulletList">Methods</li>
</ul>
<h1 class="heading-1" id="_idParaDest-63">Setting up the environment</h1>
<p class="normal">Programming environment<a id="_idIndexMarker150"/> specifically refers to the <strong class="keyWord">Integrated Development Environment</strong> (<strong class="keyWord">IDE</strong>) that you will use, and the dependencies<a id="_idIndexMarker151"/> associated with it. C# is part of .NET Framework from Microsoft, which needs to be installed on your machine to work. Luckily for us, many of the IDEs in the world will install that for you when you start working in C#. Even more luckily for us, Visual Studio, if installed from Unity Hub, is preconfigured and you can get right to developing your project straight away! Let’s go through the steps to see how you can set up your environment.</p>
<h2 class="heading-2" id="_idParaDest-64">The Unity environment</h2>
<p class="normal">Microsoft Visual Studio is free, directly connects<a id="_idIndexMarker152"/> to Unity, and comes with tools to help you right off the bat! This is like needing to work on your car and someone just hands you the right tool for what you need as you put your hand in the engine bay.</p>
<p class="normal">There are some steps to ensure that every application is talking to each other. Let’s walk through them together so we can ensure we’re on the same page moving through the book as well as the rest of this chapter; we will work through small snippets of code right away. No need to check the water’s temperature, let’s dive in!</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">Install Unity Hub by googling <code class="inlineCode">Unity Hub</code> and selecting the top link. This will take you to the official Unity webpage where you can download Unity Hub. After installing the hub, you will need to install a version of Unity to use. </li>
</ol>
<p class="normal">As the previous chapter explained the version of Unity, we are going to recommend production using the latest LTS version. In Unity Hub, when you’re installing a version of Unity and if you do not have Visual Studio installed, there will be an option to install it for you preconfigured. In <em class="italic">Figure 3.1 </em>below, you can see that we already have Visual Studio installed, however, if you do not, there will be a checkbox next to it to select it. It will then install the application for you ready to go!</p>
<p class="packt_figref"><img alt="Graphical user interface, application  Description automatically generated" height="434" src="img/B17304_03_01.png" width="762"/></p>
<p class="packt_figref">Figure 3.1: Unity Hub Install Unity modal</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="2">If you didn’t have Visual Studio<a id="_idIndexMarker153"/> installed, then this will take care of configuring Unity and Visual Studio for you. If you did already have it installed, you will need to check to ensure the connection between the programs is ready for them to work together. Let’s connect Unity to it and start learning. </li>
</ol>
<p class="normal">To begin, close Visual Studio and open the Unity project we created in the previous chapter. If you didn’t make one, no better time than now.</p>
<p class="normal">Navigate to these respective menus to connect Visual Studio to Unity:</p>
<p class="normal">Mac: <strong class="screenText">Unity (Top left of the screen) -&gt; Preferences -&gt; External Tools tab</strong></p>
<p class="normal">PC: <strong class="screenText">Edit -&gt; Preferences -&gt; External Tools tab</strong></p>
<p class="normal">In the external scripting tool dropdown, choose <strong class="screenText">Visual Studio</strong>. After this has been selected, go to your <strong class="screenText">Assets</strong> folder in the project window and right-click in the gray open space. Following <em class="italic">Figure 3.2</em>, you can create a script by choosing: <strong class="screenText">Create -&gt; C# Script</strong>. Name it <code class="inlineCode">ScriptingLesson</code> and double-click it to open it. This should open Visual Studio with the proper hooks from Unity. This means that Visual Studio<a id="_idIndexMarker154"/> will read in the project file and Unity will keep it up to date with any changes.</p>
<figure class="mediaobject"><img alt="Graphical user interface  Description automatically generated" height="496" src="img/B17304_03_02.png" width="755"/></figure>
<p class="packt_figref">Figure 3.2: Creating a C# script in the editor</p>
<p class="normal">Now we can get started on scripting! In the next sections, we will be working through the fundamentals. These will stick with you and be part of every project that you work on in the future. This would be a good section to put a sticky note in to come back to for reference.</p>
<p class="normal">Before we get too far, we wanted to make a point here. There may be a spot this and other chapters where the code will get unruly. Your script may not work due to a single line difference or a forgotten semicolon. This happens very often. There is no need to worry; we will have all the scripts in the project safely set up for you to recover from. However, a note is that we have heavily commented on the lines for readability. This may result in different lines being stated in the chapters than you see in the code. We will try to be as accurate in the book as possible, but sometimes a single line comment can cause this. Be flexible with<a id="_idIndexMarker155"/> us as a comment can make the difference in understanding the entire script’s inner workings and is more important than a single line number being accurate.</p>
<h1 class="heading-1" id="_idParaDest-65">Fundamentals</h1>
<p class="normal">With Visual Studio installed<a id="_idIndexMarker156"/> and connected to Unity’s editor, we should go over the basics. In this section, we will talk about data types, variables, logic or code flow, methods, classes, and <code class="inlineCode">MonoBehaviour</code>. There is a lot of knowledge in this section of the chapter, but it is meant to be referenced. If you have a sticky note, it might be a good idea to place it in this chapter to easily be referenced. When you open the file, there will be autopopulated C# that we will not need for this part. For now, delete the extra parts so that it looks like this:</p>
<pre class="programlisting code"><code class="hljs-code">using UnityEngine;
 
public class ScriptingLesson : MonoBehaviour
{
// Data and Variables
// Logic and Flow
// Methods
}
</code></pre>
<p class="normal">The code here is doing two primary tasks. The first line imports the <code class="inlineCode">UnityEngine</code> library so that we can use types and methods from the <code class="inlineCode">UnityEngine</code> namespace<a id="_idIndexMarker157"/> for our game. This is called the “using directive”. Inside the UnityEngine namespace, we have access to all of our game types, such as GameObject. Since we will be working in the editor to manipulate these GameObjects, we should be using this namespace in our class. </p>
<p class="normal">The next portion is a class named<em class="italic"> </em><code class="inlineCode">ScriptingLesson</code> that inherits from <code class="inlineCode">MonoBehaviour</code>. Inheritance is part of <strong class="keyWord">Object Oriented Programing</strong>. This class needs<a id="_idIndexMarker158"/> to inherit from <code class="inlineCode">MonoBehaviour</code> as it’s directly affecting objects in the game. During the <em class="italic">Programming</em> logic portion below we will explain how we utilize inheriting from <code class="inlineCode">MonoBehaviour</code>.</p>
<p class="normal">The <strong class="screenText">//</strong> means comment. Anything on that line will not be compiled by the IDE. You can use this to help yourself out with pseudocode or by adding some defining words to your code to help other programmers that may work with your code. We’re using it for organization purposes.</p>
<p class="normal">After you make the change to the script, save it by pressing <em class="keystroke">Cmd + s</em> or <em class="keystroke">Ctrl + s</em>.</p>
<p class="normal">If you then go back to Unity, you will see that Unity will compile the scripts. Every time we make a significant<a id="_idIndexMarker159"/> change to the script, we will go back to Unity and check on how we are doing. There will be times that the Unity Editor will not like the code we are working with, but Visual Studio doesn’t get these editor warnings or errors.</p>
<p class="normal">In the <strong class="screenText">Scene</strong>, add an empty <strong class="screenText">GameObject</strong>. Name it <code class="inlineCode">Scripting Lesson</code> and then select it. In the <strong class="screenText">Inspector</strong>, click <strong class="screenText">Add Component</strong> and type <code class="inlineCode">scriptinglesson</code> in the search bar. Left-click the script to add it to the empty GameObject. There is another way to add the component. If you have the scripting lesson selected, you can also click and drag the script onto the inspector to add the script onto the component section of the GameObject. Both ways are commonly used. Smaller projects may drag more than larger projects. Where there are many scripts and you know exactly what you’re looking to add, you may use the <strong class="screenText">Add component</strong> button and type in the script name to add it. Now, when we make changes, you will see them on this GameObject.</p>
<p class="normal">Before we get into any data types, we should have a small discussion about variables.</p>
<h2 class="heading-2" id="_idParaDest-66">Variables</h2>
<p class="normal">Just like in algebra, variables<a id="_idIndexMarker160"/> are named containers for something. C# is a strongly-typed programming language. This means that each variable needs to have its own data type associated with it when it is declared. There are guidelines on how to name your variables and which data type to use for certain situations. We will go into detail on this within each section. Naming conventions are case sensitive, and each type of naming has its own set of rules that need to be followed.</p>
<h2 class="heading-2" id="_idParaDest-67">Data types</h2>
<p class="normal">There are 10 Unity data types<a id="_idIndexMarker161"/> that are utilized in C#, however, in Unity, we will primarily need to know 4 well. They are <strong class="keyWord">bool</strong>, <strong class="keyWord">int</strong>, <strong class="keyWord">float</strong>, and <strong class="keyWord">string</strong>. We will be creating each of these data types in the <code class="inlineCode">ScriptingLesson.cs</code> file that we created. </p>
<p class="normal">Bool</p>
<p class="normal">This stands for the Boolean data<a id="_idIndexMarker162"/> type, which is designed for either true or false variables. These values are also represented by a <code class="inlineCode">1</code> (True) or <code class="inlineCode">0</code> (False). </p>
<p class="normal">As an example, this could be used when your character enters an area that they shouldn’t have to trigger something to happen, like a SPIKE TRAP!</p>
<p class="normal">On line 5 add: </p>
<pre class="programlisting code"><code class="hljs-code">public bool isActive;
</code></pre>
<p class="normal">There are four parts<a id="_idIndexMarker163"/> to this line and all of them have specific purposes: </p>
<ul>
<li class="bulletList"><code class="inlineCode">public</code> allows Unity to access the item we are creating for use in the editor.</li>
<li class="bulletList"><code class="inlineCode">bool</code> is the data type of the item we are creating.</li>
<li class="bulletList"><code class="inlineCode">isActive</code> is the name of the <code class="inlineCode">bool</code> data we are creating. It will default to <code class="inlineCode">false</code> as a value. </li>
<li class="bulletList">The semicolon (<code class="inlineCode">;</code>) is being used here to denote that it’s the end of the instruction.</li>
</ul>
<p class="normal">If you save and go back into the Unity Editor, you will now see there is a checkbox in the inspector named <strong class="screenText">Is Active</strong>. It should look similar to this:</p>
<figure class="mediaobject"><img alt="" height="90" src="img/B17304_03_03.png" width="742"/></figure>
<p class="packt_figref">Figure 3.3: “Is Active” checkbox visible</p>
<h3 class="heading-3" id="_idParaDest-68">Int</h3>
<p class="normal">An integer, or int, is a whole number<a id="_idIndexMarker164"/> such as 1, 100, 200, -234571, or 0. It cannot take decimal places. This is used, for example, if you have a discrete value needed to count up or down. How many points are gathered in a play session is a great place to use ints.</p>
<p class="normal">On line 6 add:</p>
<pre class="programlisting code"><code class="hljs-code">public int myInt;
</code></pre>
<p class="normal">This is very similar to the <code class="inlineCode">bool</code>. We are declaring that <code class="inlineCode">myInt</code> is a publicly accessible integer data type variable. When you save and go back to the Unity Editor, you will now notice a text input to the right of a variable named <code class="inlineCode">myInt</code>. Since it is an integer, you cannot put a period (<code class="inlineCode">.</code>) in there<a id="_idIndexMarker165"/> to make a decimal as it’s an int and only whole numbers are allowed.</p>
<h3 class="heading-3" id="_idParaDest-69">Float</h3>
<p class="normal">You might be asking, how can I get decimal places<a id="_idIndexMarker166"/> in my numbers? The answer you seek is the almighty float! With a float, you can get decimal places such as 1.3 or 100.454. </p>
<p class="normal">There is a small unique factor to the float. When you are scripting, you must put a small <code class="inlineCode">f</code> after the value to help the compiler know the value is a float. C# assumes that any number without <code class="inlineCode">f</code> at the end, such as 3.14, is a type of <code class="inlineCode">double</code>. We won’t be using a <code class="inlineCode">double</code> for our scripting, so we need to remember to add the little <code class="inlineCode">f</code> after our floats.</p>
<p class="normal">On line 7 add:</p>
<pre class="programlisting code"><code class="hljs-code">public float myFloat = 3.14;
</code></pre>
<p class="normal">When you tried to enter this, there was an issue with the number and there was a red line underneath the <strong class="screenText">3.14</strong>, right? If you hover over the red-underlined area, you will get an error. It might look something like <em class="italic">Figure 3.4</em>:</p>
<figure class="mediaobject"><img alt="Graphical user interface, application  Description automatically generated" height="127" src="img/B17304_03_04.png" width="826"/></figure>
<p class="packt_figref">Figure 3.4: CS0664 error display</p>
<p class="normal">Visual Studio is trying to tell you that the number you entered will be thought of as a <code class="inlineCode">double</code>, so let’s make a bit of a change to help the IDE.</p>
<p class="normal">Change line 7 to:</p>
<pre class="programlisting code"><code class="hljs-code">public float myFloat = 3.14f;
</code></pre>
<p class="normal">There we go. Now we have a float declared and initialized. We declared it as <code class="inlineCode">myFloat</code> and initialized the value as <code class="inlineCode">3.14</code>. The default float is <code class="inlineCode">0</code>, but when you tell it to assign a value as you are declaring it, the IDE overwrites that default <code class="inlineCode">0</code> with the value you set it to. When you go into Unity and look at the inspector, you will now see the value starts out as <strong class="screenText">3.14</strong>.</p>
<h3 class="heading-3" id="_idParaDest-70">String</h3>
<p class="normal">We’ve been working with numbers<a id="_idIndexMarker167"/> this whole time. Now it’s time for letters to shine. Strings hold the values of characters. An example of this could be the character’s display name.</p>
<p class="normal">On line 8 add:</p>
<pre class="programlisting code"><code class="hljs-code">public string mystring = "Myvari";
</code></pre>
<p class="normal">This looks the same as well, but now you can add letters! The interesting point to be made here is that these public values’ inputs all look the same, so we need to make sure our variable names are unique.</p>
<h3 class="heading-3" id="_idParaDest-71">GameObject</h3>
<p class="normal">This is an interesting data type<a id="_idIndexMarker168"/> as it’s unique to Unity. Its reference is to a GameObject<a id="_idIndexMarker169"/> that you place in it from the scene or prefab. This is extremely powerful as the item you place in here has components and we can access them from the script to do a great many things.</p>
<p class="normal">On line 8 add:</p>
<pre class="programlisting code"><code class="hljs-code">public GameObject myGameObject;
</code></pre>
<p class="normal">Save your code and head back into the editor. You will notice this time, instead of an input field, it is wanting a GameObject to be placed here. In our scene, there is a directional light. Let’s drag that light from the hierarchy and into that spot. You now have a reference to a scene GameObject! Let’s continue a bit further to logic and flow to see what we can do with our initial variables.</p>
<h2 class="heading-2" id="_idParaDest-72">Programming logic</h2>
<p class="normal">We’ve created some amazing<a id="_idIndexMarker170"/> variables filled with such fantastic data. The only problem is that we aren’t doing anything with it. Why don’t we start working some logic into our little script to start making some connection as to why we would need to program in the first place? For this, we are going to go into <strong class="keyWord">if statements</strong> and <strong class="keyWord">while loops</strong>.</p>
<p class="normal">Before we get to do some runtime work, we need to add <code class="inlineCode">MonoBehaviour</code> to our class. The term for the actions we’re about to take is inheritance. We will derive our class from <code class="inlineCode">MonoBehaviour</code>, which will give us access to its class by inheriting them! To do this is very simple.</p>
<p class="normal">Remembering line 3:</p>
<pre class="programlisting code"><code class="hljs-code">public class ScriptingLesson : MonoBehaviour
</code></pre>
<p class="normal">We are inheriting<a id="_idIndexMarker171"/> properly by adding <code class="inlineCode">: MonoBehaviour </code>after our class name, and now we have access to any of the methods inside the <code class="inlineCode">MonoBehaviour</code> class. There are quite a few methods we are able to use from <code class="inlineCode">MonoBehaviour</code>. For now, we will use the <code class="inlineCode">Start()</code> and <code class="inlineCode">Update()</code> methods that are inherited from <code class="inlineCode">MonoBehaviour</code>.</p>
<h3 class="heading-3" id="_idParaDest-73">If statements</h3>
<p class="normal">We’re now going to set up some<a id="_idIndexMarker172"/> simple code to turn a GameObject off and on according to the state of the <code class="inlineCode">isActive</code> bool we’ve defined. To do this, we will need to check it on an <code class="inlineCode">update</code> method, which is part of <code class="inlineCode">MonoBehaviour</code>. </p>
<p class="normal">Starting with line 13, we made these changes:</p>
<pre class="programlisting code"><code class="hljs-code">private void Start()
{
    isActive = true;
}
 
private void Update()
{
        if (myGameObject != null)
        {
            if (isActive)
            {
                myGameObject.SetActive(isActive);
            }
            else
            {
                myGameObject.SetActive(isActive);
            }
        }
}
</code></pre>
<p class="normal">Inside the <code class="inlineCode">Start</code> method from <code class="inlineCode">MonoBehaviour</code>, we are setting <code class="inlineCode">isActive</code> to true. This was added here to set the <code class="inlineCode">Boolean</code> to be considered regardless of what was set in the editor.</p>
<p class="normal">After that, there is an <code class="inlineCode">update</code> method. The <code class="inlineCode">update</code> method from <code class="inlineCode">MonoBehaviour</code> will do a check of the entire code<a id="_idIndexMarker173"/> inside the curly braces in every frame. Initially, we check out the GameObject we defined<a id="_idIndexMarker174"/> by comparing it to a <strong class="keyWord">null</strong>. This is a validity check. <code class="inlineCode">Null</code> is a special keyword that denotes the lack of type or data. If you do not perform these checks, your editor will not be able to play as there will be a null exception. An example of this is if you have a public GameObject that isn’t assigned in the inspector, this will throw a null exception as the GameObject is null!</p>
<p class="normal">Inside the validity check, we have an if/else statement. It’s currently saying if the <code class="inlineCode">isActive</code> variable is true, then set <code class="inlineCode">myGameObject</code> to active. For anything other than true, set <code class="inlineCode">myGameObject</code> to inactive.</p>
<p class="normal">If you save and press play, you will be able to select the scripting lesson GameObject and then uncheck the <code class="inlineCode">isActive</code> boolean checkbox. It will turn off the light. Since this is checking every frame, you can do this forever and it will turn on and off until your heart’s content.</p>
<p class="normal">Before we move on to <code class="inlineCode">while</code> loops, we wanted to do a bit of a refactor of our block above. This is a good time to learn about this as well. We went through this <code class="inlineCode">if</code> block to learn the syntax, but we could’ve made it better! We are running this check every frame, so the <code class="inlineCode">if</code> block isn’t needed here as we have a <code class="inlineCode">Boolean</code> to compare it with. You could instead write the following code to refactor this down, saving compute time:</p>
<pre class="programlisting code"><code class="hljs-code">private void Update()
{
        if (myGameObject != null)
        {
            myGameObject.SetActive(isActive); 
        }
}
</code></pre>
<p class="normal">How this can be read is, every frame, if <code class="inlineCode">myGameObject</code> isn’t null, set its active state to either true or false depending on what the <code class="inlineCode">Boolean</code> is set to. We don’t have to ask it if it’s true or not since the data type only has two states! This is awesome.</p>
<p class="normal">Let’s move on to <code class="inlineCode">while</code> loops for a take on looping code.</p>
<h3 class="heading-3" id="_idParaDest-74">While loops</h3>
<p class="normal">An <code class="inlineCode">if</code> statement<a id="_idIndexMarker175"/> is a simple branching pattern checking for a true or false to execute something. <code class="inlineCode">while</code> loops will continually run code until the statement is true or false. This can cause issues – as you can imagine, some tasks could go on forever. This is called an infinite loop<a id="_idIndexMarker176"/> and can hang your application indefinitely or until it’s forced to close. For the most part, we catch infinite loops quickly and they don’t cause much of a fuss. We should still pay attention to our criteria when creating a <code class="inlineCode">while</code> loop. </p>
<p class="normal">On line 32, add these lines to the <code class="inlineCode">update</code> method:</p>
<pre class="programlisting code"><code class="hljs-code">while (MyInt &gt; 0)
        {
            Debug.Log($"MyInt should be less than zero. It's currently at: {MyInt}");
            MyInt--;
        }
</code></pre>
<p class="normal">There are several new<a id="_idIndexMarker177"/> things we’re doing here in this <code class="inlineCode">while</code> loop. We are doing a <strong class="keyWord">debug log</strong>, <strong class="keyWord">string interpolation</strong>, and a <strong class="keyWord">decrementer</strong>. Let’s go through those.</p>
<h4 class="heading-4">Debug log</h4>
<p class="normal"><code class="inlineCode">Debug.Log</code> allows us to pass<a id="_idIndexMarker178"/> in a string and it will be written out in the console inside<a id="_idIndexMarker179"/> Unity. This is very helpful if there are strange things happening and you want to get some runtime information out to the console.</p>
<h4 class="heading-4">String interpolation</h4>
<p class="normal">Inside the log, we are performing<a id="_idIndexMarker180"/> an action called string interpolation. This is a very handy<a id="_idIndexMarker181"/> way to add your variables into a string. This is started off with a <strong class="screenText">$</strong> followed by double quotes. Inside this is a string that you want to write out. It is a literal string to include spaces. The interesting thing is that there are curly braces <strong class="screenText">{}</strong> inside the string! If you place the variable name inside the curly braces, you will get the data passed into the string. In the <code class="inlineCode">while</code> loop just slightly above you can see us performing this in the <code class="inlineCode">Debug</code> line. </p>
<h4 class="heading-4">Decrementer</h4>
<p class="normal">The next line<a id="_idIndexMarker182"/> is a decrementer. This<a id="_idIndexMarker183"/> is an efficient way to write this line:</p>
<pre class="programlisting code"><code class="hljs-code">MyInt = Myint – 1;
</code></pre>
<p class="normal">If you save this and then run it, there will be nothing in the console. This is because we haven’t set <code class="inlineCode">MyInt</code> to anything, so it defaults to 0. The <code class="inlineCode">while</code> loop will not run because <code class="inlineCode">MyInt</code> is not greater than 0 – it is 0. Let’s make this change:</p>
<p class="normal">On line 16, add this:</p>
<pre class="programlisting code"><code class="hljs-code">MyInt = 10;
</code></pre>
<p class="normal">Save and run the game. Now if you<a id="_idIndexMarker184"/> look at the console, it will quickly decrement <code class="inlineCode">MyInt</code> down<a id="_idIndexMarker185"/> to 0 and print out the line letting you know its current value. If you look in the inspector, you will see that <code class="inlineCode">MyInt</code> is showing 0 as well.</p>
<p class="normal">Now that we have an idea about programming logic, let’s add some functionality.</p>
<h3 class="heading-3" id="_idParaDest-75">For loops</h3>
<p class="normal">Like <code class="inlineCode">while</code> loops, <code class="inlineCode">for</code> loops are an iteration over a set number of items. <code class="inlineCode">for</code> loops are most used if there is an idea<a id="_idIndexMarker186"/> of how many times the iteration will need to run. We will do a simple <code class="inlineCode">for</code> loop to show the syntax of it and go over it below:</p>
<p class="normal">First, let’s comment out line 35 as we don’t need the <code class="inlineCode">while</code> loop debug log cluttering up our <code class="inlineCode">for </code>loop debug lines.</p>
<p class="normal">Then, on line 39, add this block of code:</p>
<pre class="programlisting code"><code class="hljs-code">for (int i = 0; i &lt; 10; i++)
        {
            Debug.Log($"For Loop number: {i}");
        }
</code></pre>
<p class="normal"><code class="inlineCode">for</code> loops tend to be more common, but let’s go over a bit of reasoning as to why you would want to use one or the other.</p>
<h3 class="heading-3" id="_idParaDest-76">Choosing between for and while</h3>
<p class="normal"><code class="inlineCode">for</code> and <code class="inlineCode">while</code> loops are similar in function. They are designed to iterate over some set of items. The rules on this aren’t written<a id="_idIndexMarker187"/> in stone. They are interchangeable technically, but there<a id="_idIndexMarker188"/> is some nuance to readability. The <code class="inlineCode">for</code> loop reads as if there is a set number to iterate over. This value doesn’t need to be known to the <code class="inlineCode">for</code> loop, but an example of this is a group of GameObjects. If you needed to iterate over all of them and perform logic on all of them, you wouldn’t need to code the number of items to iterate over as the grouping has a count. You can iterate over this count. We will see an example of this in <em class="chapterRef">Chapter 6</em>, <em class="italic">Interactions and Mechanics</em>.</p>
<p class="normal">The difference between this and the <code class="inlineCode">while</code> loop is that the <code class="inlineCode">while</code> loop reads as follows: Do something until a condition<a id="_idIndexMarker189"/> is set to true. It doesn’t matter how many items need to be iterated on as<a id="_idIndexMarker190"/> it will go until the other condition is met. <code class="inlineCode">while</code> loops have an inherent issue in them for making infinite loops. If you don’t 100% understand what you are looping over or accidentally use the wrong symbol (&lt; instead of &gt;) for your condition, you can run into that infinite loop explained in the <code class="inlineCode">while</code> loop section. <code class="inlineCode">while</code> loops aren’t used as much as <code class="inlineCode">for</code> loops, but they do have a good place in programming.</p>
<h2 class="heading-2" id="_idParaDest-77">Methods</h2>
<p class="normal">If logic is the butter<a id="_idIndexMarker191"/> of programming, this is the bread. The purpose of a method is to perform actions in a concise manner. A very simple example of a method is a basic calculator function called <code class="inlineCode">Add</code>. To perform this function, we will do three things: Create some public variables to add with, have a way to trigger the method, and the method itself. We decided to use the input system for all our inputs. To get this working, there are a few new concepts to add here as well. Previously, we asked you to insert code into specific lines. We will now just ask you to insert the code into the specific sections instead.</p>
<p class="normal">At the top, we need to let the program know we want to use the input system. To do this, we will add a <code class="inlineCode">using</code> statement:</p>
<pre class="programlisting code"><code class="hljs-code">using UnityEngine;
using UnityEngine.InputSystem;
</code></pre>
<p class="normal">In the class’s variable section, add these lines:</p>
<pre class="programlisting code"><code class="hljs-code">public int addA;
public int addB;
public int totalAdd;
private InputAction testInput = new InputAction("test", binding: "&lt;Keyboard&gt;/b");
</code></pre>
<p class="normal">We’re making the <code class="inlineCode">int</code> variables public so we can make changes to them and see that they are able to be changed during runtime when we run the method. The input system is private as it doesn’t need to be affected by any other scripts. This is a good practice to think about when writing your code. If a variable will not be changed from another script, then keep it as a private variable. Though it may not adversely influence the current working environment on a small project, there could be conflicts later on when projects get more fleshed out. We want to keep the code clean from the beginning.</p>
<p class="normal">InputSystem requires<a id="_idIndexMarker192"/> the input to have listeners turned on and disabled when not being used. We will create two methods that are native to <code class="inlineCode">MonoBehaviour</code>; <code class="inlineCode">OnEnable</code> and <code class="inlineCode">OnDisable</code>.</p>
<pre class="programlisting code"><code class="hljs-code">private void OnEnable()
    { 
        testInput.performed += OnTestInput;
        testInput.Enable();
    }
private void OnDisable()
    {
        testInput.performed -= OnTestInput;
        testInput.Disable();
 }
</code></pre>
<p class="normal">These methods automatically fire during runtime. <code class="inlineCode">OnEnable</code> is directly after <code class="inlineCode">Awake</code> on initialization. Do not worry if this is a little bit much, we will go over them multiple times throughout this book for different perspectives. </p>
<p class="normal">For now, the reason these methods are here is to add the method <code class="inlineCode">OnTestInput</code> when <code class="inlineCode">testInput</code> is performed. We bound the letter <strong class="screenText">B</strong> to our input in the variable portion, now we’re adding a method to be performed when it’s pressed.</p>
<p class="normal">Below and outside the <code class="inlineCode">update</code> method let’s add our addition method.</p>
<pre class="programlisting code"><code class="hljs-code">    private int IntAdd(int a, int b)
    {
        totalAdd = a + b;
        return totalAdd;
    }
</code></pre>
<p class="normal">This is a method that is private, which means outside of this class, we can’t access this method. This is going to return an <code class="inlineCode">int</code> and its name is <code class="inlineCode">intAdd</code>. Inside the parenthesis after the name are arguments for the method. We have two ints: <strong class="screenText">a</strong> and <strong class="screenText">b</strong>. We need to define their data types and their names. When the method is running, our method makes two ints with the values at that time and assigns them to variable <strong class="screenText">a</strong> and <strong class="screenText">b</strong>. We made <code class="inlineCode">totalAdd</code> equal to it so we could show the values change in the inspector as well as in the console to debug it even further.</p>
<p class="normal">To bring this all together, we need<a id="_idIndexMarker193"/> to create the <code class="inlineCode">OnTestInput</code> method. This method has new terms, but for this instance, we will give them to you to get the test going for a simple button press. Later on, in the mechanics portion of the book, we will need to have more logic involved with our input. Having this system set up early allows for quick iteration and scalability with new input schemes, such as controllers.</p>
<p class="normal">Create a new method below the <code class="inlineCode">intAdd</code> method:</p>
<pre class="programlisting code"><code class="hljs-code">private void OnTestInput(InputAction.CallbackContext actionContext)
    	{
       // If the action was performed (pressed) this frame
            if (actionContext.performed)
            {
                    Debug.Log(IntAdd(addA, addB));
            }
   }
</code></pre>
<p class="normal">The magic here is that this method is placed on the <code class="inlineCode">performed</code> of the <code class="inlineCode">testInput</code> we enable in this script. This script gets called with the action assigned to that input. Currently, we are only running simple logic to allow for the debug log to print out if the <code class="inlineCode">actionContext</code> is performed. </p>
<p class="normal">In our case, this will be true when the method is called. If we needed other logic, such as if a cooldown for a skill wasn’t completed yet, we could tell the user they can’t perform that skill within this method. This is a very powerful system that can be built to be extremely robust. </p>
<p class="normal">Back in Unity, click on the script in the hierarchy and then put some values in the <code class="inlineCode">addA</code> and <code class="inlineCode">addB</code> variables in the inspector. Start the game and press <strong class="screenText">b</strong>. You should see <code class="inlineCode">totalAdd</code> change as well as the console print out the number from the <code class="inlineCode">Debug</code> line.</p>
<h1 class="heading-1" id="_idParaDest-78">Summary</h1>
<p class="normal">This may have been your first time reading anything about programming. Going through these small examples is going to provide you with strong fundamentals. Take your time to fully understand what we went over in this chapter as it will be the glue holding together the rest of the chapters. We will be using all these features when programming later as well as adding new libraries and different implementations of classes. These are the foundations of programming; we will build upon them thoroughly throughout the book. If you ever get lost, refer to GitHub where you’ll find these scripts in their completed form, which you can reference if something isn’t working correctly.</p>
<p class="normal">This is the end of the foundations that we will build upon greatly over the next five chapters. <em class="italic">Part 2</em>: <em class="italic">Build and Design</em> will add onto everything you’ve learned so far, answer even more questions about building the design of our prototype, and show you how Unity can help you create games with as much ease as possible. Let’s move on to building out the character and put some of these programming skills together to get Myvari moving around with input.</p>
</div>
</div></body></html>