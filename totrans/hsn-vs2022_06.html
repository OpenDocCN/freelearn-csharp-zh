<html><head></head><body>
		<div id="_idContainer127">
			<h1 id="_idParaDest-61"><a id="_idTextAnchor060"/>Chapter 5: Debugging and Compiling Your Projects</h1>
			<p>As software developers, one skill that should be learned as early as possible is program debugging. This applies to .NET projects but also any other software development technology.</p>
			<p>If you want to get the most out of Visual Studio 2022, you must be familiar with its different windows that can help you observe information to fix bugs and know how to use as many of the debugging tools it offers, including <strong class="bold">breakpoints</strong>. A breakpoint offers the functionality to stop the execution of an application, allowing you to see the state of each of the objects and corroborate its behavior.</p>
			<p>That is why, in this chapter, we will talk about debugging in Visual Studio 2022, the different breakpoints available, the state inspection tools, and which are the best scenarios for each one of them. </p>
			<p>The topics we will discuss in this chapter are as follows:</p>
			<ul>
				<li>Debugging projects in Visual Studio</li>
				<li>Exploring breakpoints in Visual Studio</li>
				<li>Inspection tools for debugging</li>
			</ul>
			<p>Let's learn about debugging in Visual Studio 2022 to detect possible errors in our programs.</p>
			<h1 id="_idParaDest-62"><a id="_idTextAnchor061"/>Technical requirements</h1>
			<p>To follow the examples shown in this chapter, Visual Studio 2022 must be installed with the web development workload, as shown in <a href="B17873_01_ePub.xhtml#_idTextAnchor013"><em class="italic">Chapter 1</em></a>, <em class="italic">Getting Started with Visual Studio 2022</em>.</p>
			<p>Likewise, the code implementation will be performed on the project created in <a href="B17873_04_ePub.xhtml#_idTextAnchor052"><em class="italic">Chapter 4</em></a>, <em class="italic">Creating Projects and Templates</em>, specifically in the <strong class="source-inline">Program.cs</strong> file, for easier testing.</p>
			<p>You can find the <strong class="source-inline">Program.cs</strong> file with the changes made throughout this chapter at the following link: <a href="https://github.com/PacktPublishing/Hands-On-Visual-Studio-2022/blob/main/Chapter05/Program.cs">https://github.com/PacktPublishing/Hands-On-Visual-Studio-2022/blob/main/Chapter05/Program.cs</a>.</p>
			<h1 id="_idParaDest-63"><a id="_idTextAnchor062"/>Debugging projects in Visual Studio</h1>
			<p>Before discussing the breakpoint topic in depth in the <em class="italic">Exploring breakpoints in Visual Studio 2022</em> section, it is<a id="_idIndexMarker195"/> important that you know some technical aspects <a id="_idIndexMarker196"/>used in the debugging world, as well as in Visual Studio.</p>
			<h2 id="_idParaDest-64"><a id="_idTextAnchor063"/>Understanding the technical aspects of debugging</h2>
			<p>It is important that you<a id="_idIndexMarker197"/> know the difference between the terms debugger and debugging so that you know what I mean when I mention any of these terms during the chapter and the book.</p>
			<p>First, the term debugging refers to the action of looking for errors in the code. This does not necessarily include the use of a tool such as an IDE. You could, for example, search for errors in code written on a piece of paper, and you would still be debugging.</p>
			<p>This is usually not feasible, and <a id="_idIndexMarker198"/>a tool called a debugger is often used. This tool is attached to the application process you are going to run, allowing you to analyze your code while the application is running.</p>
			<h2 id="_idParaDest-65"><a id="_idTextAnchor064"/>Differentiating between debug mode and run mode</h2>
			<p>It is essential to differentiate <a id="_idIndexMarker199"/>between debug mode and run mode in Visual Studio, as they can be confusing to those who touch the IDE for the first time. </p>
			<p>Let's first analyze debug mode. This option is activated by selecting the <strong class="bold">Debug</strong> configuration (which is preselected by default) and clicking on the green button located in the same space as the project name, as shown in <em class="italic">Figure 5.1</em>:</p>
			<div>
				<div id="_idContainer084" class="IMG---Figure">
					<img src="image/Figure_5.01_B17873.jpg" alt="Figure 5.1 – Visual Studio's debug mode option&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.1 – Visual Studio's debug mode option</p>
			<p>When this option is pressed, the debugger will be attached to the execution of the application, which will allow us to use functions, such as stopping at a certain breakpoint in our application.</p>
			<p>On the other hand, we can also choose a second configuration in the drop-down list, as shown in <em class="italic">Figure 5.2</em>, called <strong class="bold">Release</strong>: </p>
			<div>
				<div id="_idContainer085" class="IMG---Figure">
					<img src="image/Figure_5.02_B17873.jpg" alt="Figure 5.2 – Visual Studio's release mode option&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.2 – Visual Studio's release mode option</p>
			<p>When this option is selected and we proceed to start the execution of the application, the debugger will not<a id="_idIndexMarker200"/> be attached, which will give you a better idea of how your application will behave toward the end user. This implies that you will not be able to perform code debugging or see where exceptions have occurred, but you will gain a performance improvement.</p>
			<h2 id="_idParaDest-66"><a id="_idTextAnchor065"/>Project debugging initialization options</h2>
			<p>As part of the debugging and execution<a id="_idIndexMarker201"/> options of an application, we must know that we have a set of options available to perform our tests.</p>
			<p>If you drop down the options next to the green button with the name of your project, as shown in <em class="italic">Figure 5.3</em>, you will be able to see a set of configurations for the deployment of your application:</p>
			<div>
				<div id="_idContainer086" class="IMG---Figure">
					<img src="image/Figure_5.03_B17873.jpg" alt="Figure 5.3 – The server configuration options for debugging&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.3 – The server configuration options for debugging</p>
			<p>For example, the first three options are used to choose which server you want to use for testing. By default, a server called <strong class="bold">Kestrel</strong> is used. But it is also possible to use <strong class="bold">IIS Express</strong>, or even <strong class="bold">WSL</strong>, if your <a id="_idIndexMarker202"/>application is more oriented to Linux-based environments.</p>
			<p>In <em class="italic">Figure 5.4</em>, we can observe the following options to change the browser, enable script debugging, and view the debugging properties of the project:</p>
			<div>
				<div id="_idContainer087" class="IMG---Figure">
					<img src="image/Figure_5.04_B17873.jpg" alt="Figure 5.4 – Additional options for debugging&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.4 – Additional options for debugging</p>
			<p>These options are useful if, for example, you want to use a particular browser to use some of its own tools.</p>
			<p>If the application has been configured in debug mode, you will see the buttons that allow you to control the execution of the application in the upper part of the IDE, as shown in <em class="italic">Figure 5.5</em>. These buttons, from left to right, are used to do the following:</p>
			<ul>
				<li>Pause the application</li>
				<li>Stop the application</li>
				<li>Restart the application</li>
			</ul>
			<div>
				<div id="_idContainer088" class="IMG---Figure">
					<img src="image/Figure_5.5_B17873.jpg" alt="Figure 5.5 – Buttons to control the flow of the application&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.5 – Buttons to control the flow of the application</p>
			<p>Now that we know the <a id="_idIndexMarker203"/>existing debugging concepts in Visual Studio, let's analyze breakpoints. </p>
			<h1 id="_idParaDest-67"><a id="_idTextAnchor066"/>Exploring breakpoints in Visual Studio</h1>
			<p>Breakpoints are a<a id="_idIndexMarker204"/> fundamental part of software development. They allow you to stop the flow of your application at any point you want to inspect the state of your <a id="_idIndexMarker205"/>objects. </p>
			<p>To place a breakpoint in Visual Studio, it is enough that we position ourselves right next to the numbering of the lines. This will start showing a gray circle that will appear and disappear as we move the cursor over the line numbers, as shown here:</p>
			<div>
				<div id="_idContainer089" class="IMG---Figure">
					<img src="image/Figure_5.06_B17873.jpg" alt="Figure 5.6 – The location for placing breakpoints in Visual Studio&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.6 – The location for placing breakpoints in Visual Studio</p>
			<p>Once we find the line we want to debug, we just need to left-click once, which will cause the circle to turn red, as shown in <em class="italic">Figure 5.7</em>. Once you have done this, if you move the cursor away from the circle, you will be able to see how it remains as it is, as shown here:</p>
			<div>
				<div id="_idContainer090" class="IMG---Figure">
					<img src="image/Figure_5.07_B17873.jpg" alt="Figure 5.7 – Placing a breakpoint&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.7 – Placing a breakpoint</p>
			<p>If we proceed to execute the <a id="_idIndexMarker206"/>application with the breakpoint set, we will see how the application flow stops immediately after starting the application, as shown in <em class="italic">Figure 5.8</em>:</p>
			<div>
				<div id="_idContainer091" class="IMG---Figure">
					<img src="image/Figure_5.08_B17873.jpg" alt="Figure 5.8 – Debugging a breakpoint&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.8 – Debugging a breakpoint</p>
			<p>Once the application has stopped at the breakpoint, we have different tools available that we can use to view the status of the application – for example, if we position over a variable that is before the debug line, we will be able to see its current status. If it is primitive data, you will see its value immediately, while if it is an object, you will be able to go inside its properties to examine each one of them, as shown in <em class="italic">Figure 5.9</em>:</p>
			<div>
				<div id="_idContainer092" class="IMG---Figure">
					<img src="image/Figure_5.09_B17873.jpg" alt="Figure 5.9 – Examining the properties of an object&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.9 – Examining the properties of an object</p>
			<p>There are more options to place breakpoints – for example, if you place yourself on one of the gray circles and click on it with the right button, a series of breakpoints will appear, which we will analyze in the <em class="italic">Conditional breakpoints</em>, <em class="italic">Temporary breakpoints</em>, and <em class="italic">Dependent breakpoints</em> sections so<a id="_idIndexMarker207"/> that you can insert them:</p>
			<div>
				<div id="_idContainer093" class="IMG---Figure">
					<img src="image/Figure_5.10_B17873.jpg" alt="Figure 5.10 – The options for inserting a breakpoint&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.10 – The options for inserting a breakpoint</p>
			<p>Likewise, if you right-click on any breakpoint already placed, you will see options to add functionalities to them:</p>
			<div>
				<div id="_idContainer094" class="IMG---Figure">
					<img src="image/Figure_5.11_B17873.jpg" alt="Figure 5.11 – The menu for modifying breakpoints&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.11 – The menu for modifying breakpoints</p>
			<p>This is the easiest way to add breakpoints to your project. However, you will often need special breakpoints that are activated under certain circumstances, so we will proceed to review them in the next sections.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">Visual Studio has keyboard shortcuts created for almost all the operations we are going to be performing. So, I will mention them for you as <em class="italic">notes</em>, as we move forward throughout this chapter.</p>
			<p class="callout">It is possible to enter a breakpoint quickly by placing yourself on the line you want to debug and pressing the <em class="italic">F9</em> key.</p>
			<h2 id="_idParaDest-68"><a id="_idTextAnchor067"/>Navigating between breakpoints</h2>
			<p>Once we know how to place <a id="_idIndexMarker208"/>breakpoints in the source code, we can continue the execution of the application in different ways through the buttons located in the upper part of the menu:</p>
			<div>
				<div id="_idContainer095" class="IMG---Figure">
					<img src="image/Figure_5.12_B17873.jpg" alt="Figure 5.12 – The debugging options for application execution&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.12 – The debugging options for application execution</p>
			<p>Each of them will execute the code as follows:</p>
			<ul>
				<li><strong class="bold">Step into</strong>: This allows us to execute all the source code line by line. If, as part of the flow, we invoke methods to which <a id="_idIndexMarker209"/>we have access through the source code, we will navigate to it automatically following the line-by-line debugging.</li>
				<li><strong class="bold">Step over</strong>: This allows us to <a id="_idIndexMarker210"/>only walk through lines of code in the current method and not step into any methods invoked by the current method.</li>
				<li><strong class="bold">Step out</strong>: This button is used in <a id="_idIndexMarker211"/>case we are inside a method. It will allow us to step out of the execution of the method to return just to the line after the invocation of the method.<p class="callout-heading">Important Note</p><p class="callout">Each of these options has a shortcut assigned to it:</p><p class="callout">Step into: the <em class="italic">F11</em> key</p><p class="callout">Step over: the <em class="italic">F10</em> key</p><p class="callout">Step out: <em class="italic">Shift</em> + <em class="italic">F11</em> keys</p></li>
			</ul>
			<p>If we wish to examine all the breakpoints we have in our project, we can do it by activating the breakpoints window. This is done from the <strong class="bold">Debug</strong> | <strong class="bold">Windows</strong> | <strong class="bold">Breakpoints</strong> menu, as seen in <em class="italic">Figure 5.13</em>:</p>
			<div>
				<div id="_idContainer096" class="IMG---Figure">
					<img src="image/Figure_5.13_B17873.jpg" alt="Figure 5.13 – The option to display the breakpoint window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.13 – The option to display the breakpoint window</p>
			<p>This will display a new window<a id="_idIndexMarker212"/> that shows a list of all breakpoints placed in our project.</p>
			<h2 id="_idParaDest-69"><a id="_idTextAnchor068"/>Conditional breakpoints</h2>
			<p>There are times when you will need <a id="_idIndexMarker213"/>your breakpoint to stop when certain conditions are met. In this case, using conditional breakpoints is the best option. To<a id="_idIndexMarker214"/> insert a breakpoint of this type, just right-click on the sidebar, which will show you the different types of breakpoints available, as shown in the <em class="italic">Navigating between breakpoints</em> section. Select the <strong class="bold">Conditional Breakpoint</strong> type, which will open a window with preselected options, as shown in <em class="italic">Figure 5.14</em>:</p>
			<div>
				<div id="_idContainer097" class="IMG---Figure">
					<img src="image/Figure_5.14_B17873.jpg" alt="Figure 5.14 – The options for conditional breakpoints&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.14 – The options for conditional breakpoints</p>
			<p>Within a conditional breakpoint, we can configure either a <strong class="bold">Conditional Expression</strong> condition, a <strong class="bold">Hit Count</strong> condition, or a <strong class="bold">Filter</strong> condition, which we will discuss in the next sections.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">To insert a conditional expression, you can use the <em class="italic">Alt</em> + <em class="italic">F9</em> keys, followed by the <em class="italic">C</em> key.</p>
			<h3>Conditional Expression</h3>
			<p>The <strong class="bold">Conditional Expression</strong> option, as shown in <em class="italic">Figure 5.15</em>, will allow us to stop the application when a true condition that we have previously specified is fulfilled, or when the value of an object changes:</p>
			<div>
				<div id="_idContainer098" class="IMG---Figure">
					<img src="image/Figure_5.15_B17873.jpg" alt="Figure 5.15 – The types of expression that can be evaluated with conditional expressions"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.15 – The types of expression that can be evaluated with conditional expressions</p>
			<p>In the first case, we can specify a Boolean expression, ranging from the comparison of a pair of values to the comparison of complex objects.</p>
			<p>In <em class="italic">Figure 5.17</em>, a <strong class="source-inline">for</strong> loop has been created that prints the numbers from <strong class="source-inline">1</strong> to <strong class="source-inline">10</strong> to have a better appreciation of the example. Also, I have placed a pin on the <strong class="source-inline">i</strong> variable, which you can place by simply hovering over any variable while the application is running and clicking on the pin symbol, as shown here:</p>
			<div>
				<div id="_idContainer099" class="IMG---Figure">
					<img src="image/Figure_5.16_B17873.jpg" alt="Figure 5.16 – The types of expressions that can be evaluated with conditional expressions&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.16 – The types of expressions that can be evaluated with conditional expressions</p>
			<p>As a condition, we have indicated that we only want to stop the application when the value of <strong class="source-inline">i</strong> is greater than the number <strong class="source-inline">5</strong>. After starting the application, the breakpoint has stopped, just when <strong class="source-inline">i</strong> has a value of <strong class="source-inline">6</strong>:</p>
			<div>
				<div id="_idContainer100" class="IMG---Figure">
					<img src="image/Figure_5.17_B17873.jpg" alt="Figure 5.17 – Debugging a conditional expression&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.17 – Debugging a conditional expression</p>
			<p>In the second case, we can monitor an object, property, or field so that the breakpoint stops only when it changes. This can be seen in a practical way in <em class="italic">Figure 5.18</em>, in which the <strong class="bold">Conditional Expression</strong> type has been changed to <strong class="bold">When changed</strong>, and it has been indicated that we want to monitor the <strong class="source-inline">i</strong> variable:</p>
			<div>
				<div id="_idContainer101" class="IMG---Figure">
					<img src="image/Figure_5.18_B17873.jpg" alt="Figure 5.18 – Evaluating a conditional expression with the When changed parameter&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.18 – Evaluating a conditional expression with the When changed parameter</p>
			<p>As a result, when the breakpoint is executed for the first time, the value of <strong class="source-inline">i</strong> is equal to <strong class="source-inline">1</strong>.</p>
			<h3>Hit Count</h3>
			<p>The <strong class="bold">Hit Count</strong> condition type is intended to solve problems in loops – for example, suppose you must print a certain number of reports according to a set of conditions but suddenly realize that after report 25, the calculations start to go wrong. The first thing you might think of doing is to set a breakpoint, start the application, run the code 25 times to get to iteration 25, and evaluate it. Although this is the correct way to do it, a more optimized way is to set the <strong class="bold">Hit Count</strong> option and specify the number of iterations you want to skip – in this example, <strong class="source-inline">25</strong>, as we can see in <em class="italic">Figure 5.19</em>:</p>
			<div>
				<div id="_idContainer102" class="IMG---Figure">
					<img src="image/Figure_5.19_B17873.jpg" alt="Figure 5.19 – Evaluating a Hit Count expression&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.19 – Evaluating a Hit Count expression</p>
			<p>This will cause the application to stop when <strong class="source-inline">i</strong> has a value of exactly <strong class="source-inline">25</strong>.</p>
			<h3>Filter</h3>
			<p>The last type of conditional breakpoint is the <strong class="bold">Filter</strong> condition. This will allow us to trigger a breakpoint according to a series of predefined expressions. These expressions can be found in the <strong class="bold">Filter</strong> box, as shown in <em class="italic">Figure 5.20</em>, and range from the machine name, through processes, to thread properties:</p>
			<div>
				<div id="_idContainer103" class="IMG---Figure">
					<img src="image/Figure_5.20_B17873.jpg" alt="Figure 5.20 – The options for a Filter condition&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.20 – The options for a Filter condition</p>
			<p>These are the types of conditional breakpoints, which are very useful for performing value comparisons. Now, let's look at function breakpoints.</p>
			<h2 id="_idParaDest-70"><a id="_idTextAnchor069"/>Function breakpoints</h2>
			<p>The <strong class="bold">Function Breakpoint</strong> type, as its <a id="_idIndexMarker215"/>name indicates, will allow us to debug a method when it is executed, even if we have not set a breakpoint as we did in the <em class="italic">Conditional breakpoints</em> section. This is very useful if you have hundreds of lines of code<a id="_idIndexMarker216"/> and know the name of the function that you want to debug.</p>
			<p>Unlike the breakpoints we saw in the <em class="italic">Conditional breakpoints</em> section, this breakpoint is placed in a different way. First, as seen in <em class="italic">Figure 5.21</em>, you can go to the <strong class="bold">Debug</strong> | <strong class="bold">New Breakpoint</strong> | <strong class="bold">Function Breakpoint</strong> menu and insert in the window the name of the function in which we want to set the breakpoint, instead of placing the red dot in the code:</p>
			<div>
				<div id="_idContainer104" class="IMG---Figure">
					<img src="image/Figure_5.21_B17873.jpg" alt="Figure 5.21 – Adding a function breakpoint from the Debug menu&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.21 – Adding a function breakpoint from the Debug menu</p>
			<p>The next way is to add a breakpoint function from the <strong class="bold">Breakpoints</strong> window, as shown in <em class="italic">Figure 5.22</em>:</p>
			<div>
				<div id="_idContainer105" class="IMG---Figure">
					<img src="image/Figure_5.22_B17873.jpg" alt="Figure 5.22 – Adding a function breakpoint from the Debug menu&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.22 – Adding a function breakpoint from the Debug menu</p>
			<p>Once we click on the <strong class="bold">Function Breakpoint</strong> button, a new window will pop up, asking for the name of the method we want to monitor. For the purposes of this demonstration, we have introduced a<a id="_idIndexMarker217"/> very simple function to the end of the <strong class="source-inline">Program.cs</strong> file, which has the following format:</p>
			<pre class="source-code">void StopHere()</pre>
			<pre class="source-code">{</pre>
			<pre class="source-code">    Console.WriteLine("Hi!");</pre>
			<pre class="source-code">}</pre>
			<p>If we know the name of the function to be evaluated, we can enter it in the <strong class="bold">Function Name</strong> box. We can do this in<a id="_idIndexMarker218"/> several ways:</p>
			<ul>
				<li>Typing the name of the function</li>
				<li>Specifying the function name with a specific overload</li>
				<li>Specifying the <strong class="source-inline">dll</strong> name if we have the source code for it</li>
			</ul>
			<p>In our example, we will place only the name of the <strong class="source-inline">StopHere</strong> function:</p>
			<div>
				<div id="_idContainer106" class="IMG---Figure">
					<img src="image/Figure_5.23_B17873.jpg" alt="Figure 5.23 – Filling in the name of the function we are interested in debugging&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.23 – Filling in the name of the function we are interested in debugging</p>
			<p>With the data established, we will proceed to execute the application, having previously called this new method. This will cause the application to stop at the start of the method (which we specified in <em class="italic">Figure 5.23</em>), as seen in <em class="italic">Figure 5.24</em>:</p>
			<div>
				<div id="_idContainer107" class="IMG---Figure">
					<img src="image/Figure_5.24_B17873.jpg" alt="Figure 5.24 – A demonstration of the breakpoint being executed through a function breakpoint&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.24 – A demonstration of the breakpoint being executed through a function breakpoint</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">It is possible to add a function breakpoint by pressing the <em class="italic">Ctrl</em> + <em class="italic">K</em> keys, followed by the <em class="italic">B</em> key.</p>
			<p>Undoubtedly, this type of <a id="_idIndexMarker219"/>breakpoint will make our life easier when we want<a id="_idIndexMarker220"/> to debug methods quickly. In case you want to trigger breakpoints based on the data of an object, you can use the data breakpoints, which we will see next.</p>
			<h2 id="_idParaDest-71"><a id="_idTextAnchor070"/>Data breakpoints</h2>
			<p>If you want to be able to place <a id="_idIndexMarker221"/>breakpoints when the properties of an object change, then data breakpoints are your best option. If you try to add one of these breakpoints from the <strong class="bold">Breakpoints</strong> window, you will see that the option is disabled. </p>
			<p>This is because we first <a id="_idIndexMarker222"/>need to place a breakpoint at a point before we want to start monitoring the property. Once this is done, start the application until the breakpoint is activated, and in one of the windows called <strong class="bold">Autos</strong>, <strong class="bold">Watch</strong>, or <strong class="bold">Locals</strong>, where the instance that interests you appears, you must right-click to see the option called <strong class="bold">Break When Value Changes</strong>, as shown in <em class="italic">Figure 5.25</em>, in which we want to monitor the <strong class="source-inline">EnvironmentName</strong> property of the <strong class="source-inline">app</strong> object:</p>
			<div>
				<div id="_idContainer108" class="IMG---Figure">
					<img src="image/Figure_5.25_B17873.jpg" alt="Figure 5.25 – Adding a data breakpoint to break when the EnvironmentName property changes&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.25 – Adding a data breakpoint to break when the EnvironmentName property changes</p>
			<p>Once we select the option, we<a id="_idIndexMarker223"/> will see how a new breakpoint is <a id="_idIndexMarker224"/>created automatically, which will detect when the property we have specified changes, as shown in <em class="italic">Figure 5.26</em>:</p>
			<div>
				<div id="_idContainer109" class="IMG---Figure">
					<img src="image/Figure_5.26_B17873.jpg" alt="Figure 5.26 – The data breakpoint being created in the Breakpoints window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.26 – The data breakpoint being created in the Breakpoints window</p>
			<p>Let's say, subsequently, we proceed to modify the property data – for example, through the following code:</p>
			<pre class="source-code">app.Environment.EnvironmentName = "Testing Data Breakpoints";</pre>
			<p>Now, when we run the application, we will see how the breakpoint previously placed is reached, as shown here:</p>
			<div>
				<div id="_idContainer110" class="IMG---Figure">
					<img src="image/Figure_5.27_B17873.jpg" alt="Figure 5.27 – A demonstration of a break when the property has been changed&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.27 – A demonstration of a break when the property has been changed</p>
			<p>Finally, you will see that when you restart the application or stop it, the breakpoint will disappear from the window. This is <a id="_idIndexMarker225"/>because the object reference is lost.</p>
			<h2 id="_idParaDest-72"><a id="_idTextAnchor071"/>Dependent breakpoints</h2>
			<p>This type of breakpoint is a special <a id="_idIndexMarker226"/>breakpoint that will only be executed if another breakpoint is reached first. Perhaps in a simple scenario, it is not very useful, but in complex scenarios, where hundreds of functionalities come into play, it can be of great help. </p>
			<p>For example, imagine that <a id="_idIndexMarker227"/>you have a method that is invoked in several places in your application, and you are testing a new functionality that invokes it. If you were to place a normal breakpoint on the method, it would stop every time it is invoked. With a dependent breakpoint, you can specify that you only want to stop execution if the breakpoint of your new functionality is reached.</p>
			<p>To demonstrate this functionality, I have added a couple of methods to the <strong class="source-inline">Program.cs</strong> file, as follows:</p>
			<pre class="source-code">void NewMethod()</pre>
			<pre class="source-code">{</pre>
			<pre class="source-code">    Console.WriteLine("New Method");</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">void CommonMethod(string message)</pre>
			<pre class="source-code">{</pre>
			<pre class="source-code">    Console.WriteLine(message);</pre>
			<pre class="source-code">}</pre>
			<p>The idea of the <strong class="source-inline">CommonMethod</strong> function is that we can see the content of a string passed as a parameter and know at what point the breakpoint has stopped. With this in mind, let's add some additional lines in which we will first call <strong class="source-inline">CommonMethod</strong>, then <strong class="source-inline">NewMethod</strong>, and finally, <strong class="source-inline">CommonMethod</strong> again:</p>
			<pre class="source-code">CommonMethod("Before invocation of NewMethod()");</pre>
			<pre class="source-code">NewMethod();</pre>
			<pre class="source-code">CommonMethod("After invocation of NewMethod()");</pre>
			<p>To place a dependent breakpoint, we <a id="_idIndexMarker228"/>will first place a normal breakpoint in the line of code on which we want to depend – that is, the one that first must be executed for the dependent breakpoint to be executed. In our example, we will place it in the <strong class="source-inline">NewMethod</strong> functionality, since it is the method we want to test, as shown in <em class="italic">Figure 5.28</em>:</p>
			<div>
				<div id="_idContainer111" class="IMG---Figure">
					<img src="image/Figure_5.28_B17873.jpg" alt="Figure 5.28 – The placement of the breakpoint on which a dependent breakpoint will depend&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.28 – The placement of the breakpoint on which a dependent breakpoint will depend</p>
			<p>Then, you must right-click <a id="_idIndexMarker229"/>on the line where you want to create the dependent breakpoint, as shown in <em class="italic">Figure 5.29</em>:</p>
			<div>
				<div id="_idContainer112" class="IMG---Figure">
					<img src="image/Figure_5.29_B17873.jpg" alt="Figure 5.29 – Inserting a dependent breakpoint&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.29 – Inserting a dependent breakpoint</p>
			<p>This option will display the <strong class="bold">Breakpoint Settings</strong> window, where you will be asked which breakpoint you want to depend on to launch the dependent breakpoint. In our example, we will select the only breakpoint that is part of our project, as shown here:</p>
			<div>
				<div id="_idContainer113" class="IMG---Figure">
					<img src="image/Figure_5.30_B17873.jpg" alt="Figure 5.30 – A list of breakpoints on which we can depend for dependent breakpoint execution&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.30 – A list of breakpoints on which we can depend for dependent breakpoint execution</p>
			<p>Once this window is closed, you <a id="_idIndexMarker230"/>will see how a special breakpoint is <a id="_idIndexMarker231"/>created that (if you hover over it) will tell you on which other breakpoint it depends, as shown here:</p>
			<div>
				<div id="_idContainer114" class="IMG---Figure">
					<img src="image/Figure_5.31_B17873.jpg" alt="Figure 5.31 – A view of a dependent breakpoint&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.31 – A view of a dependent breakpoint</p>
			<p>Finally, when running the application, you will see how it stops first on the <strong class="source-inline">NewMethod</strong> call and not on <strong class="source-inline">CommonMethod</strong>, even though it has been invoked first. If you continue the execution, the dependent breakpoint will stop, showing the <strong class="bold">After invocation of NewMethod()</strong> message, as shown in <em class="italic">Figure 5.32</em>:</p>
			<div>
				<div id="_idContainer115" class="IMG---Figure">
					<img src="image/Figure_5.32_B17873.jpg" alt="Figure 5.32 – The execution of a dependent breakpoint&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.32 – The execution of a dependent breakpoint</p>
			<p>As you can see, this type of breakpoint <a id="_idIndexMarker232"/>can be very helpful to avoid constant method invocation.</p>
			<h2 id="_idParaDest-73"><a id="_idTextAnchor072"/>Temporary breakpoints</h2>
			<p>Temporary breakpoints, as their name<a id="_idIndexMarker233"/> indicates, are breakpoints that <a id="_idIndexMarker234"/>are automatically deleted once they are executed. To place one of these, you must right-click on the breakpoint line and select the <strong class="bold">Insert Temporary Breakpoint</strong> option, as shown in <em class="italic">Figure 5.33</em>:</p>
			<div>
				<div id="_idContainer116" class="IMG---Figure">
					<img src="image/Figure_5.33_B17873.jpg" alt="Figure 5.33 – The menu to insert a temporary breakpoint&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.33 – The menu to insert a temporary breakpoint</p>
			<p>If you run the application, you will see that once the application has stopped at the breakpoint, it will be automatically deleted. This type of breakpoint can be used when we want to evaluate, for example, the first iteration of a cycle.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">To insert a temporary breakpoint quickly, use the <em class="italic">F9</em> + <em class="italic">Shift</em> + <em class="italic">Alt</em> keys, followed by the <em class="italic">T</em> key.</p>
			<p>Now that we have examined the different types of breakpoints available in Visual Studio, let's see how we can take advantage of them using different inspection tools, which we will see in the next section.</p>
			<h1 id="_idParaDest-74"><a id="_idTextAnchor073"/>Inspection tools for debugging</h1>
			<p>When working with<a id="_idIndexMarker235"/> breakpoints, it is important that we know where to find the information we want to visualize and to know whether it is correct or not. For this, within Visual Studio, we have a series of windows that will allow us to visualize different <a id="_idIndexMarker236"/>types of information. So, let's look at them.</p>
			<h2 id="_idParaDest-75"><a id="_idTextAnchor074"/>Watch window</h2>
			<p>The <strong class="bold">Watch</strong> window will allow us to<a id="_idIndexMarker237"/> keep track of the values of variables or properties while we execute our code step by step. It is especially useful <a id="_idIndexMarker238"/>when we have pieces of code that are repeated several times, such as cycles or common methods. To access this window, we must first place a breakpoint in the code and execute the application.</p>
			<p>Once the application stops at the breakpoint, we will be able to deploy the <strong class="bold">Debug</strong> | <strong class="bold">Windows</strong> menu. This will show us a set of new debugging windows that we can only access while running the application. Let's select the <strong class="bold">Watch</strong> option to choose a window, as shown in <em class="italic">Figure 5.34</em>:</p>
			<div>
				<div id="_idContainer117" class="IMG---Figure">
					<img src="image/Figure_5.34_B17873.jpg" alt="Figure 5.34 – The menu to reach the Watch windows&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.34 – The menu to reach the Watch windows</p>
			<p>Once the window has been opened, we can add the name of different variables and properties that we want to monitor. As long as we have entered a valid variable name for the scope we are in, we will be shown its corresponding value in the <strong class="bold">Value</strong> column, as shown in <em class="italic">Figure 5.35</em>:</p>
			<div>
				<div id="_idContainer118" class="IMG---Figure">
					<img src="image/Figure_5.35_B17873.jpg" alt="Figure 5.35 – The monitoring of variable values and properties through the Watch window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.35 – The monitoring of variable values and properties through the Watch window</p>
			<p>Another very simple way to add<a id="_idIndexMarker239"/> variables to a <strong class="bold">Watch</strong> window is to right-click on the variable you want to monitor when the application is running and <a id="_idIndexMarker240"/>select the <strong class="bold">Add Watch</strong> option.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">To access any <strong class="bold">Watch</strong> window quickly, you can use the <em class="italic">Ctrl </em>+ <em class="italic">Alt</em> + <em class="italic">W</em> shortcut, followed by the window number (from <em class="italic">1</em> to <em class="italic">4</em>).</p>
			<h2 id="_idParaDest-76"><a id="_idTextAnchor075"/>QuickWatch</h2>
			<p>The <strong class="bold">Watch</strong> window is <a id="_idIndexMarker241"/>very useful for tracing values through the application. But if <a id="_idIndexMarker242"/>we want to use the same functionality as the <strong class="bold">Watch</strong> Window, to test individual expressions without keeping the same ones, then we can choose to use the <strong class="bold">QuickWatch</strong> window, which can be reached through the <strong class="bold">Debug</strong> | <strong class="bold">QuickWatch</strong> menu. For the demonstration, we will use the example of the <strong class="source-inline">for</strong> loop (seen in the <em class="italic">Hit Count</em> section), as shown here:</p>
			<div>
				<div id="_idContainer119" class="IMG---Figure">
					<img src="image/Figure_5.36_B17873.jpg" alt="Figure 5.36 – The QuickWatch option from the Debug menu&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.36 – The QuickWatch option from the Debug menu</p>
			<p>This option will activate a modal window, which means that we will not be able to continue running the <a id="_idIndexMarker243"/>application until we close it. In this window, we will be able to see data such as the name of the<a id="_idIndexMarker244"/> expression, the value, and the type of data we are evaluating.</p>
			<p>Something very useful in this window is that we will be able to modify the expression. This means that we will be able to evaluate other variables and can even execute some operations that we want to test. In <em class="italic">Figure 5.37</em>, we see this in action, having entered a new expression to evaluate whether its result is <strong class="source-inline">true</strong> or <strong class="source-inline">false</strong>:</p>
			<div>
				<div id="_idContainer120" class="IMG---Figure">
					<img src="image/Figure_5.37_B17873.jpg" alt="Figure 5.37 – Modifying expressions in the QuickWatch window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.37 – Modifying expressions in the QuickWatch window</p>
			<p>As we can see, this offers a <a id="_idIndexMarker245"/>huge advantage, since we can test variables and properties that are quickly available in<a id="_idIndexMarker246"/> real time.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">You can use the <em class="italic">Shift</em> + <em class="italic">F9</em> shortcut to access the <strong class="bold">QuickWatch</strong> window quickly.</p>
			<h2 id="_idParaDest-77"><a id="_idTextAnchor076"/>The Autos and Locals windows</h2>
			<p>The <strong class="bold">Autos</strong> and <strong class="bold">Locals</strong> windows allow us to view information about variables and properties without the need to add them somewhere as with the <strong class="bold">Watch</strong> window.</p>
			<p>However, these have a <a id="_idIndexMarker247"/>specific scope. While<a id="_idIndexMarker248"/> the <strong class="bold">Autos</strong> window shows the value of the variables around the breakpoint we have placed, the <strong class="bold">Locals</strong> window will <a id="_idIndexMarker249"/>show values only for the current scope – that is, usually the function or method in which <a id="_idIndexMarker250"/>the breakpoint is located.</p>
			<p>Another important point about these windows is that they will only be shown when we run the application and after we have placed a breakpoint.</p>
			<p>For the demonstration of this window pair, I have added a new method to our <strong class="source-inline">Program.cs</strong> file and placed a breakpoint, as shown in <em class="italic">Figure 5.38</em>:</p>
			<div>
				<div id="_idContainer121" class="IMG---Figure">
					<img src="image/Figure_5.38_B17873.jpg" alt="Figure 5.38 – The TestLocalsAndAutos method, with a breakpoint placed to demonstrate the Locals and Autos windows"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.38 – The TestLocalsAndAutos method, with a breakpoint placed to demonstrate the Locals and Autos windows</p>
			<p>Once we invoke the method<a id="_idIndexMarker251"/> and only when the application is<a id="_idIndexMarker252"/> running, we will be able to display the windows through the <strong class="bold">Debug</strong> | <strong class="bold">Windows</strong> | <strong class="bold">Autos</strong> menu and the <strong class="bold">Debug</strong> | <strong class="bold">Windows</strong> | <strong class="bold">Locals</strong> menu:</p>
			<div>
				<div id="_idContainer122" class="IMG---Figure">
					<img src="image/Figure_5.39_B17873.jpg" alt="Figure 5.39 – Accessing the Autos and Locals windows from the Debug menu&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.39 – Accessing the Autos and Locals windows from the Debug menu</p>
			<p>Let's first <a id="_idIndexMarker253"/>examine the <strong class="bold">Locals</strong> window. We will <a id="_idIndexMarker254"/>see how it contains all the local variables that are available, including the <strong class="source-inline">i</strong> and <strong class="source-inline">currentString</strong> variables, which belong to the <strong class="source-inline">TestLocalsAndAutos</strong> method:</p>
			<div>
				<div id="_idContainer123" class="IMG---Figure">
					<img src="image/Figure_5.40_B17873.jpg" alt="Figure 5.40 – The Locals window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.40 – The Locals window</p>
			<p>On the <a id="_idIndexMarker255"/>other hand, if we look at the <strong class="bold">Autos</strong> window, we will see only the content of the <strong class="source-inline">i</strong> variable, since it is the<a id="_idIndexMarker256"/> information that is in the scope <a id="_idIndexMarker257"/>of the breakpoint, which <a id="_idIndexMarker258"/>means the <strong class="source-inline">for</strong> loop:</p>
			<div>
				<div id="_idContainer124" class="IMG---Figure">
					<img src="image/Figure_5.41_B17873.jpg" alt="Figure 5.41 – The Autos window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.41 – The Autos window</p>
			<p>This pair of windows is tremendously useful to see all the available information on our variables at a glance.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">It is possible to display these windows through the following shortcuts:</p>
			<p class="callout"><strong class="bold">Autos</strong>: <em class="italic">Ctrl</em> + <em class="italic">D</em>, followed by the <em class="italic">A</em> key</p>
			<p class="callout"><strong class="bold">Locals</strong>: <em class="italic">Ctrl</em> + <em class="italic">D</em>, followed by the <em class="italic">L</em> key</p>
			<h2 id="_idParaDest-78"><a id="_idTextAnchor077"/>Call stacks</h2>
			<p>Although the use of windows that we saw in the <em class="italic">Watch window</em>, <em class="italic">QuickWatch</em>, and <em class="italic">The Autos and Locals windows</em> sections is the most-used method of error correction, we also have some others to keep track of the invocation flow between our methods.</p>
			<p>One of such window is <a id="_idIndexMarker259"/>called <strong class="bold">Call Stack</strong>, which when we place a breakpoint, will show the stack of calls that have been made until arriving at the same one. To show the <a id="_idIndexMarker260"/>window, we must select the option from <strong class="bold">Debug</strong> | <strong class="bold">Windows</strong> | <strong class="bold">Call Stack</strong>. This menu item will only be available while the application is running, but if you want the window to show up for each debug session, you can use the thumbtack/pin icon to dock it.</p>
			<p>In <em class="italic">Figure 5.42</em>, we have executed the same code as that in the <em class="italic">The Autos and Locals windows</em> section, stopping at the same breakpoint. As we can see in the following figure, the <strong class="bold">Call Stack</strong> window shows the line of code where we are once the application has stopped due to the breakpoint, as well as the set of calls between methods that have been made to reach the breakpoint: </p>
			<div>
				<div id="_idContainer125" class="IMG---Figure">
					<img src="image/Figure_5.42_B17873.jpg" alt="Figure 5.42 – The Call Stack window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.42 – The Call Stack window</p>
			<p>In <em class="italic">Figure 5.42</em>, we can also see the state of the application in each one of the calls if we double-click on any of them. This will allow us to see the values of properties and variables at some specific point in the flow of the application.</p>
			<p>This will take us to the code section from where we invoke the method, and it will be highlighted with a different color so that we don't get confused with the colors of the breakpoint.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">To display the <strong class="bold">Call Stack</strong> window, you can also press the <em class="italic">Ctrl</em> + <em class="italic">Alt</em> + <em class="italic">C</em> keys.</p>
			<h2 id="_idParaDest-79"><a id="_idTextAnchor078"/>Immediate window</h2>
			<p>Another window<a id="_idIndexMarker261"/> of great interest is the <strong class="bold">Immediate</strong> window. This window, which we can open from the <strong class="bold">Debug</strong> | <strong class="bold">Windows</strong> | <strong class="bold">Immediate</strong> menu, will allow <a id="_idIndexMarker262"/>us to make evaluations of expressions, execute statements, and print values of variables and properties.</p>
			<p>When you open this window, you will surely be surprised to see nothing inside it. This is because this window will allow you to write on it, to enter the name of a variable or property, and even invoke methods (if they are within the scope), added to the fact that you will have available all the potential of IntelliSense while you write your expressions. IntelliSense is Visual Studio's auto-completion help enhanced with artificial intelligence, and we will talk more about it in <a href="B17873_07_ePub.xhtml#_idTextAnchor088"><em class="italic">Chapter 7</em></a>, <em class="italic">Coding Efficiently with AI and Code Views</em>.</p>
			<p>In <em class="italic">Figure 5.43</em>, the invocation of the <strong class="source-inline">TestLocalsAndAutos</strong> method has been executed again, and we have obtained a substring of the main <strong class="source-inline">currentString</strong> string:</p>
			<div>
				<div id="_idContainer126" class="IMG---Figure">
					<img src="image/Figure_5.43_B17873.jpg" alt="Figure 5.43 – The Immediate Window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 5.43 – The Immediate Window</p>
			<p>A great advantage of this window is that we can execute as many expressions as we want, keeping all the list of results we obtain, as <a id="_idIndexMarker263"/>well as the expressions<a id="_idIndexMarker264"/> entered.</p>
			<p class="callout-heading">Important Note</p>
			<p class="callout">You can display the <strong class="bold">Immediate</strong> window if you press the <em class="italic">Ctrl</em> + <em class="italic">Alt</em> + <em class="italic">I</em> keys.</p>
			<h1 id="_idParaDest-80"><a id="_idTextAnchor079"/>Summary</h1>
			<p>Visual Studio has many options for debugging source code. In this chapter, we have learned what breakpoints are, the different types of breakpoints, and the associated windows that we can activate to keep track of data in variables and properties. This information has been of utmost importance, since it will help you to solve problems in your code when you face them.</p>
			<p>In the next chapter, <a href="B17873_06_ePub.xhtml#_idTextAnchor081"><em class="italic">Chapter 6</em></a><em class="italic">, Adding Code Snippets</em>, you will learn about the concept of code snippets, which allow you to reuse common pieces of code across different projects, quickly adjusting them to your needs.</p>
		</div>
	</body></html>