- en: Chapter 8. Consulting
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第8章. 咨询
- en: In this chapter, we will learn how Microsoft Dynamics NAV fits a consultancy
    company. Most consultancy companies have project-related processes. They take
    on larger projects that take a certain time to complete. Some consultancy companies
    also purchase and sell items.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将学习微软Dynamics NAV如何适应咨询公司。大多数咨询公司都有与项目相关的流程。他们承担需要一定时间才能完成的大型项目。一些咨询公司还购买和销售物品。
- en: For the projects, the consultancy company needs to keep track of used resources
    and items. Sometimes they can invoice the resource hours they spend one-on-one
    but most of the time they will also take a risk in doing fixed price projects.
    In this case, it is even more important to know if the project was budgeted well
    and ensure money is not lost on the way.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 对于项目，咨询公司需要跟踪使用的资源和物品。有时他们可以开票他们一对一花费的资源小时，但大多数时候他们也会承担固定价格项目的风险。在这种情况下，了解项目是否预算得当，并确保资金不会在途中损失，就更加重要。
- en: There are many types of companies working this way. Examples are accountancy
    firms and lawyers, but also many companies in the construction business work like
    this.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多类型的公司以这种方式运作。例如，会计公司和律师事务所，但也有很多建筑公司也是这样运作的。
- en: For this chapter, we will use an example, a company we are all very familiar
    with, either because of working as an employee, a customer, or maybe even an owner.
    We will look at the business process of a Microsoft Dynamics NAV Partner.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本章，我们将使用一个例子，一个我们所有人都非常熟悉的公司，无论是作为员工、客户，甚至可能是所有者。我们将研究微软Dynamics NAV合作伙伴的商业流程。
- en: The partner in our case sells Microsoft Dynamics NAV licenses for new projects.
    They also help existing customers in upgrades and support. Lastly, they are selling
    infrastructure solutions, assembling servers, and desktop systems in house.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的案例中，合作伙伴销售微软Dynamics NAV的新项目许可证。他们还帮助现有客户进行升级和支持。最后，他们还销售基础设施解决方案，内部组装服务器和桌面系统。
- en: We will discuss four different project scenarios and see how Microsoft Dynamics
    NAV can be used to support those. To do this, we will create some modifications
    along the way. The objects required for this chapter can be downloaded from `http://ftp.packtpub.com/chapter8.fob`.
    After reading this chapter, you will have a good understanding of the possibilities
    and limitations of the Job Module in Microsoft Dynamics NAV, how it fits in with
    the rest of the product, and how it can be expanded safely.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将讨论四种不同的项目场景，并看看微软Dynamics NAV如何被用来支持这些场景。为此，我们将沿途进行一些修改。本章所需的对象可以从`http://ftp.packtpub.com/chapter8.fob`下载。阅读本章后，您将很好地理解微软Dynamics
    NAV中作业模块的可能性和局限性，它如何与产品其他部分相匹配，以及如何安全地扩展。
- en: The process
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 流程
- en: The two main processes for Microsoft Dynamics NAV partners are implementing
    new projects and providing services such as supporting and upgrading to existing
    customers. A third process is selling infrastructure and assembling computer systems
    but this is an extra service, not the core business.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 微软Dynamics NAV合作伙伴的两个主要流程是实施新项目和为现有客户提供支持、升级等服务。第三个流程是销售基础设施和组装计算机系统，但这是一种额外服务，而不是核心业务。
- en: To support the projects (jobs), the company needs people, software licenses,
    and hardware. The people (resources) need to be carefully planned on the projects
    as they are the least flexible part of the company. Hardware (items) and software
    licenses (G/L Accounts) will be purchased from vendors like Microsoft.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 为了支持项目（工作），公司需要人员、软件许可证和硬件。人员（资源）需要在项目上仔细规划，因为它们是公司最不灵活的部分。硬件（项目）和软件许可证（总账账户）将从像微软这样的供应商处购买。
- en: The projects can be divided into large and small projects. The larger projects
    are new implementations and upgrades. Smaller projects are usually implementing
    small features and helping users with regular support issues.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 项目可以分为大型项目和小型项目。大型项目通常是新的实施和升级。小型项目通常是实施小型功能并帮助用户解决常规支持问题。
- en: Invoicing can be done in various ways. New implementations and small projects
    can be invoiced per billable hour while upgrades are sold at a fixed price. For
    hardware, we will use items. Licenses are invoiced directly to the general ledger.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 开票可以以各种方式完成。新的实施和小型项目可以按计费小时计费，而升级则以固定价格出售。对于硬件，我们将使用项目。许可证直接开票到总账。
- en: Large projects also have budgets and planning that needs to be maintained. If
    the budget is fully used and the planning milestones have not been reached, there
    should be a new budget created in order to complete the project.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 大型项目也有需要维护的预算和规划。如果预算已完全使用，且规划里程碑尚未达到，则应创建一个新的预算以完成项目。
- en: To support this process, we will use the Jobs functionality with some customizations.
    Projects are called Jobs in Microsoft Dynamics NAV so we will use that term from
    now on.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 为了支持这一过程，我们将使用带有一些定制的作业功能。在Microsoft Dynamics NAV中，项目被称为作业，因此我们将从现在开始使用这个术语。
- en: Note
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The Jobs module has been completely redesigned by Microsoft for Version 5\.
    In this chapter, we will use a lot of the new functionality where we would have
    done customizations in the older versions of Microsoft Dynamics NAV.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 微软为第五版完全重新设计了作业模块。在本章中，我们将使用许多新功能，在旧版本的Microsoft Dynamics NAV中，我们会进行定制。
- en: Fits
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 适配
- en: The registration of the Jobs module can be done using the standard functionality
    of Microsoft Dynamics NAV as well as the budgeting and planning.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 作业模块的注册可以使用Microsoft Dynamics NAV的标准功能以及预算和规划来完成。
- en: The standard software also allows us to invoice Jobs both fixed price and on
    time and materials. We can also purchase items for our Jobs. In Microsoft Dynamics
    NAV 2013, a timesheet module has been added to the application, which we will
    use and explain in this chapter.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 标准软件还允许我们按固定价格和时间材料开票作业。我们还可以为我们的作业购买物品。在Microsoft Dynamics NAV 2013中，应用程序中增加了一个时间表模块，我们将在此章节中使用并解释它。
- en: Gaps
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 空缺
- en: The Jobs module in Microsoft Dynamics NAV is often referenced as a framework
    that almost always needs some changes. Fortunately, it is designed to be easily
    changed and we will do so to support our processes.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Dynamics NAV中的作业模块通常被引用为一个几乎总是需要一些更改的框架。幸运的是，它被设计得很容易更改，我们将这样做以支持我们的流程。
- en: Resource groups
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 资源组
- en: Although many companies work this way, budgeting for resource groups is not
    possible. We will create a solution for that. We will also make it possible to
    see the total number of planned, used, and invoiced hours.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然许多公司是这样工作的，但为资源组进行预算是不可能的。我们将为此创建一个解决方案。我们还将使其能够查看计划、使用和开票的总小时数。
- en: Item calculation
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 项目计算
- en: We will create a solution calculating the system assembling. As hardware specifications
    are changing very rapidly, we do not want to create a new item for each system
    we may only sell once or twice.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将创建一个计算系统组装的解决方案。由于硬件规格变化非常快，我们不希望为可能只销售一次或两次的系统创建新项目。
- en: Issue registration
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 问题登记
- en: Our support team needs a single point for registration of all support issues
    for all customers and to follow up their workflow. For this, we will also create
    functionality to register and followup issues.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的支持团队需要一个单一的地方来登记所有客户的所有支持问题，并跟踪其工作流程。为此，我们还将创建登记和跟踪问题的功能。
- en: Getting started
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 入门
- en: 'Before we start creating any new jobs, we should have a look at the following
    data and posting model of the Microsoft Dynamics NAV Jobs module:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始创建任何新的作业之前，我们应该查看以下Microsoft Dynamics NAV作业模块的数据和发布模型：
- en: '![Getting started](img/0365EN_08_01.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![入门](img/0365EN_08_01.jpg)'
- en: The starting point is the job table that has **Job Tasks** and **Job Planning
    Lines** that we can use for budgeting and planning. Each job can have its own
    prices.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 起始点是包含**工作任务**和**工作计划行**的工作表，我们可以用它们进行预算和规划。每个工作都可以有自己的价格。
- en: The **Job Planning Lines** get invoiced through the standard Microsoft Dynamics
    NAV Sales functionality, which then creates **Job Ledger Entries**.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '**工作计划行**通过标准的Microsoft Dynamics NAV销售功能进行开票，然后创建**工作分录**。'
- en: How many jobs
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 有多少作业
- en: The first step is setting up a new job. There can be different angles on setting
    up jobs. This depends on how we want to work with the system. The minimum requirement
    is to have at least one job per bill to customer. This enables us to do the invoicing.
    Some companies use jobs this way to use it as a pre-invoice engine.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是设置一个新的作业。设置作业可能有不同的角度。这取决于我们如何使用系统。最低要求是每个客户账单至少有一个作业。这使我们能够进行开票。一些公司就是这样使用作业的，将其用作预开票引擎。
- en: Another angle can be to set up new jobs nicely for each project that we do for
    the customer. In our case, this starts with the basic Dynamics NAV implementation.
    When this is finished, we close the job. If the customer has any new requirements,
    we need to start a new job. This way we can keep better track of what issues we
    have outstanding with each customer. The downside of this methodology is that
    it requires some work to set up a new job every time.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个角度可以是为客户做的每个项目设置新的工作。在我们的案例中，这始于基本的Dynamics NAV实施。当这项工作完成时，我们关闭工作。如果客户有任何新的要求，我们需要启动一个新的工作。这样我们可以更好地跟踪每个客户未解决的问题。这种方法的不利之处在于，每次都需要做一些工作来设置新的工作。
- en: Most companies end up with a solution in the middle. It is common to set up
    a new job for larger jobs and to have a job for support issues. This also allows
    us to set up different invoicing strategies for each job. We will use this strategy.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数公司最终会采取中间方案。为较大的工作设置新工作，并为支持问题设置工作是很常见的。这也允许我们为每个工作设置不同的计费策略。我们将使用这种策略。
- en: Job Card
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 工作卡
- en: 'Let''s have a look at the **Job Card** and the important fields there:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看**工作卡**和其中重要的字段：
- en: '![Job Card](img/0365EN_08_02.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![工作卡](img/0365EN_08_02.jpg)'
- en: 'Let''s see these fields in more detail:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看这些字段：
- en: '**No.**: This is the unique number of a job. We can use different Number Series
    strategies for this, from simple sequential numbering to linked Number Series
    for different job types or manual numbering.'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**编号**：这是工作的唯一编号。我们可以为此使用不同的编号系列策略，从简单的顺序编号到为不同工作类型或手动编号的链接编号系列。'
- en: '**Description**: This field should contain a logical description of the job
    for internal use. Most people will search in this field so make sure to have certain
    rules for naming. This will make searching for old jobs easier in the future.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**：此字段应包含对工作内部使用的逻辑描述。大多数人会在这个字段中搜索，所以请确保有某些命名规则。这将使未来搜索旧工作更容易。'
- en: '**Bill-to Customer No.**: Each job has one bill-to customer. If we want to
    invoice multiple customers for one job, we need to customize the application.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开票客户编号**：每个工作有一个开票客户。如果我们想为一个工作向多个客户开票，我们需要定制应用程序。'
- en: '**Search Description**: By default, this will be populated with the value of
    the description field but can be changed to another value if required.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**搜索描述**：默认情况下，此字段将填充描述字段的值，但在需要的情况下可以更改为其他值。'
- en: '**Person Responsible**: This is an informative field indicating who is responsible
    for this job.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**负责人**：这是一个信息字段，指示谁负责这项工作。'
- en: '**Blocked**: If this field is checked, it is not possible to make new entries
    for this job. We use this for closed jobs.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**已锁定**：如果此字段被勾选，则无法为此工作创建新条目。我们使用此字段用于关闭的工作。'
- en: '**Job Posting Group**: This refers to the G/L Accounts that are used for the
    **Work In Progress** (**WIP**) postings. There can be different G/L Accounts for
    different types of Jobs or WIP methods.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**工作发布组**：这指的是用于**在制品**（**WIP**）过账的G/L账户。不同类型的工作或WIP方法可能有不同的G/L账户。'
- en: '**WIP Method**: Each job can have one WIP method. We will discuss this briefly
    later in this chapter.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在制品方法**：每个工作可以有一个在制品方法。我们将在本章稍后简要讨论这一点。'
- en: '**Status**: The jobs have a limited set of status fields. The only available
    status values are **Planning**, **Quote**, **Order**, and **Completed**.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**状态**：工作有一组有限的状态字段。唯一可用的状态值是**计划**、**报价**、**订单**和**完成**。'
- en: Tip
  id: totrans-49
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Most companies want to have more sub statuses for the order phase. The best
    approach for this is to add a new status field that maps with the standard status
    field. This requires minimum changes to the application while creating new workflow
    possibilities.
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 大多数公司希望订单阶段有更多的子状态。为此，最佳方法是添加一个新的状态字段，使其与标准状态字段相映射。这需要最小化对应用程序的更改，同时创建新的工作流程可能性。
- en: '**Allow Schedule/Contract Lines**: If this field is not checked, it is not
    possible to create planning lines that have the options **Both Schedule** and
    **Contract**. When planning lines are created they will be split into a schedule
    and a contract line.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**允许计划/合同行**：如果此字段未被勾选，则无法创建具有**计划**和**合同**选项的计划行。当创建计划行时，它们将被拆分为计划和合同行。'
- en: '**Starting** **Date** and **Ending Date**: These are informative fields that
    are only used to calculate the currency exchange rates for the job.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开始日期**和**结束日期**：这些是信息字段，仅用于计算该工作的货币汇率。'
- en: '**Foreign Trade**: In the Jobs module, it is possible to send calculate and
    create invoices in another currency than the local currency. This will multiply
    the complexity of the implementation and should be used carefully.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**外贸**：在“工作”模块中，可以以不同于本地货币的其他货币发送计算和创建发票。这将增加实施的复杂性，应谨慎使用。'
- en: Job task and planning lines
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作任务和计划行
- en: When the job is created, the next step is to create Job Tasks and Planning Lines.
    These can be used in different ways.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建工作后，下一步是创建工作任务和计划行。它们可以用不同的方式使用。
- en: Using Job Task lines, we can divide the job into smaller pieces, which we can
    then schedule and invoice. The more detailed the Job Tasks, the better we can
    measure the progress of the job. But the amount of work required to maintain them
    would also be more. Balance is a keyword for success here.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 使用工作任务行，我们可以将工作分解成更小的部分，然后进行调度和计费。工作任务越详细，我们就能更好地衡量工作的进度。但维护这些任务所需的工作量也会更多。平衡是成功的关键词。
- en: '![Job task and planning lines](img/0365EN_08_03.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![工作任务和计划行](img/0365EN_08_03.jpg)'
- en: Creating Job Tasks and Planning Lines
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 创建工作任务和计划行
- en: The Job Tasks can be created with the same structure as the Chart of Accounts,
    meaning the actual Task Lines can be grouped using Begin and End Total lines.
    Each level can be indented for better readability.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 工作任务可以与账户表具有相同的结构，这意味着实际的任务行可以使用开始和结束总计行进行分组。每个级别都可以缩进以提高可读性。
- en: The Job Planning Lines are the detail lines of each Job Task. This defines what
    we will do and how this will be invoiced. A Job Planning Line can be linked to
    the master data types Resource, Item, G/L Account, or Text.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 工作计划行是每个工作任务的具体行。这定义了我们将要做什么以及如何计费。工作计划行可以链接到主数据类型资源、项目、总账科目或文本。
- en: Tip
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Job Tasks and Job Planning Lines can be copied very easily from other jobs.
    This allows us to reuse them and even create template jobs for frequently used
    combinations.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 工作任务和工作计划行可以非常容易地从其他工作中复制。这使我们能够重用它们，甚至为常用组合创建模板工作。
- en: 'The Line Type in the Job Planning Line defines how it will be invoiced. There
    are three types:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 工作计划线中的线型定义了其计费方式。共有三种类型：
- en: '**Schedule**: The amounts on this line will only be used for budgeting purposes.
    When invoicing, we need to post one or more job journal lines that will be invoiced
    or we can create another Job Planning Line with the invoice amount. Schedule lines
    should be used when billing for time and materials.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计划**：此行上的金额仅用于预算目的。在计费时，我们需要过账一个或多个将要计费的作业日志行，或者我们可以创建另一个带有发票金额的工作计划行。计划行应在按时间和材料计费时使用。'
- en: '**Contract**: This line will be invoiced with the exact amounts. However, the
    amounts do not show up in the budget. This can be used when invoicing fixed price
    jobs in a schedule, for example, 50 percent when signing the contract and 50 percent
    on job completion.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**合同**：此行将以确切金额进行计费。然而，这些金额不会显示在预算中。当在计划中计费固定价格的工作时，例如，在签订合同时支付50%，在完成工作后支付50%。'
- en: '**Both Schedule and Contract**: This line will be invoiced in exactly the same
    way as the contract lines but the amount will also show up in the budget.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计划和合同**：此行将以与合同行完全相同的方式进行计费，但金额也会显示在预算中。'
- en: Job journal
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作日志
- en: When the Job Tasks and Job Planning Lines are set up, we can start the job.
    During the job, we will consume resources and items from our company. This should
    be registered using the Job journal. The **Job Journal** is the lowest level of
    the Journal Posting diagram we drafted in [Chapter 1](ch01.html "Chapter 1. Introduction
    to Microsoft Dynamics NAV"), *Introduction to Microsoft Dynamics NAV*, and uses
    the other journals to create the resource, item, and general ledger entries.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 当工作任务和工作计划行设置完成后，我们可以开始工作。在工作过程中，我们将消耗公司资源和物品。这应使用工作日志进行登记。**工作日志**是我们[第1章](ch01.html
    "第1章。Microsoft Dynamics NAV简介")中制定的日记账分录图的最底层，*Microsoft Dynamics NAV简介*，并使用其他日记账创建资源、项目和总账分录。
- en: 'When creating a Job Journal Line, the following few fields are particularly
    important for the process:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建工作日志行时，以下几个字段对于流程特别重要：
- en: '![Job journal](img/0365EN_08_04.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![工作日志](img/0365EN_08_04.jpg)'
- en: 'Let''s have a look at the fields in more detail:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看这些字段：
- en: '**Line Type**: This has the same options as the **Job Planning Line**, **Schedule,
    Contract**, and **Both Schedule and Contract**. When the job journal line should
    be invoiced, the type should be **Contract**. When the job journal line is part
    of a fixed price, the Line Type should be left blank. Then the Line Type is **Schedule**,
    the system will create additional Job Planning Lines of this type, which may corrupt
    our budget for the customer since they are already created.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**行类型**：它具有与**作业计划行**、**计划、合同**和**计划和合同都有的**相同的选项。当作业日记账行应该开具发票时，类型应该是**合同**。当作业日记账行是固定价格的一部分时，行类型应留空。然后行类型是**计划**，系统将创建此类型的额外作业计划行，这可能会破坏我们为客户的预算，因为它们已经被创建。'
- en: '**Unit Cost and Unit Price**: These fields will determine the cost of the job
    and price that will be invoiced to the customer if the Line Type is **Contract**.
    This information is also used in the calculation of the work in progress.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**单位成本和单位价格**：这些字段将确定作业的成本以及如果行类型是**合同**，将向客户开具发票的价格。这些信息也用于在制品的计算。'
- en: Job examples
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 作业示例
- en: Let's go through some different job scenarios to see how we can use this functionality.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一些不同的作业场景来了解我们如何使用这项功能。
- en: Chapter objects
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 章节对象
- en: The chapter objects contain both the changes that we will discuss in this chapter
    as well as the example jobs we will use. After importing `chapter8.fob` as described
    in [Appendix](apa.html "Appendix A. Installation Guide"), *Installation Guide*,
    run page 123.456.700 **Jobs Add-on Setup** and run **Initialise Application**.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 章节对象包含我们将在本章中讨论的更改以及我们将使用的示例作业。按照[附录](apa.html "附录 A. 安装指南")中所述，导入`chapter8.fob`后，运行页面123.456.700
    **作业附加设置**并运行**初始化应用程序**。
- en: '![Chapter objects](img/0365EN_08_05.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![章节对象](img/0365EN_08_05.jpg)'
- en: When this completes, restart the Role Tailored Client. You should now see the
    Project Manager Role Center.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 当此操作完成后，请重新启动角色定制客户端。现在你应该能看到项目管理角色中心。
- en: The new implementation
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 新的实施
- en: Implementing Microsoft Dynamics NAV 2013 is not an easy task and many things
    need to be taken care of before we can use the product. We will implement Microsoft
    Dynamics NAV for Packt Publishing. The Job for this example is `EXAMPLE1`.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 实施Microsoft Dynamics NAV 2013不是一个容易的任务，在我们可以使用该产品之前，有许多事情需要处理。我们将为Packt Publishing实施Microsoft
    Dynamics NAV。本例中的任务是`EXAMPLE1`。
- en: For the implementation, we will create various Job Task groups. Each part of
    the implementation gets a code. As the sorting is done on this field, we will
    create code using numbers and a logical name, for example, `0200\. SETUP` and
    `0210\. FIN`.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 对于实施，我们将创建各种工作任务组。实施过程中的每一部分都会分配一个代码。由于排序是基于这个字段进行的，我们将使用数字和逻辑名称创建代码，例如，`0200\.
    SETUP`和`0210\. FIN`。
- en: Tip
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Leave enough space in the numbers to add additional lines if required. This
    will avoid renaming, which is an expensive task for the database engine and users
    will have to wait until it is completed.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在数字中留出足够的空间，以便在需要时添加额外的行。这将避免重命名，这对于数据库引擎来说是一个昂贵的任务，用户将不得不等待它完成。
- en: Our consultants will help the customer to install the system, help with the
    setup, and convert the data from the old system. When this is done we will help
    them with testing and train them using Microsoft Dynamics NAV. The consultants
    will be set up in the system as Resources, which are in turn entered into the
    Job Planning Lines.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的顾问将帮助客户安装系统，协助设置，并将旧系统的数据转换过来。当这一切完成后，我们将帮助他们进行测试，并使用Microsoft Dynamics NAV进行培训。顾问将在系统中作为资源设置，这些资源随后将被输入到作业计划行中。
- en: When everything is working as expected, we can schedule a go-live weekend and
    help them in the first period using the system.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 当一切按预期工作，我们可以安排一个上线周末，并帮助他们使用系统。
- en: '![The new implementation](img/0365EN_08_06.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![新的实施](img/0365EN_08_06.jpg)'
- en: Invoicing a job like this is done using a budget. We will make a precalculation
    of the number of hours we think are necessary and start with that. During the
    job we need to measure the used budget and compare it with the progress.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 对此类工作进行发票是通过预算完成的。我们将预先计算我们认为必要的工时数量，并从那里开始。在作业过程中，我们需要测量使用的预算，并将其与进度进行比较。
- en: Budgeting
  id: totrans-89
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 预算
- en: The budget is created using the Job Planning Lines. During this phase of the
    job, we do not yet know which resource will be used for the Job Tasks and it might
    even be done by more than one resource. This is why we want to use Resource Groups
    in our budget.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 预算是通过作业计划行创建的。在这个工作的这个阶段，我们还不知道哪个资源将被用于作业任务，甚至可能由多个资源完成。这就是为什么我们想在预算中使用资源组。
- en: Note
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: This is not possible in the standard application so we have created a modification,
    which we will discuss at the end of this chapter.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 这在标准应用程序中是不可能的，因此我们创建了一个修改，我们将在本章末尾讨论。
- en: '![Budgeting](img/0365EN_08_07.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![预算](img/0365EN_08_07.jpg)'
- en: The **Line Type** of these Job Planning Lines is **Schedule**. This means that
    these lines are just for budgeting and schedule purposes. The system will invoice
    the actual consumption posted in the Job Journal.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这些作业计划行的 **行类型** 是 **计划**。这意味着这些行仅用于预算和计划目的。系统将根据作业日记账中过账的实际消耗开具发票。
- en: The infrastructure
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 基础设施
- en: To use Microsoft Dynamics NAV 2013, Packt Publishing needs a new infrastructure.
    Their current systems do not meet the requirements for Microsoft Dynamics NAV
    2013.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Microsoft Dynamics NAV 2013，Packt 出版公司需要一个新的基础设施。他们的现有系统不符合 Microsoft Dynamics
    NAV 2013 的要求。
- en: For this job, we could create new Job Task Lines in the implementation job,
    but for a clearer overview, we will create a new job, `EXAMPLE2`.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个工作，我们可以在实施作业中创建新的作业任务行，但为了更清晰的概述，我们将创建一个新的作业，`EXAMPLE2`。
- en: Our company builds and sells its own computer systems. We can build both servers
    and desktop systems. As none of the systems are exactly the same and available
    components switch regularly, we do not want to create an item and a bill of materials
    for each system. Instead we use a calculation system, which we add as a customization
    to Dynamics NAV that allows us to determine a price for a system. For other products
    like switches, routers, printers, and laptops, we use items that we purchase from
    vendors.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的公司开发和销售自己的计算机系统。我们可以构建服务器和台式机系统。由于没有系统是完全相同且可用组件经常更换，我们不希望为每个系统创建一个项目和物料清单。相反，我们使用一个计算系统，我们将它作为定制添加到
    Dynamics NAV 中，这样我们就可以确定一个系统的价格。对于像开关、路由器、打印机和笔记本电脑等其他产品，我们使用从供应商处购买的物品。
- en: 'The Job Tasks and Job Planning Lines for this job look like this:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工作的作业任务和作业计划行看起来是这样的：
- en: '![The infrastructure](img/0365EN_08_08.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![基础设施](img/0365EN_08_08.jpg)'
- en: Job Tasks and Job Planning Lines
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 作业任务和作业计划行
- en: The installation costs in this job are **Resource Groups** with Line Type Schedule,
    just as in the previous job, so we invoice actual hours spent on the Job.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个工作中，安装成本是 **资源组**，行类型为计划，就像上一个工作一样，所以我们根据作业的实际小时数开具发票。
- en: The other lines are of type **Both Schedule and Contract**. This means we will
    invoice exactly what is in the budget. The Job Journal Lines for these tasks should
    be posted with a blank Line Type.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 其他行是 **计划和合同** 类型。这意味着我们将根据预算开具发票。这些任务的作业日记账行应以空白行类型进行过账。
- en: The upgrade
  id: totrans-104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 升级
- en: Our customer requests an upgrade from Navision Version 3.70 to Microsoft Dynamics
    NAV 2013\. We can do this for a fixed price but we require a fee to analyze the
    system.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的客户要求从 Navision 版本 3.70 升级到 Microsoft Dynamics NAV 2013。我们可以以固定价格完成这项工作，但我们需要收取分析系统的费用。
- en: For the `EXAMPLE3` job, we can start with a limited number of Job Task Lines,
    just for the quote. When the customer agrees to do the upgrade, we can add new
    Job Task Lines.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 `EXAMPLE3` 任务，我们可以从有限的作业任务行开始，仅用于报价。当客户同意进行升级时，我们可以添加新的作业任务行。
- en: Both the quote and the upgrade are a fixed price and posted directly to the
    general ledger. This does not mean we cannot have our resources register the actual
    hours using the Job Journal but the **Line Type** should be blank.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 报价和升级都是固定价格，并直接过账到总账。这并不意味着我们不能让我们的资源使用作业日记账登记实际小时数，但 **行类型** 应该为空白。
- en: Another part of the upgrade is not done at a fixed price. The system needs a
    redesign, a conversion to SQL Server 2014, and the customer wants additional training
    and support.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 升级的一部分不是以固定价格完成的。系统需要重新设计，转换为 SQL Server 2014，并且客户希望获得额外的培训和支援。
- en: '![The upgrade](img/0365EN_08_09.jpg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![升级](img/0365EN_08_09.jpg)'
- en: Upgrading for re-design
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 升级和重新设计
- en: The fixed price part of the upgrade is invoiced in three phases. When the job
    starts, we invoice 50 percent, and when we deliver the test system, we invoice
    40 percent, and finally 10 percent is invoiced three months after go-live.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 升级中的固定价格部分分三个阶段开具发票。当工作开始时，我们开具50%的发票，当我们交付测试系统时，我们开具40%的发票，最后在上线三个月后开具10%的发票。
- en: This is done using lines of **Both Schedule and Contract** Line Type.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 这是通过**计划和合同**行类型的使用完成的。
- en: The support team
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 支持团队
- en: For the support team, our policy is to create one job per fiscal year per customer.
    We will use this job, `EXAMPLE4`, to invoice the maintenance of the license and
    all support issues.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 对于支持团队，我们的政策是每位客户每年创建一个工作。我们将使用此工作，`EXAMPLE4`，来开具许可证维护和支持问题的发票。
- en: The support issues can be both little questions customers call us for, like
    changing a report or a page, or implementing new features that requires only a
    few days' work.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 支持问题可以是客户向我们打电话的小问题，如更改报告或页面，或者实施只需要几天工作的新功能。
- en: Each issue and new feature will be created as a Job Task Line. The new features
    will be created by the account manager who sells the feature. We can then decide
    if the invoicing is done at a fixed price, using contract lines, or on time and
    materials using schedule lines.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 每个问题和新功能都将作为一个工作任务行创建。新功能将由销售该功能的账户经理创建。然后我们可以决定是否以固定价格、使用合同行或按时间和材料使用计划行进行开具发票。
- en: Our support team also needs to use the job system, but we do not want them to
    manually create a new Job Task Line for each support call and we also want them
    to view all outstanding issues for all customers easily. For this, we have created
    a new issue registration system, which we will discuss at the end of this chapter.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的支持团队也需要使用工作系统，但我们不希望他们为每个支持电话手动创建一个新的工作任务行，我们还想让他们轻松查看所有客户的未决问题。为此，我们创建了一个新的问题登记系统，我们将在本章末尾讨论。
- en: Each issue in the system is linked to a Job Task. When support engineers create
    a new issue, the Job Task Line is automatically generated for them and they can
    use it in our time and billing system.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 系统中的每个问题都与一个工作任务相关联。当支持工程师创建一个新问题时，将自动为他们生成工作任务行，他们可以在我们的时间和计费系统中使用它。
- en: Time sheets
  id: totrans-119
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 时间表
- en: For all the jobs in our examples, it is critical to have a solid registration
    of resource hours. In the standard Microsoft Dynamics NAV Job application resources
    need either to post a Job Journal for each combination of job, Job Task and Posting
    Date or we can use the new Time Sheet application introduced in Version 2013.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们示例中的所有工作，拥有坚实的资源小时登记至关重要。在标准的Microsoft Dynamics NAV工作应用中，资源需要为每个工作、工作任务和过账日期的组合过账工作日记，或者我们可以使用在2013版中引入的新时间表应用。
- en: Tip
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: On the MSDN page at [http://msdn.microsoft.com/en-us/library/hh175112(v=nav.71).aspx](http://msdn.microsoft.com/en-us/library/hh175112(v=nav.71).aspx),
    you can find more information on how to set up and use Time Sheets in Microsoft
    Dynamics NAV.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在[http://msdn.microsoft.com/en-us/library/hh175112(v=nav.71).aspx](http://msdn.microsoft.com/en-us/library/hh175112(v=nav.71).aspx)的MSDN页面上，您可以找到有关如何在Microsoft
    Dynamics NAV中设置和使用时间表的更多信息。
- en: Design pattern
  id: totrans-123
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 设计模式
- en: The **Time Sheet** application is layered above the Resource Journal Line and
    is created using Resources and Job Tasks.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '**时间表**应用位于资源日记行之上，并使用资源和工作任务创建。'
- en: '![Design pattern](img/0365EN_08_10.jpg)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![设计模式](img/0365EN_08_10.jpg)'
- en: There is an approval process for the person responsible for the job allowing
    them to make corrections.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 对于负责工作的人员有一个审批流程，允许他们进行更正。
- en: '![Design pattern](img/0365EN_08_11.jpg)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![设计模式](img/0365EN_08_11.jpg)'
- en: The time sheet is designed to be created for each week. The time sheets are
    generated using a process, not by the user. After that the resource can create
    **Time Sheet Line** for each Job Task Line and populate the number of hours each
    day of the week.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 时间表是为每周创建的。时间表是通过一个过程生成的，而不是由用户生成。之后，资源可以为每个工作任务行创建**时间表行**并填写每周每天的小时数。
- en: '![Design pattern](img/0365EN_08_12.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![设计模式](img/0365EN_08_12.jpg)'
- en: If we look at the preceding time sheet, we can see after it updated that **Wednesday**
    is missing 2 hours.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们查看前面的时间表，我们可以看到在它更新后，**周三**缺少2小时。
- en: Purchasing
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 采购
- en: 'For some jobs, it might be necessary to purchase items specifically for that
    job. In Microsoft Dynamics NAV 2013, the Jobs module was integrated with the Requisition
    Worksheet we looked at in [Chapter 5](ch05.html "Chapter 5. Production"), *Production*
    and [Chapter 6](ch06.html "Chapter 6. Trade"), *Trade*. However, in this example,
    we will create the purchase orders manually like this:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 对于某些工作，可能有必要为该工作专门采购项目。在Microsoft Dynamics NAV 2013中，工作模块与我们在第5章中查看的请购单工作表、*生产*和第6章中查看的*贸易*模块集成。然而，在这个例子中，我们将像这样手动创建采购订单：
- en: '![Purchasing](img/0365EN_08_13.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![采购](img/0365EN_08_13.jpg)'
- en: When purchasing for a job, the **Job No.** and **Job Task No.** fields should
    be used. If we set the Job Line Type to contract this item will be invoiced to
    the customer. Usually, this is not required since it should have been in the Job
    Planning Lines already.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 当为工作采购时，应使用**工作编号**和**工作任务编号**字段。如果我们将工作行类型设置为合同，此项目将被开具给客户发票。通常，这不需要，因为它应该已经在工作计划行中。
- en: Item costing versus work in progress
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 项目成本与在制品比较
- en: 'After we post this purchase document and navigate from the purchase invoice,
    we can see that the system has created two value entries for this item:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在过账此采购单据并从采购发票导航后，我们可以看到系统已为此项目创建了两个价值条目：
- en: '![Item costing versus work in progress](img/0365EN_08_14.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![项目成本与在制品比较](img/0365EN_08_14.jpg)'
- en: This is very important for the costing as we discussed in the previous chapters.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 这对于我们在前几章讨论的成本计算非常重要。
- en: Note
  id: totrans-139
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Purchased items for jobs are not calculated as inventory but used for the work
    in progress calculation.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 为工作采购的项目不计入库存，而是用于在制品的计算。
- en: Invoicing
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 开票
- en: When everything in our jobs is set up as required and the Job Journal is used
    to post the usage, creating the invoices is a simple task.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们工作中的所有内容都按照要求设置好，并使用工作日记来过账使用情况时，创建发票是一项简单的任务。
- en: In the Job Manager Role Center, we can see if a job is due to be invoiced. This
    is done using a flow filter on the **Planning Date** field of the **Job Planning
    Lines**.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在工作管理角色中心，我们可以查看是否有工作需要开具发票。这是通过在**工作计划行**的**计划日期**字段上使用流程过滤器来完成的。
- en: '![Invoicing](img/0365EN_08_15.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![开票](img/0365EN_08_15.jpg)'
- en: Each Job Planning Line has a planning date. This can be used to schedule our
    resources but is far more useful for invoice scheduling. Each Job Planning Line
    that is ready to be invoiced should get the invoice date in the **Planning Date**
    field.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 每个工作计划行都有一个计划日期。这可以用来安排我们的资源，但对于发票安排来说更有用。每个准备开具发票的工作计划行应该在**计划日期**字段中获得发票日期。
- en: The invoices can then be created using the batch report **Job Create Sales Invoice
    (1093)** but we can also preview the invoice by using the report **Job Suggested
    Billing (1011)**. This report can be started from each job.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，可以使用批量报告**工作创建销售发票（1093）**来创建发票，但也可以使用报告**工作建议开票（1011）**来预览发票。此报告可以从每个工作开始。
- en: '![Invoicing](img/0365EN_08_16.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![开票](img/0365EN_08_16.jpg)'
- en: Job-Suggested Billing
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 工作建议开票
- en: The sales invoice lines are created using the same description as the Job Planning
    Lines. To clarify information for the customer on the invoice we can use extra
    text lines.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 销售发票行使用与工作计划行相同的描述创建。为了在发票上向客户澄清信息，我们可以使用额外的文本行。
- en: When the invoice is created and posted, the Job Task is updated with the actual
    invoicing information.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建并发送发票时，工作任务将更新为实际的发票信息。
- en: Calculating work in progress
  id: totrans-151
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在制品计算
- en: Since most jobs are not completed in a day or a week, it is important to know
    the status of each job in time. This can be measured in quantity and financially.
    In quantities, we can see how much of the budget is being used by looking at the
    **Job Task** page. For financial progress, we can calculate the WIP.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 由于大多数工作不是在一天或一周内完成的，因此及时了解每个工作的状态很重要。这可以通过数量和财务来衡量。在数量上，我们可以通过查看**工作任务**页面来了解预算的使用情况。对于财务进度，我们可以计算在制品。
- en: WIP calculates the cost we made and the sales we invoiced on the job and creates
    Job WIP Entries for this. This can then be posted to the general ledger if required.
    The WIP amounts depend on the WIP method.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在制品计算我们在工作中产生的成本和开具的发票，并为这些创建工作在制品条目。如果需要，这些可以过账到总账。在制品金额取决于在制品方法。
- en: In Microsoft Dynamics NAV, WIP is calculated based on a combination of costs
    and sales as set up in the Job WIP method table.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 在Microsoft Dynamics NAV中，在制品的计算基于在“工作在制品方法”表中设置的组合成本和销售。
- en: Let's create an example and calculate the WIP for five example methods.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个示例并计算五种示例方法的在制品（WIP）。
- en: '| Code | Recognized costs | Recognized sales |'
  id: totrans-156
  prefs: []
  type: TYPE_TB
  zh: '| 代码 | 识别成本 | 识别销售 |'
- en: '| --- | --- | --- |'
  id: totrans-157
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| `COMPLETED CONTRACT` | At completion | At completion |'
  id: totrans-158
  prefs: []
  type: TYPE_TB
  zh: '| `COMPLETED CONTRACT` | 完成时 | 完成时 |'
- en: '| `COST OF SALES` | Cost of sales | Contract (invoiced price) |'
  id: totrans-159
  prefs: []
  type: TYPE_TB
  zh: '| 销售成本 | 销售成本 | 合同（发票价格） |'
- en: '| `COST VALUE` | Cost value | Contract (invoiced price) |'
  id: totrans-160
  prefs: []
  type: TYPE_TB
  zh: '| `COST VALUE` | 成本价值 | 合同（发票价格） |'
- en: '| `PERC. OF COMPLETION` | Usage (total cost) | Percentage of completion |'
  id: totrans-161
  prefs: []
  type: TYPE_TB
  zh: '| `PERC. OF COMPLETION` | 使用（总成本） | 完成百分比 |'
- en: '| `SALES VALUE` | Usage (total cost) | Sales value |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
  zh: '| `SALES VALUE` | 使用（总成本） | 销售价值 |'
- en: We created a job with a total price of 1000 and total cost of 500\. We used
    4 resource hours' worth 500 and cost 250\. We invoiced nothing.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 我们创建了一个总价格为1000、总成本为500的工作。我们使用了价值500的4个资源小时，成本为250。我们没有开具任何发票。
- en: '|   | Recog. cost | Recog. sales | WIP cost | WIP sales |'
  id: totrans-164
  prefs: []
  type: TYPE_TB
  zh: '|   | 识别成本 | 识别销售 | 在制品成本 | 在制品销售 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-165
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Cost value | 125 | 0 | 125 | 0 |'
  id: totrans-166
  prefs: []
  type: TYPE_TB
  zh: '| 成本价值 | 125 | 0 | 125 | 0 |'
- en: '| Sales value | 250 | 250 | 0 | 250 |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '| 销售价值 | 250 | 250 | 0 | 250 |'
- en: '| Cost of sales |   |   | 250 |   |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
  zh: '| 销售成本 |   |   | 250 |   |'
- en: '| Percentage of completion | 250 | 250 | 0 | 250 |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
  zh: '| 完成百分比 | 250 | 250 | 0 | 250 |'
- en: '| Completed contract |   |   | 250 |   |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
  zh: '| 完成的合同 |   |   | 250 |   |'
- en: Now, we send an invoice to the customer for the hours spent. We invoice 500.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们向客户开具了花费的小时数的发票。我们开具了500的发票。
- en: '|   | Recog. cost | Recog. sales | WIP cost | WIP sales |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '|   | 识别成本 | 识别销售 | 在制品成本 | 在制品销售 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Cost value | 375 | 500 | -125 | 0 |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '| 成本价值 | 375 | 500 | -125 | 0 |'
- en: '| Sales value | 250 | 250 | 0 | -250 |'
  id: totrans-175
  prefs: []
  type: TYPE_TB
  zh: '| 销售价值 | 250 | 250 | 0 | -250 |'
- en: '| Cost of sales | 500 | 500 | -250 |   |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| 销售成本 | 500 | 500 | -250 |   |'
- en: '| Percentage of completion | 250 | 250 | 0 | -250 |'
  id: totrans-177
  prefs: []
  type: TYPE_TB
  zh: '| 完成百分比 | 250 | 250 | 0 | -250 |'
- en: '| Completed contract |   |   | 250 | -500 |'
  id: totrans-178
  prefs: []
  type: TYPE_TB
  zh: '| 完成的合同 |   |   | 250 | -500 |'
- en: In the last example, we will use an item that costs 250 that we cannot invoice.
    We now have 500 costs and 500 sales.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后一个示例中，我们将使用一个成本为250但我们无法开具发票的项目。现在我们有500的成本和500的销售。
- en: '|   | Recog. cost | Recog. sales | WIP cost | WIP sales |'
  id: totrans-180
  prefs: []
  type: TYPE_TB
  zh: '|   | 识别成本 | 识别销售 | 在制品成本 | 在制品销售 |'
- en: '| --- | --- | --- | --- | --- |'
  id: totrans-181
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- |'
- en: '| Cost value | 500 | 500 | 0 | 0 |'
  id: totrans-182
  prefs: []
  type: TYPE_TB
  zh: '| 成本价值 | 500 | 500 | 0 | 0 |'
- en: '| Sales value | 250 | 250 | 0 | -250 |'
  id: totrans-183
  prefs: []
  type: TYPE_TB
  zh: '| 销售价值 | 250 | 250 | 0 | -250 |'
- en: '| Cost of sales | 500 | 500 | 0 |   |'
  id: totrans-184
  prefs: []
  type: TYPE_TB
  zh: '| 销售成本 | 500 | 500 | 0 |   |'
- en: '| Percentage of completion | 500 | 500 | 0 | 0 |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '| 完成百分比 | 500 | 500 | 0 | 0 |'
- en: '| Completed contract |   |   | 500 | -500 |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '| 完成的合同 |   |   | 500 | -500 |'
- en: When the WIP is positive, it means that we have done more than we invoiced.
    When the WIP is negative, we have invoiced more than we have done.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 当在制品（WIP）为正值时，意味着我们完成的工作量超过了已开具发票的工作量。当在制品（WIP）为负值时，意味着我们开具的发票金额超过了已完成的工作量。
- en: Each company that uses Microsoft Dynamics NAV should make their own decision
    about what WIP method to use. WIP methods can change for each job and even change
    during a job.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 每个使用Microsoft Dynamics NAV的公司都应自行决定使用哪种在制品（WIP）方法。在制品（WIP）方法可以针对每个工作项目变化，甚至在工作过程中变化。
- en: WIP post to general ledger
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在制品过账到总账
- en: Some accountants want to post the WIP amounts to the general ledger. The benefit
    of doing this is to have all the financial information in one place for easier
    reporting.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 一些会计人员希望将在制品金额过账到总账。这样做的好处是将所有财务信息集中在一个地方，以便更容易进行报告。
- en: The G/L Accounts for the WIP posting are set up in the Job Posting Group. When
    posting WIP to the general ledger, there is always a reversal posting. When a
    company does monthly reporting, the WIP is posted on the last day of the month
    and reversed on the first day of the next month.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在制品过账到总账的G/L账户已在工作过账组中设置。当将在制品过账到总账时，总会有一个冲销过账。当公司进行月度报告时，在制品在月底最后一天过账，并在下个月的第一天进行冲销。
- en: Changing jobs
  id: totrans-192
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更改工作
- en: In this chapter, we have used some changes to the Job functionality in order
    to make it work for CRONUS International Ltd. to sell Microsoft Dynamics NAV.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们使用了一些对工作功能性的更改，以便使其适用于CRONUS国际有限公司销售Microsoft Dynamics NAV。
- en: Quantity budgeting
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数量预算
- en: For some companies, it is very important to know the total number of hours required
    for a job and the number of hours used rather than the exact amounts.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 对于一些公司来说，了解一项工作所需的总小时数和使用的小时数比确切的金额更为重要。
- en: 'For this, we have created new flow fields in the **Job Task** table:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 为了这个目的，我们在**工作任务**表中创建了新的流程字段：
- en: '![Quantity budgeting](img/0365EN_08_17.jpg)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![数量预算](img/0365EN_08_17.jpg)'
- en: The flow field definition is quite special.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 流场定义非常特殊。
- en: '[PRE0]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '![Quantity budgeting](img/0365EN_08_18.jpg)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![数量预算](img/0365EN_08_18.jpg)'
- en: The **Totaling** field is for the lines of type **End-Total**. The `ValueIsFilter`
    property ensures that the field will be interpreted as a filter instead of a value.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '**总计**字段用于 **End-Total** 类型的行。`ValueIsFilter` 属性确保该字段将被解释为过滤器而不是值。'
- en: The result is visible in the Job Task page (1002).
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 结果在作业任务页面（1002）中可见。
- en: '![Quantity budgeting](img/0365EN_08_19.jpg)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![数量预算](img/0365EN_08_19.jpg)'
- en: Result of ValueIsFilter property
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: ValueIsFilter 属性的结果
- en: Resource Groups
  id: totrans-205
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 资源组
- en: 'For scheduling, we have implemented the possibility of using Resource Groups
    in the **Job Planning Lines** as well as **Calculations**. This is done by adding
    two new fields, **Add-on Type** and **Add-on No.**:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 对于调度，我们在 **Job Planning Lines** 以及 **Calculations** 中实现了使用资源组的可能性。这是通过添加两个新字段，**Add-on
    Type** 和 **Add-on No.** 来实现的：
- en: '![Resource Groups](img/0365EN_08_20.jpg)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![资源组](img/0365EN_08_20.jpg)'
- en: These fields replace the standard **Type** and **No**. fields on the pages allowing
    users to select these new options. The caption of the new fields matches the replacement
    fields.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 这些字段替换了页面上的标准 **Type** 和 **No**. 字段，使用户可以选择这些新选项。新字段的标题与替换字段相匹配。
- en: '[PRE1]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: In the C/AL code, we can make sure that when users select the values available
    in the standard product, the normal code is executed. If a user selects a Resource
    Group, we execute our own business logic.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 在 C/AL 代码中，我们可以确保当用户选择标准产品中可用的值时，执行正常代码。如果用户选择资源组，我们执行自己的业务逻辑。
- en: To make sure everything works as expected we use the Type `Text` in the background.
    `Line Type` is set to `Schedule` because we do not want to invoice Resource Groups,
    we just want them to be budgeted.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保一切按预期工作，我们在后台使用 `Text` 类型。`Line Type` 设置为 `Schedule`，因为我们不希望对资源组进行开票，我们只想进行预算。
- en: The `Unit Cost` and `Unit Price` are calculated using the Resource Cost and
    Resource Price tables, which support the use of Resource Groups. This is an inheritance
    from the previous Job functionality prior to Version 5.0.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '`Unit Cost` 和 `Unit Price` 是使用支持资源组使用的资源成本和资源价格表计算的，这是从版本 5.0 之前的作业功能继承而来的。'
- en: The page Job Planning List (1007) is changed to show our add-on fields instead
    of the normal fields.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 作业计划列表页面（1007）已更改，以显示我们的附加字段而不是正常字段。
- en: To completely finish this functionality, we would also need to change the reports
    that show the Job Planning Lines and the C/AL code that creates the Job Planning
    Lines when posting a Job Journal Line. This is not done in the example code for
    this chapter.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 要完全完成这个功能，我们还需要更改显示作业计划行和创建作业日记行时创建作业计划行的 C/AL 代码。这在本章的示例代码中没有完成。
- en: Calculations
  id: totrans-215
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 计算
- en: Some companies using the Job functionality have a need for flexible calculations.
    In our example, we use it to calculate the price of a computer system but other
    examples are book publishers or construction companies.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 一些使用作业功能的公司需要灵活的计算。在我们的示例中，我们用它来计算计算机系统的价格，但其他示例还有书籍出版商或建筑公司。
- en: They want to know what it costs to create a product without exactly knowing
    which screws, hinges, or color of chipboard is used. For these companies, we designed
    a simple but effective calculation module.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 他们想知道在不确切知道使用了哪些螺丝、铰链或刨花板颜色的情况下，创建一个产品的成本是多少。对于这些公司，我们设计了一个简单但有效的计算模块。
- en: 'In our database, there are two example calculations: a server, and a desktop
    system.'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的数据库中，有两个示例计算：服务器和台式系统。
- en: '![Calculations](img/0365EN_08_21.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![计算](img/0365EN_08_21.jpg)'
- en: The calculation is designed using a header/line construction with a Number Series
    and a Line Number. The calculation lines are items.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 计算是通过使用编号系列和行号进行标题/行构建设计的。计算行是项目。
- en: When a new calculation is created some lines are automatically inserted. This
    is done in a C/AL function that is called from the `OnInsert` trigger.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建一个新的计算时，一些行会自动插入。这是在 `OnInsert` 触发器中调用的 C/AL 函数中完成的。
- en: The `OnInsert` trigger will also copy the default `Unit Price` for `Hours` from
    our setup table.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '`OnInsert` 触发器还将从我们的设置表中复制 `Hours` 的默认 `Unit Price`。'
- en: '[PRE2]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The `InitLines` function creates a calculation line for each item marked as
    **Calculation Item**. This is a new field that we added to the item table:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '`InitLines` 函数为每个标记为 **Calculation Item** 的项目创建一个计算行。这是一个我们添加到项目表中的新字段：'
- en: '[PRE3]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: In the calculation, we can choose how many we will use from each item and the
    system will calculate the cost and price but also the required number of `Hours`
    that is required. The `Unit Cost` and `Unit Price` are used from the item table.
    `Hours` is calculated from a new field, and we added `Minutes` on the item table
    as well.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 在计算中，我们可以选择从每个项目使用多少，系统将计算成本和价格，同时也会计算所需的`工时`数量。`单位成本`和`单位价格`来自项目表。`工时`是从一个新字段计算得出的，我们在项目表中也添加了`分钟`。
- en: '[PRE4]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: When we now use the `Calculate` function, the system will generate a total `Unit
    Cost`, `Unit Price`, and `Hours` for this product to be created. Flexibility is
    added to the system by allowing users to correct hours and usage with a percentage.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们现在使用`Calculate`函数时，系统将为要创建的此产品生成总`单位成本`、`单位价格`和`工时`。通过允许用户以百分比纠正工时和用量，系统增加了灵活性。
- en: 'The calculation can be used in a Job Planning Line the same way as the Resource
    Groups earlier; the only difference is that we use the G/L Account type in the
    background to invoice a calculation fixed price. Let''s look at the C/AL code
    in the `OnValidate` trigger of the `Add-On No.` field in the Job Planning Line:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 计算可以在与之前资源组相同的方式下用于职位计划行；唯一的区别是我们使用后台的G/L账户类型来开具固定价格的发票。让我们看看职位计划行中`Add-On No.`字段的`OnValidate`触发器中的C/AL代码：
- en: '[PRE5]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: To complete this functionality, we will create a method to use the hours in
    the calculation for the Resource planning. This can be done using Job Planning
    Lines of line type Schedule with no unit cost and unit price.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成这个功能，我们将创建一个方法来使用计算中的工时进行资源规划。这可以通过使用没有单位成本和单位价格的计划类型的职位计划行来完成。
- en: Issue registration
  id: totrans-232
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题登记
- en: For our support team, we have implemented an issue registration solution. This
    allows them to have a simple application where they can register issues for all
    customers and keep track of the status without going in and out of each job.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们的支持团队，我们已经实施了一个问题登记解决方案。这允许他们拥有一个简单的应用程序，他们可以在其中为所有客户登记问题，并跟踪状态，而无需进入和退出每个工作。
- en: '![Issue registration](img/0365EN_08_22.jpg)'
  id: totrans-234
  prefs: []
  type: TYPE_IMG
  zh: '![问题登记](img/0365EN_08_22.jpg)'
- en: The issue registration is a header/line construction with a Number Series and
    a line number. The lines can be used to phrase questions and answers.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 问题登记是一个带有数字序列和行号的标题/行构造。这些行可以用来表述问题和答案。
- en: 'When a support engineer creates a new issue, the system will create the Job
    Task automatically. Let''s have a look at the C/AL code that does that:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 当支持工程师创建一个新的问题时，系统将自动创建职位任务。让我们看看执行此操作的C/AL代码：
- en: '[PRE6]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The system searches for the last `Job Task` of the type `Posting` in the Job.
    If that cannot be found, it searches for the last `Begin-Total` line.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 系统在职位中搜索最后一条类型的`Job Task`为`Posting`的任务。如果找不到，它将搜索最后的`Begin-Total`行。
- en: Assuming this line exists, we create a new `Job Task` line using the `INCSTR`
    function to increment the number. The description is copied to the `Job Task`.
    The support engineers can now register their hours on this `Job Task`.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 假设这一行存在，我们使用`INCSTR`函数来增加数字，创建一个新的`Job Task`行。描述被复制到`Job Task`中。支持工程师现在可以在这个`Job
    Task`上登记他们的工时。
- en: This piece of C/AL code is very simple but shows how effective a small solution
    can be without even touching any of the standard Microsoft Dynamics NAV objects.
    This is a very safe way of developing.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 这段C/AL代码非常简单，但展示了即使不触及任何标准Microsoft Dynamics NAV对象，一个小型解决方案也能多么有效。这是一种非常安全的发展方式。
- en: Summary
  id: totrans-241
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we have learned how to implement the Job functionality of Microsoft
    Dynamics NAV. We also discussed different strategies of setting up Jobs and Job
    Tasks.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了如何实现Microsoft Dynamics NAV的职位功能。我们还讨论了设置职位和职位任务的不同的策略。
- en: We created several examples with different invoicing methods using the Job Planning
    Lines in a creative way. When purchasing items for jobs, the items are not used
    for costing but in the work in progress calculation we discussed in detail.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 我们以创造性的方式使用职位计划行创建了几个不同的发票方法示例。在为工作购买物品时，这些物品不用于成本计算，但在我们详细讨论的进行中工作计算中。
- en: Invoicing is done automatically when everything is done as it should be done.
    Lastly, we designed some small enhancements for the Job module without doing big
    changes in the standard application. This was the last chapter about the functionality
    of Microsoft Dynamics NAV. We have discussed all possibilities of the application
    and how they should be changed without risking or breaking anything.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 当一切按预期完成时，发票会自动生成。最后，我们在不改变标准应用程序的前提下，为工作模块设计了一些小改进。这是关于微软Dynamics NAV功能性的最后一章。我们已经讨论了应用程序的所有可能性以及如何在不冒风险或破坏任何东西的情况下进行更改。
- en: In the next chapter, we will look at how Microsoft Dynamics NAV can interface
    with other applications.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将探讨微软Dynamics NAV如何与其他应用程序进行接口。
