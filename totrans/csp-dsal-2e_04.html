<html><head></head><body>
<div id="_idContainer040">
<h1 class="chapter-number" id="_idParaDest-80"><a id="_idTextAnchor129"/><span class="koboSpan" id="kobo.1.1">4</span></h1>
<h1 id="_idParaDest-81"><a id="_idTextAnchor130"/><span class="koboSpan" id="kobo.2.1">Variants of Lists</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the previous chapter, you learned about arrays and their types. </span><span class="koboSpan" id="kobo.3.2">Of course, an array is not the only way of storing data. </span><span class="koboSpan" id="kobo.3.3">Another popular and even more powerful group of data structures contains </span><a id="_idIndexMarker356"/><span class="koboSpan" id="kobo.4.1">various variants of </span><strong class="bold"><span class="koboSpan" id="kobo.5.1">lists</span></strong><span class="koboSpan" id="kobo.6.1">. </span><span class="koboSpan" id="kobo.6.2">In this chapter, you will see such data structures in action, together with illustrations, explanations, </span><span class="No-Break"><span class="koboSpan" id="kobo.7.1">and descriptions.</span></span></p>
<p><span class="koboSpan" id="kobo.8.1">First, you will see a </span><strong class="bold"><span class="koboSpan" id="kobo.9.1">simple list</span></strong><span class="koboSpan" id="kobo.10.1"> as an array list and a generic list, in which you can easily add and remove elements according to your needs. </span><span class="koboSpan" id="kobo.10.2">Then, you will get to know </span><strong class="bold"><span class="koboSpan" id="kobo.11.1">sorted lists</span></strong><span class="koboSpan" id="kobo.12.1">, which keep an order of elements. </span><span class="koboSpan" id="kobo.12.2">Next, you will learn about four variants of the </span><strong class="bold"><span class="koboSpan" id="kobo.13.1">linked list</span></strong><span class="koboSpan" id="kobo.14.1">, namely a singly linked list, a doubly linked list, a circular singly linked list, and a circular doubly linked list. </span><span class="koboSpan" id="kobo.14.2">Finally, you will familiarize yourself with three list-related interfaces that you can use while developing applications. </span><span class="koboSpan" id="kobo.14.3">Does this sound a bit complicated? </span><span class="koboSpan" id="kobo.14.4">If so, don’t worry. </span><span class="koboSpan" id="kobo.14.5">You will be </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">guided throughout.</span></span></p>
<p><span class="koboSpan" id="kobo.16.1">We will cover the following topics in </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">this chapter:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.18.1">Simple lists</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.19.1">Sorted lists</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.20.1">Linked lists</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.21.1">List-related interfaces</span></span><a id="_idTextAnchor131"/></li>
</ul>
<h1 id="_idParaDest-82"><a id="_idTextAnchor132"/><span class="koboSpan" id="kobo.22.1">Simple lists</span></h1>
<p><span class="koboSpan" id="kobo.23.1">Arrays are really useful data structures and they are applied in many algorithms. </span><span class="koboSpan" id="kobo.23.2">However, in some cases, their application could be complicated due to their nature, which does not </span><a id="_idIndexMarker357"/><span class="koboSpan" id="kobo.24.1">allow you to increase or decrease the length of the already-created array. </span><span class="koboSpan" id="kobo.24.2">What should you do if you do not know the total number of elements to store in the collection? </span><span class="koboSpan" id="kobo.24.3">Do you need to create a very big array and just not use unnecessary elements? </span><span class="koboSpan" id="kobo.24.4">Such a solution does not sound good, does it? </span><span class="koboSpan" id="kobo.24.5">A much better approach is to use a data structure that makes it possible to dynamically increase and decrease the size of the collection </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">if necessary.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.26.1">Imagine a simple list</span></p>
<p class="callout"><span class="koboSpan" id="kobo.27.1">If you want to better visualize a simple list and distinguish it from an array, close your eyes for a moment and try to think back to when you were just a few years old and Christmas was </span><a id="_idIndexMarker358"/><span class="koboSpan" id="kobo.28.1">approaching. </span><span class="koboSpan" id="kobo.28.2">You and your family were preparing a chain to hang on the Christmas tree. </span><span class="koboSpan" id="kobo.28.3">You took another piece of paper, passed it through the last piece of the chain, and glued the new piece of the chain together. </span><span class="koboSpan" id="kobo.28.4">In this way, your chain grew by another element, and you could add more and more elements to the chain, basically endlessly. </span><span class="koboSpan" id="kobo.28.5">Well, maybe the limitation was the amount of paper and glue or your tiredness. </span><span class="koboSpan" id="kobo.28.6">A list works somewhat similarly, where you can easily add new elements. </span><span class="koboSpan" id="kobo.28.7">You can also remove them, just like you can remove a piece of chain and then glue it back together and you can still hang it on your beautiful </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">Christmas tre</span><a id="_idTextAnchor133"/><a id="_idTextAnchor134"/><span class="koboSpan" id="kobo.30.1">e!</span></span></p>
<h2 id="_idParaDest-83"><a id="_idTextAnchor135"/><span class="koboSpan" id="kobo.31.1">Array lists</span></h2>
<p><span class="koboSpan" id="kobo.32.1">The first data </span><a id="_idIndexMarker359"/><span class="koboSpan" id="kobo.33.1">structure that allows you to </span><strong class="bold"><span class="koboSpan" id="kobo.34.1">dynamically increase or decrease its size</span></strong><span class="koboSpan" id="kobo.35.1"> is the </span><strong class="bold"><span class="koboSpan" id="kobo.36.1">array list</span></strong><span class="koboSpan" id="kobo.37.1">. </span><span class="koboSpan" id="kobo.37.2">It is represented by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.38.1">ArrayList</span></strong><span class="koboSpan" id="kobo.39.1"> class from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.40.1">System.Collections</span></strong><span class="koboSpan" id="kobo.41.1"> namespace. </span><span class="koboSpan" id="kobo.41.2">You can use this class to store big collections </span><a id="_idIndexMarker360"/><span class="koboSpan" id="kobo.42.1">of data, to which you can easily add new elements when necessary. </span><span class="koboSpan" id="kobo.42.2">Of course, you can also remove them, count items, and find an index of a particular value stored within the array list. </span><span class="koboSpan" id="kobo.42.3">How can you do this? </span><span class="koboSpan" id="kobo.42.4">Let’s take a look at the </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.44.1">
using System.Collections;
</span><strong class="bold"><span class="koboSpan" id="kobo.45.1">ArrayList</span></strong><span class="koboSpan" id="kobo.46.1"> arrayList = </span><strong class="bold"><span class="koboSpan" id="kobo.47.1">new() { 5 }</span></strong><span class="koboSpan" id="kobo.48.1">;
arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.49.1">Add</span></strong><span class="koboSpan" id="kobo.50.1">(6);
arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.51.1">AddRange</span></strong><span class="koboSpan" id="kobo.52.1">(new int[] { -7, 8 });
arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.53.1">AddRange</span></strong><span class="koboSpan" id="kobo.54.1">(new object[] { "Marcin", "Kate" });
arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.55.1">Insert</span></strong><span class="koboSpan" id="kobo.56.1">(5, 7.8);</span></pre> <p><span class="koboSpan" id="kobo.57.1">In the first line, a new instance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.58.1">ArrayList</span></strong><span class="koboSpan" id="kobo.59.1"> class is created and </span><strong class="source-inline"><span class="koboSpan" id="kobo.60.1">5</span></strong><span class="koboSpan" id="kobo.61.1"> is added as the first element. </span><span class="koboSpan" id="kobo.61.2">This can be simplified, as </span><span class="No-Break"><span class="koboSpan" id="kobo.62.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.63.1">
ArrayList arrayList = </span><strong class="bold"><span class="koboSpan" id="kobo.64.1">[5]</span></strong><span class="koboSpan" id="kobo.65.1">;</span></pre> <p><span class="koboSpan" id="kobo.66.1">Then, you use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.67.1">Add</span></strong><span class="koboSpan" id="kobo.68.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.69.1">AddRange</span></strong><span class="koboSpan" id="kobo.70.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.71.1">Insert</span></strong><span class="koboSpan" id="kobo.72.1"> methods to add new elements to the array list. </span><span class="koboSpan" id="kobo.72.2">The difference between them is </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.74.1">Add</span></strong><span class="koboSpan" id="kobo.75.1"> adds a new item at the end of </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">AddRange</span></strong><span class="koboSpan" id="kobo.78.1"> adds a collection of elements at the end of the </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">array list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.80.1">Insert</span></strong><span class="koboSpan" id="kobo.81.1"> places an element in a specified location within </span><span class="No-Break"><span class="koboSpan" id="kobo.82.1">the collection</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.83.1">When the </span><a id="_idIndexMarker361"/><span class="koboSpan" id="kobo.84.1">preceding code is executed, the array list contains the following elements: </span><strong class="source-inline"><span class="koboSpan" id="kobo.85.1">5</span></strong><span class="koboSpan" id="kobo.86.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.87.1">6</span></strong><span class="koboSpan" id="kobo.88.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.89.1">-7</span></strong><span class="koboSpan" id="kobo.90.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.91.1">8</span></strong><span class="koboSpan" id="kobo.92.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.93.1">"Marcin"</span></strong><span class="koboSpan" id="kobo.94.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.95.1">7.8</span></strong><span class="koboSpan" id="kobo.96.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.97.1">"Kate"</span></strong><span class="koboSpan" id="kobo.98.1">. </span><span class="koboSpan" id="kobo.98.2">Please keep in mind that all the </span><a id="_idIndexMarker362"/><span class="koboSpan" id="kobo.99.1">items stored within the array list are of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.100.1">object</span></strong><span class="koboSpan" id="kobo.101.1"> type. </span><span class="koboSpan" id="kobo.101.2">Thus, you can place various types of data in the same collection at the </span><span class="No-Break"><span class="koboSpan" id="kobo.102.1">same time.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.103.1">Do you need to specify a type?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.104.1">Using </span><strong class="source-inline"><span class="koboSpan" id="kobo.105.1">object</span></strong><span class="koboSpan" id="kobo.106.1"> instead of a particular type is not always a good idea. </span><span class="koboSpan" id="kobo.106.2">So, if you want to specify a type of each element stored within the list, you can use the generic </span><strong class="source-inline"><span class="koboSpan" id="kobo.107.1">List</span></strong><span class="koboSpan" id="kobo.108.1"> class, which will be described just after </span><strong class="source-inline"><span class="koboSpan" id="kobo.109.1">ArrayList</span></strong><span class="koboSpan" id="kobo.110.1">. </span><span class="koboSpan" id="kobo.110.2">I encourage you to use a strongly typed version of a collection </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">whenever possible.</span></span></p>
<p><span class="koboSpan" id="kobo.112.1">It is worth mentioning that you can easily access a particular element within the array list using an index, as shown in the following two lines </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">of code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.114.1">
object first = arrayList</span><strong class="bold"><span class="koboSpan" id="kobo.115.1">[0]</span></strong><span class="koboSpan" id="kobo.116.1">!;
int third = (int)arrayList</span><strong class="bold"><span class="koboSpan" id="kobo.117.1">[2]</span></strong><span class="koboSpan" id="kobo.118.1">!;</span></pre> <p><span class="koboSpan" id="kobo.119.1">Let’s take a look at casting to </span><strong class="source-inline"><span class="koboSpan" id="kobo.120.1">int</span></strong><span class="koboSpan" id="kobo.121.1"> in the second line. </span><span class="koboSpan" id="kobo.121.2">Such casting is necessary because the array list stores </span><strong class="source-inline"><span class="koboSpan" id="kobo.122.1">object</span></strong><span class="koboSpan" id="kobo.123.1"> values. </span><span class="koboSpan" id="kobo.123.2">As in the case of arrays, the zero-based indices are used while accessing particular elements within the collection. </span><span class="koboSpan" id="kobo.123.3">When you run the preceding lines of code, </span><strong class="source-inline"><span class="koboSpan" id="kobo.124.1">first</span></strong><span class="koboSpan" id="kobo.125.1"> will be equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.126.1">5</span></strong><span class="koboSpan" id="kobo.127.1">, while </span><strong class="source-inline"><span class="koboSpan" id="kobo.128.1">third</span></strong><span class="koboSpan" id="kobo.129.1"> will be equal </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.131.1">-7</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.133.1">Of course, you can use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.134.1">foreach</span></strong><span class="koboSpan" id="kobo.135.1"> loop to iterate through all items, </span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">as follows:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.137.1">foreach</span></strong><span class="koboSpan" id="kobo.138.1"> (object element in arrayList)
{
     Console.WriteLine(element);
}</span></pre> <p><span class="koboSpan" id="kobo.139.1">That’s not all – the </span><strong class="source-inline"><span class="koboSpan" id="kobo.140.1">ArrayList</span></strong><span class="koboSpan" id="kobo.141.1"> class has a set of properties and methods that you can use while developing applications utilizing the aforementioned data structure. </span><span class="koboSpan" id="kobo.141.2">To start with, let’s take a look at the </span><strong class="source-inline"><span class="koboSpan" id="kobo.142.1">Count</span></strong><span class="koboSpan" id="kobo.143.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.144.1">Capacity</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.145.1"> properties:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.146.1">
int count = arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.147.1">Count</span></strong><span class="koboSpan" id="kobo.148.1">;
int capacity = arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.149.1">Capacity</span></strong><span class="koboSpan" id="kobo.150.1">;</span></pre> <p><span class="koboSpan" id="kobo.151.1">The first property (</span><strong class="source-inline"><span class="koboSpan" id="kobo.152.1">Count</span></strong><span class="koboSpan" id="kobo.153.1">) returns the number of elements stored currently in the array list, while the other property (</span><strong class="source-inline"><span class="koboSpan" id="kobo.154.1">Capacity</span></strong><span class="koboSpan" id="kobo.155.1">) indicates how many elements can be stored within it. </span><span class="koboSpan" id="kobo.155.2">If you </span><a id="_idIndexMarker363"/><span class="koboSpan" id="kobo.156.1">check the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.157.1">Capacity</span></strong><span class="koboSpan" id="kobo.158.1"> property after adding </span><a id="_idIndexMarker364"/><span class="koboSpan" id="kobo.159.1">new elements to the array list, you will see that this value is automatically increased to prepare a place for new items. </span><span class="koboSpan" id="kobo.159.2">This is shown in the following figure, which presents the difference between </span><strong class="source-inline"><span class="koboSpan" id="kobo.160.1">Count</span></strong><span class="koboSpan" id="kobo.161.1"> (marked as </span><strong class="source-inline"><span class="koboSpan" id="kobo.162.1">A</span></strong><span class="koboSpan" id="kobo.163.1">) and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.164.1">Capacity</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.165.1"> (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">B</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.167.1">):</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer031">
<span class="koboSpan" id="kobo.168.1"><img alt="Figure 4.1 – The difference between Count and Capacity" src="image/B18069_04_1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.169.1">Figure 4.1 – The difference between Count and Capacity</span></p>
<p><span class="koboSpan" id="kobo.170.1">The next common and important task is checking whether the array list contains an element with a particular value. </span><span class="koboSpan" id="kobo.170.2">You can perform this operation by calling the </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">Contains</span></strong><span class="koboSpan" id="kobo.172.1"> method, as shown in the following line </span><span class="No-Break"><span class="koboSpan" id="kobo.173.1">of code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.174.1">
bool containsMarcin = arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.175.1">Contains</span></strong><span class="koboSpan" id="kobo.176.1">("Marcin");</span></pre> <p><span class="koboSpan" id="kobo.177.1">If the specified value is found in the array list, </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">true</span></strong><span class="koboSpan" id="kobo.179.1"> is returned. </span><span class="koboSpan" id="kobo.179.2">Otherwise, </span><strong class="source-inline"><span class="koboSpan" id="kobo.180.1">false</span></strong><span class="koboSpan" id="kobo.181.1"> is returned. </span><span class="koboSpan" id="kobo.181.2">But how can you find an index of this element? </span><span class="koboSpan" id="kobo.181.3">To do so, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.182.1">IndexOf</span></strong><span class="koboSpan" id="kobo.183.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.184.1">LastIndexOf</span></strong><span class="koboSpan" id="kobo.185.1"> method, as shown in the following line </span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">of code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.187.1">
int minusIndex = arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.188.1">IndexOf</span></strong><span class="koboSpan" id="kobo.189.1">(-7);</span></pre> <p><span class="koboSpan" id="kobo.190.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.191.1">IndexOf</span></strong><span class="koboSpan" id="kobo.192.1"> method returns an index of the first occurrence of the element in the array list, while </span><strong class="source-inline"><span class="koboSpan" id="kobo.193.1">LastIndexOf</span></strong><span class="koboSpan" id="kobo.194.1"> returns an index of the last occurrence. </span><span class="koboSpan" id="kobo.194.2">If a value is not found, </span><strong class="source-inline"><span class="koboSpan" id="kobo.195.1">-1</span></strong><span class="koboSpan" id="kobo.196.1"> is returned by the methods. </span><span class="koboSpan" id="kobo.196.2">Thus, you can use </span><strong class="source-inline"><span class="koboSpan" id="kobo.197.1">IndexOf</span></strong><span class="koboSpan" id="kobo.198.1"> to check whether the array list contains a given element. </span><span class="koboSpan" id="kobo.198.2">If the result is smaller than zero, this means that the element is </span><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.199.1">not available. </span><span class="koboSpan" id="kobo.199.2">On the other hand, if the result is greater than or equal to zero, it indicates that the item is found, as presented in the </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">following line:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.201.1">
bool containsAnn = arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.202.1">IndexOf</span></strong><span class="koboSpan" id="kobo.203.1">("Ann") &gt;= 0;</span></pre> <p><span class="koboSpan" id="kobo.204.1">Apart from </span><a id="_idIndexMarker366"/><span class="koboSpan" id="kobo.205.1">adding some items to the array list, you can easily remove the already added elements using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.206.1">Remove</span></strong><span class="koboSpan" id="kobo.207.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">RemoveAt</span></strong><span class="koboSpan" id="kobo.209.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.210.1">RemoveRange</span></strong><span class="koboSpan" id="kobo.211.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.212.1">Clear</span></strong><span class="koboSpan" id="kobo.213.1"> methods, as </span><span class="No-Break"><span class="koboSpan" id="kobo.214.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.215.1">
arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.216.1">Remove</span></strong><span class="koboSpan" id="kobo.217.1">(5);
arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.218.1">RemoveAt</span></strong><span class="koboSpan" id="kobo.219.1">(1);
arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.220.1">RemoveRange</span></strong><span class="koboSpan" id="kobo.221.1">(1, 2);
arrayList.</span><strong class="bold"><span class="koboSpan" id="kobo.222.1">Clear</span></strong><span class="koboSpan" id="kobo.223.1">();</span></pre> <p><span class="koboSpan" id="kobo.224.1">The difference between the mentioned methods is </span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.226.1">Remove</span></strong><span class="koboSpan" id="kobo.227.1"> removes the first occurrence of a </span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">given value</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.229.1">RemoveAt</span></strong><span class="koboSpan" id="kobo.230.1"> removes an item with a </span><span class="No-Break"><span class="koboSpan" id="kobo.231.1">provided index</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.232.1">RemoveRange</span></strong><span class="koboSpan" id="kobo.233.1"> removes a given number of elements starting from </span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">some index</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.235.1">Clear</span></strong><span class="koboSpan" id="kobo.236.1"> removes </span><span class="No-Break"><span class="koboSpan" id="kobo.237.1">all elements</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.238.1">Among other methods, it is worth mentioning </span><strong class="source-inline"><span class="koboSpan" id="kobo.239.1">Reverse</span></strong><span class="koboSpan" id="kobo.240.1">, which reverses the order of the elements within the array list, as well as </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">ToArray</span></strong><span class="koboSpan" id="kobo.242.1">, which returns an array with all items stored in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">ArrayList</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.244.1"> instance.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.245.1">Where can you find more information?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.246.1">You can </span><a id="_idIndexMarker367"/><span class="koboSpan" id="kobo.247.1">find content regarding</span><a id="_idIndexMarker368"/><span class="koboSpan" id="kobo.248.1"> an array list at </span><a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.arraylist"><span class="koboSpan" id="kobo.249.1">https://learn.microsoft.com/en-us/dotnet/api/system.collections.arraylist</span></a><span class="koboSpan" id="kobo.250.1">. </span></p>
<h2 id="_idParaDest-84"><a id="_idTextAnchor136"/><span class="koboSpan" id="kobo.251.1">Generic lists</span></h2>
<p><span class="koboSpan" id="kobo.252.1">As you can see, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.253.1">ArrayList</span></strong><span class="koboSpan" id="kobo.254.1"> class contains a broad range of features, but it has a significant </span><a id="_idIndexMarker369"/><span class="koboSpan" id="kobo.255.1">drawback – that is, it is not a strongly typed list. </span><span class="koboSpan" id="kobo.255.2">If you want to benefit from a strongly typed list, you can use the generic </span><strong class="source-inline"><span class="koboSpan" id="kobo.256.1">List</span></strong><span class="koboSpan" id="kobo.257.1"> class, which represents the </span><a id="_idIndexMarker370"/><span class="koboSpan" id="kobo.258.1">collection whose size can be increased and decreased as necessary. </span><span class="koboSpan" id="kobo.258.2">This class is available in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">System.Collections.Generic</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.260.1"> namespace.</span></span></p>
<p><span class="koboSpan" id="kobo.261.1">The generic </span><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">List</span></strong><span class="koboSpan" id="kobo.263.1"> class contains many properties and methods that are useful while developing applications that store data. </span><span class="koboSpan" id="kobo.263.2">Many members are named the same as in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.264.1">ArrayList</span></strong><span class="koboSpan" id="kobo.265.1"> class. </span><span class="koboSpan" id="kobo.265.2">An example is the following </span><span class="No-Break"><span class="koboSpan" id="kobo.266.1">two properties:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.267.1">Count</span></strong><span class="koboSpan" id="kobo.268.1">, which returns the current number of elements in </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.270.1">Capacity</span></strong><span class="koboSpan" id="kobo.271.1">, which indicates how many elements can be currently stored in </span><span class="No-Break"><span class="koboSpan" id="kobo.272.1">the list</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.273.1">There are also many similar methods, including the </span><span class="No-Break"><span class="koboSpan" id="kobo.274.1">following ones:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.275.1">Add</span></strong><span class="koboSpan" id="kobo.276.1"> adds an item at the end of </span><span class="No-Break"><span class="koboSpan" id="kobo.277.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.278.1">AddRange</span></strong><span class="koboSpan" id="kobo.279.1"> adds a collection of elements at the end of </span><span class="No-Break"><span class="koboSpan" id="kobo.280.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.281.1">Insert</span></strong><span class="koboSpan" id="kobo.282.1"> places an element in a specified location within </span><span class="No-Break"><span class="koboSpan" id="kobo.283.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">InsertRange</span></strong><span class="koboSpan" id="kobo.285.1"> places a collection of items in a specified location in </span><span class="No-Break"><span class="koboSpan" id="kobo.286.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">Contains</span></strong><span class="koboSpan" id="kobo.288.1"> checks whether the list contains a </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">given element</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">IndexOf</span></strong><span class="koboSpan" id="kobo.291.1"> returns an index of the first occurrence of a </span><span class="No-Break"><span class="koboSpan" id="kobo.292.1">given item</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.293.1">LastIndexOf</span></strong><span class="koboSpan" id="kobo.294.1"> returns an index of the last occurrence of a </span><span class="No-Break"><span class="koboSpan" id="kobo.295.1">given item</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.296.1">Remove</span></strong><span class="koboSpan" id="kobo.297.1"> removes the first occurrence of a </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">given value</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.299.1">RemoveAt</span></strong><span class="koboSpan" id="kobo.300.1"> removes an item with a </span><span class="No-Break"><span class="koboSpan" id="kobo.301.1">provided index</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.302.1">RemoveRange</span></strong><span class="koboSpan" id="kobo.303.1"> removes a given number of elements starting from </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">some index</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.305.1">Clear</span></strong><span class="koboSpan" id="kobo.306.1"> removes all elements from </span><span class="No-Break"><span class="koboSpan" id="kobo.307.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.308.1">Reverse</span></strong><span class="koboSpan" id="kobo.309.1"> reverses the order of items within </span><span class="No-Break"><span class="koboSpan" id="kobo.310.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">ToArray</span></strong><span class="koboSpan" id="kobo.312.1"> returns an array with all items stored in </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">the list</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.314.1">You can get a particular element from the list using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.315.1">[]</span></strong><span class="koboSpan" id="kobo.316.1"> operator with </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">an index.</span></span></p>
<p><span class="koboSpan" id="kobo.318.1">Apart from </span><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.319.1">the already-described features, you can use a comprehensive </span><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.320.1">set of extension methods from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">System.Linq</span></strong><span class="koboSpan" id="kobo.322.1"> namespace. </span><span class="koboSpan" id="kobo.322.2">Some of them are </span><span class="No-Break"><span class="koboSpan" id="kobo.323.1">as follows:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.324.1">Min</span></strong><span class="koboSpan" id="kobo.325.1"> finds the minimum value in </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">Max</span></strong><span class="koboSpan" id="kobo.328.1"> finds the maximum value in </span><span class="No-Break"><span class="koboSpan" id="kobo.329.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.330.1">Sum</span></strong><span class="koboSpan" id="kobo.331.1"> returns a sum of all elements in </span><span class="No-Break"><span class="koboSpan" id="kobo.332.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.333.1">Average</span></strong><span class="koboSpan" id="kobo.334.1"> calculates the average value of elements in </span><span class="No-Break"><span class="koboSpan" id="kobo.335.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.336.1">All</span></strong><span class="koboSpan" id="kobo.337.1"> checks whether all elements in the list satisfy </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">a condition</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">Any</span></strong><span class="koboSpan" id="kobo.340.1"> verifies whether at least one element in the list satisfies </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">a condition</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.342.1">ElementAtOrDefault</span></strong><span class="koboSpan" id="kobo.343.1"> returns an element at a given index in the collection or a default value if the index is out </span><span class="No-Break"><span class="koboSpan" id="kobo.344.1">of bounds</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.345.1">Distinct</span></strong><span class="koboSpan" id="kobo.346.1"> returns a collection with only unique elements, namely </span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">without duplicates</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.348.1">OrderBy</span></strong><span class="koboSpan" id="kobo.349.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.350.1">OrderByDescending</span></strong><span class="koboSpan" id="kobo.351.1"> order all elements in the list in ascending or descending order, as well as return the </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">ordered collection</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.353.1">Skip</span></strong><span class="koboSpan" id="kobo.354.1"> returns a collection bypassing a given number of elements in </span><span class="No-Break"><span class="koboSpan" id="kobo.355.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.356.1">Take</span></strong><span class="koboSpan" id="kobo.357.1"> returns a given number of elements from </span><span class="No-Break"><span class="koboSpan" id="kobo.358.1">the list</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.359.1">After this theoretical introduction, let’s see such methods in action! </span><span class="koboSpan" id="kobo.359.2">First, let’s get the minimum, maximum, sum, and average values from the list, as </span><span class="No-Break"><span class="koboSpan" id="kobo.360.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.361.1">
List&lt;int&gt; list = [6, 90, -20, 0, 4, 1, 8, -20, 41];
int min = list.</span><strong class="bold"><span class="koboSpan" id="kobo.362.1">Min</span></strong><span class="koboSpan" id="kobo.363.1">();
int max = list.</span><strong class="bold"><span class="koboSpan" id="kobo.364.1">Max</span></strong><span class="koboSpan" id="kobo.365.1">();
int sum = list.</span><strong class="bold"><span class="koboSpan" id="kobo.366.1">Sum</span></strong><span class="koboSpan" id="kobo.367.1">();
double avg = list.</span><strong class="bold"><span class="koboSpan" id="kobo.368.1">Average</span></strong><span class="koboSpan" id="kobo.369.1">();</span></pre> <p><span class="koboSpan" id="kobo.370.1">A value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.371.1">min</span></strong><span class="koboSpan" id="kobo.372.1"> is equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.373.1">-20</span></strong><span class="koboSpan" id="kobo.374.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.375.1">max</span></strong><span class="koboSpan" id="kobo.376.1"> is equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.377.1">90</span></strong><span class="koboSpan" id="kobo.378.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.379.1">sum</span></strong><span class="koboSpan" id="kobo.380.1"> is equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">110</span></strong><span class="koboSpan" id="kobo.382.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.383.1">avg</span></strong><span class="koboSpan" id="kobo.384.1"> is </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">near </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.386.1">12.22</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.388.1">Now, let’s check out some conditions on the </span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">list elements:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.390.1">
bool allPositive = list.</span><strong class="bold"><span class="koboSpan" id="kobo.391.1">All</span></strong><span class="koboSpan" id="kobo.392.1">(x =&gt; x &gt; 0);
bool anyZero = list.</span><strong class="bold"><span class="koboSpan" id="kobo.393.1">Any</span></strong><span class="koboSpan" id="kobo.394.1">(x =&gt; x == 0);</span></pre> <p><span class="koboSpan" id="kobo.395.1">Here, </span><strong class="source-inline"><span class="koboSpan" id="kobo.396.1">allPositive</span></strong><span class="koboSpan" id="kobo.397.1"> is equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">false</span></strong><span class="koboSpan" id="kobo.399.1">, while </span><strong class="source-inline"><span class="koboSpan" id="kobo.400.1">anyZero</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.401.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.402.1">true</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.404.1">The next </span><a id="_idIndexMarker373"/><span class="koboSpan" id="kobo.405.1">part of the code is shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">following block:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.407.1">
int existingElement = list.</span><strong class="bold"><span class="koboSpan" id="kobo.408.1">ElementAtOrDefault</span></strong><span class="koboSpan" id="kobo.409.1">(5);
int nonExistingElement = list.</span><strong class="bold"><span class="koboSpan" id="kobo.410.1">ElementAtOrDefault</span></strong><span class="koboSpan" id="kobo.411.1">(100);</span></pre> <p><span class="koboSpan" id="kobo.412.1">Here, you </span><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.413.1">use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.414.1">ElementAtOrDefault</span></strong><span class="koboSpan" id="kobo.415.1"> method to get a value of the element with an index equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.416.1">5</span></strong><span class="koboSpan" id="kobo.417.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.418.1">100</span></strong><span class="koboSpan" id="kobo.419.1">. </span><span class="koboSpan" id="kobo.419.2">In the first case, </span><strong class="source-inline"><span class="koboSpan" id="kobo.420.1">1</span></strong><span class="koboSpan" id="kobo.421.1"> is returned and stored as a value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">existingElement</span></strong><span class="koboSpan" id="kobo.423.1"> variable. </span><span class="koboSpan" id="kobo.423.2">When you try to get an element with the index equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.424.1">100</span></strong><span class="koboSpan" id="kobo.425.1">, a default value for </span><strong class="source-inline"><span class="koboSpan" id="kobo.426.1">int</span></strong><span class="koboSpan" id="kobo.427.1"> is used instead and returned, </span><span class="No-Break"><span class="koboSpan" id="kobo.428.1">namely </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.430.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.431.1">The next extension method is named </span><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">Distinct</span></strong><span class="koboSpan" id="kobo.433.1"> and can be used </span><span class="No-Break"><span class="koboSpan" id="kobo.434.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.435.1">
List&lt;int&gt; unique = list.</span><strong class="bold"><span class="koboSpan" id="kobo.436.1">Distinct</span></strong><span class="koboSpan" id="kobo.437.1">().ToList();</span></pre> <p><span class="koboSpan" id="kobo.438.1">It returns a unique collection of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.439.1">IEnumerable&lt;int&gt;</span></strong><span class="koboSpan" id="kobo.440.1"> type, which you can convert into </span><strong class="source-inline"><span class="koboSpan" id="kobo.441.1">List&lt;int&gt;</span></strong><span class="koboSpan" id="kobo.442.1"> by calling the </span><strong class="source-inline"><span class="koboSpan" id="kobo.443.1">ToList</span></strong><span class="koboSpan" id="kobo.444.1"> extension method. </span><span class="koboSpan" id="kobo.444.2">The resulting list contains </span><strong class="source-inline"><span class="koboSpan" id="kobo.445.1">6</span></strong><span class="koboSpan" id="kobo.446.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.447.1">90</span></strong><span class="koboSpan" id="kobo.448.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.449.1">-20</span></strong><span class="koboSpan" id="kobo.450.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">0</span></strong><span class="koboSpan" id="kobo.452.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.453.1">4</span></strong><span class="koboSpan" id="kobo.454.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.455.1">1</span></strong><span class="koboSpan" id="kobo.456.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">8</span></strong><span class="koboSpan" id="kobo.458.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.459.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.460.1">41</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.462.1">Let’s order the list using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.463.1">OrderBy</span></strong><span class="koboSpan" id="kobo.464.1"> extension method, </span><span class="No-Break"><span class="koboSpan" id="kobo.465.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.466.1">
List&lt;int&gt; ordered = list.</span><strong class="bold"><span class="koboSpan" id="kobo.467.1">OrderBy</span></strong><span class="koboSpan" id="kobo.468.1">(x =&gt; x).ToList();</span></pre> <p><span class="koboSpan" id="kobo.469.1">The target list consists of </span><strong class="source-inline"><span class="koboSpan" id="kobo.470.1">-20</span></strong><span class="koboSpan" id="kobo.471.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">-20</span></strong><span class="koboSpan" id="kobo.473.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">0</span></strong><span class="koboSpan" id="kobo.475.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.476.1">1</span></strong><span class="koboSpan" id="kobo.477.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.478.1">4</span></strong><span class="koboSpan" id="kobo.479.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.480.1">6</span></strong><span class="koboSpan" id="kobo.481.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.482.1">8</span></strong><span class="koboSpan" id="kobo.483.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.484.1">41</span></strong><span class="koboSpan" id="kobo.485.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.486.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.487.1">90</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.488.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.489.1">Another interesting group of methods consists of </span><strong class="source-inline"><span class="koboSpan" id="kobo.490.1">Skip</span></strong><span class="koboSpan" id="kobo.491.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.492.1">Take</span></strong><span class="koboSpan" id="kobo.493.1">, as </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.495.1">
List&lt;int&gt; skipped = list.</span><strong class="bold"><span class="koboSpan" id="kobo.496.1">Skip</span></strong><span class="koboSpan" id="kobo.497.1">(4).ToList();
List&lt;int&gt; taken = list.</span><strong class="bold"><span class="koboSpan" id="kobo.498.1">Take</span></strong><span class="koboSpan" id="kobo.499.1">(3).ToList();</span></pre> <p><span class="koboSpan" id="kobo.500.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.501.1">Skip</span></strong><span class="koboSpan" id="kobo.502.1"> method skips </span><strong class="source-inline"><span class="koboSpan" id="kobo.503.1">4</span></strong><span class="koboSpan" id="kobo.504.1"> elements and returns the collection with the remaining elements, namely </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">4</span></strong><span class="koboSpan" id="kobo.506.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.507.1">1</span></strong><span class="koboSpan" id="kobo.508.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.509.1">8</span></strong><span class="koboSpan" id="kobo.510.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.511.1">-20</span></strong><span class="koboSpan" id="kobo.512.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.514.1">41</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.516.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.517.1">Take</span></strong><span class="koboSpan" id="kobo.518.1"> method simply takes </span><strong class="source-inline"><span class="koboSpan" id="kobo.519.1">3</span></strong><span class="koboSpan" id="kobo.520.1"> first elements – that is, </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">6</span></strong><span class="koboSpan" id="kobo.522.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.523.1">90</span></strong><span class="koboSpan" id="kobo.524.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.525.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">-20</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.527.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.528.1">Do you have any idea how to combine </span><strong class="source-inline"><span class="koboSpan" id="kobo.529.1">Skip</span></strong><span class="koboSpan" id="kobo.530.1"> with </span><strong class="source-inline"><span class="koboSpan" id="kobo.531.1">Take</span></strong><span class="koboSpan" id="kobo.532.1"> in some real-world examples? </span><span class="koboSpan" id="kobo.532.2">If not, just think </span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.533.1">about the </span><strong class="bold"><span class="koboSpan" id="kobo.534.1">pagination</span></strong><span class="koboSpan" id="kobo.535.1"> mechanism, which you can find on many websites. </span><span class="koboSpan" id="kobo.535.2">It allows you to navigate between pages of data, where each page contains a specified number of elements. </span><span class="koboSpan" id="kobo.535.3">How you can get such items for a given page? </span><span class="koboSpan" id="kobo.535.4">The answer is </span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.537.1">
int page = 1;
int size = 10;
List&lt;int&gt; items = list
    .</span><strong class="bold"><span class="koboSpan" id="kobo.538.1">Skip</span></strong><span class="koboSpan" id="kobo.539.1">((page - 1) * size)
    .</span><strong class="bold"><span class="koboSpan" id="kobo.540.1">Take</span></strong><span class="koboSpan" id="kobo.541.1">(size)
    .ToList();</span></pre> <p><span class="koboSpan" id="kobo.542.1">Of course, these are </span><a id="_idIndexMarker376"/><span class="koboSpan" id="kobo.543.1">not the only features available for developers while creating </span><a id="_idIndexMarker377"/><span class="koboSpan" id="kobo.544.1">applications using generic lists in the C# language. </span><span class="koboSpan" id="kobo.544.2">I strongly encourage you to discover more possibilities on your own. </span><span class="koboSpan" id="kobo.544.3">Next, we’ll look at two examples that show how to use a gene</span><a id="_idTextAnchor137"/><span class="koboSpan" id="kobo.545.1">r</span><a id="_idTextAnchor138"/><span class="koboSpan" id="kobo.546.1">ic list </span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">in practice.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.548.1">Where can you find more information?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.549.1">You can find content regarding a generic list </span><span class="No-Break"><span class="koboSpan" id="kobo.550.1">at </span></span><a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1"><span class="No-Break"><span class="koboSpan" id="kobo.551.1">https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.552.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.553.1">Example – average value</span></h3>
<p><span class="koboSpan" id="kobo.554.1">The first example utilizes the generic </span><strong class="source-inline"><span class="koboSpan" id="kobo.555.1">List</span></strong><span class="koboSpan" id="kobo.556.1"> class to store floating-point values (of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.557.1">double</span></strong><span class="koboSpan" id="kobo.558.1"> type) entered by the user. </span><span class="koboSpan" id="kobo.558.2">After typing a number, the average value is calculated and </span><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.559.1">presented in the console. </span><span class="koboSpan" id="kobo.559.2">The program stops the </span><a id="_idIndexMarker379"/><span class="koboSpan" id="kobo.560.1">operation when an incorrect value is entered. </span><span class="koboSpan" id="kobo.560.2">The code is </span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">as follows:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.562.1">List&lt;double&gt; num = [];</span></strong><span class="koboSpan" id="kobo.563.1">
do
{
    Console.Write("Enter the number: ");
    string numStr = Console.ReadLine() ?? </span><span class="koboSpan" id="kobo.563.2">string.Empty;
    if (!double.TryParse(numStr, out double n)) { break; }
    </span><strong class="bold"><span class="koboSpan" id="kobo.564.1">num.Add(n);</span></strong><span class="koboSpan" id="kobo.565.1">
    Console.WriteLine($"Average value: {</span><strong class="bold"><span class="koboSpan" id="kobo.566.1">num.Average()</span></strong><span class="koboSpan" id="kobo.567.1">}");
}
while (true);</span></pre> <p><span class="koboSpan" id="kobo.568.1">First, an instance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.569.1">List</span></strong><span class="koboSpan" id="kobo.570.1"> class is created. </span><span class="koboSpan" id="kobo.570.2">Then, within the infinite loop (</span><strong class="source-inline"><span class="koboSpan" id="kobo.571.1">do-while</span></strong><span class="koboSpan" id="kobo.572.1">), the program </span><a id="_idIndexMarker380"/><span class="koboSpan" id="kobo.573.1">waits until the user enters a number. </span><span class="koboSpan" id="kobo.573.2">If it is correct, the entered </span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.574.1">value is added to the list (by calling </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">Add</span></strong><span class="koboSpan" id="kobo.576.1">), and an average value from elements in the list is calculated (by calling </span><strong class="source-inline"><span class="koboSpan" id="kobo.577.1">Average</span></strong><span class="koboSpan" id="kobo.578.1">). </span><span class="koboSpan" id="kobo.578.2">The result is shown in </span><span class="No-Break"><span class="koboSpan" id="kobo.579.1">the console:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.580.1">
Enter the number: 10.5
Average value: 10.5 (...)
Enter the number: 15.5
Average value: 9.375</span></pre> <p><span class="koboSpan" id="kobo.581.1">In this section, you saw how to use a list that stores </span><strong class="source-inline"><span class="koboSpan" id="kobo.582.1">double</span></strong><span class="koboSpan" id="kobo.583.1"> values. </span><span class="koboSpan" id="kobo.583.2">However, can it also store instances of user-defined classes or records? </span><span class="koboSpan" id="kobo.583.3">Of course! </span><span class="koboSpan" id="kobo.583.4">You will see how to achieve this </span><a id="_idTextAnchor139"/><span class="koboSpan" id="kobo.584.1">g</span><a id="_idTextAnchor140"/><span class="koboSpan" id="kobo.585.1">oal in the </span><span class="No-Break"><span class="koboSpan" id="kobo.586.1">next example.</span></span></p>
<h3><span class="koboSpan" id="kobo.587.1">Example – list of people</span></h3>
<p><span class="koboSpan" id="kobo.588.1">This second example shows you how to use a list to create a very simple database of people. </span><span class="koboSpan" id="kobo.588.2">For each, a name, an age, and a country are stored. </span><span class="koboSpan" id="kobo.588.3">When the program is launched, some data </span><a id="_idIndexMarker382"/><span class="koboSpan" id="kobo.589.1">of people are added to the list. </span><span class="koboSpan" id="kobo.589.2">Then, such data is sorted and presented in </span><span class="No-Break"><span class="koboSpan" id="kobo.590.1">the console.</span></span></p>
<p><span class="koboSpan" id="kobo.591.1">Let’s start </span><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.592.1">with the declaration of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.593.1">Person</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.594.1"> record:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.595.1">
public record </span><strong class="bold"><span class="koboSpan" id="kobo.596.1">Person</span></strong><span class="koboSpan" id="kobo.597.1">(string Name, int Age, string Country);</span></pre> <p><span class="koboSpan" id="kobo.598.1">The record contains three properties, namely </span><strong class="source-inline"><span class="koboSpan" id="kobo.599.1">Name</span></strong><span class="koboSpan" id="kobo.600.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.601.1">Age</span></strong><span class="koboSpan" id="kobo.602.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.603.1">Country</span></strong><span class="koboSpan" id="kobo.604.1">, which stores a country code. </span><span class="koboSpan" id="kobo.604.2">In the main part of the code, you create a new instance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.605.1">List</span></strong><span class="koboSpan" id="kobo.606.1"> class and add the data of a few people with different names, ages, and countries, as </span><span class="No-Break"><span class="koboSpan" id="kobo.607.1">shown here:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.608.1">List&lt;Person&gt; people</span></strong><span class="koboSpan" id="kobo.609.1"> =
[
    new("Marcin", 35, "PL"),
    new("Sabine", 25, "DE"),
    new("Mark", 31, "PL")
];</span></pre> <p><span class="koboSpan" id="kobo.610.1">In the next line, you sort the list by names of people in </span><span class="No-Break"><span class="koboSpan" id="kobo.611.1">ascending order:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.612.1">
List&lt;Person&gt; r = people.</span><strong class="bold"><span class="koboSpan" id="kobo.613.1">OrderBy</span></strong><span class="koboSpan" id="kobo.614.1">(p =&gt; p.Name).ToList();</span></pre> <p><span class="koboSpan" id="kobo.615.1">This line </span><a id="_idIndexMarker384"/><span class="koboSpan" id="kobo.616.1">can be simplified using the collection expression, </span><span class="No-Break"><span class="koboSpan" id="kobo.617.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.618.1">
List&lt;Person&gt; r = </span><strong class="bold"><span class="koboSpan" id="kobo.619.1">[..</span></strong><span class="koboSpan" id="kobo.620.1"> people.OrderBy(p =&gt; p.Name)</span><strong class="bold"><span class="koboSpan" id="kobo.621.1">]</span></strong><span class="koboSpan" id="kobo.622.1">;</span></pre> <p><span class="koboSpan" id="kobo.623.1">Then, you </span><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.624.1">iterate through all the results using a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.625.1">foreach</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.626.1"> loop:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.627.1">foreach (Person p in r)</span></strong><span class="koboSpan" id="kobo.628.1">
{
    string line = $"{p.Name} ({p.Age}) from {p.Country}.";
    Console.WriteLine(line);
}</span></pre> <p><span class="koboSpan" id="kobo.629.1">After running the program, the following results will </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">be presented:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.631.1">
Marcin (35) from PL.
</span><span class="koboSpan" id="kobo.631.2">Mark (31) from PL.
</span><span class="koboSpan" id="kobo.631.3">Sabine (25) from DE.</span></pre> <p><span class="koboSpan" id="kobo.632.1">That’s all! </span><span class="koboSpan" id="kobo.632.2">Now, let’s talk a bit more about the LINQ expressions, which can be used not only to order elements but also to filter items based on the provided criteria, and </span><span class="No-Break"><span class="koboSpan" id="kobo.633.1">even more.</span></span></p>
<p><span class="koboSpan" id="kobo.634.1">As an example, let’s take </span><a id="_idIndexMarker386"/><span class="koboSpan" id="kobo.635.1">a look at the following query, which is using the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.636.1">method syntax</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.637.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.638.1">
List&lt;string&gt; names = people
    .</span><strong class="bold"><span class="koboSpan" id="kobo.639.1">Where</span></strong><span class="koboSpan" id="kobo.640.1">(p =&gt; p.Age &lt;= 30)
    .</span><strong class="bold"><span class="koboSpan" id="kobo.641.1">OrderBy</span></strong><span class="koboSpan" id="kobo.642.1">(p =&gt; p.Name)
    .</span><strong class="bold"><span class="koboSpan" id="kobo.643.1">Select</span></strong><span class="koboSpan" id="kobo.644.1">(p =&gt; p.Name)
    .</span><strong class="bold"><span class="koboSpan" id="kobo.645.1">ToList</span></strong><span class="koboSpan" id="kobo.646.1">();</span></pre> <p><span class="koboSpan" id="kobo.647.1">It selects the names (the </span><strong class="source-inline"><span class="koboSpan" id="kobo.648.1">Select</span></strong><span class="koboSpan" id="kobo.649.1"> clause) of all people whose age is lower than or equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.650.1">30</span></strong><span class="koboSpan" id="kobo.651.1"> years (the </span><strong class="source-inline"><span class="koboSpan" id="kobo.652.1">Where</span></strong><span class="koboSpan" id="kobo.653.1"> clause), ordered by names (the </span><strong class="source-inline"><span class="koboSpan" id="kobo.654.1">OrderBy</span></strong><span class="koboSpan" id="kobo.655.1"> clause). </span><span class="koboSpan" id="kobo.655.2">The query is then executed and the results are returned as a </span><span class="No-Break"><span class="koboSpan" id="kobo.656.1">list (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">ToList</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.658.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.659.1">The same </span><a id="_idIndexMarker387"/><span class="koboSpan" id="kobo.660.1">task can be accomplished </span><a id="_idIndexMarker388"/><span class="koboSpan" id="kobo.661.1">using the </span><strong class="bold"><span class="koboSpan" id="kobo.662.1">query syntax</span></strong><span class="koboSpan" id="kobo.663.1">, as shown in </span><a id="_idIndexMarker389"/><span class="koboSpan" id="kobo.664.1">the following example, combined with calling the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.665.1">ToList</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.666.1"> method:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.667.1">
List&lt;string&gt; names = (</span><strong class="bold"><span class="koboSpan" id="kobo.668.1">from</span></strong><span class="koboSpan" id="kobo.669.1"> p in people
                      </span><strong class="bold"><span class="koboSpan" id="kobo.670.1">where</span></strong><span class="koboSpan" id="kobo.671.1"> p.Age &lt;= 30
                      </span><strong class="bold"><span class="koboSpan" id="kobo.672.1">orderby</span></strong><span class="koboSpan" id="kobo.673.1"> p.Name
                      </span><strong class="bold"><span class="koboSpan" id="kobo.674.1">select</span></strong><span class="koboSpan" id="kobo.675.1"> p.Name).</span><strong class="bold"><span class="koboSpan" id="kobo.676.1">ToList</span></strong><span class="koboSpan" id="kobo.677.1">(); </span></pre> <p><span class="koboSpan" id="kobo.678.1">You saw how to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.679.1">ArrayList</span></strong><span class="koboSpan" id="kobo.680.1"> class and the generic </span><strong class="source-inline"><span class="koboSpan" id="kobo.681.1">List</span></strong><span class="koboSpan" id="kobo.682.1"> class to store data in collections, the size of which could be dynamically adjusted. </span><span class="koboSpan" id="kobo.682.2">However, this is not the end of list-related topics within this chapter. </span><span class="koboSpan" id="kobo.682.3">Are you ready to get to know another data structure that maintains the elements in the sorted order? </span><span class="koboSpan" id="kobo.682.4">If so, let’s proceed to the next section</span><a id="_idTextAnchor141"/><a id="_idTextAnchor142"/><span class="koboSpan" id="kobo.683.1">, which focuses on </span><span class="No-Break"><span class="koboSpan" id="kobo.684.1">sorted lists.</span></span></p>
<h1 id="_idParaDest-85"><a id="_idTextAnchor143"/><span class="koboSpan" id="kobo.685.1">Sorted lists</span></h1>
<p><span class="koboSpan" id="kobo.686.1">So far, you’ve learned how to store data using simple lists. </span><span class="koboSpan" id="kobo.686.2">However, do you know that you can even </span><a id="_idIndexMarker390"/><span class="koboSpan" id="kobo.687.1">use a data structure that ensures that the elements are sorted all the time? </span><span class="koboSpan" id="kobo.687.2">If not, let’s get to know the </span><strong class="source-inline"><span class="koboSpan" id="kobo.688.1">SortedList</span></strong><span class="koboSpan" id="kobo.689.1"> generic class (from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.690.1">System.Collections.Generic</span></strong><span class="koboSpan" id="kobo.691.1"> namespace), </span><strong class="bold"><span class="koboSpan" id="kobo.692.1">which is a collection of </span></strong><strong class="bold"><span class="koboSpan" id="kobo.693.1">key-value pairs</span></strong><strong class="bold"><span class="koboSpan" id="kobo.694.1">, sorted by keys, without the necessity for you to sort them on your own</span></strong><span class="koboSpan" id="kobo.695.1">. </span><span class="koboSpan" id="kobo.695.2">It’s worth mentioning that all keys must be unique and cannot be equal </span><span class="No-Break"><span class="koboSpan" id="kobo.696.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.697.1">null</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.698.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.699.1">Imagine a sorted list</span></p>
<p class="callout"><span class="koboSpan" id="kobo.700.1">If you want to imagine a sorted list, think about a business holder in which you put business cards that you have received from other people. </span><span class="koboSpan" id="kobo.700.2">Since you like order and want to always be able to quickly find a business card for a specific person, you make sure that they are all arranged in alphabetical order, by last name. </span><span class="koboSpan" id="kobo.700.3">What a terrible waste of time, especially if you have dozens of business cards and suddenly you have to put in a card for Mrs. </span><span class="koboSpan" id="kobo.700.4">Ana Ave. </span><span class="koboSpan" id="kobo.700.5">Oh, no... </span><span class="koboSpan" id="kobo.700.6">almost all the business cards have to be moved. </span><span class="koboSpan" id="kobo.700.7">What can help you at this point is a sorted list! </span><span class="koboSpan" id="kobo.700.8">On its basis, your magic business card holder works, which automatically inserts a new business card into the appropriate place in the business card holder. </span><span class="koboSpan" id="kobo.700.9">Thanks to this, you always have order and you do not have to waste time constantly taking out and inserting business </span><span class="No-Break"><span class="koboSpan" id="kobo.701.1">cards. </span><span class="koboSpan" id="kobo.701.2">Congratulations!</span></span></p>
<p><span class="koboSpan" id="kobo.702.1">You can easily add an element to a sorted list using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.703.1">Add</span></strong><span class="koboSpan" id="kobo.704.1"> method, as well as remove a specified item using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.705.1">Remove</span></strong><span class="koboSpan" id="kobo.706.1"> method. </span><span class="koboSpan" id="kobo.706.2">Among other methods, it is worth noting </span><strong class="source-inline"><span class="koboSpan" id="kobo.707.1">ContainsKey</span></strong><span class="koboSpan" id="kobo.708.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.709.1">ContainsValue</span></strong><span class="koboSpan" id="kobo.710.1"> for checking whether the collection contains an item with a given key or value, as well as </span><strong class="source-inline"><span class="koboSpan" id="kobo.711.1">IndexOfKey</span></strong><span class="koboSpan" id="kobo.712.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.713.1">IndexOfValue</span></strong><span class="koboSpan" id="kobo.714.1"> for returning an index of an element by its key </span><span class="No-Break"><span class="koboSpan" id="kobo.715.1">or value.</span></span></p>
<p><span class="koboSpan" id="kobo.716.1">As a sorted list </span><a id="_idIndexMarker391"/><span class="koboSpan" id="kobo.717.1">stores key-value pairs, you have also access to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.718.1">Keys</span></strong><span class="koboSpan" id="kobo.719.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.720.1">Values</span></strong><span class="koboSpan" id="kobo.721.1"> properties. </span><span class="koboSpan" id="kobo.721.2">Particular keys and values can be easily obtained using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.722.1">[]</span></strong><span class="koboSpan" id="kobo.723.1"> operator together with an index. </span><span class="koboSpan" id="kobo.723.2">As you can see, this data structure is quite similar to the ones that have already been presented. </span><span class="koboSpan" id="kobo.723.3">However, it has some significant differences. </span><span class="koboSpan" id="kobo.723.4">So, let’s take a look at an example that will show you how to use this data structure. </span><span class="koboSpan" id="kobo.723.5">You will also see differences in code compared with th</span><a id="_idTextAnchor144"/><a id="_idTextAnchor145"/><span class="koboSpan" id="kobo.724.1">e previously described </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.725.1">List</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.726.1"> class.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.727.1">Where can you find more information?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.728.1">You can find content regarding a sorted list </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">at </span></span><a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.sortedlist-2"><span class="No-Break"><span class="koboSpan" id="kobo.730.1">https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.sortedlist-2</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.731.1">.</span></span></p>
<h2 id="_idParaDest-86"><a id="_idTextAnchor146"/><span class="koboSpan" id="kobo.732.1">Example – address book</span></h2>
<p><span class="koboSpan" id="kobo.733.1">This example uses the </span><strong class="source-inline"><span class="koboSpan" id="kobo.734.1">SortedList</span></strong><span class="koboSpan" id="kobo.735.1"> class to create a very simple address book, which is sorted by </span><a id="_idIndexMarker392"/><span class="koboSpan" id="kobo.736.1">names of people. </span><span class="koboSpan" id="kobo.736.2">For each person, the following data is stored: </span><strong class="source-inline"><span class="koboSpan" id="kobo.737.1">Name</span></strong><span class="koboSpan" id="kobo.738.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.739.1">Street</span></strong><span class="koboSpan" id="kobo.740.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.741.1">PostalCode</span></strong><span class="koboSpan" id="kobo.742.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.743.1">City</span></strong><span class="koboSpan" id="kobo.744.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.745.1">Country</span></strong><span class="koboSpan" id="kobo.746.1">. </span><span class="koboSpan" id="kobo.746.2">The declaration of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.747.1">Person</span></strong><span class="koboSpan" id="kobo.748.1"> record is shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.749.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.750.1">
public record </span><strong class="bold"><span class="koboSpan" id="kobo.751.1">Person</span></strong><span class="koboSpan" id="kobo.752.1">(
    string Name,
    string Street,
    string PostalCode,
    string City,
    string Country);</span></pre> <p><span class="koboSpan" id="kobo.753.1">In the main part of the code, you create a new instance of </span><strong class="source-inline"><span class="koboSpan" id="kobo.754.1">SortedList</span></strong><span class="koboSpan" id="kobo.755.1">. </span><span class="koboSpan" id="kobo.755.2">You need to specify types for keys and values, namely </span><strong class="source-inline"><span class="koboSpan" id="kobo.756.1">string</span></strong><span class="koboSpan" id="kobo.757.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.758.1">Person</span></strong><span class="koboSpan" id="kobo.759.1">. </span><span class="koboSpan" id="kobo.759.2">Within the following part of the code, you also initialize the sorted list with data for </span><strong class="source-inline"><span class="koboSpan" id="kobo.760.1">Marcin</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.761.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.762.1">Martyna</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.763.1">:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.764.1">SortedList&lt;string, Person&gt;</span></strong><span class="koboSpan" id="kobo.765.1"> people = new()
{
    { "Marcin Jamro", new("Marcin Jamro",
      "Polish Street 1/23", "35-001", "Rzeszow", "PL") },
    { "Martyna Kowalska", new("Martyna Kowalska",
      "World Street 5", "00-123", "Warsaw", "PL") }
};</span></pre> <p><span class="koboSpan" id="kobo.766.1">Then, you can </span><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.767.1">easily add data to the sorted list by calling the </span><strong class="source-inline"><span class="koboSpan" id="kobo.768.1">Add</span></strong><span class="koboSpan" id="kobo.769.1"> method, passing two parameters, namely a key (that is, a name), and a value (that is, an instance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.770.1">Person</span></strong><span class="koboSpan" id="kobo.771.1"> record), as shown in the following code snippet </span><span class="No-Break"><span class="koboSpan" id="kobo.772.1">regarding </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.773.1">Mark</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.774.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.775.1">
people.</span><strong class="bold"><span class="koboSpan" id="kobo.776.1">Add</span></strong><span class="koboSpan" id="kobo.777.1">("Mark Smith", new("Mark Smith",
    "German Street 6", "10000", "Berlin", "DE"));</span></pre> <p><span class="koboSpan" id="kobo.778.1">When all the data is stored within the collection, you can easily iterate through its elements (namely through key-value pairs) using a </span><strong class="source-inline"><span class="koboSpan" id="kobo.779.1">foreach</span></strong><span class="koboSpan" id="kobo.780.1"> loop. </span><span class="koboSpan" id="kobo.780.2">It is worth mentioning that a type of the variable that’s used in the loop is </span><strong class="source-inline"><span class="koboSpan" id="kobo.781.1">KeyValuePair&lt;string, Person&gt;</span></strong><span class="koboSpan" id="kobo.782.1">. </span><span class="koboSpan" id="kobo.782.2">However, you can use a value tuple to get access to a key (</span><strong class="source-inline"><span class="koboSpan" id="kobo.783.1">k</span></strong><span class="koboSpan" id="kobo.784.1">) and a </span><span class="No-Break"><span class="koboSpan" id="kobo.785.1">value (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.786.1">p</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.787.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.788.1">
foreach (</span><strong class="bold"><span class="koboSpan" id="kobo.789.1">(string k, Person p)</span></strong><span class="koboSpan" id="kobo.790.1"> in people)
{
    Console.WriteLine($"{</span><strong class="bold"><span class="koboSpan" id="kobo.791.1">k</span></strong><span class="koboSpan" id="kobo.792.1">}: {</span><strong class="bold"><span class="koboSpan" id="kobo.793.1">p.Street</span></strong><span class="koboSpan" id="kobo.794.1">}, {</span><strong class="bold"><span class="koboSpan" id="kobo.795.1">p.PostalCode</span></strong><span class="koboSpan" id="kobo.796.1">}
        {</span><strong class="bold"><span class="koboSpan" id="kobo.797.1">p.City</span></strong><span class="koboSpan" id="kobo.798.1">}, {</span><strong class="bold"><span class="koboSpan" id="kobo.799.1">p.Country</span></strong><span class="koboSpan" id="kobo.800.1">}.");
}</span></pre> <p><span class="koboSpan" id="kobo.801.1">When the program is launched, you receive the following result in </span><span class="No-Break"><span class="koboSpan" id="kobo.802.1">the console:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.803.1">
Marcin Jamro: Polish Street 1/23, 35-001 Rzeszow, PL.
</span><span class="koboSpan" id="kobo.803.2">Mark Smith: German Street 6, 10000 Berlin, DE.
</span><span class="koboSpan" id="kobo.803.3">Martyna Kowalska: World Street 5, 00-123 Warsaw, PL.</span></pre> <p><span class="koboSpan" id="kobo.804.1">As you can see, the collection is automatically sorted by names, which are used as keys for the sorted list. </span><span class="koboSpan" id="kobo.804.2">However, you need to remember that keys must be unique, so you cannot add more than one person with</span><a id="_idTextAnchor147"/><a id="_idTextAnchor148"/><span class="koboSpan" id="kobo.805.1"> the same full name in </span><span class="No-Break"><span class="koboSpan" id="kobo.806.1">this example.</span></span></p>
<h1 id="_idParaDest-87"><a id="_idTextAnchor149"/><span class="koboSpan" id="kobo.807.1">Linked lists</span></h1>
<p><span class="koboSpan" id="kobo.808.1">While using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.809.1">List</span></strong><span class="koboSpan" id="kobo.810.1"> generic class, you can easily get access to particular elements of the collection using indices. </span><span class="koboSpan" id="kobo.810.2">However, when you get a single element, how can you move to the </span><a id="_idIndexMarker394"/><span class="koboSpan" id="kobo.811.1">next element of the collection? </span><span class="koboSpan" id="kobo.811.2">Is it possible? </span><span class="koboSpan" id="kobo.811.3">To do so, you may consider the </span><strong class="source-inline"><span class="koboSpan" id="kobo.812.1">IndexOf</span></strong><span class="koboSpan" id="kobo.813.1"> method to get an index of the element. </span><span class="koboSpan" id="kobo.813.2">Unfortunately, it returns an index of the first occurrence of a given value in the collection, so it will not always work as expected in this scenario. </span><span class="koboSpan" id="kobo.813.3">Fortunately, </span><strong class="bold"><span class="koboSpan" id="kobo.814.1">linked lists</span></strong><span class="koboSpan" id="kobo.815.1"> exist and can help you with this problem! </span><span class="koboSpan" id="kobo.815.2">In this section, you will learn about a </span><span class="No-Break"><span class="koboSpan" id="kobo.816.1">few variants.</span></span></p>
<h2 id="_idParaDest-88"><a id="_idTextAnchor150"/><span class="koboSpan" id="kobo.817.1">Singly linked lists</span></h2>
<p><span class="koboSpan" id="kobo.818.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.819.1">singly linked list</span></strong><span class="koboSpan" id="kobo.820.1"> is a data </span><a id="_idIndexMarker395"/><span class="koboSpan" id="kobo.821.1">structure in which </span><strong class="bold"><span class="koboSpan" id="kobo.822.1">each list element contains a</span></strong> <strong class="bold"><span class="koboSpan" id="kobo.823.1">pointer to the next element</span></strong><span class="koboSpan" id="kobo.824.1">. </span><span class="koboSpan" id="kobo.824.2">Thus, you can easily </span><strong class="bold"><span class="koboSpan" id="kobo.825.1">move from any element to the next one, but you cannot go back</span></strong><span class="koboSpan" id="kobo.826.1">. </span><span class="koboSpan" id="kobo.826.2">Of course, the last element in </span><a id="_idIndexMarker396"/><span class="koboSpan" id="kobo.827.1">the list has an empty pointer to the next element because there is nothing more located in </span><span class="No-Break"><span class="koboSpan" id="kobo.828.1">the list.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.829.1">Imagine a singly linked list</span></p>
<p class="callout"><span class="koboSpan" id="kobo.830.1">If you want to better visualize a singly linked list, think about how to represent the phases of human development. </span><span class="koboSpan" id="kobo.830.2">Life after birth consists of the neonatal period, infancy, post-infanthood, preschool, school, adolescence, adulthood, and old age. </span><span class="koboSpan" id="kobo.830.3">From each phase, you can only go to the next one and you can never go back, even if you try very, very hard. </span><span class="koboSpan" id="kobo.830.4">It’s similar to a linked list, where you can easily move from a given item to the next item, but you don’t have any data to return to the item that brought you here. </span><span class="koboSpan" id="kobo.830.5">But it would be nice to be able to go back a dozen or so years and repeat some phase of development, right? </span><span class="koboSpan" id="kobo.830.6">Unfortunately, there is no “back” button </span><span class="No-Break"><span class="koboSpan" id="kobo.831.1">here. </span><span class="koboSpan" id="kobo.831.2">:-)</span></span></p>
<p><span class="koboSpan" id="kobo.832.1">Here’s an example of a singly </span><span class="No-Break"><span class="koboSpan" id="kobo.833.1">linked list:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer032">
<span class="koboSpan" id="kobo.834.1"><img alt="Figure 4.2 – Illustration of a singly linked list" src="image/B18069_04_2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.835.1">Figure 4.2 – Illustration of a singly linked list</span></p>
<p><span class="koboSpan" id="kobo.836.1">Is it possible </span><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.837.1">to further expand this data structure so that you can both </span><a id="_idIndexMarker398"/><span class="koboSpan" id="kobo.838.1">go forward and backward from a given list element? </span><span class="koboSpan" id="kobo.838.2">Of course! </span><span class="koboSpan" id="kobo.838.3">Let’s take </span><span class="No-Break"><span class="koboSpan" id="kobo.839.1">a look.</span></span></p>
<h2 id="_idParaDest-89"><a id="_idTextAnchor151"/><span class="koboSpan" id="kobo.840.1">Doubly linked lists</span></h2>
<p><span class="koboSpan" id="kobo.841.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.842.1">doubly linked list</span></strong><span class="koboSpan" id="kobo.843.1"> is another </span><a id="_idIndexMarker399"/><span class="koboSpan" id="kobo.844.1">data structure that </span><strong class="bold"><span class="koboSpan" id="kobo.845.1">allows you to navigate both forward and backward from each list item</span></strong><span class="koboSpan" id="kobo.846.1">. </span><span class="koboSpan" id="kobo.846.2">It can be created </span><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.847.1">based on the singly linked list by adding a second pointer, namely to the </span><span class="No-Break"><span class="koboSpan" id="kobo.848.1">previous element.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.849.1">Imagine a doubly linked list</span></p>
<p class="callout"><span class="koboSpan" id="kobo.850.1">If you want to better imagine a doubly linked list, open a text editor and start describing your day in it. </span><span class="koboSpan" id="kobo.850.2">Whenever you make a mistake, you press the “undo” button and you see the earlier version. </span><span class="koboSpan" id="kobo.850.3">You can also press “redo” and suddenly, you see what was in the document just before you undone the changes. </span><span class="koboSpan" id="kobo.850.4">Of course, you can perform such an operation many times, and the system remembers many previous and next operations. </span><span class="koboSpan" id="kobo.850.5">This is how you can think of a doubly linked list. </span><span class="koboSpan" id="kobo.850.6">In each element of the list, you can easily go to both the next element (equivalent to a “redo” operation) and the previous element (equivalent to a “back” operation). </span><span class="koboSpan" id="kobo.850.7">Just look how easy it is to find applications for various data structures in </span><span class="No-Break"><span class="koboSpan" id="kobo.851.1">everyday life!</span></span></p>
<p><span class="koboSpan" id="kobo.852.1">The following figure illustrates a doubly </span><span class="No-Break"><span class="koboSpan" id="kobo.853.1">linked list:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer033">
<span class="koboSpan" id="kobo.854.1"><img alt="Figure 4.3 – Illustration of a doubly linked list" src="image/B18069_04_3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.855.1">Figure 4.3 – Illustration of a doubly linked list</span></p>
<p><span class="koboSpan" id="kobo.856.1">As you can see, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.857.1">FIRST</span></strong><span class="koboSpan" id="kobo.858.1"> box indicates the first element in the list. </span><span class="koboSpan" id="kobo.858.2">Each item has two properties that point to the previous and next element (</span><strong class="source-inline"><span class="koboSpan" id="kobo.859.1">PREV</span></strong><span class="koboSpan" id="kobo.860.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.861.1">NEXT</span></strong><span class="koboSpan" id="kobo.862.1">, respectively). </span><span class="koboSpan" id="kobo.862.2">If there is no previous element, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.863.1">PREV</span></strong><span class="koboSpan" id="kobo.864.1"> property is equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.865.1">null</span></strong><span class="koboSpan" id="kobo.866.1">. </span><span class="koboSpan" id="kobo.866.2">Similarly, when there is no next element, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.867.1">NEXT</span></strong><span class="koboSpan" id="kobo.868.1"> property is </span><a id="_idIndexMarker401"/><span class="koboSpan" id="kobo.869.1">set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.870.1">null</span></strong><span class="koboSpan" id="kobo.871.1">. </span><span class="koboSpan" id="kobo.871.2">Moreover, the doubly linked list contains the </span><strong class="source-inline"><span class="koboSpan" id="kobo.872.1">LAST</span></strong><span class="koboSpan" id="kobo.873.1"> box that indicates the last element. </span></p>
<p><span class="koboSpan" id="kobo.874.1">Do you need </span><a id="_idIndexMarker402"/><span class="koboSpan" id="kobo.875.1">to implement such a data structure on your own if you want to use it in your C#-based applications? </span><span class="koboSpan" id="kobo.875.2">Fortunately, no! </span><span class="koboSpan" id="kobo.875.3">It is already available as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.876.1">LinkedList</span></strong><span class="koboSpan" id="kobo.877.1"> generic class in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.878.1">System.Collections.Generic</span></strong><span class="koboSpan" id="kobo.879.1"> namespace. </span><span class="koboSpan" id="kobo.879.2">While creating an instance of this class, you need to specify the type parameter that indicates a type of a value stored in each element </span><a id="_idIndexMarker403"/><span class="koboSpan" id="kobo.880.1">in the list, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.881.1">int</span></strong><span class="koboSpan" id="kobo.882.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.883.1">string</span></strong><span class="koboSpan" id="kobo.884.1">.  </span><span class="koboSpan" id="kobo.884.2">Each element (also referred to as a </span><em class="italic"><span class="koboSpan" id="kobo.885.1">node</span></em><span class="koboSpan" id="kobo.886.1">) is represented by an instance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.887.1">LinkedListNode</span></strong><span class="koboSpan" id="kobo.888.1"> generic class, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.889.1">LinkedListNode&lt;int&gt;</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.890.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.891.1">LinkedListNode&lt;string&gt;</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.892.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.893.1">Some additional explanation is necessary for the methods of adding new nodes to the doubly linked list. </span><span class="koboSpan" id="kobo.893.2">For </span><a id="_idIndexMarker404"/><span class="koboSpan" id="kobo.894.1">this purpose, you can use a set </span><span class="No-Break"><span class="koboSpan" id="kobo.895.1">of methods:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.896.1">AddFirst</span></strong><span class="koboSpan" id="kobo.897.1"> adds an element at the beginning of </span><span class="No-Break"><span class="koboSpan" id="kobo.898.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.899.1">AddLast</span></strong><span class="koboSpan" id="kobo.900.1"> adds an element at the end of </span><span class="No-Break"><span class="koboSpan" id="kobo.901.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.902.1">AddBefore</span></strong><span class="koboSpan" id="kobo.903.1"> adds an element before the specified node in </span><span class="No-Break"><span class="koboSpan" id="kobo.904.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.905.1">AddAfter</span></strong><span class="koboSpan" id="kobo.906.1"> adds an element after the specified node in </span><span class="No-Break"><span class="koboSpan" id="kobo.907.1">the list</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.908.1">All these methods return an instance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.909.1">LinkedListNode</span></strong><span class="koboSpan" id="kobo.910.1"> class. </span><span class="koboSpan" id="kobo.910.2">Moreover, there are some </span><a id="_idIndexMarker405"/><span class="No-Break"><span class="koboSpan" id="kobo.911.1">other methods:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.912.1">Contains</span></strong><span class="koboSpan" id="kobo.913.1"> checks whether the specified value exists in </span><span class="No-Break"><span class="koboSpan" id="kobo.914.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.915.1">Remove</span></strong><span class="koboSpan" id="kobo.916.1"> removes a node from </span><span class="No-Break"><span class="koboSpan" id="kobo.917.1">the list</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.918.1">Clear</span></strong><span class="koboSpan" id="kobo.919.1"> removes all elements from </span><span class="No-Break"><span class="koboSpan" id="kobo.920.1">the list</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.921.1">After this short introduction, let’s take a look at an example that shows how to apply the doubly linked list, im</span><a id="_idTextAnchor152"/><span class="koboSpan" id="kobo.922.1">p</span><a id="_idTextAnchor153"/><span class="koboSpan" id="kobo.923.1">lemented as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.924.1">LinkedList</span></strong><span class="koboSpan" id="kobo.925.1"> class, </span><span class="No-Break"><span class="koboSpan" id="kobo.926.1">in practice.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.927.1">Where can you find more information?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.928.1">You can find content regarding a linked list </span><span class="No-Break"><span class="koboSpan" id="kobo.929.1">at </span></span><a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.linkedlist-1"><span class="No-Break"><span class="koboSpan" id="kobo.930.1">https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.linkedlist-1</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.931.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.932.1">Example – book reader</span></h3>
<p><span class="koboSpan" id="kobo.933.1">As an example, you will </span><a id="_idIndexMarker406"/><span class="koboSpan" id="kobo.934.1">prepare a simple application </span><a id="_idIndexMarker407"/><span class="koboSpan" id="kobo.935.1">that allows a user to read a book by changing pages. </span><span class="koboSpan" id="kobo.935.2">The user should be able to move to the next page (if it exists) after pressing the </span><em class="italic"><span class="koboSpan" id="kobo.936.1">N</span></em><span class="koboSpan" id="kobo.937.1"> key, and go back to the previous page (if it exists) after pressing the </span><em class="italic"><span class="koboSpan" id="kobo.938.1">P</span></em><span class="koboSpan" id="kobo.939.1"> key. </span><span class="koboSpan" id="kobo.939.2">The content of the current page, together with the page number, should be shown in the console, as presented in </span><span class="No-Break"><span class="koboSpan" id="kobo.940.1">the screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer034">
<span class="koboSpan" id="kobo.941.1"><img alt="Figure 4.4 – Screenshot of the book reader example" src="image/B18069_04_4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.942.1">Figure 4.4 – Screenshot of the book reader example</span></p>
<p><span class="koboSpan" id="kobo.943.1">Let’s start with a declaration of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.944.1">Page</span></strong><span class="koboSpan" id="kobo.945.1"> record, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.946.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.947.1">
public record </span><strong class="bold"><span class="koboSpan" id="kobo.948.1">Page</span></strong><span class="koboSpan" id="kobo.949.1">(string Content);</span></pre> <p><span class="koboSpan" id="kobo.950.1">This record represents a single page and contains the </span><strong class="source-inline"><span class="koboSpan" id="kobo.951.1">Content</span></strong><span class="koboSpan" id="kobo.952.1"> property. </span><span class="koboSpan" id="kobo.952.2">Then, you create a few instances of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.953.1">Page</span></strong><span class="koboSpan" id="kobo.954.1"> class, representing six pages of </span><span class="No-Break"><span class="koboSpan" id="kobo.955.1">the book:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.956.1">
Page p1 = new("Welcome to (...)");
Page p2 = new("While reading (...)");
Page p3 = new("As a developer (...)");
Page p4 = new("In the previous (...)");
Page p5 = new("So far, you (...)");
Page p6 = new("The current (...)");</span></pre> <p><span class="koboSpan" id="kobo.957.1">When the </span><a id="_idIndexMarker408"/><span class="koboSpan" id="kobo.958.1">instances have been created, you can </span><a id="_idIndexMarker409"/><span class="koboSpan" id="kobo.959.1">construct the doubly linked list using a few addition-related methods, as shown in the following lines </span><span class="No-Break"><span class="koboSpan" id="kobo.960.1">of code:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.961.1">LinkedList&lt;Page&gt; pages = new();</span></strong><span class="koboSpan" id="kobo.962.1">
pages.</span><strong class="bold"><span class="koboSpan" id="kobo.963.1">AddLast</span></strong><span class="koboSpan" id="kobo.964.1">(p2);
LinkedListNode&lt;Page&gt; n4 = pages.</span><strong class="bold"><span class="koboSpan" id="kobo.965.1">AddLast</span></strong><span class="koboSpan" id="kobo.966.1">(p4);
pages.</span><strong class="bold"><span class="koboSpan" id="kobo.967.1">AddLast</span></strong><span class="koboSpan" id="kobo.968.1">(p6);
pages.</span><strong class="bold"><span class="koboSpan" id="kobo.969.1">AddFirst</span></strong><span class="koboSpan" id="kobo.970.1">(p1);
pages.</span><strong class="bold"><span class="koboSpan" id="kobo.971.1">AddBefore</span></strong><span class="koboSpan" id="kobo.972.1">(n4, p3);
pages.</span><strong class="bold"><span class="koboSpan" id="kobo.973.1">AddAfter</span></strong><span class="koboSpan" id="kobo.974.1">(n4, p5);</span></pre> <p><span class="koboSpan" id="kobo.975.1">In the first line, a new empty list is created. </span><span class="koboSpan" id="kobo.975.2">Then, the given operations </span><span class="No-Break"><span class="koboSpan" id="kobo.976.1">are performed:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.977.1">Add the second page at the </span><span class="No-Break"><span class="koboSpan" id="kobo.978.1">end (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.979.1">[2]</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.980.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.981.1">Add the fourth page at the end (</span><strong class="source-inline"><span class="koboSpan" id="kobo.982.1">[</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.983.1">2, 4]</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.984.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.985.1">Add the sixth page at the end (</span><strong class="source-inline"><span class="koboSpan" id="kobo.986.1">[2, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.987.1">4, 6]</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.988.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.989.1">Add the first page at the beginning of the list (</span><strong class="source-inline"><span class="koboSpan" id="kobo.990.1">[1, 2, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.991.1">4, 6]</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.992.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.993.1">Add the third page before the fourth page (</span><strong class="source-inline"><span class="koboSpan" id="kobo.994.1">[1, 2, 3, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.995.1">4, 6]</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.996.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.997.1">Add the fifth page after the fourth page (</span><strong class="source-inline"><span class="koboSpan" id="kobo.998.1">[1, 2, 3, 4, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.999.1">5, 6]</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1000.1">).</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1001.1">The next part of the code is responsible for presenting a page in the console, as well as for navigating </span><a id="_idIndexMarker410"/><span class="koboSpan" id="kobo.1002.1">between pages after pressing the </span><a id="_idIndexMarker411"/><span class="koboSpan" id="kobo.1003.1">appropriate keys. </span><span class="koboSpan" id="kobo.1003.2">The code is </span><span class="No-Break"><span class="koboSpan" id="kobo.1004.1">as follows:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1005.1">LinkedListNode&lt;Page&gt; c = pages.First!;</span></strong><span class="koboSpan" id="kobo.1006.1">
int number = 1;
while (c != null)
{
    Console.Clear();
    string page = $"- {number} -";
    int spaces = (90 - page.Length) / 2;
    Console.WriteLine(page.PadLeft(spaces + page.Length));
    Console.WriteLine();
    string content = c.Value.Content;
    for (int i = 0; i &lt; content.Length; i += 90)
    {
        string line = content[i..];
        line = line.Length &gt; 90 ? </span><span class="koboSpan" id="kobo.1006.2">line[..90] : line;
        Console.WriteLine(line.Trim());
    }
    Console.WriteLine($"\nQuote from (...)");
    Console.Write(</span><strong class="bold"><span class="koboSpan" id="kobo.1007.1">c.Previous != null</span></strong><span class="koboSpan" id="kobo.1008.1">
        ? </span><span class="koboSpan" id="kobo.1008.2">"&lt; PREV [P]" : GetSpaces(14));
    Console.Write(</span><strong class="bold"><span class="koboSpan" id="kobo.1009.1">c.Next != null</span></strong><span class="koboSpan" id="kobo.1010.1">
        ? </span><span class="koboSpan" id="kobo.1010.2">"[N] NEXT &gt;".PadLeft(76) : string.Empty);
    Console.WriteLine();
    ConsoleKey key = Console.ReadKey(true).Key;
    if (key == ConsoleKey.N &amp;&amp; </span><strong class="bold"><span class="koboSpan" id="kobo.1011.1">c.Next != null</span></strong><span class="koboSpan" id="kobo.1012.1">)
    {
        </span><strong class="bold"><span class="koboSpan" id="kobo.1013.1">c = c.Next;</span></strong><span class="koboSpan" id="kobo.1014.1">
        number++;
    }
    else if (key == ConsoleKey.P &amp;&amp; </span><strong class="bold"><span class="koboSpan" id="kobo.1015.1">c.Previous != null</span></strong><span class="koboSpan" id="kobo.1016.1">)
    {
        </span><strong class="bold"><span class="koboSpan" id="kobo.1017.1">c = c.Previous;</span></strong><span class="koboSpan" id="kobo.1018.1">
        number--;
    }
}</span></pre> <p><span class="koboSpan" id="kobo.1019.1">In the first line, the value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1020.1">c</span></strong><span class="koboSpan" id="kobo.1021.1"> variable is </span><a id="_idIndexMarker412"/><span class="koboSpan" id="kobo.1022.1">set to the first node in the doubly linked list. </span><span class="koboSpan" id="kobo.1022.2">Generally speaking, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1023.1">c</span></strong><span class="koboSpan" id="kobo.1024.1"> variable represents the page that is currently </span><a id="_idIndexMarker413"/><span class="koboSpan" id="kobo.1025.1">presented in the console. </span><span class="koboSpan" id="kobo.1025.2">Then, the initial value for the page number is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1026.1">1</span></strong><span class="koboSpan" id="kobo.1027.1"> (the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1028.1">number</span></strong><span class="koboSpan" id="kobo.1029.1"> variable). </span><span class="koboSpan" id="kobo.1029.2">However, the most interesting and complicated part of the code is shown in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1030.1">while</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1031.1"> loop.</span></span></p>
<p><span class="koboSpan" id="kobo.1032.1">Within the loop, the current content of the console is cleared and the string for presenting the page number is properly formatted to display. </span><span class="koboSpan" id="kobo.1032.2">Before and after it, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1033.1">-</span></strong><span class="koboSpan" id="kobo.1034.1"> characters are added. </span><span class="koboSpan" id="kobo.1034.2">Moreover, leading spaces are inserted (using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1035.1">PadLeft</span></strong><span class="koboSpan" id="kobo.1036.1"> method) to prepare the string that is </span><span class="No-Break"><span class="koboSpan" id="kobo.1037.1">centered horizontally.</span></span></p>
<p><span class="koboSpan" id="kobo.1038.1">Then, the content of the page is divided into lines of no more than </span><strong class="source-inline"><span class="koboSpan" id="kobo.1039.1">90</span></strong><span class="koboSpan" id="kobo.1040.1"> characters and written in the </span><a id="_idIndexMarker414"/><span class="koboSpan" id="kobo.1041.1">console. </span><span class="koboSpan" id="kobo.1041.2">To divide a string, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1042.1">Length</span></strong><span class="koboSpan" id="kobo.1043.1"> property and the </span><strong class="bold"><span class="koboSpan" id="kobo.1044.1">range operator</span></strong><span class="koboSpan" id="kobo.1045.1"> are used, such as in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1046.1">content[i..]</span></strong><span class="koboSpan" id="kobo.1047.1">. </span><span class="koboSpan" id="kobo.1047.2">Similarly, additional information is presented in the console. </span><span class="koboSpan" id="kobo.1047.3">Then, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1048.1">PREV</span></strong><span class="koboSpan" id="kobo.1049.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1050.1">NEXT</span></strong><span class="koboSpan" id="kobo.1051.1"> captions are shown, if a previous or a next page </span><span class="No-Break"><span class="koboSpan" id="kobo.1052.1">is available.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1053.1">Can you improve this example?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1054.1">This example divides the text into a few lines while not taking spaces into account. </span><span class="koboSpan" id="kobo.1054.2">I encourage you to modify the code so that it supports more user-friendly text wrapping. </span><span class="No-Break"><span class="koboSpan" id="kobo.1055.1">Good luck!</span></span></p>
<p><span class="koboSpan" id="kobo.1056.1">In the following </span><a id="_idIndexMarker415"/><span class="koboSpan" id="kobo.1057.1">part of the code, the program waits </span><a id="_idIndexMarker416"/><span class="koboSpan" id="kobo.1058.1">until the user presses any key and does not present it in the console (by passing </span><strong class="source-inline"><span class="koboSpan" id="kobo.1059.1">true</span></strong><span class="koboSpan" id="kobo.1060.1"> as a parameter of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1061.1">ReadKey</span></strong><span class="koboSpan" id="kobo.1062.1">). </span><span class="koboSpan" id="kobo.1062.2">When the user presses </span><em class="italic"><span class="koboSpan" id="kobo.1063.1">N</span></em><span class="koboSpan" id="kobo.1064.1">, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1065.1">c</span></strong><span class="koboSpan" id="kobo.1066.1"> variable is set to the next node, using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1067.1">Next</span></strong><span class="koboSpan" id="kobo.1068.1"> property. </span><span class="koboSpan" id="kobo.1068.2">Of course, the operation should not be performed when the next page is unavailable. </span><span class="koboSpan" id="kobo.1068.3">The </span><em class="italic"><span class="koboSpan" id="kobo.1069.1">P</span></em><span class="koboSpan" id="kobo.1070.1"> key is handled similarly, which causes the user to be navigated to the previous page. </span><span class="koboSpan" id="kobo.1070.2">It is worth mentioning that the number of the page (the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1071.1">number</span></strong><span class="koboSpan" id="kobo.1072.1"> variable) is modified alongside changing the value of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1073.1">c</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1074.1"> variable.</span></span></p>
<p><span class="koboSpan" id="kobo.1075.1">Finally, the code of the auxiliary </span><strong class="source-inline"><span class="koboSpan" id="kobo.1076.1">GetSpaces</span></strong><span class="koboSpan" id="kobo.1077.1"> method </span><span class="No-Break"><span class="koboSpan" id="kobo.1078.1">is shown:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1079.1">
string </span><strong class="bold"><span class="koboSpan" id="kobo.1080.1">GetSpaces</span></strong><span class="koboSpan" id="kobo.1081.1">(int number) =&gt; string.Join(
    null, Enumerable.Range(0, number).Select(n =&gt; " "));</span></pre> <p><span class="koboSpan" id="kobo.1082.1">This prepares and returns</span><a id="_idTextAnchor154"/><span class="koboSpan" id="kobo.1083.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1084.1">string</span></strong><span class="koboSpan" id="kobo.1085.1"> variable with the specified number of spaces. </span><span class="koboSpan" id="kobo.1085.2">Of course, there are several ways to perform this task. </span><span class="koboSpan" id="kobo.1085.3">However, in this book, I wanted to show you various approaches, even those that are not so typical. </span><span class="koboSpan" id="kobo.1085.4">The aim is to show you various ways of achieving your goal and making your horizons as broad </span><span class="No-Break"><span class="koboSpan" id="kobo.1086.1">as possible.</span></span></p>
<p><span class="koboSpan" id="kobo.1087.1">With this, you should be ready to continue your adventure regarding lists. </span><span class="koboSpan" id="kobo.1087.2">In the next section, y</span><a id="_idTextAnchor155"/><span class="koboSpan" id="kobo.1088.1">ou’ll learn about circular lists and their </span><span class="No-Break"><span class="koboSpan" id="kobo.1089.1">two subtypes.</span></span></p>
<h2 id="_idParaDest-90"><a id="_idTextAnchor156"/><span class="koboSpan" id="kobo.1090.1">Circular singly linked lists</span></h2>
<p><span class="koboSpan" id="kobo.1091.1">In the previous </span><a id="_idIndexMarker417"/><span class="koboSpan" id="kobo.1092.1">two sections, you learned about linked lists. </span><span class="koboSpan" id="kobo.1092.2">As you should remember, in a singly linked list, you can navigate between the </span><a id="_idIndexMarker418"/><span class="koboSpan" id="kobo.1093.1">nodes using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1094.1">Next</span></strong><span class="koboSpan" id="kobo.1095.1"> property. </span><span class="koboSpan" id="kobo.1095.2">However, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1096.1">Next</span></strong><span class="koboSpan" id="kobo.1097.1"> property of the last node is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1098.1">null</span></strong><span class="koboSpan" id="kobo.1099.1">. </span><span class="koboSpan" id="kobo.1099.2">Do you know that you can easily expand this approach to create a </span><strong class="bold"><span class="koboSpan" id="kobo.1100.1">circular singly linked list</span></strong><span class="koboSpan" id="kobo.1101.1">, where </span><strong class="bold"><span class="koboSpan" id="kobo.1102.1">the last node points to the first element, creating a list that can be </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1103.1">iterated endlessly?</span></strong></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1104.1">Imagine a circular singly linked list</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1105.1">If you want to better imagine a circular singly linked list, think for a moment about a screensaver showing photos from a specific folder. </span><span class="koboSpan" id="kobo.1105.2">After a certain period of inactivity, your screen starts showing photos, one after the other. </span><span class="koboSpan" id="kobo.1105.3">When the last photo is displayed, the first one from the catalog is shown automatically. </span><span class="koboSpan" id="kobo.1105.4">Of course, you can’t control the photos yourself, because any interaction with the keyboard or mouse turns off the screensaver. </span><span class="koboSpan" id="kobo.1105.5">A circular singly linked list works similarly. </span><span class="koboSpan" id="kobo.1105.6">Here, only information about the next list element is saved, without the possibility of going back. </span><span class="koboSpan" id="kobo.1105.7">The last element of the list takes you to the very beginning. </span><span class="koboSpan" id="kobo.1105.8">It’s so easy once you can imagine a real-life case, right? </span><span class="koboSpan" id="kobo.1105.9">Now, move your mouse to make the screensaver disappear, and get back to learning more about data structures </span><span class="No-Break"><span class="koboSpan" id="kobo.1106.1">and algorithms!</span></span></p>
<p><span class="koboSpan" id="kobo.1107.1">The following </span><a id="_idIndexMarker419"/><span class="koboSpan" id="kobo.1108.1">figure illustrates a circular singly </span><span class="No-Break"><span class="koboSpan" id="kobo.1109.1">linked list:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer035">
<span class="koboSpan" id="kobo.1110.1"><img alt="Figure 4.5 – Illustration of a circular singly linked list" src="image/B18069_04_5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1111.1">Figure 4.5 – Illustration of a circular singly linked list</span></p>
<p><span class="koboSpan" id="kobo.1112.1">After this </span><a id="_idIndexMarker420"/><span class="koboSpan" id="kobo.1113.1">short introduction to the topic of circular singly linked lists, it is time to take a look at the implementation code. </span><span class="koboSpan" id="kobo.1113.2">As this data structure is not available by default while developing in C#, you will learn how to implement it on your own, based on a linked list. </span><span class="koboSpan" id="kobo.1113.3">Let’s start with the following </span><span class="No-Break"><span class="koboSpan" id="kobo.1114.1">code snippet:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1115.1">
using System.Collections;
public class </span><strong class="bold"><span class="koboSpan" id="kobo.1116.1">CircularLinkedList&lt;T&gt;</span></strong><span class="koboSpan" id="kobo.1117.1">
    : </span><strong class="bold"><span class="koboSpan" id="kobo.1118.1">LinkedList&lt;T&gt;</span></strong><span class="koboSpan" id="kobo.1119.1">
{
    </span><strong class="bold"><span class="koboSpan" id="kobo.1120.1">public new IEnumerator GetEnumerator() =&gt;</span></strong><span class="koboSpan" id="kobo.1121.1">
        </span><strong class="bold"><span class="koboSpan" id="kobo.1122.1">new CircularEnumerator&lt;T&gt;(this);</span></strong><span class="koboSpan" id="kobo.1123.1">
}</span></pre> <p><span class="koboSpan" id="kobo.1124.1">The implementation can be created as a generic class that extends </span><strong class="source-inline"><span class="koboSpan" id="kobo.1125.1">LinkedList</span></strong><span class="koboSpan" id="kobo.1126.1">, as shown in the preceding code. </span><span class="koboSpan" id="kobo.1126.2">It is worth mentioning the implementation of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1127.1">GetEnumerator</span></strong><span class="koboSpan" id="kobo.1128.1"> method, which uses the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1129.1">CircularEnumerator</span></strong><span class="koboSpan" id="kobo.1130.1"> class. </span><span class="koboSpan" id="kobo.1130.2">By creating it, you will be </span><a id="_idIndexMarker421"/><span class="koboSpan" id="kobo.1131.1">able to endlessly iterate through all </span><a id="_idIndexMarker422"/><span class="koboSpan" id="kobo.1132.1">the elements of a circular linked list using a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1133.1">foreach</span></strong><span class="koboSpan" id="kobo.1134.1"> loop. </span><span class="koboSpan" id="kobo.1134.2">The code of </span><strong class="source-inline"><span class="koboSpan" id="kobo.1135.1">CircularEnumerator</span></strong><span class="koboSpan" id="kobo.1136.1"> is </span><span class="No-Break"><span class="koboSpan" id="kobo.1137.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1138.1">
public class </span><strong class="bold"><span class="koboSpan" id="kobo.1139.1">CircularEnumerator&lt;T&gt;</span></strong><span class="koboSpan" id="kobo.1140.1">(LinkedList&lt;T&gt; list)
    : IEnumerator&lt;T&gt;
{
    private LinkedListNode&lt;T&gt;? </span><strong class="bold"><span class="koboSpan" id="kobo.1141.1">_current</span></strong><span class="koboSpan" id="kobo.1142.1"> = null;
    public T </span><strong class="bold"><span class="koboSpan" id="kobo.1143.1">Current</span></strong><span class="koboSpan" id="kobo.1144.1"> =&gt; _current != null
        ? </span><span class="koboSpan" id="kobo.1144.2">_current.Value
        : default!;
    object </span><strong class="bold"><span class="koboSpan" id="kobo.1145.1">IEnumerator.Current</span></strong><span class="koboSpan" id="kobo.1146.1"> =&gt; Current!;
    public bool </span><strong class="bold"><span class="koboSpan" id="kobo.1147.1">MoveNext</span></strong><span class="koboSpan" id="kobo.1148.1">()
    {
        if (_current == null)
        {
            </span><strong class="bold"><span class="koboSpan" id="kobo.1149.1">_current = list?.First;</span></strong><span class="koboSpan" id="kobo.1150.1">
            return _current != null;
        }
        else
        {
            </span><strong class="bold"><span class="koboSpan" id="kobo.1151.1">_current = _current.Next</span></strong><span class="koboSpan" id="kobo.1152.1">
                </span><strong class="bold"><span class="koboSpan" id="kobo.1153.1">?? </span><span class="koboSpan" id="kobo.1153.2">_current!.List?.First;</span></strong><span class="koboSpan" id="kobo.1154.1">
            return true;
        }
    }
    public void </span><strong class="bold"><span class="koboSpan" id="kobo.1155.1">Reset</span></strong><span class="koboSpan" id="kobo.1156.1">()
    {
        _current = null;
    }
    public void </span><strong class="bold"><span class="koboSpan" id="kobo.1157.1">Dispose</span></strong><span class="koboSpan" id="kobo.1158.1">() { }
}</span></pre> <p><span class="koboSpan" id="kobo.1159.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1160.1">CircularEnumerator</span></strong><span class="koboSpan" id="kobo.1161.1"> class implements the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1162.1">IEnumerator</span></strong><span class="koboSpan" id="kobo.1163.1"> interface. </span><span class="koboSpan" id="kobo.1163.2">This class declares the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1164.1">private</span></strong><span class="koboSpan" id="kobo.1165.1"> field, which represents the current node (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1166.1">_current</span></strong><span class="koboSpan" id="kobo.1167.1">) in the iteration over the list. </span><span class="koboSpan" id="kobo.1167.2">It also contains two properties, namely </span><strong class="source-inline"><span class="koboSpan" id="kobo.1168.1">Current</span></strong><span class="koboSpan" id="kobo.1169.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1170.1">IEnumerator.Current</span></strong><span class="koboSpan" id="kobo.1171.1">, which are required by the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1172.1">IEnumerator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1173.1"> interface.</span></span></p>
<p><span class="koboSpan" id="kobo.1174.1">One of the most important parts of the code is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1175.1">MoveNext</span></strong><span class="koboSpan" id="kobo.1176.1"> method. </span><span class="koboSpan" id="kobo.1176.2">This checks whether the </span><a id="_idIndexMarker423"/><span class="koboSpan" id="kobo.1177.1">current element is equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1178.1">null</span></strong><span class="koboSpan" id="kobo.1179.1">. </span><span class="koboSpan" id="kobo.1179.2">If so, it tries to get the first element from the list and starts iterating from it. </span><span class="koboSpan" id="kobo.1179.3">If it does not exist, the method </span><a id="_idIndexMarker424"/><span class="koboSpan" id="kobo.1180.1">returns </span><strong class="source-inline"><span class="koboSpan" id="kobo.1181.1">false</span></strong><span class="koboSpan" id="kobo.1182.1"> since there are no items in the list. </span><span class="koboSpan" id="kobo.1182.2">If the current element is not equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1183.1">null</span></strong><span class="koboSpan" id="kobo.1184.1">, it changes the current element to the next one or the first node in the list, if the next node is unavailable. </span><span class="koboSpan" id="kobo.1184.2">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1185.1">Reset</span></strong><span class="koboSpan" id="kobo.1186.1"> method, you just set a value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1187.1">_current</span></strong><span class="koboSpan" id="kobo.1188.1"> field </span><span class="No-Break"><span class="koboSpan" id="kobo.1189.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1190.1">null</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1191.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1192.1">Finally, you create the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1193.1">Next</span></strong><span class="koboSpan" id="kobo.1194.1"> extension method that navigates to the first element while trying to get the next element from the last item in the list. </span><span class="koboSpan" id="kobo.1194.2">To simplify the implementation, such a feature will be available as a method, instead of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1195.1">Next</span></strong><span class="koboSpan" id="kobo.1196.1"> property. </span><span class="koboSpan" id="kobo.1196.2">The code is </span><span class="No-Break"><span class="koboSpan" id="kobo.1197.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1198.1">
public static class </span><strong class="bold"><span class="koboSpan" id="kobo.1199.1">CircularLinkedListExtensions</span></strong><span class="koboSpan" id="kobo.1200.1">
{
    public static LinkedListNode&lt;T&gt;? </span><strong class="bold"><span class="koboSpan" id="kobo.1201.1">Next</span></strong><span class="koboSpan" id="kobo.1202.1">&lt;T&gt;(
        this LinkedListNode&lt;T&gt; n)
    {
        </span><strong class="bold"><span class="koboSpan" id="kobo.1203.1">return n != null &amp;&amp; n.List != null</span></strong><span class="koboSpan" id="kobo.1204.1">
            </span><strong class="bold"><span class="koboSpan" id="kobo.1205.1">? </span><span class="koboSpan" id="kobo.1205.2">n.Next ?? </span><span class="koboSpan" id="kobo.1205.3">n.List.First</span></strong><span class="koboSpan" id="kobo.1206.1">
            </span><strong class="bold"><span class="koboSpan" id="kobo.1207.1">: null;</span></strong><span class="koboSpan" id="kobo.1208.1">
    }
}</span></pre> <p><span class="koboSpan" id="kobo.1209.1">The method </span><a id="_idIndexMarker425"/><span class="koboSpan" id="kobo.1210.1">checks whether the node exists and whether </span><a id="_idIndexMarker426"/><span class="koboSpan" id="kobo.1211.1">the list is available. </span><span class="koboSpan" id="kobo.1211.2">In such a case, it returns a value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1212.1">Next</span></strong><span class="koboSpan" id="kobo.1213.1"> property of the node (if such a value is not equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1214.1">null</span></strong><span class="koboSpan" id="kobo.1215.1">) or returns a reference to the first element in the list using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1216.1">First</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1217.1"> property.</span></span></p>
<p><span class="koboSpan" id="kobo.1218.1">That’s all! </span><span class="koboSpan" id="kobo.1218.2">You’ve just completed the C#-based implementation of a circular singly linked list that you can use in various applications. </span><span class="koboSpan" id="kobo.1218.3">But how? </span><span class="koboSpan" id="kobo.1218.4">Let’s take</span><a id="_idTextAnchor157"/><span class="koboSpan" id="kobo.1219.1"> a look at the following example, which uses this </span><span class="No-Break"><span class="koboSpan" id="kobo.1220.1">data structure.</span></span></p>
<h3><span class="koboSpan" id="kobo.1221.1">Example – spin the wheel</span></h3>
<p><span class="koboSpan" id="kobo.1222.1">This example </span><a id="_idIndexMarker427"/><span class="koboSpan" id="kobo.1223.1">simulates a game in which </span><a id="_idIndexMarker428"/><span class="koboSpan" id="kobo.1224.1">a user spins a wheel at a random speed. </span><span class="koboSpan" id="kobo.1224.2">The wheel rotates slower and slower until it stops. </span><span class="koboSpan" id="kobo.1224.3">Then, the user can spin it again, from the previous stop position, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1225.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer036">
<span class="koboSpan" id="kobo.1226.1"><img alt="Figure 4.6 – Illustration of the spin the wheel example" src="image/B18069_04_6.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1227.1">Figure 4.6 – Illustration of the spin the wheel example</span></p>
<p><span class="koboSpan" id="kobo.1228.1">Let’s proceed to the first part of </span><span class="No-Break"><span class="koboSpan" id="kobo.1229.1">the code:</span></span></p>
<pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.1230.1">CircularLinkedList&lt;string&gt;</span></strong><span class="koboSpan" id="kobo.1231.1"> categories = new();
categories.</span><strong class="bold"><span class="koboSpan" id="kobo.1232.1">AddLast</span></strong><span class="koboSpan" id="kobo.1233.1">("Sport");
categories.</span><strong class="bold"><span class="koboSpan" id="kobo.1234.1">AddLast</span></strong><span class="koboSpan" id="kobo.1235.1">("Culture");
categories.</span><strong class="bold"><span class="koboSpan" id="kobo.1236.1">AddLast</span></strong><span class="koboSpan" id="kobo.1237.1">("History");
categories.</span><strong class="bold"><span class="koboSpan" id="kobo.1238.1">AddLast</span></strong><span class="koboSpan" id="kobo.1239.1">("Geography");
categories.</span><strong class="bold"><span class="koboSpan" id="kobo.1240.1">AddLast</span></strong><span class="koboSpan" id="kobo.1241.1">("People");
categories.</span><strong class="bold"><span class="koboSpan" id="kobo.1242.1">AddLast</span></strong><span class="koboSpan" id="kobo.1243.1">("Technology");
categories.</span><strong class="bold"><span class="koboSpan" id="kobo.1244.1">AddLast</span></strong><span class="koboSpan" id="kobo.1245.1">("Nature");
categories.</span><strong class="bold"><span class="koboSpan" id="kobo.1246.1">AddLast</span></strong><span class="koboSpan" id="kobo.1247.1">("Science");</span></pre> <p><span class="koboSpan" id="kobo.1248.1">First, a new </span><a id="_idIndexMarker429"/><span class="koboSpan" id="kobo.1249.1">instance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1250.1">CircularLinkedList</span></strong><span class="koboSpan" id="kobo.1251.1"> class is </span><a id="_idIndexMarker430"/><span class="koboSpan" id="kobo.1252.1">created, which represents a circular singly linked list with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1253.1">string</span></strong><span class="koboSpan" id="kobo.1254.1"> elements. </span><span class="koboSpan" id="kobo.1254.2">Then, eight values are added, namely </span><strong class="source-inline"><span class="koboSpan" id="kobo.1255.1">Sport</span></strong><span class="koboSpan" id="kobo.1256.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1257.1">Culture</span></strong><span class="koboSpan" id="kobo.1258.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1259.1">History</span></strong><span class="koboSpan" id="kobo.1260.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1261.1">Geography</span></strong><span class="koboSpan" id="kobo.1262.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1263.1">People</span></strong><span class="koboSpan" id="kobo.1264.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1265.1">Technology</span></strong><span class="koboSpan" id="kobo.1266.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1267.1">Nature</span></strong><span class="koboSpan" id="kobo.1268.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.1269.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1270.1">Science</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1271.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1272.1">The following part of the code performs the most </span><span class="No-Break"><span class="koboSpan" id="kobo.1273.1">important operations:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1274.1">
bool isStopped = true;
Random random = new();
DateTime targetTime = DateTime.Now;
int ms = 0;
</span><strong class="bold"><span class="koboSpan" id="kobo.1275.1">foreach (string category in categories)</span></strong><span class="koboSpan" id="kobo.1276.1">
{
    if (isStopped)
    {
        Console.WriteLine("Press [Enter] to start.");
        ConsoleKey key = Console.ReadKey().Key;
        if (key == ConsoleKey.Enter)
        {
            ms = random.Next(1000, 5000);
            targetTime = DateTime.Now.AddMilliseconds(ms);
            isStopped = false;
            </span><strong class="bold"><span class="koboSpan" id="kobo.1277.1">Console.WriteLine(category);</span></strong><span class="koboSpan" id="kobo.1278.1">
        }
        else { return; }
    }
    else
    {
        int remaining = (int)(targetTime
            - DateTime.Now).TotalMilliseconds;
        int waiting = Math.Max(100, (ms - remaining) / 5);
        </span><strong class="bold"><span class="koboSpan" id="kobo.1279.1">await Task.Delay(waiting);</span></strong><span class="koboSpan" id="kobo.1280.1">
        if (DateTime.Now &gt;= targetTime)
        {
            Console.ForegroundColor = ConsoleColor.Red;
            isStopped = true;
        }
        </span><strong class="bold"><span class="koboSpan" id="kobo.1281.1">Console.WriteLine(category);</span></strong><span class="koboSpan" id="kobo.1282.1">
        Console.ResetColor();
    }
}</span></pre> <p><span class="koboSpan" id="kobo.1283.1">First, a few variables </span><span class="No-Break"><span class="koboSpan" id="kobo.1284.1">are declared:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1285.1">isStopped</span></strong><span class="koboSpan" id="kobo.1286.1">, which indicates whether the wheel is </span><span class="No-Break"><span class="koboSpan" id="kobo.1287.1">currently stopped</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1288.1">random</span></strong><span class="koboSpan" id="kobo.1289.1">, for drawing random values of wheel spin </span><span class="No-Break"><span class="koboSpan" id="kobo.1290.1">in milliseconds</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1291.1">targetTime</span></strong><span class="koboSpan" id="kobo.1292.1">, which is the target time when the wheel </span><span class="No-Break"><span class="koboSpan" id="kobo.1293.1">should stop</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1294.1">ms</span></strong><span class="koboSpan" id="kobo.1295.1">, which is the last drawn number of milliseconds </span><span class="No-Break"><span class="koboSpan" id="kobo.1296.1">for wheel-spinning</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1297.1">Then, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1298.1">foreach</span></strong><span class="koboSpan" id="kobo.1299.1"> loop is used to iterate through all the elements within a circular singly linked list. </span><span class="koboSpan" id="kobo.1299.2">If there are no </span><strong class="source-inline"><span class="koboSpan" id="kobo.1300.1">break</span></strong><span class="koboSpan" id="kobo.1301.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1302.1">return</span></strong><span class="koboSpan" id="kobo.1303.1"> instructions within such a loop, it will execute indefinitely due to the nature of a circular linked list. </span><span class="koboSpan" id="kobo.1303.2">If the last item is reached, the first element in the list is taken automatically in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1304.1">next iteration.</span></span></p>
<p><span class="koboSpan" id="kobo.1305.1">In this loop, you check </span><a id="_idIndexMarker431"/><span class="koboSpan" id="kobo.1306.1">whether the wheel is </span><a id="_idIndexMarker432"/><span class="koboSpan" id="kobo.1307.1">currently stopped or has not been started yet. </span><span class="koboSpan" id="kobo.1307.2">If so, the message is presented to the user and the program waits until the </span><em class="italic"><span class="koboSpan" id="kobo.1308.1">Enter</span></em><span class="koboSpan" id="kobo.1309.1"> key is pressed. </span><span class="koboSpan" id="kobo.1309.2">In such a situation, the new spinning operation is configured by drawing the total time of spinning, setting the expected stop time, indicating that the wheel is not stopped, as well as writing the current category. </span><span class="koboSpan" id="kobo.1309.3">When the user presses any other key, the program stops </span><span class="No-Break"><span class="koboSpan" id="kobo.1310.1">its execution.</span></span></p>
<p><span class="koboSpan" id="kobo.1311.1">If the wheel is currently not stopped, you calculate the remaining number of milliseconds and the waiting time. </span><span class="koboSpan" id="kobo.1311.2">This formula makes it possible to provide smaller times at the beginning (the wheel spins faster) and bigger times at the end (the wheel spins slower). </span><span class="koboSpan" id="kobo.1311.3">Then, the program waits for the specified number </span><span class="No-Break"><span class="koboSpan" id="kobo.1312.1">of milliseconds.</span></span></p>
<p><span class="koboSpan" id="kobo.1313.1">At the end, you check whether the target time is reached. </span><span class="koboSpan" id="kobo.1313.2">If so, the foreground color is changed to red and you indicate that the wheel is stopped. </span><span class="koboSpan" id="kobo.1313.3">Then, the currently chosen category on the spinning wheel is presented in </span><span class="No-Break"><span class="koboSpan" id="kobo.1314.1">the console.</span></span></p>
<p><span class="koboSpan" id="kobo.1315.1">When you run the application, you will get the result similar to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1316.1">following one:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer037">
<span class="koboSpan" id="kobo.1317.1"><img alt="Figure 4.7 – Screenshot of the spin the wheel example" src="image/B18069_04_7.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1318.1">Figure 4.7 – Screenshot of the spin the wheel example</span></p>
<p><span class="koboSpan" id="kobo.1319.1">With th</span><a id="_idTextAnchor158"/><span class="koboSpan" id="kobo.1320.1">at, we’ve </span><a id="_idIndexMarker433"/><span class="koboSpan" id="kobo.1321.1">looked at an example </span><a id="_idIndexMarker434"/><span class="koboSpan" id="kobo.1322.1">that uses a circular singly linked list. </span><span class="koboSpan" id="kobo.1322.2">Are you curious whether you can expand it further to create a circular doubly </span><span class="No-Break"><span class="koboSpan" id="kobo.1323.1">linked list?</span></span></p>
<h2 id="_idParaDest-91"><a id="_idTextAnchor159"/><span class="koboSpan" id="kobo.1324.1">Circular doubly linked lists</span></h2>
<p><span class="koboSpan" id="kobo.1325.1">The last data </span><a id="_idIndexMarker435"/><span class="koboSpan" id="kobo.1326.1">structure we’ll cover in this chapter is named the </span><strong class="bold"><span class="koboSpan" id="kobo.1327.1">circular doubly linked list</span></strong><span class="koboSpan" id="kobo.1328.1">. </span><span class="koboSpan" id="kobo.1328.2">It is similar to the circular singly linked list but </span><strong class="bold"><span class="koboSpan" id="kobo.1329.1">allows you not only to iterate indefinitely in the forward direction but also in the backward direction</span></strong><span class="koboSpan" id="kobo.1330.1">. </span><span class="koboSpan" id="kobo.1330.2">You can achieve this by adding pointers to previous elements for </span><a id="_idIndexMarker436"/><span class="koboSpan" id="kobo.1331.1">each item in the list. </span><span class="koboSpan" id="kobo.1331.2">Of course, you also need to point to the last element in the list as the previous element of the first one in </span><span class="No-Break"><span class="koboSpan" id="kobo.1332.1">the list.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1333.1">Imagine a circular doubly linked list</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1334.1">If you want to better visualize a circular doubly linked list, grab your camera and start browsing the gallery of photos you’ve taken. </span><span class="koboSpan" id="kobo.1334.2">Here, you can easily go from the first photo to the last one by clicking “back.” </span><span class="koboSpan" id="kobo.1334.3">You can also go from the last photo to the first one by clicking “next.” </span><span class="koboSpan" id="kobo.1334.4">Of course, you can also switch between subsequent photos in the photo gallery by clicking “back” and “next.” </span><span class="koboSpan" id="kobo.1334.5">There is no issue with you taking another photo, at which point it will be added to the collection of photos you’ve already taken. </span><span class="koboSpan" id="kobo.1334.6">Take a look for yourself! </span><span class="koboSpan" id="kobo.1334.7">This is how a circular doubly linked list works. </span><span class="koboSpan" id="kobo.1334.8">Snap, photo taken, and... </span><span class="koboSpan" id="kobo.1334.9">let’s </span><span class="No-Break"><span class="koboSpan" id="kobo.1335.1">move on!</span></span></p>
<p><span class="koboSpan" id="kobo.1336.1">A circular </span><a id="_idIndexMarker437"/><span class="koboSpan" id="kobo.1337.1">doubly linked list is presented in the </span><a id="_idIndexMarker438"/><span class="No-Break"><span class="koboSpan" id="kobo.1338.1">following diagram:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer038">
<span class="koboSpan" id="kobo.1339.1"><img alt="Figure 4.8 – Illustration of a circular doubly linked list" src="image/B18069_04_8.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1340.1">Figure 4.8 – Illustration of a circular doubly linked list</span></p>
<p><span class="koboSpan" id="kobo.1341.1">Here, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1342.1">PREV</span></strong><span class="koboSpan" id="kobo.1343.1"> property of the first node navigates to the last one, while the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1344.1">NEXT</span></strong><span class="koboSpan" id="kobo.1345.1"> property of the last node navigates to the first. </span><span class="koboSpan" id="kobo.1345.2">This data structure can be useful in s</span><a id="_idTextAnchor160"/><span class="koboSpan" id="kobo.1346.1">ome specific cases, as you will see while developing a </span><span class="No-Break"><span class="koboSpan" id="kobo.1347.1">real-world example.</span></span></p>
<p><span class="koboSpan" id="kobo.1348.1">After this short introduction to the topic of circular doubly linked lists, it is time to take a look at the implementation code. </span><span class="koboSpan" id="kobo.1348.2">If you use the code that’s already been prepared for the circular singly linked list, you only need to add one extension method, as </span><span class="No-Break"><span class="koboSpan" id="kobo.1349.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1350.1">
public static class </span><strong class="bold"><span class="koboSpan" id="kobo.1351.1">CircularLinkedListExtensions</span></strong><span class="koboSpan" id="kobo.1352.1">
{
    public static LinkedListNode&lt;T&gt;? </span><span class="koboSpan" id="kobo.1352.2">Next&lt;T&gt;(
        this LinkedListNode&lt;T&gt; n)
    {
        return n != null &amp;&amp; n.List != null
            ? </span><span class="koboSpan" id="kobo.1352.3">n.Next ?? </span><span class="koboSpan" id="kobo.1352.4">n.List.First
            : null;
    }
</span><strong class="bold"><span class="koboSpan" id="kobo.1353.1">    public static LinkedListNode&lt;T&gt;? </span><span class="koboSpan" id="kobo.1353.2">Prev&lt;T&gt;(</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.1354.1">        this LinkedListNode&lt;T&gt; n)</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.1355.1">    {</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.1356.1">        return n != null &amp;&amp; n.List != null</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.1357.1">            ? </span><span class="koboSpan" id="kobo.1357.2">n.Previous ?? </span><span class="koboSpan" id="kobo.1357.3">n.List.Last</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.1358.1">            : null;</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.1359.1">    }</span></strong><span class="koboSpan" id="kobo.1360.1">
}</span></pre> <p><span class="koboSpan" id="kobo.1361.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1362.1">Prev</span></strong><span class="koboSpan" id="kobo.1363.1"> method </span><a id="_idIndexMarker439"/><span class="koboSpan" id="kobo.1364.1">checks whether the node exists and whether the </span><a id="_idIndexMarker440"/><span class="koboSpan" id="kobo.1365.1">list is available. </span><span class="koboSpan" id="kobo.1365.2">In such a case, it returns a value of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1366.1">Previous</span></strong><span class="koboSpan" id="kobo.1367.1"> property of the node (if such a value is not equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1368.1">null</span></strong><span class="koboSpan" id="kobo.1369.1">) or returns a reference to the last element in the</span><a id="_idTextAnchor161"/><a id="_idTextAnchor162"/><span class="koboSpan" id="kobo.1370.1"> list using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1371.1">Last</span></strong><span class="koboSpan" id="kobo.1372.1"> property. </span><span class="koboSpan" id="kobo.1372.2">That’s all! </span><span class="koboSpan" id="kobo.1372.3">Let’s take a look at </span><span class="No-Break"><span class="koboSpan" id="kobo.1373.1">the example.</span></span></p>
<h3><span class="koboSpan" id="kobo.1374.1">Example – art gallery</span></h3>
<p><span class="koboSpan" id="kobo.1375.1">This example </span><a id="_idIndexMarker441"/><span class="koboSpan" id="kobo.1376.1">is a viewer of drawings </span><a id="_idIndexMarker442"/><span class="koboSpan" id="kobo.1377.1">presented in the console. </span><span class="koboSpan" id="kobo.1377.2">Does this sound strange? </span><span class="koboSpan" id="kobo.1377.3">It could be, but let’s try to create some </span><span class="No-Break"><span class="koboSpan" id="kobo.1378.1">console-based art!</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1379.1">Real art in the console exists!</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1380.1">The topic of creating console-based graphics is quite popular and some amazing art has already been created by various authors! </span><span class="koboSpan" id="kobo.1380.2">If you are curious about this topic, just search for </span><em class="italic"><span class="koboSpan" id="kobo.1381.1">ASCII arts</span></em><span class="koboSpan" id="kobo.1382.1"> in your web browser. </span><span class="koboSpan" id="kobo.1382.2">Will you join this community with your drawings? </span><span class="koboSpan" id="kobo.1382.3">If so, please share them with me </span><span class="No-Break"><span class="koboSpan" id="kobo.1383.1">as well!</span></span></p>
<p><span class="koboSpan" id="kobo.1384.1">When a </span><a id="_idIndexMarker443"/><span class="koboSpan" id="kobo.1385.1">user presses </span><em class="italic"><span class="koboSpan" id="kobo.1386.1">the right </span></em><span class="koboSpan" id="kobo.1387.1">or</span><em class="italic"><span class="koboSpan" id="kobo.1388.1"> left arrow</span></em><span class="koboSpan" id="kobo.1389.1">, the drawing is changed to the next or the </span><a id="_idIndexMarker444"/><span class="koboSpan" id="kobo.1390.1">previous one, respectively. </span><span class="koboSpan" id="kobo.1390.2">As a result, the following art can be viewed in </span><span class="No-Break"><span class="koboSpan" id="kobo.1391.1">the console:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer039">
<span class="koboSpan" id="kobo.1392.1"><img alt="Figure 4.9 – ﻿Screenshots of the art gallery example" src="image/B18069_04_9.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1393.1">Figure 4.9 – Screenshots of the art gallery example</span></p>
<p><span class="koboSpan" id="kobo.1394.1">The code uses the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1395.1">CircularLinkedList</span></strong><span class="koboSpan" id="kobo.1396.1"> class, as </span><span class="No-Break"><span class="koboSpan" id="kobo.1397.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1398.1">
string[][] arts = GetArts();
</span><strong class="bold"><span class="koboSpan" id="kobo.1399.1">CircularLinkedList&lt;string[]&gt; images = new();</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.1400.1">foreach (string[] art in arts) { images.AddLast(art); }</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.1401.1">LinkedListNode&lt;string[]&gt; node = images.First!;</span></strong><span class="koboSpan" id="kobo.1402.1">
ConsoleKey key = ConsoleKey.Spacebar;
do
{
    if (key == ConsoleKey.RightArrow)
    {
        </span><strong class="bold"><span class="koboSpan" id="kobo.1403.1">node = node.Next()!;</span></strong><span class="koboSpan" id="kobo.1404.1">
    }
    else if (key == ConsoleKey.LeftArrow)
    {
        </span><strong class="bold"><span class="koboSpan" id="kobo.1405.1">node = node.Prev()!;</span></strong><span class="koboSpan" id="kobo.1406.1">
    }
    Console.Clear();
    </span><strong class="bold"><span class="koboSpan" id="kobo.1407.1">foreach (string line in node.Value)</span></strong><span class="koboSpan" id="kobo.1408.1">
    </span><strong class="bold"><span class="koboSpan" id="kobo.1409.1">{</span></strong><span class="koboSpan" id="kobo.1410.1">
        </span><strong class="bold"><span class="koboSpan" id="kobo.1411.1">Console.WriteLine(line);</span></strong><span class="koboSpan" id="kobo.1412.1">
    </span><strong class="bold"><span class="koboSpan" id="kobo.1413.1">}</span></strong><span class="koboSpan" id="kobo.1414.1">
}
while ((key = Console.ReadKey().Key) != ConsoleKey.Escape);</span></pre> <p><span class="koboSpan" id="kobo.1415.1">You create </span><a id="_idIndexMarker445"/><span class="koboSpan" id="kobo.1416.1">a circular doubly linked list consisting of a few elements. </span><span class="koboSpan" id="kobo.1416.2">Each stores an array of strings. </span><span class="koboSpan" id="kobo.1416.3">Such an array represents a </span><a id="_idIndexMarker446"/><span class="koboSpan" id="kobo.1417.1">particular image, namely the following rows forming the art. </span><span class="koboSpan" id="kobo.1417.2">When you populate the list with data of all images, you store a reference to the first image as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1418.1">node</span></strong><span class="koboSpan" id="kobo.1419.1">. </span><span class="koboSpan" id="kobo.1419.2">Then, you use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1420.1">do-while</span></strong><span class="koboSpan" id="kobo.1421.1"> loop that is executed until the </span><em class="italic"><span class="koboSpan" id="kobo.1422.1">Escape</span></em><span class="koboSpan" id="kobo.1423.1"> button is pressed. </span><span class="koboSpan" id="kobo.1423.2">If the user presses the right arrow, you update the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1424.1">node</span></strong><span class="koboSpan" id="kobo.1425.1"> variable using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1426.1">Next</span></strong><span class="koboSpan" id="kobo.1427.1"> method. </span><span class="koboSpan" id="kobo.1427.2">If the left arrow is pressed, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1428.1">Prev</span></strong><span class="koboSpan" id="kobo.1429.1"> method is used instead. </span><span class="koboSpan" id="kobo.1429.2">In each iteration, you clear the console and print the art so that you can receive a simple animation of a </span><span class="No-Break"><span class="koboSpan" id="kobo.1430.1">dancing figure.</span></span></p>
<p><span class="koboSpan" id="kobo.1431.1">If you are curious how such images are defined, take a look at the </span><span class="No-Break"><span class="koboSpan" id="kobo.1432.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1433.1">
string[][] </span><strong class="bold"><span class="koboSpan" id="kobo.1434.1">GetArts</span></strong><span class="koboSpan" id="kobo.1435.1">() =&gt; [
    [
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1436.1">  +-----+  </span></strong><span class="koboSpan" id="kobo.1437.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1438.1">o-| o o |-o</span></strong><span class="koboSpan" id="kobo.1439.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1440.1">  </span></strong><strong class="bold"><span class="koboSpan" id="kobo.1441.1">|  -  |  </span></strong><span class="koboSpan" id="kobo.1442.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1443.1">  +-----+  </span></strong><span class="koboSpan" id="kobo.1444.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1445.1">    | |    </span></strong><span class="koboSpan" id="kobo.1446.1">"
    ],
    [
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1447.1">o +-----+  </span></strong><span class="koboSpan" id="kobo.1448.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1449.1"> \\| o o |\\ </span></strong><span class="koboSpan" id="kobo.1450.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1451.1">  |  -  | o</span></strong><span class="koboSpan" id="kobo.1452.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1453.1">  +-----+  </span></strong><span class="koboSpan" id="kobo.1454.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1455.1">    / |    </span></strong><span class="koboSpan" id="kobo.1456.1">"
    ],
    [
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1457.1">  </span></strong><strong class="bold"><span class="koboSpan" id="kobo.1458.1">+-----+ o</span></strong><span class="koboSpan" id="kobo.1459.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1460.1"> /| o o |/ </span></strong><span class="koboSpan" id="kobo.1461.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1462.1">o |  -  |  </span></strong><span class="koboSpan" id="kobo.1463.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1464.1">  +-----+  </span></strong><span class="koboSpan" id="kobo.1465.1">",
        "</span><strong class="bold"><span class="koboSpan" id="kobo.1466.1">    | \\    </span></strong><span class="koboSpan" id="kobo.1467.1">"
    ]
];</span></pre> <p><span class="koboSpan" id="kobo.1468.1">With that, you’ve </span><a id="_idIndexMarker447"/><span class="koboSpan" id="kobo.1469.1">learned how to use a circular doubly linked list. </span><span class="koboSpan" id="kobo.1469.2">In the </span><a id="_idIndexMarker448"/><span class="koboSpan" id="kobo.1470.1">final section of this chapter, we’ll learn about three </span><span class="No-Break"><span class="koboSpan" id="kobo.1471.1">list-related interfaces.</span></span></p>
<h1 id="_idParaDest-92"><a id="_idTextAnchor163"/><span class="koboSpan" id="kobo.1472.1">List-related interfaces</span></h1>
<p><span class="koboSpan" id="kobo.1473.1">While developing </span><a id="_idIndexMarker449"/><span class="koboSpan" id="kobo.1474.1">applications in C#, you frequently use various collections, including lists. </span><span class="koboSpan" id="kobo.1474.2">For this reason, it is worth mentioning three </span><span class="No-Break"><span class="koboSpan" id="kobo.1475.1">common interfaces:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1476.1">IEnumerable</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1477.1">ICollection</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1478.1">IList</span></strong></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1479.1">The order of them is important because </span><strong class="source-inline"><span class="koboSpan" id="kobo.1480.1">IEnumerable</span></strong><span class="koboSpan" id="kobo.1481.1"> is the base interface for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1482.1">ICollection</span></strong><span class="koboSpan" id="kobo.1483.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1484.1">IList</span></strong><span class="koboSpan" id="kobo.1485.1">, while </span><strong class="source-inline"><span class="koboSpan" id="kobo.1486.1">ICollection</span></strong><span class="koboSpan" id="kobo.1487.1"> is the base interface for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1488.1">IList</span></strong><span class="koboSpan" id="kobo.1489.1">. </span><span class="koboSpan" id="kobo.1489.2">However, what is inside such interfaces? </span><span class="koboSpan" id="kobo.1489.3">Let’s take </span><span class="No-Break"><span class="koboSpan" id="kobo.1490.1">a look!</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.1491.1">IEnumerable</span></strong><span class="koboSpan" id="kobo.1492.1"> only provides you with a </span><strong class="bold"><span class="koboSpan" id="kobo.1493.1">simple iteration over a collection</span></strong><span class="koboSpan" id="kobo.1494.1">. </span><span class="koboSpan" id="kobo.1494.2">For this reason, it exposes the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1495.1">GetEnumerator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1496.1"> method.</span></span></p>
<p><span class="koboSpan" id="kobo.1497.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1498.1">ICollection</span></strong><span class="koboSpan" id="kobo.1499.1"> interface </span><a id="_idIndexMarker450"/><span class="koboSpan" id="kobo.1500.1">adds the following methods for </span><strong class="bold"><span class="koboSpan" id="kobo.1501.1">manipulating </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1502.1">the collection</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1503.1">:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1504.1">Add</span></strong><span class="koboSpan" id="kobo.1505.1"> adds a given item to </span><span class="No-Break"><span class="koboSpan" id="kobo.1506.1">the collection</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1507.1">Clear</span></strong><span class="koboSpan" id="kobo.1508.1"> removes all the items from </span><span class="No-Break"><span class="koboSpan" id="kobo.1509.1">the collection</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1510.1">Contains</span></strong><span class="koboSpan" id="kobo.1511.1"> checks whether a given item exists in </span><span class="No-Break"><span class="koboSpan" id="kobo.1512.1">the collection</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1513.1">Remove</span></strong><span class="koboSpan" id="kobo.1514.1"> removes the first occurrence of a given item from </span><span class="No-Break"><span class="koboSpan" id="kobo.1515.1">the collection</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1516.1">It also exposes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1517.1">Count</span></strong><span class="koboSpan" id="kobo.1518.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1519.1">IsReadOnly</span></strong><span class="koboSpan" id="kobo.1520.1"> properties, as well as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1521.1">CopyTo</span></strong><span class="koboSpan" id="kobo.1522.1"> method for copying the collection to </span><span class="No-Break"><span class="koboSpan" id="kobo.1523.1">an array.</span></span></p>
<p><span class="koboSpan" id="kobo.1524.1">The last interface I’ll mention here is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1525.1">IList</span></strong><span class="koboSpan" id="kobo.1526.1">. </span><span class="koboSpan" id="kobo.1526.2">It allows you to </span><strong class="bold"><span class="koboSpan" id="kobo.1527.1">access items within the collection by an index</span></strong><span class="koboSpan" id="kobo.1528.1">. </span><span class="koboSpan" id="kobo.1528.2">Thus, the interface contains the indexer for getting or setting an item at a specified index in the collection, as well </span><span class="No-Break"><span class="koboSpan" id="kobo.1529.1">as methods:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1530.1">IndexOf</span></strong><span class="koboSpan" id="kobo.1531.1"> returns an index of a given item in </span><span class="No-Break"><span class="koboSpan" id="kobo.1532.1">the collection</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1533.1">Insert</span></strong><span class="koboSpan" id="kobo.1534.1"> inserts a given item at a specified index in </span><span class="No-Break"><span class="koboSpan" id="kobo.1535.1">the collection</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1536.1">RemoveAt</span></strong><span class="koboSpan" id="kobo.1537.1"> removes an item at a specified index in </span><span class="No-Break"><span class="koboSpan" id="kobo.1538.1">the collection</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1539.1">As an example, do you know that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1540.1">LinkedList</span></strong><span class="koboSpan" id="kobo.1541.1"> generic class implements both generic and non-generic variants of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1542.1">ICollection</span></strong><span class="koboSpan" id="kobo.1543.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1544.1">IE</span></strong><strong class="source-inline"><span class="koboSpan" id="kobo.1545.1">numerable</span></strong><span class="koboSpan" id="kobo.1546.1"> interfaces? </span><span class="koboSpan" id="kobo.1546.2">I strongly encourage you to take a look at other collections to see what interfaces are implemented by them. </span><span class="koboSpan" id="kobo.1546.3">You can see this by clicking on the collection name in your code (such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1547.1">List</span></strong><span class="koboSpan" id="kobo.1548.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.1549.1">ArrayList</span></strong><span class="koboSpan" id="kobo.1550.1">) and choosing the </span><strong class="bold"><span class="koboSpan" id="kobo.1551.1">Go To Definition</span></strong><span class="koboSpan" id="kobo.1552.1"> option from the context menu or simply by </span><span class="No-Break"><span class="koboSpan" id="kobo.1553.1">pressing </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1554.1">F12</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1555.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1556.1">Where can you find more information?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1557.1">You can find content regarding the mentioned interfaces at: </span><a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.ienumerable"><span class="koboSpan" id="kobo.1558.1">https://learn.microsoft.com/en-us/dotnet/api/system.collections.ienumerable</span></a><span class="koboSpan" id="kobo.1559.1">, </span><a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.icollection"><span class="koboSpan" id="kobo.1560.1">https://learn.microsoft.com/en-us/dotnet/api/system.collections.icollection</span></a><span class="koboSpan" id="kobo.1561.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.1562.1">and </span></span><a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.ilist"><span class="No-Break"><span class="koboSpan" id="kobo.1563.1">https://learn.microsoft.com/en-us/dotnet/api/system.collections.ilist</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1564.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1565.1">Next, I’ll summarize </span><span class="No-Break"><span class="koboSpan" id="kobo.1566.1">this chapter.</span></span></p>
<h1 id="_idParaDest-93"><a id="_idTextAnchor164"/><span class="koboSpan" id="kobo.1567.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1568.1">This chapter was dedicated to </span><strong class="bold"><span class="koboSpan" id="kobo.1569.1">lists</span></strong><span class="koboSpan" id="kobo.1570.1">, which are among the most common data structures that are used while developing various kinds of applications. </span><span class="koboSpan" id="kobo.1570.2">However, this topic is not very easy because there are various variants of lists, including simple, sorted, and linked ones. </span><span class="koboSpan" id="kobo.1570.3">Even this structure can be further divided as you saw while reading </span><span class="No-Break"><span class="koboSpan" id="kobo.1571.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.1572.1">First, you learned about </span><strong class="bold"><span class="koboSpan" id="kobo.1573.1">simple lists</span></strong><span class="koboSpan" id="kobo.1574.1">, which can be implemented as an </span><strong class="bold"><span class="koboSpan" id="kobo.1575.1">array list</span></strong><span class="koboSpan" id="kobo.1576.1"> or as a </span><strong class="bold"><span class="koboSpan" id="kobo.1577.1">generic list</span></strong><span class="koboSpan" id="kobo.1578.1">. </span><span class="koboSpan" id="kobo.1578.2">One of the most important differences between them is that the array list is not strongly typed, while the generic list is. </span><span class="koboSpan" id="kobo.1578.3">You learned about various properties and methods available for these data structures, together with extension methods. </span><span class="koboSpan" id="kobo.1578.4">Such information was supported by </span><span class="No-Break"><span class="koboSpan" id="kobo.1579.1">code snippets.</span></span></p>
<p><span class="koboSpan" id="kobo.1580.1">Next, you learned about </span><strong class="bold"><span class="koboSpan" id="kobo.1581.1">sorted lists</span></strong><span class="koboSpan" id="kobo.1582.1">, which ensures a proper order of elements available in the collection. </span><span class="koboSpan" id="kobo.1582.2">It is a bit of a different data structure but can be useful in various development scenarios. </span><span class="koboSpan" id="kobo.1582.3">You learned how to use it while creating an address book, which is always sorted </span><span class="No-Break"><span class="koboSpan" id="kobo.1583.1">by names.</span></span></p>
<p><span class="koboSpan" id="kobo.1584.1">Finally, you took a closer look at linked lists, starting with </span><strong class="bold"><span class="koboSpan" id="kobo.1585.1">singly linked lists</span></strong><span class="koboSpan" id="kobo.1586.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1587.1">doubly linked lists</span></strong><span class="koboSpan" id="kobo.1588.1">. </span><span class="koboSpan" id="kobo.1588.2">They allow you to navigate between elements, either in only one direction or in both directions. </span><span class="koboSpan" id="kobo.1588.3">Such a data structure can be easily extended to a </span><strong class="bold"><span class="koboSpan" id="kobo.1589.1">circular linked list</span></strong><span class="koboSpan" id="kobo.1590.1">, either in singly or doubly linked variants. </span><span class="koboSpan" id="kobo.1590.2">Therefore, you can benefit from the features of suitable structures without the significant </span><span class="No-Break"><span class="koboSpan" id="kobo.1591.1">development effort.</span></span></p>
<p><span class="koboSpan" id="kobo.1592.1">The available types of data structures can sound quite complicated. </span><span class="koboSpan" id="kobo.1592.2">However, in this chapter, you saw detailed descriptions of particular data structures, together with illustrations and C#-based implementations. </span><span class="koboSpan" id="kobo.1592.3">These should have helped simplify things for you and can be used as a basis for your </span><span class="No-Break"><span class="koboSpan" id="kobo.1593.1">future projects.</span></span></p>
<p><span class="koboSpan" id="kobo.1594.1">Are you ready to learn other data structures? </span><span class="koboSpan" id="kobo.1594.2">If so, proceed to the next chapter and read about </span><strong class="bold"><span class="koboSpan" id="kobo.1595.1">stacks</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1596.1">and </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1597.1">queues</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1598.1">!</span></span></p>
</div>
</body></html>