- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: '**.NET Aspire** is a new, opinionated framework offering tools and libraries
    for creating microservices with .NET, no matter whether they should run on-premises,
    on Microsoft Azure, or in any other cloud environment. In this book, you will
    learn how to get the most out of .NET Aspire when you build your solutions.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**.NET Aspire** 是一个提供工具和库的新框架，用于使用 .NET 创建微服务，无论它们是否应在本地、Microsoft Azure 或任何其他云环境中运行。在本书中，你将学习如何在构建解决方案时充分利用
    .NET Aspire。'
- en: Creating ASP.NET Core minimal APIs (an easy and fast option for creating REST
    services) is just a small part of creating applications using a microservices-based
    architecture. This book covers all the different aspects that are needed for building
    a successful solution. Accessing databases, both relational as well as NoSQL;
    using Docker and deploying Docker images; automatic deployment with GitHub actions;
    monitoring the solution with logging, metrics data, and distributed tracing; creating
    unit tests, integration tests, and load tests; automatically publishing the solution
    to different environments; and using binary, real-time, and asynchronous communication
    – all of this is covered in the book.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 创建 ASP.NET Core 最小 API（创建 REST 服务的一个简单快捷的选项）只是使用基于微服务架构创建应用程序的一部分。本书涵盖了构建成功解决方案所需的所有不同方面。访问数据库，包括关系型数据库和
    NoSQL 数据库；使用 Docker 和部署 Docker 镜像；使用 GitHub Actions 进行自动部署；通过日志、指标数据和分布式跟踪来监控解决方案；创建单元测试、集成测试和负载测试；自动将解决方案发布到不同的环境；以及使用二进制、实时和异步通信——本书都涵盖了这些内容。
- en: Through the code provided in this book, you’ll work on a backend solution to
    run a cool game. From [*Chapter 2*](B21217_02.xhtml#_idTextAnchor031), you’ll
    already have usable and testable functionality, and it will be enhanced chapter
    by chapter to cover all the important aspects relating to microservices. If you
    don’t want to work through each chapter in sequence, we have provided code that
    you can start with for each chapter.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 通过本书提供的代码，你将开发一个运行酷游戏的后端解决方案。从 [*第 2 章*](B21217_02.xhtml#_idTextAnchor031) 开始，你将拥有可用和可测试的功能，并且将逐章增强，涵盖与微服务相关的重要方面。如果你不想按顺序逐章工作，我们为每一章都提供了可以开始的代码。
- en: The application can run deployed to Microsoft Azure, using several Azure services
    such as Azure Container Apps, Container Registry, Cosmos DB, App Configuration,
    Key Vault, Redis, and SignalR Service. It can also run in an on-premises environment
    on a Kubernetes cluster using Kafka, Redis, and other resources.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序可以部署到 Microsoft Azure，并使用多个 Azure 服务，如 Azure 容器应用、容器注册库、Cosmos DB、应用配置、密钥保管库、Redis
    和 SignalR 服务。它也可以在本地环境中运行在 Kubernetes 集群上，使用 Kafka、Redis 和其他资源。
- en: By the end of this book, you’ll have become confident in implementing a stable,
    performant, and scalable solution and using various Azure services that are great
    for hosting such a service-based solution. While the solution of the book is a
    game, the knowledge learned will help you to create any business-related service
    architecture.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 到本书结束时，你将能够自信地实现一个稳定、性能良好且可扩展的解决方案，并使用各种非常适合托管此类基于服务的解决方案的 Azure 服务。虽然本书的解决方案是一个游戏，但学到的知识将帮助你创建任何与业务相关的服务架构。
- en: Who this book is for
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书面向的对象
- en: The book is for developers and software architects who are familiar with C#
    and .NET, have basic knowledge of Microsoft Azure, and want to know about all
    the aspects required for creating modern microservices with .NET and Microsoft
    Azure.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向熟悉 C# 和 .NET、对 Microsoft Azure 有基本了解，并希望了解创建现代 .NET 和 Microsoft Azure 微服务所需所有方面的开发人员和软件架构师。
- en: What this book covers
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[*Chapter 1*](B21217_01.xhtml#_idTextAnchor014), *Introduction to .NET Aspire
    and Microservices*, gives you an introduction to **.NET Aspire**, as well as tools
    and libraries that can be of great help when creating microservices. You’ll start
    an initial .NET Aspire project, and we will look at what it consists of and the
    parts of .NET Aspire you can take advantage of. You’ll see the services that the
    Codebreaker application (this is the solution we are going to build in all the
    chapters of the book) is made up of and learn about the services that are used
    with Microsoft Azure.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 1 章*](B21217_01.xhtml#_idTextAnchor014)，*.NET Aspire 和微服务简介*，为你介绍了 **.NET
    Aspire**，以及创建微服务时可能非常有用的工具和库。你将开始一个初始的 .NET Aspire 项目，我们将查看它包含的内容以及你可以利用的 .NET
    Aspire 的部分。你将看到 Codebreaker 应用程序（这是我们将在本书的所有章节中构建的解决方案）由哪些服务组成，并了解与 Microsoft
    Azure 一起使用的服务。'
- en: '[*Chapter 2*](B21217_02.xhtml#_idTextAnchor031), *Minimal APIs – Creating REST
    Services*, acts as the kick-off for creating the Codebreaker application. You
    will learn how to use the **ASP.NET Core minimal API** technology to efficiently
    create REST services, use OpenAPI to describe the services, and test the services
    with HTTP files.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第2章*](B21217_02.xhtml#_idTextAnchor031)，*最小API – 创建REST服务*，是创建Codebreaker应用程序的起点。你将学习如何使用**ASP.NET
    Core最小API**技术高效地创建REST服务，使用OpenAPI描述服务，以及使用HTTP文件测试服务。'
- en: '[*Chapter 3*](B21217_03.xhtml#_idTextAnchor063), *Writing Data to Relational
    and NoSQL Databases*, uses just the in-memory storage in [*Chapter 2*](B21217_02.xhtml#_idTextAnchor031)
    and adds database storage using **Azure SQL** and **Azure Cosmos DB**, comparing
    relational to non-relational databases and using **EF Core** with both variants.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第3章*](B21217_03.xhtml#_idTextAnchor063)，*将数据写入关系型和非关系型数据库*，仅使用[*第2章*](B21217_02.xhtml#_idTextAnchor031)中的内存存储，并添加使用**Azure
    SQL**和**Azure Cosmos DB**的数据库存储，比较关系型数据库和非关系型数据库，并使用**EF Core**处理两种变体。'
- en: '[*Chapter 4*](B21217_04.xhtml#_idTextAnchor092), *Creating Libraries for Client
    Applications*, adds client libraries to access the services, with one variant
    using an HTTP client factory and another making use of **Kiota** to automatically
    generate code for the client.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第4章*](B21217_04.xhtml#_idTextAnchor092)，*为客户端应用程序创建库*，添加了客户端库以访问服务，其中一个变体使用HTTP客户端工厂，另一个变体则利用**Kiota**自动生成客户端代码。'
- en: '[*Chapter 5*](B21217_05.xhtml#_idTextAnchor110), *Containerization of Microservices*,
    dives into all the important concepts of **Docker** and how to create Docker images
    from the services created so far. You will learn the concepts of Docker before
    using the .NET CLI to create Docker images. A **.NET native AOT** version of a
    service will be created that allows for creating Docker images without a .NET
    runtime, just native code.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第5章*](B21217_05.xhtml#_idTextAnchor110)，*微服务的容器化*，深入探讨了**Docker**的所有重要概念以及如何从迄今为止创建的服务中创建Docker镜像。在使用.NET
    CLI创建Docker镜像之前，你将学习Docker的概念。将创建一个**.NET原生AOT**版本的服务，允许在不使用.NET运行时的情况下仅使用原生代码创建Docker镜像。'
- en: '[*Chapter 6*](B21217_06.xhtml#_idTextAnchor137), *Microsoft Azure for Hosting
    Applications*, as Docker images have been created in the previous chapter, will
    now cover how to publish the application to an **Azure Container Apps** environment.
    Before that, important concepts of Azure are covered. Then, Azure resources will
    be created with the help of the Azure Developer CLI and .NET Aspire.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第6章*](B21217_06.xhtml#_idTextAnchor137)，*Microsoft Azure托管应用程序*，由于上一章已创建Docker镜像，现在将介绍如何将应用程序发布到**Azure
    Container Apps**环境。在此之前，将介绍Azure的重要概念。然后，将使用Azure Developer CLI和.NET Aspire创建Azure资源。'
- en: '[*Chapter 7*](B21217_07.xhtml#_idTextAnchor162), *Flexible Configurations*,
    dives into the .NET configuration. You’ll understand configuration providers with
    .NET, learn how configuration applies to the app model of .NET Aspire, add configurations
    and secrets with Azure Container Apps, and integrate **Azure App Configuration**
    and **Azure Key Vault**. For easier access without the need to store secrets,
    **Azure managed identities** are covered here as well.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第7章*](B21217_07.xhtml#_idTextAnchor162)，*灵活的配置*，深入探讨了.NET配置。你将了解.NET中的配置提供程序，学习配置如何应用于.NET
    Aspire的应用模型，使用Azure Container Apps添加配置和秘密，并集成**Azure App Configuration**和**Azure
    Key Vault**。为了便于访问而无需存储秘密，这里还涵盖了**Azure托管标识**。'
- en: '[*Chapter 8*](B21217_08.xhtml#_idTextAnchor183), *CI/CD – Publishing with GitHub
    Actions*, builds on the fact that continuous integration and continuous delivery
    are important aspects of a microservices solution. This chapter covers how to
    automatically build and test applications with **GitHub actions** and how to automatically
    update solutions running on Microsoft Azure. To support modern deployment patterns,
    feature flags available with Azure App Configuration are integrated in this chapter.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第8章*](B21217_08.xhtml#_idTextAnchor183)，*CI/CD – 使用GitHub Actions发布*，基于持续集成和持续交付是微服务解决方案的重要方面的事实。本章介绍了如何使用**GitHub
    actions**自动构建和测试应用程序，以及如何自动更新在Microsoft Azure上运行的应用程序。为了支持现代部署模式，本章集成了Azure App
    Configuration中可用的功能标志。'
- en: '[*Chapter 9*](B21217_09.xhtml#_idTextAnchor216), *Authentication and Authorization
    with Service and Clients*, covers two versions to authenticate and authorize applications
    and users: integration of **Azure Active Directory B2C** for the cloud version
    of the Codebreaker solution and **ASP.NET Core identities** for the on-premises
    solution. To avoid dealing with authentication with every service, a gateway using
    **YARP** is created.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第9章*](B21217_09.xhtml#_idTextAnchor216)，*服务和客户端的认证和授权*，涵盖了两种认证和授权应用程序和用户的方法：Codebreaker解决方案的云版本集成**Azure
    Active Directory B2C**和本地解决方案的**ASP.NET Core identities**。为了避免在每次服务中处理认证，创建了一个使用**YARP**的网关。'
- en: '[*Chapter 10*](B21217_10.xhtml#_idTextAnchor239), *All About Testing the Solution*,
    states that no change should break the application and errors should be detected
    as early as possible. In this chapter, you will learn about creating unit tests,
    integration tests with .NET Aspire (which makes testing a lot simpler), and using
    **Playwright** for end-to-end tests.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第10章*](B21217_10.xhtml#_idTextAnchor239)，*关于测试解决方案的所有内容*，指出任何更改都不应破坏应用程序，错误应尽早检测。在本章中，您将了解创建单元测试、使用.NET
    Aspire的集成测试（这使得测试变得简单得多），以及使用**Playwright**进行端到端测试。'
- en: '[*Chapter 11*](B21217_11.xhtml#_idTextAnchor263), *Logging and Monitoring*,
    delves into what is going on in the Codebreaker application. Memory leaks should
    be detected early. During development, we should look into the details of how
    the application communicates. This chapter covers efficient high-performance logging,
    writing custom metrics data, and distributed tracing – including the coverage
    of **OpenTelemetry** and how this integrates with .NET Aspire. In this chapter,
    we use **Prometheus** and **Grafana** for the on-premises solution and **Azure
    Application Insights** and **Azure Log Analytics** with the cloud.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第11章*](B21217_11.xhtml#_idTextAnchor263)，*日志记录和监控*，深入探讨了Codebreaker应用程序中正在发生的事情。内存泄漏应尽早检测。在开发过程中，我们应该了解应用程序是如何进行通信的。本章涵盖了高效高性能的日志记录、编写自定义指标数据以及分布式跟踪——包括**OpenTelemetry**的覆盖范围以及它如何与.NET
    Aspire集成。在本章中，我们使用**Prometheus**和**Grafana**进行本地解决方案，以及**Azure应用程序洞察**和**Azure日志分析**进行云解决方案。'
- en: '[*Chapter 12*](B21217_12.xhtml#_idTextAnchor294), *Scaling Services*, delves
    into scaling services, which is one of the important reasons for using a microservices
    architecture. Using **Azure Load Testing**, we create a huge load on the main
    service of the application and find out what the bottlenecks are, decide between
    scaling up and scaling out, and add caching to increase performance using Redis.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第12章*](B21217_12.xhtml#_idTextAnchor294)，*服务扩展*，深入探讨了服务扩展，这是使用微服务架构的重要原因之一。使用**Azure负载测试**，我们对应用程序的主要服务创建大量负载，找出瓶颈，决定是进行垂直扩展还是水平扩展，并使用Redis添加缓存以提高性能。'
- en: '[*Chapter 13*](B21217_13.xhtml#_idTextAnchor317), *Real-Time Messaging with
    SignalR*, covers informing clients in real time using **SignalR**. Using a REST
    API, a SignalR hub is invoked, passing real-time information about completed games,
    and the SignalR hub passes on this information to a group of clients. **Azure
    SignalR Service** is used to reduce the load from the services.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第13章*](B21217_13.xhtml#_idTextAnchor317)，*使用SignalR进行实时消息传递*，涵盖了使用**SignalR**实时通知客户端。使用REST
    API，调用SignalR中心，传递关于完成游戏的实时信息，SignalR中心将此信息传递给一组客户端。**Azure SignalR服务**用于减少服务的负载。'
- en: '[*Chapter 14*](B21217_14.xhtml#_idTextAnchor330), *gRPC for Binary Communication*,
    increases the performance by changing communication to **gRPC** with service-to-service
    communication. You will learn how to create a Protocol Buffers definition, implement
    services and clients using this binary platform-independent communication, and
    how .NET service discovery and .NET Aspire can be used with gRPC.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第14章*](B21217_14.xhtml#_idTextAnchor330)，*二进制通信的gRPC*，通过将通信改为服务间的**gRPC**来提高性能。您将学习如何创建协议缓冲区定义，使用这个二进制平台无关的通信平台实现服务和客户端，以及如何将.NET服务发现和.NET
    Aspire与gRPC结合使用。'
- en: '[*Chapter 15*](B21217_15.xhtml#_idTextAnchor349), *Asynchronous Communication
    with Messages and Events*, deals with the fact that often answers are not required
    immediately after the request is sent – message queues and events come into play.
    Here, **Azure message queues**, **Azure Event Hubs**, and **Kafka** for an on-premises
    environment come into play to be used.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第15章*](B21217_15.xhtml#_idTextAnchor349)，*使用消息和事件进行异步通信*，处理了请求发送后不需要立即得到答案的事实——消息队列和事件就派上用场。在这里，用于本地环境的**Azure消息队列**、**Azure事件中心**和**Kafka**被用于使用。'
- en: '[*Chapter 16*](B21217_16.xhtml#_idTextAnchor373), *Running Applications On-Premises
    and in the Cloud*, discusses what’s needed in a production environment when running
    on Azure, what the differences between production and development environments
    are, and how the Codebreaker application fulfills requirements relating to scalability,
    reliability, and security. Up to this chapter, the application was running either
    on the local development system or within an Azure Container Apps environment.
    In this chapter, the application is deployed to **Azure Kubernetes Service** and
    can be deployed in a similar way to an on-premises Kubernetes cluster using the
    **Aspir8** tool.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 16 章*](B21217_16.xhtml#_idTextAnchor373)，*在本地和云端运行应用程序*，讨论了在 Azure 上运行时生产环境所需的内容，生产环境和开发环境之间的区别，以及
    Codebreaker 应用如何满足可扩展性、可靠性和安全性方面的要求。到本章为止，应用程序要么在本地开发系统上运行，要么在 Azure 容器应用环境中运行。在本章中，应用程序被部署到
    **Azure Kubernetes 服务**，并且可以使用 **Aspir8** 工具以类似的方式部署到本地 Kubernetes 集群。'
- en: To get the most out of this book
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 要充分利用本书
- en: 'You will need to know C# and .NET and have some fundamental knowledge about
    Microsoft Azure. The following tools and applications need to be installed:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要了解 C# 和 .NET，并具备一些关于 Microsoft Azure 的基础知识。以下工具和应用程序需要安装：
- en: '| **Tool** | **Installation** |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| **工具** | **安装** |'
- en: '| **Visual Studio** **2022 (optional)** | [https://visualstudio.microsoft.com/downloads/](https://visualstudio.microsoft.com/downloads/)
    |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| **Visual Studio** **2022 (可选)** | [https://visualstudio.microsoft.com/downloads/](https://visualstudio.microsoft.com/downloads/)
    |'
- en: '| **Visual** **Studio Code** | [https://code.visualstudio.com/download](https://code.visualstudio.com/download)
    |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| **Visual** **Studio Code** | [https://code.visualstudio.com/download](https://code.visualstudio.com/download)
    |'
- en: '| **Docker Desktop** | [https://docs.docker.com/desktop/install/windows-install/](https://docs.docker.com/desktop/install/windows-install/)[https://docs.docker.com/desktop/install/mac-install/](https://docs.docker.com/desktop/install/mac-install/)[https://docs.docker.com/desktop/install/linux-install/](https://docs.docker.com/desktop/install/linux-install/)
    |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| **Docker Desktop** | [https://docs.docker.com/desktop/install/windows-install/](https://docs.docker.com/desktop/install/windows-install/)[https://docs.docker.com/desktop/install/mac-install/](https://docs.docker.com/desktop/install/mac-install/)[https://docs.docker.com/desktop/install/linux-install/](https://docs.docker.com/desktop/install/linux-install/)
    |'
- en: '| **Microsoft** **Azure subscription** | [https://azure.microsoft.com/en-us/free/](https://azure.microsoft.com/en-us/free/)
    |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| **Microsoft Azure 订阅** | [https://azure.microsoft.com/en-us/free/](https://azure.microsoft.com/en-us/free/)
    |'
- en: '| **Azure CLI** | [https://learn.microsoft.com/en-us/cli/azure/install-azure-cli](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli)
    |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| **Azure CLI** | [https://learn.microsoft.com/en-us/cli/azure/install-azure-cli](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli)
    |'
- en: '| **Azure** **Developer CLI** | [https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/install-azd](https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/install-azd)
    |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| **Azure 开发者 CLI** | [https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/install-azd](https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/install-azd)
    |'
- en: '| **Azure Cosmos** **DB emulator** | [https://learn.microsoft.com/en-us/azure/cosmos-db/how-to-develop-emulator](https://learn.microsoft.com/en-us/azure/cosmos-db/how-to-develop-emulator)
    |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| **Azure Cosmos DB 模拟器** | [https://learn.microsoft.com/en-us/azure/cosmos-db/how-to-develop-emulator](https://learn.microsoft.com/en-us/azure/cosmos-db/how-to-develop-emulator)
    |'
- en: '| **.****NET Aspire** | [https://learn.microsoft.com/en-us/dotnet/aspire/fundamentals/setup-tooling](https://learn.microsoft.com/en-us/dotnet/aspire/fundamentals/setup-tooling)
    |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| **.NET Aspire** | [https://learn.microsoft.com/en-us/dotnet/aspire/fundamentals/setup-tooling](https://learn.microsoft.com/en-us/dotnet/aspire/fundamentals/setup-tooling)
    |'
- en: Visual Studio 2022 is the only software on this list that requires Windows.
    All other tools can be used on Windows, macOS, or Linux. On platforms other than
    Windows, you can use Visual Studio Code or other tools to work with .NET and C#.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Visual Studio 2022 是本列表中唯一需要 Windows 的软件。所有其他工具都可以在 Windows、macOS 或 Linux 上使用。在除
    Windows 以外的平台上，您可以使用 Visual Studio Code 或其他工具来处理 .NET 和 C#。
- en: To use .NET Aspire with Visual Studio, at least version 17.10.0 needs to be
    installed. You can use Visual Studio 2022 Community Edition.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 .NET Aspire 与 Visual Studio 配合，至少需要安装版本 17.10.0。您可以使用 Visual Studio 2022
    社区版。
- en: 'Starting with [*Chapter 6*](B21217_06.xhtml#_idTextAnchor137), you need a Microsoft
    Azure subscription. You can activate Microsoft Azure for free at [https://azure.microsoft.com/free](https://azure.microsoft.com/free),
    which gives you about USD 200 in Azure credit that’s available for the first 30
    days and several services that can be used for free for the time after. If you
    have a Visual Studio Professional or Enterprise subscription, you also get a free
    amount of Azure resources every month. You just need to activate this with your
    Visual Studio subscription: [https://visualstudio.microsoft.com/subscriptions/](https://visualstudio.microsoft.com/subscriptions/).'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 从[*第6章*](B21217_06.xhtml#_idTextAnchor137)开始，您需要一个 Microsoft Azure 订阅。您可以在 [https://azure.microsoft.com/free](https://azure.microsoft.com/free)
    免费激活 Microsoft Azure，这将为您的 Azure 账户提供约 200 美元的信用额度，可用于前 30 天，以及在此之后可以免费使用的多项服务。如果您拥有
    Visual Studio Professional 或 Enterprise 订阅，您每月还可以获得一定数量的 Azure 资源。您只需使用 Visual
    Studio 订阅激活即可：[https://visualstudio.microsoft.com/subscriptions/](https://visualstudio.microsoft.com/subscriptions/)。
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code from the book’s GitHub repository (a link
    is available in the next section). Doing so will help you avoid any potential
    errors related to the copying and pasting** **of code.**'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您正在使用本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码复制和粘贴相关的任何潜在错误。**'
- en: Download the example code files
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Pragmatic-Microservices-with-CSharp-and-Azure](https://github.com/PacktPublishing/Pragmatic-Microservices-with-CSharp-and-Azure).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从 GitHub 下载本书的示例代码文件：[https://github.com/PacktPublishing/Pragmatic-Microservices-with-CSharp-and-Azure](https://github.com/PacktPublishing/Pragmatic-Microservices-with-CSharp-and-Azure)。
- en: The source code is using .NET 8\. After .NET 9 is released, the source code
    in the main branch will be using .NET 9 with changes described in readme files.
    At that time, the .NET 8 source code will be available in the dotnet8 branch.
    During the time the code is updated to newer versions, you can check extra branches
    which contain changes.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 源代码使用 .NET 8。在 .NET 9 发布后，主分支中的源代码将使用 .NET 9，并在 readme 文件中描述了相应的更改。那时，.NET 8
    的源代码将在 dotnet8 分支中可用。在代码更新到新版本期间，您可以检查包含更改的额外分支。
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他来自我们丰富的书籍和视频目录的代码包，可在 [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)
    获取。查看它们吧！
- en: Conventions used
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用了多种文本约定。
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: “Mount the downloaded `WebStorm-10*.dmg` disk image
    file as another disk in your system.”'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 账号。以下是一个示例：“将下载的
    `WebStorm-10*.dmg` 磁盘镜像文件挂载为系统中的另一个磁盘。”'
- en: 'A block of code is set as follows:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：
- en: '[PRE1]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都如下所示：
- en: '[PRE2]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For instance, words in menus or dialog boxes appear in **bold**. Here is an example:
    “Click the **Enable Live Trace** checkbox, and click to collect information on
    **ConnectivityLogs**, **MessagingLogs**, and **HttpRequestLogs**.”'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词以**粗体**显示。以下是一个示例：“点击**启用实时跟踪**复选框，然后点击以收集有关**连接日志**、**消息日志**和**HTTP请求日志**的信息。”'
- en: Tips or important notes
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士或重要注意事项
- en: Appear like this.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来是这样的。
- en: Get in touch
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 我们欢迎读者提供反馈。
- en: '**General feedback**: If you have questions about any aspect of this book,
    email us at [customercare@packtpub.com](mailto:customercare@packtpub.com) and
    mention the book title in the subject of your message. For questions and issues,
    you have with the source code, you can use the **Discussions** forum with the
    GitHub repository of this book: [https://github.com/PacktPublishing/Pragmatic-Microservices-with-CSharp-and-Azure/discussions](https://github.com/PacktPublishing/Pragmatic-Microservices-with-CSharp-and-Azure/discussions)'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：如果你对这本书的任何方面有疑问，请通过[customercare@packtpub.com](mailto:customercare@packtpub.com)给我们发邮件，并在邮件主题中提及书名。对于你与源代码有关的问题和问题，你可以使用这本书的GitHub存储库的**讨论**论坛：[https://github.com/PacktPublishing/Pragmatic-Microservices-with-CSharp-and-Azure/discussions](https://github.com/PacktPublishing/Pragmatic-Microservices-with-CSharp-and-Azure/discussions)'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    and fill in the form.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误**: 尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，我们将不胜感激，如果你能向我们报告这一点。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com)
    with a link to the material.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**: 如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过[版权@packt.com](mailto:copyright@packt.com)与我们联系，并提供材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且你感兴趣的是撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share Your Thoughts
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享你的想法
- en: Once you’ve read *Pragmatic Microservices with C# and Azure*, we’d love to hear
    your thoughts! Please [click here to go straight to the Amazon review page](https://packt.link/r/1835088295)
    for this book and share your feedback.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你阅读了《使用C#和Azure的实用微服务》，我们很乐意听听你的想法！请[点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1835088295)并分享你的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 你的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。
- en: Download a free PDF copy of this book
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载这本书的免费PDF副本
- en: Thanks for purchasing this book!
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢你购买这本书！
- en: Do you like to read on the go but are unable to carry your print books everywhere?
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 你喜欢在路上阅读，但无法携带你的印刷书籍到处走吗？
- en: Is your eBook purchase not compatible with the device of your choice?
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 你的电子书购买是否与你的选择设备不兼容？
- en: Don’t worry, now with every Packt book you get a DRM-free PDF version of that
    book at no cost.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 别担心，现在每购买一本Packt书籍，你都可以免费获得该书的DRM免费PDF版本。
- en: Read anywhere, any place, on any device. Search, copy, and paste code from your
    favorite technical books directly into your application.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何地方、任何地方、任何设备上阅读。直接从你最喜欢的技术书籍中搜索、复制和粘贴代码到你的应用程序中。
- en: The perks don’t stop there, you can get exclusive access to discounts, newsletters,
    and great free content in your inbox daily
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 优惠不会就此结束，你还可以获得独家折扣、时事通讯和每天收件箱中的优质免费内容。
- en: 'Follow these simple steps to get the benefits:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下简单步骤获取好处：
- en: Scan the QR code or visit the link below
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扫描二维码或访问以下链接
- en: '![](img/B21217_QR_Free_PDF.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B21217_QR_Free_PDF.jpg)'
- en: '[https://packt.link/free-ebook/9781835088296](https://packt.link/free-ebook/9781835088296)'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/free-ebook/9781835088296](https://packt.link/free-ebook/9781835088296)'
- en: Submit your proof of purchase
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提交你的购买证明
- en: That’s it! We’ll send your free PDF and other benefits to your email directly
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 就这样！我们将直接将免费PDF和其他好处发送到你的电子邮件。
- en: 'Part 1: Creating Microservices with .NET'
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一部分：使用.NET创建微服务
- en: '*Part 1* introduces the fundamental functionality of a microservices application.
    Before delving into the development of the Codebreaker application, you will explore
    .NET Aspire - a new cloud-ready stack for service construction. This section covers
    the technology’s offerings, essential features, an introduction to Microsoft Azure,
    and an overview of the components comprising the Codebreaker application. Subsequently,
    you will engage in coding using ASP.NET Core minimal APIs, crafting code for data
    interaction with both relational and NoSQL databases through **Entity Framework**
    (**EF**) Core, utilizing Azure Cosmos DB and SQL Server, and generating client
    libraries to access the REST service. One approach involves leveraging the HTTP
    client factory, while the other employs Microsoft Kioata.'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '*第一部分*介绍了微服务应用的基本功能。在深入开发Codebreaker应用之前，您将探索.NET Aspire——一种新的适用于服务构建的云就绪堆栈。本节涵盖了该技术的提供内容、基本功能、对Microsoft
    Azure的介绍以及Codebreaker应用组成组件的概述。随后，您将使用ASP.NET Core最小API进行编码，通过**Entity Framework**
    (**EF**) Core编写与关系型和非关系型数据库的数据交互代码，利用Azure Cosmos DB和SQL Server，并生成客户端库以访问REST服务。一种方法涉及利用HTTP客户端工厂，另一种则采用Microsoft
    Kioata。'
- en: Each chapter in this section provides a functional application that evolves
    with each subsequent chapter, enhancing the learning experience.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 本节中的每一章都提供了一个功能应用，该应用随着后续章节的展开而发展，从而增强学习体验。
- en: 'This part has the following chapters:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分包含以下章节：
- en: '[*Chapter 1*](B21217_01.xhtml#_idTextAnchor014), *Introduction to .NET Aspire
    and Microservices*'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第一章*](B21217_01.xhtml#_idTextAnchor014)，*.NET Aspire 和微服务简介*'
- en: '[*Chapter 2*](B21217_02.xhtml#_idTextAnchor031), *Minimal APIs – Creating REST
    Services*'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第二章*](B21217_02.xhtml#_idTextAnchor031)，*最小化API – 创建REST服务*'
- en: '[*Chapter 3*](B21217_03.xhtml#_idTextAnchor063)*, Writing Data to Relational
    and NoSQL Databases*'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第三章*](B21217_03.xhtml#_idTextAnchor063)*，将数据写入关系型和非关系型数据库*'
- en: '[*Chapter 4*](B21217_04.xhtml#_idTextAnchor092)*, Creating Libraries for Client
    Applications*'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第四章*](B21217_04.xhtml#_idTextAnchor092)*，为客户端应用程序创建库*'
