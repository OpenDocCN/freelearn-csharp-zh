# 前言

你是否曾停下来思考目前存在多少用于开发软件解决方案的技术、语言和框架？由于技术的进步，每天都有新的框架和技术出现，因此当然几乎不可能列出它们。与开源运动提出的协作模式相关联，可以访问主要玩家的技术和源代码，这允许人们开发自己的技术，最终成为开发解决方案的途径。

在网络应用背景下，已经出现了许多发展，随之而来的是不同的方法和工具的涌现，这些方法和工具使得开发越来越丰富和复杂的应用成为可能。通常，传统的客户端-服务器开发模型在某些情况下已经不再足够，随着技术的演变，采用其他方法来提升网络应用的用户体验使得 JavaScript 框架变得流行，从而催生了其他开发模型，例如使用**单页应用**（**SPAs**）。结合强大的服务器端处理模型，这使得网络应用比以往任何时候都更加互动和丰富。当我们回顾几年前的开发模型时，我们需要几个 JavaScript 文件、一种解释型语言，如 PHP、Perl 或经典 ASP 来处理服务器端的请求，以及一个数据库来持久化信息。

然而，市场变得更加动态和有需求，使得技术进步的速度越来越快。网络解决方案的开发模型已经从三四种技术的堆叠转变为多种资源、包、框架、标准、设计模式和，同样重要的是，与云环境的交互。虽然我们有一个现代的开发场景，但我们也面临着可用资源的巨大复杂性，以便我们可以创建具有支持市场多样化需求的能力的丰富解决方案，并动态地跟随组织需求的不断演变和变化，以提供越来越符合市场的解决方案，保持竞争力。

处理不同的技术也是许多团队的挑战，这些团队必须学习不同的语言和标准，并使用不同的工具来组合这些技术，以维持可持续的分布式开发模式。本书旨在为需要以动态方式交付网络解决方案、提供持续价值、并从最佳实践中受益、在持续技术演变的场景中保持最新的软件工程师提供工具、标准和可能性。为了实现这些目标，我们将学习 ASP.NET Core 9 平台，这是一个来自微软的强大开源解决方案，使我们能够开发高质量的应用程序，准备好处理云原生应用程序的标准和要求，最好的是，这些都在一个单一平台上集中。

ASP.NET Core 9 是一种不断进化的技术，它具有现代特性，使软件工程师能够在使用高级方法解决必须在不同类型环境中运行的问题时，拥有扩展和定制的功能。使用 ASP.NET Core 9，软件工程师可以受益于使用与 CLI 工具交互等实践。它是独立于操作系统的，得到了提供多个包和提供者的技术社区的广泛支持，并且框架通过开源社区不断进化。它是一种具有广泛文档和支持的技术，为最多样化的解决方案做好了准备，除了适应云原生模型外，当然还有能力与其他技术以及 JavaScript 框架集成。

ASP.NET Core 9 是一个强大的网络开发平台，提供了在不同操作系统上开发的各种工具。然而，理解超越编码过程的概念同样重要。

在本书的整个过程中，我们将学习 ASP.NET Core 9 平台的概念和基础知识，了解开发方法和云架构，学习设计网络解决方案的最佳资源，使用诸如 **持续集成** ( **CI** ) 和 **持续交付** ( **CD** ) 等机制以自动化方式提供持续价值，以及其他云原生解决方案开发模型的最佳实践和更多内容。

# 本书面向对象

本书提供了对使用 ASP.NET Core 9 技术开发基于 Web 解决方案广泛视角。它超越了传统方面，基于技术市场的需求带来了创新视角。它涵盖了从平台知识、更新、环境准备、实施和最佳安全及开发实践的使用，到通过 CI/CD、云原生开发实践、容器化等自动化解决方案的持续交付，以及 ASP.NET Core 平台的其他几个方面。

本书面向参与后端和前端解决方案开发的开发者，他们熟悉基本的或中级面向对象编程，使用 C# 和 Java 等高级语言，并有一定 HTML 和 CSS 的经验。

# 本书涵盖的内容

*第一章* ，*介绍 ASP.NET Core 9 概念*，从 ASP.NET Core 9 的基础知识开始，了解 .NET 平台的演变，它从仅适用于 Windows 的开发模型转变为成为一个开源平台，由微软和整个技术社区共同支持并不断更新。我们还将学习如何通过安装开发工具和创建应用程序所需的**软件开发工具包**（**SDK**）来准备开发环境。

*第二章* ，*使用 Razor Pages、MVC 和 Blazor 构建动态 UI*，涵盖了涉及 Web 应用程序开发的各个方面，如客户端-服务器和服务器端模型，以及了解和实现使用 ASP.NET Core 9 UI 框架（如 Razor Pages、ASP.NET MVC、Blazor）的应用程序，以及与 JavaScript 框架的集成。

*第三章* ，*构建用于服务交付的 Web API*，讨论了在 API 技术开发中的概念和最佳实践，这些技术在基于 Web 的应用程序中广泛使用。我们将了解通过 HTTP 实现的业务交付模型作为服务，并理解 ASP.NET Core 9 平台中的基本和标准，例如最小 API、过滤器、文档以及其他与基于 REST 的服务开发模型相关的标准。

*第四章* ，*使用 SignalR 进行实时交互*，通过使用 SignalR 的实时应用程序概念提供了一个丰富的用户交互解决方案，我们将学习使用 ASP.NET Core 9 进行实时编程的基础知识，支持的技术，处理流，并了解如何托管实时解决方案。

*第五章* ，*与数据和持久性一起工作*，探讨了大多数应用程序中非常重要且必要的方面，即连接到数据源以实现信息持久化的能力。我们将了解 ASP.NET Core 9 如何通过使用如 Entity Framework Core 和 Dapper 等框架，允许我们使用高级持久化模型连接到数据库，以及了解主要持久化模型和现有技术。

*第六章* ，*增强安全和质量*，涵盖了现代基于 Web 的应用程序中最敏感和重要的方面之一，即安全性。我们将了解保护应用程序的原则，消除授权和认证概念的神秘性，并通过 ASP.NET Core Identity 实现访问管理模型。

*第七章* ，*为应用程序添加功能*，旨在扩展应用程序源代码的上下文，并添加基本和最佳实践，以及现代应用程序中必要的其他资源交互，例如使用缓存策略使应用程序更具弹性。我们还将探索日志记录、跟踪和监控解决方案模型，这对于不仅支持用户，还允许团队优化、解决问题和采取主动行动的应用程序至关重要。

*第八章* ，*使用 ASP.NET Core 9 中的中间件增强应用程序*，探讨了 ASP.NET Core 中的一项强大功能，即通过中间件控制应用程序的请求和响应流。通过中间件，我们能够使用最佳实现实践扩展 Web 应用程序请求流中的功能。我们将了解管道的工作原理，如何添加中间件，以及如何创建自定义中间件。

*第九章* ，*管理应用程序设置*，更详细地阐述了与应用程序中敏感信息安全相关的一些方面。所有解决方案都依赖于一种参数化类型，并且作为良好实践，这些通常通过配置文件进行管理。通过 ASP.NET Core 9 提出的模型，为云环境准备，我们将了解如何以安全的方式连接不同的配置管理提供程序，并使用**IConfiguration**配置抽象接口的最佳开发实践。我们还将学习如何通过使用功能开关和选项模式，实时更改应用程序配置和行为。

*第十章* ，*部署和托管应用程序*，旨在向您介绍涉及开发流程和持续价值交付的其他方面。现代应用程序需要动态且不断变化，并且必须在任何时间交付，甚至在用户使用它们的时候。因此，我们将学习使用与 DevOps 文化原则相关的自动化流程，如 CI 和 CD。我们将了解在连接到 Azure 的管道中打包和发布应用程序的过程。

*第十一章* ，*使用 ASP.NET Core 9 进行云原生开发*，将向您介绍将 ASP.NET Core 9 开发的应用程序提升到另一个层次的最佳实践、工具和原则，以适应动态和现代的基于网络的解决方案开发模式。在本章中，我们将学习超越代码并培养云原生思维的重要性。我们还将学习最佳实践和原则，如十二要素应用、容器和部署策略，以及支持软件工程师为云设计稳健解决方案的资源。

# 为了充分利用这本书

本书采用理论/实践方法，为了充分利用现有知识，了解以下内容非常重要：

+   任何技术的软件开发

+   面向对象编程，基础或中级水平

+   高级语言，如 C# 和 Java

+   基础级别的 HTML 和 CSS

此外，本书中将要使用的一些工具总结如下表：

| **本书涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Visual Studio Code/Visual Studio | Windows, macOS, 或 Linux |
| Docker | Windows, macOS, 或 Linux |
| GitHub（需要账户） | SaaS 平台（[`github.com`](https://github.com)） |
| Git | Windows, macOS, 或 Linux |
| Postman | Windows, macOS, 或 Linux |
| Azure | 微软云平台（[`azure.microsoft.com`](https://azure.microsoft.com)） |

在各章节中，我们将与前面表格中提到的每个技术和工具一起工作，以简单的方式提供使用和配置的详细信息。

**如果您正在使用本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码复制和粘贴相关的任何潜在错误。**

# 下载示例代码文件

您可以从 GitHub 下载本书的示例代码文件，网址为 [`github.com/PacktPublishing/ASP.NET-Core-9.0-Essentials`](https://github.com/PacktPublishing/ASP.NET-Core-9.0-Essentials) 。如果代码有更新，它将在 GitHub 仓库中更新。

我们还有其他来自我们丰富的书籍和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 使用的约定

本书使用了多种文本约定。

**文本中的代码**：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“请求委托使用**Run**、**Map**和**Use**扩展方法配置，通常在**Program.cs**文件中配置。”

代码块设置如下：

```cs
string key1 = _configuration.GetValue<string>
  ("MyCustomSetting:Key1");
string key2 = _configuration.GetValue<string>
  ("MyCustomSetting:Key2");
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```cs
var builder = WebApplication.CreateBuilder(args);
 // Add configuration from environment variables
builder.Configuration.AddEnvironmentVariables();
// Add configuration from command-line arguments
builder.Configuration.AddCommandLine(args);
var app = builder.Build();
app.Run();
```

任何命令行输入或输出都按以下方式编写：

```cs
dotnet add package Microsoft.Azure.AppConfiguration.AspNetCore
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会以粗体显示。以下是一个示例：“在下一屏上，点击**+创建**选项以添加新资源。”

小贴士或重要注意事项

看起来是这样的。

# 联系我们

欢迎读者反馈。

**一般反馈**：如果您对本书的任何方面有疑问，请通过 mailto:customercare@packtpub.com 给我们发邮件，并在邮件主题中提及书名。

**勘误**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在此书中发现错误，我们将不胜感激，如果您能向我们报告，我们将不胜感激。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。

**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过 mailto:copyright@packt.com 与我们联系，并提供材料的链接。

**如果您想成为作者**：如果您在某个主题上具有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享您的想法

一旦您阅读了*ASP.NET Core 9.0 Essentials*，我们很乐意听听您的想法！请[点击此处直接访问此书的亚马逊评论页面](https://packt.link/r/183546906X)并分享您的反馈。

您的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

您喜欢在路上阅读，但无法携带您的印刷书籍到处走吗？

您的电子书购买是否与您选择的设备不兼容？

别担心，现在每购买一本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠不仅限于此，您还可以获得独家折扣、时事通讯和每日免费内容的每日电子邮件访问权限

按照以下简单步骤获取好处：

1.  扫描下面的二维码或访问以下链接

![img](img/B21788_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781835469064`](https://packt.link/free-ebook/9781835469064)

1.  提交您的购买证明

1.  就这些！我们将直接将免费 PDF 和其他好处发送到您的电子邮件中

# 第一部分：ASP.NET Core 9 基础知识

在本第一部分中，我们将重点关注 ASP.NET Core 9 平台的基础知识，了解平台原理和版本中的新功能。我们还将使用开发工具如 Visual Studio Code 和 Visual Studio，以及包含实现解决方案所需的包和 CLI 工具的 **软件开发工具包**（**SDK**）来准备开发环境。本第一部分获得的所有知识对于读者能够更清晰地学习本书其余部分涵盖的其他主题至关重要。

本部分包含以下章节：

+   *第一章* ，介绍 *ASP.NET Core 9* 概念

+   *第二章* ，使用 Razor Pages、MVC 和 Blazor 构建动态 UI

+   *第三章* ，构建用于服务交付的 Web API

+   *第四章* ，使用 SignalR 进行实时交互
