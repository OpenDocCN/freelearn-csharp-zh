<html><head></head><body>
		<div><h1 id="_idParaDest-158"><em class="italic"><a id="_idTextAnchor161"/>Chapter 9</em>: Creating a 2D Shop Interface and In-Game HUD</h1>
			<p>In this chapter, we will be paying attention to our shop interface and how we can improve it visually, as well as its functionality. The current shop works well, but we could make it support multiple screen ratios. We could also introduce Unity's Event system and Button components, as well as a few other new functionalities.</p>
			<p>The other area we will be visiting in this chapter is the in-game <strong class="bold">Heads-Up Display</strong> (<strong class="bold">HUD</strong>). This is fairly common in games where we have the game's information displayed at a particular location on the screen. We will be displaying our player's lives and score and a mini-map to show where our enemies are. This can be seen in the following screenshot:</p>
			<div><div><img src="img/Figure_9.01_B18381.jpg" alt="Figure 9.1 – Our in-game HUD&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.1 – Our in-game HUD</p>
			<p>The other half of this chapter will be about improving the 2D visuals of our shop scene so that there are choices in terms of the upgrades we can buy and so that we can also expand the size of the shop dynamically. Also, your shop scene will support any landscape ratio, unlike what it did previously. The following screenshot shows what our shop looks like in different ratio sizes:</p>
			<div><div><img src="img/Figure_9.02_B18381.jpg" alt="Figure 9.2 – The left side displays all buttons; the right side cuts off the button edges&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.2 – The left side displays all buttons; the right side cuts off the button edges</p>
			<p>In the previous screenshot, notice that the <strong class="bold">3:2</strong> screen ratio cuts off some of the screen (you will especially notice this from each screen's selection grid spacing) compared to our <strong class="bold">1920 x 1080 (16:9)</strong> screen ratio. By the end of this chapter, our shop scene will look like the one shown in the following screenshot, no matter what landscape ratio our game is in:</p>
			<div><div><img src="img/Figure_9.03_B18381.jpg" alt="Figure 9.3 – Our in-game shop with a flexible UI display (no cutoff)&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.3 – Our in-game shop with a flexible UI display (no cutoff)</p>
			<p>In this chapter, we will cover the following topics:</p>
			<ul>
				<li>Setting up our HUD</li>
				<li>Making our <code>shop</code> scene support alternative screen ratios</li>
				<li>Applying and modifying our <code>shop</code> scripts</li>
			</ul>
			<p>Let's start by reviewing the core exam skills that will be covered in this chapter.</p>
			<h1 id="_idParaDest-159"><a id="_idTextAnchor162"/>Core exam skills covered in this chapter</h1>
			<p>The following are the core exam skills that will be covered in this chapter:</p>
			<ul>
				<li><em class="italic">Working in the art pipeline</em>:<ul><li>Understand materials, textures, and shaders, and write scripts that interact with Unity's rendering API.</li></ul></li>
				<li><em class="italic">Developing application systems</em>:<ul><li>Interpret scripts for application interface flow such as menu systems, UI navigation, and application settings.</li><li>Interpret scripts for user-controlled customization such as character creators, inventories, storefronts, and in-app purchases.</li><li>Analyze scripts for user progression features such as scoring, leveling, and in-game economies utilizing technologies such as Unity Analytics and PlayerPrefs.</li><li>Analyze scripts for 2D overlays, such as HUDs, minimaps, and advertisements.</li><li>Identify scripts for saving and retrieving application and user data.</li></ul></li>
				<li><em class="italic">Programming for scene and environment design</em>:<ul><li>Identify methods for implementing Game Object instantiation, destruction, and management.</li></ul></li>
				<li><em class="italic">Optimizing for performance and platforms</em>:<ul><li>Identify optimizations to address requirements for specific build platforms and/or hardware configurations.</li><li>Determine common UI affordances and optimizations for XR platforms.</li></ul></li>
				<li><em class="italic">Working in professional software development teams</em>:<ul><li>Recognize techniques for structuring scripts for modularity, readability, and reusability.</li></ul></li>
			</ul>
			<h1 id="_idParaDest-160"><a id="_idTextAnchor163"/>Technical requirements</h1>
			<p>The project content for this chapter can be found at <a href="https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/tree/main/Chapter_09">https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/tree/main/Chapter_09</a></p>
			<p>You can download the entirety of each chapter's project files at <a href="https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition">https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition</a>.</p>
			<p>All the content for this chapter is held in this chapter's <code>unitypackage</code> file, including a <code>Complete</code> folder that holds all of the work we'll carry out in this chapter.</p>
			<p>Check out the following video to see the <em class="italic">Code in Action</em>: <a href="https://bit.ly/3LsxDWC">https://bit.ly/3LsxDWC</a>.</p>
			<h1 id="_idParaDest-161"><a id="_idTextAnchor164"/>Setting up our HUD</h1>
			<p>With side-scrolling <a id="_idIndexMarker849"/>shooter games, it is common for us to have some form of recording of how many lives the player has, what their score is, a time limit, power-ups, and more. We are going to apply a typical HUD to show a similar set of information. Knowing about HUDs is a requirement of the Unity Programmer Exam.</p>
			<p>By the end of this section, we will have created a HUD for our game that will consist of the following:</p>
			<ul>
				<li>Lives</li>
				<li>Mini-map</li>
				<li>Score</li>
			</ul>
			<p>Before we add our HUD, we need to decide where it will sit on top of our game screen. As an example, we will pick a game so that we can briefly study how its HUD information is displayed.</p>
			<p>We will be looking at a<a id="_idIndexMarker850"/> game called <strong class="bold">Super R-Type</strong>, which can be found at <a href="https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/blob/main/Chapter_09/superRtype.jpg">https://github.com/PacktPublishing/Unity-Certified-Programmer-Exam-Guide-Second-Edition/blob/main/Chapter_09/superRtype.jpg</a>. Here, at the bottom of the screen, we can see that its HUD is made up of four parts, as follows:</p>
			<ul>
				<li>Skill level</li>
				<li>Lives</li>
				<li>Power bar</li>
				<li>Score</li>
			</ul>
			<p>Behind these details is a black background so that the scene doesn't interfere when it comes to reading the HUD.</p>
			<p>So, in this section, we'll start by declaring the HUD space and giving it a dark background. To do this, follow these instructions:</p>
			<ol>
				<li>In the Unity Editor, navigate to <code>Assets/Scene</code> in the <strong class="bold">Project</strong> window.</li>
				<li>Open the <code>level1</code> scene.</li>
				<li>With <code>level1</code> loaded, go to the <code>Canvas</code> game object, and select <strong class="bold">UI</strong> | <strong class="bold">Image</strong>.</li>
				<li>A game<a id="_idIndexMarker851"/> object called <code>Image</code> will appear in the <code>Canvas</code> game object.</li>
			</ol>
			<p>From the previous chapter, we should know that a game object containing an <code>Canvas</code>.</p>
			<ol>
				<li value="5">Right-click the <code>Image</code> game object and select <code>background</code>.</li>
			</ol>
			<p>So far, we have created a game object that holds an <strong class="bold">Image</strong> component.</p>
			<p>Now, let's move on and scale this game object into its correct placeplace so that it can be used as a background for our HUD. Follow these steps:</p>
			<ol>
				<li value="1">With our <code>background</code> game object still selected, alter the <strong class="bold">Rect Transform</strong> settings in the <strong class="bold">Inspector</strong> window to the following:</li>
			</ol>
			<p class="figure-caption">t</p>
			<div><div><img src="img/Figure_9.04_B18381.jpg" alt="Figure 9.4 – background Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.4 – background Rect Transform property settings</p>
			<p>Our <code>background</code> game <a id="_idIndexMarker852"/>object should be scaled to the same proportions and centered as a white bar at the bottom of the screen, as shown in the following screenshot:</p>
			<div><div><img src="img/Figure_9.05_B18381.jpg" alt="Figure 9.5 – Game window showing the placement of our background game object&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.5 – Game window showing the placement of our background game object</p>
			<p>Now, let's darken this <code>background</code> game object so that it blends in with our game.</p>
			<ol>
				<li value="2">With the <code>background</code> game object still selected, in the <code>12</code>, <code>13</code>, <code>13</code>, <code>210</code>, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.06_B18381.jpg" alt="Figure 9.6 – background color and alpha values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.6 – background color and alpha values</p>
			<p>The <code>background</code> game<a id="_idIndexMarker853"/> object has changed color from its default white to a dark, slightly transparent color. </p>
			<p>The area for our HUD has been set. The following subsections will go through each segment of our HUD and explain how to create the following:</p>
			<ul>
				<li><code>GameManager</code> script. Each life will be grouped neatly.</li>
				<li><strong class="bold">Display score</strong>: The script already keeps track of the player's score, so all we need to do is use a <strong class="bold">Text</strong> component to keep the information up to date.</li>
				<li><strong class="bold">Mini-map</strong>: The mini-map will work visually similar to a radar, where the player will be able to see the wave of enemy opponents approaching them. This mini-map will be made using a second camera at a wider angle and will only display colored dots instead of the actual ships themselves. </li>
			</ul>
			<p>Now, we can <a id="_idIndexMarker854"/>begin filling the HUD with data that we have already made in our script, starting with the player's lives. </p>
			<h2 id="_idParaDest-162"><a id="_idTextAnchor165"/>Displaying the player's lives</h2>
			<p>The player <a id="_idIndexMarker855"/>starts the game with three lives. The<a id="_idIndexMarker856"/> two typical ways of displaying the number of lives to the player are by displaying a number count or showing a little icon for each life they have. Let's go for the latter as we can use a couple of Unity components we haven't used before.</p>
			<p>This section will also include some extra code that will be put into our <code>GameManager</code> script. This code will run a check to see how many lives the player has. With each life that's found, a game object will be created that holds an image.</p>
			<h3>Adding a Horizontal Layout Group component to our game object</h3>
			<p>All<a id="_idIndexMarker857"/> game <a id="_idIndexMarker858"/>object<a id="_idIndexMarker859"/> lives that will be created will be stored in a game object called <code>lives</code>. Let's continue working on the HUD and add the <code>lives</code> game object:</p>
			<ol>
				<li value="1">In the <code>Canvas</code> game object and select <strong class="bold">Create empty</strong> from the drop-down list. A new empty game object will be created.</li>
				<li>Right-click the new game object and select <code>lives</code>.</li>
				<li>Next, position the <code>lives</code> game object by adding the <strong class="bold">Rect Transform</strong> properties shown in the following screenshot: </li>
			</ol>
			<div><div><img src="img/Figure_9.07_B18381.jpg" alt="Figure 9.7 – lives Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.7 – lives Rect Transform property settings</p>
			<p>The last <a id="_idIndexMarker860"/>thing<a id="_idIndexMarker861"/> we need to <a id="_idIndexMarker862"/>do to the <code>lives</code> game object is to give it a <strong class="bold">Horizontal Layout Group</strong> component. This component will make it so that when we create an image to represent each life the player has, we'll display a spaceship image. </p>
			<p>The <strong class="bold">Horizontal Layout Group</strong> component will put each spaceship image in a stacked order. To add this component, follow these steps:</p>
			<ol>
				<li value="1">With the <code>lives</code> game object still selected, click the <strong class="bold">Add Component</strong> button in the <strong class="bold">Inspector</strong> window.</li>
				<li>The <code>Horizontal Layout Group</code> until you see it on the list. When you do, select it.</li>
			</ol>
			<p><em class="italic">Figure 9.8</em> shows the <code>lives</code> game object. We will need to alter some values of each <code>life</code> image so that they aren't too large.</p>
			<ol>
				<li value="3">Change the <strong class="bold">Horizontal Layout Group</strong> property values to the ones shown in the following screenshot (you may need to click the arrow next to <strong class="bold">Padding</strong> to expand its content):</li>
			</ol>
			<div><div><img src="img/Figure_9.08_B18381.jpg" alt="Figure 9.8 – Horizontal Layout Group property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.8 – Horizontal Layout Group property values</p>
			<p>So far, we have created a game object called <code>lives</code> that will store and automatically order each player's ship image.</p>
			<p>In the next section, we are going to create a game object that will house each player's ship image. As an example of what's to come in the next two sections, the following <a id="_idIndexMarker863"/>screenshot <a id="_idIndexMarker864"/>demonstrates<a id="_idIndexMarker865"/> our <code>lives</code> game object holding each <code>life</code> game object:</p>
			<div><div><img src="img/Figure_9.09_B18381.jpg" alt="Figure 9.9 – Three lives spaced and in correct proportion&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.9 – Three lives spaced and in correct proportion</p>
			<p>Now, let's move on to making a game object called <code>life</code> that will store a spaceship icon.</p>
			<h3>Creating images to represent our life count</h3>
			<p>In this section, we<a id="_idIndexMarker866"/> are going to create <a id="_idIndexMarker867"/>a game object that will hold an <strong class="bold">Image</strong> component that will be a symbol of the player ship. We will also be sizing it specifically so that it's uniform with the other lives it sits with.</p>
			<p>Let's start by creating a game object that holds an <strong class="bold">Image</strong> component:</p>
			<ol>
				<li value="1">In the <code>Canvas</code> game object and select <strong class="bold">UI</strong> and then <strong class="bold">Image</strong> from the drop-down list.</li>
				<li>Select the game object, right-click it, and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the newly created game object <code>life</code>.</li>
				<li>Add an image and color to the <strong class="bold">Image</strong> component, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.10_B18381.jpg" alt="Figure 9.10 – Click the remote button to access which source image is used for the Image component&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.10 – Click the remote button to access which source image is used for the Image component</p>
			<ol>
				<li value="5">To add a source image to the <code>life</code> game object, click the <strong class="bold">remote</strong> button to the side of <strong class="bold">Source Image</strong> (denoted by an arrow in the previous screenshot).</li>
				<li>In the drop-down list, start typing <code>life</code> until you see it appear, and then click it.</li>
			</ol>
			<p>Our ship icon should look like the one shown in the following screenshot. If it doesn't, it may have a <strong class="bold">Default</strong> texture type and will need to be changed to a <strong class="bold">Sprite</strong>. We covered how to change this in <a href="B18381_05_Epub.xhtml#_idTextAnchor107"><em class="italic">Chapter 5</em></a>, <em class="italic">Creating a Shop Scene for Our Game</em>:</p>
			<div><div><img src="img/Figure_9.11_B18381.jpg" alt="Figure 9.11 – Our ship sprite life&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.11 – Our ship sprite life</p>
			<p>I'm going<a id="_idIndexMarker868"/> to change the color <a id="_idIndexMarker869"/>of the icon slightly as it's possibly a bit too distracting for the player.</p>
			<ol>
				<li value="7">With the <code>life</code> game object still selected, click the <code>153</code>, <code>177</code>, <code>177</code>, <code>255</code>).</li>
				<li>Make sure to tick the <strong class="bold">Preserve Aspect</strong> box in the <strong class="bold">Image</strong> component so our life doesn't lose its proportions.</li>
			</ol>
			<p>That's our <code>life</code> game object created. The final thing we need to do to it is to turn it into a prefab. As a reminder, the benefits of a prefab are that we have a game object with its components, preferences, and settings all stored. The prefab will allow us to create as many clones as required.</p>
			<p>To turn this <code>life</code> game object into a prefab, do the following:</p>
			<ol>
				<li value="1">In the <code>Assets/Resources</code>.</li>
				<li>Click and drag the <code>life</code> game object from the <code>Prefab</code> folder. That's our prefab created.</li>
			</ol>
			<p>We can now delete the <code>life</code> game object in the <strong class="bold">Hierarchy</strong> window as we will be creating this <a id="_idIndexMarker870"/>game object with <a id="_idIndexMarker871"/>code in the next section.</p>
			<h3>Coding our UI life counter</h3>
			<p>In this <a id="_idIndexMarker872"/>section, we are going to revisit the <code>GameManager</code> script, taking<a id="_idIndexMarker873"/> the information about the player's life count and displaying it in the form of our UI system.</p>
			<p>The following screenshot shows a section of the <code>level1</code> scene's <code>Canvas</code> game object. Within <code>Canvas</code> is the HUD <code>background</code> game object at the top, followed by the <code>lives</code> game object. Finally, with our code (which we will write shortly), we have created three <code>life</code> game objects within our <code>lives</code> game object:</p>
			<div><div><img src="img/Figure_9.12_B18381.jpg" alt="Figure 9.12 – Our Hierarchy containing a lives game object and its life children&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.12 – Our Hierarchy containing a lives game object and its life children</p>
			<p>To instantiate the <code>life</code> game objects so that they show the same amount as our player's lives, do the following:</p>
			<ol>
				<li value="1">In the <code>Assets/Script</code> folder.</li>
				<li>Double-click the file to open <code>GameManager</code>.</li>
			</ol>
			<p>The <code>GameManager</code> script already has an <code>Awake()</code> function, which is the first thing the script tries to activate once the script becomes active. What we don't currently have is a <code>Start()</code> function that gets called after <code>Awake()</code>.</p>
			<p>We can create a <code>Start()</code> function in <code>GameManager</code> and make it call a method that we are going to make shortly, called <code>SetLivesDisplay</code>, and send it our <code>playerLives</code> variable, which is the count of the player's lives.</p>
			<p>Like any function, we can place it anywhere within the class, as long as it's not inside another method/function. I typically keep my <code>Awake()</code> and <code>Start()</code> functions near the top of the <code>GameManager</code> class. To call the custom method in the <code>Start()</code> function, do the following.</p>
			<ol>
				<li value="3">Enter<a id="_idIndexMarker874"/> the<a id="_idIndexMarker875"/> following code in the <code>GameManager</code> script:<pre>   void Start()
   {
     SetLivesDisplay(playerLives);
   }</pre></li>
			</ol>
			<p>Now, we'll fill in the content for the <code>SetLivesDisplay</code> method.</p>
			<p>I have put my <code>SetLivesDisplay</code> near the bottom of the <code>GameManager</code> script, but like the <code>Start</code> and <code>Awake</code> functions, you can put them wherever you wish in the <code>GameManager</code> script.</p>
			<ol>
				<li value="4">Enter the following code:<pre>public void SetLivesDisplay(int players)
    {</pre></li>
			</ol>
			<p>This method is set to <code>public</code> because our <code>ScenesManager</code> script will need to access it to load whatever level the player is on. We have our <code>SetLivesDisplay</code> method set to <code>void</code> as we aren't returning anything while in the method. As I mentioned previously, we take in the <code>playerLives</code> integer but we will refer to it as <code>players</code> while in the method.</p>
			<p>Let's continue by adding some code inside the <code>SetLivesDisplay</code> method. This is where we will be checking, adding, and visually removing lives if the player dies.</p>
			<ol>
				<li value="5">Enter the following code inside the <code>SetLivesDisplay</code> method:<pre>if (GameObject.Find("lives"))
    {
      GameObject lives = GameObject.Find("lives");
      if (lives.transform.childCount &lt; 1)
      {
        for (int i = 0; i &lt; 5; i++)
        {
          GameObject life = GameObject.Instantiate(Resources
            .Load ("life")) as GameObject;
          life.transform.SetParent(lives.transform);
        } 
      }</pre></li>
			</ol>
			<p>In <a id="_idIndexMarker876"/>the <a id="_idIndexMarker877"/>previous code, we ran a check to find a game object called <code>lives</code>. If we find the game object, we store its reference in a game object called <code>lives</code>. We then ran a check to see <code>if</code> our <code>lives</code> game object is holding any game objects. If <code>lives</code> isn't holding any game objects, we are assuming this is the beginning of the level and that we need to create some lives. Inside the <code>if</code> statement, we ran a <code>for</code> loop with a limit of <code>5</code> counts. Inside this <code>for</code> loop, we <code>instantiate</code> our <code>life</code> prefab and let it sit inside the <code>lives</code> game object.</p>
			<ol>
				<li value="6">Continue writing inside the <code>SetLivesDisplay</code> method, which is where we manage the count of each <code>life</code> prefab, and make it show the actual amount <a id="_idIndexMarker878"/>of<a id="_idIndexMarker879"/> lives the player has:<pre>      //set visual lives
      for (int i = 0; i &lt; lives.transform.childCount; i++)
      {
        lives.transform.GetChild(i).localScale = new Vector3(1,1,1);
      }
      //remove visual lives
      for (int i = 0; i &lt; (lives.transform.childCount - players); i++)
      {
        lives.transform.GetChild(lives.transform.childCount - i
            -1).localScale = Vector3.zero;
      }
    }
  }</pre></li>
			</ol>
			<p>There are two main parts to the code we just wrote. The first <code>for</code> loop is set by the count of how many game objects sit under the <code>lives</code> game object. Each game object under <code>lives</code> gets scaled to <code>1</code>.</p>
			<p>The second <code>for</code> loop takes the count of game objects under <code>lives</code> and subtracts it against the player's <code>int</code> variable that is brought into the parameters of this method. Inside this second <code>for</code> loop – depending on how big the player's <code>int</code> variable is – each <code>life</code> prefab is shrunk to 0. Scaling the <code>life</code> prefab to 0 doesn't affect the <code>lives</code> counter to not fluctuate based on the number of lives shown.</p>
			<ol>
				<li value="7">Save the script.</li>
			</ol>
			<p><code>GameManager</code> is now capable of creating a life meter at the bottom of the <code>level1</code> scene. We now need to add some functionality so that <code>ScenesManager</code> loads the number of lives when the level is loaded.</p>
			<p>To get the <code>ScenesManager</code> script to load the player's lives when a level starts or when the player dies, do the following:</p>
			<ol>
				<li value="1">In the <code>ScenesManager</code> script, <code>Assets/Script</code>.</li>
				<li>Double-click <a id="_idIndexMarker880"/>the <code>ScenesManager</code> script <a id="_idIndexMarker881"/>to be able to start coding.</li>
				<li>In the <code>ScenesManager</code> script, we will add a <code>Start()</code> function that will contain a known Unity delegate, <code>sceneLoaded</code>, which is called from Unity's own <code>SceneManager</code>. This delegate will subscribe to when our game scene changes. For more information about the <code>sceneLoaded</code> delegate, go to <a href="https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager-sceneLoaded.html">https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager-sceneLoaded.html</a>.</li>
				<li>Within the <code>ScenesManager</code> script, enter the <code>Start</code> function, along with the name of the function we are hooking into the delegate:<pre>  void Start()
   {
       SceneManager.sceneLoaded += OnSceneLoaded;
   }</pre></li>
			</ol>
			<p>Still in the <code>ScenesManager</code> script, we will add the Unity-recognized function, which will automatically take <code>Scene</code> and <code>LoadSceneMode</code> types, even if we aren't going to do anything with them.</p>
			<p>Inside the function, we are calling the <code>GameManager</code> script's <code>SetLivesDisplay</code>, along with the number of lives the player has.</p>
			<ol>
				<li value="5">Enter the following code we just discussed inside <code>ScenesManager</code>:<pre>private void OnSceneLoaded(Scene aScene, LoadSceneMode aMode)
{
    GetComponent&lt;GameManager&gt;().SetLivesDisplay(GameManager.playerLives); 
}</pre></li>
				<li>Save the script.</li>
			</ol>
			<p>Let's<a id="_idIndexMarker882"/> check <a id="_idIndexMarker883"/>what we have made:</p>
			<ol>
				<li value="1">Go back into the Unity Editor while still being in the scene we are working on (<code>level1</code>).</li>
				<li>Press <strong class="bold">Play</strong> – three lives should be displayed. If the player dies, the life count will drop to two.</li>
			</ol>
			<p>The following screenshot shows the game being played, alongside the player's lives in the bottom left:</p>
			<div><div><img src="img/Figure_9.13_B18381.jpg" alt="Figure 9.13 – Screenshot of our game currently with its lives counter&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.13 – Screenshot of our game currently with its lives counter</p>
			<p>In this section, we have hooked up the player's lives so that they can be displayed in the bottom-left corner of the HUD. We have applied components such as <strong class="bold">Horizontal Layout Group</strong> and <strong class="bold">Layout Element</strong> to set the player's lives images in uniform order and size. We <a id="_idIndexMarker884"/>also made the code apply and update the <a id="_idIndexMarker885"/>player's lives whenever the scene loads up.</p>
			<p>Next, we will focus on the other side of the HUD and display the player's score.</p>
			<h2 id="_idParaDest-163"><a id="_idTextAnchor166"/>Displaying the player's score</h2>
			<p>In this<a id="_idIndexMarker886"/> section, we will be applying the <a id="_idIndexMarker887"/>player's score on the right-hand side of the HUD, which we are currently filling up with information about the player.</p>
			<p>We will continue to work in the <code>Canvas</code> game object and add another game object called <code>score</code>. Here, we will add a <code>ScenesManager</code> code to load the score display. Let's get started:</p>
			<ol>
				<li value="1">While still in the <code>level1</code> scene, right-click the <code>Canvas</code> game object in the <strong class="bold">Hierarchy</strong> window.</li>
				<li>From the drop-down list, select <strong class="bold">UI</strong> | <strong class="bold">Text</strong>.</li>
				<li>Right-click the new <code>Text</code> game object and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the game object <code>score</code>.</li>
			</ol>
			<p>With the <code>score</code> game object renamed and located inside the <code>Canvas</code> game object, the next thing we need to do is to size and move the <code>score</code> game object into position.</p>
			<ol>
				<li value="5">With the <code>score</code> game object still selected, alter its <strong class="bold">Rect Transform</strong> properties in the <strong class="bold">Inspector</strong> window so that they look like the ones shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.14_B18381.jpg" alt="Figure 9.14 – score Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.14 – score Rect Transform property settings</p>
			<p>With the <code>score</code> game object in the correct position and scale, we can now customize its <strong class="bold">Text</strong> component settings.</p>
			<p>With the <code>score</code> game<a id="_idIndexMarker888"/> object still selected, make<a id="_idIndexMarker889"/> the following changes to its <strong class="bold">Text</strong> component in the <strong class="bold">Inspector</strong> window:</p>
			<ol>
				<li value="1">Change the <code>00000000</code>. The number of zeros in the <strong class="bold">Text</strong> field will help us specify the size of the board.</li>
				<li>As shown in the following screenshot, we have selected the same custom text we used for the game's level scene titles. Click the <strong class="bold">remote</strong> button to the right of the <strong class="bold">Font</strong> field and select <strong class="bold">ethnocentric rg it</strong> from the drop-down list.</li>
				<li>Set the <strong class="bold">Alignment</strong> buttons to <strong class="bold">Align Right</strong> and <strong class="bold">Middle Center</strong>. This will position the text and minimize any space on its right-hand side.</li>
				<li>Have <code>score</code> text font size will set itself.</li>
				<li>Change the <code>0</code> and <code>60</code>. This will set the limits for the <strong class="bold">Best Fit</strong> text.</li>
			</ol>
			<p>The last property to change is the <strong class="bold">Color</strong> property of the text. We will set this to the same color as our player's lives.</p>
			<ol>
				<li value="6">Click the <code>153</code>, <code>177</code>, <code>178</code>, <code>255</code>.</li>
			</ol>
			<p>The following <a id="_idIndexMarker890"/>screenshot <a id="_idIndexMarker891"/>shows what our <strong class="bold">Text</strong> component properties have been set to:</p>
			<div><div><img src="img/Figure_9.15_B18381.jpg" alt="Figure 9.15 – score Text Component property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.15 – score Text Component property settings</p>
			<p>If we check the <strong class="bold">Game</strong> window, we should see that the score in the right-hand corner is a good size, as shown in the following screenshot:</p>
			<div><div><img src="img/Figure_9.16_B18381.jpg" alt="Figure 9.16 – Our In-Game HUD now holding the score&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.16 – Our In-Game HUD now holding the score</p>
			<p>The final phase for our <code>score</code> game object is to update our <code>ScenesManager</code> script by adding an <code>if</code> statement to check whether the <code>score</code> game object is in the scene.</p>
			<p>To update the <code>ScenesManager</code> script so that it supports our new score game object, do the following:</p>
			<ol>
				<li value="1">In the <code>Assets</code> folder.</li>
				<li>Double-click the <code>ScenesManager</code> script and scroll down to where we entered the <code>OnSceneLoaded</code> function.</li>
				<li>Inside the <code>OnSceneLoaded</code> function, enter the following code:<pre> if (GameObject.Find("score"))
 {
 GameObject.Find("score").GetComponent&lt;Text&gt;().text =
    GetComponent&lt;ScoreManager&gt;().PlayersScore.ToString();
 } </pre></li>
			</ol>
			<p>As <a id="_idIndexMarker892"/>briefly<a id="_idIndexMarker893"/> mentioned in the newly added piece of code, we are checking whether the <code>score</code> game object is in the scene. If <code>score</code> is present in the scene, then we grab its <code>Text</code> component and apply the player's score integer to it from the <code>ScoreManager</code> script. Also make sure you have the <code>using UnityEngine.UI</code> at the top of the script to access the <code>Text</code> component.</p>
			<ol>
				<li value="4">Save the script.</li>
			</ol>
			<p>Speaking of the <code>ScoreManager</code> script, we need to load this script back up so that its <code>ResetMethod</code> resets the <code>score</code> UI at the start/end of each game. Follow these steps to do so:</p>
			<ol>
				<li value="1">In the <code>ScoreManager</code> script located in <code>Assets/Script</code> and open the file.</li>
			</ol>
			<p>Inside the script, we need to bring in the <code>UnityEngine.UI</code> library so that we can make changes to our game's visual score.</p>
			<ol>
				<li value="2">At the very top of the <code>ScoreManager</code> script, enter the following code:<pre><strong class="bold">using UnityEngine.UI;</strong></pre></li>
				<li>Within the <code>ResetScore</code> method, add an <code>if</code> statement that checks that the <code>score</code> UI game object is in the scene and updates. The following code shows the complete <code>ResetScore</code> method in the <code>ScoreManager</code> script:<pre>public void ResetScore()
 {
     playerScore = 00000000;
     UpdateScore();
 }</pre></li>
				<li>We also need to apply <a id="_idIndexMarker894"/>the <code>UpdateScore</code> <a id="_idIndexMarker895"/>method to our <code>SetScore</code> function. Go ahead and apply it as shown in the following code:<pre>public void SetScore(int incomingScore)
{
         playerScore += incomingScore; 
         
         UpdateScore();
}</pre></li>
				<li>We now need to move our <code>UpdateScore</code> method within the <code>ScoreManager</code> script. To do that, add the following new method to update our score whenever it is set or reset:<pre>void UpdateScore()
{
if (GameObject.Find("score"))
        {     GameObject.Find("score").GetComponent&lt;Text&gt;().text = playerScore.ToString();
        }
}</pre></li>
				<li>Save the script. </li>
				<li>Go back into the Unity Editor and click the <code>level1</code>.</li>
			</ol>
			<p>Our <code>score</code> game object will now update when we destroy the enemies, as shown in the following screenshot:</p>
			<div><div><img src="img/Figure_9.17_B18381.jpg" alt="Figure 9.17 – Screen of our game with the score totaling up&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.17 – Screen of our game with the score totaling up</p>
			<p>In this section, we took the existing <code>ScoreManager</code> code that was originally displaying the player's score and made it into a <code>score</code> variable to the new HUD score in the <code>level1</code> scene, which will update when an <a id="_idIndexMarker896"/>enemy<a id="_idIndexMarker897"/> is destroyed.</p>
			<p>The final piece we need to create for the HUD is the mini-map, which will give us a visual of the enemies in our level.</p>
			<h2 id="_idParaDest-164"><a id="_idTextAnchor167"/>Creating a mini-map</h2>
			<p>In this<a id="_idIndexMarker898"/> section, we<a id="_idIndexMarker899"/> are going to fit a mini-map inside the HUD display to show a larger scope of the level. This will display the player, along with the enemies nearby, in a radar style. The following screenshot shows a radar in the middle of the HUD that represents the player, along with the enemies around them and other enemies that are due to enter the player's screen:</p>
			<div><div><img src="img/Figure_9.18_B18381.jpg" alt="Figure 9.18 – Screenshot of our game displaying a mini-map&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.18 – Screenshot of our game displaying a mini-map</p>
			<p>We will break down the mini-map into three sections:</p>
			<ul>
				<li><strong class="bold">Radar Camera</strong>: The second camera in the scene.</li>
				<li><strong class="bold">Layers</strong>: This makes the second camera recognize only a particular set of game objects.</li>
				<li><strong class="bold">Render Texture</strong>: This displays the final results in an animated image on the HUD.</li>
			</ul>
			<p>Let's start<a id="_idIndexMarker900"/> by<a id="_idIndexMarker901"/> creating an extra layer so that we can expose certain game objects to our radar camera.</p>
			<h3>Creating and adding layers to our player and enemy game objects</h3>
			<p>In this <a id="_idIndexMarker902"/>section, we will <a id="_idIndexMarker903"/>add an extra game object to our player and enemy game objects so that our second camera will only see the attached sprites. These will look like blips on a radar.</p>
			<p>To add our radar blips to the game objects, do the following:</p>
			<ol>
				<li value="1">At the top right of the Unity Editor, click the <strong class="bold">Layers</strong> button, followed by <strong class="bold">Edit Layers...</strong>, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.19_B18381.jpg" alt="Figure 9.19 – Edit Layers… will allow us to add another layer to our game&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.19 – Edit Layers… will allow us to add another layer to our game</p>
			<ol>
				<li value="2">The <strong class="bold">Inspector</strong> window will change and show the <strong class="bold">Tags &amp; Layers</strong> properties. From here, we can click to expand the <strong class="bold">Layers</strong> tab.</li>
				<li>Click <a id="_idIndexMarker904"/>on<a id="_idIndexMarker905"/> one of the available layers near the top and enter <code>Radar</code>, as shown in the following screenshot:<div><img src="img/Figure_9.20_B18381.jpg" alt="Figure 9.20 – Expanding our Layers list and adding a new layer&#13;&#10;"/></div></li>
			</ol>
			<p class="figure-caption"> </p>
			<p class="figure-caption">Figure 9.20 – Expanding our Layers list and adding a new layer</p>
			<p>Now, we can add a radar point to the player and enemies. Let's make a start by bringing the player into the scene and updating its prefab so that it will be recognized by the radar camera. To do this, follow these instructions:</p>
			<ol>
				<li value="1">In the <code>Assets/Prefab/Player</code> folder.</li>
				<li>Drag and drop <code>player_ship</code> into the <strong class="bold">Hierarchy</strong> window at the bottom, in an open space.</li>
				<li>In the <code>player_ship</code>, select <strong class="bold">Create Empty</strong>.</li>
				<li>Right-click<a id="_idIndexMarker906"/> the game <a id="_idIndexMarker907"/>object and select <strong class="bold">Rename</strong> from the dropdown.</li>
				<li>Rename the game object to <code>radarPoint</code>.</li>
				<li>With <code>radarPoint</code> still selected, click the <code>Sprite Renderer</code> until it appears in the component drop down. Next,click its layer on top of the <strong class="bold">Inspector</strong> window and select <strong class="bold">Radar</strong> from the drop-down list, as shown in the following screenshot. We can also set our <strong class="bold">Transform</strong> property to match the ones in the following image:</li>
			</ol>
			<div><div><img src="img/Figure_9.21_B18381.jpg" alt="Figure 9.21 – radarPoint game object with its Radar layer&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.21 – radarPoint game object with its Radar layer</p>
			<p>With the <strong class="bold">Transform</strong> properties set, we can now drop the radar dot sprite into the <strong class="bold">Sprite</strong> field and change its color:</p>
			<ol>
				<li value="1">Click the <strong class="bold">remote</strong> button to the right of the <strong class="bold">Sprite</strong> field in the <strong class="bold">Sprite Renderer</strong> component.</li>
				<li>Start typing <code>knob</code> in the drop-down list until you can see it and select it, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.22_B18381.jpg" alt="Figure 9.22 – Accessing and selecting the default knob sprite&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.22 – Accessing and selecting the default knob sprite</p>
			<ol>
				<li value="3">We <a id="_idIndexMarker908"/>can <a id="_idIndexMarker909"/>now change the color of the sprite by clicking the <code>0</code>, <code>245</code>, <code>255</code>, <code>255</code>.</li>
				<li>Select <code>player_ship</code> in the <code>player_ship</code> game object's prefab settings.</li>
				<li>Select the <code>player_ship</code> game object in the <strong class="bold">Hierarchy</strong> window and press <em class="italic">Delete</em> on your keyboard.</li>
			</ol>
			<p>We have now set the player ship so that it's ready to be detected by the radar camera.</p>
			<p>The next thing to do is repeat the same methodology for the enemies, which are located in <code>Assets/Prefab/Enemies</code>.</p>
			<ol>
				<li value="6">Without going through the same instructions, the following screenshot shows our enemies' <code>radarPoint</code> game object with a bright red color value (<code>255</code>, <code>0</code>, <code>0</code>, <code>0</code>). If <a id="_idIndexMarker910"/>you get stuck, just follow the same steps as for the player <a id="_idIndexMarker911"/>ship's <code>radarPoint</code>:</li>
			</ol>
			<div><div><img src="img/Figure_9.23_B18381.jpg" alt="Figure 9.23 – radarPoint properties setup&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.23 – radarPoint properties setup</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">In the <strong class="bold">Inspector</strong> window, click on <strong class="bold">Overrides | Apply All</strong> once you have finished making changes to your prefab.</p>
			<p>Once we have finished making our changes and applied them to the prefab, we no longer need the <code>enemy_wave</code> game object as we have saved its details in the prefab.</p>
			<ol>
				<li value="7">Delete <code>enemy_wave</code> from the <strong class="bold">Hierarchy</strong> window.</li>
			</ol>
			<p>We have effectively created a tracker (<code>radarPoint</code>) and attached it to the player and enemies for our level.</p>
			<p>The next step is to add a <strong class="bold">Render</strong> <strong class="bold">Texture</strong>, which will work with a second camera in our scene. The feed from the second camera will be fed into a <strong class="bold">Render Texture</strong>. This <strong class="bold">Render Texture</strong> will then be placed at the bottom middle of the screen and display <a id="_idIndexMarker912"/>our <a id="_idIndexMarker913"/>player and enemy location.</p>
			<h3>Adding and customizing our Render Texture </h3>
			<p><strong class="bold">Render Texture</strong> is <a id="_idIndexMarker914"/>typically used to hold moving images<a id="_idIndexMarker915"/> while in <strong class="bold">Play Mode</strong> (at runtime). We are going to use this <strong class="bold">Render Texture</strong> to hold the second camera's feed. This will work like a little TV screen in the center of our HUD.</p>
			<p>To create and customize <strong class="bold">Render Texture</strong>, we will do the following:</p>
			<ol>
				<li value="1">In the <code>Texture</code> folder, that is, <code>Assets/Texture</code>.</li>
				<li>Right-click in an open space area and from the drop-down list, select <strong class="bold">Create</strong>, then <strong class="bold">Render Texture</strong>, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.24_B18381.jpg" alt="Figure 9.24 – Creating a Render Texture&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.24 – Creating a Render Texture</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">If you don't have an open space to right-click, as <em class="italic">step 2</em> suggests, you can change the size of the icons to gain space. </p>
			<p class="callout">Change your icon size with the slider in the bottom-right corner of the <strong class="bold">Project</strong> window.</p>
			<ol>
				<li value="3">Click <a id="_idIndexMarker916"/>the <a id="_idIndexMarker917"/>name of the file slowly twice and rename it <code>radar</code>.</li>
				<li>With the <code>radar</code> <strong class="bold">Render Texture</strong> selected, we will need to change its size to one that will fit the HUD and, ideally, make it less blurry.</li>
				<li>In the <code>256</code>, <code>256</code> to <code>236</code>, <code>46</code>.</li>
				<li>Change <strong class="bold">Filter Mode</strong> from <strong class="bold">Bilinear</strong> to <strong class="bold">Point</strong>.</li>
			</ol>
			<p>The last part of setting up <strong class="bold">Render Texture</strong> is to place it into the HUD. Follow these steps:</p>
			<ol>
				<li value="1">Still in the <code>level1</code> scene, right-click the <code>Canvas</code> game object in the <strong class="bold">Hierarchy</strong> window and select <strong class="bold">Create Empty</strong>.</li>
				<li>Select the new <a id="_idIndexMarker918"/>empty <a id="_idIndexMarker919"/>game object in the <strong class="bold">Hierarchy</strong> window, right-click it, and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the game object <code>radar</code>.</li>
			</ol>
			<p>The <code>radar</code> game object will work as housing for anything related to the game object.</p>
			<ol>
				<li value="4">This game object will now need to be positioned and sized in the HUD. To do that, change the <code>radar</code> game object's <strong class="bold">Rect Transform</strong> properties in the <strong class="bold">Inspector</strong> window to the ones shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.25_B18381.jpg" alt="Figure 9.25 – radar Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.25 – radar Rect Transform property settings</p>
			<p>Moving and resizing the <code>radar</code> game object will give us a letterbox window for <strong class="bold">Render Texture</strong> to sit inside, as shown in the following screenshot:</p>
			<div><div><img src="img/Figure_9.26_B18381.jpg" alt="Figure 9.26 – The placement of our radar game object in the Game window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.26 – The placement of our radar game object in the Game window</p>
			<p>We can now add another game object that will be a child of the <code>radar</code> game object we've just made. This game object will store <strong class="bold">Render Texture</strong>:</p>
			<ol>
				<li value="1">Right-click the <code>radar</code> game object in the <strong class="bold">Hierarchy</strong> window. From the drop-down list, select <strong class="bold">UI</strong> and then <strong class="bold">Raw Image</strong>.</li>
				<li>Right-click <a id="_idIndexMarker920"/>the <a id="_idIndexMarker921"/>new game object called <code>radarImage</code>.</li>
				<li>With the <code>radarImage</code> game object still selected, change its <strong class="bold">Rect Transform</strong> settings to the ones shown in the <strong class="bold">Inspector</strong> window in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.27_B18381.jpg" alt="Figure 9.27 – radarImage Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.27 – radarImage Rect Transform property settings</p>
			<p>Next, we need to apply <strong class="bold">radar Render Texture</strong> to the <strong class="bold">Raw Image</strong> <strong class="bold">Texture</strong> field:</p>
			<ol>
				<li value="1">With <code>radarImage</code> still selected in the <strong class="bold">Hierarchy</strong> window, click the <strong class="bold">remote</strong> button next to the <strong class="bold">Texture</strong> field in the <strong class="bold">Raw Image</strong> component.</li>
				<li>Start typing <code>radar</code> in the search bar at the top of the new window until <strong class="bold">radar</strong> <strong class="bold">Render Texture</strong> appears and select it.</li>
			</ol>
			<p>That's our <strong class="bold">Render Texture</strong> made <a id="_idIndexMarker922"/>and set. Now, we can pass this <a id="_idIndexMarker923"/>into the second camera. But before we do that, we need to add the camera!</p>
			<h3>Adding and customizing our second camera</h3>
			<p>In this section, we<a id="_idIndexMarker924"/> will be adding a second camera <a id="_idIndexMarker925"/>so that we can only see the <code>radarPoint</code> game objects.</p>
			<p>Let's start by setting up a second camera in our <code>level1</code> scene:</p>
			<ol>
				<li value="1">In the <strong class="bold">Hierarchy</strong> window, right-click in an open space and from the dropdown, select <strong class="bold">Camera</strong>.</li>
				<li>Right-click the newly created <code>RadarCam</code>.</li>
				<li>With <code>RadarCam</code> still selected, change its <strong class="bold">Transform</strong> settings in the <strong class="bold">Inspector</strong> window to the ones shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.28_B18381.jpg" alt="Figure 9.28 – radarCam Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.28 – radarCam Transform property settings</p>
			<p>Still<a id="_idIndexMarker926"/> in the <code>RadarCam</code> selected, we need to change its <strong class="bold">Camera</strong> component settings to the following:</p>
			<ul>
				<li><strong class="bold">Clear Flags</strong>: <strong class="bold">Solid Color</strong>. We don't require anything in the background for the second camera, so something basic such as a solid color would work fine.</li>
				<li><code>255</code>, <code>0</code>, <code>0</code>, <code>50</code>. This will give our radar a red tint.</li>
				<li><strong class="bold">Culling Mask</strong>: Click the parameter field labeled <strong class="bold">Everything</strong>. Do the following:<ul><li>Select <strong class="bold">Nothing</strong> from the drop-down list to remove all layers.</li><li>Select the field again and select <strong class="bold">Radar</strong> (shown in the following screenshot). By doing this, all our camera will see is the game objects that relate to that layer:</li></ul></li>
			</ul>
			<div><div><img src="img/Figure_9.29_B18381.jpg" alt="Figure 9.29 – Select Radar from Culling Mask&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.29 – Select Radar from Culling Mask</p>
			<ul>
				<li><strong class="bold">Projection</strong>: <strong class="bold">Orthographic</strong>. The radar camera is 2D, so there is no need to have a perspective view.</li>
				<li><code>150</code>. The size of our camera view will be larger than the main view the player is in.</li>
				<li><code>RadarCam</code> to the radar's <strong class="bold">Render Texture</strong>.</li>
			</ul>
			<ol>
				<li value="4">Our <code>RadarCam</code>) won't <a id="_idIndexMarker928"/>need to <a id="_idIndexMarker929"/>see the <strong class="bold">Radar</strong> layer. Select <strong class="bold">Main Camera</strong> from the <strong class="bold">Hierarchy</strong> window and deselect the <strong class="bold">Radar</strong> layer from its <strong class="bold">Culling Mask</strong>.</li>
				<li>Also, with <code>RadarCam</code> still selected, click the three dots next to its <strong class="bold">Audio Listener</strong> component and remove it. We already have one camera that listens for audio in our scene.</li>
				<li>Finally, we need to make it so that <code>RadarCam</code> is a child of <code>RadarCam</code> into <strong class="bold">Main Camera</strong> in the <strong class="bold">Hierarchy</strong> window.</li>
				<li>Click <strong class="bold">Overrides | Apply All</strong> in the <strong class="bold">Inspector</strong> window to update the <strong class="bold">Main Camera</strong> prefab and save the scene.</li>
			</ol>
			<p>Now, if we click <strong class="bold">Play</strong> in the Unity Editor, we will see the radar in the HUD with its red tint showing red dots for enemies and a neon blue for the player, as shown in the following screenshot:</p>
			<div><div><img src="img/Figure_9.30_B18381.jpg" alt="Figure 9.30 – Our mini-map detecting the player and its enemies&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.30 – Our mini-map detecting the player and its enemies</p>
			<p>This mini-map was created without any code and made use of two new components: <strong class="bold">Render Texture</strong>, which will hold the second camera's feed, and a <strong class="bold">Raw Image</strong> component, which will display the final output.</p>
			<p>In this section, we created a functioning HUD that has three main segments: the player's lives, a mini-map, and the player's score. We used the two fundamental UI tools that Unity offers to create a UI display. However, we also introduced three new components, as follows:</p>
			<ul>
				<li><strong class="bold">Horizontal Group Layout</strong>: Spaces the player's lives equally</li>
				<li><strong class="bold">Render Texture</strong>: Transfers the second camera's feed</li>
				<li><strong class="bold">Raw Image</strong>: Displays the feed from the render texture</li>
			</ul>
			<p>The<a id="_idIndexMarker930"/> following <a id="_idIndexMarker931"/>screenshot shows the final HUD:</p>
			<div><div><img src="img/Figure_9.31_B18381.jpg" alt="Figure 9.31 – Our HUD is complete&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.31 – Our HUD is complete</p>
			<p>Because we have updated our <code>level1</code> scene, we need to update <code>level2</code> and <code>level3</code>. The quickest way to do this would be to delete <code>level2</code> and <code>level3</code> and duplicate <code>level1</code>, as we did before, which leaves us with updating the level number in the <code>Text</code> component. We did this in the previous chapter, right at the end, so please check that if you need some guidance.</p>
			<p>Now, we will move on and improve the existing <code>shop</code> scene by removing the pre-made polygons for UI components. This will also introduce us to using UI event triggers and<a id="_idIndexMarker932"/> making <a id="_idIndexMarker933"/>our code smaller and more efficient.</p>
			<h1 id="_idParaDest-165"><a id="_idTextAnchor168"/>Making our shop scene support alternative screen ratios</h1>
			<p>In this section, we are<a id="_idIndexMarker934"/> going to take our current <code>shop</code> scene and make it compatible with various screen ratios. Currently, our shop visuals are made out of polygons, which look fine, but, for example, our selection grid of buttons at the bottom of the screen has the risk of being clipped off at the edges. We can also change the way we select our buttons by using Unity's <strong class="bold">Button</strong> component, which works within the <strong class="bold">Canvas</strong>.</p>
			<div><div><img src="img/Figure_9.32_B18381.jpg" alt="Figure 9.32 – There is a wide range of ratios in what a game is displayed in&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.32 – There is a wide range of ratios in what a game is displayed in</p>
			<p>Because of these UI changes, this will cut our code down and make it more efficient as we will be relying on click events. We will cover these later in this section.</p>
			<p>Let's make a start by replacing the selection grid at the bottom of our <code>shop</code> scene.</p>
			<h2 id="_idParaDest-166"><a id="_idTextAnchor169"/>Upgrading our shop selection</h2>
			<p>In this section, we <a id="_idIndexMarker935"/>are going to remove all of the shop buttons and replace them with a <code>button</code> that has its own raycast system. This raycast system will give us an easier way of adding and customizing our buttons when it comes to adding or extracting buttons to/from the selection grid.</p>
			<p>In the next section, we will support this change by removing our 3D assets so that we can replace <a id="_idIndexMarker936"/>them with Unity's own 2D buttons.</p>
			<h3>Preparing our shop scene to go 2D</h3>
			<p>Let's start by<a id="_idIndexMarker937"/> removing the old selection grid at the bottom <a id="_idIndexMarker938"/>and our <code>BUY ?</code> button as that follows the same suit from our <code>shop</code> scene:</p>
			<ol>
				<li value="1">If you haven't loaded the <code>shop</code> scene already, locate it in the <code>Assets/Scene</code>.</li>
				<li>Double-click <code>shop</code> scene.</li>
				<li>In the <strong class="bold">Hierarchy</strong> window, hold <em class="italic">Ctrl</em> (<em class="italic">command</em> on Mac) on the keyboard and select all of the game objects shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.33_B18381.jpg" alt="Figure 9.33 – Select these game objects from the shop scene Hierarchy&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.33 – Select these game objects from the shop scene Hierarchy</p>
			<p>Press <em class="italic">Delete</em> on the keyboard if you are presented with a window to open the prefab. Open it and repeat the process. Once deleted, press the back button in the top left corner of the <code>Canvas</code>.</p>
			<p>To create a <code>Canvas</code> with its own background, do the following:</p>
			<ol>
				<li value="1">In the lower part of the <strong class="bold">Hierarchy</strong> window, right-click and from the drop-down list, select <strong class="bold">UI</strong>, followed by <strong class="bold">Canvas</strong>.</li>
				<li>Right-click the <code>Canvas</code> game object in the <strong class="bold">Hierarchy</strong> window and from the drop-down list, select <strong class="bold">UI</strong>, followed by <strong class="bold">Image</strong>.</li>
				<li>Right-click <a id="_idIndexMarker939"/>the<a id="_idIndexMarker940"/> new game object called <code>Image</code> and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename <code>Image</code> to <code>backGround</code>.</li>
				<li>With the <code>backGround</code> game object still selected, change its <strong class="bold">Rect Transform</strong> properties to the ones shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.34_B18381.jpg" alt="Figure 9.34 – backGround Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.34 – backGround Rect Transform property settings</p>
			<ol>
				<li value="6">We can now give <code>backGround</code> some color. With the <code>backGround</code> game object still selected, click the <code>255</code>, <code>0</code>, <code>0</code>, <code>63</code>.</li>
			</ol>
			<p>The following screenshot shows the <code>backGround</code> game object positioned and scaled with a red tint:</p>
			<div><div><img src="img/Figure_9.35_B18381.jpg" alt="Figure 9.35 – backGround in our Game window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.35 – backGround in our Game window</p>
			<p>We can now move on to the next section, where we will add three game objects that will control <a id="_idIndexMarker941"/>the position and scale of the button game <a id="_idIndexMarker942"/>objects.</p>
			<h3>Adding layout group components</h3>
			<p>In this section, we<a id="_idIndexMarker943"/> will add game objects that will support the spacing of the buttons we add to the grid. The benefit of this is that we can control the properties of each section of the buttons, as shown in the following figure:</p>
			<div><div><img src="img/Figure_9.36_B18381.jpg" alt="Figure 9.36 – Our shop scene button layout as planned&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.36 – Our shop scene button layout as planned</p>
			<p>Next, we will make an empty game object and add a <strong class="bold">Horizontal Layout Group</strong> to it, which will keep our top row buttons in order:</p>
			<ol>
				<li value="1">Right-click the <code>Canvas</code> game object and from the drop-down list, select <strong class="bold">Create Empty</strong>.</li>
				<li>Rename the new game object <code>gridTop</code>.</li>
				<li>With <code>gridTop</code> still selected, change its <strong class="bold">Rect Transform</strong> settings to the ones shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.37_B18381.jpg" alt="Figure 9.37 – gridTop Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.37 – gridTop Rect Transform property settings</p>
			<p>Now that our <code>gridTop</code> is positioned <a id="_idIndexMarker944"/>correctly, we can add a <strong class="bold">Horizontal Layout Group</strong> to it:</p>
			<ol>
				<li value="1">With the <code>gridTop</code> game object still selected, click the <code>Horizontal Layout Group</code> into the search bar at the top of the drop-down list until you see <strong class="bold">Horizontal Layout Group</strong>. When this group appears in the list, select it.</li>
				<li>Give <strong class="bold">Horizontal Layout Group</strong> the following settings:</li>
			</ol>
			<div><div><img src="img/Figure_9.38_B18381.jpg" alt="Figure 9.38 – Horizontal Layout Group property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.38 – Horizontal Layout Group property values</p>
			<p><code>gridTop</code> will now automatically order the top row of upgrade buttons.</p>
			<p>We now need to repeat the process for the bottom row, without repeating the entire procedure. Follow the same steps for <code>gridTop</code> but make the following changes:</p>
			<ol>
				<li value="1">Name the next game object in <code>gridBottom</code>.</li>
				<li>Give the<a id="_idIndexMarker945"/> game object the following <strong class="bold">Rect Transform</strong> settings:</li>
			</ol>
			<div><div><img src="img/Figure_9.39_B18381.jpg" alt="Figure 9.39 – gridBottom Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.39 – gridBottom Rect Transform property settings</p>
			<ol>
				<li value="3">Then, like before, we need to add a <code>gridTop</code>.</li>
				<li>We then repeat this process but this time, for our "AD" and "START" buttons, we will be adding a <strong class="bold">Vertical Layout Group</strong> component.</li>
				<li>Like before, create an empty game object and store it in the <code>Canvas</code> game object.</li>
				<li>Name a new game object called <code>gridOther</code>.</li>
				<li>Give <code>gridOther</code>'s <strong class="bold">Rect Transform</strong> the following settings:</li>
			</ol>
			<div><div><img src="img/Figure_9.40_B18381.jpg" alt="Figure 9.40 – gridOther Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.40 – gridOther Rect Transform property settings</p>
			<ol>
				<li value="8">As mentioned previously, we will add a <code>gridOther</code> game object and give it the following settings:</li>
			</ol>
			<div><div><img src="img/Figure_9.41_B18381.jpg" alt="Figure 9.41 – Vertical Layout Group property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.41 – Vertical Layout Group property values</p>
			<p>Our new, reworked<a id="_idIndexMarker946"/> selection grid now supports the creation of multiple self-scaling buttons. In the next section, we will demonstrate how to create multiple buttons that scale themselves to fit in the selection grid.</p>
			<h3>Adding UI buttons</h3>
			<p>In this<a id="_idIndexMarker947"/> section, we<a id="_idIndexMarker948"/> are going to create a button that won't need any sizing changes to be made to it as the layout groups we placed in the previous section will take care of this.</p>
			<p>To create a <code>gridTop</code> game object in the <strong class="bold">Hierarchy</strong> window and do the following:</p>
			<ol>
				<li value="1">From the drop-down list, select <strong class="bold">UI</strong> and then <strong class="bold">Button</strong>.</li>
				<li>Right-click the newly created <code>Button</code> game object and name it <code>00</code>.</li>
			</ol>
			<p>We will get a button that will be stretched and out of place, but don't worry – this is normal. Later, when we add more buttons to this and the other rows, the buttons will snap into place and scale in size automatically.</p>
			<p>By default, the button comes with an <strong class="bold">Image</strong> component with rounded-off edges. For cosmetic purposes, this doesn't suit our scene. We can remove this by doing the following:.</p>
			<ol>
				<li value="1">Click the three-dots icon to the top right of the <strong class="bold">Image</strong> component.</li>
				<li>From the drop-down list, select <strong class="bold">Remove Component</strong>.</li>
			</ol>
			<p>The<a id="_idIndexMarker949"/> button <a id="_idIndexMarker950"/>no longer has any color.</p>
			<p>Next, we are going to fill this game object with five game objects. In brief, their names and properties are as follows:</p>
			<ul>
				<li><code>outline</code>: Adds a border to the button</li>
				<li><code>backPanel</code>: The color of the button when it's not selected</li>
				<li><code>selection</code>: The color of the button when it is selected</li>
				<li><code>powerUpimage</code>: The picture on the button</li>
				<li><code>itemText</code>: The cost or sold out message</li>
			</ul>
			<p>The following screenshot shows all of these game objects combined to create our new shop button:</p>
			<div><div><img src="img/Figure_9.42_B18381.jpg" alt="Figure 9.42 – A shop button&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.42 – A shop button</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">The other way of changing a button's condition is by using Unity's <code>Button</code> script, check out <a href="https://docs.unity3d.com/2017.3/Documentation/Manual/script-Button.html">https://docs.unity3d.com/2017.3/Documentation/Manual/script-Button.html</a>.</p>
			<h4>Adding the outline game object</h4>
			<p>Let's start by <a id="_idIndexMarker952"/>adding an <code>outline</code> game<a id="_idIndexMarker953"/> object for our new shop button:</p>
			<ol>
				<li value="1">Right-click the <code>00</code> game object in the <strong class="bold">Hierarchy</strong> window and from the dropdown, select <strong class="bold">UI</strong> | <strong class="bold">Image</strong>.</li>
				<li>Select the <code>Image</code> game object, right-click it in the <code>outline</code>.</li>
				<li>With <code>outline</code> still selected in the <strong class="bold">Hierarchy</strong> window, update its <strong class="bold">Rect Transform</strong> and <strong class="bold">Image</strong> <strong class="bold">Color</strong> fields to the following:</li>
			</ol>
			<div><div><img src="img/Figure_9.43_B18381.jpg" alt="Figure 9.43 – outline Rect Transform property settings and Image component color and alpha values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.43 – outline Rect Transform property settings and Image component color and alpha values</p>
			<p>The shop button will now <a id="_idIndexMarker954"/>have a colored <code>outline</code>. Now, let's move on and look at the button's <code>backPanel</code>.</p>
			<h4>Adding the backPanel game object</h4>
			<p>Let's<a id="_idIndexMarker955"/> add <code>backPanel</code> to the <code>00</code> game<a id="_idIndexMarker956"/> object:</p>
			<ol>
				<li value="1">In the <code>00</code> game object and from the dropdown, select <strong class="bold">UI</strong> | <strong class="bold">Image</strong>.</li>
				<li>Right-click the newly created <code>Image</code> game object and name it <code>backPanel</code>.</li>
				<li>With <code>backPanel</code> still selected, in the <strong class="bold">Inspector</strong> window, change its <strong class="bold">Rect Transform</strong> so that it has the following values:</li>
			</ol>
			<div><div><img src="img/Figure_9.44_B18381.jpg" alt="Figure 9.44 – backPanel Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.44 – backPanel Rect Transform property settings</p>
			<p>With the <code>backPanel</code> game object still selected, we can change the <code>backPanel</code> game object's settings to <code>40</code>, <code>39</code>, <code>36</code>, <code>255</code>. That's the second game object that we've applied that gives us our default color.</p>
			<p>We'll add the <code>selection</code> game object to the <code>00</code> game object next.</p>
			<h4>Adding the selection game object</h4>
			<p>To create<a id="_idIndexMarker957"/> the <code>selection</code> button, follow<a id="_idIndexMarker958"/> the same steps provided in the previous section. However, note that there are three differences:</p>
			<ol>
				<li value="1">Name this game object <code>selection</code>.</li>
				<li>Give the <code>144</code>, <code>0</code>, <code>0</code>, <code>255</code>.</li>
				<li>Create and apply a <code>Selection</code>.<p class="callout-heading">Information</p><p class="callout">We covered creating and applying tags back in <a href="B18381_02_Epub.xhtml#_idTextAnchor048"><em class="italic">Chapter 2</em></a>, <em class="italic">Adding and Manipulating Objects</em>.</p></li>
			</ol>
			<p>The following screenshot shows our <code>selection</code> game object's <strong class="bold">Tag</strong> and <strong class="bold">Rect Transform</strong> property values:</p>
			<div><div><img src="img/Figure_9.45_B18381.jpg" alt="Figure 9.45 – selection Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.45 – selection Rect Transform property settings</p>
			<p>That's the third game object that we've applied to our <code>00</code> game object. Our buttons will light up and stay red until a purchase is made or a different button is pressed. We'll add the <code>powerUpImage</code> game object to our <code>00</code> game object next.</p>
			<h4>Adding the powerUpImage game object</h4>
			<p>To create<a id="_idIndexMarker959"/> the <code>powerUpImage</code> button, follow<a id="_idIndexMarker960"/> the same steps provided in the previous section, but make three changes:</p>
			<ol>
				<li value="1">Name this game object <code>powerUpImage</code>.</li>
				<li>Drag and drop the <code>powerup</code> sprite into the <strong class="bold">Source Image</strong> field of the <strong class="bold">Image</strong> component.</li>
				<li>Tick the <strong class="bold">Preserve Aspect</strong> box.</li>
			</ol>
			<p>That's our fourth game object that displays each button's icon.</p>
			<p>We'll add the <code>itemText</code> game object to the <code>00</code> game object next.</p>
			<h4>Adding the itemText game object</h4>
			<p>To add<a id="_idIndexMarker961"/> the <code>itemText</code> game <a id="_idIndexMarker962"/>object to our <code>00</code> game object, do the following:</p>
			<ol>
				<li value="1">In the <code>00</code> game object and from the drop-down list, select <strong class="bold">UI</strong>, followed by <strong class="bold">Text</strong>.</li>
				<li>Right-click the newly created <code>Text</code> game object and name it <code>itemText</code>.</li>
				<li>With <code>itemText</code> still selected, in the <code>Inspector</code> window, change its <strong class="bold">Rect Transform</strong> and <strong class="bold">Text</strong> components so that they have the following properties:</li>
			</ol>
			<div><div><img src="img/Figure_9.46_B18381.jpg" alt="Figure 9.46 – itemText Rect Transform property settings and Text Component values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.46 – itemText Rect Transform property settings and Text Component values</p>
			<p>That's the fifth and final game object we need to add to our weapon upgrade button.</p>
			<p>In the <code>00</code> game object should be in the order shown in the following screenshot. If the order isn't the same, simply click and drag either one into position:</p>
			<div><div><img src="img/Figure_9.47_B18381.jpg" alt="Figure 9.47 – 00 game object and its children in the Hierarchy window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.47 – 00 game object and its children in the Hierarchy window</p>
			<p>In this section, we stripped out the old <code>shop</code> scene setup where we were selecting items in the shop with a raycast system. We replaced the old selection grid with a 2D interface with <strong class="bold">Button</strong> components. These buttons were grouped with Unity's Horizontal and <strong class="bold">Vertical Layout Group</strong> components. The benefit of these two groups is that if we add more or fewer buttons to the grid, the buttons will reorganize their position and scale automatically.</p>
			<p>We need <a id="_idIndexMarker963"/>to<a id="_idIndexMarker964"/> make a slight modification to the <code>ShopPiece</code> script that was originally attached to each game object button. </p>
			<p>Once we have applied and modified the script, we will check what the buttons look like in the new selection grid.</p>
			<h1 id="_idParaDest-167"><a id="_idTextAnchor170"/>Applying and modifying our shop script</h1>
			<p>Let's<a id="_idIndexMarker965"/> briefly<a id="_idIndexMarker966"/> recall the purpose of the <code>ShopPiece</code> script. Each button in the selection grid will be given information from a scriptable object that will customize the button's name, description, value, and image. Because the buttons have changed from being 3D assets to 2D ones, we need to alter and add some more code to make this work.</p>
			<p>To modify <code>ShopPiece</code> so that it's compatible with our new 2D button, do the following:</p>
			<ol>
				<li value="1">In the <code>Assets/Script</code> folder.</li>
				<li>Double-click the <code>ShopPiece</code> script to open the file.</li>
			</ol>
			<p>The first line of code will allow our new code support to grab references from the <code>00</code> game object.</p>
			<ol>
				<li value="3">Enter the following piece of code at the top of the <code>ShopPiece</code> script:<pre><strong class="bold">using UnityEngine.UI;</strong></pre></li>
			</ol>
			<p>The second modification to make will be to replace the content of the <code>Awake</code> function. The original code accessed <code>SpriteRenderer</code>, which was used for accessing the sprite on each polygon button. The other piece of code we are replacing applied changes to the <code>TextMesh</code> component, which displays 3D text.</p>
			<ol>
				<li value="4">To update our <code>Awake</code> function, select the code within the <code>Awake()</code> function and delete it. Our <code>Awake()</code> function should look as follows:<pre>void Awake()
{
}</pre></li>
			</ol>
			<p>We can now enter the first <code>if</code> statement, which applies our scriptable object icon image to our button's image.</p>
			<ol>
				<li value="5">Within the <code>Awake()</code> function, add the following <code>if</code> statement:<pre>    if (transform.GetChild(3).GetComponent&lt;Image&gt;() !=        null)
    {
      transform.GetChild(3).GetComponent&lt;Image&gt;().      sprite=shopSelection.icon;
}</pre></li>
			</ol>
			<p>The <code>if</code> statement <a id="_idIndexMarker967"/>grabs a reference from the second child <a id="_idIndexMarker968"/>in the <code>00</code> button and checks to see whether it has an <strong class="bold">Image</strong> component. If it does (and it should), we apply the scriptable object icon to it.</p>
			<ol>
				<li value="6">The other <code>if</code> statement updates the text of the button. Within the <code>Awake()</code> function, just after the first <code>if</code> statement, add the following piece of code:<pre> if(transform.Find("itemText"))
 {
 GetComponentInChildren&lt;Text&gt;().text = shopSelection.cost.ToString();
 }</pre></li>
			</ol>
			<p>The <code>if</code> statement makes sure the <code>00</code> button has <code>itemText</code> (it should). When the <code>itemText</code> game object is found, its <strong class="bold">Text</strong> component receives the scriptable object price of the weapon.</p>
			<ol>
				<li value="7">Save the script.</li>
				<li>Back in the Unity Editor, select the <code>00</code> game object in the <strong class="bold">Hierarchy</strong> and click the <strong class="bold">Add Component</strong> button.</li>
				<li>Start typing <code>ShopPiece</code> in the drop-down list until you see it. When you do, select it.</li>
				<li>With the <code>00</code> game object still selected, in the <code>ShopPiece</code> component.</li>
				<li>Select any weapon upgrade scriptable object from the list.</li>
			</ol>
			<p>The following screenshot shows the <code>ShopPiece</code> script with a scriptable object applied to it:</p>
			<div><div><img src="img/Figure_9.48_B18381.jpg" alt="Figure 9.48 – ShopPiece script, holding in its Shop Selection field the Shot_PowerUp Scriptable Object&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.48 – ShopPiece script, holding in its Shop Selection field the Shot_PowerUp Scriptable Object</p>
			<p>We are <a id="_idIndexMarker969"/>now in<a id="_idIndexMarker970"/> a position to check what our button looks like with the four game objects we've applied and with its modified <code>ShopPiece</code> script.</p>
			<p>In the next few sections, we are going to duplicate a series of the new shop buttons. These shop buttons will automatically fit in the allocated game object space we have put them in. Then, we will clear up any of the old UI and replace it with our new interface. Finally, we will comment out the old raycast system from our code and add our new interface code.</p>
			<h2 id="_idParaDest-168"><a id="_idTextAnchor171"/>Reviewing the button's results</h2>
			<p>In this section, we<a id="_idIndexMarker971"/> will be reviewing the new <code>00</code> button in the <code>gridTop</code> game object. The button is too big and spreads across the majority of the <strong class="bold">Canvas</strong>, as shown in the following screenshot:</p>
			<div><div><img src="img/Figure_9.49_B18381.jpg" alt="Figure 9.49 – 00 game object currently sitting in the gridTop game object&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.49 – 00 game object currently sitting in the gridTop game object</p>
			<p>But if I select the <code>00</code> game object in the <strong class="bold">Hierarchy</strong> window and press <em class="italic">Ctrl</em> (<em class="italic">command</em> on Mac) and <em class="italic">D</em> to duplicate the game object a few times, the button will <a id="_idIndexMarker972"/>divide equally, as shown in the following screenshot:</p>
			<div><div><img src="img/Figure_9.50_B18381.jpg" alt="Figure 9.50 – Three 00 game objects looking less stretched&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.50 – Three 00 game objects looking less stretched</p>
			<p>The button divides well and can be duplicated several times (not in <strong class="bold">Play Mode</strong>) to fill the top and bottom grids. To fill up and name the grids, do the following:</p>
			<ol>
				<li value="1">In the <code>00</code> game object and press <em class="italic">Ctrl</em> (<em class="italic">command</em> on a Mac) and <em class="italic">D</em> three times.</li>
				<li>Rename the three new duplicate game objects <code>01</code>, <code>02</code>, and <code>03</code> respectively.</li>
				<li>Select <code>01</code> in the <code>ShopPiece</code> component in the <strong class="bold">Inspector</strong> window.</li>
				<li>Select a different scriptable object from the list to change the weapon upgrade.</li>
				<li>Select game object <code>02</code> and select a different weapon in the <code>ShopPiece</code> component.</li>
			</ol>
			<p>Now, we need to fill up the bottom row with buttons. To do that, follow these steps:</p>
			<ol>
				<li value="1">Click and drag the <code>03</code> game object from the <code>gridBottom</code> game object.</li>
				<li>With <code>03</code> still selected, press <em class="italic">Ctrl</em> (<em class="italic">command</em> on a Mac) and <em class="italic">D</em> twice.</li>
				<li>Rename our newly created game objects <code>04</code> and <code>05</code>.</li>
			</ol>
			<p>The following<a id="_idIndexMarker973"/> screenshot shows the top and bottom rows filled up:</p>
			<div><div><img src="img/Figure_9.51_B18381.jpg" alt="Figure 9.51 – Six shop buttons&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.51 – Six shop buttons</p>
			<p>Because we don't have any more items to sell in our shop, the bottom three buttons look odd, so let's replace these with some sold-out signs. This can easily be achieved with our scriptable object assets.</p>
			<p>To create a sold-out sign for our bottom row in our shop, we need to do the following:</p>
			<ol>
				<li value="1">In the <code>Assets/ScriptableObject</code>, right-click in an open space, and select <strong class="bold">Create</strong> | <strong class="bold">Create Shop Piece</strong>.</li>
				<li>Rename the <code>Create Shop Piece</code> file <code>SoldOut</code>.</li>
				<li>Select <code>SoldOut</code> and give it the following property values:</li>
			</ol>
			<div><div><img src="img/Figure_9.52_B18381.jpg" alt="Figure 9.52 – SoldOut Scriptable Object and its values entered along with a soldOut sprite&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.52 – SoldOut Scriptable Object and its values entered along with a soldOut sprite</p>
			<p>Lastly, apply the <code>SoldOut</code> file to game objects <code>03</code>, <code>04</code>, and <code>05</code> in the <code>Shop Piece</code> component field's <strong class="bold">Shop Selection</strong> in the <strong class="bold">Inspector</strong> window.</p>
			<p>Now, we need<a id="_idIndexMarker974"/> to repeat a similar process for our advert and start buttons.</p>
			<h3>Creating the advert and start buttons</h3>
			<p>To recreate<a id="_idIndexMarker975"/> the advert button, select <a id="_idIndexMarker976"/>either one of the buttons we duplicated in the <strong class="bold">Hierarchy</strong> window and do the following:</p>
			<ol>
				<li value="1">Press <em class="italic">Ctrl</em> (<em class="italic">command</em> on a Mac) and <em class="italic">D</em> to duplicate another button and drag it into the <code>gridOther</code> game object in the <strong class="bold">Hierarchy</strong> window.</li>
				<li>Rename the duplicate game object <code>AD</code>.</li>
				<li>Because the <code>AD</code> game object doesn't need <code>powerUpImage</code>, we can delete it.</li>
				<li>Expand the <code>AD</code> game object by clicking the arrow to the left of its name in the <code>itemText</code> button.</li>
				<li>Apply the following settings to the <strong class="bold">Text</strong> component in the <strong class="bold">Inspector</strong> window:</li>
			</ol>
			<div><div><img src="img/Figure_9.53_B18381.jpg" alt="Figure 9.53 – itemText Rect Transform property settings and Text component values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.53 – itemText Rect Transform property settings and Text component values</p>
			<ol>
				<li value="6">Repeat a <a id="_idIndexMarker977"/>similar process <a id="_idIndexMarker978"/>for the <code>itemText</code> and <code>selection</code> game object components (<code>selection</code> hex color: <code>FFC300FF</code>), as shown in the following figure:</li>
			</ol>
			<div><div><img src="img/Figure_9.54_B18381.jpg" alt="Figure 9.54 – itemText Text component values and selection Image component property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.54 – itemText Text component values and selection Image component property values</p>
			<p>The following screenshot shows the <code>gridOther</code> game object and its content, including the two buttons:</p>
			<div><div><img src="img/Figure_9.55_B18381.jpg" alt="Figure 9.55 – gridOther game object holding AD and START buttons with their children in the Hierarchy window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.55 – gridOther game object holding AD and START buttons with their children in the Hierarchy window</p>
			<p>Now that <a id="_idIndexMarker979"/>our<a id="_idIndexMarker980"/> selection grid visuals are completed, we can move on to the description panel and partially convert it from 3D into 2D.</p>
			<h3>Adding the BUY? button</h3>
			<p>To add<a id="_idIndexMarker981"/> the 2D <code>BUY?</code> button<a id="_idIndexMarker982"/> to the description panel, do the following:</p>
			<ol>
				<li value="1">Right-click the <code>Canvas</code> game object in the <strong class="bold">Hierarchy</strong> panel and select <strong class="bold">UI</strong>, followed by <strong class="bold">Button</strong>, from the drop-down list.</li>
				<li>Right-click the newly created <code>Button</code> game object and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the <code>Button</code> game object <code>BUY?</code>.</li>
				<li>With the <code>BUY?</code> button still selected in the <strong class="bold">Hierarchy</strong> window, set its <strong class="bold">Rect Transform</strong> properties to the ones shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.56_B18381.jpg" alt="Figure 9.56 – BUY? Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.56 – BUY? Rect Transform property settings</p>
			<p>Now that the <code>BUY?</code> button is in place and scaled correctly, we can alter the aesthetics for the <strong class="bold">Image</strong> and <strong class="bold">Button</strong> components. In the <strong class="bold">Image</strong> component, select the <strong class="bold">remote</strong> button for the <strong class="bold">Source Image</strong> field and select <strong class="bold">None</strong> from the list to remove the <a id="_idIndexMarker983"/>curved edges for the<a id="_idIndexMarker984"/> button.</p>
			<p>Next, we will make it so that the <code>BUY?</code> button changes colors when it's highlighted and pressed in the <strong class="bold">Button</strong> component. Follow these steps to do so:</p>
			<ol>
				<li value="1">In the <code>255</code>, <code>0</code>, <code>0</code>, <code>255</code>.</li>
				<li>Select the <code>255</code>, <code>195</code>, <code>0</code>, <code>255</code>.</li>
				<li>When the cursor moves over the <code>BUY?</code> button, it will turn yellow and when pressed, it will turn red.</li>
			</ol>
			<p>Finally, for the <code>BUY?</code> button, we need to alter its <strong class="bold">Text</strong> component, as follows:</p>
			<ol>
				<li value="1">In the <code>BUY?</code> button to expand it.</li>
				<li>Then, select the <code>BUY?</code> game object's child, called <code>Text</code>.</li>
				<li>Enter the following values for the <code>Text</code> game object's <strong class="bold">Text</strong> component in the <strong class="bold">Inspector</strong> window:</li>
			</ol>
			<div><div><img src="img/Figure_9.57_B18381.jpg" alt="Figure 9.57 – BUY? game object's Text component property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.57 – BUY? game object's Text component property values</p>
			<p>The following screenshot shows our<strong class="bold"> BUY ? </strong>button positioned and styled:</p>
			<div><div><img src="img/Figure_9.58_B18381.jpg" alt="Figure 9.58 – The BUY? game object should now look like the one in this screenshot&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.58 – The BUY? game object should now look like the one in this screenshot</p>
			<p>In this section, we <a id="_idIndexMarker985"/>applied Unity's different<a id="_idIndexMarker986"/> state settings for our button without adding any extra code. Next, we will add a simple rectangle image to replace the polygon quad.</p>
			<h3>Replacing our textBoxPanel game object</h3>
			<p>In the <a id="_idIndexMarker987"/>previous<a id="_idIndexMarker988"/> section, we changed our <code>BUY ?</code> button so that it is 2D and part of the <code>BUY ?</code> button will now be moved, scaled, and adjusted to the ratio of the screen instead of remaining static. Because of this, we have the risk of our <code>BUY ?</code> button moving outside of the static <code>textBoxPanel</code> it sits in, as shown in the following screenshot:</p>
			<div><div><img src="img/Figure_9.59_B18381.jpg" alt="Figure 9.59 – Fixing the issue with the textBoxPanel game object alignment with the BUY ? button&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.59 – Fixing the issue with the textBoxPanel game object alignment with the BUY ? button</p>
			<p>Also, the <code>PlayerShipBuild</code> script has a reference to <code>textBoxPanel</code>, so we can't delete the game object without altering our code. To fix this dilemma, we can remove the 3D components of <code>textBoxPanel</code>, leaving it as an empty game object to house other game objects within it.</p>
			<p>To remove<a id="_idIndexMarker989"/> the components <a id="_idIndexMarker990"/>from the <code>textBoxPanel</code> game object, do the following:</p>
			<ol>
				<li value="1">In the <code>textBoxPanel</code> in the search bar until it appears.</li>
				<li>Select <code>textBoxPanel</code> and remove the two components in the <strong class="bold">Inspector</strong> window for <strong class="bold">Quad (Mesh Filter)</strong> and <strong class="bold">Mesh Renderer</strong> by selecting and clicking the three dots and selecting <strong class="bold">Remove Component</strong>.</li>
				<li>To bring back our full game object content in the <strong class="bold">Hierarchy</strong> window, click the cross at the top of its window, to the right of the search bar.</li>
			</ol>
			<p>The following screenshot shows the locations of both three-dot icons:</p>
			<div><div><img src="img/Figure_9.60_B18381.jpg" alt="Figure 9.60 – Remote button locations for the Quad and Mesh Renderer components&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.60 – Remote button locations for the Quad and Mesh Renderer components</p>
			<p>Now, we can create the 2D panel game object to replace the <code>textBoxPanel</code> game object's visuals, as follows:</p>
			<ol>
				<li value="1">In <a id="_idIndexMarker991"/>the <code>Canvas</code> game object and select <strong class="bold">UI</strong>, followed<a id="_idIndexMarker992"/> by <strong class="bold">Image</strong>, from the drop-down list.</li>
				<li>Select the newly created game object, right-click it, and select <strong class="bold">Rename</strong> from the drop-down list.</li>
				<li>Rename the game object <code>panel</code>.</li>
				<li>Move the <code>BUY?</code> game object below the panel game object in the <code>BUY?</code> button sits on top of <code>panel</code> in the <strong class="bold">Scene</strong> window. The following screenshot shows the order of the two game objects:</li>
			</ol>
			<div><div><img src="img/Figure_9.61_B18381.jpg" alt="Figure 9.61 – BUY? game object placement in the Hierarchy window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.61 – BUY? game object placement in the Hierarchy window</p>
			<ol>
				<li value="5">With the <code>panel</code> game object still selected, give its <strong class="bold">Rect Transform</strong> the following values in the <strong class="bold">Inspector</strong> window:</li>
			</ol>
			<div><div><img src="img/Figure_9.62_B18381.jpg" alt="Figure 9.62 – panel Rect Transform property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.62 – panel Rect Transform property settings</p>
			<p>We can change the color of our <code>panel</code> game object by clicking its <strong class="bold">Color</strong> field within its <strong class="bold">Image</strong> component in the <strong class="bold">Inspector</strong> window and giving it the values highlighted in the following screenshot:</p>
			<div><div><img src="img/Figure_9.63_B18381.jpg" alt="Figure 9.63 – Change the panel game object Image component color values to those in this screenshot&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.63 – Change the panel game object Image component color values to those in this screenshot</p>
			<p>Finally, we <a id="_idIndexMarker993"/>can <a id="_idIndexMarker994"/>amend our <code>textBoxPanel</code> and <code>bank</code> balance fonts so that they fit in with the shop buttons.</p>
			<p>To amend our bank balance, we need to do the following:</p>
			<ol>
				<li value="1">In the <code>bankText</code> game object.</li>
				<li>With <code>bankText</code> selected, update its <strong class="bold">Text Mesh</strong> component in the <strong class="bold">Inspector</strong> window so that the <strong class="bold">Font</strong> field takes our new <strong class="bold">ethnocentric rg it</strong> font.</li>
				<li>Change the <code>255</code>, <code>0</code>, <code>0</code>, <code>255</code>).</li>
				<li>Add a few digits in the <strong class="bold">Text</strong> field to check the results, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.64_B18381.jpg" alt="Figure 9.64 – bank game object font updated&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.64 – bank game object font updated</p>
			<p>To <a id="_idIndexMarker995"/>change<a id="_idIndexMarker996"/> our <code>textBoxPanel</code>, we need to do something similar. Here, we will select its two child game objects in the <code>name</code> and <code>desc</code>, and update their <strong class="bold">Text Mesh</strong> components to the following:</p>
			<ol>
				<li value="1">Add the <code>name</code> and <code>desc</code> game object's <strong class="bold">Text Mesh</strong> <strong class="bold">Font</strong> fields.</li>
				<li>Give them a white <strong class="bold">Color</strong>.</li>
				<li>In the <code>name</code> game object's <strong class="bold">Text Mesh</strong> <strong class="bold">Text</strong> field, add the following:<pre><strong class="bold">officer:</strong></pre></li>
				<li>Apply the same changes to the <code>desc</code> game object but add the following text to the <strong class="bold">Text</strong> field:<pre><strong class="bold">will you need any</strong>
<strong class="bold">upgrades before</strong>
<strong class="bold">launch?</strong></pre></li>
			</ol>
			<p>The following screenshot shows a section of the <strong class="bold">Game</strong> window and its updated font:</p>
			<div><div><img src="img/Figure_9.65_B18381.jpg" alt="Figure 9.65 – Our textBoxPanel game object and its content updated&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.65 – Our textBoxPanel game object and its content updated</p>
			<p>Now, all of our shop's visuals have been amended and will support various screen ratios. By doing this, we also introduced Unity's own <strong class="bold">Button</strong> component.</p>
			<p>We have now reached the point where we can open a template script of <code>PlayerShipBuild</code> from our chapter's project files folder. This script will be a replica of the current <code>PlayerShipBuild</code> script we have been making but with highlighted <a id="_idIndexMarker997"/>code we will <a id="_idIndexMarker998"/>add to the project to support our <code>shop</code> scene's functionality.</p>
			<h3>Upgrading the PlayerShipBuild script</h3>
			<p>In this<a id="_idIndexMarker999"/> section, we are<a id="_idIndexMarker1000"/> going to replace the current <code>PlayerShipBuild</code> script with the one from this chapter's project files folder. The replacement script will contain the same code as your current script but with code to show what we will be adding and removing step by step.</p>
			<p>Let's rename our current <code>PlayerShipBuild</code> script to something else before we begin working on our new replacement script. To rename the current <code>PlayerShipBuild</code> script, do the following:</p>
			<ol>
				<li value="1">In the <code>Assets/Script</code> folder.</li>
				<li>Double-click the <code>PlayerShipBuild</code> script.</li>
				<li>With the <code>PlayerShipBuild</code> script open, rename the class name near the top of the script from <code>PlayerShipBuild</code> to <code>PlayerShipBuild_OLD</code>.</li>
				<li>Save the script and return to the <code>Assets/Script</code> folder in the <strong class="bold">Project</strong> window.</li>
				<li>Click the <code>PlayerShipBuild</code> script slowly twice so that you're provided with the option to rename the filename.</li>
				<li>Change the filename to <code>PlayerShipBuild_OLD</code>.</li>
			</ol>
			<p>Now, we need to disconnect the <code>PlayerShipBuild_OLD</code> script from the <code>shop</code> game object.</p>
			<ol>
				<li value="7">In the <code>shop</code> into the search bar until you see the <code>shop</code> game object. When you do, select it.</li>
				<li>With the <code>shop</code> game object selected, click the three dots in the <code>PlayerShipBuild_OLD</code> component (not <strong class="bold">Transform</strong>).</li>
				<li>Select <strong class="bold">Remove Component</strong> from the drop-down list.</li>
			</ol>
			<p>With<a id="_idIndexMarker1001"/> that, we<a id="_idIndexMarker1002"/> have renamed and detached the script from the scene. Now, we can bring in the new replica <code>PlayerShipBuild</code> script from this chapter's project files folder.</p>
			<p>To hook up the new replica <code>PlayerShipBuild</code> script from our project files folder, do the following:</p>
			<ol>
				<li value="1">In the <code>Assets/</code> folder.</li>
				<li>Select the <code>PlayerShipBuild_NEW.txt</code> script inside the folder and drag it to the <code>Assets/Script</code> folder. Rename it and its file format from <code>.txt</code> to <code>.cs</code>. This will replace some of our old raycast scripts with the same name, <code>PlayerShipBuild.cs</code>, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.66_B18381.jpg" alt="Figure 9.66 – Update the PlayerShipBuild script from the Chapter 9 folder&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.66 – Rename and move PlayerShipBuild_NEW to the project's Assets/Script folder</p>
			<p>We can now <a id="_idIndexMarker1003"/>apply this<a id="_idIndexMarker1004"/> replica script to the <code>shop</code> game object in the scene. Let's get started:</p>
			<ol>
				<li value="1">Select the <code>shop</code> game object in the <strong class="bold">Hierarchy</strong> window, as we did before.</li>
				<li>Click the <code>PlayerShipBuild</code>. When you see the <code>PlayerShipBuild</code> script, select it from the drop-down list.</li>
				<li>With the <code>shop</code> game object still selected, we can now configure the attached <code>PlayerShipBuild</code> script. </li>
				<li>To configure the script, set <code>3</code>, click each <strong class="bold">remote</strong> button to the right of each field, and add the following highlighted, from the <strong class="bold">Hierarchy</strong> window:</li>
			</ol>
			<div><div><img src="img/Figure_9.67_B18381.jpg" alt="Figure 9.67 – Add the following three game objects to the PlayerShipBuild script's fields&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.67 – Add the following three game objects to the PlayerShipBuild script's fields</p>
			<p>Our new <code>PlayerShipBuild</code> script is now in place. This means we can now open the script and check through and reveal new sections of the code while explaining the fundamental parts of the old code's removal.</p>
			<p>Each <a id="_idIndexMarker1005"/>of the<a id="_idIndexMarker1006"/> following <strong class="bold">Removing the old…</strong> subsections will do the following:</p>
			<ul>
				<li><strong class="bold">//REMOVE(number)</strong>: Refer to what part of the code we are talking about.</li>
				<li><code>PlayerShipBuild</code> script its code has been removed.</li>
				<li><strong class="bold">Replacement</strong>: What the previous code has been replaced with.</li>
			</ul>
			<h4>Removing the old shop scene's code</h4>
			<p>In this<a id="_idIndexMarker1007"/> section, we are going to go through the newly installed <code>PlayerShipBuild</code> script and review parts of the code I have commented out so that it won't be acknowledged when it's compiled and executed in Unity.</p>
			<p>We will be turning off the ability to raycast a 3D object, which we coded in <a href="B18381_05_Epub.xhtml#_idTextAnchor107"><em class="italic">Chapter 5</em></a>, <em class="italic">Creating a Shop Scene for Our Game</em>. Because we have swapped the interactable game objects from 3D to 2D, we are no longer required to shoot and identify game objects as Unity will take care of this with its own <strong class="bold">Button</strong> component.</p>
			<p>To review the code we have commented out, go to the <code>PlayerShipBuild</code> script located where we left it (<code>Assets/Script</code>).</p>
			<p class="callout-heading">Information</p>
			<p class="callout"><code>Commenting</code>, <code>Comments</code>, and <code>UnComment</code> are words that refer to when a piece of code has two forward slashes in front of it. These will be ignored when our code is read by the compiler (when we run our code).</p>
			<p>We are going to review each piece of code in separate sections so that it's clear when the changes <a id="_idIndexMarker1008"/>we are going to make in <code>PlayerShipBuild</code> will be applied.</p>
			<h4>Reviewing code – REMOVED 01</h4>
			<p>Each main chunk <a id="_idIndexMarker1009"/>of code begins with <code>//REMOVED</code>, followed by a number. Here are the reasons why we have removed the particular piece of code for <code>//REMOVED 01</code>:</p>
			<ul>
				<li><code>//REMOVED 01</code>: This piece of code creates a raycast and returns a game object called <code>target</code>.</li>
				<li><strong class="bold">Reason for removal</strong>: We no longer need to rely on getting references for each game object we shoot a ray at.</li>
				<li><code>OnClick</code> event, which is typically used to load a method when it's selected.</li>
			</ul>
			<p>Let's continue scrolling down the <code>PlayerShipBuild</code> script until we get to <code>//REMOVED 02</code>.</p>
			<h4>Reviewing code – REMOVED 02</h4>
			<p>In this section, we are going to review what we have commented out in <code>//REMOVED 02</code>:</p>
			<ul>
				<li><code>//REMOVED 02</code>: This piece of code will take a reference from a raycast-selected game object and turn on that <code>selection</code> game object to show that a selection has been made.</li>
				<li><strong class="bold">Reason for removal</strong>: The game object served no benefit apart from serving a cosmetic purpose.</li>
				<li><code>selection</code> game object.</li>
			</ul>
			<p>Let's continue scrolling down the <code>PlayerShipBuild</code> script until we get to <code>//REMOVED 03</code>.</p>
			<h4>Reviewing code – REMOVED 03</h4>
			<p>In this section, we <a id="_idIndexMarker1010"/>are going to review what we have commented out in <code>//REMOVED 03</code>:</p>
			<ul>
				<li><code>//REMOVED 03</code>: This part of the code checks for the player pressing the fire button; if they do, the code will shoot out a raycast to check whether it made contact with a collider.</li>
				<li><code>if</code> statement.</li>
				<li><code>OnClick</code> event system holds a reference to what game object is selected.</li>
			</ul>
			<p>Let's continue scrolling down the <code>PlayerShipBuild</code> script until we get to <code>//REMOVED 04</code>.</p>
			<h4>Reviewing code – REMOVED 04</h4>
			<p>In this section, we are going to review what we have commented out in <code>//REMOVED 04</code>:</p>
			<ul>
				<li><code>//REMOVED 04</code>: This script checks what the name of the raycast game object is. Once it's identified through a series of <code>if</code> statements, it runs the method applicable to it.</li>
				<li><strong class="bold">Reason for removal</strong>: This section of the code would have checked for specific names our raycast would have made contact with. We no longer use the raycast system now.</li>
				<li><strong class="bold">Replacement</strong>: Each button has its own event trigger that runs its own method.</li>
			</ul>
			<p>Let's continue scrolling down the <code>PlayerShipBuild</code> script until we get to <code>//REMOVED 05</code>.</p>
			<h4>Reviewing code – REMOVED 05</h4>
			<p>In this section, we are going to review what we have commented out in <code>//REMOVED 05</code>:</p>
			<ul>
				<li><code>//REMOVED 05</code>: At every frame, it checks whether the player has made a selection in the shop.</li>
				<li><code>Update</code> method.</li>
				<li><strong class="bold">Replacement</strong>: The event trigger system.</li>
			</ul>
			<p>In the previous <a id="_idIndexMarker1011"/>sections, we reviewed and amended the way we interacted with the old shop scene's raycast system.</p>
			<p>The next phase is to apply methods that can be called directly via an event when a button is pressed in the <code>shop</code> scene.</p>
			<h3>Adding methods to our PlayerShipBuild script</h3>
			<p>In this<a id="_idIndexMarker1012"/> section, we <a id="_idIndexMarker1013"/>are going to build two main parts so that we can set up our script for 2D UI selection. Thankfully, we have done most of the work for this chapter and all that remains is to make parts of the script <code>public</code> so that our code can be accessed from other sources, that is, our event trigger (<code>OnClick()</code>).</p>
			<p>The second thing we are going to do is make our <code>AttemptSelection</code> method receive the game object button so that it will replace the previous <code>target</code> game object.</p>
			<p>To confirm this, the <code>target</code> game object was originally used to store ray hits from our raycast system. If you would like to know more about raycast systems, check out <a href="B18381_05_Epub.xhtml#_idTextAnchor107"><em class="italic">Chapter 5</em></a>, <em class="italic">Creating a Shop Scene for Our Game</em>, if this sounds hazy.</p>
			<p>Let's start <a id="_idIndexMarker1014"/>by <a id="_idIndexMarker1015"/>making the <code>PlayerShipBuild</code> script's methods accessible to other classes:</p>
			<p class="callout-heading">Information</p>
			<p class="callout">By default, the accessibility levels for our methods/functions and classes are set to private unless stated otherwise. For more information about accessibility levels, check out the following link: <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/accessibility-levels">https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/accessibility-levels</a>.</p>
			<ol>
				<li value="1">Open the <code>PlayerShipBuild</code> script and add <code>public</code> to the following methods:<ul><li><code> void WatchAdvert()</code></li><li><code> void BuyItem()</code></li><li><code> void StartGame()</code></li></ul></li>
			</ol>
			<p>These methods are now open to other scripts and the Unity Editor via the <code>AttemptSelection</code> method.</p>
			<p><code>AttemptSelection</code> will be given the same treatment with regard to being a <code>public</code> method, but it will now also take a game object in parameters, which will be the button our script is attached to.</p>
			<ol>
				<li value="2">Scroll to the <code>AttemptSelection</code> method and add a <code>public</code> accessibility level, including a game object with the reference name <code>buttonName</code>:<pre><strong class="bold">public</strong> void AttemptSelection(<strong class="bold">GameObject buttonName</strong>)
{</pre></li>
			</ol>
			<p>Inside this <code>AttemptSelection</code> method, we check <code>buttonName</code> instead of what we did before by checking <code>target</code>. We then follow the same procedure of turning off any buttons highlighted, then apply the <code>buttonName</code> game object reference to another game object called <code>tmpSelection</code>, which was originally set in the <code>Select</code> method.</p>
			<ol>
				<li value="3">Update <code>AttemptSelection</code> with the following code:<pre>if (buttonName)
        { 
          TurnOffSelectionHighlights();
          tmpSelection = buttonName;</pre></li>
			</ol>
			<p>Continuing<a id="_idIndexMarker1016"/> with<a id="_idIndexMarker1017"/> the next line of code inside our method, we set the button's child <code>selection</code> game object to active (switch it on). The following screenshot shows the child number of the <code>selection</code> game object in the <strong class="bold">Hierarchy</strong> window:</p>
			<div><div><img src="img/Figure_9.68_B18381.jpg" alt="Figure 9.68 – Hierarchy order of game object 00's children&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.68 – Hierarchy order of game object 00's children</p>
			<ol>
				<li value="4">Enter the following code:<pre>tmpSelection.transform.GetChild(1).gameObject.SetActive(true);</pre></li>
				<li>Inside the <code>AttemptSelection</code> method, we now need to change the old <code>target</code> game object's name to the new <code>buttonName</code> game object. The code in bold <a id="_idIndexMarker1018"/>in <a id="_idIndexMarker1019"/>the following snippet shows where you need to change the names:<pre> UpdateDescriptionBox();
 //not sold
 if (<strong class="bold">buttonName</strong>.GetComponentInChildren&lt;Text&gt;().text !=     "SOLD")
 {
    //can afford
    Affordable();
    //can not afford
    LackOfCredits();
 }
 else if (<strong class="bold">buttonName</strong>.GetComponentInChildren&lt;Text&gt;().text     == "SOLD")
 {
    SoldOut();
 }
 }
}</pre></li>
				<li>Save the script and re-enter your Game IDs in the <strong class="bold">Inspector</strong> window for the shop game object. (<strong class="bold">Edit | Project Settings | Services | Ads </strong>)</li>
			</ol>
			<p>Remember that if you get stuck with this part, you can always check the <code>Complete</code> folder for this chapter, where you'll have access to the completed files.</p>
			<p>So far, we have removed multiple chunks of code and replaced them with a minimal amount that now supports the event triggers from the Unity Editor. This will help with <a id="_idIndexMarker1020"/>performance and<a id="_idIndexMarker1021"/> improve the readability of our code. In the next section, we are going to let each of the UI buttons know what methods to run when a selection is made.</p>
			<h3>Applying trigger events to call methods</h3>
			<p>In this final <a id="_idIndexMarker1022"/>section, we <a id="_idIndexMarker1023"/>are going to make it so that when the player presses a button in the shop, they will get access to it immediately, instead of our script shooting a ray and checking whether and what collider it has made contact with to get access to its method. We will be doing this using Unity's Event system to run methods directly.</p>
			<p>To make a button run a method directly, follow these steps:</p>
			<ol>
				<li value="1">In the Unity Editor, select the first <code>shop</code> scene button in the selection grid called <code>00</code> in the <strong class="bold">Hierarchy</strong> window, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.69_B18381.jpg" alt="Figure 9.69 – Select the 00 game object in the Hierarchy window&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.69 – Select the 00 game object in the Hierarchy window</p>
			<ol>
				<li value="2">With <code>00</code> selected, scroll down the <strong class="bold">Inspector</strong> window until you come across the <strong class="bold">Button</strong> component. Within the <strong class="bold">On Click ()</strong> panel, click the <strong class="bold">+</strong> icon, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.70_B18381.jpg" alt="Figure 9.70 – In the Button component click the + button to add an On Click () event&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.70 – In the Button component click the + button to add an On Click () event</p>
			<ol>
				<li value="3">The <code>shop</code> game object to the field that currently says <strong class="bold">None (Object)</strong>.</li>
				<li>Click and drag the <code>shop</code> game object from the <strong class="bold">Hierarchy</strong> window into the <strong class="bold">None (Object)</strong> field, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.71_B18381.jpg" alt="Figure 9.71 – Drag the shop game object from the Hierarchy into the 00 game object Button's On Click () field&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.71 – Drag the shop game object from the Hierarchy into the 00 game object Button's On Click () field</p>
			<p>The <code>00</code> game object. Now, we need to direct what function from <code>00</code> it should load. </p>
			<p>We will call the <code>AttemptSelection</code> method by making a request when we tap/click one <a id="_idIndexMarker1026"/>of<a id="_idIndexMarker1027"/> the <code>shop</code> scene's buttons.</p>
			<p>To make our <code>00</code> button load the <code>AttemptSelection</code> method, do the following:</p>
			<ol>
				<li value="1">Click the <code>PlayerShipBuild</code> script and the <code>AttemptSelection(GameObject)</code> public method, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/Figure_9.72_B18381.jpg" alt="Figure 9.72 – With the shop game object in the field, select the PlayerShipBuild script and then the AttemptSelection function&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.72 – With the shop game object in the field, select the PlayerShipBuild script and then the AttemptSelection function</p>
			<p>The<a id="_idIndexMarker1028"/> last <a id="_idIndexMarker1029"/>field to add within the <code>AttemptSelection</code>.</p>
			<ol>
				<li value="2">Click the remote button on the far right and type the game object we have selected, that is, <code>00</code>. When you see it in the list, click it.</li>
			</ol>
			<p>So, when the player presses the <code>00</code> button, our <code>PlayerShipBuild</code> script from the <code>shop</code> game object. Then, it will run the <code>AttemptSelection</code> method, taking the <code>00</code> game object as a reference in parameters.</p>
			<ol>
				<li value="3">Set up the <code>01</code> and <code>02</code>. Once completed, each <strong class="bold">On Click()</strong> panel will look as follows for all three game objects:</li>
			</ol>
			<div><div><img src="img/Figure_9.73_B18381.jpg" alt="Figure 9.73 – Each game object (00, 01, 02) and their Button component On Click () event property settings&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.73 – Each game object (00, 01, 02) and their Button component On Click () event property settings</p>
			<p>Things are slightly <a id="_idIndexMarker1030"/>different <a id="_idIndexMarker1031"/>for our <code>START</code> and <code>AD</code> game object buttons (sat in the <strong class="bold">Hierarchy</strong> window).</p>
			<p>To make our <code>AD</code> and <code>START</code> game object buttons work in the game, do the following:</p>
			<ol>
				<li value="1">Apply the <code>shop</code> game object to the <code>AD</code> game object's <code>OnClick</code> event in the <strong class="bold">Inspector</strong> window, as we did with the last few game object buttons.</li>
				<li>Do the same for the <code>START</code> game object button.</li>
				<li>Update each of the <code>START</code> and <code>AD</code> game object's <code>OnClick</code> events, as follows:<ul><li><code>PlayerShipBuild</code>, followed<a id="_idIndexMarker1032"/> by the <code>WatchAdvert</code> method.</li><li><code>PlayerShipBuild</code>, followed <a id="_idIndexMarker1033"/>by the <code>StartGame</code> method. Remember, if you can't see it in the list, make sure it is made <code>public</code> in the <code>PlayerShipBuild</code> script. You know how to do this now. If not, check the <code>Complete</code> folder.</li></ul></li>
			</ol>
			<div><div><img src="img/Figure_9.74_B18381.jpg" alt="Figure 9.74 – AD and START game object Button On Click () event property values&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.74 – AD and START game object Button On Click () event property values</p>
			<p>The very last button to change is the <code>BUY?</code> game object button in the <strong class="bold">Hierarchy</strong> window:</p>
			<ol>
				<li value="1">Apply the usual <code>shop</code> game object to its <strong class="bold">On Click()</strong> panel.</li>
				<li>Set the script to <code>PlayerShipBuild</code>, followed by <code>BuyItem</code>.</li>
			</ol>
			<p>Note that we don't apply event listeners to our bottom row of buttons (Sold Out) as there is no reason to press these buttons.</p>
			<p>Our shop scene is now ready to test. Save the scene and press <strong class="bold">Play</strong> in the Unity Editor to try out our new shop buttons. It would also be worth testing different landscape views in the <strong class="bold">Game</strong> window to see the UI buttons pop into shape when a landscape ratio is selected.</p>
			<p>The following screenshot shows the steps you have to follow to change the ratio. Do this by clicking the <strong class="bold">Game</strong> tab in the Unity Editor, followed by making a selection from two fairly common ratios:</p>
			<div><div><img src="img/Figure_9.75_B18381.jpg" alt="Figure 9.75 – This screenshot shows two common ratios marked&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 9.75 – This screenshot shows two common ratios marked</p>
			<p>In this section, we reevaluated our code and took out the old raycast system, which involved selecting 3D game objects to run methods. We replaced this with Unity's Event System, complete with <strong class="bold">Button</strong> components that were dynamically organized with the <strong class="bold">Horizontal and Vertical Layout Group</strong> components.</p>
			<p>Now, the UI is more robust since it supports different screen ratios. This will make our game more compatible with a variety of mobile and tablet screens that are old and current, as <a id="_idIndexMarker1036"/>well as <a id="_idIndexMarker1037"/>portable devices that haven't been released yet. This helps future-proof our application without any embarrassing ratio issues occurring.</p>
			<h1 id="_idParaDest-169"><a id="_idTextAnchor172"/>Summary</h1>
			<p>In this chapter, we looked into two different parts of our game: the in-game HUD and rebuilding our shop scene. Both of these used Unity's UI components but in different ways.</p>
			<p>In the in-game HUD section, we read up about what a HUD is and how we can incorporate one into our game. By doing this, we learned how to use <strong class="bold">Horizontal Layout Group</strong> to order images correctly, <strong class="bold">Render Texture</strong> to take a feed from a second camera, and <strong class="bold">Raw Image</strong> to display a feed from <strong class="bold">Render Texture</strong>.</p>
			<p>Most importantly, as required by the Unity Programmer Exam, you need to understand what a HUD is and how to build elements into it, such as a mini-map.</p>
			<p>In the second part of this chapter, we reviewed our current shop scene's interface and code. We took it apart and rebuilt its interface as a Unity Event system that ran methods directly instead of casting a ray to call a method. We also made the interface support multiple ratios.</p>
			<p>With the skills covered in this chapter, you should feel more confident in reviewing and understanding code that could be made more efficient.</p>
			<p>In the next chapter, we will continue working on our in-game level so that we can pause the game, add and change the volume of our music and sound effects manually, and more.</p>
		</div>
	</body></html>