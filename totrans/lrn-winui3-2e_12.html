<html><head></head><body>
		<div id="_idContainer159">
			<h1 id="_idParaDest-237" class="chapter-number"><a id="_idTextAnchor454"/>12</h1>
			<h1 id="_idParaDest-238"><a id="_idTextAnchor455"/>Hosting a Blazor Application in WinUI</h1>
			<p><strong class="bold">Blazor</strong> is <a id="_idIndexMarker852"/>a web framework from Microsoft that allows .NET developers to create C# web applications with little to no JavaScript code. Server-side Blazor applications were introduced with ASP.NET Core 3.0, and ASP.NET Core 3.2 added the ability to create client-side Blazor web apps with <strong class="bold">WebAssembly</strong> (<strong class="bold">Wasm</strong>). Wasm (<a href="https://webassembly.org/">https://webassembly.org/</a>) allows<a id="_idIndexMarker853"/> runtimes such as .NET and Java to run in web<a id="_idIndexMarker854"/> applications in the browser, and it is supported by all modern browser engines. By leveraging the <strong class="source-inline">WebView2</strong> control in WinUI 3, Windows developers can run a cloud-hosted Blazor application inside their WinUI client application. These <a id="_idIndexMarker855"/>options are changing a bit in .NET 8 with the introduction of <strong class="bold">rendering modes</strong>. We’ll discuss these new modes and the advantages <span class="No-Break">of each.</span></p>
			<p>In this chapter, we will cover the <span class="No-Break">following topics:</span></p>
			<ul>
				<li>Learning some basics of client-side .NET development with ASP.NET Core <span class="No-Break">and Blazor</span></li>
				<li>Creating a new Blazor application with <strong class="bold">Visual Studio Code</strong> and the <strong class="bold">.NET command-line </strong><span class="No-Break"><strong class="bold">interface</strong></span><span class="No-Break"> (</span><span class="No-Break"><strong class="bold">CLI</strong></span><span class="No-Break">)</span></li>
				<li>Deploying Blazor applications to the <strong class="bold">Azure Static Web </strong><span class="No-Break"><strong class="bold">Apps</strong></span><span class="No-Break"> service</span></li>
				<li>Creating a WinUI application to host a Blazor application in a <strong class="source-inline">WebView2</strong> <span class="No-Break">browser control</span></li>
			</ul>
			<p>By the end of this chapter, you will understand how to create a new Blazor application, deploy it to the cloud, and use the application as a <strong class="bold">single-page application</strong> (<strong class="bold">SPA</strong>) inside the WinUI <span class="No-Break"><strong class="source-inline">WebView2</strong></span><span class="No-Break"> contr<a id="_idTextAnchor456"/><a id="_idTextAnchor457"/>ol.</span></p>
			<h1 id="_idParaDest-239"><a id="_idTextAnchor458"/>Technical requirements</h1>
			<p>To follow along with the examples in this chapter, the following software <span class="No-Break">is required:</span></p>
			<ul>
				<li>Windows 10 version 1809 (build 17763) or later or <span class="No-Break">Windows 11.</span></li>
				<li>Visual Studio 2022 or later with the .NET Desktop Development workload configured for Windows App <span class="No-Break">SDK development.</span></li>
				<li><strong class="bold">Visual Studio Code</strong> (<strong class="bold">VS Code</strong>) with the following extensions: C# Dev Kit and Debugger for <span class="No-Break">Microsoft Edge.</span></li>
				<li>Windows Terminal (which was built with WinUI) or your preferred command-line tool. You can also use the <strong class="bold">Terminal</strong> window in <span class="No-Break">VS Code.</span></li>
				<li>To create the Blazor project, install .NET 7 SDK <span class="No-Break">or later.</span></li>
			</ul>
			<p>The source code for this chapter is available on GitHub at this <span class="No-Break">URL: </span><a href="https://github.com/PacktPublishing/-Learn-WinUI-3/tree/master/Chapter12"><span class="No-Break">https://github.com/PacktPublishing/-Learn-WinUI-3/tree/master/Chapter12</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-240"><a id="_idTextAnchor459"/>Getting started with ASP.NET Core and Blazor</h1>
			<p>Blazor is <a id="_idIndexMarker856"/>a web develo<a id="_idTextAnchor460"/>pment framework that provides C# developers with an alternative to JavaScript when building client-side web applications. Blazor is a part of <strong class="bold">ASP.NET Core</strong> and was<a id="_idIndexMarker857"/> first introduced with ASP.NET Core 3.0. Let’s start by exploring a <a id="_idTextAnchor461"/>brief <a id="_idIndexMarker858"/>history of <strong class="bold">ASP.NET</strong> and <span class="No-Break">ASP.NET<a id="_idTextAnchor462"/><a id="_idTextAnchor463"/> Core.</span></p>
			<h2 id="_idParaDest-241"><a id="_idTextAnchor464"/>A brief history of ASP.NET and ASP.NET Core</h2>
			<p>ASP.NET <a id="_idIndexMarker859"/>was Microsoft’s .NE<a id="_idTextAnchor465"/>T-based web development framework that was first released in 2002. The early versions of ASP.NET used a client development model<a id="_idIndexMarker860"/> called <strong class="bold">Web Forms</strong>, w<a id="_idTextAnchor466"/>hich was intended <a id="_idTextAnchor467"/>as a web equivalent<a id="_idIndexMarker861"/> of <strong class="bold">Windows Forms</strong> (<strong class="bold">WinForms</strong>) client applications. Web Forms was popular with .NET web developers but did not adhere to many web development best practices and patterns. Many developers were critical of the large amount<a id="_idIndexMarker862"/> of <strong class="bold">ViewState</strong> data sen<a id="_idTextAnchor468"/>t over the wire with every server request <span class="No-Break">and response.</span></p>
			<p>In response to Web Forms criticism, the ASP.NET team released ASP.NET MVC in 2009. Web applications<a id="_idTextAnchor469"/> built with ASP.NET MVC follow the <strong class="bold">Model-View-Controller</strong> (<strong class="bold">MVC</strong>) pattern. The new framework was<a id="_idIndexMarker863"/> well-received by the .NET community and is still a popular choice with web developers today. ASP.NET was also one of the first Microsoft frameworks to be released as open source. In 2012, ASP.NET MVC 4 was released as open source under the Apache <span class="No-Break">License 2.0.</span></p>
			<p>As the .NET <a id="_idIndexMarker864"/>team continued to embrace open source software, they also decided to make a fresh start with a new, open source, and cross-platform version of .NET<a id="_idIndexMarker865"/> called <strong class="bold">.NET C<a id="_idTextAnchor470"/>ore</strong>. Microsoft released .NET Core 1.0 in 2016 with runtimes available for Windows, macOS, and Linux. With the<a id="_idIndexMarker866"/> release of .NET Core came a new web framework called <strong class="bold">ASP.NET Core</strong>. ASP.NET Core 1.0 included project templates to build web applications and Web API projects. The web applications were built with the MVC <a id="_idIndexMarker867"/>pattern, the <strong class="bold">R<a id="_idTextAnchor471"/>azor</strong> synta<a id="_idTextAnchor472"/>x for building a rich UI, and CSS for <span class="No-Break">styling pages.</span></p>
			<p>The ASP.NET te<a id="_idTextAnchor473"/>am continued to add more features to ASP.NET Core over the next several years, including <span class="No-Break">the following:</span></p>
			<ul>
				<li><strong class="bold">Razor Pages</strong>: Razor Pag<a id="_idTextAnchor474"/>es<a id="_idIndexMarker868"/> projects were introduced with ASP.NET Core and offer a simple alternative to ASP.NET <span class="No-Break">Core MVC</span></li>
				<li><strong class="bold">SignalR</strong>: A framework f<a id="_idTextAnchor475"/>or real-time web communication; SignalR<a id="_idIndexMarker869"/> is integral to client-server communication in Blazor <span class="No-Break">server applications</span></li>
				<li><strong class="bold">Identity (previously Identity Cor<a id="_idTextAnchor476"/>e)</strong>: Supports login functionality in ASP.NET Core applications and manages<a id="_idIndexMarker870"/> authentication resources such as users, passwords, roles, tokens, and <span class="No-Break">so on</span></li>
			</ul>
			<p class="callout-heading">Note</p>
			<p class="callout">This book will not provide a detailed tutorial on ASP.NET Core development. If you want to learn more about building web applications with ASP.NET Core, see <em class="italic">ASP.NET Core 5 for Beginners</em>, by <em class="italic">Andreas Helland, Vincent Maverick Durano, Jeffrey Chilberto, and Ed Price, Packt </em><span class="No-Break"><em class="italic">Publishing</em></span><span class="No-Break"> (</span><a href="https://www.packtpub.com/product/asp-net-core-5-for-beginners/9781800567184"><span class="No-Break">https://www.packtpub.com/product/asp-net-core-5-for-beginners/9781800567184</span></a><span class="No-Break">).</span></p>
			<p>But where does Blazor fit into the ASP.NET Core development picture? Let’s <a id="_idTextAnchor477"/><a id="_idTextAnchor478"/>explore <span class="No-Break">that next.</span></p>
			<h2 id="_idParaDest-242"><a id="_idTextAnchor479"/>What is Blazor?</h2>
			<p>Blazor is a <a id="_idIndexMarker871"/>framework for building web applications with .NET and C#. Prior to .NET 8, there were three hostin<a id="_idTextAnchor480"/>g models from which developers could choose when starting a new <span class="No-Break">Blazor project:</span></p>
			<ul>
				<li><strong class="bold">Blazor Server</strong>: Introduced <a id="_idIndexMarker872"/>with ASP.NET Core 3.0, the server model executes applicatio<a id="_idTextAnchor481"/>n logic on the server with UI updates pushed to the client through <span class="No-Break">SignalR connections.</span></li>
				<li><strong class="bold">Blazor WebAssem<a id="_idTextAnchor482"/>bly</strong>: Delivered<a id="_idIndexMarker873"/> later with ASP.NET Core 3.2, this execution model runs solely on the client, sandboxed and running on the browser’s UI thread <span class="No-Break">via Wasm.</span></li>
				<li><strong class="bold">Blazor Hybrid</strong>: This is a <a id="_idIndexMarker874"/>newer type of Blazor app that combines web and native client technologies. In this model, Razor components run in .NET on the client and render web user interfaces to the native client with interop and WebView technology that is seamless to the user. Hybrid apps can be used with .NET MAUI, WPF, and <span class="No-Break">WinForms clients.</span></li>
			</ul>
			<p>In .NET 8 and later, the Blazor team has evolved these hosting models into rendering modes. There are now three modes you can choose when developing <span class="No-Break">with Blazor:</span></p>
			<ul>
				<li><strong class="bold">Server mode</strong>: The<a id="_idIndexMarker875"/> equivalent of the server hosting model from <span class="No-Break">previous versions.</span></li>
				<li><strong class="bold">WebAssembly mode</strong>: The <a id="_idIndexMarker876"/>client-side mode that <span class="No-Break">leverages Wasm.</span></li>
				<li><strong class="bold">Auto mode</strong>: The new <a id="_idIndexMarker877"/>Auto mode combines the best of the previous two modes. It will run in WebAssembly mode if the client runtime components can be downloaded quickly enough. Otherwise, it falls back to <span class="No-Break">Server mode.</span></li>
			</ul>
			<p>So, which mode should you choose for your next Blazor application? Luckily, with .NET 8, you don’t have to choose the same mode for the entire application anymore. The modes can be selected at the component level by setting the <strong class="source-inline">@rendermode</strong> attribute. That component-level decision will depend on your project’s requirements, but it’s likely that many applications will start to leverage <span class="No-Break">Auto mode.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">At the time of writing, .NET 8 is still only available as developer previews. We will build the application in this chapter with .NET 7 and the Blazor WebAssembly hosting model. You will be able to build the same kind of app with .NET 8 and the <span class="No-Break">WebAssembly mode.</span></p>
			<p>Here are some of the pros<a id="_idIndexMarker878"/> and cons of the server<a id="_idTextAnchor483"/> and Wasm <span class="No-Break">hosting</span><span class="No-Break"><a id="_idIndexMarker879"/></span><span class="No-Break"> models:</span></p>
			<div>
				<div id="_idContainer138" class="IMG---Figure">
					<img src="image/B20908_12_01.jpg" alt="Figure 12.1 – Blazor hosting model pros and cons"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.1 – Blazor hosting model pros and cons</p>
			<p>The Blazor server hosting model was released first and has the most mature tooling and debugging support. It is a great choice if you plan to host the server on a service that supports ASP.NET Core and your users may be using browsers that do not have <span class="No-Break">Wasm support.</span></p>
			<p>In this chapter, we are going to focus on client-side Blazor applications. So, why choose this mo<a id="_idTextAnchor484"/><a id="_idTextAnchor485"/>del, and how does <span class="No-Break">it work?</span></p>
			<h2 id="_idParaDest-243"><a id="_idTextAnchor486"/>WebAssembly and client-side .NET development</h2>
			<p>The primary <a id="_idIndexMarker880"/>benefits of the client-side hosting model with Wasm are the option of serverless deployment and the <a id="_idIndexMarker881"/>ability for clients to work offline. The offline support means your Blazor application can be configured as a <strong class="bold">Progressive Web App<a id="_idTextAnchor487"/>lication</strong> (<strong class="bold">PWA</strong>) and <a id="_idIndexMarker882"/>downloaded to PCs, tablets, and phones. You can learn more about PWAs from Mozilla’s developer <span class="No-Break">documentation: </span><a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps"><span class="No-Break">https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps</span></a><span class="No-Break">.</span></p>
			<p>The reasons that Blazor client applications can run as PWAs are the reasons why we want to use it in a <strong class="source-inline">WebView2</strong> control in our WinUI application. Once the web application has loaded in the browser host, all in-memory execution and interactio<a id="_idTextAnchor488"/>ns can occur regardless of any interruptions in network connectivity. If connectivity, scalability, and server hosting are not concerns in your project, then the Blazor server model could certainly <span class="No-Break">be used.</span></p>
			<p>Simple Blazor Wasm applications can be hosted as <em class="italic">static resources</em> on a web server. You can also host Blazor Wasm applications on ASP.NET Core web hosting solutions. Doing this enables sharing code with other web solutions on the server and more advanced routing scenarios to support deep linking within the application. With .NET 8, using a host with ASP.NET Core support allows you to take advantage of the new Auto mode or choose to only use Wasm mode in some components that lend themselves to <span class="No-Break">offline use.</span></p>
			<p>With the Wasm model, when clients make their first request to the server, the entire application and .NET runtime are sent to the browser in the response, and the entire application runs on the client side. There is no shared server-side code in this mode. The runtime and application are then loaded on t<a id="_idTextAnchor489"/>op of Wasm on the <span class="No-Break">UI thread:</span></p>
			<div>
				<div id="_idContainer139" class="IMG---Figure">
					<img src="image/B20908_12_02.jpg" alt="Figure 12.2 – The Blazor Wasm model running in the browser"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.2 – The Blazor Wasm model running in the browser</p>
			<p>Now that you have a little background on ASP.NET Core and Blazor applications, let’s create a Blazor Wasm project and get some hands-on ex<a id="_idTextAnchor490"/>perience with <span class="No-Break">the framework.</span></p>
			<h1 id="_idParaDest-244"><a id="_idTextAnchor491"/>Creating a Blazor Wasm application</h1>
			<p>It’<a id="_idTextAnchor492"/>s time to<a id="_idIndexMarker883"/> start building the Blazor application that we’ll be running in our WinUI application. We are going to use the .NET CLI and VS Code to create the Blazor project. You can also use Visual Studio 2022 if you prefer the experience of a <span class="No-Break">full-featured IDE:</span></p>
			<ol>
				<li>Start by opening a Command Prompt with your Terminal application of choice. I will be using Windows Terminal (https://apps.microsoft.com/store/detail/windows-terminal/9N0DX20HK701) with PowerShell <span class="No-Break">7.3 (</span><span class="No-Break">https://learn.microsoft.com/pow<a id="_idTextAnchor493"/>ershell/scripting/overview</span><span class="No-Break">):</span></li>
			</ol>
			<div>
				<div id="_idContainer140" class="IMG---Figure">
					<img src="image/B20908_12_03.jpg" alt="Figure 12.3 – Running PowerShell 7.3 in Windows Terminal"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.3 – Running PowerShell 7.3 in Windows Terminal</p>
			<ol>
				<li value="2">Use the terminal to change the current folder to the location where you keep your projects. My location will <span class="No-Break">be </span><span class="No-Break"><strong class="source-inline">C:\Users\alash\source\repos</strong></span><span class="No-Break">.</span></li>
				<li>Use the following command to create a new Blazor WebAssembly project named <strong class="source-inline">BlazorTasks</strong> and hit <em class="italic">Enter</em>: <strong class="source-inline">dotnet new blazorwasm -o BlazorTasks</strong>. The .NET CLI will create the new project, and you should see a message indicating it <a id="_idTextAnchor494"/>has <span class="No-Break">completed successfully:</span></li>
			</ol>
			<div>
				<div id="_idContainer141" class="IMG---Figure">
					<img src="image/B20908_12_04.jpg" alt="Figure 12.4 – The .NET CLI successfully creates a Blazor WebA﻿ssembly App project"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.4 – The .NET CLI successfully creates a Blazor WebA<a id="_idTextAnchor495"/>ssembly App project</p>
			<ol>
				<li value="4">Navigate to<a id="_idIndexMarker884"/> the new <strong class="source-inline">BlazorTasks</strong> folder t<a id="_idTextAnchor496"/>hat .NET just created. If you have VS Code (<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a>) installed, you can enter <strong class="source-inline">code .</strong> at the command line to open the<a id="_idTextAnchor497"/> current folder in <span class="No-Break">VS Code:</span></li>
			</ol>
			<div>
				<div id="_idContainer142" class="IMG---Figure">
					<img src="image/B20908_12_05.jpg" alt="Figure 12.5 – The BlazorTasks project in VS Code"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.5 – The BlazorTasks project in VS Code</p>
			<p class="list-inset">You <a id="_idIndexMarker885"/>may see some activity in the <strong class="bold">OUTPUT</strong> window as VS C<a id="_idTextAnchor498"/>ode downloads some debugging and editing tools relevant to the project. If you are presented with a <strong class="bold">Do you trust the authors of the files in this folder?</strong> dialog, select the <strong class="bold">Yes, I trust the authors</strong> button <span class="No-Break">to continue.</span></p>
			<ol>
				<li value="5">Switch to the <strong class="bold">Terminal</strong> window in VS Code. If the window isn’t visible at the bottom of your editor, you can click <strong class="bold">Terminal</strong> | <strong class="bold">New Terminal</strong> from <span class="No-Break">the menu.</span></li>
				<li>Type <strong class="source-inline">dotnet run</strong> in the Terminal. You can also use <em class="italic">F5</em> to run in VS Code as you are <a id="_idIndexMarker886"/>accustomed to using in Visual Studio. When the compilation completes, you can view the running <strong class="source-inline">BlazorTasks</strong> application by navigating to <strong class="source-inline">https://localhost:5240/</strong> in your browser (the port number will be dis<a id="_idTextAnchor499"/>played in the <span class="No-Break"><strong class="bold">TERMINAL</strong></span><span class="No-Break"> window):</span></li>
			</ol>
			<div>
				<div id="_idContainer143" class="IMG---Figure">
					<img src="image/B20908_12_06.jpg" alt="Figure 12.6 – Running the BlazorTasks project for the first time"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.6 – Running the BlazorTasks project for the first time</p>
			<p class="list-inset">The default project template has three navigation options in the left pane: <strong class="bold">Home</strong>, <strong class="bold">Counter</strong>, and <strong class="bold">Fetch data</strong>. As you navigate from page to page, all the execution logic is running within the browser. There are no round trips to an ASP.NET Core <span class="No-Break">serve<a id="_idTextAnchor500"/>r instance.</span></p>
			<ol>
				<li value="7">You can open the <a id="_idIndexMarker887"/>developer tools in your browser by pressing <em class="italic">F12</em>. You will see that there is no activity on the <strong class="bold">Network</strong> tab of the developer tools while navigating to the <strong class="bold">Counter</strong> tab in the application and clicking the <strong class="bold">Cl<a id="_idTextAnchor501"/>ick me</strong> button <span class="No-Break">several times:</span></li>
			</ol>
			<div>
				<div id="_idContainer144" class="IMG---Figure">
					<img src="image/B20908_12_07.jpg" alt="Figure 12.7 – Viewing network activity in the BlazorTas﻿ks application"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.7 – Viewing network activity in the BlazorTas<a id="_idTextAnchor502"/>ks application</p>
			<ol>
				<li value="8">Finally, when<a id="_idIndexMarker888"/> you are done exploring the application, you can close your browser and hit <em class="italic">Ctrl</em> + <em class="italic">C</em> in the VS Code <strong class="bold">TERMINAL</strong> window to stop debugging <span class="No-Break">the application.</span></li>
			</ol>
			<p>Now that we have created and tested the project, let’s start coding a new t<a id="_idTextAnchor503"/><a id="_idTextAnchor504"/>ask page for <span class="No-Break">the application.</span></p>
			<h2 id="_idParaDest-245">Building a simple application for track<a id="_idTextAnchor505"/>ing tasks</h2>
			<p>In this section, we are going <a id="_idIndexMarker889"/>to create a new task page for the application that will appear in the left navigation below the <strong class="bold">Fetch data</strong> item. If you like, you can remove the other components from the project. I am going to keep them there to test the navigation in the deployed application hosted <span class="No-Break">in WinUI:</span></p>
			<ol>
				<li>Start by adding a <strong class="source-inline">Tasks</strong> component to the project. Do this by entering <strong class="source-inline">dotnet new razorcomponent -n Tasks -o Pages</strong> in the VS Code <strong class="bold">TERMINAL</strong> window. This will create a <strong class="source-inline">Tasks</strong> Razor component in the <span class="No-Break"><strong class="source-inline">Pages</strong></span><span class="No-Break"> folder.</span></li>
				<li>Double-click <strong class="source-inline">Tasks.razor</strong> in the <strong class="source-inline">Pages</strong> folder in the <strong class="bold">Explorer</strong> window to open it in the editor. As an alternative to the Explorer window, the C# Dev Kit extension should have added a <strong class="bold">Solution Explorer</strong> view to the bottom of the left pane.<a id="_idTextAnchor506"/> Use this view if you like. The file contains the <span class="No-Break">following code:</span><pre class="source-code">
&lt;h3&gt;Tasks&lt;/h3&gt;
@code {
}</pre><p class="list-inset">Razor files contain a combination of HTML markup and C# code, with the HTML at the top of the file, and the C# inside the <strong class="source-inline">@code</strong> block at the bottom of the file. We’ll see how these two sections can interact as we <span class="No-Break">move along.</span></p></li>				<li>Add <strong class="source-inline">@page "/tasks"</strong> as the first line of the <strong class="source-inline">Tasks.razor</strong> file. This will allow the application to route to the page using <strong class="source-inline">/tasks</strong> on <span class="No-Break">the URL.</span></li>
				<li>Before we add the page contents, let’s add the new navigation item for it. Open <strong class="source-inline">NavMenu.razor</strong> from the <strong class="source-inline">Shared</strong> folder <span class="No-Break">in </span><span class="No-Break"><strong class="bold">Explorer</strong></span><span class="No-Break">.</span></li>
				<li>Inside<a id="_idIndexMarker890"/> the <strong class="source-inline">&lt;nav&gt;</strong> element, add a new <strong class="source-inline">&lt;div&gt;</strong> before the closing <strong class="source-inline">&lt;/</strong><span class="No-Break"><strong class="source-inline">nav&gt;</strong></span><span class="No-Break"> tag:</span><pre class="source-code">
&lt;div class="@NavMenuCssClass nav-scrollable"
  @onclick="ToggleNavMenu"&gt;
    &lt;nav class="flex-column"&gt;
<strong class="bold">...</strong>
<strong class="bold">        &lt;div class="nav-item px-3"&gt;</strong>
<strong class="bold">            &lt;NavLink class="nav-link" href="tasks"&gt;</strong>
<strong class="bold">                &lt;span class="oi oi-list-rich" aria-</strong>
<strong class="bold">                  hidden="true"&gt;&lt;/span&gt; Tasks</strong>
<strong class="bold">            &lt;/NavLink&gt;</strong>
<strong class="bold">        &lt;/div&gt;</strong>
    &lt;/nav&gt;
&lt;/div&gt;</pre></li>				<li>Run the application with <strong class="source-inline">dotnet run</strong> to make sure the new<a id="_idTextAnchor507"/> menu option appears and you can navigate to the n<a id="_idTextAnchor508"/>ew page with the <span class="No-Break"><strong class="bold">Tasks</strong></span><span class="No-Break"> header:</span></li>
			</ol>
			<div>
				<div id="_idContainer145" class="IMG---Figure">
					<img src="image/B20908_12_08.jpg" alt="Figure 12.8 – Navigating to the new Tasks page"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.8 – Navigating to the new Tasks page</p>
			<ol>
				<li value="7">Next, use <strong class="bold">File</strong> | <strong class="bold">New File</strong> at the root of the project and name the file <strong class="source-inline">TaskItem.cs</strong>. This will<a id="_idIndexMarker891"/> be the model class for tasks. Add the following code to the <span class="No-Break">new file:</span><pre class="source-code">
namespace BlazorTasks
{
    public class TaskItem
    {
        public string? Name { get; set; }
        public bool IsComplete { get; set; }
    }
}</pre></li>				<li>Open <strong class="source-inline">Tasks.razor</strong> and add the following code to create an unordered list of tasks b<a id="_idTextAnchor509"/>y iterating over a list of tasks contained in the <strong class="source-inline">@</strong><span class="No-Break"><strong class="source-inline">code</strong></span><span class="No-Break"> block:</span><pre class="source-code">
@page "/tasks"
&lt;h3&gt;Tasks&lt;/h3&gt;
<strong class="bold">&lt;ul&gt;</strong>
<strong class="bold">    @foreach (var task in taskList)</strong>
<strong class="bold">    {</strong>
<strong class="bold">        &lt;li&gt;@task.Name&lt;/li&gt;</strong>
<strong class="bold">    }</strong>
<strong class="bold">&lt;/ul&gt;</strong>
<strong class="bold">&lt;input placeholder="Enter new task..." /&gt;</strong>
<strong class="bold">&lt;button&gt;Add task&lt;/button&gt;</strong>
@code {
    <strong class="bold">private IList&lt;TaskItem&gt; taskList = new</strong>
<strong class="bold">      List&lt;TaskItem&gt;();</strong>
}</pre><p class="list-inset">Notice how Razor files allow you to blend C# code and HTML markup. We have a C# <strong class="source-inline">foreach</strong> within <strong class="source-inline">&lt;ul&gt;</strong>, and inside <strong class="source-inline">foreach</strong>, we’re adding <strong class="source-inline">&lt;li&gt;</strong> elements that again contain C# code to get each <strong class="source-inline">task.Name</strong>. This is powerful stuff. We’ve also added an <strong class="source-inline">input</strong> field to enter a new task and <a id="_idTextAnchor510"/>a <strong class="source-inline">button</strong> to add the task. We’ll add some <a id="_idIndexMarker892"/>code to make <strong class="source-inline">button</strong> <span class="No-Break">functional next.</span></p></li>				<li>Add a <strong class="source-inline">newTask</strong> private variable and a new method to the <strong class="source-inline">@code</strong> block named <strong class="source-inline">AddTask</strong>. This method will add a new task to the <span class="No-Break"><strong class="source-inline">taskList</strong></span><span class="No-Break"> collection:</span><pre class="source-code">
private string newTask;
private void AddTask()
{
    if (!string.IsNullOrWhiteSpace(newTask))
    {
        taskList.Add(new TaskItem { Name = newTask });
        newTask = string.Empty;
    }
}</pre></li>				<li>Finally, add some data binding code to the <strong class="source-inline">input</strong> and <strong class="source-inline">button</strong> elements on the page. The <strong class="source-inline">input</strong> will bind to the <strong class="source-inline">newTask</strong> variable, and the <strong class="source-inline">onclick</strong> event of <strong class="source-inline">button</strong> will trigger the <strong class="source-inline">AddTask</strong> method <span class="No-Break">to run:</span><pre class="source-code">
&lt;input placeholder="Enter new task..." <strong class="bold">@bind="newTask"</strong>
<strong class="bold"> </strong> /&gt;
&lt;button <strong class="bold">@onclick="AddTask"</strong>&gt;Add task&lt;/button&gt;</pre></li>				<li>Now, run the<a id="_idIndexMarker893"/> application and test the controls. You should be abl<a id="_idTextAnchor511"/>e to add some tasks to <span class="No-Break">the list:</span></li>
			</ol>
			<div>
				<div id="_idContainer146" class="IMG---Figure">
					<img src="image/B20908_12_09.jpg" alt="Figure 12.9 – Adding some tasks to the task list in ﻿BlazorTasks"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.9 – Adding some tasks to the task list in <a id="_idTextAnchor512"/>BlazorTasks</p>
			<p class="list-inset">This works great, but now that we have some tasks to do, we don’t have any way to mark them as done. Let’s take care of <span class="No-Break">that next.</span></p>
			<ol>
				<li value="12">The first <a id="_idIndexMarker894"/>step is to make each list item <strong class="source-inline">checkbox</strong> that users can check when they complete a task. We are also binding <strong class="source-inline">task.Name</strong> to an <strong class="source-inline">input</strong> field so users can edit the name of <span class="No-Break">each task:</span><pre class="source-code">
&lt;ul&gt;
    @foreach (var task in taskList)
    {
<strong class="bold">        &lt;li&gt;</strong>
<strong class="bold">            &lt;input type="checkbox"</strong>
<strong class="bold">              @bind="task.IsComplete" /&gt;</strong>
<strong class="bold">            &lt;input @bind="task.Name" /&gt;</strong>
<strong class="bold">        &lt;/li&gt;</strong>
    }
&lt;/ul&gt;</pre></li>				<li>Next, in case the list gets lengthy, let’s use some <a id="_idTextAnchor513"/>data binding to display the number of incomplete tasks as part of the <span class="No-Break">page header:</span><pre class="source-code">
&lt;h3&gt;Tasks <strong class="bold">- (@taskList.Count(task =&gt;</strong>
<strong class="bold">  !task.IsComplete)) Incomplete</strong>&lt;/h3&gt;</pre></li>				<li>Run the application again, and <a id="_idTextAnchor514"/>start working on your <span class="No-Break">task list:</span></li>
			</ol>
			<div>
				<div id="_idContainer147" class="IMG---Figure">
					<img src="image/B20908_12_010.jpg" alt="Figure 12.10 – Adding and completing tasks in the BlazorTasks application"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.10 – Adding and completing tasks in the BlazorTasks application</p>
			<p>Yo<a id="_idTextAnchor515"/>u may have <a id="_idIndexMarker895"/>noticed that the tasks do not save between sessions. The <strong class="source-inline">taskList</strong> is an in-memory collection for now. To persist it between sessions, you would need to add service calls to save the data in a server-side data store. Creating this service is beyond the scope of this chapter, and I will leave it as an exercise <span class="No-Break">for you.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">All of these steps can also be taken with Visual Studio or Visual Studio for Mac if you prefer using a full-featured IDE. This Microsoft Learn documentation page has information on how to debug a Blazor Wasm app in both of these tools, as well as VS <span class="No-Break">Code: </span><span class="No-Break">https://learn.microsoft.com/aspnet/core<a id="_idTextAnchor516"/>/blazor/debug</span><span class="No-Break">.</span></p>
			<p>Now that we have a functioning task-tracking web client, we can move on to the next step. It’s time to de<a id="_idTextAnchor517"/>ploy our Blazor app to <span class="No-Break">the cloud.</span></p>
			<h1 id="_idParaDest-246">Exploring Blazor Wasm deploy<a id="_idTextAnchor518"/>ment options</h1>
			<p>Running and debugging the Blazor project locally is great while we’re developing the solution, but when it’s time to share your application with the world, we will need to host it in the cloud. There are many cloud hosting options for typical ASP.NET Core applications, and Blazor Wasm applications have even more. Sites that run entirely on the client can be hosted as static files on the server, meaning that the server simply serves up the files when it receives a request. There is no server-side <span class="No-Break">execution required.</span></p>
			<p>Let’s start by reviewing some of the available hosting options fo<a id="_idTextAnchor519"/><a id="_idTextAnchor520"/>r Blazor <span class="No-Break">WebAssembly deployments.</span></p>
			<h2 id="_idParaDest-247">Deployment options for Blaz<a id="_idTextAnchor521"/>or Wasm projects<a id="_idTextAnchor522"/></h2>
			<p>There are <a id="_idIndexMarker896"/>several hosting options for our Blazor<a id="_idIndexMarker897"/> project. We are going to discuss <a id="_idIndexMarker898"/>a few of the most <a id="_idIndexMarker899"/>popular solutions today: <strong class="bold">GitHub Pages</strong>, <strong class="bold">Azure App Service</strong>, <strong class="bold">Azure Static Web Apps</strong>, and two <a id="_idIndexMarker900"/>options <a id="_idIndexMarker901"/>on <strong class="bold">Amazon Web Services</strong> (<strong class="bold">AWS</strong>). For an in-depth exploration of options either hosted with ASP.NET Core or as static files, Microsoft Learn has a great <span class="No-Break">article: </span><span class="No-Break">https://learn.microsoft.com/aspnet/core/blazor/host-and-deploy/webassembly</span><span class="No-Break">.</span></p>
			<h3>Amazon Web Services</h3>
			<p>With <a id="_idIndexMarker902"/>A<a id="_idTextAnchor523"/>WS, a Blazor<a id="_idIndexMarker903"/> Wasm site can be<a id="_idIndexMarker904"/> hosted with ASP.NET Core in <strong class="bold">Elastic Container Service</strong> (<strong class="bold">ECS</strong>) (<a href="https://aws.amazon.com/ecs/">https://aws.amazon.com/ecs/</a>) and <strong class="bold">Fargate</strong>. The<a id="_idIndexMarker905"/> ECS solution uses <strong class="bold">Docker</strong> <a id="_idTextAnchor524"/>to <a id="_idIndexMarker906"/>create the container to be hosted in the cloud. The site is then served through Fargat<a id="_idTextAnchor525"/>e (<a href="https://aws.amazon.com/fargate/">https://aws.amazon.com/fargate/</a>), the AWS compute engine for containers. To read more about this solution for ASP.NET Core projects, the AWS blog has a great article detailing the <span class="No-Break">steps: </span><a href="https://aws.amazon.com/blogs/compute/hosting-asp-net-core-applications-in-amazon-ecs-using-aws-fargate/"><span class="No-Break">https://aws.amazon.com/blogs/compute/hosting-asp-net-core-applications-in-amazon-ecs-using-aws-fargate/</span></a><span class="No-Break">.</span></p>
			<p><a id="_idTextAnchor526"/>For a static hosting option with AWS, static <a id="_idIndexMarker907"/>pages can be hosted<a id="_idIndexMarker908"/> using <strong class="bold">Amazon S3</strong> storage (<a href="https://aws.amazon.com/s3/">https://aws.amazon.com/s3/</a>) and <strong class="bold">CloudFront</strong> (<a id="_idTextAnchor527"/><a href="https://aws.amazon.com/cloudfront/">https://aws.amazon.com/cloudfront/</a>). An Amazon S3 bucket is a cloud file storage solution. Your <strong class="source-inline">wwwroot</strong> folder will be copied to S3 storage, and CloudFront handles serving the static files from the S3 bucket. This article details how to create and deploy a Blazor Wasm application in <span class="No-Break">AWS: </span><a href="https://aws.amazon.com/blogs/developer/run-blazor-based-net-web-applications-on-aws-serverless/"><span class="No-Break">https://aws.amazon.com/blogs/developer/run-blazor-based-net-web-applications-on-aws-serverless/</span></a><span class="No-Break">.</span></p>
			<p>Now, let’s see how to serve static files <span class="No-Break">through </span><span class="No-Break"><strong class="bold">GitHub</strong></span><span class="No-Break">.</span></p>
			<h3>GitHub Pages</h3>
			<p><strong class="bold">GitH<a id="_idTextAnchor528"/>ub Pages</strong> (<a href="https://pages.github.com/">https://pages.github.com/</a>) are <a id="_idIndexMarker909"/>static websites served directly from GitHub repositories. You <a id="_idIndexMarker910"/>can maintain your site on GitHub an<a id="_idTextAnchor529"/>d <a id="_idIndexMarker911"/>configure <strong class="bold">GitHub Actions</strong> to deploy the site to GitHub Pages. Microsoft MVP Niels Swimburghe has a<a id="_idIndexMarker912"/> step-by-step guide for deploying Blazor Wasm projects to GitHub Pages on his personal blog: https://swimburger.net/blog/dotnet/how-to-deploy-aspnet-blazor-webassembly-to-github-pages. GitHub Pages are free, but <em class="italic">standard</em> user accounts can only host pages from the <em class="italic">default</em> <span class="No-Break">GitHub branch.</span></p>
			<p>In the next section, we will be using GitHub Actions with our project to deploy to Azure. But now, let’s review two of the available Azure <span class="No-Break">hosting solutions.</span></p>
			<h3>Azure App Service</h3>
			<p><strong class="bold">Azure App Service</strong> (https://azure.micros<a id="_idTextAnchor530"/>oft.com/products/app-<a id="_idTextAnchor531"/>service/) is a great option to use if <a id="_idIndexMarker913"/>you want your <a id="_idIndexMarker914"/>Blazor app hosted on an ASP.NET Core web <a id="_idIndexMarker915"/>server. There are Windows and Linux servers available with App Service, but currently, only Windows instances are supported with Blazor WebAssembly apps. Microsoft Learn has extensive documentation on deploying ASP.NET Core applications to App <a id="_idIndexMarker916"/><span class="No-Break">Service: </span><a href="https://learn.microsoft.com/aspnet/core/host-and-deploy/azure-apps/"><span class="No-Break">https://learn.microsoft.com/aspnet/core/host-and-deploy/azure-apps/</span></a><span class="No-Break">.</span></p>
			<p>Now, let’s look at another Azure option. This one is specifically for deploying static sites such as <span class="No-Break">Blazor Wasm.</span></p>
			<h3>Azure Static Web Apps</h3>
			<p><strong class="bold">Azure Static Web Apps</strong> (<a href="https://azure.microsoft.com/products/app-service/static/">https://azure.microsoft.com/products/app-service/static/</a>) is a <a id="_idIndexMarker917"/>service to host and serve static web applications such as<a id="_idIndexMarker918"/> Blazor <a id="_idIndexMarker919"/>Wasm. It offers easy deployment through GitHub Actions, free SSL<a id="_idIndexMarker920"/> certificates, custom domains, and easy integration with <span class="No-Break"><strong class="bold">Azure Functions</strong></span><span class="No-Break">.</span></p>
			<p>For full documentation on Static Web Apps, including inf<a id="_idTextAnchor532"/>ormation about using it with other SPA websites, Microsoft Learn has documentation, guides, an<a id="_idTextAnchor533"/>d <strong class="bold">Training</strong> (<a href="https://learn.microsoft.com/training/">https://learn.microsoft.com/training/</a>) content <a id="_idIndexMarker921"/>available <span class="No-Break">at </span><a href="https://learn.microsoft.com/azure/static-web-apps/"><span class="No-Break">https://learn.microsoft.com/azure/static-web-apps/</span></a><span class="No-Break">.</span></p>
			<p>We are going to use Static <a id="_idTextAnchor534"/><a id="_idTextAnchor535"/>Web Apps to host our Blazor application. Let’s do <span class="No-Break">that now!</span></p>
			<h1 id="_idParaDest-248">Publishing Blazor to Az<a id="_idTextAnchor536"/>ure Static Web Apps hosting</h1>
			<p>In this section, we are<a id="_idIndexMarker922"/> going to host our <strong class="source-inline">BlazorTasks</strong> application in the cloud by pushing the source to GitHub, creating an Azure Static Web Apps app, and configuring GitHub Actions to publish the app to Azure with every commit to<a id="_idTextAnchor537"/><a id="_idTextAnchor538"/> the main branch. Let’s start by pushing our code <span class="No-Break">to GitHub.</span></p>
			<h2 id="_idParaDest-249"><a id="_idTextAnchor539"/>Pushing the project to GitHub</h2>
			<p>To push <a id="_idIndexMarker923"/>your code to a <a id="_idIndexMarker924"/>GitHub repository, you can either use the Git CLI (<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a>) or the <strong class="bold">GitHub Deskto<a id="_idTextAnchor540"/>p</strong> (<a href="https://desktop.github.com/">https://desktop.github.com/</a>) application. We will use GitHub Desktop in <span class="No-Break">this example:</span></p>
			<ol>
				<li>Download and install GitHub Desktop. When the installation is complete, launch <span class="No-Break">the application.</span></li>
				<li>If your local project is not part of a Git repository yet, choose <strong class="bold">File</strong> | <strong class="bold">New Repository</strong>. If you already have a loca<a id="_idTextAnchor541"/>l repository for your project, you can skip to the <span class="No-Break">next step:</span></li>
			</ol>
			<div>
				<div id="_idContainer148" class="IMG---Figure">
					<img src="image/B20908_12_011.jpg" alt="Figure 12.11 – Creating a new local GitHub repository for the BlazorTasks application"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.11 – Creating a new local GitHub repository for the BlazorTasks application</p>
			<p class="list-inset">Name the<a id="_idIndexMarker925"/> repository something like <strong class="source-inline">BlazorTasksWasm</strong> or <strong class="source-inline">BlazorTasks</strong>, optionally add a description, and browse to <strong class="bold">Local path</strong> for your project. It’s a good practice to have a README, a <strong class="bold">Git ignore</strong> file, and <strong class="bold">License</strong>. So, choose each of these options. When you’re done, click <strong class="bold">Create repository</strong>. After completing this step, move ahead to <span class="No-Break"><em class="italic">step 4</em></span><span class="No-Break">.</span></p>
			<ol>
				<li value="3">If you created your Blazor project in a local Git repository, you can select <strong class="bold">File</strong> | <strong class="bold">Add Local Repository</strong>. Browse to the folder where you have the <strong class="source-inline">BlazorTasks</strong> project and select it. If you do no<a id="_idTextAnchor542"/>t have a Git reposit<a id="_idTextAnchor543"/>ory there yet, the application will prompt you to <span class="No-Break">create one:</span></li>
			</ol>
			<div>
				<div id="_idContainer149" class="IMG---Figure">
					<img src="image/B20908_12_012.jpg" alt="Figure 12.12 – Adding a local repository"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.12 – Adding a local repository</p>
			<ol>
				<li value="4">In this<a id="_idIndexMarker926"/> step, we’ll publish the local repository to GitHub. If you don’t have a GitHub account, you can create one at <a href="https://github.com/">https://github.com/</a>. When you’re ready to go, make sure your <strong class="source-inline">BlazorTasksWasm</strong> repository is selected fo<a id="_idTextAnchor544"/>r <strong class="bold">Current repository</strong> and click the <strong class="bold">Publish </strong><span class="No-Break"><strong class="bold">repository</strong></span><span class="No-Break"> button:</span></li>
			</ol>
			<div>
				<div id="_idContainer150" class="IMG---Figure">
					<img src="image/B20908_12_013.jpg" alt="Figure 12.13 – Publishing the local repository to GitHub"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.13 – Publishing the local repository to GitHub</p>
			<p class="list-inset">If you <a id="_idIndexMarker927"/>have the <strong class="bold">Keep this code private</strong> <a id="_idTextAnchor545"/>option on the dialog that appears, you can <span class="No-Break">uncheck it.</span></p>
			<ol>
				<li value="5">View the repos<a id="_idTextAnchor546"/>itory on GitHub to make sure it has been <span class="No-Break">published correctly:</span></li>
			</ol>
			<div>
				<div id="_idContainer151" class="IMG---Figure">
					<img src="image/B20908_12_014.jpg" alt="Figure 12.14 – The BlazorTasks code on GitHub"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.14 – The BlazorTasks code on GitHub</p>
			<p>Now, th<a id="_idTextAnchor547"/><a id="_idTextAnchor548"/>e code is ready to be published to Azure. Let’s do <span class="No-Break">that next.</span></p>
			<h2 id="_idParaDest-250"><a id="_idTextAnchor549"/>Creating an Azure Static Web Apps resource</h2>
			<p>Let’s walk through<a id="_idIndexMarker928"/> creating a new Azure Static Web<a id="_idIndexMarker929"/> <span class="No-Break">Apps app:</span></p>
			<ol>
				<li>To start, if you don’t have an Azure account yet, you can create a free trial account at <a href="https://azure.microsoft.com/">https://azure.microsoft.com/</a>. The site will walk you through the steps to create a <span class="No-Break">new account.</span></li>
				<li>Log in to the Microsoft account associated with your Azure account <span class="No-Break">at </span><a href="https://portal.azure.com/"><span class="No-Break">https://portal.azure.com/</span></a><span class="No-Break">.</span></li>
				<li>From the portal home page, click <strong class="bold">Create a resource</strong> at the top under <span class="No-Break"><strong class="bold">Azure services</strong></span><span class="No-Break">.</span><a id="_idTextAnchor550"/></li>
				<li>On the <strong class="bold">New</strong> page, search for <strong class="source-inline">static</strong> and select <strong class="bold">Static </strong><span class="No-Break"><strong class="bold">Web App</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer152" class="IMG---Figure">
					<img src="image/B20908_12_015.jpg" alt="Figure 12.15 – Creating a new Static Web App"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.15 – Creating a new Static Web App</p>
			<ol>
				<li value="5">Click <strong class="bold">Create</strong>. On the <strong class="bold">Create Static Web App</strong> page, select your free trial subscription. You <a id="_idIndexMarker930"/>will also need to select a resource<a id="_idIndexMarker931"/> group. Resource groups are a way to group a related set of Azure resources. Create a new <strong class="bold">Resource Group</strong> and name it <strong class="source-inline">BlazorTasksWasm</strong>. Give the resource a name, select a <strong class="bold">Region</strong> option that makes sense for you or your users, and select the <strong class="bold">Free</strong> option for <strong class="bold">SKU</strong>. Choose <strong class="bold">GitHub<a id="_idTextAnchor551"/></strong> for <strong class="bold">Deployment details</strong>. We’ll link to GitHub in the <span class="No-Break">next step:</span></li>
			</ol>
			<div>
				<div id="_idContainer153" class="IMG---Figure">
					<img src="image/B20908_12_016.jpg" alt="Figure 12.16 – Configuring the new Static Web Apps resource"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.16 – Configuring the new Static Web Apps resource</p>
			<ol>
				<li value="6">Next, click <a id="_idIndexMarker932"/>the <strong class="bold">Si<a id="_idTextAnchor552"/>gn in with GitHub</strong> button to <a id="_idIndexMarker933"/>link your GitHub account. Linking the accounts is necessary for the GitHub files to be deployed to the Azure site. After it has linked your accounts, select the <strong class="bold">Organization</strong>, <strong class="bold">R<a id="_idTextAnchor553"/>epository</strong>, and <strong class="bold">Branch</strong> names for your <span class="No-Break"><strong class="source-inline">BlazorTasksWasm</strong></span><span class="No-Break"> repository:</span></li>
			</ol>
			<div>
				<div id="_idContainer154" class="IMG---Figure">
					<img src="image/B20908_12_017.jpg" alt="Figure 12.17 – Entering GitHub details for the Static Web Apps resource"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.17 – Entering GitHub details for the Static Web Apps resource</p>
			<ol>
				<li value="7">In the <strong class="bold">Build Details</strong> section, select <strong class="bold">Blazor</strong> from the <strong class="bold">Build Presents</strong> dropdown. <strong class="bold">App location</strong> will be <strong class="bold">.</strong> (<em class="italic">just a dot</em>), <strong class="bold">Api location</strong> can be left blank, a<a id="_idTextAnchor554"/>nd <strong class="bold">Output location</strong> will <span class="No-Break">be </span><span class="No-Break"><strong class="source-inline">wwwroot</strong></span><span class="No-Break">.</span></li>
				<li>Click <strong class="bold">Review + create</strong>. Review the <strong class="bold">Summary</strong> page to make sure everything looks correct and click <strong class="bold">Create</strong>. Azure will take a few minutes to create the new resource. When<a id="_idIndexMarker934"/> it’s done, you can <a id="_idIndexMarker935"/>click <strong class="bold">Go </strong><span class="No-Break"><strong class="bold">to resource</strong></span><span class="No-Break">.</span></li>
			</ol>
			<p>The Static Web Apps resource is ready to go. Azure created our GitHub Actions deploy<a id="_idTextAnchor555"/><a id="_idTextAnchor556"/>ment for us. Let’s review what it did and then review <span class="No-Break">the website.</span></p>
			<h2 id="_idParaDest-251">Publishing an<a id="_idTextAnchor557"/> application with GitHub Actions</h2>
			<p>Typically, this is<a id="_idIndexMarker936"/> where we would configure GitHub Actions to build our project in the GitHub repository and publish it to the Azure resource. However, the Azure Static Web App configuration took care of that step for us. Let’s review what <span class="No-Break">it did:</span></p>
			<ol>
				<li>Navigate to your project on GitHub and click the <strong class="bold">Actions</strong> tab. You will see th<a id="_idTextAnchor558"/>at Azure has created a workflow named <strong class="bold">Azure Static Web </strong><span class="No-Break"><strong class="bold">Apps CI/CD</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer155" class="IMG---Figure">
					<img src="image/B20908_12_018.jpg" alt="Figure 12.18 – Viewing the workflows for BlazorTasks"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.18 – Viewing the workflows for BlazorTasks</p>
			<ol>
				<li value="2">Select the <strong class="bold">Azure Static Web Apps CI/CD</strong> workflow and click the <strong class="source-inline">.yml</strong> file hyperlink that appears just under the <strong class="bold">Azure Static Web Apps CI/CD</strong> title. The <strong class="source-inline">.yml</strong> file will appear in <span class="No-Break">an editor.</span></li>
				<li>Review the file contents. You’ll see a section for <strong class="source-inline">build_and_deploy_job</strong>. This step will take the latest committed code, build it, and deploy it to the app service that we configured <span class="No-Break">in Azure.</span></li>
				<li>You can verify<a id="_idIndexMarker937"/> that the site has been published to Azure by navigating to the <strong class="source-inline">BlazorTasksWasm</strong> <a id="_idTextAnchor559"/>resource in the Azure portal and clicking on the URL for <span class="No-Break">the site:</span></li>
			</ol>
			<div>
				<div id="_idContainer156" class="IMG---Figure">
					<img src="image/B20908_12_019.jpg" alt="Figure 12.19 – The BlazorTasks res﻿ource home page in the Azure portal"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.19 – The BlazorTasks res<a id="_idTextAnchor560"/>ource home page in the Azure portal</p>
			<ol>
				<li value="5">The Blazor site will open in a new tab in your browser. Click the <strong class="bold">Tasks</strong> item in the n<a id="_idTextAnchor561"/>avigation menu and verify that the application works <span class="No-Break">as expected:</span></li>
			</ol>
			<div>
				<div id="_idContainer157" class="IMG---Figure">
					<img src="image/B20908_12_020.jpg" alt="Figure 12.20 – Running BlazorTasks in the static cloud"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.20 – Running BlazorTasks in the static cloud</p>
			<p>We now have a <a id="_idIndexMarker938"/>public-facing static website running the Blazor Wasm application. N<a id="_idTextAnchor562"/>ow, we’re ready to run the web application inside a <span class="No-Break">WinUI project.</span></p>
			<h1 id="_idParaDest-252">Host<a id="_idTextAnchor563"/>ing your Blazor application in the WinUI WebView2</h1>
			<p>We’re on the home stretch. We<a id="_idIndexMarker939"/> created a Blazor Wasm <a id="_idIndexMarker940"/>application, pushed the source code to GitHub, and Azure configured GitHub Actions to publish the application to Azure Static Web Apps with every commit. The last step is to create a simple WinUI 3 project and add a <strong class="source-inline">WebView2</strong> control <span class="No-Break">to </span><span class="No-Break"><strong class="bold">MainWindow</strong></span><span class="No-Break">:</span></p>
			<ol>
				<li>You can start by either creating a new <strong class="bold">Blank App, Packaged (WinUI in Desktop)</strong> named <strong class="source-inline">BlazorTasksHost</strong> in Visual Studio or opening the starter project from <span class="No-Break">GitHub: </span><a href="https://github.com/PacktPublishing/-Learn-WinUI-3/tree/master/Chapter12/Start/BlazorTasksHost"><span class="No-Break">https://github.com/PacktPublishing/-Learn-WinUI-3/tree/master/Chapter12/Start/BlazorTasksHost</span></a><span class="No-Break">.</span></li>
				<li>Open <strong class="source-inline">MainWindow.xaml</strong> and update the window to host <strong class="source-inline">Grid</strong> that contains the <strong class="source-inline">WebView2</strong> control. Set the <strong class="source-inline">Source</strong> property to the URL of your <span class="No-Break"><strong class="source-inline">BlazorTasksWasm</strong></span><span class="No-Break"> site:</span><pre class="source-code">
&lt;Grid&gt;
    &lt;WebView2 Source="https://you-custom-url-
      0af06780d.azurestaticapps.net/"/&gt;
&lt;/Grid&gt;</pre></li>				<li>Remove <a id="_idIndexMarker941"/>the unused button <a id="_idIndexMarker942"/>click event handler in <strong class="source-inline">MainWindow.xaml.cs</strong> to prevent <span class="No-Break">compilation errors.</span></li>
				<li>Run the application, and you’ll see the <a id="_idTextAnchor564"/><strong class="source-inline">BlazorTasksWasm</strong> application load as if it were a <span class="No-Break">Windows application:</span></li>
			</ol>
			<p class="IMG---Figure"><img src="image/B20908_12_021.png" alt="Figure 12.21 – Running BlazorTasksWasm in a WinUI application"/></p>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.21 – Running BlazorTasksWasm in a WinUI application</p>
			<p class="list-inset">You can test the app in the web view. Because it’s all client-side code, you can even disconnect from your network and keep using the app. <a id="_idTextAnchor565"/>The <strong class="bold">Tasks</strong> page will continue to <span class="No-Break">function offline.</span></p>
			<p>Now, any <a id="_idIndexMarker943"/>updates you make to the Blazor <a id="_idIndexMarker944"/>application will be immediately pushed to all your users when you commit to GitHub. This is a compelling way for web<a id="_idIndexMarker945"/> developers <a id="_idIndexMarker946"/>to reach more <span class="No-Break">Windows users.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">If you would like to explore Blazor and WinUI integration further, you can check out this blog post by Thomas Claudius Huber. In the post, he experiments with calling a method in the Blazor app from the WinUI host application by executing a script through the <strong class="source-inline">WebView2</strong> <span class="No-Break">control: </span><a href="https://www.thomasclaudiushuber.com/2020/02/18/hosting-blazor-app-in-winui-3-with-webview-2-and-call-blazor-component-method-from-winui/"><span class="No-Break">https://www.thomasclaudiushuber.com/2020/02/18/hosting-blazor-app-in-winui-3-with-webview-2-and-call-blazor-component-method-from-winui/</span></a><span class="No-Break">.</span></p>
			<p>Let’s wrap up with a summary of what we’ve covered in <span class="No-Break">this chapter.</span></p>
			<h1 id="_idParaDest-253"><a id="_idTextAnchor566"/>Summary</h1>
			<p>In this chapter, we learned about ASP.NET Core Blazor. You created a simple task-tracking application with Blazor Wasm and published it to Azure Static Web Apps with GitHub Actions. From here, you could use ASP.NET Core Identity to integrate an application login and save the task data to <strong class="bold">Azure SQL</strong>, <strong class="bold">Azure Cosmos DB</strong>, or another cloud-based data store. This would allow personalizing the task list for each user and saving its state. We created a WinUI 3 application to run the Blazor client on Windows, but you could also send users directly to your site or create a JavaScript-based PWA for desktop and mobile clients. For more information about creating a PWA with Blazor WASM, check out this Microsoft blog <span class="No-Break">post: </span><a href="https://devblogs.microsoft.com/visualstudio/building-a-progressive-web-app-with-blazor/"><span class="No-Break">https://devblogs.microsoft.com/visualstudio/building-a-progressive-web-app-with-blazor/</span></a><span class="No-Break">.</span></p>
			<p class="callout-heading">Note </p>
			<p class="callout">To learn more about building web applications with Blazor, you can read <em class="italic">Web Development with Blazor</em> by Jimmy Engstrom. Here’s the Amazon <span class="No-Break">link: </span><a href="https://www.amazon.com/dp/1803241497/"><span class="No-Break">https://www.amazon.com/dp/1803241497/</span></a></p>
			<p>In the next chapter, <a href="B20908_13.xhtml#_idTextAnchor570"><span class="No-Break"><em class="italic">Chapter 13</em></span></a>, <em class="italic">Take Your App Cross-Platform with Uno<a id="_idTextAnchor567"/><a id="_idTextAnchor568"/> Platform</em>, we will explore what <strong class="bold">Uno Platform</strong> can do for <span class="No-Break">WinUI developers.</span></p>
			<h1 id="_idParaDest-254"><a id="_idTextAnchor569"/>Questions</h1>
			<ol>
				<li>What is the name of the Blazor hosting model in .NET 7 and earlier that runs all application logic in <span class="No-Break">the browser?</span></li>
				<li>Which Blazor hosting model is <span class="No-Break">less scalable?</span></li>
				<li>What is the name of the syntax used in Blazor <span class="No-Break">UI files?</span></li>
				<li>Which .NET CLI command will compile and run the project in the <span class="No-Break">current folder?</span></li>
				<li>What is the name of GitHub’s product that hosts <span class="No-Break">static websites?</span></li>
				<li>Which Azure product hosts <span class="No-Break">static websites?</span></li>
				<li>What WinUI 3 control can load web content in a Chromium-based <span class="No-Break">browser control?</span></li>
				<li>What is the name of GitHub’s <strong class="bold">Continuous Integration/Continuous Delivery</strong> (<span class="No-Break"><strong class="bold">CI/CD</strong></span><span class="No-Break">) solution?</span></li>
			</ol>
		</div>
	</body></html>